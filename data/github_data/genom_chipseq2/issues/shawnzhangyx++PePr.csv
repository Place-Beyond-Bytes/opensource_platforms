id,title,state,created_at,updated_at,closed_at,body,user,url
MDU6SXNzdWUzNjIzMTgwMQ==,"Bug fix and improvement as of June 21, 2014",CLOSED,2014-06-21T20:56:38Z,2016-04-17T19:18:46Z,2016-04-17T19:18:46Z,"1. Need to add error handlers for (1) no file format specified (2) no peaks called (3) only has one replicate. 
2. change the debug log file name method so that it can save to different files for jobs starting at the same time. 
3. put PePr.py in the install script. 
",shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/1
MDU6SXNzdWUzOTAzNTQ0MQ==,"bug report as of july 29, 2014",CLOSED,2014-07-29T21:08:27Z,2014-08-22T18:39:35Z,2014-08-22T18:39:35Z,"- add error message when user only specify one sample for each group 
- overflow in window size estimation. the boundary index error. 
",shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/2
MDU6SXNzdWU0MDA3ODA3NQ==,add support for the same input files to be used for both chip groups,CLOSED,2014-08-12T17:22:41Z,2015-03-15T19:51:04Z,2015-03-15T19:51:04Z,,shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/3
MDU6SXNzdWU0NDYxMTUzOQ==,the sam file parser for bitwise flag is wrong. ,CLOSED,2014-10-01T19:58:10Z,2016-04-17T19:18:57Z,2016-04-17T19:18:57Z,"fix it. 
",shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/4
MDU6SXNzdWU0NjQzNjg3OQ==,postprocessing issue,CLOSED,2014-10-21T19:54:06Z,2015-03-15T19:51:43Z,2015-03-15T19:51:43Z,"1. the read assignment is wrong. look at the post-process.py
2. the 3-tag monopoly isn't behaving as I expected, needs to change it to 1 tag, or 2 tag, and increase the removing threshold. 
",shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/5
MDU6SXNzdWU2NjcxNDA4Mw==,numpy/scipy versions,CLOSED,2015-04-06T21:49:48Z,2015-04-21T01:46:27Z,2015-04-21T01:46:27Z,"Hi, 

Can you describe why older, specific versions of numpy==1.6.0 and scipy==0.14.0 are required? 

Long story short: the reason I ask is that I usually use [Anaconda](http://continuum.io/downloads) to create virtual environments on our cluster, but this combination of versions is not supported, e.g., 

```
conda install -n pepr-env numpy=1.6 scipy=0.14.0
Fetching package metadata: ..
Solving package specifications: ..
Error: Unsatisfiable package specifications.
Generating hint: 
[      COMPLETE      ] |################################################################################################| 100%


Hint: the following combinations of packages create a conflict with the
remaining packages:
  - scipy 0.14|0.14.0*
  - numpy 1.6*
```
",daler,https://github.com/shawnzhangyx/PePr/issues/6
MDU6SXNzdWU2NzIwNjcxNQ==,add an error handler ,CLOSED,2015-04-08T19:57:39Z,2016-04-17T19:28:20Z,2016-04-17T19:28:20Z,"as said in the title. add an error handler if any of the input1/2 samples are not specified. 
",shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/7
MDU6SXNzdWUxMjQ4OTY5NzY=,add support for paired-end reads,CLOSED,2016-01-05T05:07:53Z,2016-05-31T19:06:56Z,2016-05-31T19:06:55Z,,shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/8
MDU6SXNzdWUxMjg4NDQxMjc=,Modify setup.py a bit,CLOSED,2016-01-26T14:55:21Z,2016-06-27T16:37:57Z,2016-06-27T16:37:57Z,"Hi, thanks for the software, I had some suggestions to make installation a bit easier.

When I have setuptools installed it will try to build these packages as eggs rather than directories and that makes finding PePr.py a bit hard. 

I modified my forked version to create an ""entry_point"" that calls a new wrapper function in PePy.py and setuptools will put the script PePr in your bin directory.

If you are interested I can Pull Request this change.

I'd also suggest tagging a release so it is easier to download a specific tarball.

Thanks again!
",rjeschmi,https://github.com/shawnzhangyx/PePr/issues/9
MDU6SXNzdWUxMzI1MTExNTE=,Feature Addition: Output directory parameter,CLOSED,2016-02-09T19:33:07Z,2016-04-17T19:27:57Z,2016-04-17T19:27:57Z,"It would be convenient for users to specify an `--out_dir` parameter instead of having to `cd` into the desired output directory and then run PePr.
",rcavalcante,https://github.com/shawnzhangyx/PePr/issues/11
MDU6SXNzdWUxMzkzMTU0Mjc=,q-value greater than 1.,CLOSED,2016-03-08T16:00:20Z,2016-04-17T19:19:09Z,2016-04-17T19:19:09Z,"Should put a cap on the maximum q-value, which should not be greater than 1. 
",shawnzhangyx,https://github.com/shawnzhangyx/PePr/issues/12
MDU6SXNzdWUxNTE4NDIyMjA=,website is unsafe,CLOSED,2016-04-29T11:04:24Z,2016-06-02T18:04:26Z,2016-06-02T18:04:26Z,"When I try to follow the link to the [wiki](https://ones.ccmb.med.umich.edu/wiki/PePr/) using firefox, I get ""The owner of ones.ccmb.med.umich.edu has configured their website improperly. To protect your information from being stolen, Firefox has not connected to this website.
Advanced info: ssl_error_no_cypher_overlap"" and if I insist, firefox says: ""ones.ccmb.med.umich.edu uses security technology that is outdated and vulnerable to attack. An attacker could easily reveal information which you thought to be safe."" Maybe something to look into (maybe particular to firefox,  chrome and safari are fine with it ...)
",plijnzaad,https://github.com/shawnzhangyx/PePr/issues/13
MDU6SXNzdWUxNTgyNTM5NTA=,Galaxy wrapper for PePr,OPEN,2016-06-02T22:28:22Z,2016-06-28T00:33:31Z,,"Hi,
Are there any plans to develop a Galaxy (usegalaxy.org) wrapper for PePr?

Thank you in advance.

Best wishes,

Mic
",mictadlo,https://github.com/shawnzhangyx/PePr/issues/14
MDU6SXNzdWUxNjA0NTQ3Njg=,Remove chip1 / chip2 intersecting regions,OPEN,2016-06-15T15:40:15Z,2016-06-27T16:37:35Z,,"I've observed that chip1 peaks and chip2 peaks can overlap a little bit at the edges. We've discussed how that comes from the windowing approach, but would it be possible to add a post-processing step that removes the regions that are in the intersection of chip1 and chip2 peaks from both of the results files?
",rcavalcante,https://github.com/shawnzhangyx/PePr/issues/16
MDU6SXNzdWUxNjIwNDEzNjQ=,chip3 and input3 parameters adding,CLOSED,2016-06-23T22:53:37Z,2016-10-08T05:48:58Z,2016-10-08T05:48:58Z,"Hi,
I have 3 replicates and I used 7 different antibodies. Furthermore, each replicate contains C(1-7) and CL(1-7) datasets. CL(1-7) has been treated with chemicals whereas C(1-7) was not treated. 

![Imgur](http://i.imgur.com/JRRwVq6.png)

I think, I need chip3 and input3 parameters in order to do my analyse my data. Could you please add chip3 and input3 parameters?

Thank you in advance.

Best wishes,

Mic
",mictadlo,https://github.com/shawnzhangyx/PePr/issues/17
MDU6SXNzdWUxNjIxMDc3MzU=,ValueError: negative dimensions are not allowed,CLOSED,2016-06-24T09:18:12Z,2016-06-28T09:38:40Z,2016-06-28T09:38:40Z,"Hi,
I run PePr with the following command:

```
 PePr -c  0002-queryname.bam,0018-queryname.bam,0035-queryname.bam -i 0007-queryname.bam,0022-queryname.bam,0039-queryname.bam --chip2 0010-queryname.bam,0025-queryname.bam,0042-queryname.bam --input2 0015-queryname.bam,0029-queryname.bam,0047-queryname.bam -f bampe --diff
```

and I received the following error:

```
 ...
JHQJ01007345.1:15727 | JHQJ01009046.1:9097 | JHQJ01008539.1:11097 | JHQJ01020837.1:201 |    JHQJ01009826.1:385 | JHQJ01012575.1:508 | JHQJ01017636.1:1472 | JHQJ01016551.1:1327 | JHQJ01006218.1:19351
INFO   root 06/24/2016 01:56:46 PM | Read length: 40|40|40|40|40|40|40|40|40|40|40|40
INFO   root 06/24/2016 01:56:46 PM | begin estimating window size
3953510
INFO   root 06/24/2016 05:19:04 PM | Estimated window size is 260
INFO   root 06/24/2016 05:19:04 PM | calculating normalization constants
3953510
8252390
6286016
10,000,000 lines processed in 0010-queryname.bam
11323490
10,000,000 lines processed in 0025-queryname.bam
10181318
5666186
1410602
6547948
4790668
10,000,000 lines processed in 0015-queryname.bam
20,000,000 lines processed in 0015-queryname.bam
23966748
5532420
4029448
INFO   root 06/24/2016 05:24:44 PM | printing running parameters:


#filetype       filename        shift_size      normalization_factor
chip1   0002-queryname.bam      0       1.27370117128
chip1   0018-queryname.bam      0       0.981914242417
chip1   0035-queryname.bam      0       1.44472012197
chip2   0010-queryname.bam      0       0.739728603872
chip2   0025-queryname.bam      0       0.81565284317
chip2   0042-queryname.bam      0       1.26934968745
input1  0007-queryname.bam      0       6.23122997967
input1  0022-queryname.bam      0       1.16748641832
input1  0039-queryname.bam      0       1.63285276762
input2  0015-queryname.bam      0       0.311505978138
input2  0029-queryname.bam      0       1.38645772116
input2  0047-queryname.bam      0       1.93256393057
file-format     bampe
peaktype        broad
windowsize      260
difftest        True
threshold       1e-05
normalization   inter-group
name    NA
num-processors  1

INFO   root 06/24/2016 05:24:44 PM | processing 0002-queryname.bam
Traceback (most recent call last):
  File ""/usr/local/bin/PePr"", line 9, in <module>
load_entry_point('PePr==1.1.11', 'console_scripts', 'PePr')()
  File ""/usr/local/lib/python2.7/dist-packages/PePr/PePr.py"", line 27, in argless_main
main(sys.argv)
  File ""/usr/local/lib/python2.7/dist-packages/PePr/PePr.py"", line 41, in main
prepareData.read_files_to_arrays(parameter)
  File ""/usr/local/lib/python2.7/dist-packages/PePr/prepareData.py"", line 147, in read_files_to_arrays
parameter.array_dict[filename] = read_file_to_array(filename, parameter)
  File ""/usr/local/lib/python2.7/dist-packages/PePr/prepareData.py"", line 111, in read_file_to_array
data_dict[chr] = numpy.zeros(row_num, dtype=numpy.float64)
ValueError: negative dimensions are not allowed
```

Did I do anything wrong?

Thank you in advance.

Best wishes,

Mic
",mictadlo,https://github.com/shawnzhangyx/PePr/issues/18
MDU6SXNzdWUxNjQ3MDI0MjQ=,ImportError: No module named PePr,CLOSED,2016-07-10T06:37:37Z,2016-10-08T05:49:12Z,2016-10-08T05:49:12Z,"Hi, 

I upgraded PePr to 1.1.12 then I failed loading the package...

``` bash
pip install PePr
Requirement already satisfied (use --upgrade to upgrade): scipy>=0.14.0 in /lib/python2.7/site-packages (from PePr)
Requirement already satisfied (use --upgrade to upgrade): sharedmem in /lib/python2.7/site-packages (from PePr)
Requirement already satisfied (use --upgrade to upgrade): pysam in /lib/python2.7/site-packages (from PePr)
Requirement already satisfied (use --upgrade to upgrade): numpy>=1.6.0 in /lib/python2.7/site-packages (from PePr)
Installing collected packages: PePr
Successfully installed PePr-1.1.12
```

There is PePr in my bin folder but when I run `PePr --version`

``` bash
Traceback (most recent call last):
  File ""/bin/PePr"", line 7, in <module>
    from PePr.PePr import argless_main
ImportError: No module named PePr
```

I checked the PePr package path and it is in my $PYTHONPATH so I have no clue why this happened...

Thanks in advance. 
",AlicePsyche,https://github.com/shawnzhangyx/PePr/issues/19
MDU6SXNzdWUxNjc2Mjk2ODk=,PePr differential binding analysis killed,CLOSED,2016-07-26T15:00:24Z,2016-10-08T05:49:28Z,2016-10-08T05:49:28Z,"I am new to PePr and I am running the following command in my Ubuntu for differential binding analysis:
python PePr.py -c H3K27ac_1_diseased_heart_mm9_sorted.bam,H3K27ac_2_diseased_heart_mm9_sorted.bam -i Input_1_diseased_heart_mm9_sorted.bam,Input_2_diseased_heart_mm9_sorted.bam --chip2 H3K27ac_1_Normal_heart_mm9_sorted.bam,H3K27ac_2_Normal_heart_mm9_sorted.bam,H3K27ac_3_Normal_heart_mm9_sorted.bam --input2 Input_1_Normal_heart_mm9_sorted.bam,Input_2_Normal_heart_mm9_sorted.bam,Input_3_Normal_heart_mm9_sorted.bam -f bam --diff --normalization intra-group --keep-max-dup 1 --name H3K27ac_heart_diseased_vs_Normal 
Everything went fine with estimation of shift size and normalization constants. Then it said Begin differential binding analysis and then killed. I did not stop it myself and I dont understand why the process got killed by itself. Can you guide me what could be the problem? 
[H3K27ac_heart_diseased_vs_Normal__PePr_parameters.txt](https://github.com/shawnzhangyx/PePr/files/384107/H3K27ac_heart_diseased_vs_Normal__PePr_parameters.txt)
",nam10san,https://github.com/shawnzhangyx/PePr/issues/20
MDU6SXNzdWUxNjc2NjExODA=,ATAC-seq/DNase-seq Analysis,OPEN,2016-07-26T17:10:08Z,2019-08-04T23:13:42Z,,"Is there a way to run PePr without specifying input files, as is the case for analyzing ATAC-seq/DNase-seq data?
",robertamezquita,https://github.com/shawnzhangyx/PePr/issues/21
MDU6SXNzdWUxNjc2OTE1MTA=,"Chromosome names require leading ""chr""",CLOSED,2016-07-26T19:31:17Z,2016-10-08T05:48:30Z,2016-10-08T05:48:30Z,"In using the Ensembl reference for alignment, which only uses numbers + X/Y for chromosomes, it seems that in the prepare_data_peak_calling routine, that the program is crashing on the first read when there is no leading ""chr"".  Here's the relevant traceback:

```
INFO   root 07/26/2016 01:36:15 PM | Begin peak-calling
Traceback (most recent call last):
  File ""/home/ra364/.local/bin/PePr"", line 11, in <module>
    sys.exit(argless_main())
  File ""/home/ra364/.local/lib/python2.7/site-packages/PePr/PePr.py"", line 27, in argless_main
SDIRmain(sys.argv)
PRFile ""/home/ra364/.local/lib/python2.7/site-packages/PePr/PePr.py"", line 42, in main
    read_dict = prepareData.prepare_data(parameter)
  File ""/home/ra364/.local/lib/python2.7/site-packages/PePr/prepareData.py"", line 261, in prepare_data
    read_dict = prepare_data_peak_calling(parameter)
  File ""/home/ra364/.local/lib/python2.7/site-packages/PePr/prepareData.py"", line 173, in prepare_data_peak_calling
    data_dict[chr] = numpy.column_stack((data_dict[chr], parameter.array_dict[filename][chr]))
KeyError: '1'
```
",robertamezquita,https://github.com/shawnzhangyx/PePr/issues/22
MDU6SXNzdWUxNzg0NzA0OTU=,chrY error,CLOSED,2016-09-21T21:45:45Z,2016-09-23T13:31:13Z,2016-09-23T13:31:13Z,"I'm getting this error

```
Traceback (most recent call last):
  File ""/nethome/wliao/tools/PePr/bin/PePr"", line 9, in <module>
    load_entry_point('PePr==1.1.14', 'console_scripts', 'PePr')()
  File ""build/bdist.linux-x86_64/egg/PePr/PePr.py"", line 27, in argless_main
  File ""build/bdist.linux-x86_64/egg/PePr/PePr.py"", line 42, in main
  File ""build/bdist.linux-x86_64/egg/PePr/prepareData.py"", line 263, in prepare_data
  File ""build/bdist.linux-x86_64/egg/PePr/prepareData.py"", line 233, in prepare_data_diff_binding
KeyError: 'chrY'
```

I suppose I can get around it by excluding chrY reads from my BAMs? is there another way like an exclude chromosome flag?
",will-NYGC,https://github.com/shawnzhangyx/PePr/issues/23
MDU6SXNzdWUxOTk5ODQ5NTc=,bioconda release,CLOSED,2017-01-11T02:02:56Z,2017-03-09T03:05:01Z,2017-03-09T03:05:01Z,Hi - I have been using pepr with good results and am curious if you will be updating the bioconda recipe with a newer release or if your preferred mechanism is through pypi. I'm good either way but am using the bioconda recipe for new VM builds currently.,jasper1918,https://github.com/shawnzhangyx/PePr/issues/24
MDU6SXNzdWUyMTk3NTcxMDA=,libhts.so.1 import error,CLOSED,2017-04-06T00:55:25Z,2017-05-15T17:08:01Z,2017-05-15T17:08:01Z,"I tried installing both with pip and conda, and both with python 3 and python 2. I get this same error.


```
balter@:/mnt/scratch/bcore/balter$ conda install pepr
Fetching package metadata .................
Solving package specifications: .

Package plan for installation in environment /home/Applications/conda:

The following NEW packages will be INSTALLED:

    pepr: 1.1.18-py35_0 bioconda

Proceed ([y]/n)? y

balter@:/mnt/scratch/bcore/balter$ PePr -h
Traceback (most recent call last):
  File ""/home/Applications/conda/bin/PePr"", line 4, in <module>
    import PePr.PePr
  File ""/home/Applications/conda/lib/python3.5/site-packages/PePr-1.1.18-py3.5.egg/PePr/PePr.py"", line 12, in <module>
  File ""/home/Applications/conda/lib/python3.5/site-packages/PePr-1.1.18-py3.5.egg/PePr/optParser.py"", line 3, in <module>
  File ""/home/Applications/conda/lib/python3.5/site-packages/PePr-1.1.18-py3.5.egg/PePr/classDef.py"", line 4, in <module>
  File ""/home/Applications/conda/lib/python3.5/site-packages/pysam/__init__.py"", line 5, in <module>
    from pysam.libchtslib import *
ImportError: libhts.so.1: cannot open shared object file: No such file or directory
balter@:/mnt/scratch/bcore/balter$ PePr --version
Traceback (most recent call last):
  File ""/home/Applications/conda/bin/PePr"", line 4, in <module>
    import PePr.PePr
  File ""/home/Applications/conda/lib/python3.5/site-packages/PePr-1.1.18-py3.5.egg/PePr/PePr.py"", line 12, in <module>
  File ""/home/Applications/conda/lib/python3.5/site-packages/PePr-1.1.18-py3.5.egg/PePr/optParser.py"", line 3, in <module>
  File ""/home/Applications/conda/lib/python3.5/site-packages/PePr-1.1.18-py3.5.egg/PePr/classDef.py"", line 4, in <module>
  File ""/home/Applications/conda/lib/python3.5/site-packages/pysam/__init__.py"", line 5, in <module>
    from pysam.libchtslib import *
ImportError: libhts.so.1: cannot open shared object file: No such file or directory 
```",abalter,https://github.com/shawnzhangyx/PePr/issues/25
MDU6SXNzdWUyMjEwNTI5NTY=,Error during peak-calling (KeyError),CLOSED,2017-04-11T19:17:26Z,2017-04-13T16:39:57Z,2017-04-13T16:39:57Z,"```
INFO   root 04/11/2017 02:12:51 PM | Begin peak-calling
Traceback (most recent call last):
  File ""/usr/local/anaconda2/bin/PePr"", line 11, in <module>
    sys.exit(argless_main())
  File ""/usr/local/anaconda2/lib/python2.7/site-packages/PePr/PePr.py"", line 27, in argless_main
    main(sys.argv)
  File ""/usr/local/anaconda2/lib/python2.7/site-packages/PePr/PePr.py"", line 42, in main
    read_dict = prepareData.prepare_data(parameter)
  File ""/usr/local/anaconda2/lib/python2.7/site-packages/PePr/prepareData.py"", line 262, in prepare_data
    read_dict = prepare_data_peak_calling(parameter)
  File ""/usr/local/anaconda2/lib/python2.7/site-packages/PePr/prepareData.py"", line 170, in prepare_data_peak_calling
    data_dict[chr] = parameter.array_dict[filename][chr]
KeyError: 'chrUn_KI270748v1'
```

Not sure what to make of this. Does PePr only work for typical chromosome names? (chr1, chr2, etc) or is this another issue?",c-guzman,https://github.com/shawnzhangyx/PePr/issues/26
MDU6SXNzdWUyNDIyMzc2NTc=,KeyError in post_process_PePr.py,CLOSED,2017-07-12T02:23:00Z,2017-07-14T02:49:08Z,2017-07-14T02:49:08Z,"Hi,

I have encountered a KeyError while running PePr-postprocess (traceback is shown below). I think it may be due to lack of forward or reverse-strand alignments for certain contigs (e.g. in cases where single-end ChIP-seq was used). Is there a way to recover from this error, such as leave the current peak as it is and let the post-processing move on to the next peak?

Traceback (most recent call last):
  File ""/home/alison/bin/PePr-postprocess"", line 9, in <module>
    load_entry_point('PePr==1.1.18', 'console_scripts', 'PePr-postprocess')()
  File ""/home/alison/lib/python2.7/site-packages/PePr/post_processing/post_process_PePr.py"", line 265, in post_processing_module
    main(sys.argv)
  File ""/home/alison/lib/python2.7/site-packages/PePr/post_processing/post_process_PePr.py"", line 117, in main
    post_processing(readData,file_in,file_passed,file_failed, opt.remove_artefacts, opt.narrow_peak)
  File ""/home/alison/lib/python2.7/site-packages/PePr/post_processing/post_process_PePr.py"", line 137, in post_processing
    narrow_peak, remove_artefacts)
  File ""/home/alison/lib/python2.7/site-packages/PePr/post_processing/post_process_PePr.py"", line 190, in post_processing_per_peak
    forward = strands_dict[input][chr]['f']
KeyError: '<contig>'

Thank you for reviewing this issue.
-A",alacrity8,https://github.com/shawnzhangyx/PePr/issues/27
MDU6SXNzdWUyNDU0MjU2ODg=,Running PePr with Input and IgG controls,CLOSED,2017-07-25T14:44:09Z,2018-04-09T16:00:27Z,2018-04-09T16:00:27Z,"Is it possible to run PePr with two controls simultaneously?
We have an time-course Experiment with an Ip and both input and IgG samples for each time point. Is it possible to run the peak calling for both tools with one run?

If so - are these the `input1` and `input2` parameters?
How will the normalisation than work, when I have ""three conditions""?
thanks",yeroslaviz,https://github.com/shawnzhangyx/PePr/issues/28
MDU6SXNzdWUyNTEzMjk0MTE=,Help needed ,CLOSED,2017-08-18T18:52:36Z,2017-08-18T21:57:07Z,2017-08-18T21:57:07Z,"Hi Shawn.

Thank you for your nice program.
I got the below error message while I was running my samples using PePr (ver. 1.1.18).
By looking at the code and error message above, I assume it is caused by the missing chrY alignments in the input. I check the BAM header of input and it had ""chrY"".

Can you fix the code so that the this problem goes away? Or suggest to me any work around?

....
40,000,000 lines processed in bam/input.sorted.bam
Traceback (most recent call last):
  File ""/usr/local/Anaconda/envs_app/PePr/1.1.18/bin/PePr"", line 11, in <module>
    sys.exit(argless_main())
  File ""/usr/local/Anaconda/envs_app/PePr/1.1.18/lib/python2.7/site-packages/PePr/PePr.py"", line 27, in argless_main
    main(sys.argv)
  File ""/usr/local/Anaconda/envs_app/PePr/1.1.18/lib/python2.7/site-packages/PePr/PePr.py"", line 42, in main
    read_dict = prepareData.prepare_data(parameter)
  File ""/usr/local/Anaconda/envs_app/PePr/1.1.18/lib/python2.7/site-packages/PePr/prepareData.py"", line 264, in prepare_data
    read_dict = prepare_data_diff_binding(parameter)
  File ""/usr/local/Anaconda/envs_app/PePr/1.1.18/lib/python2.7/site-packages/PePr/prepareData.py"", line 242, in prepare_data_diff_binding
    input2_array[chr] = parameter.array_dict[filename][chr]
KeyError: 'chrY'


Best,

Bong-Hyun
",joshuabhk,https://github.com/shawnzhangyx/PePr/issues/29
MDU6SXNzdWUzMDkwMjc5MzY=,array init fails in Python3,CLOSED,2018-03-27T15:48:53Z,2018-04-09T15:58:32Z,2018-04-09T15:58:32Z,"Hi,
I am running PePr 1.1.18 in a Python 3.6 Conda environment. The array init in the quoted line fails due to the changed default behaviour of the division operator (returning a float here, but integer is needed).

https://github.com/shawnzhangyx/PePr/blob/758f18d69f249e43211e837d90ad24d73d171c63/PePr/pre_processing/cal_normalization.py#L410
```
TypeError: integer argument expected, got float
```
Best,
Peter
",ptrebert,https://github.com/shawnzhangyx/PePr/issues/30
MDU6SXNzdWUzMTQyNzczNzM=,RuntimeWarning,OPEN,2018-04-13T23:32:27Z,2018-04-14T05:30:14Z,,"So I ran the differential binding routine, and everything finished without a fatal error. However the log file notes a bunch of run time wranings, specifically an issue with numpy arrays:

```
virtual/pepr/local/lib/python2.7/site-packages/numpy/ctypeslib.py:436: 
RuntimeWarning: Item size computed from the PEP 3118 buffer format string does not match the actual item size.
return array(obj, copy=False)
```

This (very old) stack overflow [post](https://stackoverflow.com/questions/4964101/pep-3118-warning-when-using-ctypes-array-as-numpy-array) suggests that it is not a problem, but I just wanted to note it in the issues, and double check with you. ",aakashsur,https://github.com/shawnzhangyx/PePr/issues/31
MDU6SXNzdWUzMTQyNzc1NzM=,Omicspedia Unreachable,CLOSED,2018-04-13T23:34:07Z,2018-07-27T00:13:17Z,2018-07-27T00:13:16Z,"It looks like this site (https://omicspedia.ucsd.edu/omicspedia/tags/PePr/) mentioned in the README is unreachable.

![image](https://user-images.githubusercontent.com/7614271/38761543-99526872-3f38-11e8-9f5b-f9060304ca31.png)
",aakashsur,https://github.com/shawnzhangyx/PePr/issues/32
MDU6SXNzdWUzNDQ5ODAwNjQ=,Python3: index-based access to data view,CLOSED,2018-07-26T19:43:44Z,2018-07-28T14:49:05Z,2018-07-28T14:49:04Z,"Hi,
sort of as a ""follow-up"" to the other Python3 related error (#30), there is an error in the postprocessing script:

```Python
File ""[...]/python3.6/site-packages/PePr/post_processing/post_process_PePr.py"", line 90, in main
        readData.read_length = readData.get_read_length()

File ""[...]/python3.6/site-packages/PePr/post_processing/post_process_PePr.py"", line 78, in get_read_length
        return self.read_length_dict.values()[0]

    TypeError: 'dict_values' object does not support indexing
```
I guess this works in Python2.7, but no longer in 3.x

Best,
Peter",ptrebert,https://github.com/shawnzhangyx/PePr/issues/33
MDU6SXNzdWU0MTI5NzY3ODY=,PePr pooling of replicates or individual calling of peaks,CLOSED,2019-02-21T15:17:13Z,2019-02-22T22:09:00Z,2019-02-22T22:09:00Z,"Hi,

I am bit confused with the working of PePr, could you please enlighten me.

When I use the complete pipeline like follows:

` PePr -c  H3k4me1.P1.bam,H3k4me1.P2.bam,H3k4me1.P3.bam -i input.bam  -n H3K4me1 -f bam --peaktype broad `

my question, will the samples be pooled before peak calling? or peaks will be pooled or what? 

Like Macs, when it takes the replicates, it pools the replicates and calls peaks. 

Kindly answer.

thank you",abhisheksinghnl,https://github.com/shawnzhangyx/PePr/issues/34
MDU6SXNzdWU3ODYwMzM2MzM=,Question about differential analysis,CLOSED,2021-01-14T14:28:22Z,2021-01-18T07:51:01Z,2021-01-18T07:51:01Z,"Hello,

I am a little unsure about how the differential analysis works using the --diff tag. I want to compare binding of my protein in two different conditions (wildtype and ko) each of which has its own input control.  Here is my code:

PePr --chip1 KO1.bam,KO2.bam --chip2 WT1.bam,WT2.bam --input1 InputKO.bam --input2 InputWT.bam -f bampe --diff --threshold 0.01 

This gives me two peak files called chip1 and chip2. Do these two files represent the peaks enriched in each condition relative to its control? Or do these files represent peaks enriched in each condition relative to the other condition while normalizing against the relevant control (i.e KO/inputKO vs WT/inputWT and WT/inputWT vs KO/inputKO )? What what be the result if I run the same command without the -diff tag?

It would be great if you can clarify this.

Thanks
 ",re2srm,https://github.com/shawnzhangyx/PePr/issues/35
I_kwDOAUAFDs5JtD34,Missing tags?,CLOSED,2022-05-16T02:59:01Z,2022-05-20T09:09:13Z,2022-05-20T09:09:13Z,"Hi!

The source code https://github.com/shawnzhangyx/PePr/blob/master/PePr/__init__.py indicates the version string as `1.1.24`, while the latest tag is `1.1.18`.  Are some tags missing, or I am missing something? :-)

Thank you!",Apteryks,https://github.com/shawnzhangyx/PePr/issues/36
I_kwDOAUAFDs6D_hL1,Could not retrieve index file for abc.sorted_byname.bam,CLOSED,2024-03-29T01:59:36Z,2024-04-01T02:16:56Z,2024-04-01T02:16:56Z,"Hi, PePr is a convenient tool to use. I run the version 1.1.24 in the python2.7.18 environment, using the paired-end bam sorted by read name. The command is as follows:

PePr -c a7_1.sorted_byname.bam,a7_2.sorted_byname.bam -i GFP_CK_1.sorted_byname.bam,GFP_CK_2.sorted_byname.bam \
        -f bampe -n a7_CK --peaktype sharp --num-processors 8

However, in the err-file, multiple lines of the following text appear: 

[E::idx_find_and_load] Could not retrieve index file for 'a7_1.sorted_byname.bam'
[E::idx_find_and_load] Could not retrieve index file for 'a7_2.sorted_byname.bam'
......

I don't know how much these errors affect the results. It seems that samtools cannot index bam files sorted by read name.

Thanks very much!
Fengli",flzh628,https://github.com/shawnzhangyx/PePr/issues/37
