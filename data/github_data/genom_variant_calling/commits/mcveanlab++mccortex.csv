commit_sha,commit_author_name,commit_author_email,commit_message,commit_date,login
d3901d900cacff376e1201e86223adf1cc56784a,Isaac Turner,turner.isaac@gmail.com,Add R to dependencies (#77),2018-12-07T01:01:14Z,noporpoise
77de61e39105e0d8e475572098d8d2b8121d6247,Isaac Turner,isaac.turner@shielddx.com,Resolve #73 by using all tags in version string,2018-12-07T00:52:35Z,N/A
b8fceaa5bac6fc5c4ee5bbb35a47bd7c57f10e35,Isaac Turner,isaac.turner@shielddx.com,Bump library versions,2018-12-07T00:42:43Z,N/A
b51852056481c0b6eb4ccbb5d32449fbd5e61044,Isaac Turner,isaac.turner@shielddx.com,Add citycrc.h and README,2018-12-07T00:30:58Z,N/A
65b7bb61da17829d2ca1f84c2977c8cfc0257be6,Isaac Turner,isaac.turner@shielddx.com,Update plots,2018-12-07T00:20:35Z,N/A
f289c804f4b699f425fb8151bacd832d42c1a969,Isaac Turner,isaac.turner@shielddx.com,Kleb results: rotate axis labels,2018-09-30T18:40:04Z,N/A
ba2027b82b01d2da2221ff0437fb0d743df947cc,Isaac Turner,isaac.turner@shielddx.com,Results: split out kleb graphs,2018-09-30T06:59:20Z,N/A
814efc4c71f0df0c84b0ea820b7f12c02c87a243,Isaac Turner,isaac.turner@shielddx.com,Circos: use se1-5-qual-x colour scheme,2018-09-29T20:32:33Z,N/A
c0ed345b5e05059ba15bf4f11f1327c09ffe8f12,Isaac Turner,isaac.turner@shielddx.com,Update libs; Improve circos colours,2018-09-29T20:16:07Z,N/A
aa9f24918a4c921955e821c76354d70d5fb00c2c,Isaac Turner,isaac.turner@shielddx.com,Update header structure in make-circos.pl,2018-09-29T19:43:57Z,N/A
400c0e322aae2d3563b4f1fad270fd95a878ba15,Isaac Turner,turner.isaac@gmail.com,results: small changes to generating plots,2018-08-20T12:09:37Z,noporpoise
78c7850d176a71f9681fd74e1385cccf4eb9ee01,Isaac Turner,turner.isaac@gmail.com,Assembly sim: add diploid/haploid comparison,2018-07-16T09:20:50Z,noporpoise
51e65837166992b2d331577f74cbbe8e1a148474,Isaac Turner,turner.isaac@gmail.com,Merge branch 'master' into develop,2018-07-16T08:00:49Z,noporpoise
23da8a5746d68e8964d6249cf99394e9ab9456f2,Isaac Turner,turner.isaac@gmail.com,Merge branch 'develop' of github.com:mcveanlab/mccortex into develop,2018-07-16T07:59:35Z,noporpoise
48a8e792d287f8a7de819bacf7c0b7643cafe581,Isaac Turner,turner.isaac@gmail.com,Assembly sim: assembly plain contigs; add recent results,2018-07-16T07:59:16Z,noporpoise
a174d15ebcd5421fbf4b3140de1e4128477d69e8,Isaac Turner,turner.isaac@gmail.com,Pipeline: change default behaviour of pop bubbles,2018-07-16T07:58:25Z,noporpoise
a7591e597aaba16672a190df9b5d2a11c7dbc63d,Isaac Turner,turner.isaac@gmail.com,Use links/plain independently of contigs/contigs-pop,2018-07-16T07:22:07Z,noporpoise
b86810ffa6f2001dfecef9921d5cdc0406507afc,Isaac Turner,turner.isaac@gmail.com,Assembly simulation: compare assembly to truth,2018-07-16T06:41:51Z,noporpoise
a2c55921f61dadc78660b71b3020a9dab8884701,Isaac Turner,turner.isaac@gmail.com,Pipeline BUG fixes: actually pop bubbles; use links for contigs; same args for 'contigs' vs 'contigs-pop',2018-07-16T06:41:03Z,noporpoise
aa1aa47649a9c48ae6ceda3441557a9c95b5850a,Isaac Turner,isaac.turner@shielddx.com,Merge branch 'develop' of github.com:mcveanlab/mccortex into develop,2018-07-16T04:20:02Z,N/A
175d03680598e3582899aa5f4f6b57e76215b084,Isaac Turner,isaac.turner@shielddx.com,Simulations: rename supernodes -> unitigs,2018-07-16T04:19:42Z,N/A
97aba198d632ee98ac1aa496db33d1a7a8cb7e51,Isaac Turner,turner.isaac@gmail.com,Make install-deps.R less likely to fail,2018-05-28T18:57:44Z,noporpoise
d9734775351cadc6bf898c94aa9d8f8016950a0f,Isaac Turner,turner.isaac@gmail.com,Fix typos in README [skip CI],2018-05-28T04:31:15Z,noporpoise
6fbb54f34a53d57a374ab9e953beeffcaae7a062,Isaac Turner,turner.isaac@gmail.com,Update README,2018-05-28T04:07:59Z,noporpoise
bd5775e615024645292ad6996b3ad4cb8540fd85,Isaac Turner,turner.isaac@gmail.com,Update citation #3,2018-05-28T01:42:53Z,noporpoise
97c48dc318c582bfb2f1148ebfc8ba63f7028313,Isaac Turner,turner.isaac@gmail.com,Update paper citation #2,2018-05-28T01:39:57Z,noporpoise
c71a97714de2f951f2c72ec1a67c1f68f24665aa,Isaac Turner,turner.isaac@gmail.com,Update paper citation,2018-05-28T01:39:15Z,noporpoise
a6fa8f5ff126a69c3f3bec3524561afa209f15cd,Isaac Turner,turner.isaac@gmail.com,Update R script help,2018-05-28T01:20:29Z,noporpoise
2d2b4f0c3353b669881b1dfc24d5436d9f6ef9e7,Isaac Turner,turner.isaac@gmail.com,Update libs,2018-05-28T01:07:15Z,noporpoise
b8e800927bf277b189812510def733ebe0fee952,Isaac Turner,turner.isaac@gmail.com,Travis+htslib: test if perl is messing up htslib configure,2017-08-28T08:34:02Z,noporpoise
6720c9a9042f00a122bfa7885faa2b823c654968,Isaac Turner,turner.isaac@gmail.com,TravisCI: upgrade to trusty distro,2017-08-28T08:23:33Z,noporpoise
8391230eeb07533b1542d1477bdad7099eb48fce,Isaac Turner,turner.isaac@gmail.com,Update htslib,2017-08-28T07:58:24Z,noporpoise
54cafcd73bdddccfae764b060c04b8a75efb7387,Isaac Turner,turner.isaac@gmail.com,TravisCI+htslib: disable lzma+curl,2017-08-28T07:49:24Z,noporpoise
2c908929e9b670c93d1382c01a90a4c1956d0486,Isaac Turner,turner.isaac@gmail.com,TravisCI: use sudo to install packages,2017-08-28T07:42:19Z,noporpoise
74e81961531ea9c313cd18cbb995bb5f98c928fd,Isaac Turner,turner.isaac@gmail.com,Travis+htslib tweak bash to fix,2017-08-28T07:31:44Z,noporpoise
7eeea5592e96af3450e66b58afbb98fb4971c5e7,Isaac Turner,turner.isaac@gmail.com,Travis+htslib attempt to fix by install deps,2017-08-28T07:25:35Z,noporpoise
0bf84015592ae715f26d81b33ac1ecb9e5c471d3,Isaac Turner,turner.isaac@gmail.com,Travis+htslib compile with make -e,2017-08-28T07:16:49Z,noporpoise
e4fcb5ce40a2eb9fbb938b1de3985faa1ab9e176,Isaac Turner,turner.isaac@gmail.com,Attempt to fix htslib linux issues,2017-08-28T07:12:13Z,noporpoise
a3c2af2406214297900bbb7eca9b92bf61fab998,Isaac Turner,turner.isaac@gmail.com,Linux CI: autoconf -> autoreconf,2017-08-09T09:51:02Z,noporpoise
08474747152fe6ecad8c6a1a6dc251fe63d451f3,Isaac Turner,turner.isaac@gmail.com,Alternative Linux CI fix,2017-08-09T09:46:38Z,noporpoise
28946962cb58bd89f65c3eb3f65373396d5f7e89,Isaac Turner,turner.isaac@gmail.com,Reconfigure+recompile htslib on each call to make,2017-08-09T09:42:39Z,noporpoise
6d66a398662c40ce453dcba8d3cca084eb10ed35,Isaac Turner,turner.isaac@gmail.com,htslib: build with lzma + bz2 support,2017-08-09T09:32:44Z,noporpoise
9eeba53f0bf613fcb58904d34773db72f2ad858a,Isaac Turner,turner.isaac@gmail.com,Try to fix Travis CI dependency compilation issues,2017-08-09T09:30:56Z,noporpoise
62afa0a420634c050bc7989b6e57d4125f8af9d7,Isaac Turner,turner.isaac@gmail.com,Change to htslib/samtools/bcftools from develop -> master branch,2017-08-09T09:16:26Z,noporpoise
01d43275ec7bff92f74360a41d8bc84928d62368,Isaac Turner,turner.isaac@gmail.com,"Cite paper; Remove xxHash; Update libs

Add BioRxiv paper citation to README
Remove xxHash dependency due to compilation error on Cygwin (Thanks @rffrancon)
Update libs",2017-08-09T08:53:35Z,noporpoise
34d3ac883e1a7c08c460b401a87a81243f66ceca,Isaac Turner,turner.isaac@gmail.com,Update dependency libraries,2017-03-27T12:19:56Z,noporpoise
39120b2f5c6c27238ff215d1d57d3c8460a6ba81,Isaac Turner,turner.isaac@gmail.com,Remove 'buggy warning' from README (fixes #54),2017-03-17T11:21:25Z,noporpoise
681eab3578076c6b7b68db90cb06abbd4b164a59,Isaac Turner,turner.isaac@gmail.com,Move Vagrant provisioning to script,2017-03-17T11:20:08Z,noporpoise
46558c0b1e971618af50f0a03a06cf1c9b7c64cc,Isaac Turner,turner.isaac@gmail.com,"htslib: Turn off libcurl, lzma, bz2 linking to simplify compilation",2017-03-17T08:15:06Z,noporpoise
cad70fe66aa6f4d1a4dce2636f7c46c4aaa38851,Isaac Turner,turner.isaac@gmail.com,"vcfgeno: more accurate genotype calculation

Use decimal precision (doubles) to when calculating genotypes.
Avoid error message when VCF sample has no kmer coverage and therefore no read length",2017-03-17T07:35:21Z,noporpoise
fa988b86e6455d4a57dc15468d9d58fef1a7c849,Isaac Turner,turner.isaac@gmail.com,Plot bfc+mccortex vs SGA,2017-02-17T12:23:13Z,noporpoise
833096effd6b28962adebb7a30824a7b32d8a258,Isaac Turner,turner.isaac@gmail.com,Add link-count plots and analysis of bfc error correction,2017-02-17T08:16:35Z,noporpoise
033baae0615fd68ca2ec1b7df9f8f1374f28fe4e,Isaac Turner,turner.isaac@gmail.com,Move benchmark to results directory,2017-02-14T13:48:18Z,noporpoise
7dafc3e2ced31f288bdcc9c7824437e71495d575,Isaac Turner,turner.isaac@gmail.com,Update gitignore,2017-02-13T13:13:07Z,noporpoise
2293254b340a3717e61340c8551dd6857a80dfe5,Isaac Turner,turner.isaac@gmail.com,Kmer experiment with --confid-step arg,2017-02-13T13:06:01Z,noporpoise
29982ee0b01a6cca5140a2cc894dc418470f9e2d,Isaac Turner,turner.isaac@gmail.com,Fix another GCC warning,2017-02-13T03:09:28Z,noporpoise
ae67d85aafdad3bbf8e254e01a644b01d9b01e2e,Isaac Turner,turner.isaac@gmail.com,Tests: fix compile warnings from GCC,2017-02-13T02:59:21Z,noporpoise
733621aa9669acd3cdcfc38058cb4a0420a20f1e,Isaac Turner,turner.isaac@gmail.com,Fix compile warnings with GCC,2017-02-13T02:36:20Z,noporpoise
2f8da1d663b2af739157fe422f4be85137f2a0bb,Isaac Turner,turner.isaac@gmail.com,Kmer experiment with no missing link check,2017-02-13T00:42:46Z,noporpoise
3d1aba642954ec9e2111abc69ec62fcc4ec5bc5a,Isaac Turner,turner.isaac@gmail.com,Add results for corrected read assembly (McCortex vs SGA),2017-02-12T23:58:48Z,noporpoise
f4b73e0402b8ea42ba0c6a996f52de917e397a89,Isaac Turner,turner.isaac@gmail.com,Reduce duplicated SGA work,2017-02-12T22:07:56Z,noporpoise
c50b6a259f18e9a1ee6cb9d48724b120214d5c39,Isaac Turner,turner.isaac@gmail.com,Fix typo in kmer experiment notes,2017-02-12T21:48:26Z,noporpoise
592b232340a26e9e9782fb8da8afa153e283ac3b,Isaac Turner,turner.isaac@gmail.com,Update htslib + samtools libs,2017-02-12T21:40:40Z,noporpoise
077d6e55ae36a065f695b795c71a573ab28c3f17,Isaac Turner,turner.isaac@gmail.com,SGA plots for corrected reads,2017-02-12T21:17:51Z,noporpoise
acf6a6589e44e9e32347bda06ed51f6cb5a77d9f,Isaac Turner,turner.isaac@gmail.com,kmer size experiments (hg chr22 28M-29M),2017-02-12T21:13:47Z,noporpoise
08d7d95bf84be7808e3c0ca4112f1d78c620e8ce,Isaac Turner,turner.isaac@gmail.com,Update notes on running kmer size analysis,2017-02-12T21:08:47Z,noporpoise
a7d6f3be028fe470a7cf56af429de1c58dabf4a2,Isaac Turner,turner.isaac@gmail.com,"Add results for error correction chr22:28M-29M

Change to using chr22:28M-29M region for diploid error correction simulation
convert wget -> curl commands to fetch example data (./results/data/)",2017-02-06T17:22:38Z,noporpoise
8bb50a82a30c7c75963d7b4d535dc29d627dc878,Isaac Turner,turner.isaac@gmail.com,Correct 'clean' command help [fixes #48],2017-02-05T23:25:11Z,noporpoise
6a137a42e4d800188aa83474fc7cbbf30a330e7c,Isaac Turner,turner.isaac@gmail.com,Merge branch 'master' into develop,2017-02-05T23:22:12Z,noporpoise
301469fc1ff4e303dcb5025722f614b9cb874dbc,Isaac Turner,turner.isaac@gmail.com,Merge develop branch,2017-02-05T23:21:55Z,noporpoise
94e16da3b6cc665e371fc1ad50711be4346f2387,Isaac Turner,turner.isaac@gmail.com,Clearer 'reads' help text [fixes #48],2017-02-05T23:20:27Z,noporpoise
2dd502af2c268593b832bff5f019e2322c370c26,Isaac Turner,turner.isaac@gmail.com,Don't add '-dirty' to version to speed up compilation,2017-02-05T23:06:06Z,noporpoise
fbe7376130ad03366369c2f9951a1a357e2099e9,Isaac Turner,turner.isaac@gmail.com,Clarify pop bubbles help message [fixes #49],2017-02-05T22:55:08Z,noporpoise
26cd1e08ac69a9a390f957521c396798eb5461f0,Isaac Turner,turner.isaac@gmail.com,"Update kmer size experiment to include SGA

Update libs

kmer size experiment:
- use human region chr22 28M:29M
- hide k=99 results for some plots
- add SGA results and plot them
- plot corrected read results",2017-02-05T22:52:19Z,noporpoise
67e446b9f83eec16f046b4e119fa68f2a6942e25,Isaac Turner,turner.isaac@gmail.com,"Clean command should try to use 0 colours!

Auto-selecting number of colours to use for cleaning should pick >0.

Fixes issue #47: Cleaning failing with Assert Failed db_graph_alloc(): num_of_cols > 0",2016-12-30T15:34:29Z,noporpoise
732472631b67992563ebdc6988a8aad13b3fddc3,Isaac Turner,turner.isaac@gmail.com,"make kmer-size experiment use split FASTQ

Update libraries",2016-12-13T11:49:18Z,noporpoise
1c091efb08a4b4092afed7b6126cd5404b6e9a57,Isaac Turner,turner.isaac@gmail.com,Updated README,2016-11-03T12:39:49Z,noporpoise
6515627790fdd45dea2173e3788188b34bce501b,Isaac Turner,turner.isaac@gmail.com,Travis CI: install.sh fix bash syntax in prev commit,2016-11-02T23:12:47Z,noporpoise
fc8d421ba15eecf20319121aad962e3f64f12e0d,Isaac Turner,turner.isaac@gmail.com,Travis CI: only run install.sh if not doing CoverityScan,2016-11-02T22:59:08Z,noporpoise
1632d965522f41ec5309c4074cf694ca301305b4,Isaac Turner,turner.isaac@gmail.com,Test fseek return value,2016-11-02T22:27:10Z,noporpoise
72126690d4c97875b91b4d4a344ca8af1cb088d7,Isaac Turner,turner.isaac@gmail.com,"Organise scripts

Moved scripts into folders: scripts/{perl,bash,build,etc.}/

Added python scripts used in analysis:
- scripts/python/generate-reads.py   simulate sequence reads
- scripts/python/snp-pileup.py       SNP calling from samtools mpileup",2016-11-02T22:22:31Z,noporpoise
22e27b730d316c148c537e1f81753bad43cd0cc8,Isaac Turner,turner.isaac@gmail.com,Delete accidently added (old) script,2016-10-31T11:25:44Z,noporpoise
ed5f7f2a9b4e97b8f426e00075bdb2e4aa43ad56,Isaac Turner,turner.isaac@gmail.com,Merge branch 'm2' into develop,2016-10-31T11:25:01Z,noporpoise
b01f22f746d56e60d14d772d9259887472a7381b,Isaac Turner,turner.isaac@gmail.com,Add missing file for kmer size experiment,2016-10-31T11:19:51Z,noporpoise
47b32e2b12b5918b3206f5cd8da7e197cd699581,Isaac Turner,turner.isaac@gmail.com,"Squash develop into master

- Add bfc to kmer sensitivity experiment
- Documentation updates
- Update libraries
- Update vcfcov usage to indicate VCF should have duplicates removed
- pipeline: add NKMERS= to vcfcov
  Fixes #45. Thanks to @peterdfields.
- ctx_vcfcov.c: ignore -n,--nkmers if --low-mem is passed
- add some comments to tests",2016-10-31T11:08:13Z,noporpoise
ee3c7525fa7b6bfebd2028ac83c34b2ddfa083a8,Isaac Turner,turner.isaac@gmail.com,"pipeline: add NKMERS= to vcfcov

Fixes #45. Thanks to @peterdfields.

- ctx_vcfcov.c: ignore -n,--nkmers if --low-mem is passed
- update htslib
- add some comments to tests",2016-10-30T23:42:23Z,noporpoise
a4b8bb47cc73a0993fa2038c54f8dd7d9931457f,Isaac Turner,turner.isaac@gmail.com,"Cosmetic doc changes; libs updated

Update libraries
Update vcfcov usage to indicate VCF should have duplicates removed
Minor updates to docs",2016-10-24T18:34:52Z,noporpoise
deb06dfdcdebd4c4b7ab9236dace72e39cd52f70,Isaac Turner,turner.isaac@gmail.com,Add bfc to kmer sensitivity experiment,2016-10-12T13:22:59Z,noporpoise
e5fb183549c8ffb5868ff3c0e5415ced3b51c9ca,Isaac Turner,turner.isaac@gmail.com,Make a plot of kmer size effect without links,2016-10-04T17:28:27Z,noporpoise
ebc45024febd7ddbb1a2e4821317a83be05e991d,Isaac Turner,turner.isaac@gmail.com,"Merge develop into master

Add disk based fetching of kmers for mccortex server and API webserver
Speed up hash table initialisation
Add new kmer size experiment
Add new breakpoint tests
Fix bugs in seq2pdf.sh, ctx_reads.c",2016-10-04T13:43:51Z,noporpoise
6bd9bbcab255ab5e3f71c2daa9b48d5c9acd27e0,Isaac Turner,turner.isaac@gmail.com,"Add PE reads to kmer experiment (+results)

Add cleaning table showing number of FP/FN kmers after cleaning
Add results from re-running kmer size experiment:
  results/kmer_size_experiment/results/20160929thurs

Small changes:
- update bcftools & sort_r
- add .pyc to .gitignore
- update help pages in ctx_thread.c",2016-10-04T13:25:53Z,noporpoise
0542b47b7ec92a19b5ba7d445e0743e95be2e7e4,Isaac Turner,turner.isaac@gmail.com,"Merge pull request #42 from fbergroth/add-missing-longopt

reads: Add missing longopt for 'threads'",2016-10-04T13:16:59Z,noporpoise
ab42760c6b69d7e3a1e894354e18fc8c994c4e1e,Fredrik Bergroth,fbergroth@gmail.com,reads: Add missing longopt for 'threads',2016-10-04T12:49:54Z,fbergroth
4426ce4bdfb81484c61e1b00fdd3efec8b54333c,Isaac Turner,turner.isaac@gmail.com,Better calculation of link mem requirements,2016-09-29T10:52:38Z,noporpoise
f1967c8f63f8e3558cb6906eef999455825ac433,Isaac Turner,turner.isaac@gmail.com,Add missing 'breakpoint' test Makefile,2016-09-28T20:37:11Z,noporpoise
e189336e41ad39b81361e49b9a062aa506ff318b,Isaac Turner,turner.isaac@gmail.com,"Group breakpoint tests, add a new ref bubble test",2016-09-28T18:09:35Z,noporpoise
072d97e53d40d0f12667124a22a98fdfd0d770c7,Isaac Turner,turner.isaac@gmail.com,Update McCortex wrapper scripts; Fix seq2pdf.sh; Update libs;,2016-09-28T14:46:57Z,noporpoise
7cc239f5c07f4c2caf149e192605643d685fe267,Isaac Turner,turner.isaac@gmail.com,"Faster hashtable initialisation

hash_table.h:
- add macros to wrap access to hash table fields
- re-wrote iterators using new macros

hash_table.c:
- Change BinaryKmer top bit set to mean assigned, zero'd to mean unset. Should
  make large hash table allocation/initialisation faster as calloc alone will
  give valid zero'd memory.",2016-09-16T22:00:06Z,noporpoise
a9b801ffc582be7c4d50524866bf3520c8dd1639,Isaac Turner,turner.isaac@gmail.com,"ctx_server.c: use link files in memory calculations

ctx_server.c:
- use link file kmer counts to calculate required memory when loading from disk

gpath_reader.c:
- add method gpath_reader_count_kmers() to return sum and max of kmers for an
  array of files. `.ctp` equivalent of functionality in graph_files_open() for
  `.ctx` files.",2016-09-16T12:41:57Z,noporpoise
7447259c99882a9c5c66b2765409ff48a704ecd4,Isaac Turner,turner.isaac@gmail.com,graph_search.c: better file IO (only buffer blocks),2016-09-15T16:04:42Z,noporpoise
01ff7120393939390bb92910bcb07dcf13db474b,Isaac Turner,turner.isaac@gmail.com,"`server` fix bug for multisample graph on disk

ctx_server.c:
- when reading from disk, ensure ServerQuery.{covgs,edges} are both the same size
- merge edges and turn coverage to binary if requested when reading from disk
  to keep behaviour consistent
- reduce memory usage: only use one of DBG_ALLOC_NODE_IN_COL / DBG_ALLOC_COVGS
- clarify command line arg --coverages toggles binary coverage -> real coverage",2016-09-15T10:36:05Z,noporpoise
44159628a1afd9160d4190706f2de128b6478074,Isaac Turner,turner.isaac@gmail.com,"Turn off file buffering for index construction

graph_file_reader.c:
- rename gfr_fread_bytes() -> graph_file_fread()
- add function to toggle buffered status of files: graph_file_set_buffered()

ctx_server.c:
- create on-disk-graph index later, after memory calculations etc.

graph_search.c:
- turn off file input-buffering to speed up index construction with large files
- print status updates before and after building index",2016-09-14T22:23:51Z,noporpoise
3ddc32cdab1fd914ae52a0a2918fddeae9757c54,Isaac Turner,turner.isaac@gmail.com,"Moved mccortex-server.py: multithreaded + more cmdline args

- Moved amongst other python scripts:
  scripts/mccortex-server.py -> scripts/python/mccortex-server.py
- use multithreaded webserver with locking
- add -W,--web command line option to launch browser after starting
- add -k,--kmer <K> command line argument to specify kmer size
- Set allow_reuse_address=True to stop 'Address already in use' errors",2016-09-14T19:14:30Z,noporpoise
1fd21ec2641b9d5441afee71b58af94877d5fe8b,Isaac Turner,turner.isaac@gmail.com,"Fix bug in `server` fetching kmers from disk

graph_search.c:
- fix bug in choosing start/end location of block to search

ctx_server.c (superficial changes):
- accept ""q"" and ""quit"" to exit (case insensitive)
- print a newline if we detect the end of input (looks cleaner)

update libs",2016-09-14T17:15:52Z,noporpoise
04da5b8c0bcee2bf7271dc05fcb4cd83f708ada4,Isaac Turner,turner.isaac@gmail.com,"ctx_server: fetch kmers from disk instead of memory

graph_search.{c,h}:
- new interface to read kmers from a sorted graph file on disk
- can search for a given kmer, load kmer from an index or pick a random kmer

ctx_server.c:
- use graph_search.h to read kmers from disk rather than loading them all
- add -D,--disk option to specify off disk behaviour

graphs_load.c:
- graph_load_ginfo(): add function to load only GraphInfo from file header

json_hdr.c:
- json_hdr_make_std() takes nkmers_in_graph as argument instead of using value
  from dBGraph since we may not have loaded all kmers into memory

db_node.h, touches many files:
- rename db_node_get_bkmer() -> db_node_get_bkey()",2016-09-14T13:32:12Z,noporpoise
1897b445a7d087c38c988fb9e66d170d17cc5210,Isaac Turner,turner.isaac@gmail.com,"Tidy up BinaryKmer

binary_kmer.h:
- rewrite header to remove definitions that are sometimes macros and sometimes
  functions.
- move critical and simple binary kmer functions to the header as inline
- add binary_kmer_{gt,ge,eq,ne,le,lt} macros",2016-09-13T23:56:22Z,noporpoise
5709ca25912b0329546e0fe566a42ab4b7860c2e,Isaac Turner,turner.isaac@gmail.com,Add kmer experiment plots [skip CI],2016-09-13T18:06:52Z,noporpoise
65342e15fc179c20e6838634b78e9d3d0e0ed7ce,Isaac Turner,turner.isaac@gmail.com,Remove non-ascii values from python script [skip CI],2016-09-13T11:37:00Z,noporpoise
b5cd4e83bf2141bc7ad0a4d1e8a8a63194d6bb34,Isaac Turner,turner.isaac@gmail.com,Count bad edges in kmer experiment [skip CI],2016-09-13T11:34:46Z,noporpoise
cad1e48199dd925ec8377a665fd646bdd5b90890,Isaac Turner,turner.isaac@gmail.com,fix newly introduced rmsubstr memory calc bug,2016-09-12T22:36:37Z,noporpoise
d906707c421a4bd7b4cdf4c8abfc2a8298d65c0a,Isaac Turner,turner.isaac@gmail.com,"Improve rmsubstr memory calc; kmer_size_experiment working

results/kmer_size_experiment:
- set per base error rate of 0.5%
- keep secondary files
- default to building plain and link stats files
- pass random seed properly
- set CLEAN=1 for stocherr run
- fix the odd runtime error
- added results CSV
- deleted old experiments!

scripts/python/break-contigs-vs-truth.py:
- require mismatches in alignment to be flanked by at least 5bp of match instead
  of k

ctx_rmsubstr.c:
- Better calculation of memory requirement",2016-09-12T21:13:35Z,noporpoise
7bd87106a221ed5874dab99afb051af13c8e4d87,Isaac Turner,turner.isaac@gmail.com,Add simplified kmer sensitivity experiment and plotting,2016-09-12T14:41:39Z,noporpoise
caa383b8437a94c5cb3544a38c181a42aa889588,Isaac Turner,turner.isaac@gmail.com,Better output naming,2016-09-10T17:27:15Z,noporpoise
05ca824858863b51e969a6a33092c0a00496868b,Isaac Turner,turner.isaac@gmail.com,"Improve break-contigs-vs-truth.py, report NG50

scripts/python/break-contigs-vs-truth.py:
- take K on the command line
- read contigs from a file or STDIN
- case-insensitive comparison
- when calculating assembly errors, use query contig coverage instead of
  simply removing substrings (now uses a segment tree)
- remove alignment substrings on the ref, then print ref-contig alignment
- report NG50",2016-09-10T17:22:57Z,noporpoise
d4c112a47ff09969a4f282aa636c3d0da4cf8544,Isaac Turner,turner.isaac@gmail.com,Add python scripts to split contigs vs truth,2016-09-08T18:00:59Z,noporpoise
4f5dcd2b9f906858089305a1eac888c46fcca304,Isaac Turner,turner.isaac@gmail.com,vcfcov: default to --low-mem except when streaming VCF,2016-09-06T13:40:33Z,noporpoise
17a32ccdaa040b6214efbc12b7b336c9573b134d,Isaac Turner,turner.isaac@gmail.com,Rename 'path file' -> 'link file'; Update libs,2016-09-06T11:54:21Z,noporpoise
f025dbf4591db3dcf58450cc1d8a2fc7bf1c0165,Isaac Turner,turner.isaac@gmail.com,Run tests with -q flag,2016-08-28T19:35:44Z,noporpoise
835b6a182e9d25b9af68a4bc64cb1f90c3576589,Isaac Turner,turner.isaac@gmail.com,Simplify infer_edges.c code (merge infer_{all|pop}_edges()),2016-08-28T07:54:56Z,noporpoise
45cbff5d17e56dcac94300c67824f5d9f9f3199a,Isaac Turner,turner.isaac@gmail.com,"Speed up cleaning by reducing inter-thread interaction

Replace atomic updating of shared statistics with private thread statistics
that are merged after cleaning completes.",2016-08-27T19:08:11Z,noporpoise
afcba9a86c12e92567821550d893f7f769b47f12,Isaac Turner,turner.isaac@gmail.com,Rename snode -> unitig,2016-08-27T18:31:38Z,noporpoise
0cbce43fcf57544c3348e2255813f3110ae128a0,Isaac Turner,turner.isaac@gmail.com,"`clean` command write sorted output

graph_writer.c:
* graph writing functions all use FileFilter now
* added sorted_kmer output option to updating a sorted graph file

ctx_clean.c:
* add option to save sorted file
* added --ncols command option which was magically missing (?!)
* updated calculation on how many colours to use

ctx_inferedges.c:
* add -S,--sort option

file_filter.c:
* adapted to handle input and output
* added constructor file_filter_create_direct()

clean_graph.c:
* BUG fix to remove assert when cleaning multicolour graphs

tests/clean/clean3:
* remove old test that was not checking anything
* replace with new test that tests cleaning one colour at a time in a multi-
  sample population and updating the sorted population graph file with each
  sample.
* Uses 'build --sort', 'mccortex sort' and 'clean --sort' for comparison

tests/clean/clean4:
* clean a two colour graph by loading a multicolour graph",2016-08-27T18:27:26Z,noporpoise
89545908ae271eb247db036dbe5e05b8aa427af2,Isaac Turner,turner.isaac@gmail.com,"Fix bug handling -q flag if used with other short options

When using short arguments: '-qf' should be equivalent to '-f -q'
We weren't detecting this usage of -q previous. This commit fixed this bug.",2016-08-19T22:34:40Z,noporpoise
a5ea7674afd0c941b6a3d99a8f93270dac27264b,Isaac Turner,turner.isaac@gmail.com,"Add wrapper script to find mccortex executable for K

scripts/mccortex:
* added wrapper that find the correct mccortex executable for a given kmer size
* updated the mccortex make command to copy this script into the bin/ dir

tests:
* make some tests work for different K values (e.g. tests/sort/Makefile)
* hide some of the output from tests by writing to log files or passing -q",2016-08-19T22:01:15Z,noporpoise
2d2a734f09690926880cbb0a765113342852060c,Isaac Turner,turner.isaac@gmail.com,"Add -S,--sort option to `build` command

commands/ctx_build.c:
* added -S,--sort option to output a sorted graph

graph/graph_format.h:
* graph_header_free

graph/binary_kmer.h:
* moved qsort BinaryKmer comparison methods to binary_kmer.h
* corrected comment on BinaryKmer encoding

graph/graph_writer.c:
* added graph_writer_mkhdr() to alloc and set up a new GraphFileHeader
* add the option to sort kmers before writing them out
  - graph_write_all_kmers()
  - graph_writer_save()
  - graph_writer_save_mkhdr()

graph/hash_table.c/h:
* added hash_table_sorted() to get list of hash indices sorted by kmer
* add HASH_ITERATE_SORTED() macro to iterate over kmers in lexigraphic order

tests/sort/Makefile:
* update test to check that `mccortex build --sort ...` and `mccortex sort ...`
  sort kmers correctly

Updated lib dependencies (htslib,samtools,bcftools,xxHash)",2016-08-19T17:42:58Z,noporpoise
d10456c5a1b55b89d42605079f0a5a280f284c53,Isaac Turner,turner.isaac@gmail.com,Add missing test file; Add -q to test commands; Redirect vcfcov output in pipeline to log file,2016-06-02T13:09:23Z,noporpoise
31bf54c948a57eeb5f53ec27d447285179ea9ca5,Isaac Turner,turner.isaac@gmail.com,Group lossless test cases,2016-06-02T12:53:49Z,noporpoise
89f77233b9d4eb3e094af518bfe3c57decbd0c6e,Isaac Turner,turner.isaac@gmail.com,"Add link cleaning test

Remove trailing whitespace
Tests: rename CTX -> MCCORTEX
Tests: add new link cleaning integration test
Tests: add new pjoin test (tests/pjoin/pjoin1)",2016-06-02T12:46:00Z,noporpoise
abc884cf6a29b9f1bc3d30c86126598e7e40b56e,Isaac Turner,turner.isaac@gmail.com,Merge branch 'develop',2016-06-01T21:06:06Z,noporpoise
ebdac9c27ffd81f7d2947d6443e629329a65615f,Isaac Turner,turner.isaac@gmail.com,"Merge develop branch

Better unitigs FASTA output (include edges in headers)
Update libs
Fix cortex_stats.pl bug (missing include)
Arrange test cases (group similar tests)",2016-06-01T21:05:32Z,noporpoise
76ac74b7d48706ecf95723441e673c28a65a9602,Isaac Turner,turner.isaac@gmail.com,"unitigs cmd: add edges to FASTA output

unitigs command now puts edges in unitig titles in the format:

>unitig12 prev=T next=AC
...

Also updated libraries (bwa, htslib, samtools, bcftools)",2016-06-01T20:44:38Z,noporpoise
75d9650a4fdb2f60fb972665aae3246fa22288a4,Isaac Turner,turner.isaac@gmail.com,cortex_to_graphviz.pl: Add missing include,2016-05-23T03:24:19Z,noporpoise
ff0e899c7184c57851b55ea90ac88eec615098aa,Isaac Turner,turner.isaac@gmail.com,"Re-arrange integration test cases, group similar ones",2016-05-14T17:14:27Z,noporpoise
2a4f72b402f2ea10f59b606af2bbebf1231d0c29,Isaac Turner,turner.isaac@gmail.com,Rename supernodes -> unitigs; Group some test cases.,2016-05-14T15:20:38Z,noporpoise
5f12e85807ddd93987de0645c441499aa8568ff4,Isaac Turner,turner.isaac@gmail.com,Merge branch 'develop',2016-05-14T14:35:42Z,noporpoise
19fd40b484613e1b817379bde726c682cb386bb4,Isaac Turner,turner.isaac@gmail.com,.gitmodules: use https:// instead of git://,2016-05-14T14:35:27Z,noporpoise
e4ea91938f2ecb88fd814bd24bbda0aee91ab656,Isaac Turner,turner.isaac@gmail.com,"Squashed commit of the following:

commit c97459431a74cbe37a4cf55680d4e45da5f55b7c
Author: Isaac Turner <turner.isaac@gmail.com>
Date:   Sat May 14 15:12:52 2016 +0100

    Fix multithreading bug in supernodes_iterate()

    Fix bug in supernodes_iterate() caused by different locks being used by
    different threads to access the same cyclic unitig. When we normalise a cyclic
    unitig, we cyclic shift the nodes rather than just flipping it. We were not
    taking this into account when picking a key node to choose the correct lock.
    Key node is the node with the lowest kmer index in the hashtable.

commit ab7f21c79365f0a2dbef058ecc696fcb3b302651
Author: Isaac Turner <turner.isaac@gmail.com>
Date:   Fri May 13 18:03:07 2016 +0100

    Upgrade libs; Improve performance of CityHash if specified",2016-05-14T14:20:53Z,noporpoise
c97459431a74cbe37a4cf55680d4e45da5f55b7c,Isaac Turner,turner.isaac@gmail.com,"Fix multithreading bug in supernodes_iterate()

Fix bug in supernodes_iterate() caused by different locks being used by
different threads to access the same cyclic unitig. When we normalise a cyclic
unitig, we cyclic shift the nodes rather than just flipping it. We were not
taking this into account when picking a key node to choose the correct lock.
Key node is the node with the lowest kmer index in the hashtable.",2016-05-14T14:12:52Z,noporpoise
ab7f21c79365f0a2dbef058ecc696fcb3b302651,Isaac Turner,turner.isaac@gmail.com,Upgrade libs; Improve performance of CityHash if specified,2016-05-13T17:03:07Z,noporpoise
ae2ea09f989490457e5571cbae3b55a8e77105ca,Isaac Turner,turner.isaac@gmail.com,scripts/make-report.pl: Fix issues on machines requiring explicit RScript,2016-04-30T16:46:00Z,noporpoise
d17cee3d36ee4c1b2ebad2ce2d15df4391dc9fa5,Isaac Turner,turner.isaac@gmail.com,make-pipeline.pl: document NKMERS= option,2016-04-27T14:20:31Z,noporpoise
a76aacfbeb307c54bf2b04b09b103190a4970888,Isaac Turner,turner.isaac@gmail.com,Update AUTHORS,2016-04-26T15:37:19Z,noporpoise
737386543d45cd2cf65b708a550199ccee36b9ff,Isaac Turner,turner.isaac@gmail.com,"Fix bug in assemble_stats.h API (Resolves #37)

Changed behaviour of assemble_stats.h:assem2str() to return a pointer to static
memory rather than copy to a passed buffer. Previously assemble_contigs.h was
not passing a large enough buffer and it was causing assem2str() to abort() when
trying to return ""StopLowCumulativeConfidence"".",2016-04-26T15:25:50Z,noporpoise
e7567e7087e95d6fed9cec003e0999a5844f04f4,Isaac Turner,turner.isaac@gmail.com,"ctx_clean: run without cleaning if requested

1. ctx_clean:
* Run without cleaning if not given an output file and no -T or -U
* Fix typo in help message (fixes #38)

2. various tests/*/Makefile: rename supernodes -> unitigs

3. README.md: add URLs to citations (fixes #35)",2016-04-26T15:05:22Z,noporpoise
5d18962a22151a8ab1af048f0a0f25acefc73069,Isaac Turner,turner.isaac@gmail.com,Fix #36: typo in inferedges help; Fix pjoin help typo; Update htslib,2016-04-26T13:37:52Z,noporpoise
088ce7eea229c2ce0934a4869fe6334c9e33c674,Isaac Turner,turner.isaac@gmail.com,"Update deps: htslib,bcftools,samtools",2016-04-23T12:11:29Z,noporpoise
3fd7d863bf478281b9d86f836be487514f6a926a,Isaac Turner,turner.isaac@gmail.com,"Update deps: htslib,bcftools,samtools,seq-align",2016-04-21T14:52:53Z,noporpoise
de8dbe383e83268e54a179b449fc4495916b72c2,Isaac Turner,turner.isaac@gmail.com,Rename GraphStep constants (path->link); Update libs,2016-04-15T16:54:21Z,noporpoise
86b4ffe64521e1fe3ac437ea007f668e5d3171af,Isaac Turner,turner.isaac@gmail.com,Fix usage of htslib vcf_parse(): don't end lines with \n,2016-03-20T21:12:33Z,noporpoise
f354a229a7e7cb1548d01dd09a027067b5440b3c,Isaac Turner,turner.isaac@gmail.com,Roll back htslib to fix breaking change,2016-03-20T16:22:48Z,noporpoise
1b8747f1d92ea64868533e59ab04ac167812a131,Isaac Turner,turner.isaac@gmail.com,"Updated dependencies, fix GCC 5 warning",2016-03-17T15:06:59Z,noporpoise
de705acb5c1607971a9c09e7a2526b0d10656e61,Isaac Turner,turner.isaac@gmail.com,"Merge pull request #30 from rec3141/master

README.md: Fixed order of arguments",2016-03-17T14:39:41Z,noporpoise
031e0c8c46758b86b31ba61d1052d1f5d222712b,rec3141,rec3141@gmail.com,"Merge pull request #1 from rec3141/rec3141-patch-1

Update README.md",2016-03-14T16:19:08Z,rec3141
760ca74ed8d2fc385619df379d8e17c2673dbb10,rec3141,rec3141@gmail.com,Update README.md,2016-03-14T16:18:33Z,rec3141
17ae37a996f402d5e8d2ac9daae04e8516c2124a,Isaac Turner,turner.isaac@gmail.com,"Fix BUG in graph filtering resulting in empty graphs

1. Fix BUG in graph_writer.c:graph_writer_stream() where we did not seek to the
beginning of a graph file to start reading it. This has the effect of writing
empty output files if we had already read a file once.

This will have affected all commands filtering a single multi-sample input graph file e.g. subgraph, join.

2. Extended the test in tests/subgraph/ to test this fix.

3. Also updated libraries: htslib, samtools, bwa.",2016-01-22T19:55:16Z,noporpoise
2332b7f8f03a2ecc33af1c6e8bfeed0e4263b4d5,Isaac Turner,turner.isaac@gmail.com,"ctx_server.c: fix uninitialised memory access, resolves #28

ctx_server.c:
- initialise output string memory to zero [resolves issue #28]
- add command prompt ""> ""

mccortex-server.py:
- strip prompt text from mccortex responses
- add example line to usage help

Update libraries",2016-01-20T15:08:12Z,noporpoise
67d6780120902ec6bfdcbb0913ac1c910d24af61,Isaac Turner,turner.isaac@gmail.com,Update klebsiella pneumoniae analysis [thesis][skip CI],2016-01-20T14:58:57Z,noporpoise
bd02e0b3a65c6176f7339e5e3c436990cf42c79f,Isaac Turner,turner.isaac@gmail.com,Update analysis scripts [thesis][skip CI],2016-01-11T11:43:09Z,noporpoise
6a0eb95e3be839f74abf6c40e71e552f353cd80e,Isaac Turner,turner.isaac@gmail.com,Fix memcpy bug affecting loading of link counts,2016-01-10T20:38:42Z,noporpoise
65f4c666362460a420f70d68e6d58574546549a8,Isaac Turner,turner.isaac@gmail.com,gt-compare.pl: print concordance as a fraction,2016-01-09T16:42:32Z,noporpoise
5bf4d7a622e9cd98803005e40bdceb7e57bd1769,Isaac Turner,turner.isaac@gmail.com,pipeline: vcfcov should write single sample VCFs that can be easily merged,2016-01-09T14:47:46Z,noporpoise
27ab3cea0626fc40f67dffc07dc534a224920861,Isaac Turner,turner.isaac@gmail.com,Update biogrok,2016-01-08T20:04:31Z,noporpoise
4a54c49cc1d1cd93e1cb57e4852ef9a2fb4dafaa,Isaac Turner,turner.isaac@gmail.com,Update seq-align for optimisation,2016-01-08T16:29:24Z,noporpoise
5b5dd45b34987cfa573e0a78b13117bbe6c01d2e,Isaac Turner,turner.isaac@gmail.com,Python mccortex module + scripts to analyze kleb large events [thesis][skip CI],2016-01-08T16:26:22Z,noporpoise
ffdb1753de7b1694fde2c05f0a5f997244d00c98,Isaac Turner,turner.isaac@gmail.com,stil failing test: give path to bcftools,2016-01-06T17:16:46Z,noporpoise
32b9b903f0091958fd0cf0187aba969eb05473f4,Isaac Turner,turner.isaac@gmail.com,Fix failing test: give path to vcf-count,2016-01-06T17:07:30Z,noporpoise
58ba2134866d27311da2aec591007f039b8da51b,Isaac Turner,turner.isaac@gmail.com,Test fix: pass CTXDIR to 'make',2016-01-06T16:45:30Z,noporpoise
e0a15e7da836a2f056afffc4d6dc5722783867ab,Isaac Turner,turner.isaac@gmail.com,Update NA12878 + kleb analyses [thesis][skip CI],2016-01-06T16:27:24Z,noporpoise
f4d92d8d0de9485425de6fc45a73573a10270871,Isaac Turner,turner.isaac@gmail.com,"mapping-vars-test.sh: remove 50bp limit on mapping analysis script [skip CI]

scripts/analysis/mapping-vars-test.sh:
- use variant ID to recover valid variants from VCF after mapping
- relies on vcf-select-by-id and vcf-rename scripts in biogrok library

scripts/analysis/haploid-sam-compare.py:
- use ALT allele length from SAM read name rather than expecting complete sequence",2016-01-06T16:25:57Z,noporpoise
afeccb04a20bb5c52b3115941bd8d7a9d01f1c0f,Isaac Turner,turner.isaac@gmail.com,"calls-covg.pl: Improve analysis by var site complexity script [skip CI]

scripts/analysis/calls-covg.pl:
- give more accurate numbers, and more of them, on graph complexity around
  variant sites",2016-01-06T16:22:44Z,noporpoise
15d528df8da4a7b46dea8dfb0b0fd170316939dc,Isaac Turner,turner.isaac@gmail.com,"`clean`: --tips=X now optional arg; Fix pipeline BUG dropping multiallelics

ctx_clean.c:
- if thresholds are set to zero don't do any cleaning
- -T,--tips=X now takes an optional argument for cleaning

scripts/make-pipeline.pl:
- fix bug when using bcftools that was removing multi-allelic sites

tests/bubbles/bubbles3/Makefile:
- new test for multi-allelic sites that were being dropped

tests/clean/Makefile:
- use new --tips option

updated libraries: biogrok, seq-align, vcf-slim",2016-01-06T16:09:02Z,noporpoise
7ba4334485de3022716db44234540bf38075da9b,Isaac Turner,turner.isaac@gmail.com,"Update perl scripts to parse bubble and breakpoint files

scripts/CortexBubbles.pm:
scripts/CortexBreakpoints.pm:
 - updated to handle comments in call files

scripts/cortex_bubbles.pl:
scripts/cortex_breakpoints.pl:
 - read gzipped files

scripts/mccortex-bubbles-to-contigs.pl:
 - Add new script to convert bubble file to FASTA format",2016-01-06T15:58:27Z,noporpoise
eff2cd176bee05c0e4d0e9e1feab9709699c3110,Isaac Turner,turner.isaac@gmail.com,update vcf-slim lib to fix bug in callcov analysis,2016-01-04T15:28:40Z,noporpoise
672633a4d5e925feee5139fafb5d973c69b59bd5,Isaac Turner,turner.isaac@gmail.com,Update htslib / samtools,2016-01-04T12:46:58Z,noporpoise
665064a67f7b538ec27f725f1e3af2e80a8599a5,Isaac Turner,turner.isaac@gmail.com,Scripts: rename ctx31 -> mccortex31,2016-01-04T12:41:34Z,noporpoise
8d16a04aa7d5ed376407c80f2f8cf11765b47c64,Isaac Turner,turner.isaac@gmail.com,calls-covg.pl: count calls with covg and non-ref [thesis][skip CI],2015-12-21T17:22:02Z,noporpoise
a96a5f14acb466e4fe7902684e67d1e06a9bb495,Isaac Turner,turner.isaac@gmail.com,call covg fix 'messy' regex [thesis][skip CI],2015-12-21T15:57:19Z,noporpoise
9c5b895efe06eeef5aff36d9c053ca31ab03d7a7,Isaac Turner,turner.isaac@gmail.com,thesis: Updated analysis kleb+NA12878 [skip CI],2015-12-21T15:51:01Z,noporpoise
ca48ae716935af9891a52fba6f6803f71cf1ab87,Isaac Turner,turner.isaac@gmail.com,"pipeline: Haploid arg passed to bubble caller

1. make-pipeline.pl: pass --haploid argument to bubble caller if ploidy == 1

2. Add analysis scripts from klebsiella

3. Update library dependencies",2015-12-19T18:27:07Z,noporpoise
3c2a9b2f53c00be277b8aa820038002fa4a54470,Isaac Turner,turner.isaac@gmail.com,Analysis scripts default to python3 [skip CI],2015-12-15T13:11:32Z,noporpoise
dcb78e0f08e8c2f762ee7735868ca94b73897230,Isaac Turner,turner.isaac@gmail.com,Update paths in analysis scripts [skip CI],2015-12-15T13:06:41Z,noporpoise
241f7d76c2c95ec25cd9771cf6b9ca04aa2536c7,Isaac Turner,turner.isaac@gmail.com,Add klebsiella analysis scripts,2015-12-15T12:55:53Z,noporpoise
b9b0395e1d932868abc5c8e199c8efcce869ebcf,Isaac Turner,turner.isaac@gmail.com,Add analysis scripts [skip CI],2015-12-11T15:12:00Z,noporpoise
a5d6b4e2ce6283f6da5e1e0f63eef6d395a6dbc2,Isaac Turner,turner.isaac@gmail.com,Add some extra help info to server command,2015-12-11T11:25:57Z,noporpoise
e73c180550640e726598df0a7a15375771bb990a,Isaac Turner,turner.isaac@gmail.com,Pipeline: ensure directories exist for all targets,2015-12-11T08:05:22Z,noporpoise
858aa90cd59900d1d5d0e1de15e4ec803346654e,Isaac Turner,turner.isaac@gmail.com,Pipeline: add parameter to specify assembly/alignment distance,2015-12-11T07:40:41Z,noporpoise
3d74329f80e6c48fc34ce56291a40d2a322655e2,Isaac Turner,turner.isaac@gmail.com,Update htslib to fix errors,2015-12-09T12:17:27Z,noporpoise
3f5ee392b7c49438b49932b40352dfc17042d9cb,Isaac Turner,turner.isaac@gmail.com,Pipeline BUG fix: breakpoints_plain does not require links!,2015-12-09T11:55:33Z,noporpoise
473233a5422cebe98cfcaae54c1026c801c94163,Isaac Turner,turner.isaac@gmail.com,pipeline: create required directories before running,2015-12-07T15:32:28Z,noporpoise
1f833aaefeea23eae198220b707eb998458b6895,Isaac Turner,turner.isaac@gmail.com,pipeline: make contigs with/without links,2015-12-07T15:08:44Z,noporpoise
70e803c180a23d051529be3cd18dbaa45fc4486a,Isaac Turner,turner.isaac@gmail.com,Build test: increase kmer to avoid random matches,2015-12-07T12:00:06Z,noporpoise
504ff31c839294c6ef02b0b6536695d6b0581acb,Isaac Turner,turner.isaac@gmail.com,Build test: remove random chance of fail,2015-12-07T11:39:59Z,noporpoise
d3793930c8d7adb1d5e960af4c0084e710364db1,Isaac Turner,turner.isaac@gmail.com,"build graph: Reduce threads updating shared counter

generate_paths.c, build_graph.c:
- only update shared counter every 100 reads, reducing thread interaction.

make-pipeline.pl: use bgzip instead of gzip for contigs",2015-12-07T11:18:33Z,noporpoise
6da3791f5a45abb4636b225e3f66d17e11258760,Isaac Turner,turner.isaac@gmail.com,Minor edit to pipeline: add 'dirs' target,2015-12-01T14:16:02Z,noporpoise
55d71a624779b2581eb90d5b9e1ed79cd2bddb61,Isaac Turner,turner.isaac@gmail.com,Added script for haploid SAM/ref comparison,2015-11-30T05:54:56Z,noporpoise
ed4cc19267de0b3de60962cf43e23bae9351b760,Isaac Turner,turner.isaac@gmail.com,Fix minor issues identified by CoverityScan,2015-11-29T13:26:18Z,noporpoise
8b2927dd007404cbcaf39be56393180173ba04e9,Isaac Turner,turner.isaac@gmail.com,"Added new link plots in R

Added R scripts to plot link data (scripts/R/...)

== Tests
tests/build: More graph construction tests
src/tests/all_tests.c: run hash table tests even when MAXK!=31
src/tests/hash_table_tests.c: multithreaded tests

graphs_load.c: removed bad asserts

util.c:
- util_run_threads(): pass thread id to callback function
- added util_multi_thread()

ctx_build.c: added --intersect argument

build_graph.c:
- split out SeqLoadingPrefs to separate struct
- use thread-specific memory for stats (avoid lock contention)

hash_table.c:
- removed flakey HASH_PREFETCH, clarified threadsafe functions
- fixed possible race-condition bug in hash_table_delete()

Updated dependencies in libs/",2015-11-27T16:23:40Z,noporpoise
36487024803a5ef8b839dd79e5948e92afac14f3,Isaac Turner,turner.isaac@gmail.com,Fix bugs in plotting link coverage,2015-11-23T12:14:27Z,noporpoise
bd78e1720e82cbb4144fc92bbb9613180bb98d9e,Isaac Turner,turner.isaac@gmail.com,"Print concordance, sort genotypes",2015-11-20T15:13:33Z,noporpoise
5a034ef3f95fdee1578fa1390738a2c3a7dbe293,Isaac Turner,turner.isaac@gmail.com,Add perl scripts to print GT concordance,2015-11-20T14:03:05Z,noporpoise
9f900cf6637b9f8031ae4df1b7d67284c8181e33,Isaac Turner,turner.isaac@gmail.com,"Pipeline: Add vcfcov, vcfgeno Makefile args",2015-11-20T12:25:43Z,noporpoise
bc3ce7865e4310cf0edf87771276d54ee2481bb6,Isaac Turner,turner.isaac@gmail.com,"Rename supernode -> unitig in commands: clean, subgraph; and update cmdline options",2015-11-19T00:43:12Z,noporpoise
30f71868da46336ae8ecc8be3cd42980921064d0,Isaac Turner,turner.isaac@gmail.com,Convert non-ACGTN bases to N when producing/comparing VCFs+ref,2015-11-18T21:57:01Z,noporpoise
5cb7a3da525602fb8827e7717cac3f1c4ee709e5,Isaac Turner,turner.isaac@gmail.com,Fix bug in decomposing breakpoint calls with large overlapping flanks,2015-11-18T17:36:54Z,noporpoise
fdd9752ed1304097b218b8e2b2942bf7569aaad6,Isaac Turner,turner.isaac@gmail.com,"vcfcov: better initial memory calculation

vcfcov:
- we don't need enough memory for whole graph if --low-mem is being used
- we were under-calculating number of bits per kmer required

make-pipeline.pl:
- pass memory requested",2015-11-16T03:31:20Z,noporpoise
73a17cbb5783c17a94511fba8ff1678ae78507dd,Isaac Turner,turner.isaac@gmail.com,"Fix GFA BUG in ctx_unitigs.c

ctx_unitigs.c:
- Fix bug writing incorrect edges between two contigs when destination unitig is
  a single kmer long.",2015-11-16T03:19:59Z,noporpoise
03a2c1187ae30dd8acf4b69dc07639704e7879b5,Isaac Turner,turner.isaac@gmail.com,"Fix BUG in make-pipeline.pl breaking vcfcov

<proj>/k<k>/vcfcov/* targets listed prerequisites in 'proj/' rather than using
the variable '$proj/'.

Fixes genotyping VCFs for all pipelines where output directory is not called 'proj'",2015-11-16T01:59:16Z,noporpoise
9d3faa23d18b89640cbd58c4a9b9244e133e520b,Isaac Turner,turner.isaac@gmail.com,Tweak pipline script: use log files for nkmers,2015-11-16T01:13:41Z,noporpoise
7f19a43e6a3f04ac67e077d68b6e1c3d543fb1af,Isaac Turner,turner.isaac@gmail.com,Report generation copies scripts to report subdirectory,2015-11-15T23:46:42Z,noporpoise
c9bcd2135b5d7a2fa20884d78f4812db2600e871,Isaac Turner,turner.isaac@gmail.com,Fix genotyping calculation for het sites,2015-11-15T19:00:42Z,noporpoise
fa4902db65cacd177957cce4e48309512b8cbf9a,Isaac Turner,turner.isaac@gmail.com,"Split report from pipeline makefile (resolves #25)

make-report.pl:
- generates a latex markup + Makefile
- requires McCortex but not R or latex
- running `make` calls R + latex + McCortex plotting scripts to create PDF

make-pipeline.pl:
- don't include any report generation

scripts/R/*.R:
- add additional information to plots from expected coverage and cleaning cutoffs

tests/pipeline/Makefile:
- test report generation, but don't run latex+pdf

src/commands/ctx_view.c:
- some suggestions for improvements to the command line arguments",2015-11-15T18:59:40Z,noporpoise
b1f4023ed9545d38e3b74866232ba0a3920ed6fc,Isaac Turner,turner.isaac@gmail.com,"Generate a latex PDF report (resolves #25)

./scripts/make-report.pl:
- generate a report from a McCortex pipeline directory

Generate plots:

    ./scripts/R/install-deps.R
    make -f job.mk plots

Generate plots+report:

    ./scripts/R/install-deps.R
    make -f job.mk report

Generate latex report, don't run R or pdflatex:

    make -f job.mk report-tex

scripts/R/*.R:
- take an optional argument to plot cleaning threshold
- plot in lovely colour.",2015-11-13T17:28:20Z,noporpoise
8722f60501e45171da51c7ab8ceaca4eb3a8e2e4,Isaac Turner,turner.isaac@gmail.com,Fix GFA header line to use tab rather than space (resolves #26),2015-11-13T11:23:50Z,noporpoise
cd1e9334787d6b1ef6b4c4621e1fcedc097e0e6f,Isaac Turner,turner.isaac@gmail.com,Rename supernodes -> unitigs,2015-11-12T19:39:45Z,noporpoise
7332628a44374d4dd1e16859adbde0cae9233fb3,Isaac Turner,turner.isaac@gmail.com,"Pipeline generates PDF plots

clean_graph.c:
- use median coverage instead of mean. We can now calculate median quickly using
  the carrays library.
- rename supernode -> unitig

make-pipeline.pl:
- add print-VAR pattern to print any variable to help debugging
- make all plots with `plots` target. Requires R.

scripts/R/install-deps.R:
- install R dependencies",2015-11-12T18:57:49Z,noporpoise
c171f04ad9c6cf4a99c2592d9783ecd346f694f1,Isaac Turner,turner.isaac@gmail.com,Minor fixes to pipeline,2015-11-12T03:20:11Z,noporpoise
6799ad59af45c6b7209455948c934ceb8ac025f0,Isaac Turner,turner.isaac@gmail.com,Add missing test file,2015-11-11T20:42:33Z,noporpoise
58f9ba48378bad961c646844eb4a9dcb75836936,Isaac Turner,turner.isaac@gmail.com,"Add R script to plot link coverage; Fix test failures

scripts/R/link-cov-heatmap.R:
- add new script to plot link coverage

tests/bubble_test/:
- actually check that correct variant is called

scripts/make-pipeline.pl:
- fix issues with bcftools refusing to merge a single file",2015-11-11T18:59:42Z,noporpoise
36df69b450b3703a8bfe0e401a0fcfd968975b58,Isaac Turner,turner.isaac@gmail.com,"links: print coverage to CSV so we can plot it

ctx_links:
- option to save CSV of coverage so we can plot it
- --threshold option now takes a file to write to

file_util.h:
- function to check if we can write to an output file: futil_check_outfile()

make-pipeline.pl:
- update `mccortex31 links` usage
- rename proj/k29/bubbles/ -> proj/k29/bubbles_links/, same for breakpoints

ctx_output.c:
- more concise error messages and warnings",2015-11-11T14:32:11Z,noporpoise
48e046ad716105d727031c07efb2afb043d66ad3,Isaac Turner,turner.isaac@gmail.com,"README.md: Quickstart; decomp_bubble BUGFIX; make-pipeline.pl friendlier

README.md: add QUICKSTART guide - human VCF in 8 hours and 100GB!

src/basic/decomp_bubble.c:
* fix off-by-one affecting ~1% of placed flanks when aligning 3'

make-pipeline.pl:
- specify error rate (--err) and ploidy (--ploidy) more flexibly
- more comprehensive help
- removed proj/vcfs/1by1_samples from docs
- be more flexible when parsing sample files - allow more than one whitespace
  character between columns.
- added shorthand targets:
  * bub-vcf
  * brk-vcf
  * bub-geno-vcf
  * brk-geno-vcf
  * geno-vcfs
  * plain-vcfs
  * vcfs",2015-11-09T19:21:12Z,noporpoise
28017de457dd212cb1ff03ec56c324f8a8b2d078,Isaac Turner,turner.isaac@gmail.com,Pipeline now includes genotyping variants,2015-11-09T13:10:04Z,noporpoise
d4ea64a132275ba66f29075921fde08f5478dc5e,Isaac Turner,turner.isaac@gmail.com,"Fix BUGs in decomposing bubble finding 5' and 3' flanks

Also:
1. calls2vcf: print parameters before running
2. Makefile: compile libraries with `make RECOMPILE=1`",2015-11-09T11:17:52Z,noporpoise
513374daf818963b77b1ddf686c7a0b2ea977c74,Isaac Turner,turner.isaac@gmail.com,Fix padding bases when at zero (add base to end of alleles),2015-11-08T22:14:43Z,noporpoise
ff4a3c35835e299c3d51ee8d608621defe6b96bc,Isaac Turner,turner.isaac@gmail.com,"Make call2vcf use htslib to write VCF

Also added --out-type option to match vcfcov and vcfgeno options",2015-11-08T17:03:29Z,noporpoise
c2e62aa43077f75f087779402482c552489fb43d,Isaac Turner,turner.isaac@gmail.com,Standardise seq_reader.c: chrom_hash_*() API,2015-11-08T08:08:09Z,noporpoise
0e3680a7619299db4ef590f13f73bd7af0f4c097,Isaac Turner,turner.isaac@gmail.com,"Finish refactoring calls2vcf

calls2vcf:
* remove global variables
* error if --min-mapq used with breakpoints
* remove --max-diff argument
* print statistics after running
* set Needleman-Wunsch alignment scoring
* ChromPosOffset should use 0-based coords",2015-11-08T08:01:14Z,noporpoise
d1e8d9499565a183841c10fb2b30989bf3f864fe,Isaac Turner,turner.isaac@gmail.com,"Refactor calls2vcf to fix bubble decomp crash

Split calls2vcf code into three parts:
- decomp_bubble.{c,h}: bubble call entry + sam entry -> calls aligned to ref
- decomp_breakpoint.{c,h}: breakpoint call entry -> calls aligned to ref
- aligned_call.{c,h}: aligned call -> VCF entries

This allows us to use different strategies to realign breakpoint/bubble calls,
against the reference.",2015-11-07T06:31:16Z,noporpoise
8c2e9f3e4765addcd56f7e3aa5e63537365fbda7,Isaac Turner,turner.isaac@gmail.com,bubbles: add --keep-serial option,2015-11-04T13:45:53Z,noporpoise
257d7152c75f217b8d01a4a949d4edc8d2565827,Isaac Turner,turner.isaac@gmail.com,vcfcov: don't crash if there's header line missing (e.g. 'contig='),2015-11-04T12:02:28Z,noporpoise
ddeb57a2cc1024324afc9e0c3cfb50eff4249122,Isaac Turner,turner.isaac@gmail.com,Add --low-mem test,2015-11-04T11:07:51Z,noporpoise
5e1edeca0e0cf9703ff0669effdb641714bd291d,Isaac Turner,turner.isaac@gmail.com,Added missing Makefile,2015-11-04T10:40:34Z,noporpoise
e49c3fb5a642d5d6aefcc9302946ceda887eef54,Isaac Turner,turner.isaac@gmail.com,Faster tests for Travis CI,2015-11-04T10:01:05Z,noporpoise
0af23bc4f6eccb0cfde79ec0f695cc3dc861124e,Isaac Turner,turner.isaac@gmail.com,Turn off debugging macro,2015-11-04T00:18:47Z,noporpoise
ca6628ba969389d5c6d92c716577278a79ced92c,Isaac Turner,turner.isaac@gmail.com,"Make vcfcov handle indels better

vcf_coverage.c:
- fix BUG that was dropping overlapping indels from list of background variants
  needed to genotype one or more target variants
- Improvement: drop variants that come after large deletions, even if we keep
  the deletion. Should allow us to genotype more variants.
- load kmers into the graph instead of getting coverage if requested
- added debugging output with DEBUG_VCFCOV switch

genotyping.c:
- extend haplotype by k bases either side of first and last variable. This is
  required for large deletions sandwiching target variable being genotyped.

vcfcov:
- Added --low-mem option two pass over VCF to load only kmers required
- report cleanly if we cannot open input VCF
- tests/vcfcov/calls5: extra test for large indels

ctx_vcfgeno.c:
- report cleanly if we cannot open input VCF

util.c:
- convert binary value to string: bin63_to_str()

graph_load.c:
- don't assume must_exist_in_graph and must_exist_in_edges imply each other and
  allow the use of must_exist_in_graph even when not loading edges.",2015-11-04T00:17:38Z,noporpoise
16563e13c61f621aee284df5f0ddcb6d424f3f44,Isaac Turner,turner.isaac@gmail.com,"Fix bug in multi-branch bubble filtering

bubble_caller.c:
- add option to remove serial bubbles

graph_cache.c:
- fix BUG in graph_cache_is_3p_flank() for more than two bubble branches

tests/bubbles:
- added tests for haploid bubble calling",2015-11-02T12:34:22Z,noporpoise
929bd724a6fb621734a7102d5994e6a9ec15c946,Isaac Turner,turner.isaac@gmail.com,"Bubble caller bug fixes

bubble_caller.c:
- Fix BUG in detecting if a bubble is a bubble in a haploid sample.
- Add test for serial bubbles and don't print them out
- report number of haploid and serial bubbles dropped

util.c:
- added tests for ulong_to_str()",2015-11-02T03:34:55Z,noporpoise
f507fc1ce36110b76f477ea42175f3255b119a94,Isaac Turner,turner.isaac@gmail.com,More robust hex_rand_str() across platforms,2015-11-01T15:16:41Z,noporpoise
3fe2719df17650e3b408ecfb7d6ab81aebec4f09,Isaac Turner,turner.isaac@gmail.com,Makefile -I include path to libs and libs/htslib only,2015-11-01T14:31:20Z,noporpoise
24d0114526b4cd15b7a313043b0a4af3d8fe4403,Isaac Turner,turner.isaac@gmail.com,Fix issues found with Coverity Scan,2015-11-01T06:51:12Z,noporpoise
c8132c080c3cb7dcb633cce03f54372197167081,Isaac Turner,turner.isaac@gmail.com,Attempt to setup CoverityScan again,2015-11-01T06:13:23Z,noporpoise
a4ff37caa114bfb03a0a11d977472b024b9198aa,Isaac Turner,turner.isaac@gmail.com,Attempt to fetch git repos recursively,2015-11-01T05:59:25Z,noporpoise
e9f6266008d6d918dc4932ec83a9c6db8d3b466f,Isaac Turner,turner.isaac@gmail.com,Coverity+Travis CI attempt to fix,2015-11-01T05:52:28Z,noporpoise
59f5f83c5523aca7c103df92e43b67b0ec05aaef,Isaac Turner,turner.isaac@gmail.com,Merge,2015-11-01T05:43:03Z,noporpoise
3e3180d2f52a94591314361cd6e7d2962def226e,Isaac Turner,turner.isaac@gmail.com,Fix compiler warnings on some platforms,2015-11-01T05:26:43Z,noporpoise
1c8c1231c919c3e8317eaf8b6e7ffac9d2d20d87,Isaac Turner,turner.isaac@gmail.com,"vcfcov+vcfgeno giving sane results

src/commands/ctx_vcfgeno.c
- add --cov command to take genome rather than kmer coverage
- read sample mean read length from VCF header after vcfcov
- add --read-len option to override read lengths from VCF header
- add --rm-cov to remove annotations added to the VCF by vcfcov
- use read (instead of kmer) arrival rate which gives better likelihoods
- report GQ (genotype quality) as an int32 (instead of float) inline with VCFv4.2
- report GL (genotype log likelihoods) in log10 (instead of ln) inline with VCFv4.2
- report GL to only two decimal places

util.c:
- generalised parse_list function parses comma-separated elements
- added parse_list_sizes(...)

src/tools/vcf_coverage.c
- split vcf coverage code out from ctx_vcfcov.c into separate file

ctx_clean.c:
- fixed bug in merging multicolored gtahs using intersectio / union edges
  Graph needs to be set to one colour before flat graph loading.

Makefile
- add STRICT option to turn on more gcc/clang warnings

Split out stats structs for graph reading / sequence reading
- Rename LoadingStats -> SeqLoadingStats
- Add GraphLoadingStats",2015-11-01T05:04:31Z,noporpoise
c62833e7a3679eba69d5f074d62bc681d04e800e,Isaac Turner,turner.isaac@gmail.com,vcfgeno: add --llk option to print all likelihoods,2015-10-30T12:17:59Z,noporpoise
c1f1b46eded42ffaac0b3542a6e232770a86bd29,Isaac Turner,turner.isaac@gmail.com,"vcfgeno report GT likelihood GQ

vcfgeno:
- report genotype likelihood GQ
- set default error rate to 0.01, --err now optional
- --ploidy arg can be a single number

scripts/cortex_to_graphviz.pl:
- call mccortex31 rather than ctx31",2015-10-30T10:59:04Z,noporpoise
dfd7ad4b5a4c591a0e0cb2262e751481ca769cd2,Isaac Turner,turner.isaac@gmail.com,"Added vcfgeno command

vcfgeno:
- apply cortex genotyping model to VCFs that have been annotated with vcfcov

src/tools/vcf_misc.{c,h}:
- added new file for functions fiddling with VCF files

graph_file_merge_header.c:
- added graph_file_merge_header(hdr, file) to clear up code duplication when
  merging graph file headers

ctx_view.c:
- report per colour number of kmers and mean kmer coverage

Remove bin/ctx31 etc which used to link to bin/mccortex31",2015-10-29T20:54:42Z,noporpoise
2b13c5e3af8bb1da64191b5bf8ebed87e5ceae29,Isaac Turner,turner.isaac@gmail.com,"vcfcov: clearer VCF sample format

make-pipeline.pl:
- add --single-colour option to avoid inferring edges

vcfcov.c:
- report sum(covgs) / expected_n_kmers
- don't report previously used coverage / nkmers numbers
- add command string to output VCF header
- print stats on total number of kmers used
- updated tests to reflect changes

libs/carrays:
- add libs/carrays library to quickly get array median using qselect()

util.c:
- remove functionality that has moved to carrays

General:
- comparison functions use cmp() macro instead of weird (long) casting
- use gca_median() instead of sorting then picking median",2015-10-28T00:46:01Z,noporpoise
c5c8b274e7dbdc4b561cb91ffd17779af019522b,Isaac Turner,turner.isaac@gmail.com,Fix bug in make-pipeline.pl not using BUILD_ARGS,2015-10-22T19:29:11Z,noporpoise
b10924329942a23af1ea694a40b24e5e684d39bf,Isaac Turner,turner.isaac@gmail.com,"vcfcov: bug fixes and more tests

1. Bug fix: Needed to infer if a variant's ref or alt or neither allele is
   represented in a haplotype. See genotyping.h:altrefbits().
   Previously the only haplotype to give kmer that supported ref alleles was
   the 'all ref alleles' haplotype: (0,0,...,0).

2. Bug fix: some off-by-one issues when grouping into blocks

3. Bug fix: print out variants that are longer than max_allele_len instead
   of dropping them from the output file. To do this we have to load all
   alt alleles into the print buffer.

4. Added HK21R,HK21A INFO fields to record how many kmers were possible on the
   constructed haplotypes. This can then be compared to the actual number found
   in the graph per sample.

5. Report mean coverage rounded to nearest integer

6. Better clearing of memory to 'missing' so large indels are properly reset.

7. Added more test cases

8. Fix un-freed memory on exit",2015-10-21T01:10:43Z,noporpoise
f3f074f1aaa26810527bc1aa53c8f53c0a8a897a,Isaac Turner,turner.isaac@gmail.com,vcfcov: saturation test,2015-10-19T16:37:39Z,noporpoise
7130893b43600e0c815b7df46c1bcf6967e466c8,Isaac Turner,turner.isaac@gmail.com,"Fix mccortex-server.py to exit cleanly

mccortex-server.py was not exiting cleaning on SIGINT (^C) due to the signal
being passed to the subprocess which was being killed by it. We now catch the
SIGINT instead of passing it to the subprocess, and give bin/mccortex31 a chance
to shutdown cleanly by printing an exit command to it (""q"").",2015-10-19T15:29:28Z,noporpoise
cb45499d89ce7bd81239bfac0bfe6c3dab1e50d2,Isaac Turner,turner.isaac@gmail.com,Add new test case to vcfcov,2015-10-19T00:45:52Z,noporpoise
5a4b82d7a44191277443159a4e70f711f6568971,Isaac Turner,turner.isaac@gmail.com,breakpoint caller: add max run with ref to stop after,2015-10-19T00:37:17Z,noporpoise
ab50193cc5c3fbd35f9194c4510ff236e48bf9a6,Isaac Turner,turner.isaac@gmail.com,"Fix breakpoint caller for single samples

breakpoint_caller.c: don't require a fork to find breakpoints. Just look for
a kmer in the ref connected to a kmer not in the ref.
Previously we loaded and merged the reference and sample edges. Splits from the
reference caused unitigs to end. Therefore we only needed to look at the end of
a supernode for a sample splitting from the ref. If we don't infer edges on a
single sample, we can't load the reference edges. This should have no effect on
breakpoint variant calling. However the reference may join in the middle of a
unitig so we need to check for this.

NOTE: Bubble calling will not work with links and SINGLE_SAMPLE=1 due to the use
of the reference as a separate colour.

src/commands/ctx_calls2vcf.c:
* don't name variants in VCF, set ID field to '.'
* breakpoint calls: if two clamps of the same size, take the one closest to
  the breakpoint.

scripts/make-pipeline.pl:
* fix bug that was only passing --no-ref-edges to the breakpoint caller when it
  shouldn't.
* bcftools needs to call norm twice to normalise then remove duplicates
* don't rename variants during VCF filtering

kmer_occur.h:
* rename kmer_run_buf_*() -> korun_buf_*()
* lots of refactoring of public methods

graph_cache.h:
* rename GCacheSnode -> GCacheUnitig
* rename cache_snode_buf_*() -> cache_unitig_buf_*()

src/basic/hash.h: gather hash functions under ctx_hash32(), ctx_hash64()

scripts/R/plot-covg-hist.R: use Rscript for easier calling

db_node.h: added db_nodes_get() to get a node from a contig with orientation",2015-10-18T22:18:42Z,noporpoise
871fe12816c10abd18269e655654d3dfe5510b78,Isaac Turner,turner.isaac@gmail.com,"Tests and bug fixes for vcfcov

tests/vcfcov/:
* added tests for vcfcov command, caught and fixed a few bugs

ctx_vcfcov.c:
* check reference alleles match the reference
* fix bug in grouping VCF alt alleles into blocks
* print in uncompressed VCF format by default

genotyping.c:
* fix bug in coding of altref bits (only all-ref should be coded 010101...)

ctx_coverage.c:
* don't use FASTA title character '>' in edge degrees

Makefile: don't build support tools with make
1. make all -- cd libs && make core other
2. make -- cd libs && make core",2015-10-16T07:52:07Z,noporpoise
2cb706a9aa6e1e78057b6adad5b71042cdb6e39a,Isaac Turner,turner.isaac@gmail.com,"vcfcov: specify output type and lower memory usage

1. add output format option --out-fmt <F>, where v=>vcf, z=vcf.gz, b=>bcf ...
2. guess output format if not specified
3. print output format
4. handle alleles gradually even when full of a long stretch of overlapping
   variants",2015-10-14T16:28:50Z,noporpoise
4f226cea2a45fb4a4931f4a55d97af2c8a9c550b,Isaac Turner,turner.isaac@gmail.com,"Add --no-ref-edges option to breakpoint caller and pipeline

scripts/make-pipeline.pl:
* add SINGLE_SAMPLE=1 option to turn off infer edges when using a single sample
* document all Makefile options
* check sample names for prohibited names
* give build and thread the same --fq-cutoff
* don't pass ref graph building --fq-cutoff and --hp-cutoff arguments!

src/commands/ctx_breakpoints.c:
* add --no-ref-edges option to avoid loading ref edges

src/tools/breakpoint_caller.c:
* add parameter load_ref_edges",2015-10-14T16:17:22Z,noporpoise
61bc83859446d2fd013713442863e24f4871457b,Isaac Turner,turner.isaac@gmail.com,ctx_build.c: check for valid sample names,2015-10-14T16:10:49Z,noporpoise
393ff58a57158c6614e6d11657abd0a29f338f9e,Isaac Turner,turner.isaac@gmail.com,"Add more fasta header lines to `coverage` output

src/commands/ctx_coverage.c:
* improve output format so it can be read more easily
* print number of reads loaded after running",2015-10-14T16:09:41Z,noporpoise
a8179f63438fd4e79233ac9d3771e43cff041dc6,Isaac Turner,turner.isaac@gmail.com,vcfcov: print statistics,2015-10-11T17:38:04Z,noporpoise
2889d45aeb6e1bcb7600de27d33f095ad646a128,Isaac Turner,turner.isaac@gmail.com,"Fixed bug constructing haplotype strings; renamed some things;

Fixed bug in genotyping.h constructing haplotype strings

ctx_vcfcov.c:
* added -L,--max-var-len <L> option
* added -N,--max-nvars <N> option

Renamed:
* GenoVCF -> VcfCovLine
* GenoVar -> VcfCovAlt
* genovcf_ptr_list_*() -> vc_lines_*()
* genovar_ptr_list_*() -> vc_alts_*()",2015-10-09T21:15:57Z,noporpoise
cddee63d732b477189666ed84264d565f38e938d,Isaac Turner,turner.isaac@gmail.com,"Fix bugs in vcfcov; do not hide vcfcov command

Fix bug in madcrowlib_list.h unshift() for n>1

ctx_vcfcov.c:
* only create output file if it doesn't already exist
* set coverage to 'missing' in dense areas of variants

genotyping.c:
* fix bug in assembling haplotype for ntgts > 1

mccortex.c: don't hide command 'vcfcov'",2015-10-09T13:55:42Z,noporpoise
4abd6dbbf42d855d2ff8ba13de0aa1c11a8797d2,Isaac Turner,turner.isaac@gmail.com,Rename vcfhp repo to vcf-slim,2015-10-08T23:53:41Z,noporpoise
edc9ffca8e175106a25be9157c45e0bc64aa71f8,Isaac Turner,turner.isaac@gmail.com,vcfcov working: coverage of a VCF+ref against the graph,2015-10-08T23:21:18Z,noporpoise
086b3be3d088c818e53ededaea7617cde02a7eb0,Isaac Turner,turner.isaac@gmail.com,Fix memory bugs in ctx_geno.c,2015-10-03T17:12:33Z,noporpoise
1db57a237e03d0bc8da068d84478fb69c4483cdf,Isaac Turner,turner.isaac@gmail.com,Updated libraries,2015-09-30T23:42:59Z,noporpoise
3f76310d9fc43bdf332e1222ffaa9968e5107448,Isaac Turner,turner.isaac@gmail.com,"Update dependencies

util.h:
* added array_reverse()
* added array_shuffle()
* added sarray_bsearch()

updated libraries: madcrowlib, sort_r, vcfhp

fix scripts/R/plot-length-hist.R to work with latest CSV output

update permissions on R scripts (chmod +x)

ctx_geno.c almost works, need to resolve htslib issues.",2015-09-29T14:25:02Z,noporpoise
4c6a84810bbb04f82c461de617fab30621f08cf1,Isaac Turner,turner.isaac@gmail.com,"Added homopolymer run annotation to VCFs with vcfhp[1] (fixes #19).

Also:

1. make-pipeline.pl: output biallelic sites instead of combining into multiallelic

2. util.c: added array_cycle_left/right(), added tests in util_tests.c

3. cleared up genotyping.h

4. updated libraries

5. removed trailing whitespace at the end of lines

[1] vcfhp: https://github.com/noporpoise/vcfhp",2015-09-26T10:44:24Z,noporpoise
b095ac1581b33fac625705d334213f0517d39ae8,Isaac Turner,turner.isaac@gmail.com,Fix size_t/long usage with fread()/fwrite(),2015-09-20T22:31:08Z,noporpoise
218f218bc2cd4fd03d5ae7295293d66d372b7e4b,Isaac Turner,turner.isaac@gmail.com,"Moved util_fcheck()/util_gzcheck() from util.h -> file_util.h

Moved functions to more sensible file:
util.h:util_fcheck() -> file_util.h:futil_fcheck()
util.h:util_gzcheck() -> file_util.h:futil_gzcheck()",2015-09-20T22:16:11Z,noporpoise
7a3a1814bed8e89d5929012a6835ebbdacb00bf0,Isaac Turner,turner.isaac@gmail.com,Added missing files,2015-09-20T22:08:23Z,noporpoise
0ba1504575a959d462832d9ee1b994db62bf17b7,Isaac Turner,turner.isaac@gmail.com,Add make-pipeline.pl option to turn off inferedges (fixes #21),2015-09-20T22:05:43Z,noporpoise
64bbe46796046ef27ec73c75895468c9f080bf64,Isaac Turner,turner.isaac@gmail.com,"Added buffered graph reading/loading

Fixes #22: 'Buffered graph loading' which appears to half graph loading times

Added file error checks (util_fcheck(), util_gzcheck())

Renamed graph_reader.c -> graphs_load.c

Current graph file responsibilites
* graph_file_reader.c: Reads graph files
* graphs_load.c: Loads graphs into memory
* graph_writer.c: writes graph files and merges graph files on disk

Changed genotyping.h interface to make it more flexible

Simplified ctx_index.c, also changed output format of index files
(e.g. `graph.ctx.idx` files)",2015-09-20T21:53:54Z,noporpoise
aca29d1b3f7952693e2b5aeb7f14fa90b78f8993,Isaac Turner,turner.isaac@gmail.com,McCortex server support on python2 and python3,2015-09-18T17:03:12Z,noporpoise
0908a1c58ffa0e92a7cc958f4efeccd12167842c,Isaac Turner,turner.isaac@gmail.com,"Improved cleaning threshold choice

With low coverage data on small graphs, picking a cleaning theshold would often
be unreliable. For instance, poor cleaning thresholds often caused the
`tests/pipeline` test to fail.

I have added two new approaches to pick the cleaning cutoff. The approaches are
tried in turn and we stop when we have sucessfully found a cutoff. Code is a bit
tidier in clean_graph.c with shorter methods.

cleaning_pick_kmer_threshold() doesn't take an FDR parameter anymore. Instead
we use 0.001 and try a different approach if it fails to find a suitable cutoff.
When fitting our error model we now force beta to be >=1 to avoid a poor fit.",2015-09-17T22:52:48Z,noporpoise
fb2f22716fb52b28f30ff8cde5c60789df3a0f08,Isaac Turner,turner.isaac@gmail.com,Fixed occassional failure of tests/build,2015-09-16T09:18:48Z,noporpoise
578a2722c09f597f0432fbf089a3fe7593f262b4,Isaac Turner,turner.isaac@gmail.com,Travis CI/linux/perl debugging x2,2015-09-16T07:29:17Z,noporpoise
585ad06ac606d62c78d7be722ab0110ef8ef3fef,Isaac Turner,turner.isaac@gmail.com,Travis CI/linux/perl debugging,2015-09-15T18:13:40Z,noporpoise
a96eb161b5dd73bb04d41cf1042720d2af60a022,Isaac Turner,turner.isaac@gmail.com,Attempt to fix Travis CI linux/perl issue with tests,2015-09-15T18:05:03Z,noporpoise
1c102c1b1110ae62a81d529838314ec4398b6710,Isaac Turner,turner.isaac@gmail.com,Attempt to fix perl / Travis CI issue with tests,2015-09-15T17:55:29Z,noporpoise
79243d8bfed8b64899e0aa03f54ea176a4d1d2fe,Isaac Turner,turner.isaac@gmail.com,Fix dist matrix test perl on linux,2015-09-15T17:41:03Z,noporpoise
4f742e706d33657c185948dab630ddc0f3bf99cf,Isaac Turner,turner.isaac@gmail.com,Add distance matrix command,2015-09-15T17:01:45Z,noporpoise
2286452684724f2cd6f30ce19b0f846a307eaad7,Isaac Turner,turner.isaac@gmail.com,Update libraries,2015-09-14T15:41:57Z,noporpoise
f72428429f653b6ade7c0a7c20b37a65ccf15dbf,Isaac Turner,turner.isaac@gmail.com,ctx_server.c: update help message [skip CI],2015-09-14T15:38:29Z,noporpoise
ba64bfe93bdc9c713a491a2fe2b38345be1d394d,Isaac Turner,turner.isaac@gmail.com,ctx_server.c: added 'info' command,2015-09-14T15:35:07Z,noporpoise
0aa99baa03675d3b21cf7bef2f20d6af3f4c051b,Isaac Turner,turner.isaac@gmail.com,"Added 'random' command to webserver

Requesting `curl localhost:2306/random` when the webserver is running returns
a random kmer or '{}' if after 100 tries we have not found a kmer.

Also improved random seed generation for srand()",2015-09-09T19:28:51Z,noporpoise
ecfbfdf4072cf56a966ae44f0880d9472cedb4a9,Isaac Turner,turner.isaac@gmail.com,"Minor fixes to HTTP server

Server updates:
* check server is alive before and after reading a query response
* don't hang on empty queries, don't allow very long queries
* print link `forward` field as boolean rather than string",2015-09-09T18:18:00Z,noporpoise
ee2637abab5916d1e440ea95dc720ae224e15520,Isaac Turner,turner.isaac@gmail.com,"Use file seeking instead of mmap to merge files (fix #17)

Merging graphs for large populations using mmap was failing with ""Not enough
memory"" error. Instead we read the graph file in blocks, update block, seek
backwards and overwrite.

May also want to try same approach on ctx_infer_edges.c:inferedges_on_mmap().",2015-09-09T16:46:00Z,noporpoise
e458358de96e7a6a60e127ef225e6e7047f1fc88,Isaac Turner,turner.isaac@gmail.com,"Added HTTP server to query graph

scripts/mccortex-server.py:
Added python script to provide HTTP server frontend for querying the graph via
`mccortex31 server` command

ctx_server.c:
* Added --single-line, --coverages and --edges options
* when generating response, write into string buffer, then flush buffer",2015-09-08T20:42:37Z,noporpoise
6fd2d682cd5ff7e464167126689d810aef96bc4f,Isaac Turner,turner.isaac@gmail.com,ctx_server.c: don't crash when no links loaded,2015-09-08T13:03:10Z,noporpoise
b6b25e1ff57c9173aa7e3d3476ce3d83670563c9,Isaac Turner,turner.isaac@gmail.com,Update bcftools options,2015-09-07T23:06:43Z,noporpoise
c024639fc621ebb62c60b81310d0aabc30a9a523,Isaac Turner,turner.isaac@gmail.com,ctx_server.c: Flush fout after writing response,2015-09-07T08:42:21Z,noporpoise
99836362cf881803a61d4d510ea92da3b1178967,Isaac Turner,turner.isaac@gmail.com,"Only pick up links if we are on a node in walking colour (BUG fix)

Should fix rare bugs in multicolour traversal

graph_walker.c:
- only pick up links if we are one a node in the colour we are walking
- more const correctness",2015-09-06T21:05:23Z,noporpoise
29938bc8f67b8aece228d515abbc2ab643e22044,Isaac Turner,turner.isaac@gmail.com,Updated seq-align library,2015-09-06T01:38:30Z,noporpoise
ae63b8554e029f225d8754891088d48407634ace,Isaac Turner,turner.isaac@gmail.com,"Added 'server' subcommand to query graph

Useful for debugging. Should be very useful in supporting apps that query the
graph / links without having to load the files themselves.

Updated third party dependencies.",2015-09-06T01:35:01Z,noporpoise
b19f359567452602c02a3e2c95f4a47f3dc38d66,Isaac Turner,turner.isaac@gmail.com,Travis CI: try to fix local path to perl modules,2015-09-02T20:52:28Z,noporpoise
a32dc29a16882a047064b2d2534726c857b95e48,Isaac Turner,turner.isaac@gmail.com,Travis CI: Fix path to cpanm,2015-09-02T20:42:10Z,noporpoise
b011b0d83b2c67531f321f5c0104a77f74de9dd8,Isaac Turner,turner.isaac@gmail.com,Travis CI: Attempting local installation of perl dependencies,2015-09-02T20:35:38Z,noporpoise
c39ff78fbb37eb7a0f190843be8bd4c0648e3eb9,Isaac Turner,turner.isaac@gmail.com,"Travis CI: Install cpanm, use it to install JSON",2015-09-02T16:40:08Z,noporpoise
71038e6221f24c07c4cdd5efc3b04ecf4034efae,Isaac Turner,turner.isaac@gmail.com,Travis CI: Attempt to test on mac using cpanm for perl JSON,2015-09-02T16:12:09Z,noporpoise
2769e3e157c86b63a7c16e0668129f42250c513c,Isaac Turner,turner.isaac@gmail.com,"Try to get Travis working with mac & linux

Attempt to install JSON perl module on both mac and linux

== Missed commit message from previous commit fea28bdcbd8e314cf8d4b0f8306fe8388f2392a1

Fixed issues with miscalculating required memory for loading link files

Fixed bug under-estimating required memory for loading link files
(We were not counting colset bytes)

Added scripts for counting links in files:
+ scripts/links-bytes.sh
+ scripts/links-count.sh",2015-09-02T15:20:19Z,noporpoise
fea28bdcbd8e314cf8d4b0f8306fe8388f2392a1,Isaac Turner,turner.isaac@gmail.com,commit.txt,2015-09-02T13:56:32Z,noporpoise
20e0fdd1ec861668d98c5fe6e603137f949b0d52,Isaac Turner,turner.isaac@gmail.com,Update seq_file,2015-08-19T10:13:46Z,noporpoise
e6180b0cfe496ea513329f59cd4fe4903001cc1c,Isaac Turner,turner.isaac@gmail.com,Fix make-pipeline.pl error when dealing with interleaved files,2015-08-19T10:09:45Z,noporpoise
49479e80579cbdf1e590d6786d03d8d7baea65a1,Isaac Turner,turner.isaac@gmail.com,Travis CI and scripts/update.sh: recursively update submodules,2015-08-18T16:04:54Z,noporpoise
b0c6e1207b7a89a3ae65a16201ed42dfd99690f7,Isaac Turner,turner.isaac@gmail.com,Updated libraries,2015-08-18T15:20:09Z,noporpoise
55655457659f0e382c5e38a4c7ef61340d665dd2,Isaac Turner,turner.isaac@gmail.com,Turn off link gap filling check by default [skip CI],2015-08-10T20:08:02Z,noporpoise
d7011673ee97d92eb124a3a4c88efac1b39756b1,Isaac Turner,turner.isaac@gmail.com,Add GFA doc to README + mccortex help [skip CI],2015-08-10T19:50:54Z,noporpoise
40411e1e0b051c67a09044d097ee8d70a22ecd7b,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG reading interleaved BAM files (resolves #14)

1. Use seq_file.h new seq_read_primary() function to read only primary reads
2. When input is an interleaved file and is a BAM/SAM, use first read flag
   to orient first/second read in mate pair.
3. Remove some safety checks now that we aren't seeing link bugs anymore
4. Remove gpath_follow.h cache -- too much complexity, probably not faster",2015-08-10T19:34:31Z,noporpoise
5219a0bb93376e4d53204afdf0863ff19bdf22fe,Isaac Turner,turner.isaac@gmail.com,coverity_scan .travis file,2015-08-09T16:26:43Z,noporpoise
bd5ed115683a8b92b7d309ef00cc52ed30c3170a,Isaac Turner,turner.isaac@gmail.com,Attempt to integrate CoverityScan again,2015-08-09T16:12:33Z,noporpoise
1c03e3760bdce79adebeb81f1f1f19069dde3b11,Isaac Turner,turner.isaac@gmail.com,Use new Travis CI + Coverity Scan integration,2015-08-09T15:52:34Z,noporpoise
160fcacefdd79d1109d0e2cba31f6147df9b8ff6,Isaac Turner,turner.isaac@gmail.com,Update README [skip CI],2015-08-07T20:27:52Z,noporpoise
01312de7d2ad44ac4c8a696b94424be337c06799,Isaac Turner,turner.isaac@gmail.com,Restore Travis CI settings,2015-08-07T20:17:14Z,noporpoise
0665fcc58835018dc6390a792460452e2c6a2ffd,Isaac Turner,turner.isaac@gmail.com,Attempt to use Travis CI without sudo,2015-08-07T20:06:09Z,noporpoise
f2915cdf3997b81844b1a68e26cbb1e8e79bcd85,Isaac Turner,turner.isaac@gmail.com,Removed legacy --graphviz options from tests,2015-08-07T19:57:16Z,noporpoise
50566e1f5696f9d922bcf30f178d105660d9ba05,Isaac Turner,turner.isaac@gmail.com,"Added GFA output; Fixed bug in supernode normalisation

0. Added unitig_graph for storing untig ends on kmers
1. Renamed ctx_supernodes -> ctx_unitigs
2. Added GFA output to `mccortex unitigs` alongside Graphviz (dot) and FASTA formats
3. BUG FIX for accidently classifying some supernodes as cycles
   (failed to check edge actually existed between kmers)
4. hash_table.h:
  a) ITERATE methods got a minor update, may avoid some dereferencing
  b) Added hash_table_iterate() for multithreaded iterating across the hashtable
5. Updated libary submodules in libs/",2015-08-07T19:35:47Z,noporpoise
aa00f92aba9f039718240d51209fa8d81984c20f,Isaac Turner,turner.isaac@gmail.com,make-pipeline.pl: Fix bug loading first graph twice in bubbles+plain+joint calling,2015-07-20T16:14:50Z,noporpoise
57659fc961a3baf78d5231792e7df4557aa7e008,Isaac Turner,turner.isaac@gmail.com,Pass max frag len in simulation,2015-07-20T15:22:35Z,noporpoise
02009f79d6c47c5a12d6df5b916fa1e1be6f7c53,Isaac Turner,turner.isaac@gmail.com,Update single human McCortex/Cortex simulation,2015-07-20T15:03:15Z,noporpoise
8c47b58ff019aacea8a8993f2628eab50ceb57e0,Isaac Turner,turner.isaac@gmail.com,Add 10 ecoli results; Update single human simulation,2015-07-20T14:46:17Z,noporpoise
14732a7fd063d0355811296edc7e34b197832922,Isaac Turner,turner.isaac@gmail.com,Cortex output filenames have changed,2015-07-20T04:24:17Z,noporpoise
feb3d4ffcdec09fa8d49db48a22530f2a772a503,Isaac Turner,turner.isaac@gmail.com,Add dnacat path to bubble_calling simulations,2015-07-20T03:44:57Z,noporpoise
322f59b5761360a030b4e0b5337fc69e8275e4b3,Isaac Turner,turner.isaac@gmail.com,Fix k=21 for 10 ecoli Cortex sim,2015-07-13T14:47:16Z,noporpoise
d025b4157b6c42a39a5fe08a24c8b6801c7f2121,Isaac Turner,turner.isaac@gmail.com,Fix Makefile quoting on Cortex simulation,2015-07-13T14:31:32Z,noporpoise
43ee1c1b710b425747f42fdb93698b8b2e38312d,Isaac Turner,turner.isaac@gmail.com,Fix simulation: missing stampy hash construction,2015-07-13T13:20:43Z,noporpoise
9adb394ce978c2cbd7f718da6e08beae5ea54dbc,Isaac Turner,turner.isaac@gmail.com,Update dependencies,2015-06-29T11:18:58Z,noporpoise
0dd1f31806078a4cc5d074030cdb2a4d37be84f9,Isaac Turner,turner.isaac@gmail.com,Include graph info about reference sample in breakpoint header,2015-06-21T20:28:31Z,noporpoise
45362dcdc2cda895a895491bf932e42b8962d46c,Isaac Turner,turner.isaac@gmail.com,"Fix breakpoint caller bug when using only one colour

src/commands/ctx_breakpoints.c:
src/tools/kmer_occur.c:
src/tools/breakpoint_caller.c:
Add the reference as its own colour so that there are always >1 colours for
breakpoint calling. This avoids the scenario where we think we have only 1
colour and so do not bother to check that kmers are in our colour. This was
causing GraphWalker to abort. In future, all kmers should belong to a colour!

results/bubble_caller_10ecoli/Makefile:
Added missing path to stampy",2015-06-18T11:31:02Z,noporpoise
7521a3757af2a3051645b988f164ec07c6b3d385,Isaac Turner,turner.isaac@gmail.com,Added results from previous bubble_caller_10ecoli run [skip CI],2015-06-17T20:05:46Z,noporpoise
4bdfc7684fa5612468ff3e2b7887a626bad91982,Isaac Turner,turner.isaac@gmail.com,"Improve 10 ecoli simulation

Run Cortex both joint/1by1
Run McCortex with all combinations of bubble/breakpoint + links/plain + joint/1by1

Use stampy as the mapper instead of BWA",2015-06-17T20:01:59Z,noporpoise
d778e68f4f4b95cffb67c17ffd67c835764e75a9,Isaac Turner,turner.isaac@gmail.com,"Require cleaning keeps at least 20% of kmers

tests/pipeline/:
- Add error to pipeline simulation to avoid issues with error cleaning
  removing all kmers in the graph.",2015-06-17T19:12:01Z,noporpoise
ffd24a61c854d253e423d36e41feded35bbd285c,Isaac Turner,turner.isaac@gmail.com,"Fix occasional failure of tests/pipeline due to auto cleaning threshold

clean_graph.c:
- fail to find cleaning threshold if suggested cutoff is >= avg kmer covg
  (fixes occassional failure of tests/pipeline/ test).

make-pipeline.pl:
- take X=true|false as well as 1|0 and yes|no
- <outdir>/vcfs/1by1_samples/ files should be compressed VCF not BCF

tests/pipeline/:
- smaller insert should give more even coverage on small genome

Minor modifications to output from simulations",2015-06-17T18:03:38Z,noporpoise
174bcdfc4416a05d82f5cd5e81ff09b22e752918,Isaac Turner,turner.isaac@gmail.com,make-pipeline.pl: (1by1 calling) No need to merge per sample across kmers if only one kmer used,2015-06-17T15:16:10Z,noporpoise
551ab10a3113688d102eb4458e87a1a627b2ba48,Isaac Turner,turner.isaac@gmail.com,"ctx_thread: add -0,--zero-paths to avoid double counting when doing PE threading",2015-06-17T14:13:07Z,noporpoise
54b0e84a1ce3f2b66c79aeba0eff75e78557d134,Isaac Turner,turner.isaac@gmail.com,Only pick up a counter link if it is long enough to be useful; Fixes rare crash,2015-06-17T13:20:06Z,noporpoise
b615edd0300af85f013d2e9b6efd2ef4d67eaaf2,Isaac Turner,turner.isaac@gmail.com,Added fragment length warning when threading reads,2015-06-17T10:48:45Z,noporpoise
7118a645b59d961981f84597be9b9f9d550bd75d,Isaac Turner,turner.isaac@gmail.com,Simulations: use isec script to count sites for sensitivity/specificity,2015-06-15T17:45:24Z,noporpoise
e30cdea0a82efa33ae86e0988064d44923c0772c,Isaac Turner,turner.isaac@gmail.com,Added script to count intersections between VCFs,2015-06-15T14:11:05Z,noporpoise
9e398e4322ff922cd54f140ccbc937623753a2ca,Isaac Turner,turner.isaac@gmail.com,make-pipeline.pl: fix parse bug in JOINT_CALLING/USE_LINKS; add 10 ecoli bubble calling results,2015-06-15T12:50:34Z,noporpoise
f0b1da09fb5cd34ac110b04917287cea2ccf6ede,Isaac Turner,turner.isaac@gmail.com,"make-pipeline.pl: Add option to do 1-by-1 calling

make-pipeline.pl:
- add JOINT_CALLING=yes|no argument to Makefiles
- don't use ref graph in breakpoint caller

These changes alter the filenames of final VCFs created with the make-pipeline.pl
script.",2015-06-14T21:12:16Z,noporpoise
253f2c9f46af20867e9b6cbc46fbb716aa0f7927,Isaac Turner,turner.isaac@gmail.com,"make-pipeline.pl takes USE_LINKS argument instead of diff targets

scripts/make-pipeline.pl:
- Added USE_LINKS=yes|no argument instead of various targets
- Began adding JOINT_CALLING=yes|no, coming in next commit

src/commands/ctx_calls2vcf.c:
- fix memory leak from incorrectly free-ing htslib objects

Travic CI:
- push notifications to Gitter when we run Travis

libs/: many updates to libraries",2015-06-14T14:36:17Z,noporpoise
5586f28295a2613b80f6ec716cec2d305276d3e9,Isaac Turner,turner.isaac@gmail.com,make-pipeline.pl: Add options to output unitigs and use stampy to map,2015-05-25T13:50:56Z,noporpoise
18ce4ec9fdb1d30c8ffa1e14f8811b67782da74f,Isaac Turner,turner.isaac@gmail.com,Split out biogrok scripts to separate repo,2015-05-25T11:05:50Z,noporpoise
69c5a12a7e7912c0691605f251120fe1c190dfbb,Isaac Turner,turner.isaac@gmail.com,"BUG fixes; Improvements to calling pipeline;

breakpoint caller simulation:
* Split out block coords / expected breakpoint coordinates
  + added bioinf-perl/sim_mutations/block_to_brkpnts.pl
* Remove breakpoints that don't exist due to rejoining break

scripts/make-pipeline.pl:
* pass default options to commands
* add option to call bubbles / breakpoints without using link info

ctx_thread.c:
* leave graph allocation to db_graph.c fixes rare out of bounds access.
  Thanks to Kiran Garimella for catching this.

ctx_breakpoints.c:
* removed the --maxref option, we don't use it

ctx_clean.c:
* Don't rename samples when we clean them

kmer_occur.c:
* Fix some incorrect casts when calling __sync_fetch_and_add()
* update KMER_OCCUR_MAX_CHROMS to reflect using a bit for next

mccortex.c:
* add alias from unitigs -> supernodes

gpath_hash.c:
* improve hashing by conserving entropy",2015-05-21T13:33:54Z,noporpoise
06d890f4329194f3a6fd476792890cd48342a453,Isaac Turner,turner.isaac@gmail.com,Force update of mmap file after close to set modification timestamp,2015-05-15T14:32:02Z,noporpoise
9b3759a1781466743b657bf994f3fc70401dc4b4,Isaac Turner,turner.isaac@gmail.com,Print new ctp format from link_tree.c,2015-05-14T17:29:01Z,noporpoise
c87868122352b4f85eb71edd0af3c1fe076f0576,Isaac Turner,turner.isaac@gmail.com,"Reduce memory usage by kmer_occur; Fix overflow BUG

kmer_occur.c:
* Reduce memory overhead for human (4G kmers): 12*4G=48G -> 8*4G=32G
  For 80G, gives ~112GB + links for breakpoint caller
* Fix potential buffer overflow

test/pipeline/Makefile:
* Proper checks that bubble caller and breakpoint caller are both finding all
  the same variants",2015-05-14T15:57:27Z,noporpoise
d12396e1391923ce2f54442723215670effdfaf5,Isaac Turner,turner.isaac@gmail.com,"Record params in JSON headers

Each command now stores relevant parameters in JSON header of output
Command currently doing this:
* `thread` to .ctp files
* `bubbles` to .bubbles.txt.gz files
* `breakpoints` to .breakpoints.txt.gz files",2015-05-13T22:09:02Z,noporpoise
7cf302de9c7959c186bfa14772a46aee8ed70b57,Isaac Turner,turner.isaac@gmail.com,"Remove klen from new ctp format

Remove link kmer length (klen) from .ctp format. It is sample dependent and
therefore can be incorrect. Removing it reduces memory required to load links.

gpath_reader.c:
* simplify code to load / parse .ctp files
* remove code duplication from parsing by ctx_links.c vs loading .ctp files
* add additional checks on links",2015-05-13T17:49:05Z,noporpoise
a01fdac084eb59bda05d97eb726802d6da2ec88c,Isaac Turner,turner.isaac@gmail.com,Use largest flank matches in calls2vcf and append excess flanks to sequence,2015-05-11T17:29:36Z,noporpoise
edaa634a875efc78e2c908c4f4d2aa98bfcd305e,Isaac Turner,turner.isaac@gmail.com,Fix bad assert in breakpoint caller: can return to same ref kmer in double-back loop,2015-05-11T16:57:29Z,noporpoise
393975f969f1ca4ed3915e863b7629b641f64850,Isaac Turner,turner.isaac@gmail.com,Added new assembly results with unitig comparison (skip CI),2015-05-11T11:47:01Z,noporpoise
2d991962f1ff8e950eefa21ffd02bdfb75d59903,Isaac Turner,turner.isaac@gmail.com,Added bubble caller results (skip CI),2015-05-11T10:40:20Z,noporpoise
69faf3de64a487ceaab02906ee693bb23f640864,Isaac Turner,turner.isaac@gmail.com,"Improve breakpoint simulation accuracy, BUG fix loading multiple sample links

check-breakpoints.pl:
* More accurate detection numbers by accounting for shifting right due to
  reference sequence matching either side of breakpoints

ctx_calls2vcf.c:
* add --max-allele-len,-L to remove very long alleles from VCF

gpath_reader.c:
* extra validation on link files (.ctp.gz)

gpath_subset.c: multiple bug fixes
* simplify gpath_subset_merge() by removing rmsubstr option
* ensure subsets are sorted before merging
* check link orientations when comparing (don't just compare sequence)

results/breakpoint_calling/Makefile:
* Add haploid and diploid simulation

results/breakpoint_calling/results/20150511.mon.hapdip.txt:
* Add results from breakpoint simulation

results/bubble_calling_10ecoli/Makefile:
* Bug fixes in simulation Makefile",2015-05-11T09:58:12Z,noporpoise
f92164fedf7713ad5f3c0e4cdefa5170eb9ef16b,Isaac Turner,turner.isaac@gmail.com,Fixed paths in simulation scripts (skip CI),2015-05-06T17:21:10Z,noporpoise
e5b6b292c03afb00b980f77ac183b70995285e12,Isaac Turner,turner.isaac@gmail.com,Added assembly results (skip CI),2015-05-06T17:11:51Z,noporpoise
8057743329f08b957ae3f08197935929b71365f5,Isaac Turner,turner.isaac@gmail.com,Update bioinf-per,2015-05-06T16:53:46Z,noporpoise
10f3169dad2d666043e469a168826b9fe3a5bb05,Isaac Turner,turner.isaac@gmail.com,"Update simulation results

scripts/make-circos.pl:
- updated to parse JSON header of current breakpoint files

results/bubble_calling_10ecoli/:
- added variant calling simulation with 10 ecoli

scripts/check-breakpoints.pl:
- added script to compare expected breakpoint calls to actual calls",2015-05-06T13:16:14Z,noporpoise
07f343b08ce60dc7e09b81089b6e9f6313e7c485,Isaac Turner,turner.isaac@gmail.com,Add breakpoint simulation and results,2015-05-05T18:12:35Z,noporpoise
651256d719ed554b54e7659579ba9072617aba84,Isaac Turner,turner.isaac@gmail.com,"ctx_clean.c: Add -B, --fallback <C> to ensure min cleaning threshold",2015-05-05T09:02:22Z,noporpoise
10971d7556de861d3377903626884b0c4e4e486a,Isaac Turner,turner.isaac@gmail.com,"Benchmarking bubble+breakpoint callers and assembly with make-pipeline.pl

results/bubble_calling/:
* Benchmark small variant detection with breakpoint caller

results/assembly/:
* Add assembly simulation

ctx_breakpoints.c, ctx_rmsubstr.c:
* improve estimating sequence file size (in bases)

ctx_pop_bubbles.c:
* Output clearer stats
* Add options:
  -C, --max-covg <C>    Only remove branches whose mean coverage is less than <C>
  -L, --max-len <L>     Only remove branches whose lengths are less than <L> kmers
  -D, --max-diff <D>    Only pop bubbles whose branch lengths are within <D> kmers

scripts/make-pipeline.pl:
* add target to pop bubbles when making assembly

tests/breakpoint_empty/Makefile:
* Add test to check that single error free haploid has no breakpoint calls",2015-05-01T16:48:10Z,noporpoise
1e656de923596ff8ac7825ac0eece87c7a66f618,Isaac Turner,turner.isaac@gmail.com,Updated README (skip CI),2015-04-29T15:29:06Z,noporpoise
6490d58c8de1694fbcd7ac204821af6b4f008930,Isaac Turner,turner.isaac@gmail.com,Add more bubble calling results (skip CI),2015-04-29T15:10:12Z,noporpoise
43708c9b3fe3da4c99523daffcf2ac70ab17207a,Isaac Turner,turner.isaac@gmail.com,calls2vcf: Add McCortex version to VCF headers,2015-04-29T14:24:13Z,noporpoise
c691e9c824d087e84a9b0bd311053a779aa9764e,Isaac Turner,turner.isaac@gmail.com,Cleaned up cleaning code: removed supernode covg option.,2015-04-29T14:03:46Z,noporpoise
48982fae26b03858fc4ef1e8611f5220bdcac239,Isaac Turner,turner.isaac@gmail.com,Forgot to add bubble_calling/cortex/Makefile,2015-04-29T13:01:21Z,noporpoise
a65dc4cebd7727acfbd35d2f0c7ff9a6debe40ea,Isaac Turner,turner.isaac@gmail.com,bubble calling sim takes K= arg; Fixed bug in McCortex sim;,2015-04-28T21:57:04Z,noporpoise
6dc52eefe2c1fd6a95bc6298c99fdb8784c3da44,Isaac Turner,turner.isaac@gmail.com,Travis CI configuration: 'require sudo' to install JSON module,2015-04-28T19:05:19Z,noporpoise
c5cdee86607cc3a39c402378ad627a0f799f3da4,Isaac Turner,turner.isaac@gmail.com,Merge .gitignore,2015-04-28T18:56:35Z,noporpoise
6d52f29f20fb11d1d83e13ff0b820e8cf49656d7,Isaac Turner,turner.isaac@gmail.com,Improvements to bubble simulation; improve vcf-sort; add vcf-count-alleles,2015-04-28T18:55:58Z,noporpoise
f04d5dc43b441ba3ac96eee9c766a38b7a28b495,Isaac Turner,turner.isaac@gmail.com,Added cortex bubble calling comparison,2015-04-28T18:53:11Z,noporpoise
e1d3ffaca6a09a8a480921af83352c98a2293158,Isaac Turner,turner.isaac@gmail.com,Add instructive output to make-pipeline.pl,2015-04-28T13:27:39Z,noporpoise
916d92c40e0c4a80a465b1226145e4fde6b04208,Isaac Turner,turner.isaac@gmail.com,"Bubble calling benchmarking script reports results

results/bubble_calling: Compare truth to bubbles calls
results/bubble_calling/results/20150428.tues.txt: results from running simulation

scripts/bash/vcf-count: fix typo

seq_reader.c: seq_reader_load_ref_genome() exit with error if chromosomes have
              colons ':' in their name",2015-04-28T12:59:22Z,noporpoise
f16b5012930aad93994e2616c77a078a34dec8e6,Isaac Turner,turner.isaac@gmail.com,"calls2vcf colon chrom name bugfix; Use ref to remove repeats in make-pipeline.pl

calls2vcf: need to replace colons in chrom names with semi-colons, as colons are
           used in output format to specify range.

make-pipeline.pl: if we are passed a reference, use it to remove bubbles in the
                  reference caused by repeats.",2015-04-27T13:03:32Z,noporpoise
f41e1eaba1caa7f44ab73fcb2477ecb9871ad3ea,Isaac Turner,turner.isaac@gmail.com,Fix bug causing calls2vcf to crash with some bubble calls,2015-04-27T12:24:22Z,noporpoise
84da9eb9cc3a17ff30b9d728dae2ffdb03fbeb91,Isaac Turner,turner.isaac@gmail.com,Fix bug in link_tree.c when writing .ctp seq=... output,2015-04-27T11:04:43Z,noporpoise
05abc84251a48d0b77848f918faecfe8c0ad5185,Isaac Turner,turner.isaac@gmail.com,Fix bug when link starts at a junction kmer,2015-04-27T10:38:12Z,noporpoise
1874e10edd4edb5e92e23073fdb9049c34280178,Isaac Turner,turner.isaac@gmail.com,Fix grep in make-pipeline.pl for extracting link cleaning threshold,2015-04-27T10:06:46Z,noporpoise
24e2457de33df49c744927a040429bf208d41ee1,Isaac Turner,turner.isaac@gmail.com,Change structure in link_tree.c to fix bugs in link cleaning,2015-04-25T04:50:23Z,noporpoise
37764462b8e0ffde022300aa91abc4aba5471eb2,Isaac Turner,turner.isaac@gmail.com,Fix 'links' overzealous assert,2015-04-17T00:50:01Z,noporpoise
fc70dee8138cae4c26d945d696009264e1cad522,Isaac Turner,turner.isaac@gmail.com,Fix compile issues with libraries,2015-04-16T16:07:15Z,noporpoise
5452d26400c4322e08601a0679dafddab392657e,Isaac Turner,turner.isaac@gmail.com,Bug fixes and improvements in link cleaning and plotting,2015-04-16T15:51:41Z,noporpoise
1fe92512a82cc468ba99e980266a644c52dadb40,Isaac Turner,turner.isaac@gmail.com,Force update of libraries properly,2015-04-14T15:54:51Z,noporpoise
25c4ca627f936a088513bfc81bf2fe0a30fbb0b6,Isaac Turner,turner.isaac@gmail.com,Fix bug in make-pipeline.pl (thanks Wang Yugui); Update submodules; Make libs each compile,2015-04-14T15:46:23Z,noporpoise
ac92bbbca55659a85d912a13c0a8123d6a6327f6,Isaac Turner,turner.isaac@gmail.com,Added libraries as submodules,2015-04-14T15:13:35Z,noporpoise
dbbee91083a6bb57cb27ead3c51dd2e817f08919,Isaac Turner,turner.isaac@gmail.com,Rename results file; Generate extra plots during tests; [skip CI],2015-04-13T14:04:04Z,noporpoise
b047ae9cc6b6da43f51c4743eb7bdbeae2b90dec,Isaac Turner,turner.isaac@gmail.com,"Add benchmark results for buffered-reading and hash table

Also

Makefile: remove ctx31->mccortex31 link if it already exists
madcrowlib: remove references to shiftn / popn
ctx_exp_hashtest.c: add single- and multi- threaded options",2015-04-13T10:41:29Z,noporpoise
95061472a50d8ec882963bafd45ff1a1b3070cd3,Isaac Turner,turner.isaac@gmail.com,Rename executable ctx31 -> mccortex31 etc.,2015-04-08T17:10:39Z,noporpoise
390e70dd8aeb9b6397043ac3252c8e51d0020933,Isaac Turner,turner.isaac@gmail.com,Fix compile argument issues,2015-04-08T16:39:52Z,noporpoise
60460151a903038ed5097cfa1c4ec28b43de7d70,Isaac Turner,turner.isaac@gmail.com,libs/Makefile documentation,2015-04-08T13:18:49Z,noporpoise
fbc3934869cd054b635d52f4d829250079461bac,Isaac Turner,turner.isaac@gmail.com,Script to report runtimes for hashtables,2015-04-08T10:57:58Z,noporpoise
0a493d3fc2ad9f65ab7a67c8211908469fc0e519,Isaac Turner,turner.isaac@gmail.com,Fix compile time warnings,2015-03-23T18:55:05Z,noporpoise
f9e018e4bf389201a75d4d55ae639bb000fab4c8,Isaac Turner,turner.isaac@gmail.com,Add genotyping although it is not working (backup),2015-03-23T18:17:57Z,noporpoise
07edc9218bf4fadcc3d085adbc9b120ae67ce549,Isaac Turner,turner.isaac@gmail.com,More parameters for bubble popping; Better output,2015-03-23T18:16:07Z,noporpoise
5b85d6b0a0fd0d9f32e48ba268a538322c3f70e2,Isaac Turner,turner.isaac@gmail.com,"Finish pop bubbles command

Also:
* Remove linkthresh command (replaced by links command)
* Added pop bubbles integration tests",2015-03-18T00:22:14Z,noporpoise
779095756d32d5476a81de3d3732ba30b1459bf1,Isaac Turner,turner.isaac@gmail.com,Added pop bubbles command,2015-03-17T20:49:28Z,noporpoise
eda4242b766327ae21cb4d2c87b156bdf4804556,Isaac Turner,turner.isaac@gmail.com,Add comments on memory usage of breakpoint caller,2015-03-13T14:34:11Z,noporpoise
54a0d25db0000c47cd7ae92aa0a4e235c0951814,Isaac Turner,turner.isaac@gmail.com,Improve documentation generated by make-pipeline.pl,2015-03-13T14:14:49Z,noporpoise
58d9dc542196d1adaaeea07b5a3aff30528610a9,Isaac Turner,turner.isaac@gmail.com,Updated madcrowlib to stop passing large objects by value,2015-03-12T14:53:50Z,noporpoise
ef928e82c3b19ce4ee7ed013065073953653deb8,Isaac Turner,turner.isaac@gmail.com,Update README with IM details,2015-03-12T12:05:55Z,noporpoise
84a9bba5ac67b268ae475cc96167dead1d385ebf,Isaac Turner,turner.isaac@gmail.com,Merge branch 'master' of github.com:mcveanlab/mccortex,2015-03-12T12:03:43Z,noporpoise
a67325972809575897855621fe062b7d8b8e2d77,Isaac Turner,turner.isaac@gmail.com,Fix compiler issues,2015-03-12T11:53:13Z,noporpoise
42c1f9d2c0615a69c36398b76cd2b8a7df898f0a,Isaac Turner,turner.isaac@gmail.com,"Added multi-colour + long link cleaning

src/commands/ctx_links.c:
- added new command `ctx31 links <in.ctp.gz>` to clean and plot links
- clean links without using recursion: can now clean long links

src/graph_paths/gpath_reader.c:
- simple .ctp parsing added, allows flexible usage

src/paths/link_tree.c:
- load links into a tree, fast traversal of trees

src/basic/file_util.h:
- renamed futil_open_create() -> futil_fopen_create()

results/kmer_agnostic/:
- multiple read length simulations

src/commands/ctx_contigs.c:
- load multiple graphs

scripts/make-pipeline.pl:
- add assemble contigs
- use new link cleaning
- remove all perl script usage

.travis.yml:
- remove JSON requirement",2015-03-12T11:18:07Z,noporpoise
bb8a0c8a90b522a94e3246bdc3d842f0f32bc1d3,Isaac Turner,turner.isaac@gmail.com,"Merge pull request #6 from gitter-badger/gitter-badge

Add a Gitter chat badge to README.md",2015-03-10T22:14:50Z,noporpoise
1dffd76221141f321077480f5aa2b6339ef64c2e,The Gitter Badger,badger@gitter.im,Added Gitter badge,2015-03-10T22:12:05Z,gitter-badger
35761bb8860b8a974a87d661539cf0bb18544f3e,Isaac Turner,turner.isaac@gmail.com,ctx_calls2vcf.c: Undo bug introduced in e0e49c08a805,2015-03-04T20:53:17Z,noporpoise
0c1e185bc0c430423a2b805506ba38dcfc88e5ed,Isaac Turner,turner.isaac@gmail.com,Minor clean up of scripts/make-pipeline.pl,2015-03-04T17:58:19Z,noporpoise
e0e49c08a8052c379b7e0a00ff5d5364da90dad4,Isaac Turner,turner.isaac@gmail.com,VCFs pass vcf-validator; Fix bug in tests/pipeline seq files; calls2vcf: Add kmer-size to VCF lines,2015-03-04T17:39:55Z,noporpoise
4afb0b4106de5f8fc8e3f8696ee5ce1cddbed945,Isaac Turner,turner.isaac@gmail.com,Add simulations with different read lengths [skip CI],2015-03-04T09:41:35Z,noporpoise
ad26ce709eb55f7823d1642d90c6235ec13aebe2,Isaac Turner,turner.isaac@gmail.com,Plot kmer and link error rates,2015-03-02T17:06:37Z,noporpoise
7bdc2f43fc4494e8fe83b41f88f86a411cfd1b16,Isaac Turner,turner.isaac@gmail.com,Give pipeline test more memory,2015-03-02T14:27:38Z,noporpoise
8af7408e70c3baa68e4b7d9170c08d39d32f24db,Isaac Turner,turner.isaac@gmail.com,tests/pipeline/: Add real pipeline test,2015-03-02T13:07:04Z,noporpoise
d17b5055aca0b12d199c9d77d8e5f78ad5c4e208,Isaac Turner,turner.isaac@gmail.com,"make-pipeline.pl: infer edges after graph cleaning; clean SE links before adding PE links, then clean PE links",2015-02-26T14:19:47Z,noporpoise
b97be0e74ea4742610c953f2dc7bf77207d9969d,Isaac Turner,turner.isaac@gmail.com,make-pipeline.pl: create union VCFs [skip CI],2015-02-24T16:16:06Z,noporpoise
9776b1ab93fe222c5db6ea8b8ef5961e0c2d2862,Isaac Turner,turner.isaac@gmail.com,make-pipeline.pl: include ref in calling and work at multiple kmers [skip CI],2015-02-24T15:58:01Z,noporpoise
feb12158bb082f3de5d8c79f61e149b9281a4a86,Isaac Turner,turner.isaac@gmail.com,Update pipeline: dump CSV of coverage before cleaning,2015-02-24T14:43:25Z,noporpoise
458652361b50eadad6587523676920816aa8968b,Isaac Turner,turner.isaac@gmail.com,Fix bash script header,2015-02-24T13:28:36Z,noporpoise
130e60dd2cd363080613f8d8e5c55b6bfed7b78c,Isaac Turner,turner.isaac@gmail.com,Add missing file,2015-02-24T13:16:59Z,noporpoise
d8e91d0fcb3b79531670b5208e3c5f84589f7d45,Isaac Turner,turner.isaac@gmail.com,Removed R dependency; Fix bug in simulation for k=99,2015-02-24T11:17:29Z,noporpoise
d85dea0ada05fd7d61a95b3e3ffd4a4f81c8daed,Isaac Turner,turner.isaac@gmail.com,Missed file in previous commit,2015-02-23T20:20:57Z,noporpoise
c80ad695522306eb058e57b9f0e3ab56e06ba7c2,Isaac Turner,turner.isaac@gmail.com,"Bug fixes for minor issues; Added my pipeline script for automation

Fix bug in occassionally under-calculating required memory to store graph links:
- src/graph_paths/gpath_reader.c
- src/paths/gpath_set.c

results/kmer_agnostic/run.sh: Multiple bug fixes for kmer_agnostic simulation

libs/Makefile: specify SHELL=/bin/bash to use output redirection

scripts/CortexLinks.pm: Include 'List::Util qw(max)' to avoid undefined method

scripts/make-pipeline.pl: generate a Makefile to run common McCortex pipelines",2015-02-23T20:20:11Z,noporpoise
d9b5171c9baaa0cebe31f206150429104636c7e9,Isaac Turner,turner.isaac@gmail.com,"read threading: break aligned reads at missing edges

1. correct_alignment.c: if reads are aligned to a graph that they were not used
   to construct, it is possible for alignments to span missing edges. This causes
   bugs downstream when the links are created and used. By breaking aligned
   reads at missing edges we avoid this, without requiring inferring edges.

2. correct_aln_stats.c: report how many missing edges were seen

3. ctx_thread.c, gpath_store.c: fixed bug that was causing new links to be used
   during threading even when --use-new-paths was not specified.

4. Faster graph_walker.c:graph_walker_prime() by using only last node if not
   using paths. i.e. jump to last node in prime array, don't walk along array.

5. kmer_agnostic/run.sh: updated tests to exploit new flexibility in creating
   links from reads not used in building the graph.

6. run tests on third party libraries when compiling",2015-02-22T00:10:17Z,noporpoise
fdce037f7c50bda2ed15701ab3976accb1921b32,Isaac Turner,turner.isaac@gmail.com,"calls2vcf: Improvements to decomposing bubble calls

1. Use strnstr() instead of modifying the reference genome to temporarily null
  terminate it to do a local search.

2. Use bases from flanks that could not be mapped to the reference
   i.e. unmapped bases from insides of flanks when aligning. Add this to bases
   used from flanks to avoid negative reference allele lengths.

3. Skip secondary and supplementary SAM records",2015-02-19T23:22:59Z,noporpoise
742173973201330220b6343c2cfa8df542ac46aa,Isaac Turner,turner.isaac@gmail.com,Added my_strnstr(),2015-02-19T22:56:55Z,noporpoise
8a66d77988736e55d9c05b40ab9f67b67e1dbdd2,Isaac Turner,turner.isaac@gmail.com,Updated README [skip CI],2015-02-19T13:40:38Z,noporpoise
0e3f38ce84d7d43d6aeaa50b88d00f228f63717b,Isaac Turner,turner.isaac@gmail.com,Saving point: fix incorrect command for cleaing stoch.ctx at k=99,2015-02-19T13:28:17Z,noporpoise
38fbd955781cb9a44328756f471fbb7b28333f42,Isaac Turner,turner.isaac@gmail.com,ctx_join.c: Fix bug in deciding how much memory to use,2015-02-18T20:44:48Z,noporpoise
881fcf68a51d554b603d7bf0acb60d4a2c7e6218,Isaac Turner,turner.isaac@gmail.com,Fix grep tab on linux; Add asserts for CoverityScan;,2015-02-18T19:31:31Z,noporpoise
81c2820e752db1048ab47b428edaead8d1b21977,Isaac Turner,turner.isaac@gmail.com,Added VCF check to breakpoint test,2015-02-18T18:55:04Z,noporpoise
f7905c1bfa58e0f1acb5a4731458b13307110000,Isaac Turner,turner.isaac@gmail.com,"Fix bugs in bubble calls -> VCF; improve tests

graph_file_reader.c: fix bug loading colours into double the required offset

ctx_calls2vcf.c:
* fixed coordinate bugs when placing flanks
* fix broken assert check
* report stats on flank3p placement with exact vs approx match
* simplified alignment comparison code
* added recommended VCF header entries
* only print sample columns for breakpoint calls -- not bubble calls

Added the following bash scripts for simple bio-informatic tasks:
  scripts/bash/bam-sample
  scripts/bash/sam-count
  scripts/bash/sam-entries
  scripts/bash/sam-header
  scripts/bash/vcf-count
  scripts/bash/vcf-entries
  scripts/bash/vcf-fail
  scripts/bash/vcf-header
  scripts/bash/vcf-order
  scripts/bash/vcf-pass
  scripts/bash/vcf-rename
  scripts/bash/vcf-sort

tests/bubble/Makefile:
* test now produces VCF and compares against truth
* includes mismatching flank example",2015-02-18T18:07:24Z,noporpoise
686daab43a50ed51bcc29e6bdf070565ef37c03a,Isaac Turner,turner.isaac@gmail.com,Fourth attempt at Travis CI installing JSON perl module,2015-02-17T12:34:47Z,noporpoise
a0da8859eb7335c9a004e4af0ac58d69a7562528,Isaac Turner,turner.isaac@gmail.com,Third attempt at Travis CI installing JSON perl module,2015-02-17T11:37:47Z,noporpoise
844460b18bf31a0b16158e97b60b59f9c5234a00,Isaac Turner,turner.isaac@gmail.com,Second attempt at Travis CI installing JSON perl module,2015-02-17T11:22:24Z,noporpoise
cbf913827a84188349ab338c2d5bbebe5e3aabda,Isaac Turner,turner.isaac@gmail.com,Tell Travis CI to install JSON perl module,2015-02-17T11:05:40Z,noporpoise
260fc06438d157d3d548cd967989454d368cd37e,Isaac Turner,turner.isaac@gmail.com,Add missing dependency to seq-align libs/Makefile,2015-02-16T21:55:02Z,noporpoise
751efe5809cb6cc3ff8f21b9403b7c60943ccedf,Isaac Turner,turner.isaac@gmail.com,Makefiles generate more simulation results and better tests,2015-02-16T21:26:51Z,noporpoise
4c939e6433706cba71aab4f0ce18e4f9d9299e16,Isaac Turner,turner.isaac@gmail.com,Don't need to cast when calling bitset_get_mt(),2015-02-16T21:25:27Z,noporpoise
e8369a8a6c0ab09a74f0708f5f36366d4b99a160,Isaac Turner,turner.isaac@gmail.com,Fix typo in help text,2015-02-16T21:24:49Z,noporpoise
038560b2afbb32a5512e83c749c04e250d24a174,Isaac Turner,turner.isaac@gmail.com,Fix bugs in calls2vcf,2015-02-16T21:24:22Z,noporpoise
5093e812396423f63ae366b576fcfc165d99a973,Isaac Turner,turner.isaac@gmail.com,Remove old link thresholding code (unused/replaced) [skip CI],2015-02-05T14:58:33Z,noporpoise
b2e18828ed31772fa9d0c726a1f585fd834f3118,Isaac Turner,turner.isaac@gmail.com,Fix bugs in assemble stats output; Improvements to kmer_agnostic simulations,2015-02-03T15:54:00Z,noporpoise
da094313101222764a6df54390371a36cb85a8ac,Isaac Turner,turner.isaac@gmail.com,Don't use auto cleaning threshold in test - in fails with clean data,2015-02-02T20:20:13Z,noporpoise
8c69f86ad990173a2b558b7fb512b9b451699d2e,Isaac Turner,turner.isaac@gmail.com,Check executables exist before running tests [skip CI],2015-02-02T20:17:45Z,noporpoise
d5d82e13dbf6f0ee7b65830d9de6856327f43fad,Isaac Turner,turner.isaac@gmail.com,Fix minor issues in kmer_agnostic simulation,2015-02-02T19:59:50Z,noporpoise
36f5706a998c2cc88e7796cc92ee301ed68b1450,Isaac Turner,turner.isaac@gmail.com,Test status output uses basename() instead of Makefile MACRO; Fix hashtable const warning,2015-02-02T18:21:20Z,noporpoise
2887859074081130319bfd2f1ea31b99cc7de3cc,Isaac Turner,turner.isaac@gmail.com,Latest htslib creates enum member 'bam' -> must rename variables called 'bam',2015-02-02T17:49:18Z,noporpoise
281571671f99269a7588e5b45b3c904d3e390e33,Isaac Turner,turner.isaac@gmail.com,Fix crash when no links for cleaning,2015-02-02T17:29:58Z,noporpoise
2f0b813228d995a25b60c99c178593029724e170,Isaac Turner,turner.isaac@gmail.com,Fix div by zero in model fitting,2015-02-02T15:58:36Z,noporpoise
fe9d1d1185064079dd40faf481ac4584a2679ccf,Isaac Turner,turner.isaac@gmail.com,"Add xxhash, add hashtest to ctx",2015-02-02T13:27:32Z,noporpoise
df1512e889be2e11b35fbc5cf02909419f59f46b,Isaac Turner,turner.isaac@gmail.com,Fix BASH second typo [skip CI],2015-01-27T15:11:00Z,noporpoise
e964060c8f9ea5638829389af3dc59746bb04b78,Isaac Turner,turner.isaac@gmail.com,Fix BASH syntax error typo [skip CI],2015-01-27T15:02:40Z,noporpoise
33ce3835d9204c702e898654ea6afda2774747f4,Isaac Turner,turner.isaac@gmail.com,Renamed CortexPaths -> CortexLinks in perl scripts,2015-01-23T12:51:14Z,noporpoise
eb186912857510c012aa14047b8285cad8015ddb,Isaac Turner,turner.isaac@gmail.com,Add simple link cleaning on fixed threshold,2015-01-22T19:47:40Z,noporpoise
0f17e7c497debc084ddf32cec28b9ed8be625ad9,Isaac Turner,turner.isaac@gmail.com,Don't print links that are only kmer+1 bp long,2015-01-14T18:39:26Z,noporpoise
42a0c7919cbbdb2a6f4be9c93e8eb39f5b0513d9,Isaac Turner,turner.isaac@gmail.com,Added script to print bubble flanks; Outline of geno command,2015-01-06T18:36:59Z,noporpoise
e29c1a8a3d5ef1a87eb1cd1bfee0af6b173693a0,Isaac Turner,turner.isaac@gmail.com,Using strbuf_append_ulong() methods instead of sprintf,2015-01-02T03:51:57Z,noporpoise
0761fffc041c461a6561c70424aad5da1e3763b0,Isaac Turner,turner.isaac@gmail.com,Added --limit option to cortex_filter_paths.pl,2014-12-19T13:09:56Z,noporpoise
bc5a783ce447fbbf36c96781b23a953023275782,Isaac Turner,turner.isaac@gmail.com,Print better memory stats for GPathHash,2014-12-19T12:30:12Z,noporpoise
e9b4b0ae211719fe9e41a85c2c4e27b34e0c3cd6,Isaac Turner,turner.isaac@gmail.com,Perl scripts for link filtering: Bug fixes and new features [skip CI],2014-12-19T11:33:29Z,noporpoise
217bb5cdb3b31e2319ccadf1e4e3ad8b7a2b8098,Isaac Turner,turner.isaac@gmail.com,"Fix BUGS causing missing shorter links / lower counts

Two bug fixes in src/tools/generate_paths.c.
'Short link' means link is contained inside existing link.

1. Some short links were not being added if a longer version existed.
   In the following example, if read1 was seen before read2, the links in read2
   were not being added.

     \   \      /   /
      \   \    /   /
    -A-+-B-+--+-C-+-D-

  read1:
     |==============|
     A-------------->
         B---------->
     <--------------D
     <----------C

  read2:
         |======|
         B------>
         <------C

  These links did not add important connectivity information since they are
  contained within longer links. However they are important later when link
  counts are used for e.g. error cleaning.

Diff:

@@ -317,15 +320,11 @@ static void worker_junctions_to_paths(GenPathWorker *wrkr,
     SWAP(pos_rv[i], pos_rv[j]);
   }

-  // _juncs_to_paths returns the number of paths added
-  size_t n;
   const dBNode *nodes = contig->data;

-  n = _juncs_to_paths(pos_fw, pos_rv, num_fw, num_rv, pck_fw, true, nodes, wrkr);
-  if(n) {
-    binary_seq_reverse_complement(pck_rv, num_rv);
-    _juncs_to_paths(pos_rv, pos_fw, num_rv, num_fw, pck_rv, false, nodes, wrkr);
-  }
+  _juncs_to_paths(pos_fw, pos_rv, num_fw, num_rv, pck_fw, true, nodes, wrkr);
+  binary_seq_reverse_complement(pck_rv, num_rv);
+  _juncs_to_paths(pos_rv, pos_fw, num_rv, num_fw, pck_rv, false, nodes, wrkr);
 }

 static void worker_contig_to_junctions(GenPathWorker *wrkr,

2. Some existing short links were not having their counts updated. If a link
   was found, we stopped added sub-links.

Diff:

@@ -269,7 +272,7 @@ static inline size_t _juncs_to_paths(const size_t *restrict pos_pl,
     #endif

     // If the path already exists, all of its subpaths also already exist
-    if(found && plen < GPATH_MAX_JUNCS) break;
+    // if(found && plen < GPATH_MAX_JUNCS) break;
     num_added++;

     if(gen_paths_print_paths && !printed)

Other Work
==========

src/paths/gpath_hash.c:
* More robust GPHash providing safer multithreaded behaviour.

scripts/CortexLinkCleaning.pm:
* Faster poisson CDF calculations
* Added binomial CDF

scripts/cortex_filter_paths.pl:
* Added 'list' command to get CSV of all paths
* Better stats output",2014-12-16T21:11:46Z,noporpoise
79bc345c6375062185273ba74bc432969c59128b,Isaac Turner,turner.isaac@gmail.com,Added tests for binary sequence comparison,2014-12-16T16:44:46Z,noporpoise
92be48b5660746e8115a961ef300777eec6fb1f6,Isaac Turner,turner.isaac@gmail.com,inferedges test: Fix occasional test failure due to kmer count mismatch,2014-12-15T09:48:19Z,noporpoise
8ab49cdd1b43e56be85eb756f6832f3650a63592,Isaac Turner,turner.isaac@gmail.com,cortex_filter_paths.pl updates JSON header,2014-12-15T08:40:20Z,noporpoise
88d623fd7162d01b6dc0087d2e4e1d199d0c8d1f,Isaac Turner,turner.isaac@gmail.com,pview: close fout before exiting,2014-12-10T11:33:26Z,noporpoise
48e92e7341c9cf36372e63422d94b19ab4f3ff01,Isaac Turner,turner.isaac@gmail.com,Added prototype path pruning. New options for pview.,2014-12-09T20:16:44Z,noporpoise
adab8497c7ddcbd3e5132797143d211c4ad0ea8f,Isaac Turner,turner.isaac@gmail.com,"Improvements to thresholding links

1. Fix ecoli error correction to run simulation with link info
2. perl scripts now start with: #!/usr/bin/env perl
3. scripts/CortexLinkCleaning.pm: Add perl module to threshold links
4. ctx_pjoin.c adds full header",2014-12-09T17:50:57Z,noporpoise
81ac9c8da0c9d469ca207acc768621870b7cfe5d,Isaac Turner,turner.isaac@gmail.com,Fix multithreading bug in hash table insert,2014-12-08T09:59:10Z,noporpoise
a167e432515479f9f186e72ff4251e7e9e1a9a8e,Isaac Turner,turner.isaac@gmail.com,ctx-contigs: Added --confid-step option,2014-12-05T17:59:17Z,noporpoise
d0e99156c871cfa3d3bb0fda89e85ecf63bf13f5,Isaac Turner,turner.isaac@gmail.com,ctx-contigs: add --confid-min option,2014-12-05T15:47:43Z,noporpoise
fa58758f0028f581b219432b363e05d32b8c136d,Isaac Turner,turner.isaac@gmail.com,Added option to turn off additional path info output,2014-12-03T13:25:12Z,noporpoise
8a9f530412b6d7b054d4d00085cd1e33fc8d55fd,Isaac Turner,turner.isaac@gmail.com,Fix missed API change in tests,2014-12-03T12:47:44Z,noporpoise
33b5b685c7293581f0af1a654cf9f69b48f98dc6,Isaac Turner,turner.isaac@gmail.com,Add script to plot link trees. Filtering coming soon.,2014-12-02T17:29:20Z,noporpoise
1e7a025dd3c9b469f7efb3aa5e405cd3644848c9,Isaac Turner,turner.isaac@gmail.com,pview reports junction positions in path output,2014-12-01T12:03:28Z,noporpoise
effdc3d8c9675b878f04dc34120a87c251f807d1,Isaac Turner,turner.isaac@gmail.com,calls2vcf: Added bubble decomposition,2014-12-01T11:29:06Z,noporpoise
b59ed85144d43d8a08ce49d17e6b3f52413695de,Isaac Turner,turner.isaac@gmail.com,Added flanks too far apart check,2014-11-28T01:56:27Z,noporpoise
52f2f470d15e86dd35fa3261c5399e8cc1408d08,Isaac Turner,turner.isaac@gmail.com,calls2vcf can now produce a VCF from a breakpoint file,2014-11-28T01:49:41Z,noporpoise
b0f9a6e80693f104aae80451d216f4d72ea24413,Isaac Turner,turner.isaac@gmail.com,Added test to show how links behave in loops,2014-11-27T15:32:38Z,noporpoise
81204357b44ede3b157df5011f724a3d2f9a499d,Isaac Turner,turner.isaac@gmail.com,Set path to ctxK properly [skip CI],2014-11-24T15:51:02Z,noporpoise
27bde547fcb37448e97b43dc5e6c2755c2892f0e,Isaac Turner,turner.isaac@gmail.com,Add ecoli error correction; fix status output bug,2014-11-24T15:38:55Z,noporpoise
6f564ce70df722b118b31fe0bab47334c50408f1,Isaac Turner,turner.isaac@gmail.com,kmer-agnostic: Fix bug in generating err free reads [skip CI],2014-11-18T16:58:33Z,noporpoise
c45f92d4de892f55a3060d999304b4b6ac6105d0,Isaac Turner,turner.isaac@gmail.com,Fix simulation output paths [skip CI],2014-11-18T16:45:46Z,noporpoise
6ba08a9f2ee3c488955794e672a9886dc9aa3d13,Isaac Turner,turner.isaac@gmail.com,"Update simulation script files

1. Added read correction using path information to simulation in results/correction
2. replace `zcat` with `gzip -dc` since zcat is broken on OSX 10.10",2014-11-18T16:43:35Z,noporpoise
04dbf6612cd38f739e64651075a741c5503e352e,Isaac Turner,turner.isaac@gmail.com,[Savepoint] Updating breakpoint/bubble file format and start work on calls2vcf,2014-11-18T15:34:17Z,noporpoise
60572514c9e17e86105c1959bc260c619254a6bf,Isaac Turner,turner.isaac@gmail.com,Fix three GCC warnings,2014-11-14T22:20:01Z,noporpoise
7bc22c300928d08427becf6c674718a621a92df8,Isaac Turner,turner.isaac@gmail.com,"Improvements to path loading (.ctp files)

path loading:
a. handle loading subset of colours from multicolour paths file. This used to
   cause errors when a kmer was not in sample(s) being loaded
b. don't load all path colours -- use the filter!
c. check paths are not longer than longest contig in the header",2014-11-14T21:47:15Z,noporpoise
a2def5a3516dd3993de6ac954f7d0c3eb596be3a,Isaac Turner,turner.isaac@gmail.com,Removed oriented BinaryKmer (bkmer) from GraphWalker and simplified API,2014-11-14T12:02:32Z,noporpoise
728eba9a4e312de2700b19e9a9126ad14b2e6fa7,Isaac Turner,turner.isaac@gmail.com,Replaced db_node_col_covg() with db_node_covg(),2014-11-13T23:29:49Z,noporpoise
d151f8abf9ab9e80ac7bd288b95e01f2b08427d4,Isaac Turner,turner.isaac@gmail.com,"Use new model to pick cleaning threshold

1. pick cleaning threshold using Gil's model
2. print path sequence when seeding assemble_contigs.c
3. change kmer_occur.h limits to give max chroms = 2Billion, max chrom len = 4Gb
4. Fix issues found with clang's static analyzer",2014-11-13T18:39:57Z,noporpoise
90e600e8fb19cf26ec240f07a0162084401cb525,Isaac Turner,turner.isaac@gmail.com,ctp file header stores contig histogram for each colour,2014-11-10T13:44:24Z,noporpoise
c41125ae4abd1609e9018086c7a3e514b0b8be06,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG in graph_walker.c:graph_walker_slow_traverse()

1. graph_walker.c: Fixed bug caused by not checking which edges were in the
   current colour in graph_walker_slow_traverse()
2. assemble_contigs.c: seeding with paths is now working
3. moved ContigStats assemble_contigs.c -> assemble_stats.c",2014-11-06T15:56:15Z,noporpoise
45c33962328a4e52cad0d593c09edfd803cf031a,Isaac Turner,turner.isaac@gmail.com,"Add 'pview' command; fix 'check' command; added --no-missing-check;

1. ctx_pview.c: Added pview command to print entire path

2. assemble_contigs.c: added option to assemle contigs using paths. Still has bugs

3. Fixed BUG in ctx_check.c where paths were not being checked

4. graph_walker.c: added option to not use missing info check

5. path_tests.c: Added tests to check paths are added properly",2014-11-06T11:34:03Z,noporpoise
efe510bf826e34d5d9360fd0d4f8cd50d53f5819,Isaac Turner,turner.isaac@gmail.com,"Improve GraphWalker API

1. Improve GraphWalker API
2. Add ctx_contigs.c option to skip missing-info check when walking the graph
3. Run unit tests in tests/run.sh",2014-10-30T17:30:46Z,noporpoise
e33c320186423a5917271add4803fee3fd8fc6f6,Isaac Turner,turner.isaac@gmail.com,"Move contig len hist to .ctp file header

Note: ctp files have changed and are not backwards compatible!
      We are now on CTP version 3.

Removed options to dump/load CSV of contig length histogram. This histogram
now lives in CTP path file headers.",2014-10-30T15:21:01Z,noporpoise
c30a3483e0dc69fc344db73a29521355b97a71bd,Isaac Turner,turner.isaac@gmail.com,Added lossless simulation with short reads,2014-10-22T14:59:37Z,noporpoise
cb08eca237cb2e48891c02a3b29e6d442b5b827a,Isaac Turner,turner.isaac@gmail.com,Change license GPL->MIT; Better cleaning statistics,2014-10-21T14:54:27Z,noporpoise
d5aae12ea3e79c80a199e91957dd6bf08b8dd6df,Isaac Turner,turner.isaac@gmail.com,Clean up traversal conjecture Makefile [skip CI],2014-10-13T21:02:21Z,noporpoise
ffe2a47da3739595a081afb8522b14b456cfa23f,Isaac Turner,turner.isaac@gmail.com,Improvements to running and plotting stochastic covg+error [skip CI],2014-10-13T20:47:38Z,noporpoise
e9f560a7943d69e8988daee503dc7cccc1bd62d5,Isaac Turner,turner.isaac@gmail.com,Generate kmer-agnostic with stochastic coverage / error separately,2014-10-13T15:51:07Z,noporpoise
0ee82d55f81920a290aa462def7ab563c253eb74,Isaac Turner,turner.isaac@gmail.com,Rename kmer_agnostic,2014-10-12T21:05:31Z,noporpoise
fbb44d7ffd253e336c89a1582f9049fd48e1dca5,Isaac Turner,turner.isaac@gmail.com,Remove kmer_agnostic tests without errors,2014-10-12T21:03:17Z,noporpoise
65aec7cb3a5378d70dd1ce22a38c93ecae206817,Isaac Turner,turner.isaac@gmail.com,Fixed plotting of kmer_agnostic results,2014-10-12T20:54:55Z,noporpoise
87318a90bad924b850895df6e79e40dce2e5b794,Isaac Turner,turner.isaac@gmail.com,"Added ecoli correct examle and kmer-agnostic with error

1. Added ecoli example for read correction
2. Added script to download data for results
3. ctx_contigs.c, ctx_correct.c, ctx_coverage.c, ctx_exp_abc.c: Fixed memory
   calculation
4. src/tools/assemble_contigs.c fixed double counting of repeat ends
5. Started adding kmer agnostic tests for seqn with error",2014-10-12T18:13:54Z,noporpoise
cf6c0241191de5a99792f445bd43454591514ae4,Isaac Turner,turner.isaac@gmail.com,Uniqkmer command checks kmerkey values instead of just matching bkmers,2014-10-10T12:40:47Z,noporpoise
dd3834a4a7425f42fe71d0a4502e8ee0eebbff85,Isaac Turner,turner.isaac@gmail.com,close file descriptor if cannot open gzFile,2014-10-09T15:34:28Z,noporpoise
6d37d02e2c9cddd157f05fc2db5d5cd3a5b42d40,Isaac Turner,turner.isaac@gmail.com,Change all Makefiles to specify SHELL as bash with strict mode,2014-10-09T15:23:49Z,noporpoise
72e84efb04ca0de6702265b30b1e63e515be0a16,Isaac Turner,turner.isaac@gmail.com,"ctx_correct.c: add option --print-orig

1. ctx_correct.c: added -P,--print-orig option to add original sequence to
   read name:

   >read1 orig=CAGATGAGTT
   CAGATGACTT

2. graph_step.h: Add graph walker statuses:
 * GRPHWLK_POPFWD         --  Success: fall back to pop, only one choice
 * GRPHWLK_POPFRK_COLFWD  --  Success: fork in pop, only one choice in colour

3. PhiX/about.txt: add readme on data source for empirical read error distribution

4. split out assembly statistics to assemble_stats.{c,h}

5. assemble_contigs.c: Fix graph walker status counting in contig assembly:
   path decisions were being recorded before we have decided to keep contig.

6. assemble_contigs.c: record number of contigs halted by RepeatWalker",2014-10-09T14:04:47Z,noporpoise
a401afd36b568df566d87bbac9ae8edc5938a041,Isaac Turner,turner.isaac@gmail.com,Try using master branch on htslib/bcftools/samtools,2014-10-08T20:50:45Z,noporpoise
dcb160ee083d215c2db816fbcee85f79566cdbe5,Isaac Turner,turner.isaac@gmail.com,Fixed uniqkmers to properly add unique flanking kmers. Added lossless test.,2014-10-08T20:34:01Z,noporpoise
ba67d44ee2e5312c04d32e4a64d918907dc1e342,Isaac Turner,turner.isaac@gmail.com,"contig confidence given threaded distribution

ctx_thread.c can now dump csv of read lengths - only stored if dump requested
ctx_contigs.c can now load csv and calculate confidence table from it",2014-10-08T13:36:46Z,noporpoise
185d466a0c16abaf11152e7c828f81aec9ced6e7,Isaac Turner,turner.isaac@gmail.com,"Dump contig size distributions with ctx_thread.c

ctx_thread.c and ctx_correct.c can now dump contig size distributions

ctx_join.c: Fix BUG in joining files that do not require loading the whole graph",2014-10-08T01:43:20Z,noporpoise
5e7f9825bf4d9fdeb367ad29c373d3ba2197423e,Isaac Turner,turner.isaac@gmail.com,Fix BUG in dna_revcomp_str() and merge similar functions,2014-10-07T20:05:52Z,noporpoise
7e475896908fbd2ad4bdb6c51b97d0828852dd3b,Isaac Turner,turner.isaac@gmail.com,Forgot to add ctx_uniqkmers.c file,2014-10-07T17:47:47Z,noporpoise
19476b96536f57ee45e50e77a5bb873535865445,Isaac Turner,turner.isaac@gmail.com,Fix BUG: undefined behaviour for k=33,2014-10-07T16:43:20Z,noporpoise
b9c6639f71d5e3d445a1d39563bbf7858f378f28,Isaac Turner,turner.isaac@gmail.com,"Added uniqkmers command

ctx_uniqkmers.c: `ctx31 uniqkmers` prints unique kmers. Useful for lossless
  storage of sequence where unique kmers are needed at flanks.

BUG FIXES

1. src/graph/binary_kmer.c: Fixed BUG in binary_kmer_random() function.
   rand() only returns 31 bits of random data, we were assuming it was 32.

2. Fix tests which were assuming binary_kmer_random() was returning kmer-keys",2014-10-07T15:37:06Z,noporpoise
3fe57bb03ffe4d8cc00fbcf1113eaf759d186298,Isaac Turner,turner.isaac@gmail.com,"Bug fixes for ctx-sort and ctx-correct

BUG fixes:

1. Fix bug in ctx_sort.c for k > 31. We were not sorting by words after the first
   word in BinaryKmers.

2. ctx_sort.c should take the -f,--force command line option

3. correct_alignment.c was not setting aln->seq_gaps boolean properly. This was
   causing Ns in sequence to not trigger aln->seq_gaps to be true.

4. Try to get the username with getpwuid_r() if getlogin_r() fails

Improvements:

1. correct_reads.c: report number of gaps + num gaps filled

2. simplify db_alignment_print(aln) code - cleaner output for debugging",2014-10-06T19:53:24Z,noporpoise
8f2d1d91a5f19f8a39f35ece69eaaf2d1bf262de,Isaac Turner,turner.isaac@gmail.com,Reduce ctx-sort memory; rename readbuf_X() -> read_buf_X(),2014-10-06T09:02:31Z,noporpoise
1c3bf594c9f07bee9342f319cd5fb9afacbe680b,Isaac Turner,turner.isaac@gmail.com,Updated simulation makefiles [skip CI],2014-10-03T00:10:04Z,noporpoise
aa14f322c1199fe691861be04aac3daa793333c9,Isaac Turner,turner.isaac@gmail.com,Added steps to reproduce error correction test,2014-10-02T01:03:58Z,noporpoise
0f292a319fbc5acb0cbb104f4056cdcfc3d9bbc5,Isaac Turner,turner.isaac@gmail.com,Added scripts to re-run kmer-size analysis,2014-10-02T00:46:00Z,noporpoise
f2d629a55a30214dde4866aec2d2becd40e90ccf,Isaac Turner,turner.isaac@gmail.com,"Forgot to add contig_confidence.{c,h}",2014-10-01T12:46:13Z,noporpoise
8619c1a9c89f51da630ad9c41a6da4ad1317dd04,Isaac Turner,turner.isaac@gmail.com,"Added contig confidences to GraphWalker; Cleaned up graph_walker.c

1. Added confidence calculation to GraphWalker
   * added tests in src/tests/graph_walker_tests.c
2. Moved GraphStep into seperate .c/.h files
3. moved db_graph_prev_nodes_with_mask() to db_graph.c from graph_walker.c
4. moved dna_bases_list_to_str() to dna.c from graph_walker.c
4. assemble_contigs.c prints contig confidences
5. Added new file format proposal",2014-10-01T12:41:05Z,noporpoise
c97f783bf8e7a91b5a030a029acf316e82a5e291,Isaac Turner,turner.isaac@gmail.com,Add traversal conjecture Makefile,2014-09-29T15:54:14Z,noporpoise
b990558aecb7a1076c2305f32c8274f4ae74cb41,Isaac Turner,turner.isaac@gmail.com,Update GWalker for new API; Slim down lookup3.h for binarykmers,2014-09-29T15:45:36Z,noporpoise
3c599ab46e291711cf5fda8b08504336fdc3fcc4,Isaac Turner,turner.isaac@gmail.com,Probability shouldn't ruin our tests,2014-09-26T01:25:10Z,noporpoise
7f7e9190b7935ac1698fbf1dc681d25d1df512cb,Isaac Turner,turner.isaac@gmail.com,"ctx31 correct: Fixed bugs in error correcting reads

Error correction of reads now works with insert/delete and base change sequening
errors. FASTQ quality scores are kept in phase with sequence.

tests/correct/Makefile: Added suitable tests which pass.

ctx_correct.c:
  added option to specify zero'd fastq quality character (-Z, --fq-zero)",2014-09-26T01:00:03Z,noporpoise
e20e8b39706e90010bd48b2a7830174690feb546,Isaac Turner,turner.isaac@gmail.com,Improve seq2pdf.sh cmdline args; Add exp_abc Makefile,2014-09-25T02:11:13Z,noporpoise
6f5ae15133032891a0822c7edbc3fbd3f038ae4d,Isaac Turner,turner.isaac@gmail.com,Added perl script to find maximal substrings in O(n^3) time,2014-09-24T14:18:19Z,noporpoise
8583c9efc67f376a7681b3ad7f134ca094b57987,Isaac Turner,turner.isaac@gmail.com,Various bug fixes - thanks to Kiran (@kvg) for reporting,2014-09-23T13:16:34Z,noporpoise
e97aaa96c4f5ac8470c8e0084a1685d8be761bae,Isaac Turner,turner.isaac@gmail.com,"Fix bug in mate pair gap traversal, introduced by 93ae0d7c85b31edbbf10262d3b8990757691fa29",2014-09-22T15:51:11Z,noporpoise
550d84783ea9f2961710967897c47d55e708778f,Isaac Turner,turner.isaac@gmail.com,Split out buffer macro into separate library (MadCrowLib),2014-09-22T00:52:42Z,noporpoise
284691f915a78c8c6173d677d40378d8ec525535,Isaac Turner,turner.isaac@gmail.com,Fixed const ptr warns from GCC; Fixed perl @INC paths,2014-09-19T01:49:46Z,noporpoise
c39fb6390c92baf6adadf08d335f1119141ba328,Isaac Turner,turner.isaac@gmail.com,Remove vcflib from test suite,2014-09-19T00:42:33Z,noporpoise
ce939f8a4c19cee9782f9c8ecb903eaba3a1ad01,Isaac Turner,turner.isaac@gmail.com,"Clean up of FileFilter code

1. objbuf_macro.h:
  a. Fix BUG in _shift_left() function
  b. Add _shift_right() function

2. file_filter.c:
  a. use objbuf_macro.h instead of own buffer code
  b. use macros to access file_filter fields instead of being explicit
  c. add into_offset param to file_filter_set_cols(), to default if no
     `into filter' given.

3. ctx_join.c, ctx_pjoin.c: remove --flatten, --overlap options. They are not
   needed now that we have the more powerful input filters.

4. ctx_subgraph.c: fix bug where fromcol/intocol were mixed up when setting
   graph name",2014-09-19T00:28:51Z,noporpoise
dcf8a8e614ec442a106395085717e91d6982dbf7,Isaac Turner,turner.isaac@gmail.com,"Improve FileFilter on input files

1. Update file filter syntax: <into>:file.ctx:<from> where <into> and <from> can
both be lists, ranges or empty. Examples:
 * 0,2,6-9:in.ctx:0-5  {0,1,2,3,4,5} -> {0,2,6,7,8,9}
 * 0:in.ctx:0,2,3      {0,2,3} -> {0,0,0}
 * in.ctx:0,1,3        {0,1,3} -> {0,1,2}

2. loading_stat.c:
  a. rename stats.contigs_loaded -> stats.contigs_parsed
  b. remove num_files_loaded, ctx_files_loaded, num_of_colours_loaded",2014-09-18T14:13:54Z,noporpoise
267b955e811095c9b1a9d37666e5cf7ec4d3bdb8,Isaac Turner,turner.isaac@gmail.com,Added example using contig_stats.pl,2014-09-17T16:30:41Z,noporpoise
395bcbbf844680068ef4e4117b423e1b32c24d59,Isaac Turner,turner.isaac@gmail.com,Remove debugging code; fix minor errors,2014-09-17T16:21:07Z,noporpoise
0526ad18f1abd15e26d0b618853f1f3de4b7c013,Isaac Turner,turner.isaac@gmail.com,Use bioinf-perl module for formatting numbers,2014-09-17T15:52:51Z,noporpoise
0fc2cf301525dd0c4cc1d249aae864fed72c0c27,Isaac Turner,turner.isaac@gmail.com,Fix bugs in reporting assembled contig stats,2014-09-17T15:42:04Z,noporpoise
4a3c31183e9807e84647bb49b702ca8b80883b07,Isaac Turner,turner.isaac@gmail.com,"GraphWalker: better tracking path age

Major change: Change how we traverse with paths
Change behaviour of GraphWalker to remember age of paths by when they were picked
up rather than how many junctions they have been used for. This seems to fix
the issues with the exp_abc simulations.

Minor:
ctx_exp_abc.c: add option to print failed contigs
ctx_supernodes.c: More changes to get ready to read in paths to print annotations
scripts/cortex_to_graphviz.pl: Bug fix when loading paths file",2014-09-16T15:57:44Z,noporpoise
74185009e0115a86ce80db27b7ad8e1f915b716a,Isaac Turner,turner.isaac@gmail.com,cortex_to_graphviz.pl: mark given kmers,2014-09-16T03:14:34Z,noporpoise
bf38a73831f7aecd04ac0cfc72242a791a1a9858,Isaac Turner,turner.isaac@gmail.com,Added paths to cortex_to_graphviz.pl,2014-09-16T02:52:43Z,noporpoise
2b79a8c5bb9bbd570eb4b43c0040ac00134f659f,Isaac Turner,turner.isaac@gmail.com,"Add script to mix path with graph kmers

1. gpath_reader.c: gpath_reader_load() takes int flag to define behaviour when
   we hit kmers that are not in the graph (add, die with error, or ignore)

Perl scripts:
1. CortexPaths.pm: add function ctp_path_to_str()
2. scripts/cortex_mix_paths.pl interweave kmers with their paths:

    $ ./scripts/cortex_mix_paths.pl --kmer 9 genome.k9.ctx <(zcat reads.pe.two.ctp.gz)
    CAGTGGCCG 1 1 ...t...T ...t...T
    R 5 1 1 A
    CACTGATGC 1 1 .c...C.. .c...C..
    CACTGATGA 1 1 .c...C.. .c...C..
    R 5 1 1 G
    TCGGCATCA 1 1 ......G. ......G.
    CGGCATCAG 1 1 ...t...T ...t...T",2014-09-16T02:27:01Z,noporpoise
93ae0d7c85b31edbbf10262d3b8990757691fa29,Isaac Turner,turner.isaac@gmail.com,"correct_reads.c using indel+qual safe code; Minor bug fixes.

0x0. cmd.c clones input arguments array

0x1. JSON header: better reporting of command line args - use array of strings
     instead of merging into a string without escaping spaces.

0x2. Print STDOUT/STDIN instead of ""-"" in lots of places.

0x4. scripts/seq2pdf.sh: fix some bugs when running not in scripts dir

0x8. Don't try to get file size when reading from STDIN (""-"")

0x10. objbuf_macro.h: added FUNC_shift() function for shifting elements

0x20. ctx_exp_abc.c: report GraphWalker state at the end of traversals

0x40. util.c: added function util_print_nums() to report numbers nicely aligned

0x80. correct_reads.c: lots of work on correcting reads. Now using new version of
      code. Indels still not printing correctly though. Just a bit of tweaking
      required. Soon will handle indels and quality scores nicely.",2014-09-15T23:10:04Z,noporpoise
c0048d8121f04f317028a3d426ecfcfdfa61c9c4,Isaac Turner,turner.isaac@gmail.com,Small improvements to sort/index commands,2014-09-12T13:45:57Z,noporpoise
b2a3b42cc2849cc76ce84626b3650f8b270e4efa,Isaac Turner,turner.isaac@gmail.com,Add block size arguments to index command,2014-09-12T13:19:24Z,noporpoise
b3b3f5730bc381d8fa47304dddf32586dab7252f,Isaac Turner,turner.isaac@gmail.com,Got basic index command working,2014-09-12T01:51:49Z,noporpoise
02b9ee34f09efceb2a64e1c84113c406a0dbce45,Isaac Turner,turner.isaac@gmail.com,Add command to run tests on graph traversal 'exp_ABC',2014-09-11T23:20:53Z,noporpoise
5590c3d18d405a48bf896a425db97d00a63df051,Isaac Turner,turner.isaac@gmail.com,"Faster bkmer revcmp; Added `ctx31 sort`

1. faster binary_kmer_reverse_complement() function
2. better profiling of reverse complement code in dev/bkmer_revcmp
3. added `ctx31 sort` command for graph files, will add more options shortly
4. almost finished new read correction to fix bugs in indel/fastq outptut issues",2014-09-05T10:04:39Z,noporpoise
87e3924a0b0fc6dc91cbfeeb057b714a96b54ce4,Isaac Turner,turner.isaac@gmail.com,Added alloc_flags arg to db_graph_alloc() for ease of use,2014-09-04T00:15:53Z,noporpoise
0b53ce5b7a0fa8744fba42bed3c2a69c6d52d3b4,Isaac Turner,turner.isaac@gmail.com,Better graph edge check - runs per colour instead of union,2014-09-02T17:47:18Z,noporpoise
052754f6d0227776a7fe7ab2628ac75629321910,Isaac Turner,turner.isaac@gmail.com,"Fix error pulling out contigs with population

Fixes issue #5

1. Only use seed kmers that are in the sample we are pulling out contigs for
2. Allow pooling colours when checking sample names match
3. graph_file_reader.c, gpath_reader.c: paths are const char* not char* now
4. db_alignment.c: keep track of kmer origin position or -1 if inferred kmer
5. correct_alignment.c: operates on internal dBAlignment and takes reads as input
6. Print VCF header from JSON input headers
7. gpath_load_sample_pop() now won't complain if you give multi-colour graph file
   and only ask to load a single colour from it.
8. assemble_contigs.c: When pulling out a contig, give end status as HitRepeat
   if GraphWalker ok but RepeatWalker stopped.",2014-09-02T16:46:22Z,noporpoise
fe802e78225150b1e5359654e52543b86c153321,Isaac Turner,turner.isaac@gmail.com,Changed font used in graphviz (.dot) files,2014-08-29T17:21:09Z,noporpoise
dd3508b09029b76d2c523dabb0a3dcbdd1841868,Isaac Turner,turner.isaac@gmail.com,Set SHELL to bash in test Makefiles,2014-07-26T14:51:09Z,noporpoise
567b1aaf239153702d6f7dc7a48df2668a4a6884,Isaac Turner,turner.isaac@gmail.com,Test script [tests/run.sh] fetches dependencies before running,2014-07-25T17:19:04Z,noporpoise
a9bbe08df55b5ac8f0fd05772b782cffe20893f4,Isaac Turner,turner.isaac@gmail.com,"Memory mapping for ctx_infer_edges.c; Fix compilation issues

ctx_infer_edges.c:
- use memory mapped files when editing a file in place
- detect when reading from a stream by using stat()
- full suite of tests in tests/inferedges/Makefile

infer_edges.c:
- use either covgs or bitarray node_in_col to test if kmer in colour

Minor changes:

1. Convert comma operators to 'compound statements within expressions' (GNU C):
    e.g. ({ ctx_assert(); val; })
   This should fix compilation issues when asserts are turned off

2. Asserts+checks now turned off with `make RELEASE=1`",2014-07-25T15:32:21Z,noporpoise
5b9e434daa76a82f6e52bc2237653c6805ea65e8,Isaac Turner,turner.isaac@gmail.com,graph_files_merge() uses memory mapped files (mmap),2014-07-24T18:20:30Z,noporpoise
4675bc90d3c4417bd5b264f0b41c17fed1b4b125,Isaac Turner,turner.isaac@gmail.com,Update command blurb,2014-07-23T12:51:59Z,noporpoise
2e5ce907183ecea70c57b69f70d5d2f069da5d51,Isaac Turner,turner.isaac@gmail.com,Add JSON headers to bubble and breakpoint caller output,2014-07-23T12:42:58Z,noporpoise
5ae1dff02c8b284d0e03b34fe295d306af7b4969,Isaac Turner,turner.isaac@gmail.com,Added perl scripts to parse/filter .ctp files [skip CI],2014-07-22T18:44:28Z,noporpoise
1b1d10030eed51cf787672c6c87a71770f712b32,Isaac Turner,turner.isaac@gmail.com,ctx_contigs.c: make --no-reseed default,2014-07-22T09:31:27Z,noporpoise
cc5c31cdd32d5cbc2b22bbcece9f0069cbb26ed3,Isaac Turner,turner.isaac@gmail.com,Fix printing edges bug in ctx_coverage.c,2014-07-21T20:13:35Z,noporpoise
da59d549ee6b032774b4ef6ac9c9703ceab6a33c,Isaac Turner,turner.isaac@gmail.com,"ctx31 rmsubstr: now removes reverse complements

ctx_rmsubstr.c:
- remove substrings even in reverse complement
- added -F,--format option to specify output format
- added -v,--invert option to print only substring entries

dna.c:
- dna_revncasecmp() compare sequence `a` against reverse complement `b`

seqout.h:
- seqout_gzprint_read() and seqout_print_read() for printing reads in given format",2014-07-21T20:03:08Z,noporpoise
99737937e4ed20de6c29a07ae837f7492a30dffb,Isaac Turner,turner.isaac@gmail.com,Fix bug in futil_open() for pipes; Add `ctx31 coverages` -E flag,2014-07-21T16:06:25Z,noporpoise
4876eb193a0d0c2d6afd34c21198473aa31d7bdf,Isaac Turner,turner.isaac@gmail.com,Reverse complement kmer [skip CI],2014-07-18T11:11:56Z,noporpoise
f8142b752f8e6335f208ac03b6068202e77ce863,Isaac Turner,turner.isaac@gmail.com,"Fix ctx_contigs not printing if --ncontigs not set

src/tools/assemble_contigs.c: fix bug that was stopping contigs from being
 printed if contig_limit was zero

kmer_occur.c: Fix seqfault in rmsubstr when no reads given
ctx_rmsubstr.c: Don't print errors when no input sequences",2014-07-18T10:50:29Z,noporpoise
850041de3b4e0eb4d1d23ebb1a10d3731c307f90,Isaac Turner,turner.isaac@gmail.com,Fix ctx_contigs bug if colour != 0 (introduced in last commit),2014-07-18T04:58:36Z,noporpoise
54e613237a0155fe2fb799584adbb7fde010f2d4,Isaac Turner,turner.isaac@gmail.com,"Multithreaded assemble_contigs.c (ctx_contigs.c)

Split out contig assembly code from
  src/commands/ctx_contigs -> src/tools/assemble_contigs.c

assemble_contigs.c: now multithreaded

hash_table.c: use random seed for initial hash seed, new seed for each htable
- this should ensure hash table has random order on each run

hash_table.h:
- HASH_ITERATE_PART loops until func() returns non-zero value",2014-07-18T04:48:01Z,noporpoise
cc35db4e2dcd27c0fb8087d41bf3e685bd832bec,Isaac Turner,turner.isaac@gmail.com,ctx_correct needs at most two colours - can now do with new FileFilter,2014-07-16T22:25:07Z,noporpoise
21d86d0bf5ddc3bfd8ff50a3a56c238ef8dae709,Isaac Turner,turner.isaac@gmail.com,"Add output format option to ctx_reads and ctx_correct

Added: -F,--format <fa|fq> to ctx_reads and ctx_correct",2014-07-16T17:08:55Z,noporpoise
63ad865d322da36f980b6abe47d6b1fce878169d,Isaac Turner,turner.isaac@gmail.com,"Added kmer_size.{c,h} to allow runtime determination of kmer_size limits",2014-07-16T15:34:52Z,noporpoise
f188d287bfc18e57556305c7688b3cc08fab6c63,Isaac Turner,turner.isaac@gmail.com,Add more command line tests + integrate with Travis CI,2014-07-16T14:45:20Z,noporpoise
50f497f084db4a320c379b1756c496169ae50b6f,Isaac Turner,turner.isaac@gmail.com,"FileFilter maps fromcol->intocol; Clean up file handling

file_filter.c:
- FileFilter no longer contains a file handle. Only stores colour mapping.
- Store fromcol and intocol arrays, instead of single array

file_util.c:
- atomic create/open with futil_create_file()
- clean up file handling

graph_reader.c:
- fix bug in loading multiple graph files, should OR node_in_cols, not cpy!

graph_file_reader.c:
gpath_reader.c:
- opening a file calls die() on error - no fatal argument anymore

test/run.sh:
- run all test Makefiles
- fixed multiple bugs in Makefiles and command line issues

libs/string_buffer.h has been updated to use MACROs for simple functions
- required updating fields {buff,len}->{b,end}

Several small bug fixes including command line arg parsing + fixing memory leaks",2014-07-16T14:08:17Z,noporpoise
9431e036c2da9564e6f9207615c586b9bf9a859a,Isaac Turner,turner.isaac@gmail.com,Use seq file formats as defined in seq_file.h,2014-07-08T18:27:57Z,noporpoise
d98b900bf5f49f9204ca70f9bbc6151cfb26f17f,Isaac Turner,turner.isaac@gmail.com,"Added -q option (Fixes #3)

Added -q,--quiet option to all commands
Renamed -q,--fq-offset -> -O,--fq-offset",2014-07-07T17:40:23Z,noporpoise
5faf470ad5f455307d6b090f9d7b568ee47ed0e2,Isaac Turner,turner.isaac@gmail.com,Fix --force issue in ctx_build.c,2014-07-07T16:41:30Z,noporpoise
b4e966d91132a94c7ce271a5089c9f490618ca1d,Isaac Turner,turner.isaac@gmail.com,"Merge ctx_{reads,correct}.c seq printing -> seqout.{c,h}

seqout.c: creates directories if needed and removes all files if creating one
          file failed. Can print in both FASTQ and FASTA format.

Also allow single input sequence files with colons (:) in their name",2014-07-07T14:29:22Z,noporpoise
ae0befdceb29f319f6f1dc8e711020251ed1dc45,Isaac Turner,turner.isaac@gmail.com,"Added -f,--force command line option

Added -f,--force cmd opt to all commands to overwrite output without error
Added -M,--matepair <FF|FR|RF|RR> instead of --FF,--FR,...

gpath_checks.c: multithreaded gpath_check_all_paths()",2014-07-06T19:01:22Z,noporpoise
a37a6b1cfd842f059e3bf5a73580223cd29d1376,Isaac Turner,turner.isaac@gmail.com,Bad memory access bug,2014-07-04T15:24:33Z,noporpoise
f4c27cfef8979fa08df41accfccdfc17cba5b98e,Isaac Turner,turner.isaac@gmail.com,Record same CorrectAln stats in ctx_thread and ctx_correct,2014-07-04T15:03:23Z,noporpoise
2330de294a271e124a94737e461b9b81b2c156a6,Isaac Turner,turner.isaac@gmail.com,Fix memory calculation issue with ctx_correct.c,2014-07-04T14:27:35Z,noporpoise
86ab978accfc57c48c19886101bab43600cc2c9e,Isaac Turner,turner.isaac@gmail.com,"Save distribution of fragment lengths + seq gap diffs

1. ctx_thread.c + ctx_correct.c:
- record fragment length and sequence gap size
- summarise results and print to screen
- save distributions to file

2. Improve ctx_thread.c memory allocation for GPathSet+GPathHash",2014-07-03T19:58:27Z,noporpoise
b5ac685c545a9055c3ebd2317c61a0569ff84d4d,Isaac Turner,turner.isaac@gmail.com,Fix bug in printing sorted paths; Tune memory GPathSet allocation,2014-07-03T12:12:59Z,noporpoise
94fb4e6000526b6ccab8179c79e6b8ad451308b9,Isaac Turner,turner.isaac@gmail.com,gpath_save(): Only flush buffer when we have 4MB of data,2014-07-02T20:55:52Z,noporpoise
0f937a1324fbaa3793680b90f7ef40a2786845de,Isaac Turner,turner.isaac@gmail.com,Multi-threaded gpath_save(),2014-07-02T20:34:03Z,noporpoise
37d0a211b40dbbf9f5cb9519e405ee6bde93c6b3,Isaac Turner,turner.isaac@gmail.com,Update GPathHash->num_entries,2014-07-02T20:31:17Z,noporpoise
86089064ca3956a32e46c0e1de542d72f03df69f,Isaac Turner,turner.isaac@gmail.com,Use -l/-L to specify min/max fragment length instead of insert size,2014-07-02T17:05:21Z,noporpoise
4dec4a4cb85352d69e05a88f02e3e148ae0ec19b,Isaac Turner,turner.isaac@gmail.com,"Improve mem calc for loading multiple path files

ctx_thread.c: Fix command line argument shortopt values
gpath_save.c: sort paths before saving",2014-07-02T15:30:59Z,noporpoise
aef031b379f5d872f3b7a06c19306419f5c71efa,Isaac Turner,turner.isaac@gmail.com,"Fix ctx_thread statistics, set output buffers

0. Fix bug setting num_kmers_with_paths when threading reads
1. Open all files using futil_[gz]open_output() to set buffers
2. use DEFAULT_IO_BUFSIZE as global input buffer size
3. Added print_stats functions:
 gpath_set_print_stats()
 gpath_store_print_stats()
 gpath_hash_print_stats()",2014-07-02T13:53:39Z,noporpoise
f1407a7f35b1d2af69372c63f651b589218b9a7d,Isaac Turner,turner.isaac@gmail.com,"GPathStore memory calc improvements

0. Multiple by 10X for ctx_build.c sequence input, don't use to set min
1. gpath_store.c create with specified num_paths, path_bytes
2. gpath_hash.c + gpath_store.c: Print memory stats when out of memory",2014-06-30T21:46:34Z,noporpoise
c06a26108c29949a0e7e1efdbbbd32b3c1439ec4,Isaac Turner,turner.isaac@gmail.com,"Bug fixes for ctx_reads; Memory calculations fixed for all commands

Fix memory issues with all commands:
- all commands now include sizeof(BinaryKmer)*8

seq_reader.c:
- compare read names without truncating them

ctx_reads.c:
1. add single-ended output file, even with PE input
2. add output lock
3. fixed bug using nthreads instead of MAX_IO_THREADS dropped some files
4. fixed bad assert on is_pe (can have SE reads with PE interleaved file)
5. fixed seg fault on incrementing read_counter
6. fix bug exiting on success instead of error (!err_occurred)
7. create directories for output path
8. default to FASTQ output
9. count number of SE + PE reads",2014-06-30T02:48:49Z,noporpoise
92250911ac23fd079fbfc219e0a01d0d92bf45f7,Isaac Turner,turner.isaac@gmail.com,"Update 'correct' command

1. correct_reads.c: fix bug printing wrong opening bkmer
2. correct_reads.c: print read bases (in lowercase) instead of N
3. ctx_correct.c take gap_variance, gap_wiggle (-d,-D) as cmd arguments
4. libs/cJSON: store numbers as `long` instead of `int`
5. db_graph.c: add db_graph_next_nodes_in_col() useful function
6. read_thread_cmd.c: only use max_context 1 if no paths loaded

Other:
* Fixed some warnings from CoverityScan",2014-06-27T02:13:52Z,noporpoise
63703c194f63547835e8c666fb80ff3c0c9ee490,Isaac Turner,turner.isaac@gmail.com,Removed all mention of CmdArgs - coverted to using getopt_long() now,2014-06-25T02:03:39Z,noporpoise
a6385e15d66e9a938148370a3c0b174abdd3dcb5,Isaac Turner,turner.isaac@gmail.com,"ctx_reads.c: uses getopt_long()

async_read_io.c: collected common async IO from:
- correct_reads.c
- generate_paths.c
- build_graph.c

async_read_io.c: AsyncIOReadInput -> AsyncIOInput",2014-06-25T01:33:04Z,noporpoise
0fe9810b83030d7ff9bb6fd4f4794f1a0a79bf2b,Isaac Turner,turner.isaac@gmail.com,Don't track Object file,2014-06-24T10:20:23Z,noporpoise
d087a7db997b027f0731ae42577ed70d6512b08e,Isaac Turner,turner.isaac@gmail.com,"Convert ctx_join and ctx_subgraph to using getopt_long()

cmd.c: add cmd_check() to print error if option given twice",2014-06-24T10:19:53Z,noporpoise
5acf00e3da2f38a6eab359a24286b6bec483cf4b,Isaac Turner,turner.isaac@gmail.com,Fix compile time warnings with GCC,2014-06-23T03:07:33Z,noporpoise
3c12ba66cb61e10e1bc23a5c198add8826ecbb8a,Isaac Turner,turner.isaac@gmail.com,Fix compiler warnings and unfree'd mem on exit,2014-06-23T02:23:49Z,noporpoise
55cd9003bf20139bb9e6c1a9b468d67edf6042c0,Isaac Turner,turner.isaac@gmail.com,"Convert all commands to use new ctp format + data structure

Add missing src/paths/* and src/graph_paths/* files
Remove old tests (tests all pass now)
Split out src/alignment/ files
Update ctx_contigs.c to handle own arguments
  - only ctx_reads, ctx_join, ctx_subgraph remain with old style",2014-06-23T02:05:51Z,noporpoise
85fe13203df99c013a81cfa2a7a59c93ce2397c2,Isaac Turner,turner.isaac@gmail.com,"Convert ctx_thread + graph_walker to new GPath

ctx_thread.c: Converted to new graph path file format
graph_walker.c: Coverted to new GPathFollow
gpath_save.c: add more info to header, including system info and commands used
generate_paths.c: store kmer length",2014-06-22T16:44:01Z,noporpoise
a7c1e7745113c3da63e3a0c5d1e4ea7186c0062d,Isaac Turner,turner.isaac@gmail.com,"Run checks in debug command, fix bugs found",2014-06-18T13:08:10Z,noporpoise
135110592294a3d7135bdc66f89e6eba0ae24fad,Isaac Turner,turner.isaac@gmail.com,"Major re-write of path data structure and output format

 *WORK IN PROGRESS*

I've begun re-writing how we store path data. This should remove a large source
of bugs, simplify the code and enable others to use our output format.
The new output format uses a JSON header which is nice.

Added libs/cJSON library (MIT)

split code into subdirectories:
  src/global
  src/basic
  src/paths
  src/graph
  src/graph_paths
  src/tools
  src/commands
  src/main",2014-06-17T20:03:48Z,noporpoise
ce5a42aed306c52672a320ee11a15f9569d4c9f4,Isaac Turner,turner.isaac@gmail.com,Don't need tmp memory to load single path file,2014-06-12T23:55:27Z,noporpoise
f1f90ab3cdad0b14f7118b92609dd1006c49f180,Isaac Turner,turner.isaac@gmail.com,ctx-check: Fix issues with loading a single path,2014-06-12T23:29:15Z,noporpoise
d3c96086df1a175eaa1da0ef2b3b3902504a1587,Isaac Turner,turner.isaac@gmail.com,Fix missing path check in ctx-check [skip CI],2014-06-12T23:03:19Z,noporpoise
ef90010f1753921a4d82f848a46fe6af87f4c284,Isaac Turner,turner.isaac@gmail.com,Add cmd_parse_arg_int32() + move cmd_print_mem() func definition,2014-06-12T16:41:21Z,noporpoise
c21bbc71898ae872b536dfcdf376abfe7104283a,Isaac Turner,turner.isaac@gmail.com,ctx-clean: Fix user message,2014-06-12T16:39:13Z,noporpoise
706539802d00f6f99de35a3ea5b52ac675ebe6b3,Isaac Turner,turner.isaac@gmail.com,Added futil functions to open input files + check path extensions [skip CI],2014-06-12T16:38:18Z,noporpoise
c510096753111608f12574a0f4550453c4ea267a,Isaac Turner,turner.isaac@gmail.com,Missed travis script from previous commit,2014-06-12T16:36:09Z,noporpoise
88e3617b6ef925323b12964c8ed252c9c60b42ca,Isaac Turner,turner.isaac@gmail.com,"Added tests for kmer=63,95 and run on Travis CI",2014-06-12T16:35:29Z,noporpoise
2744c3b76e0d3dc521a290ce7f3c71917463e8f0,Isaac Turner,turner.isaac@gmail.com,Report correct memory usage when using max kmer limit in cmd_mem.c,2014-06-10T23:06:57Z,noporpoise
f878ee1d69e027b74f7353fad7ee2a5a067a26ba,Isaac Turner,turner.isaac@gmail.com,Improve inferedges status updates and help text,2014-06-10T17:47:51Z,noporpoise
26950027f0474fd9bdf48a1aae4cde8b6e3cd8a7,Isaac Turner,turner.isaac@gmail.com,Fix array offset with char warning,2014-06-10T14:20:24Z,noporpoise
2ec8df1d70bddd7f2f007aa4e47eb832d1d36af4,Isaac Turner,turner.isaac@gmail.com,Pass copy of dBNodeBuffer instead of const ptr,2014-06-10T14:15:23Z,noporpoise
1ba9f4114cf3df0b769a7c33bf85b21419c99cac,Isaac Turner,turner.isaac@gmail.com,Check if requested hash size is zero,2014-06-10T14:14:11Z,noporpoise
4518f22155e707e209bb706bd49e4446e594c34d,Isaac Turner,turner.isaac@gmail.com,Removed obsolete arguments from description,2014-06-10T14:13:14Z,noporpoise
be109bb55381e7e44521089336312a5152fba0cb,Isaac Turner,turner.isaac@gmail.com,Fix R graph axes in plotting scripts,2014-06-10T14:12:29Z,noporpoise
d91aede85244d18e229af821247d8092d9076304,Isaac Turner,turner.isaac@gmail.com,Fix bug ignoring --tips <T> value argument,2014-06-10T14:10:42Z,noporpoise
e3e71e87977a4468b53a2f6e9e8298f403513dad,Isaac Turner,turner.isaac@gmail.com,Fix some bugs found by CoverityScan,2014-06-06T05:31:49Z,noporpoise
1d914bbdc54e57deeae4df24e537c720d9818922,Isaac Turner,turner.isaac@gmail.com,ctx build doesn't use more memory than it needs,2014-06-06T03:05:17Z,noporpoise
9741e3f4905f17bf506c8531e563ef1b6206d2ee,Isaac Turner,turner.isaac@gmail.com,"Fix bugs when merging empty .ctp files

Update ctx_health_check.c command line arg parsing

Added `ctx31 check` call to test/thread_pe/Makefile",2014-06-06T02:38:44Z,noporpoise
bad2b8b2c603a3adcac437f587b541ce13184d0c,Isaac Turner,turner.isaac@gmail.com,"Updated ctx_supernodes to use new supernode iterator

ctx_supernodes.c:
- replaced custom supernode iteration with multithreaded supernode_iterate
- replaced custom cmdline parsing with getopt_long()

supernodes.c:
- fixed possible multithreading bug in supernode_iterate. Supernode may be
  fetch in any of two orientations, so we need to pick the lowest node to use
  as the 'supernode lock'. Bug is fixed by comparing the first and last node.
  Note: this is not the same node ordering as supernode_normalise() uses -
        it uses kmerkey comparisons. Additionally we do NOT re-orient the
        supernode so that the first node is the 'supernode lock'.

ctx_alloc.h:
- improved comments, removed unused function declaration",2014-06-06T01:16:31Z,noporpoise
ba0c2b7f45ceaeee11001af5a7ebb1c271b1cdea,Isaac Turner,turner.isaac@gmail.com,"Update path joining command pjoin

ctx_pjoin.c:
- use manual getopt_long()

test/pjoin/Makefile:
- simple test for pjoin

path_store.c:
- fix bug in path_store_add_packed(), breaking merging path files with pjoin

ctx_join.c:
- maximise use_ncols if memory allows",2014-06-05T20:16:12Z,noporpoise
66c1126c26e8c00f5ee0e0e6a33f2f761a5b6ede,Isaac Turner,turner.isaac@gmail.com,"Better stats output from ctx_clean.c + uses getopt_long()

ctx_clean.c:
- handles arguments manually with getopt_long()
- changed some command line arguments
- add number of kmers to coverage histogram
- options to save before/after covg/len histograms

scripts/plot-covg-hist.R:
- updated to include a plot of kmer count

clean_graph.c:
- Record before/after covg/len histograms as we go

supernode.c:
- don't need separate method here to get supernode length distribution

graph_reader.c:
- safer / cleaner parsing of threshold values in header

graph_info.c: Fixed not setting supernode threshold correctly",2014-06-05T18:57:56Z,noporpoise
2af5255d4afcceec344740ae99285ed7969c817d,Isaac Turner,turner.isaac@gmail.com,"Updated ctx_view to use getopt_long(), changes flags",2014-06-04T20:03:21Z,noporpoise
0eecce4bf3c252805d9e9de5f59aa22f3b3c7483,Isaac Turner,turner.isaac@gmail.com,ctx_pview use getopt_long(),2014-06-04T19:51:15Z,noporpoise
d58139fcedc65f80e0b9e138bf3523129c20af0e,Isaac Turner,turner.isaac@gmail.com,Re-write alloc wrapper checks; ctx_bubbles.c handles own args,2014-06-04T19:28:22Z,noporpoise
cf5edbf5657ee39ac669a7269363de61ca3bfb64,Isaac Turner,turner.isaac@gmail.com,Report number of kmers dumped when calling graph_write_all_kmers(),2014-06-04T17:49:31Z,noporpoise
e636acc649123f7b6254f3aff4acc881ca679c64,Isaac Turner,turner.isaac@gmail.com,"Moved cmd.c -> src/basic/cmd.c; Split out src/kmer/cmd_mem.c

1. split cmd_mem.c (out of cmd.c) to handle memory calculations
2. moved src/kmer/cmd.c -> src/basic/cmd.c
3. added cmd_get_cmdline(), cmd_get_cwd() to cmd.h
4. clean_graph.c: print number of nodes removed by tips/supernodes/both",2014-06-04T17:44:02Z,noporpoise
ca51cde8e263b70c655bdb07dc89a18afc1a0ad2,Isaac Turner,turner.isaac@gmail.com,"Split out global.h code; Added supernode_iterate();

1. Split out ctx_alloc, ctx_assert, ctx_output
src/basic/ctx_alloc.c: wrappers for malloc, calloc etc
src/basic/ctx_assert.c: wrappers for assert and family
src/basic/ctx_output.c: status output functions

2. Added supernodes_interate() function to supernodes.h
- used in clean_graph.c: cleaning_get_threshold() and clean_graph()
- used in supernodes.c: supernode_write_len_distrib()

3. Fixed bugs in parsing arguments in ctx_thread

Bugs caught by Kiran (@kvg)",2014-06-04T16:15:39Z,noporpoise
1a60d225aeed133093ea5598cdb8600e26f834b6,Isaac Turner,turner.isaac@gmail.com,Fix test/thread_pe/Makefile option,2014-06-03T22:02:20Z,noporpoise
fbb9328643bb758a837747ebf96296971ba06107,Isaac Turner,turner.isaac@gmail.com,Fix bug in acquiring locks in clean_graph.c,2014-06-03T21:57:22Z,noporpoise
ae4977078c04665287bfec599d19e1cfae2bdb74,Isaac Turner,turner.isaac@gmail.com,"ctx_breakpoints.c: handles command line args manually

ctx_breakpoints.c:
- handle command line args manually

src/kmer/cmd.h:
- add cmd_line_given variable to store command line string
- add cmd_cwd variable to store current working directory

src/kmer/caller_output.c:
- new file for common output from bubble caller + breakpoint caller",2014-06-03T21:15:17Z,noporpoise
3491f9532b0576d397a532bec466ce3ba14f111b,Isaac Turner,turner.isaac@gmail.com,ctx_rmsubstr updated command line args,2014-06-03T16:39:13Z,noporpoise
eb1ed7a53d299ebdf1ac61aec9fc4ffe5aefaaa3,Isaac Turner,turner.isaac@gmail.com,ctx_coverage.c handle args; Added test Makefile,2014-06-03T16:18:50Z,noporpoise
f44dfba056e82284996df3871b0b1d920bb77528,Isaac Turner,turner.isaac@gmail.com,"TIL: free accepts NULL

db_graph_dealloc(): free fields inside dBGraph",2014-06-03T15:33:18Z,noporpoise
6f89012f8c41803979d672db86b3323d2993b2cf,Isaac Turner,turner.isaac@gmail.com,"ctx_build.c: uses getopt for cmd line args

ctx_build.c:
- now handles its own command line arguments with getopt

ctx_correct.c:
- add -c,--colour <C> option to specify which colour to correct against

Renaming files:
- graph_file_filter.c -> graph_file_reader.c
- path_file_filter.c -> path_file_reader.c

Renaming structs:
- AsyncIOReadTask -> AsyncIOReadInput",2014-06-03T00:35:24Z,noporpoise
255a870995c4ce4a25bbbea51a28535ca3d702ce,Isaac Turner,turner.isaac@gmail.com,Fix GCC error,2014-06-02T20:26:38Z,noporpoise
f6aa9350a4499b8b0036dba59fa4b8ec2f4f0ba4,Isaac Turner,turner.isaac@gmail.com,"Merge manual argument parsing in ctx_thread.c and ctx_correct.c

read_thread_cmd.c:
- move ctx_thread.c and ctx_correct.c command line parsing to new file
- inputs are mostly the same for the two commands
- new struct bundles command line arguments for both commands together
- passing struct options for getopt allows turning arguments on/off

ctx_correct.c:
- parse own command line arguments using getopt_long()
- only permit loading a single graph file

ctx_thread.c:
- move arg parsing into read_thread_cmd.c

correct_read_input.c -> correct_aln_input.c
- rename since used in ctx_thread and ctx_correct

seq_output.c:
- create new struct + methods for writing se/pe FASTA files
- used in correct_reads.c
- used to be called CorrectedOutput

async_io_reader.c:
- return <out> path argument from e.g. --seq <in>:<out>

libs/Makefile:
- don't try to clean directories that aren't there",2014-06-02T20:20:01Z,noporpoise
2caf74b1ca8ebad9370d054c1f458e8c7b2510ee,Isaac Turner,turner.isaac@gmail.com,"Split out code from ctx_correct.c -> src/tools/correct_reads.{c,h}",2014-06-02T00:54:14Z,noporpoise
f6801e6b91cee8e0df319d28ba936aeb2ff154ce,Isaac Turner,turner.isaac@gmail.com,"Use new struct MemArgs for -m, -n options [skip CI]

cmd.c:
- added struct MemArgs to store --memory <M> --nkmers <N> values
  - added associated methods cmd_mem_args_set_memory(), cmd_mem_args_set_nkmers()
- cmd_get_longopt_str(), cmd_long_opts_to_short() take buffer length argument
  for safety, and call string_buffer.c:string_safe_ncpy().

scripts/make-circos.pl
- print colour key with circos generation",2014-06-01T21:42:37Z,noporpoise
4ba92a7956659ee75dc3ef87580c0b49f97386dc,Isaac Turner,turner.isaac@gmail.com,ctx_infer_edges.c: parse own command line args,2014-06-01T15:22:09Z,noporpoise
5916e4e39a273b7d92ffdf376852ee92b84047d3,Isaac Turner,turner.isaac@gmail.com,Add coverity email address,2014-05-31T18:23:15Z,noporpoise
f450732a687d98f47fe43cd87391f2015b57bd6d,Isaac Turner,turner.isaac@gmail.com,Don't print Coverity Token; Specify #!/bin/bash,2014-05-31T18:16:50Z,noporpoise
75e9feb11b9168133ee6f57e5704d5d460bce901,Isaac Turner,turner.isaac@gmail.com,Fix Coverity Scan integration with Travis CI encrypted token,2014-05-31T18:05:18Z,noporpoise
75e5de194c6370dfbdfcd8f7981a872205aa1dd5,Isaac Turner,turner.isaac@gmail.com,Remove quotes around COVERITY_SCAN_TOKEN,2014-05-31T17:55:46Z,noporpoise
5fcc2aa82f4ff90a3cf65e76298b6e8226ee20ca,Isaac Turner,turner.isaac@gmail.com,Travis doesn't always define TRAVIS_OS_NAME,2014-05-31T17:47:02Z,noporpoise
7bcd0b31164144c9e79f67eba5a05729138a6288,Isaac Turner,turner.isaac@gmail.com,Fix bugs found by GCC,2014-05-31T17:35:02Z,noporpoise
e9089c2107dc708fcb70b535368def23048c1bad,Isaac Turner,turner.isaac@gmail.com,Try to fix Travis with: bin/sh -> bin/bash,2014-05-31T17:22:53Z,noporpoise
8581363e9b8225fa4d9173c99f4a934f2245bf68,Isaac Turner,turner.isaac@gmail.com,Attempt to fix Travis scripts again,2014-05-31T17:09:54Z,noporpoise
72a21a2103d773857d2f1701ce7ccbcea070e380,Isaac Turner,turner.isaac@gmail.com,Updated Travis CI scripts,2014-05-31T17:03:27Z,noporpoise
b97e1823f1c8895256f760bf9ee1f742e2e04511,Isaac Turner,turner.isaac@gmail.com,"Split out infer_edges code

infer_edges.c:
- split out code from ctx_infer_edges.c
- added tests: src/tests/infer_edges_tests.c
- made multithreaded

graph_writer.c:
- added fast graph_write_all_kmers() method

.travis.yml:
- moved scripts into travis/*
- only run coverity scan on: linux + gcc + coverity_scan branch

Makefile:
- RECOMPILE=1 forces recompile every time",2014-05-31T16:53:30Z,noporpoise
173fd4770890a39187ddd845d0367d937e042680,Isaac Turner,turner.isaac@gmail.com,Fix bug in Travis CI shell script,2014-05-31T13:06:15Z,noporpoise
5ea8f78876c36af9774acc48fad14010112f0535,Isaac Turner,turner.isaac@gmail.com,Reduce Travis builds with script,2014-05-31T13:02:02Z,noporpoise
5b85eb73adea6a7f059cfe8884e083203201c12d,Isaac Turner,turner.isaac@gmail.com,Update Travis config,2014-05-30T19:11:27Z,noporpoise
1eeca3d0e64e919ef131664fe1a3ce3e9d7e2166,Isaac Turner,turner.isaac@gmail.com,"Added thresholding paths by count; Added Circos plot generation

Highlights:
1. path thresholding
2. circos plot generation
3. Coverity Scan, HipChat notifications and mac os x travis builds
4. ctx_thread.c handles cmdline arguments with getopts - begin phasing out cmd.c

== Cleaning Paths ==

ctx_thread.c:
- rewrite to load only accept one graph colour on the command line
- handle command line options itself, instead of using CmdArgs

generate_paths.c:
- update more stats about seqeunce coverage

graph_paths.c:
- sets path count in byte after path sequence in PathStore
- removes paths below a given threshold when doing removing of redundant paths
- updates PathStore given an updated PathSet

path_store.c:
- fixed bug in _path_store_add_to_hash() where PathHash pindex was not being set
  when loading from path file (.ctp).
- when loading ctp file for read threading, set loaded paths to count 255
- added path_store_counts_histogram() to get histogram of path counts -
  not used yet, should use in calculating threshold.

path_set.c:
- fixed BUG in path_set_slim() where excess paths may be kept
- added path_set_load_counts() to load PathSet counts from PathStore
- added path_set_threshold() to reduce a PathSet to only trustable paths
- added path_set_check() to check pointers are valid

== Other ==

path_hash.h:
- added PHASH_ITERATE() MACRO to iterate over paths

ctx_rmsubstr.c:
- support for reads that start with Ns
- report number of 'bad' reads which lack a kmer of {ACGT} bases
- added additional tests

ctx_join.c:
- add free() calls that were missing on exit

ctx_pjoin.c:
- add -t <threads> option

ctx_place.c:
- got rid of chrom_t type, used seq_load_all_reads() common function instead

breakpoint_caller.c:
- print reference contig names and lengths in header

.travis.yml:
- added coverity-scan* intergration
- added osx and linux compilation
- added hipchat notifications

./scripts/make-circos.pl:
- added perl script to generate a circos plot from breakpoint calls

* Coverity Scan was very useful in catching some bugs that are fixed in
  this commit. Their free service for Open Source projects is very cool.",2014-05-30T18:48:09Z,noporpoise
5c633bcaff4fd2d98d462835ec5ea2fcc5c04b71,Isaac Turner,turner.isaac@gmail.com,"Renamed SortedPathSet -> PathSet for more general use

1. sorted_path_set.c -> path_set.c

2. Split FollowPath out from GraphWalker into a separate header file

3. reduce lock usage in PathHash by exploiting the fact that items are never
   removed from the hash. We can traverse a full bucket without acquiring
   the lock first.",2014-05-26T21:03:06Z,noporpoise
c0166bb6528de7db0f2c4db8aecaf4957f84718a,Isaac Turner,turner.isaac@gmail.com,"Multithreaded ctx_clean and associated functions

ctx_clean.c:
- made multithreaded with two-step:
  1. mark graph with multiple threads, then merge threads
  2. clean graph with multiple threads (using prune_nodes.c)

supernode.c:
- make supernode_write_len_distrib() multithreaded

prune_nodes.c:
- prune_nodes_lacking_flag() is now multithreaded",2014-05-26T11:45:36Z,noporpoise
cf99313365e96e58c8555d0bdd5307dd06ac69ce,Isaac Turner,turner.isaac@gmail.com,Re-wrote all command usage and added short+long options for all arguments,2014-05-23T14:32:19Z,noporpoise
6a800f6a0be5e83d6b03e8dd3b9f8b74e472ee9c,Isaac Turner,turner.isaac@gmail.com,Added --out <out.ctx> arg to ctx-join command,2014-05-23T11:36:44Z,noporpoise
e5477191cda949aaa6b079e1b45b7fc34ad8c223,Isaac Turner,turner.isaac@gmail.com,Fix binary_kmer.h for MAXK >= 95,2014-05-23T11:09:48Z,noporpoise
05e26977bc6d5c8662351026a4a5d0c309cfd36f,Isaac Turner,turner.isaac@gmail.com,Fetch longer breakpoint flanks; Fix bug in breakpoint check perl script; Add extra checks,2014-05-23T00:13:02Z,noporpoise
41fb34f0c3db2c11a1c43aeaa59eb40e70b7b1aa,Isaac Turner,turner.isaac@gmail.com,Fixed breakpoint coords reported,2014-05-22T23:28:35Z,noporpoise
e5b6e02dd097f52050fa456901f30d1b84906fb7,Isaac Turner,turner.isaac@gmail.com,Add missing test case files for rmsubstr [skip CI],2014-05-22T01:26:03Z,noporpoise
1abe64088baa23378193f67773f7dd2b9c616e61,Isaac Turner,turner.isaac@gmail.com,Added script to check breakpoint files are valid,2014-05-22T01:21:19Z,noporpoise
f884a28ef823cbee12f65142bdba1a36ff351b5c,Isaac Turner,turner.isaac@gmail.com,Fixed rmsubstr comparison condition; Added tests,2014-05-22T00:36:51Z,noporpoise
ef445ec2c91ec18425466f2ee07e9b5cf613ea5b,Isaac Turner,turner.isaac@gmail.com,"ctx_rmsubstr.c:
- new command to remove substrings and duplicate strings from a set of strings

file_util.c:
- added futil_open_output(), futil_gzopen_output() for convenience. Open stdout
  if path is ""-"". Print status updates and die with appropriate message on error

seq_reader.c:
- added seq_load_all_reads() to load all reads in multiple files into a buffer

ctx_breakpoints.c:
- improve memory calculation by including graph annotation memory with graph mem
- reduce amount of memory required for bucket locks (we were wasteful before)
- truncate and remove commas and colons from chromosome names

ctx_subgraph.c, ctx_coverage.c:
- update usage message to match current behaviour

kmer_occur.c:
- we do not need to require db_graph->col_edges be allocated
- added check for allocation of bktlocks (for multithreaded graph modification)
- added check that we do not have more than 1 edge colour",2014-05-21T23:59:32Z,noporpoise
0459bdf33814933bc911963c2c84b6ed5684f3a3,Isaac Turner,turner.isaac@gmail.com,Added Perl Module and example script to parse bubbles files,2014-05-21T13:20:54Z,noporpoise
abf9f9b1e5fe4129423457e7a6a549a8f7d46dd2,Isaac Turner,turner.isaac@gmail.com,Merge branch 'master' into develop,2014-05-21T12:55:36Z,noporpoise
9b4f63b30a0330822f72d86c287f18a1dd280ac7,Isaac Turner,turner.isaac@gmail.com,Added perl module to parse cortex breakpoint output,2014-05-21T12:53:26Z,noporpoise
470b4caaf10dbbd42b284a9044c3ecf2ef97a9ab,Isaac Turner,turner.isaac@gmail.com,Revert ctx-thread to commit 278de9b2 - it wasn't broken,2014-05-21T11:26:52Z,noporpoise
0437ba8305634449290cb6baa46cffbcf351b002,Isaac Turner,turner.isaac@gmail.com,Breakpoint Caller fixed: Fix GraphWalker counter path crash with Breakpoint Caller,2014-05-20T17:44:30Z,noporpoise
23ed9e744ce08c81640bd3fb84f1f315ce6aff4d,Isaac Turner,turner.isaac@gmail.com,"Subgraph can grab entire supernodes; Bug fixes for breakpoint_caller

Note: There are still outstanding bugs in the breakpoint caller

ctx_subgraph.c:
1. fixed bug causing total_cols to always be set to zero
2. changed command line usage for ctx_subgraph.c:
   - requires --dist <D> instead of taking <dist> <in.ctx>
   - added --supernodes to pull out entire supernodes touched by a read

subgraph.c:
0. renamed struct EdgeNodes -> SubgraphBuilder
1. added grab_supernodes option to pull out entire supernodes touched by a read
2. added tests for above feature in src/tests/subgraph_tests.c

kmer_occur.c:
1. Fixed BUG: split ref sequences at Ns when loading
2. Fixed BUG: array resizing bug in kmer_occur that was causing an out-of-bounds
              warning from valgrind

graph_crawler_tests.c:
1. Added tests which identified and fixed bugs in:
   - graph_cache.c
   - graph_crawler.c

breakpoint_caller.c:
1. fixed BUG: next_nodes incorrect indexing due to removing next nodes that are
              in the ref",2014-05-20T16:12:55Z,noporpoise
278de9b2b9d40a468433577b6b87824823b8013d,Isaac Turner,turner.isaac@gmail.com,"Fix BUG causing `ctx thread` to ignore -p arg; Fix small memory leaks

ctx_thread.c:
* BUG FIX: load paths for the colour being used annotated
* ctx thread was effectively ignoring -p argument

path_format.c:
* added path_load_colour() function similar to graph_reader.c:graph_load_colour()

merged FileFilter dealloc()/close() methods
* file_filter_dealloc() -> file_filter_close()
* graph_file_dealloc() -> graph_file_close()
* path_file_dealloc() -> path_file_close()
* fixes several small memory leaks in ctx commands

graph_crawler.c
* unicol_path_cmp() now compares empty paths correctly",2014-05-16T19:46:55Z,noporpoise
af79c7bc5489a4eb1c6121f6d76bc6275d889245,Isaac Turner,turner.isaac@gmail.com,Second attempt at fixing ncols counting bug,2014-05-16T03:33:02Z,noporpoise
3922d72b1d7a4bf41bbcb7ddab547711d032e126,Isaac Turner,turner.isaac@gmail.com,Fix total colours count in ctx_clean,2014-05-16T03:13:43Z,noporpoise
ed3fa6d45603d0c5a0c1379b045aa555fe99e3c9,Isaac Turner,turner.isaac@gmail.com,Cosmetic changes,2014-05-16T00:34:09Z,noporpoise
48c4674608f8bf4f880d20f382fbd30ae5e441aa,Isaac Turner,turner.isaac@gmail.com,"BreakpointCaller: flank5p is treated like alleles

ctx_breakpoints.c: fixed memory calculation to include ref annotation",2014-05-15T19:43:34Z,noporpoise
13351312772f670fb27b65bb93c34ff0d30b0d69,Isaac Turner,turner.isaac@gmail.com,"Add --min_ref and --max_ref arguments to ctx_breakpoints

0. ctx_breakpoints.c:
* Add --min_ref and --max_ref arguments to ctx_breakpoints to specify required
  homology with the reference to declare a breakpoint
* Add check to see if output file already exists

Convenience MACROs:
1. file_util.h: futil_outpath_str(path), futil_inpath_str(path) return path or
                ""STDOUT""/""STDIN"" if path is ""-""
2. util.h: util_plural_str(n) return ""s"" if != 0, """" otherwise",2014-05-15T16:53:22Z,noporpoise
8fba9c01c14c6dd98077bba51c8f8301d49a8bff,Isaac Turner,turner.isaac@gmail.com,Renamed `ctx31 call` command to `ctx31 bubbles`,2014-05-14T23:42:36Z,noporpoise
43944b7abe35b48b609bd064fb1151f5d3ec6da4,Isaac Turner,turner.isaac@gmail.com,Finished BreakpointCaller,2014-05-14T23:14:09Z,noporpoise
b871a645169531cd13c35d9c0ae3831cbea84b6f,Isaac Turner,turner.isaac@gmail.com,Going Public - moving to github.com/mcveanlab,2014-05-07T23:11:38Z,noporpoise
05eb7871375332dea80d2e017ea13ade0f79f702,Isaac Turner,turner.isaac@gmail.com,Print results with better precision in ctx_contigs.c,2014-05-05T13:27:55Z,noporpoise
a42172084cceef31d1c67f5571cd57d46867c0a1,Isaac Turner,turner.isaac@gmail.com,Benchmark test memory tweak,2014-05-04T19:08:22Z,noporpoise
7acbfa589854e1fcb4bba922b78489a4be60035d,Isaac Turner,turner.isaac@gmail.com,Update tests: more sane memory usage for 1000 staph,2014-05-04T17:16:10Z,noporpoise
b7b11f6c42796873925ae7ace92b828f7863b202,Isaac Turner,turner.isaac@gmail.com,For tests: don't load more than 100 samples at once,2014-05-04T16:51:22Z,noporpoise
5f0ad67db6fc248af766fb513cf6602bc6e1d57a,Isaac Turner,turner.isaac@gmail.com,Use 50GB memory extra per test case,2014-05-04T16:36:11Z,noporpoise
21b4a9740533d1b56b98db4821a9b180a3d6ac81,Isaac Turner,turner.isaac@gmail.com,BUG fixes for removing redundant paths,2014-05-04T15:51:16Z,noporpoise
2055aedfcd9a45edbe87c70c7b0d1aa74455edda,Isaac Turner,turner.isaac@gmail.com,Set PathStore->num_of_bytes when loading a ctp file,2014-05-04T15:31:42Z,noporpoise
eee369de2d111d6004ce56fbfacbfccf93f76d4c,Isaac Turner,turner.isaac@gmail.com,ctx-pjoin can take -t <nthreads> for removing duplicates,2014-05-04T14:36:55Z,noporpoise
941f2d91521f413c6c5ffc6fc5f66df520639085,Isaac Turner,turner.isaac@gmail.com,"BreakpointCaller working + BUG FIX for multithreading

0. BreakpointCaller working:
- kmer_occur.c: BUG Fixes for memory handling
- kmer_occur.c: Finished method to measure kmer runs in the ref for 5p flank,
                added more tests
-

1. Moved supernode.c:supernode_reverse() -> db_node.c:db_nodes_reverse_complement()

2. BUG FIX for util.c:util_run_threads() that I introduce recently

Still TODO to finish breakpoint caller:
1. stop on first hit of ref + require REQ_REF_NKMERS to stop",2014-05-04T14:29:16Z,noporpoise
81cf0fca00662dccc67bf6722f74a232ac11d275,Isaac Turner,turner.isaac@gmail.com,"Bug fixes for kmer_occur.c

0. BUG fixes and tests for kmer_occur.c [tests for kograph_filter_stretch()]
1. util.c:util_run_threads() remove waiting thread - make it do work
2. fix PathStore header, and output ctp header after remove_redundant

Still TODO to finish breakpoint caller:
0. method to measure kmer runs in the ref for 5p flank
1. stop on first hit of ref",2014-05-03T20:47:30Z,noporpoise
e0091ec3817a9cdf0f01b3a5bf1cd098da5e5625,Isaac Turner,turner.isaac@gmail.com,Remove -flto; Make graph_paths_remove_redundant() multithreaded,2014-05-02T16:58:11Z,noporpoise
c24225bd9e99086670f8605048eee2ab9e5db66a,Isaac Turner,turner.isaac@gmail.com,Fix segfault,2014-05-02T12:34:35Z,noporpoise
465670beabe52cd4e031be28f4ee07de78868666,Isaac Turner,turner.isaac@gmail.com,"BreakpointCaller improvements: fetch 5p flank

Still TODO to finish breakpoint caller
0. method to measure kmer runs in the ref for 5p flank
1. stop on first hit of ref",2014-05-02T12:08:16Z,noporpoise
0d1c10d5a8df144b8569fca7d2a68653226703a7,Isaac Turner,turner.isaac@gmail.com,"BreakpointCaller working

1. Uses GraphCache to quickly fetch alleles in all colours
2. It's multithreaded

Still TODO to finish breakpoint caller
1. use MIN_REF_KMERS to set min homology with ref
2. stop on first hit of ref
3. fetch 5p flank",2014-05-02T03:17:09Z,noporpoise
3ec6ca1c545357d4f3b4a4315c49117f3d276902,Isaac Turner,turner.isaac@gmail.com,"Remove use of gzip temporary files, re-write bubble caller to use GraphCache

TODO: finish breakpoint caller
- shoule be using GraphCache
- test with tests/breakpoint/Makefile

0. rename malloc2 -> ctx_malloc etc. to standardise convention with ctx_free
1. Removed the temporary argument from SWAP macro
2. util.c: added function to run jobs in multiple threads: util_run_threads()
3. removed gzip temporary files from breakpoint_caller.c and bubble_caller.c
4. Temporary file code no longer tries to use gzip files
   (one cannot open a gzip stream to read + write)
5. Added HASH_ITERATE_PART macro to hash_table.h for iterating over part of the
   hash table.
6. Always check the return result from an fseek - they can fail
7. ctx_join.c added test for use_ncols >= total_cols if outputting to STDOUT
8. add graph_files_open() for convenience opening multiple graph files
9. Added max_kmers_req argument to cmd_get_kmers_in_hash() function - don't
   use more memory than we need
10. Add sort_r to the dependecies
11. Only include library paths libs/ libs/htslib - all other are now specified
    when they are included in the source e.g. misc/jenkins.h, msg-pool/msgpool.h
12. re-wrote BubbleCaller to use GraphCache + tests
13. GraphCache allows fast traversal when revisiting the same supernodes
14. graph_paths_remove_redundant_node() removes redundant paths from a loaded
    PathStore",2014-05-01T12:20:46Z,noporpoise
ca22164a16f5587c449660e65866729910a28b01,Isaac Turner,turner.isaac@gmail.com,Fix another bad assert when loading with --noredundant,2014-04-25T13:57:50Z,noporpoise
9278745ec7c8e01da003a41bb105de993fbbc5cf,Isaac Turner,turner.isaac@gmail.com,Fixed erroneous assert in loading single path file with --noredundant,2014-04-25T11:54:35Z,noporpoise
249fa32b0cc394fa67d7e5dd79039c2ca7eeccc1,Isaac Turner,turner.isaac@gmail.com,Fix bug in loading SortedPathSet with colour filter,2014-04-25T11:20:27Z,noporpoise
f2a2ff20b868790e781017d534d8691cea18cf49,Isaac Turner,turner.isaac@gmail.com,Fix bug in last commit,2014-04-25T11:11:22Z,noporpoise
25ae5ae643213171b843fc21b0a131311f5dd6bb,Isaac Turner,turner.isaac@gmail.com,Fix segfault from alloc/dealloc typo,2014-04-25T11:08:59Z,noporpoise
9ea2be69b7b90c51dbcdf52ee075849980afdd6b,Isaac Turner,turner.isaac@gmail.com,ctx-pjoin: Fixed bug in command arg handling,2014-04-25T10:51:17Z,noporpoise
f1ab4592f4a7e889207887e35c52e8b6af9b311a,Isaac Turner,turner.isaac@gmail.com,Clarify GraphInfo fields,2014-04-23T16:27:33Z,noporpoise
a911c815886cdd6c0fc4ed3c5663ccf839f97c28,Isaac Turner,turner.isaac@gmail.com,Added mean kmer coverage calculation to 'ctx31 view',2014-04-23T10:59:42Z,noporpoise
135f2f7648b62382893f641608a42fabde29087a,Isaac Turner,turner.isaac@gmail.com,Reduce PathHash from 16 bytes per entry to 10 bytes,2014-04-10T13:20:24Z,noporpoise
4a454a456e71ae2e8fc117677feed302664b2a93,Isaac Turner,turner.isaac@gmail.com,"Can now remove redundant paths with SortedPathSet

1. added SortedPathSet to remove redundant paths when loading
- also added tests

2. ctx_pjoin.c: added --noredundant flag

3. removed unused functions from path_format.c

4. moved thread_pause.h to libs/msg-pool repo

5. removed de-frag code - it was messy with no obvious improvement

6. Makefile: re-added some flags to clang

7. simplified working out how much memory is needed to load paths for src/commands/ctx_*.c

8. binary_seq: added binary_seq_from_str(), binary_seqs_cmp() functions and tests

9.",2014-04-09T23:42:35Z,noporpoise
16f1a817ffb2de298ba24213028b3d241a7ab9c5,Isaac Turner,turner.isaac@gmail.com,"Fix bug when loading paths in ctx_thread before threading

path_store.c:
- fix mess with two sets of pindex arrays, now called _read, _write
- any updating of pindices is done through _write (adding, loading paths)
- any reading of pindices is done through _read (traversing, saving)
- added pstore_get_pindex pstore_set_pindex to read/write pindices

ctx_health_check.c:
- fix buggy memory allocation
- removed useless loop

ctx_pview.c:
- renamed options --paths with --print, since --paths|-p is used for loading paths

correct_aln_stats.h:
- renamed num_gaps_disagreed -> num_paths_disagreed

graph_walker.c:
- added FILE* argument to graph_walker_print_state()

global.c:
- added ctx_free()
- alloc, free functions keep counters - on exit check for non-free'd memory

Thanks to @kgarimella for reports of bugs fixed in this commit",2014-04-07T19:19:17Z,noporpoise
015a5ff672429c04139737d4bafe814f48fc6e00,Isaac Turner,turner.isaac@gmail.com,"Bug fixes for PathHash - appears to be working now

path_hash.c:
 - Added bucket level locks to PathHash. Wasn't previously thread-safe, now fixed
 - fix bugs in memory calculations
 - fix bug where I forgot to mask the plen value after extracting from packed path
 - fix bug in calculating bucket start from hash

path_store.c:
 - Add paths to PathHash when loading
 - Remove unused functions
 - improve API for setup/release of temporary memory

path_format.c:
 - automatically setup temporary memory in PathStore when loading paths files

hash_table.c:
 - better output on hash_table_alloc() on memory usage, table dimensions etc.

all_tests.h:
 - fix warning on dereferencing NULL given by GCC for test_status MACRO",2014-04-03T20:22:48Z,noporpoise
ed1dbd5638116544e7238a23b91e3e173c7bd95b,Isaac Turner,turner.isaac@gmail.com,Forgot to add PathHash,2014-04-03T15:19:37Z,noporpoise
c37b8df31d3aac0b71ac3f2e90d975f983c69347,Isaac Turner,turner.isaac@gmail.com,Added PathHash to speed up threading,2014-04-03T15:09:45Z,noporpoise
beebbeff8bc37f4863d4fed7787e7bdf9a0b185d,Isaac Turner,turner.isaac@gmail.com,"Defragment linked-list in PathStore to improve performance

src/basic/thread_pause.c:
- struct and methods to synchronise threads
- one thread gets control, all others wait on control being released

Defragmenting PathStore:
Every 10M reads defragmentation is done. We should probably use some metric about
number of kmers read instead vs kmers in hash.
Performance has not been tested.
Uses a temporary file if not enough memory.

test/*/Makefile: cleaned up some Makefiles",2014-04-01T20:53:54Z,noporpoise
d07d5293264ab17d28722139bdf8f5fb3aeef223,Isaac Turner,turner.isaac@gmail.com,Fix segfault in asyncio; Print progress with 'ctx31 build',2014-04-01T11:40:20Z,noporpoise
d49451b979b6396b1feb3558a5089a9722a1ec8a,Isaac Turner,turner.isaac@gmail.com,Makefile: Turn off linker plugin - buggy in some GCC versions,2014-03-31T16:34:08Z,noporpoise
e5260e322cea8d60e8a12c587d9458c2cee4f600,Isaac Turner,turner.isaac@gmail.com,"Added progress output every 500,000 reads/read pairs",2014-03-31T16:21:37Z,noporpoise
1cd43518f9e29d4610bf361e2b5e03550a99c337,Isaac Turner,turner.isaac@gmail.com,Added --no-end-check and --use-new-paths switches to ctx_thread,2014-03-31T01:31:01Z,noporpoise
9ff22b4636445ac29c91595258e1d7add33c6a7c,Isaac Turner,turner.isaac@gmail.com,"Added --seqi <in> option to load interleaved files (build,thread,correct)",2014-03-30T23:42:28Z,noporpoise
caf8dc71f562b2bb69f856412d0c1aa596efc020,Isaac Turner,turner.isaac@gmail.com,Improved scripts to support k>31 [skip CI],2014-03-30T12:55:53Z,noporpoise
911a42819b588331fa2ed44de0dc142ad579bdbe,Isaac Turner,turner.isaac@gmail.com,pjoin rename arg -f <in.ctp> to --graph <in.ctp>; Fix GCC warnings [skip CI],2014-03-28T14:32:18Z,noporpoise
d79ba7e54be56e7a379f3a1e50b85274868db044,Isaac Turner,turner.isaac@gmail.com,Fix compile errors with GCC; unused func warn in clang,2014-03-28T14:07:53Z,noporpoise
8ad67feb5f2c6dc4647161a37782a116b96e90a3,Isaac Turner,turner.isaac@gmail.com,Fix issues compiling release builds with RELEASE=1,2014-03-28T12:50:45Z,noporpoise
69d4215cb382e92be4b97ce39f2bf569dc2148e5,Isaac Turner,turner.isaac@gmail.com,Fix issues with turning off checks,2014-03-28T07:51:21Z,noporpoise
6e1c3cec97ecb628fb562589814457bfe88b77a9,Isaac Turner,turner.isaac@gmail.com,Fixes from static analysis: cppcheck + scan-build,2014-03-27T16:24:08Z,noporpoise
61fa73b566cb76ae682bf0e0bf35bc986579cc1b,Isaac Turner,turner.isaac@gmail.com,"Improvements to scripts

scripts/cortex_to_graphviz.pl:
- Added support for reading from streams
- removed references to shades

scripts/seq2pdf.sh:
- pipeline goes straight from sequence file(s) to a pdf of the graph",2014-03-25T18:36:55Z,noporpoise
f4afbb7f6a373eeb6e987887b7582708b61aaca5,Isaac Turner,turner.isaac@gmail.com,Added RepeatWalker tests; Addressed issues that arised due to instable hashes;,2014-03-25T13:53:08Z,noporpoise
f79339e2c6f836057e998a8ffa0bbfc3b2305a01,Isaac Turner,turner.isaac@gmail.com,Fix gap traversal bugs and paths-agree-test introduced in last commit; Add tests,2014-03-25T01:12:15Z,noporpoise
2a66703aeb14baa590b367ba22b47c0751a96cda,Isaac Turner,turner.isaac@gmail.com,Typo broke prev commit,2014-03-21T18:37:35Z,noporpoise
a0d12024fb5fbbd12594b102450968836897b42f,Isaac Turner,turner.isaac@gmail.com,Add script to collect 'ctx thread' stats,2014-03-21T18:18:07Z,noporpoise
566fb545561291eea555833595d292e798a2e83f,Isaac Turner,turner.isaac@gmail.com,ctx thread requires -o <out.ctp> option,2014-03-19T14:48:59Z,noporpoise
364b964191176b3c65292f51309195c8412ea1b3,Isaac Turner,turner.isaac@gmail.com,"Fix bugs in ctx_thread

0. Fix BUG: set PathStore.kmer_paths = NULL when we don't want to use paths in GraphWalker
1. Fix BUG in graph_walker_agrees_contig when n == 0
2. Split out stats code to correct_aln_stats.c (from correct_alignment.c)",2014-03-18T14:07:24Z,noporpoise
2883228e86b3144692a2fa8960c147dd43fec961,Isaac Turner,turner.isaac@gmail.com,Fix bug in graph_walker_agrees_contig check [skip CI],2014-03-17T19:28:34Z,noporpoise
5995659743056f272b3f08318492c9b982def94b,Isaac Turner,turner.isaac@gmail.com,Fix bug in ctx_infer_edges [skip CI],2014-03-17T18:32:43Z,noporpoise
d23c317d55986653234d8ea2a51d8cd582dbc709,Isaac Turner,turner.isaac@gmail.com,"Fix BUG in ctx_coverages.c printing edges; Add gap traversal path checks;

1. Fix bug in printing edges in ctx_coverages.c:
 - edges were not being correctly orientated

2. correct_alignment.c, graph_walker.c: Path checks after gap traversed

3. ctx_thread.c: print gap stats",2014-03-17T17:42:39Z,noporpoise
84c3470dbd9309968ee84d00175ecf2dbe0b8bd7,Isaac Turner,turner.isaac@gmail.com,Trying to fix ctx_clean cmdline bug [skip CI],2014-03-14T13:54:29Z,noporpoise
2d0de4058fb7707cefbdcd9d6ca45e9437f2229a,Isaac Turner,turner.isaac@gmail.com,Fix bugs in ctx_subgraph.c [skip CI],2014-03-14T01:13:56Z,noporpoise
b681dd352ded81e50bcc0cdec7e22de9d7586119,Isaac Turner,turner.isaac@gmail.com,Fix dependencies in Makefile,2014-03-14T01:01:23Z,noporpoise
4f8d7d253ebe884cba9d68d431eac80bf225293c,Isaac Turner,turner.isaac@gmail.com,Updated paths in Makefiles in test/,2014-03-14T01:00:00Z,noporpoise
c135016f56acee07a25dc9962ed308fa9c4e284f,Isaac Turner,turner.isaac@gmail.com,"Split PathStore into used and new paths

1. fix command line argument parsing to allow passing ""-"" to lots of programs

2. ctx_subgraph.c: add -o <out.ctx> output option

3. ctx_supernodes.c: fix printing to stdout instead of fout

4. ctx_thread.c: write paths to one set, read from another

5. path_format.c: fix bug counting bytes to check if header written successfully

6. path_store.c: moved dBGraph variables kmer_paths, kmer_locks -> PathStore

7. supernodes.c: fixed bug in detecting closed loop supernodes",2014-03-14T00:23:26Z,noporpoise
9d12e49d19f0b344d2561c89505724431787a3fd,Isaac Turner,turner.isaac@gmail.com,Move kmer_paths into PathStore,2014-03-12T16:17:15Z,noporpoise
4570c9c85924b1e49ea067b06a4ede4c53820d0b,Isaac Turner,turner.isaac@gmail.com,"Address race condition; BUG in ctx thread; GraphWalker returns node_has_col

hash_table.c: Attempted to fix a race condition in building graphs
- when two threads are trying to access the same bucket, they can clash
  solution: thread should yield on failure to acquire lock

correct_alignment.c:
- when doing generate_paths.c only use nodes in our colour to add paths
- when doing ctx_correct.c [read correction] use any nodes

graph_walker.c:
- GraphWalker sets node_has_col in GraphStep",2014-03-11T16:45:40Z,noporpoise
61d2cfd025d4d765607521347bc6b559cf187cb2,Isaac Turner,turner.isaac@gmail.com,Fix Makefile lto options; Initialise some variables,2014-03-10T17:45:43Z,noporpoise
8d0fa302467079a500682ee4eedff3d68622cd3c,Isaac Turner,turner.isaac@gmail.com,Fix issues with older GCC,2014-03-10T17:17:42Z,noporpoise
38469304340ad1fd3bd8037072fdb72fa9e9f988,Isaac Turner,turner.isaac@gmail.com,"Fix includes, check fwrite return",2014-03-10T17:04:30Z,noporpoise
43f17ff5468d216d40a1fe25eff9c5fff51be674,Isaac Turner,turner.isaac@gmail.com,"Fix includes, check fwrite return",2014-03-10T16:17:32Z,noporpoise
7772625310641e8c2fe253f8df3fb66b1c5edd5c,Isaac Turner,turner.isaac@gmail.com,Increase buffer sizes,2014-03-09T20:12:31Z,noporpoise
cec6c211ef6625f8dffb878d53bff67f55b3b771,Isaac Turner,turner.isaac@gmail.com,"Grab bp units {K,M,G} [skip CI]",2014-03-07T16:38:17Z,noporpoise
88dcc37c5a668d7c53c17fc1c3ed72188319c1e7,Isaac Turner,turner.isaac@gmail.com,Updated column headers [skip CI],2014-03-07T15:41:23Z,noporpoise
0c7b3bd3f086eeca481e36c75876d36311f97b61,Isaac Turner,turner.isaac@gmail.com,Updated column headers [skip CI],2014-03-07T15:39:09Z,noporpoise
ec820f836b98c5f499f29e6db8810f05582945ec,Isaac Turner,turner.isaac@gmail.com,Updated column headers [skip CI],2014-03-07T15:37:50Z,noporpoise
7c1d206a3d2f002bba3d1d16b47cbcb001588efa,Isaac Turner,turner.isaac@gmail.com,Grab sim_substring.pl error rate output,2014-03-07T15:35:30Z,noporpoise
19a49e230ca1d0b9433c72349723d8eba386d215,Isaac Turner,turner.isaac@gmail.com,contig_stats.pl graphs error rate [skip CI],2014-03-07T15:15:43Z,noporpoise
365d824892300003a09a83317f7757b238f0d6da,Isaac Turner,turner.isaac@gmail.com,"BUG fixes for inferedges

ctx_inferedges.c:
- fixed numerous bugs
- writing to a new output file is now working

ctx_clean.c:
- add "".tipclean"" "".supcleanTHRESH"" to sample names

ctx_unique.c, ctx_place.c:
- don't print sample coverage - coverage and genotyping is done at a later stage

ctx_call.c:
- fixed bugs in parsing new command line format",2014-03-07T11:02:50Z,noporpoise
3249644c37423c128beef9d69b7abb9e6c296bc0,Isaac Turner,turner.isaac@gmail.com,Improved 'ctx call' command line - can load multiple graph files,2014-03-06T18:18:37Z,noporpoise
08996d0b470c2f2dd5369e1cad29d3d9edcd7f4f,Isaac Turner,turner.isaac@gmail.com,Fix User Experience bugs,2014-03-06T17:51:36Z,noporpoise
e62a46d6002f3fc81f4731f2408d076818aca491,Isaac Turner,turner.isaac@gmail.com,Added BinaryKmer revcmp_table generation code,2014-03-06T17:11:32Z,noporpoise
f27157838a1bfad5e562bcfabaa5a9a968cece7a,Isaac Turner,turner.isaac@gmail.com,Remove debug output [skip CI],2014-03-06T16:29:01Z,noporpoise
5635dcb4f26516a04453b111e40b6ec20bdf65d5,Isaac Turner,turner.isaac@gmail.com,"BUG fix in inferedges

ctx_inferedges.c: we were merging edges, which was bad

util_tests.c: added rev_nibble_lookup() tests

db_node.h: added edges_print() function

ctx_view.c: report warnings printed by graph_reader.c",2014-03-06T14:27:37Z,noporpoise
e5b2e88ca21ae4aeebb2324672cff61ea422c99d,Isaac Turner,turner.isaac@gmail.com,"BUG fix in ctx coverage; Added graph_reader test for missing coverage

ctx_coverage.c:
- fix bug in printing edges

util.h:
- lookup table for nibble reversal

src/kmer/graph_reader.c:
- warn if a kmer has edges but not coverage

Added src/main/tables.c:
- code to generate static lookup tables used in ninja-cortex",2014-03-05T17:26:24Z,noporpoise
864a56a0eec118ea99a8e4a00ae70add52fda5e1,Isaac Turner,turner.isaac@gmail.com,Fix print edges bug [skip CI],2014-03-05T15:10:05Z,noporpoise
df93ae84b8daea28db606524481de49aaee5fdd8,Isaac Turner,turner.isaac@gmail.com,Fix pointer bug in ctx coverage,2014-03-05T15:02:57Z,noporpoise
f2f295875b8b5c3cb844095f49525319cd57281f,Isaac Turner,turner.isaac@gmail.com,Added ctx coverage command to print coverage,2014-03-05T14:58:30Z,noporpoise
37d853402f8f14f18ca6f6ab02bacc8e6a0de7a3,Isaac Turner,turner.isaac@gmail.com,Typo bug fixes,2014-03-04T18:16:07Z,noporpoise
a1fb472c6d8e6934cce533111095c0c13dd799d3,Isaac Turner,turner.isaac@gmail.com,Added --seqgaps <out> and --mpgaps <out.csv> to ctx thread,2014-03-04T18:04:08Z,noporpoise
40010a457a4f002ab7935afc83f192e300f81034,Isaac Turner,turner.isaac@gmail.com,"Added ctx breakpoints command

src/commands/ctx_breakpoints.c: first save point
- generalised `path divergence' caller
- still needs work and testing

src/kmer/multicol_walker.c:
- walk graph in multiple colours at once to find consensus in the maximum number
  of samples

re-arranged code:
- moved ctx_COMMAND.c files from src/tools/ to src/commands/
- special operations on the graph now live in src/tools/

file_util.c:
- added functions to create and merge temporary gz files",2014-03-04T15:16:00Z,noporpoise
07a4b7e17386773674f6dafec09392846b8587b7,Isaac Turner,turner.isaac@gmail.com,rename boolean -> bool; Remove v7 of cortex file format (using v6),2014-03-01T03:37:36Z,noporpoise
819aa4a1bab78351456fc36de38bb61f8c44f0eb,Isaac Turner,turner.isaac@gmail.com,Cleaned up ctx_build.c code,2014-03-01T03:06:09Z,noporpoise
2427dacbdc82bd447279ca7eb38b7a2410d61a36,Isaac Turner,turner.isaac@gmail.com,Combined remove dups se & pe,2014-02-27T22:52:41Z,noporpoise
dca44d9d6ef745aaa219e732f3a798d4d76d667e,Isaac Turner,turner.isaac@gmail.com,ctx build: Fixed setting header stats + added tests,2014-02-27T18:52:07Z,noporpoise
4a959fb980a2b16f8e711eb8cc56b7bf8f2e85d9,Isaac Turner,turner.isaac@gmail.com,"ctx inferedges gets --out option; can read from STDIN and write to STDOUT

ctx_infer_edges.c:
- added --out option, and can write to STDOUT
- can read from STDIN stream

db_node.h:
- converted all calls to pass arguments in (graph, hkey [, colour]) order",2014-02-27T17:01:56Z,noporpoise
436325917766b95d6e94099e265562a4bc2b897a,Isaac Turner,turner.isaac@gmail.com,"Read/write to STDIN/OUT; status() prints random code; New db_alignment checks

ctx_clean.c, ctx_build.c, ctx_join.c:
- add option to output to STDOUT with ""--out -""

file_filter.c:
- read from STDIN

global.c:
- generate a random code for each run to separate merged output

db_alignment.c:
- added check for all edges between adjacent nodes",2014-02-26T18:44:21Z,noporpoise
64fb444ed66f671c109a1afee2a35e4789be8f27,Isaac Turner,turner.isaac@gmail.com,Faster left shift using GCD algorithm,2014-02-24T05:30:08Z,noporpoise
d3ca7cf4e67f62894ce0d4243dafabc7e1329368,Isaac Turner,turner.isaac@gmail.com,Attempt 3 to fix regex [skip CI],2014-02-21T12:46:21Z,noporpoise
917ede425dd5112634e3d72e3006d3bbfa5e0614,Isaac Turner,turner.isaac@gmail.com,Attempt 2 to fix regex [skip CI],2014-02-21T12:36:14Z,noporpoise
68ef71fca4b662a22eea0617864ae15ccad3416d,Isaac Turner,turner.isaac@gmail.com,Attempt to fix regex [skip CI],2014-02-21T12:34:17Z,noporpoise
a2a35988745d055f17af4c21a898904d5c2daefe,Isaac Turner,turner.isaac@gmail.com,Added script to convert ctx-contig output to CSV,2014-02-21T12:22:14Z,noporpoise
53e5b6365e792a3cb5953093ea310b54aeb52f76,Isaac Turner,turner.isaac@gmail.com,Another bash fix [skip CI],2014-02-21T07:33:29Z,noporpoise
c468b09eba800851a067249356001558d3043ac5,Isaac Turner,turner.isaac@gmail.com,Set memory for each test command [skip CI],2014-02-21T07:28:24Z,noporpoise
3841f6b218a36927e4b032585d97b33aaed79312,Isaac Turner,turner.isaac@gmail.com,Fix bash that I keep messin gup,2014-02-21T07:25:20Z,noporpoise
14fe299ad3b691bb3f649612bf89d6e9787ac71a,Isaac Turner,turner.isaac@gmail.com,Cosmetic changes [skip CI],2014-02-21T07:21:45Z,noporpoise
86c8afae04a1a6dcec4d4d375288add046dfb5b5,Isaac Turner,turner.isaac@gmail.com,Fix BUG: bad memory access,2014-02-21T06:26:45Z,noporpoise
a1c0e8ad46758baa63940daeedac634d8ce70aef,Isaac Turner,turner.isaac@gmail.com,MsgPool uses pointers instead of cpy; call-comparison.mk fixes,2014-02-21T06:02:19Z,noporpoise
90000dc5c021a8c7ec929845cf3a34c81127f64d,Isaac Turner,turner.isaac@gmail.com,Improved reading interleaved sequence file,2014-02-21T01:31:54Z,noporpoise
5ea27e22ba920682045299ea9a7c6a247ab9b514,Isaac Turner,turner.isaac@gmail.com,Cosmetic Changes [skip CI],2014-02-20T23:46:19Z,noporpoise
0046e081d8c76459a1676f9755024d7c9a6d627b,Isaac Turner,turner.isaac@gmail.com,Fix BUG introduced this morning that creates supernode loops; Add missing free,2014-02-19T07:28:50Z,noporpoise
9bb3c83abfe871c1a1fbdc4eb570c5de07b86451,Isaac Turner,turner.isaac@gmail.com,Add script to plot supernode length distribution,2014-02-19T07:01:14Z,noporpoise
86c328ff45f47cdd07f2e7e2f1ab335a856999e9,Isaac Turner,turner.isaac@gmail.com,Added R coverage plotting; Improved status output,2014-02-19T06:28:45Z,noporpoise
4b27b4c20e54c565c7fec29843adb00d089d066e,Isaac Turner,turner.isaac@gmail.com,"BUG fix: typo fq_offset/cutoff in ctx_build cmd arg processing
[skip CI]",2014-02-19T05:07:36Z,noporpoise
b8fc6a05941f70d02c1075bd01d82efd193491de,Isaac Turner,turner.isaac@gmail.com,Figure out kmer size without using 'bc',2014-02-19T04:59:19Z,noporpoise
d8eb63fe1f9ac328acc4a7ab7985d49a9c476135,Isaac Turner,turner.isaac@gmail.com,"Cleaning can dump supernode length distribution

ctx_clean.c:
- add ability to dump supernode length distribution

Makefile:
- NUM_BKMER_WORDS is now set in binary_kmer.h instead of in Makefile

clean_graph.c:
- improved status updates

src/tests/cleaning_graph_tests.c:
- added an extra cleaning_remove_tips check

test/clean/Makefile:
- updated to test latest updates",2014-02-19T04:52:14Z,noporpoise
6877fd3b98b74774497287a6d34a0af914c94f88,Isaac Turner,turner.isaac@gmail.com,"Split out cleaning code & add tests

src/kmer/clean_graph.c:
* split out code for graph cleaning
* now works with multicoloured edges (i.e num_edge_cols > 1)

src/tests/cleaning_tests.c:
* added tests for cleaning

src/tools/ctx_clean.c:
* only load multicoloured graphs once if --ncols is large enough
* warn if cleaning already run

src/kmer/supernodes.c:
* now works with multicoloured edges (i.e num_edge_cols > 1)

src/kmer/hash_table:
* renamed unique_kmers -> num_kmers

src/basic/graph_info:
* renamed:
  - tip_clipping -> cleaned_tips
  - remv_low_cov_sups -> cleaned_snodes
  - remv_low_cov_nodes -> cleaned_kmers
  - remv_low_cov_sups_thresh -> clean_snodes_thresh
  - remv_low_cov_nodes_thresh -> clean_kmers_thresh
* when merging ErrorCleaning structs, weighted merge is used to combine
  cleaning thresholds

src/basic/seq_reader.c:
* Fix bug where '0' was being printed instead of bad qual score

.gitignore:
* added: docs, src/basic/version.h, *.RData, *.RHistory",2014-02-19T01:36:30Z,noporpoise
2c5a4701d979bf27674ecaf555c0e38c2dfbc1a5,Isaac Turner,turner.isaac@gmail.com,Link Time Optimisation for libs/misc files,2014-02-17T13:51:28Z,noporpoise
f323f1b02d694ca771835b2cfd03950e3f54bd9c,Isaac Turner,turner.isaac@gmail.com,Added LTO to Makefile; Fix issues with Travis CI,2014-02-17T02:01:53Z,noporpoise
4db5b9a04f16e9a8e5cb03956aa5df4815e13d65,Isaac Turner,turner.isaac@gmail.com,"Added subgraph tests

Makefile:
- Added link time optimisation -flto -fwhole-program
- `make test` runs tests

src/tests/subgraph_tests.c: subgraph.c tests

README.md:
- added travis build status",2014-02-16T04:12:14Z,noporpoise
fccca95f88ec0ab2f8e5faa6ede75e52585a8df0,Isaac Turner,turner.isaac@gmail.com,Added .travis.yml,2014-02-14T18:25:38Z,noporpoise
424ca53c8b290363562229d18f038d8cfd456b4b,Isaac Turner,turner.isaac@gmail.com,Improved 'ctx contigs' stats output,2014-02-14T18:18:24Z,noporpoise
bae55dce7db1aa8dea3dda85feb9243983f95486,Isaac Turner,turner.isaac@gmail.com,Move N50 code to util.c function + add tests,2014-02-14T17:37:21Z,noporpoise
e4eebf97dc596de9c10a793220de7b61a90fbabc,Isaac Turner,turner.isaac@gmail.com,"Added N50 to ctx_contigs.c; Fixed BUG in util.c:units_to_str()

Added some util.c tests
Updated command line usage in test/contigs/Makefile",2014-02-14T15:51:13Z,noporpoise
a5122eec951ba8e7982658cced1865e0b5b7386d,Isaac Turner,turner.isaac@gmail.com,Fix contigs --out bug; Update call-comparison.mk cmd versions,2014-02-14T12:06:54Z,noporpoise
14097dedff8eab332fbb6e03b44e557226804442,Isaac Turner,turner.isaac@gmail.com,Fixed bugs in bytes_to_str(); Added tests,2014-02-11T14:11:24Z,noporpoise
32083d7f3c5193202b2858cbc016cd6c3d2b09fd,Isaac Turner,turner.isaac@gmail.com,Fix bug introduced yesterday in correct_aln gap_est (no need to +kmer_size),2014-02-11T12:47:08Z,noporpoise
471ac7b96591ca5b07415e0e1ae4e9567c494701,Isaac Turner,turner.isaac@gmail.com,Fix db_node_get_bkmer args in wrong order,2014-02-11T12:32:48Z,noporpoise
9f60aa58cd6e3694684b7e914e343aa29a2f4d58,Isaac Turner,turner.isaac@gmail.com,"Improved ctx_correct.c

Finished ctx_correct.c:
- correct gaps at either end of reads, print gaps properly
- need to add N/seq option when no kmer covg
- need to write tests

db_node.h:
- added bkmer_* MACROs for operations on bkmer+orientation",2014-02-10T23:33:44Z,noporpoise
bccf81931a132e311171f3c9fd8080f363bb7e49,Isaac Turner,turner.isaac@gmail.com,Fix BUG converting alignment gaps in bp -> kmer space,2014-02-10T05:42:49Z,noporpoise
cbc79cb277a2bf1040b04b212ec0b414227de63e,Isaac Turner,turner.isaac@gmail.com,Compile lib/misc files if needed,2014-02-10T05:00:28Z,noporpoise
a6fc05a7ac5b32fdefa89ee31885c25634380890,Isaac Turner,turner.isaac@gmail.com,Cleaned up printing usage / version etc.,2014-02-10T03:40:31Z,noporpoise
623e536e61ffea7f41d5a0167156b0665af9507f,Isaac Turner,turner.isaac@gmail.com,Added recalloc() to zero new mem; Zero mem to satisfy valgrind,2014-02-10T03:07:10Z,noporpoise
a729397989002026549a7d18bd7df1885d218406,Isaac Turner,turner.isaac@gmail.com,Added --printreads debug option to ctx_thread,2014-02-10T02:09:03Z,noporpoise
e624e07482e30b9ca7924861bb6be230b5a641a1,Isaac Turner,turner.isaac@gmail.com,"Fix BUG in twoway correct alignment; Fix hang in check_ret()

correct_alignment.c:
- fix BUG: node traversed by GraphWalker but not allowed by RepeatWalker was
  resulting in a bad contig (missing a kmer)

global.c:
- fix BUG: added missing pthread_mutex_unlock(&biglock) in call_assert2() that
  was causing a hang

binary_seq.c:
- binary_seq_reverse_complement() doesn't mask top byte

db_node.c:
- added db_nodes_print_verbose() v useful for debugging",2014-02-10T02:02:31Z,noporpoise
3808f8cf5a5502877b481b6027d0b0dd06e1f03d,Isaac Turner,turner.isaac@gmail.com,Added more binary_seq tests,2014-02-09T19:59:18Z,noporpoise
db121b3c1085bd57c076b27cbf64ecd2c63f9a8b,Isaac Turner,turner.isaac@gmail.com,Fixed bugs in graph walker hash function,2014-02-09T07:36:00Z,noporpoise
2a9f45018b9e0f9b98ee0fb18b76424508c08979,Isaac Turner,turner.isaac@gmail.com,Fixed bug in binary_seq_reverse_complement(); Split binary_seq_tests.c,2014-02-09T07:19:34Z,noporpoise
03c717436816878d79918919c3b90accb000fc1b,Isaac Turner,turner.isaac@gmail.com,"Added 64 bit GraphWalker hash and use it to set 2 bits in bloom filter

graph_walker.c:
- added 64bit hash in place of 32 bit one: graph_walker_hash64

repeat_walker.c:
- use graph_walker 64 bit hash to set / check 2 bits in the bloom filter at once,
  should give fewer collisions

libs/misc/city.c: Updated CityHash to get 64 bit hash",2014-02-09T06:44:28Z,noporpoise
84e67e555486c0b79afb028fe1432c37dcf283a3,Isaac Turner,turner.isaac@gmail.com,"Split out binary_seq.h

Split out binary_seq code

generate_paths.c:
- removed pack_bases, only use binary_seq now (packed)",2014-02-09T05:21:25Z,noporpoise
5fad2e0a7f2723ab441b107a6d4b2d057abe6a67,Isaac Turner,turner.isaac@gmail.com,"Fix mem issues found with valgrind

graph_walker.c:
- Attempted to fix memory leak in GraphWalker init function, I missed out copying
  new_paths buffer across

ctx_pview.c:
- added --paths and --check options

Makefile:
- added CTXCHECKS switch to turn on/off heavy internal integrity checks",2014-02-09T01:34:02Z,noporpoise
c6b1ab806c4f680e6a6ae82d34ab5653ea19676e,Isaac Turner,turner.isaac@gmail.com,Added extra checks; Fixed FF/FR/RF/RR strings,2014-02-08T07:07:36Z,noporpoise
4f4cb9a5cedd6fcf74f6e530302829638677fcf9,Isaac Turner,turner.isaac@gmail.com,"Fixed BUGS in merging path stores (e.g. two -p <in.ctp> args)

path_store.c:
- fixed bug in adding paths (non-threadsafe functions)
- add print status function path_store_print()

path_format.c:
- Fixed bug in updating kmer path when path found/not added

ctx_healthcheck.c:
- print path memory

cmd.c + ctx_healthcheck.c: fixed command line args allow --noedgecheck",2014-02-08T06:37:14Z,noporpoise
194692fd60739ab339dfaa4f3a53f53a839e0723,Isaac Turner,turner.isaac@gmail.com,Prev commit missed healthcheck mem issue,2014-02-08T04:54:13Z,noporpoise
22bc981e6e101a8a0becb85a12559f84146bfeb6,Isaac Turner,turner.isaac@gmail.com,"Fixed bugs in ctx_healthcheck.c, correct_reads_input.c

correct_reads_input.c:
- Fixed bug in correct_reads_parse() that failed to set --maxIns

ctx_healthcheck.c:
- Set memory usage properly

global.h:
- cleaned up file, added comments",2014-02-08T04:50:50Z,noporpoise
17bb9bfd8fa9a586e3a1e964d49032351735ac09,Isaac Turner,turner.isaac@gmail.com,New ctx_assert() function,2014-02-08T01:43:01Z,noporpoise
4eb8ae06a43123114bdc0f19d9f4d9f3d7349048,Isaac Turner,turner.isaac@gmail.com,Added PCR dup removal tests; Added seq_parse output stats,2014-02-08T00:16:11Z,noporpoise
a74712fd5939bde7556d8f2a1f2c29da7301aca0,Isaac Turner,turner.isaac@gmail.com,Fix ctx_infer_edges.c min number of cmdline args,2014-02-06T06:14:47Z,noporpoise
5b58d8542a65043e77f5072954dd0ec2551defd8,Isaac Turner,turner.isaac@gmail.com,"Fix BUG in correct alignment

correct_alignment.c:
- fix a bug that used the alignment to traverse from - this breaks as soon
  as you correct gap

db_node.c:
- added db_node_check_nodes() to assert that binary kmers follow on from
  each other

db_graph.c:
- changed db_graph_oriented_bkmer() to take a dBNode instead of
  hkey_t + Orientation. This API alteration caused changes in several other files.",2014-02-06T06:11:21Z,noporpoise
733ea1c577957e0b3ebec5a82cc3debfb65a97ca,Isaac Turner,turner.isaac@gmail.com,Debug build,2014-02-06T02:56:21Z,noporpoise
e3edc3663e1dfb913b48094211bebfe6cdcbb27c,Isaac Turner,turner.isaac@gmail.com,Added --printpaths argument to ctx_thread.c to help debugging,2014-02-05T22:25:08Z,noporpoise
869cbfb022771f8a260f02b78185f3f037ba0625,Isaac Turner,turner.isaac@gmail.com,Added initial MACROs for unit tests,2014-02-05T21:20:09Z,noporpoise
d005e68c162b9da349500723b6f70dd432e4b0fb,Isaac Turner,turner.isaac@gmail.com,Fix command line parsing; Only print debug info when VERBOSE=1,2014-02-05T16:34:46Z,noporpoise
f7db012c0c83bd3841cc1c697d54c22dc0fe7fc1,Isaac Turner,turner.isaac@gmail.com,Fix recent bugs in command line parsing and path_store checks,2014-02-05T16:01:44Z,noporpoise
bb4213929ca416fc445829781a30fbb462457426,Isaac Turner,turner.isaac@gmail.com,Added path_store integrity check,2014-02-05T14:34:05Z,noporpoise
53d3840592b2006536fde9347a9f88481a3c699e,Isaac Turner,turner.isaac@gmail.com,Commented out debug code,2014-02-04T20:05:07Z,noporpoise
5fc5825eb0c965d7c43f4041ee4cabdc31cb35c6,Isaac Turner,turner.isaac@gmail.com,Added bioinf-perl to libs Makefile,2014-02-04T20:03:22Z,noporpoise
b2b6330ef57adf7a19e56f783398d4bcbc668991,Isaac Turner,turner.isaac@gmail.com,"Fixed BUGS in db_alignment.c, correct_alignment.c",2014-02-04T19:57:46Z,noporpoise
dbce7493e2053db5d87ad540783a0b0faaeb6ec8,Isaac Turner,turner.isaac@gmail.com,Split subgraph.c code out from ctx_subgraph.c,2014-02-04T18:54:18Z,noporpoise
eb68122e69bfed0674dba4388bb7b38d32c380a4,Isaac Turner,turner.isaac@gmail.com,"BUG fixes for subgraph

ctx_subgraph.c:
- fixed bugs that broke subgraph command
- only allocates buffer if needed (i.e. dist > 0)

objbuf_macro.h:
- added X_attempt_add which returns 1 if added 0 otherwise

cmd.c:
- improved memory estimation when min number of kmers is passed",2014-02-04T15:53:44Z,noporpoise
891cd1be797e30c0a2a41ce0a2033c1425396251,Isaac Turner,turner.isaac@gmail.com,"Fix bugs, clean up code

build_graph.c:
- use async_read_io.c:asyncio_run_threads() in build_graph(), similar to
  see generate_paths.c:generate_paths() and ctx_correct.c

async_read_io.c:
- clean up API, hide all but asyncio_run_threads() run methods
- fix bug in merging threads

ctx.c:
- fix ctx_thread options

calling-comparison.mk:
- fix paths output directory creation",2014-02-04T06:50:19Z,noporpoise
8d5ff69cea8e87acccd497bf7992eeec99c571ab,Isaac Turner,turner.isaac@gmail.com,Another attempt at fixing calling-comparison bug,2014-02-04T05:57:49Z,noporpoise
16f985c501112826aa182bf8c3c574c9c0604851,Isaac Turner,turner.isaac@gmail.com,Fix bug in calling-comparison.mk; split graph & paths directories,2014-02-04T05:56:04Z,noporpoise
5348703f1b7875b8c816181c3fa8728f235567bf,Isaac Turner,turner.isaac@gmail.com,Fix graph_build segfault; Fix mem calc bug,2014-02-04T05:50:18Z,noporpoise
f76421100faa4c8199c9096043b515f1718444f3,Isaac Turner,turner.isaac@gmail.com,Fix dereference of void pointer,2014-02-04T05:13:52Z,noporpoise
e86e118526d0d69734c0cfc4050b49feda5ae529,Isaac Turner,turner.isaac@gmail.com,Forgot to add supernode tests,2014-02-04T04:06:09Z,noporpoise
701d70de1c7c872684ca056b035904a7187454ae,Isaac Turner,turner.isaac@gmail.com,"Nomralise supernode uses kmer key instead of hash position

supernode.c:
- supernodes normalised to give stable order: doesn't rely on hash table layout
  anymore. Uses comparison of first and last kmer. Also detects cycles.
  Once oriented, supernode has lowest poosible kmerkey at the beginning,
  oriented FORWARDs if possible

util.c:
- added calc_GCD()

db_node.h:
- added db_node_shift_add_first_nuc(), db_node_shift_add_last_nuc()

path_store.c:
- removed unnecessary calls to unpack_bases",2014-02-04T04:02:38Z,noporpoise
5fdf9d416a0bb0911c62a05798f1ab85824db59e,Isaac Turner,turner.isaac@gmail.com,"Added ReadMateDir FF/FR/RF/RR; Cleaned up CorrectAln API & added test case

1. Added support for ReadMateDir in ctx_thread and ctx_build
2. Split CorrectReadsInput -> CorrectAlnParam + CorrectAlnReadsTask
3. Added a test case for correct_alignment.c",2014-02-03T21:01:35Z,noporpoise
d5412d4fc47a0f14735941e14cbfa1006a284c12,Isaac Turner,turner.isaac@gmail.com,"Added graph_paths_compatible() check; New command system

* implemented new CtxCmd struct in ctx.c to make adding commands easier
* implemented graphs_paths_compatible() across all commands",2014-02-03T18:03:29Z,noporpoise
1c9acbc320d4a7c14f92b55a00a3e5a03040b3f6,Isaac Turner,turner.isaac@gmail.com,"Split out code to correct read alignments; add ctx_correct.c

correct_alignment.c:
- split out code to correct alignments of reads

correct_reads_input.c:
- struct and functions for creating, sorting inputs for correcting an alignment

async_readio.c:
- added asyncio_run_threads() for general purpose multithreaded input. It creates
  pthreads to wait on input= + pass to readers.

libs/misc/twang.h: added extra hash 64->32
libs/misc/jenkins.h: added mix, finalise functions

src/kmer/cmd.c: Added outline of new command struct

graph_paths.c: graphs_paths_compatible() check for ctx/ctp compatibility",2014-02-02T18:21:09Z,noporpoise
e993b4c82c7bb4f13d9c8bdfee7496c2ae710442,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG in db_alignment; Cleaned up LoadingStats;

db_alignment.c:
- fixed bug in recording sequence gaps in alignments

loading_stats.c:
- SeqLoadingStats -> LoadingStats
- removed readlen_count_array_size, along with unused fields

path_format.c:
- replace paths_merge_needs_tmp() with path_files_tmp_mem_required()

build_graph.c
- each worker holds N LoadingStats (for N input files), and workers merge
  their stats afterwards. Avoid thread cross talk to update statistics.",2014-02-01T18:02:44Z,noporpoise
6681a6a67c18e3414e5301ad6c40d161844831c9,Isaac Turner,turner.isaac@gmail.com,Added ctx_contigs --no-reseed option; Fixed hash_table mem estimate,2014-01-31T20:16:32Z,noporpoise
39fbb4065d8bee6b92127f522e6e6a92eaf3717c,Isaac Turner,turner.isaac@gmail.com,Fixed more compile warnings and an error in last commit,2014-01-31T18:49:33Z,noporpoise
ca53d0ea81ca371523ffd1ffa02d5c9efaae3c99,Isaac Turner,turner.isaac@gmail.com,Fix GCC warning by renaming variables,2014-01-31T18:37:56Z,noporpoise
75c6c1326d2a8cdf21f9081aaf0426b73a100710,Isaac Turner,turner.isaac@gmail.com,Simulations: improve memory estimate; pass to ctx clean,2014-01-31T09:29:31Z,noporpoise
6e303f15b2588f14c12ddc5e624037206095453d,Isaac Turner,turner.isaac@gmail.com,Update simulation cmd ards,2014-01-31T08:33:07Z,noporpoise
8cca0f70860e2bf604fd297a0d1e8a2611c21f21,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG picking up counter paths in multicolour setting

graph_walker.c:
* BUG: pickup_paths wasn't checking for forks in the first position of counter
  paths properly when a multicoloured graph was loaded.
* BUG: fixed corrupt paths check - check was negated (aka always wrong) in
  previous commit.
* improved output when corrupt paths encountered

db_node.c:
* improved db_node_edges_in_col() to use edges, covg and colour bitset
  to return edges that are only in the given colour.
db_node.h:
* added db_node_outdegree_in_col() to get edges outdegree in a given colour. It
  is only a MACRO wrapper for db_node_edges_in_col().
* added edges_mask_orientation() MACRO to mask Edges in a particular orientation

ctx_thread.c: improvements to task output at start

file_filter.c: better output: 'colour' for 1 colour, 'colours' for plural",2014-01-31T08:06:59Z,noporpoise
72be5f7cb29330d66bcf2832540261bc65b90a74,Isaac Turner,turner.isaac@gmail.com,Fixed bad assert in prev commit; Improved status output when loading graph/path files,2014-01-31T07:12:53Z,noporpoise
5a38cc82070d25396d46433aebf5d095177f727e,Isaac Turner,turner.isaac@gmail.com,GraphWalker: Clearer output when paths are corrupt,2014-01-31T07:03:26Z,noporpoise
d317c65b49a8942252acfa3885b423e6db3f51d5,Isaac Turner,turner.isaac@gmail.com,Added GraphPathPairing to graph_paths.c,2014-01-31T06:14:24Z,noporpoise
d58ede59317ac6e6cbdd6b23d72427a8d6618ee3,Isaac Turner,turner.isaac@gmail.com,Clearer var names; BC: check node has colour; Use GW functions,2014-01-30T18:15:25Z,noporpoise
b4a9ec318ba5dd9b330e5de11213999b31c306a2,Isaac Turner,turner.isaac@gmail.com,Remove volatile from struct definitions; cast when needed,2014-01-30T14:48:58Z,noporpoise
1e47f314654ce99081a20c904e024fb2dd5762c3,Isaac Turner,turner.isaac@gmail.com,Don't use ref colour paths in simulations,2014-01-30T13:56:23Z,noporpoise
b47e715c478669d88cc5ad1f64b094f767481ff6,Isaac Turner,turner.isaac@gmail.com,Advance counter paths by a base if they fork,2014-01-30T05:34:33Z,noporpoise
350d837d835a8651acca3c87474cfea6f6b55917,Isaac Turner,turner.isaac@gmail.com,GraphWalker should only use colour 0 edges for now,2014-01-30T05:21:21Z,noporpoise
ff7a76818bd0489d2a046e911c056d938a5b6a9c,Isaac Turner,turner.isaac@gmail.com,Compile error in last commit,2014-01-30T05:10:11Z,noporpoise
a1ec2656037bc4d0f61712bc11eccc4e5755a77c,Isaac Turner,turner.isaac@gmail.com,GraphWalker: Only use node_in_col if available,2014-01-30T05:08:01Z,noporpoise
3837ed7f239e786db3163d1c4a642519358a94c5,Isaac Turner,turner.isaac@gmail.com,Fixes for GraphWalker picking up paths,2014-01-30T04:53:36Z,noporpoise
964494c7943ba893bcd1f5643a106b0c3bc432c2,Isaac Turner,turner.isaac@gmail.com,"Fixed ctx_thread BUG; Fixed bubble caller BUG

ctx_thread.c BUG:
path_store->num_of_paths was going out of whack because we were clearing the
hash table every time we loaded a new colour. This is not a good idea if you
want to construct a path file sharing these colours.

bubble_caller.c BUG:
We were not reversing the supernode first node in walk_supernode_end.

Minor:
* added db_node_match
* improved graph_walker_hash
* merged path_store_thread_safe.c -> graph_paths.c
* wrote graph_paths.c:graph_paths_check_counts() to ensure PathStore + dBGraph
  are in sync",2014-01-30T03:59:29Z,noporpoise
be4508ffd418b63811edcd7b3f2cfb72d74925cf,Isaac Turner,turner.isaac@gmail.com,Fix bug in ctx_thread setting ctp colours to zero,2014-01-28T15:53:09Z,noporpoise
62778383eee33dd4a60b3a01eb47aa61a96d7f74,Isaac Turner,turner.isaac@gmail.com,Simplified graph traversal for variant calling,2014-01-28T14:20:33Z,noporpoise
e5e24cb779a937f8efe698418e1686f7696cffba,Isaac Turner,turner.isaac@gmail.com,Cleaned up PathStore API + moved tmp memory into PathStore struct,2014-01-28T12:26:38Z,noporpoise
1539e03fb754a8214ce92906c060caea35c27b35,Isaac Turner,turner.isaac@gmail.com,"Improvements to traversal implementation/algo

graph_walker.c:
- move new paths -> curr paths at times other than fork nodes
- fast_traverse visits nodes just before in-degree>1 and the node itself with in>1
  This is for picking up paths before and picking up counter paths at in>1 node

bubble_caller.c:
- traverse to the end of the supernode - this allows us to try to pick up paths",2014-01-28T04:41:55Z,noporpoise
8625882b0610a23d3bb024c93f20e3f2fb71e9c5,Isaac Turner,turner.isaac@gmail.com,Bug fix for traversal crash introduced today,2014-01-28T03:59:20Z,noporpoise
6159fc1c418daf2428d53d5e0a8136924abbaa7a,Isaac Turner,turner.isaac@gmail.com,Updated test Makefile options,2014-01-28T03:51:48Z,noporpoise
bb2820c9483a4ec96b7586daad1705242fd998d9,Isaac Turner,turner.isaac@gmail.com,Fix more issues caught by GCC,2014-01-28T03:25:54Z,noporpoise
c177b745e74b08d6c3810aeca8fa64acbc1c86ee,Isaac Turner,turner.isaac@gmail.com,Make GCC happy - remove const,2014-01-28T03:20:07Z,noporpoise
b326eb90f719c3f47bdd09e0513d654ec01d78ef,Isaac Turner,turner.isaac@gmail.com,"GraphWalker: Automatically add counter paths

graph_walker.c:
- replaced calls to graph_walker_node_add_counter_paths with internal-only calls
  to _graph_walker_pickup_counter_paths, do automatically as the traversal API
  is used.",2014-01-28T03:11:26Z,noporpoise
ad469745f595ee8222306b2a06a7cb8ea64d5e83,Isaac Turner,turner.isaac@gmail.com,"Replaced hkey_t+Orient types with dBNode throughout

db_graph.c:
- added db_graph_find()
- db_graph_next_node() returns a single dBNode
- db_graph_next_nodes() return dBNode array instead of hkey_t + Orientation arrays

graph_walker.c:
- graph_walker_choose() now takes dBNode and ignores orientation

caller_supernode.c:
- caller_supernode_create() now takes dBNode as argument",2014-01-28T02:42:54Z,noporpoise
06a3f81ff8d214acbb9af8a8bee55864f8ae436c,Isaac Turner,turner.isaac@gmail.com,"GraphWalker: rewrote structs for following paths

graph_walker.c:
- re-wrote structs for picking up paths + cache of 24 bases per path
- only use packed paths now - no need to unpack

db_node.h:
- added db_node_get_bkmer function to use instead of db_node_bkmer macro
- added db_node_get_edges function to use instead of db_node_edges macro
- added db_node_get_edges_union function to use, removed macro",2014-01-28T01:38:30Z,noporpoise
12e042228c2365ae8aac82ab62797a802401917b,Isaac Turner,turner.isaac@gmail.com,"Cleaned up code; Changed to using dBNodeBuffer

graph_paths.c:
- changed so that it only works with packed sequence now

path_store_thread_safe.c:
- path_store_mt_find_or_add now returns address of path in PathStore

ctx_supernode.c:
- changed to using db_node_buf_*() dBNodeBuffer
- removed global variables

ctx_clean.c:
- changed to using db_node_buf_*() dBNodeBuffer
- added covg_buf_*() CovgBuffer

supernode.c:
- changed to using db_node_buf_*() dBNodeBuffer

bubble_caller.c + caller_supernode.c:
- changed to using db_node_buf_*() dBNodeBuffer",2014-01-27T21:26:17Z,noporpoise
a15199af66573fc9f76f39f9742da548fd56c47b,Isaac Turner,turner.isaac@gmail.com,"Fix BUG in generate paths

Fixed BUG that was copying paths to PathLen position (-4 byte offset from
 correct position).

Added extra tests for packed path
Added print path function",2014-01-27T17:08:17Z,noporpoise
8c5db4b5f593ccc99d4cab8bcb4414c5dcb20d8b,Isaac Turner,turner.isaac@gmail.com,Added tests for adding paths,2014-01-26T16:22:52Z,noporpoise
80431cfce68c4d498a3e6e7467a08e586601e269,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG in path generation

generate_paths.c: Fixed BUG in path generation
* only adding forward junctions after num_rv > 0 seems like a nice optimisation
  but is actually a bad idea. In the case of a fork just before a join we need
  the first fork base:
    __    __
      \  /
  -----><--
       AB   A = out-degree > 1,  B = in-degree > 1

graph_paths.c:
* Check all nodes are in the colour specified
* fix incorrect ordering of db_node_has_col arguments
  (reason for changing MACRO->function: compiler will now warn us!)

ctx_subgraph.c: Fixed bug counting number of seed kmers read in

db_node.h: replaced db_node_{has,set,del,cpy}_col MACROs with functions

test/benchmark/calling-comparison.mk:
* fix typo breaking supernode length distribution output",2014-01-26T02:23:12Z,noporpoise
f4c25f3319ec7ae5951df0f3c37fa625713f554d,Isaac Turner,turner.isaac@gmail.com,Add path check to,2014-01-26T00:58:27Z,noporpoise
f481aa96b5a9dfb9ee427d067727b631a27588a0,Isaac Turner,turner.isaac@gmail.com,Reduced subgraph memory -> we don't need kmermask is >1 colour,2014-01-25T20:05:33Z,noporpoise
a28b62795f6048e5b6b72ce5fbe7be0e557304d4,Isaac Turner,turner.isaac@gmail.com,"HASH_ITERATE bug fix when adding/removing nodes;

db_graph.h:
* renamed HASH_TRAVERSE -> HASH_ITERATE
* mapped HASH_ITERATE_SAFE -> HASH_ITERATE1
* HASH_ITERATE2 is not safe for iterating when adding/removing entries
  - fixes bugs in ctx_subgraph and others

global.h: wrappers for status() calls allow creating new groups, e.g. test_status()

db_graph.h:
* started changing functions to take dBNode as argument/return type
  instead of hkey_t + Orientation

hash_table.c: print capacity to stderr when exiting

src/test/hash_table_tests.c: Added hash table tests",2014-01-25T19:32:21Z,noporpoise
1a0067885881a4178f0453d410163fdebf3f9e7f,Isaac Turner,turner.isaac@gmail.com,Created test-specific output silencing,2014-01-25T02:17:44Z,noporpoise
112409ca9a2c5540d59ff2029c54447073a50320,Isaac Turner,turner.isaac@gmail.com,Bug fix for pack/unpack paths + tests,2014-01-25T02:00:47Z,noporpoise
969bc7b13f4b22aad7f30ffd336bf8c0b1e30a3b,Isaac Turner,turner.isaac@gmail.com,Fixed packed_cpy bug; Improved tests,2014-01-25T01:10:58Z,noporpoise
cd0a2c4e159858917bc71207a04d1a144ddc42f3,Isaac Turner,turner.isaac@gmail.com,Added tests for packed_paths; Faster packed_cpy,2014-01-25T00:26:19Z,noporpoise
d199a24f26fad92f6243004e0f1971d1115f604c,Isaac Turner,turner.isaac@gmail.com,Clean up writing path to pathstore,2014-01-24T13:22:38Z,noporpoise
661880c653017688ea438f426347b33a5b0fa196,Isaac Turner,turner.isaac@gmail.com,Split out new header packed_path.h; PackedPath access all via memcpy now,2014-01-24T13:09:09Z,noporpoise
db29162572b98a8800ff1da8142f8bfc59ff4c9f,Isaac Turner,turner.isaac@gmail.com,Fix plen / path_nbytes mixup,2014-01-23T23:16:08Z,noporpoise
f3fec2f1e7aacd1a59610e1ea6c87f25967efd76,Isaac Turner,turner.isaac@gmail.com,Small fixes,2014-01-23T22:50:39Z,noporpoise
82de51b3f7a3d7d5df51e64f7e1599ef8819fd9b,Isaac Turner,turner.isaac@gmail.com,Remove pdf from test makefile - graphviz not always available,2014-01-23T22:30:49Z,noporpoise
1cc3c0bae0fcc815af0af28af5833ec00d07bf91,Isaac Turner,turner.isaac@gmail.com,Faster path packing,2014-01-23T22:27:12Z,noporpoise
adeac26799b44d5805189090fd65dfb126a41978,Isaac Turner,turner.isaac@gmail.com,"Smarter memory calculations before running; Faster ctx_build --seq2

ctx_build.c: split paired files (--seq2) into two tasks if not doing PCR removal
 - this should speed up running. Need to fix PCR dupe removal for FFvsFR soon.

path_format.c: more rigorous path check

src/tests/util_tests.c: Started adding tests for functions in util.c",2014-01-23T18:54:41Z,noporpoise
19227586c1ab14b74560d601176771ada2380bf7,Isaac Turner,turner.isaac@gmail.com,"Bug fix commit

async_read_io.c: fixed missing free of thread counter (8 bytes)

generate_paths.c:
- fix node orientation bug when adding paths in reverse in _juncs_to_paths()
- fix gap traverse bug that lost kmers after bridging a read gap
- zero histogram memory when we extend array
- don't update sequence error gap after bridging a mate pair gap

path_format.c:
- added path_format_is_path_valid() function to validate paths against a graph

graph_walker.c:
- fixed bug in graph_walker_slow_traverse that corrupted orientation

hash_table.c:
- added missing bitlock_release, which fixed multithreaded hang

src/tests/node_tests.c:
- added new db_node.c tests

dna.c: Added function to generate random DNA strings
- char* dna_rand_str(char *str, size_t cap)",2014-01-22T02:07:08Z,noporpoise
f6995909ff1d704faf9520ca6c8d15b5a4574a11,Isaac Turner,turner.isaac@gmail.com,"Cleaned up code, added comments, streamlined",2014-01-21T14:20:52Z,noporpoise
26415f10a3a6a003d9e7900f9b30850063a12c09,Isaac Turner,turner.isaac@gmail.com,A few edits to keep GCC happy on linux,2014-01-20T18:20:49Z,noporpoise
7dc3e952a7fc9d9d073d5ad3e87a93db62c78c8c,Isaac Turner,turner.isaac@gmail.com,Portability fixes for short term,2014-01-20T15:41:59Z,noporpoise
0827d14aa76735b235cc461acb93c98d472fdc4d,Isaac Turner,turner.isaac@gmail.com,Remove Clang options from Makefile,2014-01-20T15:34:28Z,noporpoise
9ecd63b33317bf5e018d0876dac63eedbc6e7278,Isaac Turner,turner.isaac@gmail.com,"Bug fixes for generate_paths.c / ctx_thread.c

src/kmer/graph_typedef.h -> src/basic/cortex_types.h
* cleaned up includes

global.h:
* added lock to output to ensure it is atomic
* requires use of cortex_init(), cortex_destroy() methods to set up / clean up",2014-01-20T15:20:55Z,noporpoise
0ddef17fa129a9e315f6e2628a1b6e5ca9e0c813,Isaac Turner,turner.isaac@gmail.com,"Asynchronous IO; Multithreaded graph building & read threading

Testing needs to be done, this is just a save commit

AsyncReadIO: src/basic/async_read_io.{c,h}
- added support for reading sequences asynchronously
- uses msgpool library, which is a single header file (added to dependencies)

build_graph.c:
- added asynchronous graph building from sequence data
- modified ctx_build.c to use build_graph.c

generate_paths.c: replaces add_path_worker.c, add_read_paths.c
- added asynchronous path adding from sequence data
- modified ctx_thread.c to use generate_paths.c
- has option of doing conservative or adventurous gap filling
- has bounds on gap fill length for seqeunce and insert gaps
- uses right_shift_packed_bases to pack all junctions then shift multiple time
  (hopefully faster than repeatedly calling pack_bases)

db_alignment.h: models gapped alignment of read to the de Bruijn Graph
- used in when threading paths in generate_paths.c

db_node.h:
- added db_node_reverse(node) to get a dBNode object with opposite orientation

Threadsafe methods added:
- db_graph.h: added hashtable bktlocks
- db_graph.c:db_graph_add_edge_mt()
- db_graph.c:db_graph_find_or_add_node_mt()
- db_node.c:db_node_set_col_edge_mt()
- db_node.c:db_node_increment_coverage_mt()
- hash_table.h:hash_table_find_or_insert_mt()

graph_walker.c:
- add graph_walker_fast_traverse() to force a walker through an array of nodes
- useful when priming a GraphWalker with a trusted piece of sequence, e.g. read

src/kmer/file_reader.{c,h} -> src/basic/loading_stats.{c,h}
- file_reader.h:SeqLoadingPrefs -> loading_stats.h:GraphLoadingPrefs

src/basic/objbuf.h: new macro file
- allows the creation of a buffer type and associated functions with a single
  MACRO call
- provides: alloc, dealloc, ensure_capacity, add, append, reset

seq_reader.h: removed global variables
- process_new_read() now returns 4 flags in a byte
- all graph building specific functions moved to build_graph.{c,h}

cmd.h:
- added -a --asyncio <N> for number of io threads (i.e. max open files)
- use -t --threads <N> for number of worker threads",2014-01-17T18:01:51Z,noporpoise
02a5658f49d5b44341e61789eaeda3c828f29d61,Isaac Turner,turner.isaac@gmail.com,"Threadsafe PathStore; Compiles with strict compiler flags

path_store_thread_safe.c:
* Sketched out kmer level locking for adding paths => removes global path_store lock

libs/Makefile: fixed build broken by renaming hash_functions -> misc

Compiled with strict compiler flags and fixed all issues
* lot of type fixed

util.c:parse_entire_int() family of functions now take const arguments

hash_table.c: fixed prefetch so data doesn't linger in the cache",2014-01-08T13:07:01Z,noporpoise
e09e1b32f205a895fd5eecd6f621053937c61c99,Isaac Turner,turner.isaac@gmail.com,"Mix of updates looking at gap traversal statistics + small code improvements

libraries:
* Tested binary_kmer_reverse_complement() methods in test/dev/bkmer_revcmp/
* Moved libs/hash_functions -> libs/misc
* Added mem_size.c to get total RAM at start up
* Moved bit macros into bit_array repo
* Converted lookup3.c into a single .h file

add_read_paths.c:
* boolean print_traversed_inserts to toggle printing contigs
* gap_limit replaced with ins_gap_min, ins_gap_max

graph_walker.c:
* graph_walker_choose() returns GraphStep instead of just result

cmd.c:
* cmd_check_mem_limit() checks to see if we have exceeded RAM / -m <M> limit

hash_table.c:
* Added hash table prefetch behind HASH_PREFETCH flag

ctx_contigs.c:
* print statistics on contig traversal choices

ctx_thread.c:
* added --maxIns --minIns cmd line arguments

note: may need to look over add_read_path.c:traverse_gap() to check memory bounds",2014-01-02T15:52:55Z,noporpoise
425f1e345cbc7f81ed544a35ea27d87cdc705615,Isaac Turner,turner.isaac@gmail.com,uint32_t -> size_t; Fix Makefile for hashtest,2013-12-20T09:35:35Z,noporpoise
a42423600274a8afaa4686eb3aaa3a2dfb30fbec,Isaac Turner,turner.isaac@gmail.com,Added more tests for binary_kmer,2013-12-19T19:36:49Z,noporpoise
2b75fa998914dc611594b0de30854dae35002727,Isaac Turner,turner.isaac@gmail.com,Split DNA handling code into src/basic/dna.c; Added tests for it;,2013-12-19T18:17:42Z,noporpoise
8358db136842ef82e3576a3edd96fec9f44904b9,Isaac Turner,turner.isaac@gmail.com,"ctx31 contigs prints contig end state

graph_walker.c:
* added nasty global variable for grabbing failure state of graph_walker_choose()

ctx_contigs:
* Print cause of contig truncation

ctx_thread.c:
* slightly improved output: print ratio of se/pe read gaps traversed",2013-12-18T21:07:49Z,noporpoise
e195eda5dcb3c35df04fd97780ee41f659a21e03,Isaac Turner,turner.isaac@gmail.com,"Improved status updates from `contigs`, `thread`; Optimisations in seq_reader.c

ctx_contigs:
* added output about number of paths held at contig end

ctx_thread.c:
* added output of number of reads parsed

seq_reader.c:
* process_new_read() Further speed up attempt checking min/max quality scores",2013-12-18T20:18:13Z,noporpoise
b826988638d8b3411634060ef33659dde07e793f,Isaac Turner,turner.isaac@gmail.com,Potential speed ups in checking reads for errors,2013-12-18T17:27:19Z,noporpoise
d27c366397ae6ce98636f776e9db62ef9784ed19,Isaac Turner,turner.isaac@gmail.com,Removed redundant mutex; Safer thread clean up: completed flag,2013-12-17T10:19:01Z,noporpoise
c9fe70609ea51c7fcd8d88952175ca1d416ec86c,Isaac Turner,turner.isaac@gmail.com,Fixed race conditions in add_path_worker.c,2013-12-17T06:44:59Z,noporpoise
7aee13d89fa63b6e1c20ea708a9abe0f0813ae23,Isaac Turner,turner.isaac@gmail.com,Added summary statistics when writing insert_gaps_sizes.csv,2013-12-16T04:11:04Z,noporpoise
66f8a8e3799aa1afebd179315f8070e9ba992b9a,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG in binary_kmer_from_str method for K>31; Added tests

Began adding test files to the repo

db_graph.c: added functions to print kmer info
+void db_graph_print_kmer(hkey_t node, dBGraph *db_graph, FILE *fout)
+void db_graph_print_kmer2(BinaryKmer bkmer, Covg *covgs, Edges *edges,
+                          size_t num_of_cols, size_t kmer_size, FILE *fout)

db_node.c: Added function to convert edges to string
+char* db_node_get_edges_str(Edges edges, char* kmer_col_edge_str)

Some other bits of code were tidied up",2013-12-15T20:39:19Z,noporpoise
f82045c476f3ca24c415cdd43cf2ea609b3d9a2a,Isaac Turner,turner.isaac@gmail.com,"Fix kmer-size bug reported by Kiran for k>31

Makefile: do not pass MIN_KMER_SIZE, MAX_KMER_SIZE to src/basic files

Moved function
* mv file_filter.c:file_filter_check_kmer_size() -> db_graph.c:db_graph_check_kmer_size()

graph_typedef.h: Moved out struct definitions
* moved dBGraph struct -> db_graph.h
* moved GraphFileHeader -> graph_file_filter.h
* moved PathFileHeader -> path_file_filter.h

Moved files
* mv src/basic/path_file_filter.[ch] -> src/kmer/
* mv src/basic/graph_file_filter.[ch] -> src/kmer/
* mv src/tools/cmd.[ch] -> src/kmer/

Updated README to reflect linking behaviour

== Other ==

file_filter.h: rename fields {orig, path} -> {orig_path, file_path}",2013-12-15T04:06:42Z,noporpoise
85bc79858bf3b4490b172ddfd42c8d96650642f4,Isaac Turner,turner.isaac@gmail.com,Don't need to wipe --remove_pcr memory on first run,2013-12-14T21:51:44Z,noporpoise
f9150d703260d8752c5b2b45d2208d9eb9a5ac6d,Isaac Turner,turner.isaac@gmail.com,Clear --remove_pcr readstrt mem after each sample,2013-12-14T21:50:33Z,noporpoise
817ab82d26e177f2a76a6dbe42e86c908228fcdc,Isaac Turner,turner.isaac@gmail.com,'ctx build' BUG fix: forgot to alloc readstrt for --remove_pcr,2013-12-14T21:44:30Z,noporpoise
88ee24706bf43d819e282282360e2a8b34f7e47f,Isaac Turner,turner.isaac@gmail.com,"ctx31 contigs --seed argument added; Also some small fixes

ctx_contigs.c: Added --seed option to pull out contigs from specified kmers
  instead of using random kmers. Resolves #10

seq_reader.c: seq_reader_first_node() returns first node found in given colour

Fixes:
- libs/Makefile: add hash_functions to targets
- global.h: fix median macro for 0 elements (defaults to zero)
- util.c: fix parse_entire_size, fail on negative",2013-12-14T03:59:42Z,noporpoise
be7337858943481a7ae6c635b111f808b63eeda2,Isaac Turner,turner.isaac@gmail.com,Removed GSL linking - not used atm,2013-12-13T16:55:28Z,noporpoise
078ae22e3b2edded03153a9e7a5e46aa29c9e99a,Isaac Turner,turner.isaac@gmail.com,Update libs Makefile - don't use gsl,2013-12-13T16:33:42Z,noporpoise
dd277f764ba98ff21710f23ed95f47f9ae8d1201,Isaac Turner,turner.isaac@gmail.com,Updated linking to htslib,2013-12-13T16:24:54Z,noporpoise
1601b1098f5d1e612a49edb3c827ad4b8d480a4c,Isaac Turner,turner.isaac@gmail.com,Fix test mp_sizes.csv stats overwrite bug,2013-12-12T16:02:01Z,noporpoise
6ddf49a7fe0cc37bf18d5dc56f5043feac086c76,Isaac Turner,turner.isaac@gmail.com,Benchmark Fix: ref/noref detection,2013-12-12T04:46:32Z,noporpoise
52d655e6e5d8f09749974c75055c0578d23a574e,Isaac Turner,turner.isaac@gmail.com,"Bug fixes, extra sample name checks, speed ups

add_read_paths.c:
* Turned dumping of mp_sizes back on
* speed up when adding paths (stop early if rv paths not added)

path_format.c:
* update empty sample names when loading path files

ctx_thread.c:
* proper checks for sample name matches when loading with -p

graph_reader.c:
* only set intersect_gname for colours loaded, and only set once

calling-comparison.mk:
* use -p option in ctx_thread to avoid repeating threading

Makefile:
* use -O4 optimisation (turns on link time optimisation)

ctx.c: Turned off signal handler - it messes up debugging",2013-12-12T01:00:17Z,noporpoise
f10a154acf8c94625b8be711f057a4c27372b4bb,Isaac Turner,turner.isaac@gmail.com,Updates to help messages and comments,2013-12-10T19:29:44Z,noporpoise
f45edf0414018fd767ce2186fe16460229d89eb0,Isaac Turner,turner.isaac@gmail.com,"Add read paths speed up

add_read_paths.c: Stop adding paths once you find one already exists
  adding path A,C,G,A: novel -> added
  adding path   C,G,A: already exists stop
  (since GA, A will also already exist)",2013-12-10T17:39:26Z,noporpoise
fcc22bcf1b1649837a29d66d6b84332bd0992622,Isaac Turner,turner.isaac@gmail.com,"Fix compile time issues

Makefile: fix path to htslib
libs/Makefile: add hash_functions and bioinf-perl targets
file_util.c: put futil_ prefix on function names
add_read_paths.c: remove dead code",2013-12-10T16:47:25Z,noporpoise
0cc46e1f910b27b8af30dd4b3b227a4239624b69,Isaac Turner,turner.isaac@gmail.com,Fix missing bioinf-perl dependency fetch,2013-12-10T16:24:31Z,noporpoise
22619f0b19f7e8d0a96b7debd2c3b4ab4cec642f,Isaac Turner,turner.isaac@gmail.com,"Improvements to ctx_thread.c: take -p option; split out multithreading code

Threading reads through the graph:
1. ctx_thread.c: Added option (-p in.ctp) to load path files before threading
2. add_read_paths.c split out add_path_workers.c to handle multi-threading code

Next up: re-write of gap_traverse function",2013-12-09T18:14:00Z,noporpoise
3c914e5d123d0e64277afa590ff757aa8255c10e,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG closing paths fh twice after loading

Also:
ctx_call.c+bubble_caller.c: open output file before loading graphs, making calls
-> If cannot open file, get error reported quickly",2013-12-09T16:25:54Z,noporpoise
ae57e759b6fcecce72128ccc0e0ba50101800db1,Isaac Turner,turner.isaac@gmail.com,"Updated tools to use new PathFileReader; path_format.c; path colour filter

path_format.c:
* Add new PathFileReader support to all tools
* rename path_format2 -> path_format
* tests comparing sample names

ctx_pjoin.c: rewrite of ctx_pmerge
* Operates on path files just like ctx_join.c handles graph files
* Fixes issue #6: Better merging of paths files

cmd.h: file renamed input_file
cmd.c: cmd_get_kmers_in_hash() heuristic tweaks

graph_writer.c: removed redundant code

ctx_build.c: prohibit noname and undefined sample names",2013-12-09T04:25:24Z,noporpoise
d477aa2236bb92227924fb68838bed4577fb955a,Isaac Turner,turner.isaac@gmail.com,"Merge ctp using FileFilter: path_format2.c with PathFileReader

1. path_format2.c: Added Path file readers that use PathFileReader objects
   path_format2.c/h will replace path_format.c/h shortly

2. ctx_contigs.c: use new path loading functions. Load multiple .ctp files

3. Updated path file format documentation (it was out of date)

4. path_store.c: cleaned up methods; added many useful macros to the header

Updates include:
* checking sample names match (.ctp vs .ctx)
* loading / merging multiple ctp files
* using file filter to select colours
* moved futil.c: safe_read() to header to improve inlining",2013-12-07T04:40:38Z,noporpoise
f069a9963e42486b8851e1e3cca0db9161b8e8fc,Isaac Turner,turner.isaac@gmail.com,"Minor clean up; Update README; Small optimisations

Updated README.md
db_node.c: Faster safe_add_covg which increases covg without overflowing
graph_walker.c: memmove instead of memcpy (regions may overlap)
hash_table.c: uint_fast32_t instead of uint32_t",2013-12-06T16:35:25Z,noporpoise
920f54f9ce58c29551336129eb2f747ab724a5e6,Isaac Turner,turner.isaac@gmail.com,"Added: file_filter.c, path_file_filter.c; Broke up graph_file_filter.c

==
Split out file_filter.c from graph_file_filter.c, to allow us to create a similar
path_file_filter.c. Example: doing -p in.ctp:0,2 in.ctx:0,2

This is beginning to address issue #6: Better merging of .ctp files

Next to do:
1) re-write path_format.h interface to take PathFileReader args
2) path_format.c: merge multiple input path files

==

ctx_contigs.c: added --out option

range.h: changed uint32_t -> size_t",2013-12-04T02:47:10Z,noporpoise
5854d1c541acaa154eccd9261fed25ec85cc04ba,Isaac Turner,turner.isaac@gmail.com,"Fix BUG in add_read_paths.c

add_read_paths.c:
* fixed BUG introduced by removing add_paths_set_colours()
  commit #2217eb5be43aa682d81b7f90ce1c596690c291f1
  replaced method with wait_for_jobs_to_finish()
* Also improved multitasking

test/calling_repeats/Makefile: Test calling repeats issue #3
  LXR -> LXXR insertion of X is found even when length(X) > kmer-size

replaced some uint32_t with size_t",2013-12-03T17:38:31Z,noporpoise
f12db201817f816ab3de5380a8a49cf63ff8a02c,Isaac Turner,turner.isaac@gmail.com,Fix bug in added path info with errors,2013-12-03T13:07:08Z,noporpoise
3de80d8a698c50fecfba839e459a123eb1e4f403,Isaac Turner,turner.isaac@gmail.com,Fix ctx_contigs args --nsamples -> --ncontigs,2013-12-03T13:02:07Z,noporpoise
64411dac117ae874bfcaebfbd296d2709294d9cc,Isaac Turner,turner.isaac@gmail.com,BUG fix for add_read_paths.c,2013-12-03T02:38:01Z,noporpoise
165e786a0db3d270012daecf00aa316de965b006,Isaac Turner,turner.isaac@gmail.com,"added repeat walker to add_read_paths.c, bubble_caller.c [issue #3]

add_read_paths.c: added repeat walker to traverse_gap
bubble_caller.c: added repeat walker to load_allele_path

Addresses issue #3",2013-12-03T00:22:34Z,noporpoise
2217eb5be43aa682d81b7f90ce1c596690c291f1,Isaac Turner,turner.isaac@gmail.com,"BUG fixes for add_read_paths.c, seq_reader.c

add_read_paths.c:
* Fix BUG: last read was getting dropped
* add missing free(pool)
* replaced uint32_t with size_t
* dropped useful_path_info check - hopefully addresses issue #4

   -A-       -B-
      \     /
       -----
      /     \
   ---       ---

  Read mate pair A & B provide path information even though they do not contain
  junctions.

seq_reader.c: fix BUG introduced in commit #1ffe98b90bcd5f2505b2713b1dda0bab5ffad041
  we weren't returning values other than -1

test/thread2/Makefile: added makefile to run a test example for threading",2013-12-02T15:21:47Z,noporpoise
5e5f35233af5d5f659c609fa19527c979d6230c3,Isaac Turner,turner.isaac@gmail.com,"Code clean up: introduced minimal dBNode { orient:1, key:63; } throughout

db_node.h: added typedef struct { hkey_t orient:1, node:63; } dBNode;

supernodes.c: supernode_naturalise replaced with supernode_normalise
* update all methods to take single dBNode* array instead of hkey_t and orients

caller_supernode.c:
* replace CallerNodeBuf with dBNodeBuffer
* update all methods to take single dBNode* array instead of hkey_t and orients

ctx_thread.c: extra checks for empty command args",2013-12-02T12:57:30Z,noporpoise
4ad11c0e234e298b3b145363bf984a381e510add,Isaac Turner,turner.isaac@gmail.com,Improved ctx_contigs.c statistics output,2013-12-01T00:07:39Z,noporpoise
0459f8063e1b61bb4dec047be0aff2f6b674a49b,Isaac Turner,turner.isaac@gmail.com,"ctx_supernodes.c BUG fixes

supernodes.c:
* Don't allow supernodes to revisit a kmer -- it was causing problems
* simplify supernode_extend and supernode_find, don't report cycle

ctx_supernodes.c:
* removed fastg support - not strictly correct and unused
* fix bugs when printing supernodes that double back on themselves
* add --points option to print supernodes as single points with --graphviz",2013-11-30T19:29:36Z,noporpoise
18c798e96628b93d56e460c1d098bd039d8672e2,Isaac Turner,turner.isaac@gmail.com,Fix ctx_place BUG that makes kmer_size=0 in edges cases with only one flank,2013-11-27T11:24:36Z,noporpoise
fb9bb036644559ec463e1df256a4d7f444065589,Isaac Turner,turner.isaac@gmail.com,"Big rewrite of ctx_place.c

Hopefully the large rewrite to ctx_place should finally put to rest
issue #1: Missing Variants, where released-cortex-run-calls-one-by-one pipeline
was outperforming ninja-cortex is some test cases.  Tests suggest this is now
fixed, will run on staph test case to verify.

ctx_place.c: re-write and the follow changes:
* Added --match --mismatch --gapopen --gapextend alignment param args
* removed --ploidy and genotyping code outline -> handled elsewhere now
* removed --maxbr option (max branches) since doing pairwise alignment not MSA
* use different alignment scoring for flank search vs allele alignment
* add --out <out.vcf> option otherwise print to STDOUT
* more sensitive filter on 3' flank not matching: kmer/2 bp must MATCH

vcf_parsing.c:
* fixed BUG setting lf/rf tags
* improved adding new info tag -> look for empty slot instead of constantly
  increasing memory
* added vcf_info_tag_del()",2013-11-27T03:26:27Z,noporpoise
986e12b510ce29c2695b581bf95d671ce2918109,Isaac Turner,turner.isaac@gmail.com,Added vcflib vcf decomposition back to address issue #1,2013-11-25T18:25:52Z,noporpoise
78809f0888b8676464c8fb12abad999d8737f83c,Isaac Turner,turner.isaac@gmail.com,Lower mem for ctx_supernode.c,2013-11-25T15:43:17Z,noporpoise
2669c746f4df18a22a272d17eb6cde7e0d69671d,Isaac Turner,turner.isaac@gmail.com,"Code clean up and improvements to `ctx supernodes` command (+graphviz format)

1. db_node.h: renamed db_node_col_edges -> db_node_edges
2. binary_kmer.c: faster binary_kmer_to_str
3. repeat_walker.h: faster walker_fast_clear only clean bloom filter if dirty
4. supernode.h: added supernode_normalise
5. ctx_supernodes.c:
   * added --out option
   * added --graphviz output format",2013-11-25T15:25:02Z,noporpoise
d3c87c461666ff8db6daa19ceee20b91875f2e1b,Isaac Turner,turner.isaac@gmail.com,"BinaryKmer functions now all take const params, return a copy",2013-11-22T20:30:51Z,noporpoise
40acd4ec3dd7383cc81a0df60991785222aab562,Isaac Turner,turner.isaac@gmail.com,Removed variant decomposition using vcflib,2013-11-22T16:15:32Z,noporpoise
88ccc581617c1980d0ccbe235684e767b67e4c48,Isaac Turner,turner.isaac@gmail.com,Combine to calloc calls,2013-11-22T15:26:38Z,noporpoise
38d08d48cee6d429bee4820e1d1edf3e1b099182,Isaac Turner,turner.isaac@gmail.com,Use double precision in cleaning coverage estimates,2013-11-22T14:33:26Z,noporpoise
4b506ec37cf784ee355af1957d57b5206896e4f1,Isaac Turner,turner.isaac@gmail.com,ctx_clean checks for excessive use_ncols; putative fix for cleaning threshold (issue #5),2013-11-22T14:10:22Z,noporpoise
e405ef0ad45aa9fb8b0595923e1e47304517140d,Isaac Turner,turner.isaac@gmail.com,"Command line changes; call-comparison.mk prints latest git commit

Added command line options:
 -o|--out <out> Output file [default: null]
 -c|--ncols <ncols> Number of colours to use [default: 1]

Renamed option -h <hash-kmers> to -n
-h, --h, --help can all now be used to get help

call-comparison.mk: prints the git repo version each run

Makefile: autogenerate src/basic/version.h with version name
src/main/ctx.c: print version name when run

Attempt to address issue #5 and avoid UINT_MAX values in ctx_clean",2013-11-20T16:28:38Z,noporpoise
f04882f8ac16f4baba6f8c879f0eb49d504672ff,Isaac Turner,turner.isaac@gmail.com,"Added RepeatWalker to ctx_contigs to store GraphWalker states

Addresses issue #3.

repeat_walker.h adds the ability to traverse through the same kmer multiple times within one contig. Can be achieved by hashing the GraphWalker state and storing in a bloom filter for approximate matching. Only needs to be done when we hit a kmer that has been visited previously.

Functionality implemented in ctx_contigs.c
Not added to add_read_paths.c or bubble_caller.c yet",2013-11-19T19:36:39Z,noporpoise
e802e9f3770bc4c2b07dbb51bac1e472007b6ee0,Isaac Turner,turner.isaac@gmail.com,Updated list of dependencies in README,2013-11-18T20:01:46Z,noporpoise
76759028152633ca656f921e36850502e87fc1b1,Isaac Turner,turner.isaac@gmail.com,"Add libs/vcflib dependency; Use vcflib to split variants up

vcflib provides a program called vcfalleleprimitives to split variants into
SNPs and indels. Doing this appears to reduce the number of variants missed
in calling since ctx_place does not decompose variants if lacking evidence of
recombination or separate mutations.

Resolves #1",2013-11-18T19:40:21Z,noporpoise
c6fe0968601118335aa2c373ee8be0d531938f95,Isaac Turner,turner.isaac@gmail.com,"GraphWalker fasthash added; Removed .ctp inferred kmers, delta_array.c/h

Added GraphWalker fasthash function for visiting a kmer multiple times
  (not implemented)

Removed inferred kmers from ctp format and updated code
Removed src/basic/delta_array.c/h",2013-11-18T16:43:31Z,noporpoise
2d7f8caeaddc78d804ba302da8499568c2780e17,Isaac Turner,turner.isaac@gmail.com,Bug fix in call-comparisons.mk introduced by prev commit,2013-11-15T22:11:04Z,noporpoise
86bc6e85f41fc01f0599bfa8a96baf7cf43d9150,Isaac Turner,turner.isaac@gmail.com,Bug fix in call-comparisons.mk introduced by prev commit,2013-11-15T22:09:50Z,noporpoise
78fdcf96075fb2b88391e86e76895b04e259fca9,Isaac Turner,turner.isaac@gmail.com,"Fix bug in cleaning supernodes; More rigorous healthcheck; Added LICENSE GPLv2

== BUG ==

prune_nodes.c:
* fixed bugs in prune_connecting_edges() and prune_supernode()
* fixed bugs / improved asserts in prune_connecting_edges()

Cleaning issues were caused by supernodes of form a->b->B->A where A=revcmp(a)

Fixes issue #1

== Other ==

LICENSE: Added GPLv2 LICENSE file

README.md: updated, added bcftools and htslib license (MIT)

db_graph.c: moved healthcheck code here from ctx_health_check.c
            Added extra checks to ensure all edges are reciprical

seq_reader.c: added seq_load_str() to load contig into the graph

supernode.c: supernode_extend() wasn't setting *cycle = false

calling-comparison.mk: by default no sequencing error added",2013-11-15T21:53:47Z,noporpoise
14ddf1604812c7021fa38f1a849389392ae8dd19,Isaac Turner,turner.isaac@gmail.com,Linked to wiki,2013-11-14T17:03:11Z,noporpoise
505a65ff55146489cf37e28e77d47b569faad0b3,Isaac Turner,turner.isaac@gmail.com,Update documentation,2013-11-13T17:58:03Z,noporpoise
e03db250ea35a740ad1dea2994fe5eac3d68a2bb,Isaac Turner,turner.isaac@gmail.com,"Fix BUG: ctx_contigs.c: move alloc onto heap, avoid smashing stack",2013-11-12T17:18:40Z,noporpoise
f4c4f821d403ca87cc8e84897a27ac862ecd8149,Isaac Turner,turner.isaac@gmail.com,Move all random seed srand() code to global.c seed_random(),2013-11-12T16:49:01Z,noporpoise
4caaacc868c830eb347420d9b76420651a2e3879,Isaac Turner,turner.isaac@gmail.com,Check colour of seed node when pulling out contigs,2013-11-12T16:28:54Z,noporpoise
d2e6816eb16981bb99b26d7ab8ee1df27093d2ed,Isaac Turner,turner.isaac@gmail.com,Fix BUG float error in ctx_clean; Add covg output to cortex_stats.pl; ctx view only print kmers with covg/edges,2013-11-12T15:46:28Z,noporpoise
1cc4b88c1496a3c805ec2afe6343f01ca2ec252f,Isaac Turner,turner.isaac@gmail.com,Fix memory/pointer error in ctx_clean,2013-11-12T13:55:48Z,noporpoise
3d372717c6e866e8ccb442c984d3eb83aedcacf6,Isaac Turner,turner.isaac@gmail.com,"Fixed BUG in #define graph_file_intocol()

graph_file_filter.h: Fixed BUG in graph_file_intocol (forgot to negate flatten)

graph_file_filter.c: added graph_file_open2() to specify read mode e.g. ""r+""

db_node.h: added db_node_cpy_col to remove a conditional jump

ctx_clean.c:
* reduced memory useage -- don't need col_edges
* removed second open with new FILE*, use GraphFileReader API only
* added check for file filters -- not supported atm (e.g. in.ctx:1)",2013-11-12T01:25:12Z,noporpoise
f41453b00cc1b7ad5ae63a0f29029fde68a106d2,Isaac Turner,turner.isaac@gmail.com,Added hash_table_empty() function to clear hash table,2013-11-11T21:16:15Z,noporpoise
aaf3f4a41502bf92a4b07693807ae0ca182383cd,Isaac Turner,turner.isaac@gmail.com,Added small Makefile to test 'ctx31 clean',2013-11-11T20:45:39Z,noporpoise
404e4df11179c5f24a206068a1d50c079e973f06,Isaac Turner,turner.isaac@gmail.com,"BUG fixes: HASH_TRAVERSE, intersect edges, healthcheck, ctx_thread, etc.

== Fixed BUGS ==

hash_table.h: BUG in HASH_TRAVERSE2 that caused skipped some kmers from
              buckets where deletions had happened

db_graph.c: BUG in db_graph_add_all_edges() that fetched the wrong edges
            colour and node were in the wrong order in db_node_col_edges

graph_reader.c: graph_load was not calling fseek before reading: so getting no
                kmers from a file if reading for a second time

ctx_clean.c: fixed memory leak in calc_supcleaning_threshold()
ctx_clean.c: reset visited bitset after doing tip clipping, supernode covg and
             supernode cleaning

ctx_thread.c: BUG in get_binary_and_colour() fixed - was returning invalid
              file and colour indices

ctx_healthcheck.c: wasn't actually checking that we were finding the nodes
                   pointed to by edges. fixed.

Big fix for edges when loading an intersection:
We now pass a set of edges to intersect with. Updated files:
  src/kmer/graph_reader.c
  src/kmer/file_reader.h
  src/tools/ctx_{clean,subgraph,join}.c

== Other ==

Makefile: DEBUG=1 for debug symbols and VERBOSE=1 for extensive printing progress

scripts/cortex_stats.pl: print number of kmers in each colour

db_graph.c: Added function db_graph_realloc to change number of colours

prune_nodes.c/h: split functions to remove nodes out of db_graph into new .c file

ctx_{clean,subgraph,join}.c: added --usecols argument

ctx_clean.c: print removed kmer stats

test/benchmark/calling-comparison.mk: turned on seq error by default",2013-11-11T20:41:21Z,noporpoise
b3acda1addd689b5c3f6ee6d7dff27f705be7f98,Isaac Turner,turner.isaac@gmail.com,Minor changes,2013-11-05T13:17:29Z,noporpoise
76700eb6dfa1ec8a4461a6fe9fd89ba0f93b0956,Isaac Turner,turner.isaac@gmail.com,Forgot to add src/tools/ctx_health_check.c,2013-11-05T11:45:12Z,noporpoise
563165d27116650db85107c2bd327bfc59a70de6,Isaac Turner,turner.isaac@gmail.com,Added healthcheck command,2013-11-05T11:42:27Z,noporpoise
26695ed83e88bf2afb3009bd0b0ae047fba747a0,Isaac Turner,turner.isaac@gmail.com,Simulations: Specify number of threads,2013-11-04T21:43:14Z,noporpoise
3bc9a21bf92d81de440327285b1be2828f65631f,Isaac Turner,turner.isaac@gmail.com,use 'ctx join --usecols' argument,2013-11-04T03:00:34Z,noporpoise
967c385ac136d8b9e29332315c151c3df8960d89,Isaac Turner,turner.isaac@gmail.com,Fixed bcftools build,2013-11-03T22:07:55Z,noporpoise
0f83de6d8dc4f1a7141a9c313069ceb6c2a8735f,Isaac Turner,turner.isaac@gmail.com,"ctx call: Cmd line args for --maxallele and --maxflank

ctx_call: add --maxallele and --maxflank arguments
test/benchmark/calling-comparisons.mk: Specify memory and max allele for ctx31",2013-11-03T20:53:14Z,noporpoise
cafdf6b280b1e8d6ca20b59a041987c2be05ab14,Isaac Turner,turner.isaac@gmail.com,"Large re-write to use new GraphFileReader struct and methods

re-wrote binary loading to use new GraphFileReader struct
removed merge_colours setting from SeqLoadingPrefs
ctx_subgraph: added --usecols <c> option
ctx_place.c: added filtering stats",2013-11-03T20:05:02Z,noporpoise
9e1f843734d203a57b2992946080847870434b32,Isaac Turner,turner.isaac@gmail.com,"Implemented GraphFileReader; switched to htslib/develop branch

1. Implemented GraphFileReader for ctx_join and ctx_view
2. Finished ctx_join high memory / low disk --usecols <n> option
3. switched to htslib/develop branch: sam_open API now changed

Next commit will roll out GraphFileReader use to the rest of the codebase and
remove collection of now-redundant functions",2013-10-29T20:55:27Z,noporpoise
9375d81fa5add224dc6983540f0da186c337faeb,Isaac Turner,turner.isaac@gmail.com,Planned out experimental GraphFileReader struct and methods,2013-10-28T18:32:40Z,noporpoise
1ffe98b90bcd5f2505b2713b1dda0bab5ffad041,Isaac Turner,turner.isaac@gmail.com,"Stripped population colour from ctx_thread

1. ctx_thread.c: Removed population colour loading in - population not used for
   assembly information
2. add_read_path.c: Removed node_has_col
3. graph_walker.c: Removed node_has_col when only one colour loaded
4. Added bcftools to libs/; specified htslib branch bcftools+calling
5. Remove mentions of shades
6. Remove lingering references to seqan

== Planned for next commit: ==
- integrate graph_file_filter
- finish ctx_join high memory / low disk --usecols option",2013-10-28T01:06:51Z,noporpoise
7f09dcd464219954c243e4784c859ebfd71a2e1d,Isaac Turner,turner.isaac@gmail.com,Updated README,2013-10-26T03:03:52Z,noporpoise
3094b9ac248f40073b2617f66a7ff41ba252f83c,Isaac Turner,turner.isaac@gmail.com,"Simulation ref/noref variants BUG fix; Faster ctx_join; ctx traverse->contigs

1. calling-comparison.mk:
 * Don't keep sample graph files after merge into pop.ctx
 * Only compare bubbles with one ref: only NCHROM=1&ref, NCHROM=2&noref
 * Takes stampy args for mapping (e.g. substitution rate)
 * fixed bioinf-perl simulation scripts to correct bubble discovery rate
 * measure assembly error rate in contig assembly
   [using bioinf~perl/sim_mutations/sim_substrings.pl]

2. cortex_stats.pl: allow specifying a colour to filter (e.g. in.ctx:0)

3. ctx_call.c: check --ref arguments

4. src/main/traversal.c: merged into ctx_contigs.c
   ctx_contigs.c: print contigs; print contig metrics

5. ctx_join.c, graph_reader.c, graph_writer.c: improved low-memory join
 * graph_stream_filter() can now also be used when not intersecting with a graph
   that is currently loaded
 * started: --usecols <c> option with `ctx join` to load multiple colours at once
   (higher mem, lower disk use) [not finished!]

6. rename directory src/common/ -> src/kmer/

7. removed seqan library, doing pairwise alignment instead of multiple sequences

== Planned for next commit: ==
- integrate graph_file_filter
- finish ctx_join high memory / low disk --usecols option",2013-10-26T02:38:37Z,noporpoise
95618e6c2e8618d0999d3257f1678147d3fea190,Isaac Turner,turner.isaac@gmail.com,Update MGLIST in test Makefile,2013-10-18T11:27:56Z,noporpoise
8f0cfb7ccf05aec73523e175a5ebc4a93528ce44,Isaac Turner,turner.isaac@gmail.com,Comment out removing ref divergence,2013-10-18T01:34:11Z,noporpoise
a76d0004bcaefb4ca2d845e20c9ed70f9ac329cf,Isaac Turner,turner.isaac@gmail.com,"Clean up + BUG fix bubble_caller.c; Fix issues in test code; Cleaner ctx_unique.c

1. test simulations:
   * remove ref mismatches from runcalls
   * remove duplicates
2. hash_table.h: Faster HASH_TRAVERSE function
3. ctx_unique.c: strbuf_new/free replaced with strbuf_alloc/dealloc
                 (remove a de-reference)
4. bubble_caller.c: remove duplicate paths, ref branches, only print if >=2
                    branches remain (existing code, just BUG fixes)",2013-10-18T01:25:19Z,noporpoise
12c45631f5e33dc492acdc71a6e40db94eb2ea71,Isaac Turner,turner.isaac@gmail.com,"Tests: simulate mutations in ref genome; Traversal: lower mem, better output

1. traversal.c: lower memory (auto-detect graph+paths), more status updates
2. test simulations:
* ref is now a simulated chr with indels, SNPs etc.
* truth vcf with and without using ref in calling (truth.{ref,noref}.decomp.vcf)
* print ctx kmer out-degree stats, ref copy number",2013-10-13T20:17:12Z,noporpoise
3c128db4bc6b60750833a23ed8f7f405822fa10c,Isaac Turner,turner.isaac@gmail.com,"Test improvements: Makefile memory fix; Ref use in bubble counting

calling-comparison.mk:
  Better memory estimation
  Dont use ref in sim_bubble_vcf.pl if not used in calling!
  Removed shaded caller from simulations
  Generate a ref and noref truth bubble vcfs
  Do oldbc if 10 or fewer individuals

paperSimulations/Makefile:
  Improved paperSimulations Makefile",2013-10-11T21:47:44Z,noporpoise
02b1c1393234e795a2ecfdab4daa7d653c4b8cc8,Isaac Turner,turner.isaac@gmail.com,Improved tests to work with non-ref haploid,2013-10-11T20:09:13Z,noporpoise
f3063d191aa83034b7e410c85970113f5ffb352c,Isaac Turner,turner.isaac@gmail.com,Try to fix paths to ctx31 in test Makefiles,2013-10-10T14:59:07Z,noporpoise
ae109e1231136ad056200bd6bc2281a4d96e8029,Isaac Turner,turner.isaac@gmail.com,Tests now require unzipped FASTA; Fixed paper sim Makefile paths to ref genomes,2013-10-10T08:22:47Z,noporpoise
d190e4555c4b93415cd0fc939d9e56437c8af15e,Isaac Turner,turner.isaac@gmail.com,Set shell to bash,2013-10-10T08:12:28Z,noporpoise
9a5a0449ece3fa5eb62df355ff8a5174d81a6d43,Isaac Turner,turner.isaac@gmail.com,Fix memory settings,2013-10-10T07:51:05Z,noporpoise
34558e419726fd693e7cf9e8062e6b85e6d8fdbc,Isaac Turner,turner.isaac@gmail.com,"Improved calling comparison Makefile; PaperSimulations Makefile stable

calling-comparison.mk:
- always run with ref and without ref
- store result in k31/ directory so we can run with diff kmer size
- thread reference through the pop graph (-> .ctp)
- when only one haploid don't do noref -- wouldn't make sense, only one chr so no variants
- don't do oldbc or shaded when NUM_INDIVS > 1 -- memory too high",2013-10-10T07:47:24Z,noporpoise
700a78e1d3e1e3f108a15eb33d067464398d3017,Isaac Turner,turner.isaac@gmail.com,"Replaced bash script to run tests with a Makefile

1. test/benchmark/call-comparison.mk: New Makefile, replaces run-sample-pop.sh
2. main/traversal.c: Updated traverse, fix walking bugs, better statistics
3. add_read_paths.c: Add MAX_PATH length (num of forks in a path)
4. graph_walker.c: graph_walker_choose updates ptr to indicate if fork in colour
5. ctx_call.c: takes --ref arguments
   bubble_caller.c: removes branches so that each ref has <=1 branches",2013-10-08T10:50:36Z,noporpoise
982924f35cffd3cc5d1c990f701b28f47b9e4c32,Isaac Turner,turner.isaac@gmail.com,Fix bad path,2013-10-04T16:55:48Z,noporpoise
a0f373b41926f2813bdaa145bac299dbe6d3d77e,Isaac Turner,turner.isaac@gmail.com,Added memory arg to test Makefile,2013-10-04T16:51:44Z,noporpoise
4e2bc307a8b7112c0a17aaee3a4d0af33afa3721,Isaac Turner,turner.isaac@gmail.com,More minor improvements to test Makefiles,2013-10-04T13:16:25Z,noporpoise
c294e60174e5b4cd22efd950fe2ad8e97cdba2ab,Isaac Turner,turner.isaac@gmail.com,Fixed calling stampy on diff platforms,2013-10-04T12:08:05Z,noporpoise
905e19677068ebd510b477348b08221288fa1066,Isaac Turner,turner.isaac@gmail.com,More test fixes,2013-10-04T06:49:25Z,noporpoise
cdedc0ba5809989ffb35547a877834be86a78d76,Isaac Turner,turner.isaac@gmail.com,Added missing steps to test Makefile,2013-10-04T06:35:40Z,noporpoise
9675ff2bbe41f7327af739f00bddc353fca8132b,Isaac Turner,turner.isaac@gmail.com,Set up simulations for paper,2013-10-04T06:04:23Z,noporpoise
4dbcff398b23d1df8befb805f320c44867cd4b17,Isaac Turner,turner.isaac@gmail.com,"ctx_place does pairwise alignment

1) ctx_place.c does pairwise alignment instead of Multiple Sequence Alignment
   (much faster)
2) improved memory calculation by tools
3) comparisons using VCF of placed variants added to bioinf-perl and incorporated:
   bioinf-perl/sim_mutations/sim_decomp_vcf.pl
4) added sorting, filtering, left-normalisation to placed variants in tests",2013-09-30T21:41:59Z,noporpoise
760ff81b5b0b6739cec28eda72fc3dac44c4ca4e,Isaac Turner,turner.isaac@gmail.com,Fix memory calculations for several commands,2013-09-27T00:42:03Z,noporpoise
3c0b362fbf3c0d691c261273b1dbcb9f7c25ce58,Isaac Turner,turner.isaac@gmail.com,"Output messages: minor bug fixes

1. global.c: Fixed status() time - was printing month instead of minute
2. Minor tweaks to output commands 'ctx reads' and 'ctx subgraph'",2013-09-26T21:38:50Z,noporpoise
8ca3e8f70efeb8c373f35f636d0e11bf3c225268,Isaac Turner,turner.isaac@gmail.com,Added Makefile for test cases inferedges and subgraph,2013-09-26T18:22:54Z,noporpoise
1f3f69aebd898c90437fce438943390bf7d1bd0c,Isaac Turner,turner.isaac@gmail.com,"BUG fixes: graph pruning, 'ctx view', 'ctx subgraph'; Added 'ctx inferedges --all'

1. db_graph.c: Fixed graph pruning to remove edges, then nodes, with 2-pass
   approach on graph
2. graph_reader.c: Fix memory bug somewhere...
3. ctx_infer_edges.c: Added --all and --pop options to specify adding all missing
   edges or only those that are in the rest of the population
4. ctx_subgraph.c: cannot take pipe/stream since needs to do 2-pass loading
   of seed sequence file",2013-09-26T18:08:00Z,noporpoise
fc6a55d31b7a0945e865da443d74bf91ed953cfa,Isaac Turner,turner.isaac@gmail.com,"Updates to bubble caller / ctx_place output

1. vcf_parse StrBuf* replaced with StrBuf to reduce de-referencing
2. bubble_caller takes max allele length and max flank length as params
3. bubble_caller print cmdline args in bubble header
4. traversal.c: updated, cmdline options added
5. Add traversal31 command to benchmarking
6. ctx_infer_edges.c: can merge colours when loading to save memory
7. db_graph.c: added add_all_edges
8. ctx_place.c: fixed naming bug: only filtered variants were given unique names",2013-09-24T13:34:46Z,noporpoise
241247f7904027c559e414dd44c828a0578a89d8,Isaac Turner,turner.isaac@gmail.com,Fixed fatal BUG in 'ctx thread'/add_read_paths.c; Progress output from ctx_infer_edges.c,2013-09-19T12:35:11Z,noporpoise
a44731877872508cf22bd0276038a83bc9b0c762,Isaac Turner,turner.isaac@gmail.com,Fix bug in clean_bubbles.pl; add_read_paths filters nodes by colour,2013-09-19T12:16:57Z,noporpoise
e6b15f6d995af9e17f0229dd7ad9cfd858f36c0d,Isaac Turner,turner.isaac@gmail.com,"BUG fix for inferedges;

0. BUG fix for inferedges: open with ""r+"" instead or ""rw""
1. BUG fix for inferedges: don't compare bkmers adding fixing edges
2. ctx31 view cmdline options shortened [--kmers|--check|--info]",2013-09-19T11:26:45Z,noporpoise
6c0957d48cbbb507fbe118f38b2833456aa6fe92,Isaac Turner,turner.isaac@gmail.com,"Added inferedges cmd: adds edges seen in the population

0. Also cleaned up SeqLoadingPrefs",2013-09-19T10:13:58Z,noporpoise
412b6901a57377ac16ea897d4611bc82c2b75218,Isaac Turner,turner.isaac@gmail.com,Trialling improved clean_bubbles.pl,2013-09-18T12:22:12Z,noporpoise
7d3091c7bc6aa6038f0ccd7d93a9fbcbf03962ee,Isaac Turner,turner.isaac@gmail.com,Added clean_bubbles.pl to remove known bugs in released cortex output,2013-09-18T11:44:32Z,noporpoise
042e54f39e7d425f1388ca21a6587a9868d7c00c,Isaac Turner,turner.isaac@gmail.com,Fixed path the 'ctx31 join' in test Makefile,2013-09-18T11:43:07Z,noporpoise
a7fb806f28453f7eff659a66cabe710e4d96622b,Isaac Turner,turner.isaac@gmail.com,Added test FASTA file,2013-09-18T11:31:23Z,noporpoise
5bc77c619c5c67427da9dd12ea3a5865a8f94ac4,Isaac Turner,turner.isaac@gmail.com,"BUG FIXES for multisample calling

Without #0 fix bubble-caller crashes and without #1 cleaning crashes!

0. graph_walker.c: Fixed BUG reversing the orientation (typo in add_counter_paths)
1. db_graph.c: Fixed BUG in prune_connected_nodes not removing correct edges
2. bubble_caller.c: Fixed BUG in bubble caller at fork junction calling
                    graph_walker with fork=true without checking
3. ctx_clean.c: Fixed setting cleaning header details
4. ctx_join.c: Fixed setting intersection name
5. New test script 10diploid10X/Makefile
6. run-sample-pop.sh: added shaded caller back in; added readsim with error
7. ctx_clean.c: Trying out mean for covg; clearer output",2013-09-18T10:27:58Z,noporpoise
9e8d5f094c2923539ba0f7a2bdb7a24ddb734346,Isaac Turner,turner.isaac@gmail.com,Failed to set lost_nuc - no bad behaviour but missed optimisation,2013-09-17T06:07:28Z,noporpoise
f7114074e7ccf04de5599c92ded5d924a9331290,Isaac Turner,turner.isaac@gmail.com,Fix GCC compile time warnings,2013-09-17T05:50:51Z,noporpoise
e0dcfbd489cbcd78fefeed6c936ca56cec9f60cd,Isaac Turner,turner.isaac@gmail.com,"Fixed possible issues with GraphWalker adding counter-paths

0. Fixed issue where counter paths could be picked up even if they are going in the wrong direction

TODO:
- integrate readsim
- run tests for paper",2013-09-17T05:20:11Z,noporpoise
6ff154fd95b5413db69fe65d2fccd20793ed2613,Isaac Turner,turner.isaac@gmail.com,"Multi-sample paths test now passing

0. GraphWalker takes ctxcol and ctpcol
1. rewrote bubble caller so supernodes array can grow
2. 10 diploid 10X test now works
3. Better memory allocation logic at startup

Minor:
0. Updated README;
1. Added libs/ to .gitignore
2. Removed libs/cortex_binary_reader repo
3. Added libs/readsim repo",2013-09-16T05:18:11Z,noporpoise
137475069999e8d869ec08f612663e2b5f52c65c,Isaac Turner,turner.isaac@gmail.com,"BUG fixes; Remove inferred kmers, db_graph->edges; Better ginfo->intersect_name;

0. Fixed BUG in parse_entire_int that caused it to always fail
1. Fixed BUG in ctx_join: ctx_num_cols[..] not being set
2. Removed setting inferred kmers -> not needed (for now)
3. added scripts/cortex_stats.pl for getting stats about a graph
4. removed db_graph->edges replaced with db_graph->col_edges[0] and db_graph->num_edge_cols
5. improved setting intersect_graph_name (needs testing)
6. open input sequence files instead of calling test_file_readable (allows piping)
7. speed ups in add_read_paths.c
8. renamed sample_diploid.sh -> run-sample-pop.sh (takes ploidy as arg)

TODO:
1. check why 10 diploid 10X no paths is giving assembly errors",2013-09-14T06:40:59Z,noporpoise
36fa4d492b8c3ffa1328abb3ca99070cf4d83e7b,Isaac Turner,turner.isaac@gmail.com,"Added ctx_subgraph --invert arg; Updated prune_nodes_lacking_flag(); README

1. ctx_subgraph.c: Added --invert option
2. db_graph.c: Updated prune_nodes_lacking_flag() to use db_graph->col_edges
3. Removed commented out code for memory calculations from ctx_*.c files
4. Updated README
5. Removed redundant tests from ctx_view (already checked in graph_file_read_kmer)",2013-08-28T18:36:16Z,noporpoise
0514a70f2cf7dec6c4a0fae388352f3f792cd723,Isaac Turner,turner.isaac@gmail.com,"Added ctx supernodes cmd; Finished ctx clean command; Added status() for output

1. ctx supernodes: new command to dump supernodes
1. ctx supernodes: added FASTG support for dumping graph
2. ctx clean: add option to dump csv of supernode covg
3. ctx clean: added tip cleaning
4. ctx clean: added supernode cleaning
5. cmd.c: Better memory decision function cmd_get_kmers_in_hash()
6. use setvbuf to set buffer on file stream
7. global.c: updated messaging
   * ctx_msg_out FILE stream determines where output goes
   * timestamp() prints timestamp
   * status() prints timestamp() then message()
8. ctx_call: fix minor memory leak: strbuf_free(tmppath);
9. caller_supernode: uses supernode.c functions (moved over from caller_supernode)
10. cmd.c: prints ""Done."" on success, ""Fail."" on failure

Passed diploid test, added threading check

Fixing issues in adding counter-paths seems to have improved detection rate -> ~81% of bubbles recovered.",2013-08-28T18:05:22Z,noporpoise
b6016d16315cce5ccca096adbff06b451869138a,Isaac Turner,turner.isaac@gmail.com,Re-wrote db_graph_next_nodes for speed; Includes supernode traversal BUG fix,2013-08-20T18:48:33Z,noporpoise
4142200431177dc7a7a1402db2830c3c665dc25f,Isaac Turner,turner.isaac@gmail.com,Bug fixes,2013-08-20T02:50:20Z,noporpoise
8cd8f811d3aca65f11ef5d676f1402a77c015a55,Isaac Turner,turner.isaac@gmail.com,Compile err fix in binary_kmer; Added hash probing code (commented out),2013-08-09T11:12:30Z,noporpoise
6b9fb7d7d69862bb1771b88dedb954119777d6c4,Isaac Turner,turner.isaac@gmail.com,"BinaryKmer changed to struct;  Added inferred kmers to path_format; renamed binary_*

BinaryKmer is a struct instead of just a typedef array. This makes it possible
to pass by copy and to return a BinaryKmer. Also allows the removal of
BinaryKmerPtr and ConstBinaryKmerPtr types. It should now be clearer when a
variable is an array or a pointer.

Inferred kmers were added to path_format.c and add_read_paths.c. They are dumped
when adding paths and loaded when loading a ctp with a ctx file. Paths can now
be added using a smaller background population than will later be used.

graph_walker:
- fixed graph_walker so paths are only used for forks in the colour being followed

path_format.c:
- faster memory arrangement: linked lists arranged in forward direction before
  dumping. This should improve graph traversal speed.

hash_table.c:
- Changed how memory is decided for hash table so we are consistent
- Added WARN_OCCUPANCY for use when deciding memory

add_read_paths.c:
- changes to improve multi-threading
- changes to support writing inferred kmers

Renamed files / methods:
- renamed binary_paths -> paths_store
- renamed binary_format -> graph_format
- renamed binary_reader -> graph_reader
- renamed binary_writer -> graph_writer

cmd:
 * multiple [-p <in.ctp>] arguments accepted",2013-08-09T00:33:44Z,noporpoise
8a14318bbcdfea7b441983cb442e0087cb821e21,Isaac Turner,turner.isaac@gmail.com,"Mess of updates to clean up code; Multi-sample read threading almost working

status: sample_diploid runs without errors

paths_format:
 * added sample name to ctp header -- use as check when loading
 * wrote paths_file_probe to get file header
 * updated specification to include inferred kmers - not implemented yet

binary_format:
 * renamed BinaryFileHeader -> GraphFileHeader
 * rewrote binary_file_probe -> graph_file_probe
 * added max_col to GraphFileHeader
 * renamed CURR_CTX_VERSION -> CTX_GRAPH_FILEFORMAT matches CTX_PATHS_FILEFORMAT

Makefile:
 * Added make PROFILE=1 to compile with debug symbols and optimisations
 * Fix bug where recompile was not happening if only headers were altered

src/main/hashtest.c:
 * Added program to time adding a number of random kmers to the hash

util.c:
 * add function: size_t seconds_to_str(unsigned long seconds, char *str), used
   to print the time to run a command

ctx_thread.c:
 * loads data into two colours: one for population (inc. sample); one for sample only

add_read_paths.c:
 * GAP_LIMIT is now a parameter rather than a compile time const
 * Created PathsWorkerPool struct to hold pool of threads
 * Uses col_edges instead of union edges
 * differentiate between graph colour and paths colour

file_reader:
 * removed update_ginfo option from SeqLoadingPrefs (it was not used)
 * removed parse_filelists (not used)

graph_info:
 * added graph_info_cpy function to go with graph_info_merge
 * better averaging of stats

hash_table:
 * hold bucket_fill and bucket_length, for the same bucket, next to each other
   to reduce cache misses:
   - bucket_fill[hash] -> buckets[hash][BITEMS]
   - bucket_length[hash] -> buckets[hash][BSIZE]

seq_reader:
 * reads are now NOT converted to uppercase before being passed to reader;
   code using seq_parse_se / seq_parse_pe should tolerate lowercase chars
 * SeqLoadingPrefs param is now const

cmd.c:
 * prints time taken for each command
 * takes -p <in.ctp> file argument
 * kmer default changed from 31 -> MAX_KMER_SIZE

src/main/travesal.c:
 * updated code to use new APIs

ctx_build:
 * fixed bug when loading graph file (we forgot to update prefs.into_colour)
 * added printing of preferences when they change / at the beginning

ctx_call:
 * needs to be passed ctp file to use (-p <in.ctp>)

ctx_thread:
 * most of the work done getting ctx_thread to work with multiple samples

sample_diploid.sh:
 * updated to use new command line arguments

Minor:
 * ran static code analysis which identified some minor issues",2013-08-05T18:20:00Z,noporpoise
7e0d15662f7b5d3f9893845b058e944df36fd044,Isaac Turner,turner.isaac@gmail.com,"Added safe dynamic memory allocation: malloc2, calloc2, realloc2",2013-08-02T18:35:54Z,noporpoise
89622a8e9aa1b27c6ee0a06a30d514569dec4eaf,Isaac Turner,turner.isaac@gmail.com,"Binary reading optimisations and BUGFIXS

moved db_graph.c:db_graph_filter_file() -> binary_reader.c:binary_filter_graph()
- avoid multiple readings of graph file if possible, read all colours per
  kmer and dump, one kmer at a time.  Not possible to do this if we have > 1 input file

BUGFIXES:
- ctx_view.c didn't work when using colour specifiers
- ctx_view.c didn't count kmers properly when using colour specifiers
- several binary reading functions were mis-behaving",2013-08-02T17:08:12Z,noporpoise
ecdfc10d416dac0f4a016f25dde6506152f85aa7,Isaac Turner,turner.isaac@gmail.com,Remove superfluous whitespace,2013-08-02T01:51:29Z,noporpoise
5effefe03a0854b0db45b1fc5650bae14fdcac82,Isaac Turner,turner.isaac@gmail.com,"ctx_view.c: add mem_height, mem_width, memory etc",2013-08-02T01:37:21Z,noporpoise
55b49b2d06c81ec2e428c97515a4ad187cfd7739,Isaac Turner,turner.isaac@gmail.com,"Better `ctx subgraph' command

ctx_subgraph:
- Can do join on multiple binaries
- reads --seed in.fa instead of <in.falist>

Minor:
- Added 'print capacity' to hash_table_print_stats",2013-08-02T01:13:40Z,noporpoise
2df9d786555a017cbb4dcb0385e2e56249aa55fd,Isaac Turner,turner.isaac@gmail.com,"Updated `ctx reads' command

Updated `ctx reads' command:
- doesn't use se_list / pe_list anymore (can specify --se/--pe multiple times instead)
- added --invert option
- can take multiple input binaries

Minor
- binary_load doesn't take db_graph as argument, instead passed in
  SeqLoadingPrefs struct",2013-08-01T14:04:45Z,noporpoise
aee600c8ca9d5bf6cbb8a767a6a219aac465835d,Isaac Turner,turner.isaac@gmail.com,Updated 'ctx build' command,2013-07-31T01:56:52Z,noporpoise
3d0b3563abe561eea9b60c99b1013d411d427d58,Isaac Turner,turner.isaac@gmail.com,"Minor changes: remv old file_reader code, moved binaries_merge -> db_graph.c

- Added binary_file_format.txt -> file format specification
- Moved binaries_merge to binary_reader.c
- Lower memory `ctx join --intersect ...' -> only load intersection of intersection
  binaries
- Removed old code form file_reader",2013-07-30T10:46:04Z,noporpoise
c0dad829e9948b261160c02baf2bf5a22d94f68e,Isaac Turner,turner.isaac@gmail.com,"Merged `ctx intersect' into `ctx join'

`ctx join' now takes --intersect <in.ctx> argument (can be specified multiple
times) to filter kmers.

Minor:
- bytes_to_str trims zeros from decimals 13.0KB becomes 13KB
- added binary_covg option to binary_load to only increment covg by 0 or 1
- renamed SeqLoadingPrefs->must_exist_in_colour to must_exist_in_graph
- deleted obsolete function dump_successive_cleaned_binaries
- test_file_writable opens with ""a"" so as not to overwrite content",2013-07-29T22:54:31Z,noporpoise
5cd71c08332a8796934028d147ce4b7d1ab80b29,Isaac Turner,turner.isaac@gmail.com,"Added scripts for converting cortex binaries to graphviz, ray",2013-07-29T15:59:10Z,noporpoise
33fc1695810008ca28e9149677b9ada140e9c698,Isaac Turner,turner.isaac@gmail.com,Added 'ctx view' command,2013-07-29T14:10:47Z,noporpoise
628b977b6a7c5093ad58c3218b1d168f15d3f30a,Isaac Turner,turner.isaac@gmail.com,"Fixed header BUG in ctx_join; Added colour filter support to db_graph_filter_file

ctx_join.c:
- fixed bug in setting headers when merging colours

db_graph.c:
 - db_graph_filter_file() added support for colour filtering
   e.g. in.ctx:0,4

binary_reader.c:
- minor speed up - no need to zero memory when loading unless merging colours",2013-07-29T12:10:33Z,noporpoise
4d7424265e0942676eaa3d45aa9da45980524a35,Isaac Turner,turner.isaac@gmail.com,"Improved command line argument handling - esp. memory

Also fixed `gzFile*' types which should be `gzFile'",2013-07-29T11:00:40Z,noporpoise
6f9ef7d75a23057dfabd7b6e003cd580aed7af37,Isaac Turner,turner.isaac@gmail.com,"Fixed bugs in ctx_join; loading/dumping code for ctx_join written;

Fixed BUG in ctx_join causing headers to not be handled properly
 - fixing this required binary_load to take an optional parameter to fill with
   binary header info (NULL for most calls to binary_load)
 - fix removed the need for db_graph_set_cols
 - exposed binary_header_alloc, binary_header_realloc, binary_header_dealloc

Wrote common code in cmd.h for picking memory use when -h <kmers> and -m <mem>
can be specified: cmd_get_kmers_in_hash()

Moved code for dumping an empty binary from ctx_join -> binary_writer
(used by ctx_clean)

Wrote ctx_clean outline for loading and dumping binaries. Still to do: cleaning

ctx_join only dumps a colour if data was loaded into it",2013-07-27T20:37:31Z,noporpoise
141b5ef85bed55cd08388ea98cad0ba38f64f9da,Isaac Turner,turner.isaac@gmail.com,Added merge offsets to ctx_join; Fixed bugs in join and binary_probe,2013-07-27T10:06:07Z,noporpoise
e336f2c9fee7392740f619760e0fb895cc50eed9,Isaac Turner,turner.isaac@gmail.com,Fix bug where empty kmers (covg 0) may be loaded from a binary when specifying colours,2013-07-26T17:32:15Z,noporpoise
fced47d0842d42ebeb87d055e916f5faa6dec0f4,Isaac Turner,turner.isaac@gmail.com,"Split out range code; ctx_build takes -h option; Updated to GSL 1.16

Separated out range code into src/basic/range.c/h
ctx_build takes -h <kmers> argument
Updated to latest version of gsl lib (1.16)",2013-07-26T17:22:14Z,noporpoise
32f5f1b845b9ee6687105066656b2081d5b0ad7d,Isaac Turner,turner.isaac@gmail.com,"Can now specify binary colour ranges e.g. in.ctx:* or in.ctx:0,3-10,2

Whenever a binary is probed or loaded we can specify a range of colours to filter
e.g.
  in.ctx or in.ctx:* means all
  in.ctx:0-2 means 0,1,2
  in.ctx:1,0-3 means 1,0,1,2,3
  in.ctx:4-0,1,2 means 4,3,2,1,0,1,2

Also fixed many bugs in ctx_join.
Removed warning about overflowing covg and added faster overflow-free addition",2013-07-26T14:49:45Z,noporpoise
aee697861ea8be35c8174bc4e75b17dce726a0aa,Isaac Turner,turner.isaac@gmail.com,"Fixed ctx_join; Cleaned up command arguments

1) Fixed multiple bugs in `ctx31 join` command
2) Added -f <file> option to cmd.c
3) ctx_pmerge: added option of using -h <hash-kmer> or -f <in.ctx> arguments
4) Added cmd_accept_options() and cmd_require_options() methods to quickly check args
5) Updated README",2013-07-25T13:10:24Z,noporpoise
e1d4d30fc6690a623736c316536fe88785d6605a,Isaac Turner,turner.isaac@gmail.com,Added ctx_pmerge.c to merge path files,2013-07-24T17:19:39Z,noporpoise
53d19b807db15cabaf9e1dda82e9b2a88e4aa04f,Isaac Turner,turner.isaac@gmail.com,"Bug fixes for graph traversal

* Added src/main/traversal.c, executable ./bin/traversal31 to give assembly
statistics

* Split out files with a main function to src/main/ including src/main/ctx.c

Makefile:
- added RECOMPILE argument to compile with a single line from source files
  instead of object files

Minor:
* Added MEDIAN macro
* Added <type>_cmp functions to util.h
* Changed Nucleotide to a char instead of enum
* Defined bases and forward/reverse with Preprocessor instead of enums
* Added db_graph_rand_node to get a random node
* Covg not printed for bubble caller",2013-07-24T03:15:03Z,noporpoise
58fed1d0f027b7e5068e2669fbef235a8bd0f050,Isaac Turner,turner.isaac@gmail.com,"Re-wrote binary_paths API, added GraphWalker counter paths; Needs testing!

binary_paths.h:
- Re-wrote binary paths API, moved direction into top bit of len
- dropped len 32->16 bits (new types PathLen, PathIndex)
- merged forward/reverse path lists per kmer (8 bytes per kmer mem saving)

Counter paths:
- pick up counter paths
- drop counter paths when they diverge
- abandon traversal if no path covers a node at a fork

Minor:
* renamed binary_paths_t -> PathStore
* renamed src/tools/ctp_view.c -> src/tools/ctx_pview.c
* renamed src/tools/shaded_caller.[ch] -> src/tools/bubble_caller.[ch]",2013-07-23T00:26:43Z,noporpoise
74a1c773205d3058f0bb41c53370f1cc54062ba0,Isaac Turner,turner.isaac@gmail.com,Combined commands into a single executable,2013-07-21T15:34:40Z,noporpoise
2b9edc87f685243c37e2a68313cdf6ba3f954256,Isaac Turner,turner.isaac@gmail.com,"low mem ctx_join; Better Makefile; Other tools on their way

low mem ctx_join:
* uses multiple passes to load colour covg+edges from one colour at a time

In the works:
* ctx_covg: get covg for raw VCF files
* ctx_diverge: make path divergence calls with better assembly
* ctx_contigs: pick a random contig, extend and dump contigs

Makefile:
* Improved build system - only rebuilds what is requested + required

Minor changes:
* Added warning silencing for reading binaries with version <= 6 when dealing
  with negative cleaning thresholds
* Renamed delta_array_t -> DeltaArray.  _t names are reserved for libc.
* Load particular binary colour subset using 'path:col1,col2'",2013-07-20T18:06:25Z,noporpoise
20e2c0ed021368ee9526ba5b3b8402f1a4e6f2a9,Isaac Turner,turner.isaac@gmail.com,"Finished ctx_extend; Update Makefile only recompiles .o when needed

Finished tools:
ctx_extend: extend contigs using a population

Outlined Tools:
ctx_covg: get covg for vcf files
ctx_contigs: dump contigs

Merged libs/city_hash and libs/lookup3 into libs/hash_functions, added Makefile

Code has been split into:
* src/basic/  code that does not require MAXK to be set
* src/common/ code that requires MAXK
* src/tools/  main functions for tools

Makefile: compiles and reuses objects when building different tools

Minor edits:
- Added .gitignore to the repo
- SeqLoadingPrefs.merge_colours for seq data
- ctx_place uses LF if RF has length 0
- if using in.ctx:0,2 style loading, skip kmers with no edges/covg in those colours
- removed load_as_union option for binaries",2013-07-04T12:32:02Z,noporpoise
15daec383286a64016586536e20a7e148ca89cac,Isaac Turner,turner.isaac@gmail.com,"Added ctx_intersect and ctx_join; prefs->merge_colours and 'in.ctx:1,2' loading

1) New tools:
ctx_intersect: get the intersection of two graphs
ctx_join: combine multiple cortex binaries

2)
Added selective colour loading when reading binaries e.g. in.ctx:0,3
will load only colours 0 and 3 from the binary file into colours 0 and 1.

3)
Added merge_colour option to binary_load",2013-07-01T19:12:07Z,noporpoise
8b83004d632207598e52c24b5b1a16023a27e7b4,Isaac Turner,turner.isaac@gmail.com,Cleaned up multithreaded ctx_thread,2013-07-01T14:09:30Z,noporpoise
04fe9b65748d0f2bfb63515f63d7b4ee964282ba,Isaac Turner,turner.isaac@gmail.com,Cleaned up multithreaded ctx_thread,2013-06-27T12:17:09Z,noporpoise
4442a796536754ee7f17d40144cd2e8ccc9bc8a3,Isaac Turner,turner.isaac@gmail.com,"Initial multithreaded add_read_paths; finished ctx_subgraph

0) Working draft of multithreaded add_read_paths
1) ctx_subgraph parses input binary a second time using a hash filter
2) binary_load takes SeqLoadingPrefs instead of list of argument",2013-06-27T09:06:40Z,noporpoise
b5ac8349567adc41b1d653f9e13824aebaabdafd,Isaac Turner,turner.isaac@gmail.com,"Fleshed out ctx_build, ctx_clean a bit",2013-06-26T13:35:10Z,noporpoise
ba92a70497437bc814e2bf19b0e0439d489e259c,Isaac Turner,turner.isaac@gmail.com,"Added ctx_thread, ctp_view; Calling refinements

1) added ctx_thread and ctp_view to create, dump [ctx_thread] and view [ctp_view]
   contiguity information
    * ctx_call is only for calling now -- not threading
2) keep younger paths even if dropping older ones
3) only pick up paths if len(new) > len(oldest)-pos(oldest)
   where new is a new path and oldest is the oldest path you are following
4) added README
5) started making add_read_paths.c multi-threaded
6) moved stream_skip and safe_fread into file_util.c
7) cleaner printing of file reader stats (using ulong_to_str 1,234 vs 1234)
8) fixed multicolour bug in graph_walker_traverse
9) ctx_unique adds comma-separated list of origin bubbles instead of just id of
   last seen
10) shaded_caller uses thread id when naming bubbles

commands and progress:

ctx_build    [FASTA/FASTQ/BAM -> binary; merge?; clean?]
ctx_clean    [clean population / sample against merged]
ctx_thread   [thread reads through cleaned population]    (done)
ctx_call     [call variants]                              (done)
ctx_filter   [filter bubbles from ctx output]             (maybe not needed)
ctx_unique   [remove duplicated bubbles -> VCF]           (done)
ctx_covg     [get covg for VCF]
ctx_place    [place variants and genotype]                (done)
ctx_subgraph [filter a subgraph]                          (needs work)
ctx_reads    [filter reads]                               (done)

Could also add:
  ctx_merge   [combine binaries from same sample]
  ctx_join    [combine binaries from diff samples]
  ctp_combine [combine paths]

Work still to be done:

0) new caller -- where are the errors coming from?
   * Add used_in_path_col bitset?
   * Use se then pe?
   * traverse gaps without graph walker?
1) thread pool for reading / adding paths
  * issue is that file reader always reads into the same read_t -- overwriting
    that being used by other threads
2) Why do paths miss what shades find?
 $ grep SHADED truth.k31.pac.vcf | grep -v PAC | less -S",2013-06-23T18:43:56Z,noporpoise
cf984d50dd270f54bc981ed7d7101e0e46d88e6c,Isaac Turner,turner.isaac@gmail.com,Added dBNode struct - store hkey_t and Orientation,2013-06-19T12:51:38Z,noporpoise
7cd934d5fedcd52235da4bf624cb7629810c9abf,Isaac Turner,turner.isaac@gmail.com,"Faster/more conservative adding paths to graph

1) Added faster method to path labels to the graph
- only attempts to traverse the insert gap if one of the reads has in/out degree
  > 1
- doesn't appear to give speed up -- need to run cachegrind

2) Added outline of ctx_clean and ctx_covg",2013-06-18T15:25:18Z,noporpoise
a9c335b8147e5dc72adea2e4ebda500c49fb3035,Isaac Turner,turner.isaac@gmail.com,More Makefile fixes for GSL and seqan,2013-06-15T17:04:06Z,noporpoise
90c906ba8748bc7000bccb9e866bb5731559dbf9,Isaac Turner,turner.isaac@gmail.com,Makefile fixes: for gsl and seqan,2013-06-15T16:46:24Z,noporpoise
836ef780788cdeb663e8d55f659bc50ce3b95808,Isaac Turner,turner.isaac@gmail.com,"Project re-organisation

Added benchmarking; updated makefile; renamed files to consistent tool names

Programs:

ctx_build    [FASTA/FASTQ/BAM -> binary; merge?; clean?]  (outline written)
ctx_clean    [clean population / sample against merged]
ctx_call     [call variants]                              (done)
ctx_filter   [filter bubbles from ctx output]
ctx_unique   [remove duplicated bubbles -> VCF]           (done)
ctx_covg     [get covg for VCF] + stampy.py [map flanks]
ctx_place    [place variants and genotype]                (done)
ctx_subgraph [filter a subgraph]                          (not work)
ctx_reads    [filter reads]                               (done)

Could also add:
  ctx_merge  [combine binaries from same sample]
  ctx_join   [combine binaries from diff samples]",2013-06-15T16:13:37Z,noporpoise
e6b99c40512f938b76fd41bcd6c8b60538c5e083,Isaac Turner,turner.isaac@gmail.com,Added conservative traverse_gap function -- should reduce errors,2013-06-15T15:04:58Z,noporpoise
6bfd8cd1be45e3bea60c41181bfb3793c11068ba,Isaac Turner,turner.isaac@gmail.com,"ctx_call checks temp files are writeable first

1) ctx_call now checks that temporary files can all be created and unlinks them
   once finished
2) Print nicely formatted summary of memory usage before starting
3) caller_supernode.h method name improved, added better documentation",2013-06-15T12:18:04Z,noporpoise
14e605cb5cc83e237af79fbce2b64c80236872be,Isaac Turner,turner.isaac@gmail.com,"Added multi-threaded variant calling

1) Added multithreaded calling by moving visited bitset from dBGraph to GraphWalker
2) Split out caller_supernode code into separate [.c|.h] files
3) traversal of cycles prevent re-visiting a node at the moment (ignores paths)",2013-06-12T17:43:04Z,noporpoise
dbf341b92ec64012eff51e7c520ab859f05a4c6e,Isaac Turner,turner.isaac@gmail.com,"Fixed bugs in adding/traversing paths

1) Fixed bugs in:
- pack/unpack bases
- picking up new bases
- memory management

2) moved struct definitions into graph_typedef.h

variant calling now works with diploid10X test data, gives 80% discovery, 5%
false positive contig rate",2013-06-10T02:44:14Z,noporpoise
6a717beb99e719586fc777ad8191c043217b0d0a,Isaac Turner,turner.isaac@gmail.com,"Fixed memory bugs; Changed traverse / db_graph_next APIs; added GW _init_context

1) Changed APIs for db_graph_next_nodes and graph_traverse
2) wrote graph_walker_init_context
3) Fixed memory errors with valgrind
4) Changed file_util.c functions so they do not create new string buffers, instead
   they take an extra argument
5) binary_reader and seq_loader now set colour/node presence with db_node_set_colour
6) fixed filter_subgraph to work again - modified db_graph_prune functions
   - still needs work (should parse file second time -- not all details in ht)
7) Fixed bug in HASH_TRAVERSE",2013-06-06T13:58:06Z,noporpoise
55e5c3499b0b698ba205efc9542ad8eb22a8a4b6,Isaac Turner,turner.isaac@gmail.com,"Avoid looping when following paths

Avoid looping, but allow re-visiting a node:
 - temporarily turn off a path after it has been picked up (using colour bitset)
 - turn back on after finished traversing
   * added graph_walker_finish to do this -- always use after graph_walker_init
 - only mark a node as visited if you have no paths to traverse atm

shaded_caller.c only uses the first and last nodes of a supernode

Added graph_walker.c function graph_traverse_force:
 - force update of GraphWalker for a given new node",2013-06-05T14:58:07Z,noporpoise
5faf5af151590d1758a6228e400c3b111f31ecc4,Isaac Turner,turner.isaac@gmail.com,"1) db_node_bkmer renamed db_graph_oriented_bkmer

2) Added function to graph_walker.c:

  int graph_walker_choose(GraphWalker *wlk, size_t num_next, Nucleotide bases[4])

3) Added one-line description to README",2013-06-05T11:59:19Z,noporpoise
3a43e29bf5d50497b50565051422442baf0e52bf,Isaac Turner,turner.isaac@gmail.com,Renamed read_paths to graph_walker; Fixed bugs stopping non-debug compile,2013-06-04T21:34:36Z,noporpoise
00e88d11e022fbba88755e03f6b46c52bb9f8052,Isaac Turner,turner.isaac@gmail.com,A number of bug fixes and early testing of GraphWalker,2013-06-04T21:17:52Z,noporpoise
2c48e4a39858348ca9aa32c68547940f9a1d641e,Isaac Turner,turner.isaac@gmail.com,Initial Commit,2013-06-04T00:20:26Z,noporpoise
