id,title,state,created_at,updated_at,closed_at,body,user,url
MDU6SXNzdWU1MjM5NTkyNDc=,Save software version information,CLOSED,2019-11-17T09:26:46Z,2019-12-25T05:21:43Z,2019-12-25T05:21:43Z,"Itâ€™s important to generate which software version was used for each program to help ensure reproducibility. Check if snake make has a built in way of doing this,, otherwise make a rule that queries version names and saves to a log file",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/2
MDU6SXNzdWU1NDE1MzQ2Mzg=,Set TMPDIR for Markduplicates to /tmp instead of $HOME default,CLOSED,2019-12-23T01:42:06Z,2019-12-26T19:07:06Z,2019-12-26T19:07:05Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/3
MDU6SXNzdWU1NDE2MDU2NDg=,Add special tmpdir for FastQC rules due to race conditions,CLOSED,2019-12-23T06:49:37Z,2019-12-24T08:49:46Z,2019-12-24T08:49:46Z,Give each FastQC rule its own tmpdir for processing that involves the sample name,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/4
MDU6SXNzdWU1NDE5MTU4MzI=,Mark intermediate files as temporary and deletable,CLOSED,2019-12-23T21:57:42Z,2019-12-25T05:20:54Z,2019-12-25T05:20:54Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/5
MDU6SXNzdWU1NDI2MzM3MDk=,Implement variant calling workflow,CLOSED,2019-12-26T18:31:27Z,2019-12-28T22:22:34Z,2019-12-28T22:22:34Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/7
MDU6SXNzdWU1NDI2MzQyNzU=,Write tests for entire workflow,CLOSED,2019-12-26T18:32:34Z,2020-01-17T23:52:53Z,2020-01-17T23:52:53Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/8
MDU6SXNzdWU1NDI2NDM1Mjk=,Add variant annotation workflow,CLOSED,2019-12-26T18:51:36Z,2020-01-21T23:06:36Z,2020-01-21T23:06:36Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/9
MDU6SXNzdWU1NDI3Nzg0Njk=,Add citation info,CLOSED,2019-12-27T07:24:27Z,2020-05-04T03:34:25Z,2020-05-04T03:34:25Z,Add list of programs and references to cite for each tool in the workflow,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/10
MDU6SXNzdWU1NDI3Nzg2NjM=,Split workflow into distinct modules,CLOSED,2019-12-27T07:25:09Z,2019-12-27T07:47:18Z,2019-12-27T07:47:18Z,"Divide into preprocessing file, variant calling file, and targets file",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/11
MDU6SXNzdWU1NDI3ODY3NzI=,Accept multiple known-sites for BaseRecalibration,CLOSED,2019-12-27T07:57:49Z,2019-12-28T22:31:34Z,2019-12-28T22:31:34Z,"Currently rule `bqsr` in `preprocessing.smk` only accepts a single VCF file with known variants. The GATK best practices guideline recommends using multiple known variants files. It would be helpful to accept multiple known sites inputs. 

The `known` parameter can be made a list of files that are specified in the config file. This list can be required as an input to the `bqsr` rule and then concatenated together as a rule parameter (each file needs its own flag i.e. `--known-sites [file1] --known-sites [file2]`",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/13
MDU6SXNzdWU1NDI3OTM5NzA=,Complete Setup Instructions,CLOSED,2019-12-27T08:26:46Z,2020-01-20T01:40:58Z,2020-01-20T01:40:58Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/15
MDU6SXNzdWU1NDMwODQ3NzE=,Look into --immediate-submit option for clusters,CLOSED,2019-12-28T07:17:59Z,2020-01-20T01:40:46Z,2020-01-20T01:40:45Z,Can this alleviate the issue of needing to leave a running process on some node (either another master sbatch job or some local process)?,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/16
MDU6SXNzdWU1NDMyODg2ODY=,"Implement schema rules to dictate config.yaml, samples.csv, and units.csv format",CLOSED,2019-12-28T22:39:39Z,2020-01-10T00:31:49Z,2020-01-10T00:31:49Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/18
MDU6SXNzdWU1NDQ0NTExNzQ=,Set default af-freq for Mutect2 and allow users to specify alternate values in config.yml,OPEN,2020-01-02T05:28:33Z,2020-03-01T08:09:46Z,,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/20
MDU6SXNzdWU1NDQ0NTM1OTI=,Check that fq1 and fq2 are specified before running,CLOSED,2020-01-02T05:43:33Z,2020-01-10T00:28:18Z,2020-01-10T00:28:18Z,This can probably be accomplished with schema in #18 ,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/21
MDU6SXNzdWU1NDQ0Njg3NTk=,Modify SLURM command line to write out/error files to user location,CLOSED,2020-01-02T07:05:56Z,2020-01-10T00:48:36Z,2020-01-10T00:48:36Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/22
MDU6SXNzdWU1NDQ0NzMyNzc=,Add WGS support,CLOSED,2020-01-02T07:26:23Z,2020-08-03T23:42:31Z,2020-08-03T23:42:31Z,Coverage will need to be evaluated differently for whole genome sequencing compared to exome sequencing,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/23
MDU6SXNzdWU1NDQ4MzcwNTA=,Add support for email notification once workflow is complete,CLOSED,2020-01-03T03:32:40Z,2020-01-20T01:39:46Z,2020-01-20T01:39:46Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/24
MDU6SXNzdWU1NDQ4NzgzODY=,Remove -bamout from Mutect2 call,CLOSED,2020-01-03T07:13:21Z,2020-01-09T23:25:29Z,2020-01-09T23:25:29Z,Documentation says this BAM file is only for debugging purposes - best to remove from results,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/25
MDU6SXNzdWU1NTE1NTUzNTU=,Add bwa index step,CLOSED,2020-01-17T18:02:12Z,2020-01-18T00:40:28Z,2020-01-18T00:40:28Z,https://www.biostars.org/p/262683/,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/28
MDU6SXNzdWU1NTE2OTcxMTE=,Add VCF consolidation into multi-sample file,CLOSED,2020-01-18T00:56:14Z,2020-01-20T01:39:18Z,2020-01-20T01:39:18Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/30
MDU6SXNzdWU1NTMyMDA3Mjc=,Add section on singularity + Conda vs Conda alone,CLOSED,2020-01-21T23:09:24Z,2020-01-22T01:34:46Z,2020-01-22T01:34:46Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/32
MDU6SXNzdWU1NTQwMTA5MDI=,Implement changes from test run,CLOSED,2020-01-23T08:30:54Z,2020-01-23T23:13:59Z,2020-01-23T23:13:59Z,"1. Set `vep`, `vcf2maf`, and `concat_mafs` to be local rules
2. Increase `FastQC` and `multiqc` times in `cluster-config.json`",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/33
MDU6SXNzdWU1NTQwMTEwMTU=,Look into Snakemake not realizing SLURM job timed out,OPEN,2020-01-23T08:31:11Z,2020-01-23T08:31:11Z,,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/34
MDU6SXNzdWU1NTQzNTMyNDc=,Add ability to handle custom read groups,CLOSED,2020-01-23T19:18:41Z,2020-03-03T19:03:13Z,2020-03-03T19:03:13Z,Currently `combine_fqs` uses `{sample}.{type}` as the read group (RG) for each BAM file. Users may want to specify their own read groups. The best way to handle this would be to add a new field in `units.csv` and then create a function `get_read_group` in in `common.smk` that can get the RG depending on the sample.,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/35
MDU6SXNzdWU1NTU4MzUxMDM=,Run BQSR twice to get pre and post calibration tables,CLOSED,2020-01-27T21:11:20Z,2020-03-01T07:33:28Z,2020-03-01T07:33:28Z,"For `MultiQC` to plot pre and post calibration base scores, 2 tables are needed: 1) the recalibration table on the BAM from `sort_fix_tags` and 2) the recalibration table from the analysis ready BAM that has been created by `ApplyBQSR`. This means `BaseRecalibrator` will need to be run twice. Make sure to adjust the time in `cluster-config.json` accordingly.",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/37
MDU6SXNzdWU1NTc4MzkxMzc=,Add ability for user to specify custom names for control and tumor types,OPEN,2020-01-31T00:28:41Z,2020-01-31T00:28:41Z,,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/38
MDU6SXNzdWU1NzMwODUxMTI=,Change naming conventions,CLOSED,2020-02-29T00:47:18Z,2020-03-01T08:43:16Z,2020-03-01T08:43:16Z,Right now there are `samples` which represent patients and `types` which whether the sample was from normal or tumor tissue. This seems confusing and should be renamed to `patient` and `sample` where `patient` is the person the data comes from and `sample` indicates the type of data (i.e. tumor or normal or other),tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/39
MDU6SXNzdWU1NzM2NDM0NDY=,Handle multiple FASTQs from different lanes for same sample,CLOSED,2020-03-01T23:43:36Z,2020-03-03T19:03:58Z,2020-03-03T19:03:58Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/42
MDU6SXNzdWU1NzQ0NTY0MDM=,Add more Variant Callers,OPEN,2020-03-03T06:56:43Z,2020-03-03T06:56:43Z,,Software like SomaticSniper and VarScan perform the same job as Mutect2. Utilizing many different callers can catch variants that one caller may miss. Results from each caller would be aggregated into a combined MAF with a field that says which algorithm called the variant. This could also be several indicator variable columns with TRUE/FALSE if a certain algorithm called the variant,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/43
MDU6SXNzdWU1NzQ0ODQyMjI=,Update Mutect2 Calling Workflow,CLOSED,2020-03-03T07:59:47Z,2020-08-03T23:42:31Z,2020-08-03T23:42:31Z,"As of GATK version 4.1.1.0, new workflow steps have been added for variant calling. This includes the new Read Orientation Artifacts step. Implement these steps",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/44
MDU6SXNzdWU1NzcyOTU1NDM=,Allow naming of either upper or lower case Normal/Tumor sample types,OPEN,2020-03-07T07:42:43Z,2020-03-07T07:42:43Z,,Right now the pipeline requires sample type be specified as `normal` or `tumor` - the upper case versions cause an error. Call `tolower()` on the `units` data frame in `common.smk` to prevent this from mattering,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/46
MDU6SXNzdWU1NzcyOTU4NTA=,Sort units index before accessing indices to increase performance,CLOSED,2020-03-07T07:46:10Z,2020-03-23T22:10:04Z,2020-03-23T22:10:03Z,https://stackoverflow.com/questions/54307300/what-causes-indexing-past-lexsort-depth-warning-in-pandas,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/47
MDU6SXNzdWU1NzczMDIwODA=,Add logging to each rule,CLOSED,2020-03-07T08:42:34Z,2021-07-20T19:49:41Z,2021-07-20T19:49:41Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/48
MDU6SXNzdWU1NzczMTAzMjk=,Add workflow to create Panel of Normals,CLOSED,2020-03-07T09:52:58Z,2020-03-19T03:54:03Z,2020-03-19T03:54:03Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/49
MDU6SXNzdWU1ODQ5NDEwMTM=,Annotation issues,CLOSED,2020-03-20T09:27:12Z,2020-03-22T04:15:54Z,2020-03-22T04:15:54Z,"* `vcf2maf` rule creates `vcfs/{patient}.vep.vcf` file that should be accounted for as output. 
* Timing and memory needs to be extended for `vep` and `vcf2maf`. New time at least 45 minutes, new memory at least 16GB
* `vcf2maf` FASTA should be `ref_fasta` used to align/call variants, not VEP fasta
* See if the FASTA VEP uses can be removed or can be set up to use GATK reference used for variant calling - this may not be possible and will need a stack overflow question
* `vcf2maf` looks like it annotates variants with VEP directly. If true, the `vep` rule is no longer needed and can be removed
* Add reminder about how `vcf2maf` picks variants and possible need to change canonical transcripts",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/51
MDU6SXNzdWU1ODU2NjEzMTM=,Add report generation,OPEN,2020-03-22T07:22:25Z,2020-03-22T07:22:25Z,,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/52
MDU6SXNzdWU2MTAzNzg3MTQ=,Add script to calculate average depth for each sample,CLOSED,2020-04-30T20:53:48Z,2020-05-04T07:23:07Z,2020-05-04T07:23:07Z,We are often interested in reporting the average depth for each bam across the capture regions (specified with the `exome_targets` field in `config.yaml`). Create a script that computes average depth for each sample using `mosdepth`'s `{prefix}.regions.bed.gz` file and then aggregate the results as a single file. ,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/53
MDU6SXNzdWU2NzU4NDYxMjE=,Remove --use-original-qualities from bqsr?,CLOSED,2020-08-10T03:51:31Z,2020-08-10T04:51:47Z,2020-08-10T04:51:47Z,"The GATK best practices preprocessing pipeline on GitHub includes `--use-original-qualities` as a command line argument for `ApplyBQSR` but the documentation says this uses the original qualities. Isn't the whole point to use the new qualities, thus defeating the BaseRecalibration and ApplyBQSR step?",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/57
MDU6SXNzdWU2ODA2NjUyNjA=,Parallelize BQSR and MarkDups + SortSam,CLOSED,2020-08-18T03:43:51Z,2021-07-12T20:22:20Z,2021-07-12T20:22:20Z,Use scatter gather for BQSR and the GATK Spark tools for MarkDups + SortSam,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/59
MDU6SXNzdWU2ODI0NDEyOTQ=,"Add cluster specs for merge_vcfs, merge_stats, and orientation_bias",CLOSED,2020-08-20T06:05:45Z,2021-07-12T20:22:20Z,2021-07-12T20:22:20Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/60
MDU6SXNzdWU2ODM4Njg5NTk=,Keep filtering stats file,CLOSED,2020-08-21T23:04:32Z,2020-11-14T07:01:24Z,2020-11-14T07:01:24Z,"Right now the statistics file generated by FilterMutectCalls is marked as temporary and removed after SelectVariants finishes. This might be of interest to examine, so remove temporary marking",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/61
MDU6SXNzdWU3NDI5NDcwMTk=,Create separate cluster.json files for exome vs whole genome,CLOSED,2020-11-14T07:03:26Z,2021-07-12T20:21:22Z,2021-07-12T20:21:22Z,Exome samples will usually take less time than whole genome samples because of the smaller data set size. The current times in`cluster.json` only work for WES samples. Make a separate WGS `cluster.json` that can be used for whole genome samples and substituted into `run_snake.sh` depending on the type of samples being analyzed,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/62
MDU6SXNzdWU3NDQ0NzA0Nzg=,Add cluster.json info for split_intervals rule,CLOSED,2020-11-17T06:59:56Z,2021-07-12T20:22:20Z,2021-07-12T20:22:20Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/63
MDU6SXNzdWU3NDQ1MTgzOTU=,Make mutect2 vcf interval files temporary,CLOSED,2020-11-17T08:22:03Z,2021-07-12T20:22:20Z,2021-07-12T20:22:20Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/64
MDU6SXNzdWU3OTcxMDM1NTc=,Add stringent variant filtering option,CLOSED,2021-01-29T18:47:43Z,2021-01-29T18:55:42Z,2021-01-29T18:55:42Z,"Add option in the config to use more stringent filtering threshold to retain variants after FilterMutectCalls finishes.

This could be an if statement in `combine_mafs.py` that would require a minimum depth for every SNV and minimum number of reads for every alternate allele",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/65
MDU6SXNzdWU5MzgyNDA1OTQ=,Switch to singularity containers completely,CLOSED,2021-07-06T20:36:03Z,2021-07-12T20:22:20Z,2021-07-12T20:22:20Z,Transition to only using singularity containers (probably from my docker hub) to avoid conda load times and keep software version locked in,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/66
MDU6SXNzdWU5MzgyNDI3MDE=,Major pipeline update,CLOSED,2021-07-06T20:39:25Z,2021-07-12T20:22:20Z,2021-07-12T20:22:20Z,"1. Ensure WES is using intervals that must be specified in config (from capture kit or user)
2. Adjust Mutect2 memory requirements - [should be able to use 4GB?](https://gatk.broadinstitute.org/hc/en-us/articles/360050722212-FAQ-for-Mutect2)
3. Remove random VEP fasta file requirement
4. Update VEP version/data
5. Specify optional Mutect2 params in config and move read orientation filter flag to config
6. Add Funcotator
7. Spark version of tools

See [Warp](https://github.com/broadinstitute/warp) workflow for newest pipeline version",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/67
MDU6SXNzdWU5NDA5NDMxODU=,Update schema for latest fields,CLOSED,2021-07-09T17:20:54Z,2021-07-12T20:22:21Z,2021-07-12T20:22:21Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/68
MDU6SXNzdWU5NDA5NDgwMDY=,Document behavior from split intervals with more than 24 workers,CLOSED,2021-07-09T17:29:11Z,2021-07-20T19:49:28Z,2021-07-20T19:49:28Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/69
MDU6SXNzdWU5NDEwNzg5Nzk=,Fix resources in cluster.wgs.json,OPEN,2021-07-09T21:36:39Z,2021-07-09T21:36:39Z,,It currently has the same values as the WES file. Figure out better resource levels for WGS,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/70
MDU6SXNzdWU5NDIzMTEzMDQ=,Update count_depths.py,CLOSED,2021-07-12T18:04:19Z,2021-07-12T20:21:45Z,2021-07-12T20:21:45Z,Use `mosdepth.summary.txt` files `total_region` row as coverage value. No need to calculate manually,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/71
MDU6SXNzdWU5NDI0MjYwODM=,Parallelize BQSR + Mutect2 PoN,OPEN,2021-07-12T20:36:03Z,2021-07-12T20:36:03Z,,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/73
MDU6SXNzdWU5NDI0NDQ3MzI=,Re-examine WES resource allocations,CLOSED,2021-07-12T21:02:13Z,2021-07-12T21:06:02Z,2021-07-12T21:06:02Z,"Will the current times for rules that are readgroup dependent (combine_fq, bwa, merge_bams) be OK if there is only 1 really big read group? 

My initial calculation for time was using samples with a max of 60M reads. From there I did 200M / 60 M (assuming we don't have samples with greater than 200M reads) to get the time scale factor and then multiplied run times by that factor. Some samples only have 1 read group though, and so the work won't be distributed across multiple jobs.

These rules should probably have an additional size factor multiple (say 3 for 3 read groups for the test run). ",tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/74
MDU6SXNzdWU5NDI0ODAyMDA=,See if cluster logs support wildcards in title,CLOSED,2021-07-12T21:53:04Z,2021-07-20T19:49:12Z,2021-07-20T19:49:12Z,,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/75
I_kwDODTx-l84-iBsH,Add somalier QC,OPEN,2021-11-09T20:46:51Z,2021-11-09T20:46:51Z,,https://github.com/brentp/somalier,tjbencomo,https://github.com/tjbencomo/ngs-pipeline/issues/76
I_kwDODTx-l86HuV3m,License lacking,CLOSED,2024-05-03T07:14:43Z,2024-05-07T06:37:46Z,2024-05-07T06:37:46Z,"Thank you so much for sharing this pipeline!

I would like to re-use this to build a pipeline to call crispr off target effects. Unfortunately this repository lacks a License and thus formally cannot be reused.
https://choosealicense.com/

Could you add an appropriate license?

Thanks so much and cheers!",votti,https://github.com/tjbencomo/ngs-pipeline/issues/77
