commit_sha,commit_author_name,commit_author_email,commit_message,commit_date,login
594339fd1a9694c8f8ed61084e2bd5740cfd59b0,Brad Chapman,chapmanb@fastmail.com,Don't fail builds on warnings,2024-08-24T11:11:30Z,chapmanb
8e57164f15ee39979652726fc909d8702b3fc279,Lorena Pantano,lorena.pantano@gmail.com,"Update index.md

to trigger readthedocs",2024-08-23T15:57:26Z,lpantano
7d2fc4fec97e28d03b74c662217df833f937a7f2,Lorena Pantano,lorena.pantano@gmail.com,don't run ci in master,2024-08-22T18:41:21Z,lpantano
d955a4cbd221983b1e690728972e339542b4564f,Lorena Pantano,lorena.pantano@gmail.com,Update index.md,2024-08-16T19:57:47Z,lpantano
10c3e2d65e6fa22fd1d7a77c984986cf8b709b92,Lorena Pantano,lorena.pantano@gmail.com,Update README.md,2024-08-16T19:57:01Z,lpantano
72f42706faa5cfe4f0680119bf148e0bdf2b78ba,Lorena Pantano,lorena.pantano@gmail.com,fix branch,2024-07-16T13:47:55Z,lpantano
47b7ce72beced4ce36e18a5572780b6feb945a38,Lorena Pantano,lorena.pantano@gmail.com,"Merge pull request #3745 from bcbio/actions

Create ci.yml",2024-07-16T13:40:36Z,lpantano
aadb927d4c51c3a778a811ddd79df978de93e435,Lorena Pantano,lorena.pantano@gmail.com,Create ci.yml,2024-07-16T13:40:02Z,lpantano
855c7ae283194a46646a940b37eb06214b7c4180,Meeta Mistry,meeta.mistry@gmail.com,Create chip.md,2024-02-07T15:44:58Z,mistrm82
1849778e1aa0357aab01469a5a3765446bd2ac3d,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,use sphinx_rtd_theme,2023-12-24T03:36:37Z,naumenko-sa
03a16ae321c7a504a28f008f3a302818ed2649d2,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,pin sphinx-rtd-theme to 0.4.3,2023-12-23T04:53:39Z,naumenko-sa
3ac10971a051c655147ccf466f2ea1fe06cf0791,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,pin sphinx-rtd-theme to 1.0.0,2023-12-23T04:48:25Z,naumenko-sa
936ec7c2c5e646f20f8c2a2ac25907c3ae432030,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,add sphinx-rtd-theme to docs reqs,2023-12-23T04:45:07Z,naumenko-sa
f5f0a15322a47589fbddbdc9b65d1a28e7f90a42,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,Update conf.py,2023-12-23T04:30:57Z,naumenko-sa
0d2637859fa176a7d21007507b116f9d99b3a37f,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,Update conf.py,2023-12-23T04:23:11Z,naumenko-sa
deb92310e301288ade602341a528216e7ae83fab,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,Update conf.py,2023-12-23T03:57:28Z,naumenko-sa
6155845eae093a6decd089d698747d31bced66ae,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,add recommonmark module (#3738),2023-12-23T03:52:03Z,naumenko-sa
6fd0e1abacedc983f7431f4a10d5159c606f7b6d,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,"Update .readthedocs.yml

fix typo",2023-12-23T03:42:02Z,naumenko-sa
ad6b36552a83f2e85eee24980636e401fdd47022,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,return submodules to readthedocs config (#3737),2023-12-23T03:37:16Z,naumenko-sa
ae4f841bbdbdf2b36593f3c7ab2966b206a21c50,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,add os and python to readthedocs yml (#3736),2023-12-23T03:32:14Z,naumenko-sa
f9ad9170ac0a3caac278f86e6276286d700412c9,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,exclude submodules in readthedocs build (#3735),2023-12-23T03:14:20Z,naumenko-sa
1c225047c64c79d6ac2d8c07021b360dac21720c,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,"Save meetas work (#3734)

* updating atac user story documentation (#3732)

* Update atac.md

* Update atac.md

* Update atac.md

* Update atac.md

* Update atac.md

* Update atac.md

* deprecate SC user story (#3733)

---------

Co-authored-by: Meeta Mistry <meeta.mistry@gmail.com>",2023-12-23T02:32:48Z,naumenko-sa
6a159b6593caa6d8403fd2fb0107998edb9f54bf,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,"Update installation.md

remove vagrant instructions",2023-10-26T18:58:53Z,naumenko-sa
17af0bab930aea87c5563c6452ffa89cc273e5a7,Serhiy Naumenko,naumenko-sa@users.noreply.github.com,Update BDGP6-resources.yaml (#3703),2023-03-20T17:07:50Z,naumenko-sa
9cb1fedec5f9698f2e227e63d5b554748beba06d,amizeranschi,alex.mizeranschi@gmail.com,"Add --cloudbiolinux argument (#3691)

Fixes https://github.com/bcbio/bcbio-nextgen/issues/3689",2023-01-23T18:11:39Z,amizeranschi
8eb78b7e3b8ffe42190c10bf93d71ee114a7ed54,Serhii Naumenko,naumenko-sa@users.noreply.github.com,fix srnaseq bug (#3684),2022-11-08T23:54:36Z,naumenko-sa
27c7ca32f86a44c10987a9992d4423e407289d83,Serhii Naumenko,naumenko-sa@users.noreply.github.com,Update bulk_rnaseq.md,2022-09-23T01:38:06Z,naumenko-sa
3ed8c9479a6d016b904e085103b099e453aa1e6b,Serhii Naumenko,naumenko-sa@users.noreply.github.com,Update intro.md,2022-09-21T03:04:15Z,naumenko-sa
f9a53968b62d171f513baccf3bc7bc9bcaaea14a,Gammerdinger,wjgdinger@gmail.com,"Split up broad and narrow antibodies (#3673)

The previous version had an extra new line with broad and narrow on separate sides of the new line character and it was a bit confusing.",2022-09-21T02:10:12Z,Gammerdinger
deaf6700455018381aa8a6adbc88c3f20548a3dd,Tim Gates,tim.gates@iress.com,"docs: Fix a few typos (#3667)

There are small typos in:
- bcbio/ngsalign/bwa.py
- bcbio/utils.py
- bcbio/variation/vcfutils.py
- docs/contents/purecn.md

Fixes:
- Should read `successful` rather than `successfull`.
- Should read `file` rather than `fils`.
- Should read `tumor` rather than `turmor`.
- Should read `occurrences` rather than `occurances`.

Signed-off-by: Tim Gates <tim.gates@iress.com>

Signed-off-by: Tim Gates <tim.gates@iress.com>",2022-09-21T02:09:19Z,timgates42
284b43f9d8c5fea7b24509e256e7d11fd9e30e7a,rchekaluk,rchekaluk@users.noreply.github.com,"Bump mamba version to support conda 4.13.0 https://github.com/mamba-org/mamba/issues/1724#issuecomment-1155304765 (#3666)

Co-authored-by: Rob Chekaluk <rchekaluk@ppolitics.org>",2022-09-21T02:08:24Z,rchekaluk
b455be6309054533640c9d0a40a0ca7d0556534d,Serhii Naumenko,naumenko-sa@users.noreply.github.com,insert anaconda/bin to PATH when installing,2022-07-06T19:40:49Z,naumenko-sa
fc62534c5e7b349b2f180b86d260c2574d437da2,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update rn6-resources.yaml,2022-04-13T16:36:59Z,naumenko-sa
04ac0232e05b4ad9e284e0c31483fb088624d864,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update WBcel235-resources.yaml,2022-04-13T02:47:18Z,naumenko-sa
cd1720c0e150f436b7e8fb136ca3001c21a110fb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update NA12878-sv.yaml,2022-03-09T23:06:12Z,naumenko-sa
7ccd9f648ae441da3e9a678fd67ab72d22d744fb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update methylation.md,2022-03-07T18:00:56Z,naumenko-sa
f1a057ef54f836d565455cf601e070d2860f0d80,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update rnaseq_variants.md,2022-03-06T05:04:11Z,naumenko-sa
0e126e594a1a7135343cd56a29fd7e74e2c407fe,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update methylation.md,2022-03-01T22:12:16Z,naumenko-sa
482bae5ea41d16f3f9640da3bae8a06ca2273c85,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix chip-seq for dm genome (#3622),2022-02-28T19:07:06Z,naumenko-sa
f3bf5a83d217c26c59390567e911a6f7eb2df2c3,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update structural_variants.md,2022-02-22T19:42:07Z,naumenko-sa
7cd91424076d830b390caf1630dcecbb230f6c73,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2022-02-22T18:10:38Z,naumenko-sa
d70dd21892e18e310817216eda70675e60e030e4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,run gvcf2vcf on the fly for peddy when tools_on: gvcf (#3620),2022-02-22T18:06:08Z,naumenko-sa
a8c6892d3393815146e9593818c31c2151a5b4df,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update methylation.md,2022-02-14T16:29:16Z,naumenko-sa
960bcd1f0deb8de1062f93c50dd6de4d1d287b49,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix installation to avoid downgrading mamba (#3617),2022-02-12T05:57:37Z,naumenko-sa
7ae87a773bbe138ced97211019267b3f4391e0f9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update intro.md,2022-02-12T03:52:38Z,naumenko-sa
0aa8d824be2cdd8c8c20d912192973e4597c1ad9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,retire remove_lcr: true (#3610),2022-01-23T05:32:04Z,naumenko-sa
7dcd8686c2a2ec32273bea2227696dba1aa126d1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update configuration.md,2022-01-23T04:29:51Z,naumenko-sa
8cd7749cda8e9623d2e908fed97dbc6790de283a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update configuration.md,2022-01-23T04:27:13Z,naumenko-sa
32c5df34a416f8c54e4643af10d227185f060fbf,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update parallel.md,2022-01-23T03:34:18Z,naumenko-sa
983c67655c7a99131ef8af5496d6e9c369c5037f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update parallel,2022-01-23T03:33:45Z,naumenko-sa
38647eed9a493b16bf4ef709e6bf0dd6f771832a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update somatic_tumor_only.yaml,2022-01-21T04:01:12Z,naumenko-sa
ae442606ba17a1763bbe5d176de693fb059b0d35,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update tumor-paired.yaml,2022-01-21T04:00:39Z,naumenko-sa
078fa50c7bee0062c42d21a41c4a65aac8bc1a62,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update gatk-variant.yaml,2022-01-21T03:59:17Z,naumenko-sa
6dd7041021159c3b3f5086bc6a205000d0bef911,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2022-01-20T19:03:43Z,naumenko-sa
6612d52ded609c65f03aae4742f11393dd2e136f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add --cloudbiolinux arg (#3607),2022-01-20T18:46:11Z,naumenko-sa
3fe94a7b9974ec5880433049dd01551273ddb7ea,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: small rnaseq,2022-01-19T02:03:14Z,naumenko-sa
026569849bc68ee5f8bc2bb26b4f46a1877a966d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update installation,2022-01-18T17:51:18Z,naumenko-sa
fd94a2b53d5b5cbfb827daab4242d686767b9304,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update small rnaseq,2022-01-18T17:45:59Z,naumenko-sa
c80f9b6b1be3267d1f981b7035e3b72441d258f2,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update bulk_rnaseq,2021-12-18T02:47:30Z,naumenko-sa
3c10dae21b9648dd15851899f05da1261809ffee,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update sacCer3-resources.yaml,2021-12-17T18:20:16Z,naumenko-sa
a95ddfb838e31023e953b86660df8b449a5b0975,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update configuration,2021-12-17T18:07:44Z,naumenko-sa
f826957bfb328c16afcb26a84645e89a085b76b9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Vardict sv on1 (#3595)

* add tools_on: vardict_sv option

* fix nosv call",2021-12-17T18:03:10Z,naumenko-sa
ddf79c2d53f9455d8edfa0e449369d0bf8a4b9b8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update bulk_rnaseq,2021-12-17T17:41:04Z,naumenko-sa
a37a16dacba107bbdc56703523c22bc527f5ef38,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update development.md,2021-12-16T05:31:55Z,naumenko-sa
ca396399b846373f37d32d97b696071309b53b4c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"bcbio is in conda, update requirements (#3591)",2021-12-15T14:35:47Z,naumenko-sa
a2cbdd17a2246429976ae0f0b04b84c8b0252049,Sergey Naumenko,naumenko-sa@users.noreply.github.com,prep 1.2.9 release (#3590),2021-12-15T03:34:44Z,naumenko-sa
b938cefd5b5af1d8ec66c91b560ea7a2f3343ce4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update development.md,2021-12-15T03:19:11Z,naumenko-sa
ba6be87a893bd461cc63909c39b0746b0621a92b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix conftest.py,2021-12-15T02:44:23Z,naumenko-sa
400e5da03831f9f6c97a3eb0300133797b91b35d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"update tests (#3589)

update reference genome location for tests - moved to bcbio-nextgen aws bucket
updated hg19 snpeff reference to 5.0",2021-12-15T02:35:25Z,naumenko-sa
18df68f637ddb2ea42602e7d88b76119a9440e5b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update development.md,2021-12-15T00:32:33Z,naumenko-sa
1460bdcced0a8fcd95d1d20ceb19ea06e9c3bdf4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update development.md,2021-12-14T21:19:29Z,naumenko-sa
834a2426d7c5d13ad1ca61b74b10830461702a1c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,remove additional rds file - post 0.3.44 fix (#3588),2021-12-14T21:03:41Z,naumenko-sa
1d065fe60272b87a687d14eb45aeaf88614b059f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix bgzf bug (#3587),2021-12-14T18:11:24Z,naumenko-sa
38ab43c76811fbb8bc7ed3c1fda5734802e4b638,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update bcbiornaseq template name and rds path workaround (#3586),2021-12-14T05:48:24Z,naumenko-sa
d8613e6160bb8d973cb94f77098ce3a7f7284e75,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update bcbio devel install (#3583),2021-12-11T07:25:46Z,naumenko-sa
b0a940548f03497584669492fad4003265412c80,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update samtools call to avoid bgzf gzip block error (#3582),2021-12-10T06:56:11Z,naumenko-sa
cb40b50ef41a915c60004d0b5535a0a21dfee8fa,Sergey Naumenko,naumenko-sa@users.noreply.github.com,don't calculate signatures when purecn was not able to find a solution (#3580),2021-12-09T23:38:03Z,naumenko-sa
febc1540274f9fd25b36a98d346e2b72d0fd4ac0,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix mutsig file generation (#3578),2021-12-09T06:26:05Z,naumenko-sa
64e38e6cadf742dceef2ab01732fd4cd351224c9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update hg38-resources.yaml,2021-12-09T00:10:34Z,naumenko-sa
aa56064b698d2eaf653a6f80aa96066d560d1bed,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update purecn,2021-12-08T04:56:22Z,naumenko-sa
779fc755df0608f469eb3487d5021d50087fe96b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"update purecn wrapper, add tools_off: purecn_offtarget option (#3575)",2021-12-08T04:27:42Z,naumenko-sa
0d963dc2f8e6ababc711c4a6bcc34cae6617b85d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix purecn normaldb call (#3573),2021-12-07T02:01:11Z,naumenko-sa
a3508f645f495cb3f16abff3a2c33860522b7dc4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update purecn,2021-12-06T17:09:52Z,naumenko-sa
2fdcb6e427103ecfd11bf5792823b861c700d588,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update mm10-resources.yaml,2021-12-04T03:47:38Z,naumenko-sa
5e89a82c44406d29c8441ee1411a0000c80c6238,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update hg38-noalt-resources.yaml,2021-12-04T03:36:13Z,naumenko-sa
6363ce7024d72d24e108327b3f18bd32364d71dc,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2021-12-03T06:20:25Z,naumenko-sa
577c9a7b9be8467d76d3d3801d8fa07efbc7e549,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2021-12-03T06:19:26Z,naumenko-sa
f798922e7211aeffeb6b5319a1d097dcd32106e9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update snpeff to 5.0 (#3569),2021-12-03T05:52:40Z,naumenko-sa
a2992a880aa6a7957727749add5fb9c372ed4aa1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update bcbiornaseq call (#3568),2021-12-03T03:11:58Z,naumenko-sa
71c6f97b552ee45a3e3b1d36f675c477a233fcd2,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix the path to Rscript when calling bcbiornaseq (#3567),2021-12-01T20:47:56Z,naumenko-sa
0c845110e6c85e8b59b5226580d8cbd00d38fd21,Sergey Naumenko,naumenko-sa@users.noreply.github.com,check if files exist before adding to the output for purecn_dx (#3563),2021-11-25T07:24:20Z,naumenko-sa
0045172097f2a1c76ac97dd74e8b7e1820dc0505,Sergey Naumenko,naumenko-sa@users.noreply.github.com,error out when there is no reads in the chip file (#3562),2021-11-25T04:35:33Z,naumenko-sa
e66bb7257758fa8ccc2479cc97862cdd64e93f00,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update outputs,2021-11-24T03:02:43Z,naumenko-sa
be0fe71142bb715d764ee917ee3ac33a75f50266,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update issue templates,2021-11-14T02:15:51Z,naumenko-sa
1dacd3fa90bae59fcbb57779881b6d1b000251bb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"fix picard calls to work when gatk4 is off (#3556)

* fix picard calls to work when gatk4 is off
* fix picard options to --option value",2021-11-13T07:22:00Z,naumenko-sa
00180729321229bdab0598386a83e07ec92cdd15,Luca Beltrame,lbeltrame@users.noreply.github.com,"Adjust paired PureCN to the new way of locating PureCN.R (#3555)

Unlike run_purecn_normaldb, run_purecn was never adjusted.",2021-11-12T18:45:21Z,lbeltrame
fd8b84c7f465d5493a43d75b826a410c7964eda7,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update somatic,2021-11-09T05:30:00Z,naumenko-sa
9138319e3fff9da9bde15f55a5745475d8729d26,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"modify the optitype call to use the proper python (#3550)

optitype is not a python package technically,
so conda is not able to alter its shebang when installing into python3.6 env
in the result optitype fails when called with python3.7 from the base
the solution is to specify python3.6 in the call",2021-10-29T17:49:24Z,naumenko-sa
e52aea5dd1390d47ed385ab630888b2c47937e31,Sergey Naumenko,naumenko-sa@users.noreply.github.com,docs: update intro,2021-10-28T07:28:26Z,naumenko-sa
115d0a94c48cc69870225eeb2bbf2639bccaca97,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"a synchronized update after cleaning enviroments in cloudbiolinux (#3548)

* a syncrhonized update after cleaning enviroments in cloudbiolinux
see https://github.com/chapmanb/cloudbiolinux/pull/387
mostly changes allowing to locate tools properly in the environments
passes integration (all but tophat disambig),unit,cancermulti tests",2021-10-28T06:59:06Z,naumenko-sa
d61e77825f46548101db9b64776269f8e96ee220,rchekaluk,rchekaluk@users.noreply.github.com,"--cloudbiolinux argument (squashed) (#3544)

Co-authored-by: Rob Chekaluk <rchekaluk@ppolitics.org>",2021-10-25T02:19:18Z,rchekaluk
0aad01654631dd9d7e6719e6bd82bf37d0a0352e,Matthias De Smet,11850640+matthdsm@users.noreply.github.com,"haplotyper: reduce complexity (#3543)

remove some logic by using the shorthand option instead of the long option",2021-10-25T02:18:55Z,matthdsm
5cfc02b5974d19908702fa21e6d2f7a50455b44c,Luca Beltrame,lbeltrame@users.noreply.github.com,"Mutect2 and PureCN: also genotype sites present in the PoN (#3539)

This is actually recommended by the PureCN documentation, as otherwise
sites in the PoN, if present in more than two samples, will not get
genotyped by MuTect 2.

MuTect2 docs: https://gatk.broadinstitute.org/hc/en-us/articles/360037593851-Mutect2#--genotype-pon-sites
PureCN doc reference: https://www.bioconductor.org/packages/release/bioc/vignettes/PureCN/inst/doc/Quick.html#3_Create_VCF_files",2021-10-18T14:42:40Z,lbeltrame
1135176df8cb6a47ae39f997ffa4eaac17f8b4ff,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update rnaseq_fusions.md,2021-09-18T02:47:57Z,naumenko-sa
61808635e0401d4bffe735f9a90cefe3b428e4be,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update rnaseq_fusions,2021-09-13T13:58:16Z,naumenko-sa
e62606ca132c67b842fb70b5202d695ac3ff4f85,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update rnaseq_fusions.md,2021-09-07T14:31:47Z,naumenko-sa
9fdbbf0ee1ac92aefbec80b20e1d59d7148ce7eb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update rnaseq_fusions,2021-09-07T14:28:50Z,naumenko-sa
b1296282d402d82d4fc07207ea6c85dd2a1091d5,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2021-09-03T20:40:49Z,naumenko-sa
6cc34fe39e7cc4343835bc9fd8c30129e22dbb89,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix #3522 (#3526),2021-09-03T20:39:19Z,naumenko-sa
3d7dc6645e3e160cfc6cd6ce68cc43fb4329a754,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-08-06T19:19:36Z,naumenko-sa
aa64ed48cff6bac81a5b321a7e985e5bb0ad5088,Sergey Naumenko,naumenko-sa@users.noreply.github.com,related to #3507 (#3521),2021-08-04T01:42:46Z,naumenko-sa
9c7105dbe1c153a15ff70f42cc08fb2ae6e85e0e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk_rnaseq,2021-08-03T18:30:56Z,naumenko-sa
a699aa508d417f053edaf9b17bea9f157c138f57,Sergey Naumenko,naumenko-sa@users.noreply.github.com,enable tools_on: keep_gene_version (#3518),2021-07-31T04:35:52Z,naumenko-sa
df4e6fa6a4f41e02a58dbcbf8fe7104ef5f0ad1b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,related to #3508 (#3517),2021-07-30T04:43:55Z,naumenko-sa
409510c75fdc938186ad36dab960356c44b87768,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add tracking 4 more rna-seq related tools in programs.txt (#3516),2021-07-25T05:17:08Z,naumenko-sa
1890f201970e32fe9cc89591d29bfb506ebc22b1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,address #3509 (#3514),2021-07-23T01:56:51Z,naumenko-sa
ff9cc371bf7c9db7185686ffed876bd7c1a2e428,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update development,2021-07-21T23:15:59Z,naumenko-sa
1f8827b7fac00c48c9f1304a4cedff18866d9530,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update development,2021-07-21T19:40:04Z,naumenko-sa
6681fee54396d82490da44efdf9362a8c6605094,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2021-07-16T03:41:45Z,naumenko-sa
6846f4bdaa1d624c149b0c9a5b6ca4527bcfc24b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix q-value threshold when filtering chip/atac peaks (#3510),2021-07-16T03:40:17Z,naumenko-sa
6402c3791962156fcbdbaa3a90356721b210f97f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk_rnaseq,2021-07-13T19:51:48Z,naumenko-sa
d27744a4ddcbe353260834b906b8d0e53be7fb17,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update bulk_rnaseq.md,2021-06-14T20:23:20Z,naumenko-sa
14d531d114f62b6c373aef9a76e1e7baa2c48fa1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update setup.py,2021-06-09T16:49:24Z,naumenko-sa
e18f3f09f82064b12a806bff79db5a9e9d315d61,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk_rnaseq,2021-06-08T00:16:42Z,naumenko-sa
78507b0c9dbd095091c37d790ca0810bcae25f3c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2021-06-07T22:50:20Z,naumenko-sa
43825fde7a5d49c25a16a3940528e1facf01f953,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add salmon autostrand option with strandedness: auto (#3499),2021-06-07T22:49:23Z,naumenko-sa
81ef7d1a0f5f38bd9bdc7d839294e911692463c5,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update atac,2021-05-25T21:25:04Z,naumenko-sa
4b356303389021d361a30885254874e4f06b34b3,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk_rnaseq,2021-05-21T15:00:18Z,naumenko-sa
41bbc0561c7d8525a5b96addfc5823460aaf064a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update installation,2021-05-21T01:50:32Z,naumenko-sa
03ad22958482f12a017ec6e49e3b86e3def2240e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update teaching,2021-05-20T19:57:14Z,naumenko-sa
9c40ee587b61e90b63735954df17ab6a0d089a49,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update presentations.md,2021-05-20T19:55:05Z,naumenko-sa
c151332f5f02ac8323d1f5e0dd682c562c2df032,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update teaching,2021-05-20T19:54:07Z,naumenko-sa
838853ee6a8a5930f24e2aed3316feec3d5903ef,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update internals.md,2021-05-20T19:52:56Z,naumenko-sa
ac36adc01ffa3f98a7873c0134dad6ecf5d9d0ea,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update cwl.md,2021-05-20T19:50:57Z,naumenko-sa
b01e3d8a729e34bda38859fadd8fba59c76a1a9f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update cwl.md,2021-05-20T19:49:14Z,naumenko-sa
3f7511b85ad6e2ff74b5700d31f3f33a2d7dc101,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix the docs (#3494),2021-05-20T19:40:51Z,naumenko-sa
f2817627a380b2a5a47da2a67db95a45dde8dfe7,Juan Luis Cano RodrÃ­guez,hello@juanlu.space,"Documentation improvements (#3492)

* Correct heading levels

* Upgrade to slightly newer Sphinx version

* Migrate to MyST-Parser, rework Table of Contents",2021-05-20T19:27:08Z,astrojuanlu
5499f388fa7dc65cc4f4b80ff49f60b0fee5d952,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update defaults in bismark - don't use --local (#3491),2021-05-19T04:55:47Z,naumenko-sa
a163dd04032a65870898356fb6606838dce90b21,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"allow t-only without pon for mutect2 (#3489)

close #3488",2021-05-18T05:02:32Z,naumenko-sa
5c6d729051da7de7cec45279d491e6f0d73092ab,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add somatic_tumor_only.yaml,2021-05-18T02:36:03Z,naumenko-sa
1e1704da40c42bb04381d7522d788ce0f3c58f86,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add +x to scripts. close #3485 (#3486),2021-05-11T20:55:45Z,naumenko-sa
64126c718ddba7e9052fb9f8d5ab6d8fa798a7d6,Joon Yoon,42597505+yoonsquared@users.noreply.github.com,"Update softclipping for chipseq (#3476)

in chip-seq, for bowtie2, we changed '--very-sensitive' -> '--very-sensitive-local' to softclip.
This has been discussed with Rory and Meeta.
We can wait for Shannan to confirm this change.",2021-05-04T16:42:48Z,yoonsquared
0739ebc21a3f4de41eabbc0ecad5aaecc08bdd8a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix purecndx upload results where there is no signatures.pdf (#3483),2021-05-04T16:33:22Z,naumenko-sa
378d1a7432689ea6d8627b66e75150aa07404213,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-05-04T05:58:47Z,naumenko-sa
b52860084820c679501cfa52f67520b8a4f91c39,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-05-04T05:49:49Z,naumenko-sa
8ee7784d9d94b641e21ad6c2bec8ecb381c05c84,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-05-04T05:43:02Z,naumenko-sa
56e02447b05789b6271200a43b1b6e0c17799904,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-05-04T05:37:20Z,naumenko-sa
ab395997b9ad2bb0b32a94c2ec4fb6c39e10f9ef,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"[skip ci] docs: update intro

#3481",2021-04-28T01:34:43Z,naumenko-sa
6f66f056c60b0b1827611b73363f10eeb8808100,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2021-04-27T13:15:03Z,naumenko-sa
1c563f166e95070d90ae1030d2ab50c875b67e83,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix header annotation (#3480),2021-04-26T20:20:09Z,naumenko-sa
947fae7d7989d5700a7df19748c655d08cf35e47,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add experimental CELLular barcode set for indrop-v31 (#3478),2021-04-22T03:11:47Z,naumenko-sa
b5618f3c100a1a5c04bd5c8acad8f96d0587e41c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update installation,2021-04-20T15:14:57Z,naumenko-sa
4343d054eab372f1701250485b59025e065f09b6,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update intro,2021-04-20T15:13:25Z,naumenko-sa
f742826cfcffc7bf35e42b78da0e5c1331d59e14,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update development,2021-04-20T02:50:50Z,naumenko-sa
4922b4cc2762857d01121403495a50549b8eb6bd,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] examples: update cancer-dream-syn3,2021-04-19T17:30:12Z,naumenko-sa
122a80f7db7ab007c2439a05f92f194adf7308c1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"[skip ci] docs: update somatic_variants

address #3474",2021-04-19T17:26:10Z,naumenko-sa
95f1459a1a435040d7a64b1f7c7cbc15511af123,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update installation,2021-04-18T00:46:13Z,naumenko-sa
a50029ac0472b2165d70d605c38901c20df859ba,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update installation,2021-04-18T00:44:43Z,naumenko-sa
ed5f2b25a9bb1062a02753b4106f1739fd098c4e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix clean_args (#3473),2021-04-17T16:32:14Z,naumenko-sa
84f0b9c4f82b5279a46eb1ed62422f0fb9a623b0,Sergey Naumenko,naumenko-sa@users.noreply.github.com,set conda installer by default and add --mamba as an option (#3472),2021-04-17T15:51:41Z,naumenko-sa
97870b029f58ac50601f1054af1a474315de8b14,Sergey Naumenko,naumenko-sa@users.noreply.github.com,finish changes necessary for v1.2.8 (#3470),2021-04-14T15:07:45Z,naumenko-sa
e1192f44e08359fc56bf3fb4662c6b40ef4f7714,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update versions to 1.2.8 (#3468),2021-04-14T02:28:32Z,naumenko-sa
5563c4bc4e2b07576116b00b86daaff3d8172026,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update hla_typing,2021-04-13T02:39:24Z,naumenko-sa
8704fff6146e0b7dca9872d8f286f642fa8f2948,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add a warning (-w template) and error (pipeline) when align: false and hlacaller: optitype (#3467),2021-04-13T02:34:31Z,naumenko-sa
e4df629d8f418e7ad315eac4f7eb3964d1292865,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix macs2 error (#3466),2021-04-13T00:56:38Z,naumenko-sa
bbcf2a49977771258a726703a3aac1861ac79c2e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix disambiguation statistics (#3465),2021-04-12T23:10:30Z,naumenko-sa
d5072bb5b2de6971ccbcbcd21f47e4e193be9547,Joon Yoon,42597505+yoonsquared@users.noreply.github.com,"Update after updating the macs2.py (#3464)

after fixing the macs2.py, we will start callling narrow peaks even if invalid antibodies are in the `antibody` column of the metadata.",2021-04-12T22:57:42Z,yoonsquared
b48217947ec4cfcca249c9bb2b35b18632d0df9a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update disambiguation,2021-04-12T22:57:05Z,naumenko-sa
0c16ad4e50342a177be064fc74d53909bcd94e79,Joon Yoon,42597505+yoonsquared@users.noreply.github.com,"update antibodies. (#3463)

Fixing the bug where the value of the `antibody` column is not within the list, no peaks are called.

We want to run narrow peak calling (by default) if antibody is not recognized.

* note that If there is no `antibody` column, narrowpeak call is called by default.",2021-04-12T19:30:48Z,yoonsquared
368dd3277884294567df840729e89c92bfbcd374,Joon Yoon,42597505+yoonsquared@users.noreply.github.com,"Updating the metadata. (#3461)

Corrected final version for the user story.
The metadata has use for `antibody` column which is pretty major.
- It changes how the peaks are called (narrow, broad, or none)",2021-04-12T19:28:40Z,yoonsquared
b50056fd5f561bec93b90c303bf68fe52e07114f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Add purecn dx (#3458)

* switch on Dx (signatures) in purecn. requires deconstructsigs 1.9.0

* switch on purecn Dx",2021-04-12T02:29:46Z,naumenko-sa
a3052cde1c08aa75977f892035a8576f82cd51e9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methydation,2021-04-11T22:10:50Z,naumenko-sa
5c72417729a557b738ad70dd4aa2dbc5ba70eedc,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"wgbs: upload sorted bam as output (#3457)

use --local and --maxins 1000 as default alignment settings",2021-04-11T21:58:20Z,naumenko-sa
4f3c78454b4ff97847b016a9b49672651005e371,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update citations,2021-04-05T17:53:09Z,naumenko-sa
1a241c0f0a7db4e754164015f4fb0090eaa6bee7,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update somatic_variants,2021-03-30T03:01:05Z,naumenko-sa
3689df34761de80e36039b62df3dca0f761cb249,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update somatic_variants,2021-03-30T02:52:33Z,naumenko-sa
4eb87e67bcafb6da957d6bd57646ec45a4bf4526,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update t/n example,2021-03-30T02:51:04Z,naumenko-sa
06207c3f5c7518fb2190cc4a6372ab32e3e43393,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-03-30T01:51:18Z,naumenko-sa
977e96ca6b498c1833cf365d9d3747bc22e3ad23,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Create purecn_pon.yaml,2021-03-30T01:07:08Z,naumenko-sa
221b6df6992cd8a847491ffbf87ae1774fc46cc6,roryk,rory.kirchner@gmail.com,"Make SAF file correctly for both narrow and broad peaks.

Thanks to @mistrm82 for pointing out the issue.",2021-03-17T12:47:49Z,roryk
762b2b51b27ea376d134600e41ca62ace9e763a9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add options to GenomicsDBImport (#3448),2021-03-16T05:13:42Z,naumenko-sa
8357999a15ee780f41d69989f3aec08846c01ff1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-15T13:29:18Z,naumenko-sa
1ca55f5a66d89bf8a73694f3e94a37c3cdc7af5d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update duplex umi section,2021-03-12T16:23:33Z,naumenko-sa
54ec9c7e3799c024f7a5da4ad8185b84f1bf41d9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update duplex_umi example,2021-03-12T16:17:37Z,naumenko-sa
11b98edcef37b84e643d26e36afeeb5441fa49c3,Rory Kirchner,rory@atropos.local,"Re-enable ATAC-seq tests.

These tests work now.",2021-03-10T15:55:14Z,N/A
0eb02344d07de8a15e5eb6aca7b95d3331af0387,Rory Kirchner,rory@atropos.local,"Enable consensus calling for broad peaks.

Thanks to @mistrm82 and @yoonsquared for pointing out was is not
enabled.

This changes the consensus peak calling for narrowPeaks for ATAC-seq and
ChIP-seq. Before we were finding summits and expanding peaks out to 250
bases for each peak, now we don't do that and just keep the size of the
peak with the highest score.",2021-03-10T15:42:28Z,N/A
486d1bf1b67a32d37bc2e02d1b7c07614fc51a81,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-09T21:29:23Z,naumenko-sa
abf272f1e2a0d1b4ad20781f704cac7a726cf2a6,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update wgbs pipeline: kit params; dedup params (#3444),2021-03-08T20:51:24Z,naumenko-sa
09ce6a2b6ff02107688f5dc054253235d2145571,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update history,2021-03-08T20:47:45Z,naumenko-sa
cf7f7e80938e0f759dbdad469886288007d46a60,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-07T03:34:26Z,naumenko-sa
ce15c5516f24b4d3857f385574114aba5834ec66,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-07T03:27:25Z,naumenko-sa
05e0cc28fe2e440151a26be792224f6c97a67793,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-04T22:44:09Z,naumenko-sa
d8dfb6c34fed50a10e796880e79188bc69746656,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-04T22:39:00Z,naumenko-sa
d8f0a8c8248fa32d1c0443f5fb64a25b95bcebc7,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-04T21:50:01Z,naumenko-sa
d5bdb8ddf3a1062bc6f3e9b0e1ffa946295e61a5,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update methylation,2021-03-04T17:48:51Z,naumenko-sa
e77928140de9b07d13f78e537445a33338ded94d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-03-04T03:30:00Z,naumenko-sa
5e3d24d6b6b4453a461f0e84b316da76637d3a28,roryk,rory.kirchner@gmail.com,Update with error message change.,2021-02-25T17:16:34Z,roryk
701813423ca917acb42c68a92b37531c46a8dcba,roryk,rory.kirchner@gmail.com,"Improve scRNA-seq sample barcodes incorrect error.

This fails with a useful error message with a link to a comment
showing how to debug the issue.",2021-02-25T17:12:56Z,roryk
f15dc832143d8bb8e855ee4a298f05bd88b3a1ad,roryk,rory.kirchner@gmail.com,"Fix missing greylist peaks.

Thanks to @mistrm82 for pointing out these are missing.",2021-02-24T22:49:39Z,roryk
19acb71413229711cac2eca6fc83879585e63354,roryk,rory.kirchner@gmail.com,Update HISTORY with ENCODE QC changes.,2021-02-24T19:34:31Z,roryk
1be9c965b8afec0be1f1ff604bb077f39c382456,roryk,rory.kirchner@gmail.com,"Set ENCODE metric flags properly for ChIP-seq

Thanks @mistrm82 for the suggestion!",2021-02-24T19:32:27Z,roryk
c7e4e141a2e4b4d9eaf7c4185b99cd984284834f,roryk,rory.kirchner@gmail.com,Finishing changes for 1.2.7 release.,2021-02-23T14:31:19Z,roryk
c862626b1c1dd3faaa1a92a74b900d8eb0ce2e23,roryk,rory.kirchner@gmail.com,Prep for 1.2.7 release.,2021-02-23T03:05:12Z,roryk
7dc30a036aae0ebba2b5caf458b0356c8d4253ef,roryk,rory.kirchner@gmail.com,Update HISTORY.,2021-02-23T02:04:49Z,roryk
0d215a76d1795d800eaa2388b0dfe7453a11242e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add proper threading to verifybamid2; remove problematic raise (#3441),2021-02-23T02:00:52Z,naumenko-sa
7530a01446b6f1057ca92012462a38fcbbb0022e,roryk,rory.kirchner@gmail.com,"Strip transcript versions going from GTF -> fasta.

We strip the versions from the GTF file later on in the process, so we
should strip them, if they exist, when we make the FASTA file.",2021-02-19T15:22:05Z,roryk
271c6d571f1fd4999a6cbbe4b48cd5ca5fff42b7,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add tools_off: contamination option (#3439),2021-02-19T13:12:09Z,naumenko-sa
f5fe0d9c529d189ac44755d2ccb1e10339ac318a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: purecn,2021-02-17T03:52:54Z,naumenko-sa
a847bcdd927640c07466e11e9ab8260a8da6e83d,roryk,rory.kirchner@gmail.com,"Fix circular import issue.

This cropped up when trying to use import bwa outside of the main bcbio scritps:

>>> import bcbio.ngsalign.bwa as bwa
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/ngsalign/bwa.py"", line 18, in <module>
    from bcbio.heterogeneity import chromhacks
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/heterogeneity/__init__.py"", line 13, in <module>
    from bcbio.heterogeneity import bubbletree, phylowgs, theta
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/heterogeneity/bubbletree.py"", line 23, in <module>
    from bcbio.structural import shared
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/structural/__init__.py"", line 13, in <module>
    from bcbio.structural import (battenberg, cn_mops, cnvkit, delly, gatkcnv, gridss,
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/structural/battenberg.py"", line 14, in <module>
    from bcbio.variation import population, vcfutils
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/variation/population.py"", line 12, in <module>
    from bcbio import install, utils
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/install.py"", line 28, in <module>
    from bcbio.pipeline import genome, version
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/pipeline/genome.py"", line 18, in <module>
    from bcbio.pipeline import alignment
  File ""/n/data1/cores/bcbio/rory_kirchner/dev/bcbio-nextgen/bcbio/pipeline/alignment.py"", line 37, in <module>
    ""bwa"": NgsTool(bwa.align_pipe, bwa.align_bam, bwa.galaxy_location_file, None),
AttributeError: module 'bcbio.ngsalign.bwa' has no attribute 'align_pipe'
>>>",2021-02-11T18:51:01Z,roryk
63587e7415e43497e341b15752a8219c30b7ec61,roryk,rory.kirchner@gmail.com,"Add note about required GTF format.

`bcbio_setup_genome.py` has to be used with a GTF that has `exon`
entries.",2021-02-08T18:31:50Z,roryk
27a3df25edc9bb2f42c022aa0f06f2094cd06eca,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-02-08T15:58:30Z,naumenko-sa
4969ee213aaffdcbc06ea93e1dded6b3264f1d9f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-02-08T15:53:28Z,naumenko-sa
08a647b1aba2cddb94fef087064831db10131444,Sergey Naumenko,naumenko-sa@users.noreply.github.com,enable setting purecn options in the yaml config (#3434),2021-02-08T15:31:06Z,naumenko-sa
0f27d2bdc395fa70a1b7b73d1709dfeee7d3d46a,roryk,rory.kirchner@gmail.com,Update requirements to 1.2.6.,2021-02-05T14:10:28Z,roryk
8ffde1e9194827a2a5176f99449e492fe2746c1c,roryk,rory.kirchner@gmail.com,"Add qualimap gene coverage plots to multiqc.

This disables a workaround for some CWL runners having issues with
filenames with () in them-- if this ends up causing problems we can fix
this I'm hoping runners nowadays can handle the filenames.",2021-02-05T00:43:24Z,roryk
c0db51a513cdff8017da60306087206700947ed0,roryk,rory.kirchner@gmail.com,1.2.6 release.,2021-02-05T00:00:58Z,roryk
6a962cbbec99b178f799905e062fdb4ecf4c7dda,roryk,rory.kirchner@gmail.com,Keep rs_id in ID field if we also annotate with COSMIC.,2021-02-04T16:13:51Z,roryk
13900e4008a9fa6be9aa26e6285deda3ea7394c5,roryk,rory.kirchner@gmail.com,"Only annotate with COSMIC for somatic samples.

This simplifies the `somatic.conf` vcfanno file to only annotate with
COSMIC; prior to this somatic.conf was duplicating some work done in the
gemini.conf file, which was leading to missing fields in the annotated
VCF.",2021-02-03T15:37:31Z,roryk
383ad9d420bdd01216fdef1e9f30e5091f541ef8,roryk,rory.kirchner@gmail.com,"Remove standalone dbSNP annotation.

We can do this where we do the other vcfanno annotation if necessary, so
we don't have to do that here by itself, it is confusing.",2021-02-03T15:36:51Z,roryk
8c90ac5f129a10615a5f67f7429405e433d42acf,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Update MANIFEST.in

close #3426",2021-01-30T03:48:08Z,naumenko-sa
e4f0841e8573880a59cd75d8b22ad432440bb04e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update installation.md,2021-01-29T02:01:58Z,naumenko-sa
8a103ee1e52a3615659843dd9c949a490c4af616,Kerrin Mendler,kerrin.mendler@astrazeneca.com,"Update error message in the heterogeneity caller check (#3429)

Update error message in hetcaller check.

This lets you know which heterogeneity caller needs the missing gatk-cnv/cnvkit calls.",2021-01-28T20:22:27Z,N/A
f28f4cdff8cbfeb20025ec7cb8fc650760a0fff8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update configuration,2021-01-26T20:39:22Z,naumenko-sa
3a94acedb71ae338ac1d639c6d593f7fc7976867,roryk,rory.kirchner@gmail.com,Track atropos version in programs.txt,2021-01-26T20:34:08Z,roryk
d4e03baefea7b482cf973a4042502da57cbac0e1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-01-25T20:19:15Z,naumenko-sa
976138ce1e6205b97d13dc7bd5f88546089ef056,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] add purecn_ton template yaml,2021-01-25T20:17:23Z,naumenko-sa
3a1241032fa602291f1f4e2d985fc3e70050b782,roryk,rory.kirchner@gmail.com,"Fix vardict version lookup.

Due to the vardict version numbering, comparisons to the old date
versions always end up with the new versions as older than the actual
older, dated versions. We just want to disable SV calling all of the
time so we do that here.

Closes #3421. Thanks to @gabeng for being on top of these issues!",2021-01-25T17:16:58Z,roryk
20e585607185a5bfcf8f43a13cece4f217641262,roryk,rory.kirchner@gmail.com,Break arguments into required/optional lists.,2021-01-21T18:30:59Z,roryk
3d05daf437a3df938cfbfb6ecfb6706958a88acd,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update SRA download link,2021-01-21T02:19:28Z,naumenko-sa
88f4cbf4574a20e83e863203d19dc23c73a6693e,roryk,rory.kirchner@gmail.com,"Don't assume DRAGEN BAMs are sorted properly.

Files straight off of alignment from DRAGEN aren't necessarily sorted or have
mate information set, so we need to add those ourselves.",2021-01-19T18:45:53Z,roryk
7d2c18e2aecd3163f4b4c970db2b2502ee822992,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix project upload where SE object failed (#3419),2021-01-18T21:09:29Z,naumenko-sa
c1a747b2a91fbc2e64497811a270bdd073805e92,Sergey Naumenko,naumenko-sa@users.noreply.github.com,make SE loading and SE QC more robust (#3415),2021-01-15T17:21:45Z,naumenko-sa
8337b6c0264bf29b94215934fdd88000e417370c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,use dbsnp.vcf.gz - a symlink to the latest dbsnp (#3414),2021-01-14T03:53:45Z,naumenko-sa
030154c3f9258f9ef29ed324b6e600b71af563cb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,dbsnp is a symlink to the latest installed dbsnp (#3413),2021-01-13T21:13:47Z,naumenko-sa
c288fc1110c46ab50d13f68c06b95392f28f8dd1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix to run SE object after multiqc (#3412),2021-01-13T21:02:18Z,naumenko-sa
606ccb697fe2c3140c238dd63a59329c8efae578,roryk,rory.kirchner@gmail.com,Add note about `transcriptome_gtf` option.,2021-01-13T14:46:12Z,roryk
65837463ffd637b77941868169b27e6e108bbb80,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk_rnaseq,2021-01-12T20:45:18Z,naumenko-sa
d25b070e499b68b8b1498683896aada0c46ef704,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update readme,2021-01-12T01:59:10Z,naumenko-sa
f511a7ad46fb0f5e78d72256140386706175b555,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: udpate bulk_rnaseq,2021-01-12T01:41:15Z,naumenko-sa
ce4077703fe32b9c2ecbc4e78281ab68faad55c4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk_rnaseq.md,2021-01-12T01:30:32Z,naumenko-sa
7574aea16eb2debef7f5926aca7ae316470ec98d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix bulk RNA-seq example (#3410),2021-01-12T01:23:25Z,naumenko-sa
6677f1c2f75582c80bcdcc1b9d225f0946d3207e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update configuration,2021-01-11T16:27:39Z,naumenko-sa
69eea8361a8d2b2ceca11c1335d050f981480156,roryk,rory.kirchner@gmail.com,Use 1.2.5 release.,2021-01-10T13:23:34Z,roryk
ec84064498808c7b5425e0a2ef7baea856f02773,roryk,rory.kirchner@gmail.com,1.2.5 release.,2021-01-09T16:55:23Z,roryk
67b6310efe1cb3fe7bb5a11368246bcc4b14e623,roryk,rory.kirchner@gmail.com,Skip peddy if no hets are found in any samples.,2021-01-09T16:55:23Z,roryk
9c8ad93fd654cfdddc1c8c07d9974cdf4ec85052,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update single cell,2021-01-08T01:06:58Z,naumenko-sa
7fae0fada4849d4e449a503427159870dd3a03fc,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update single cell,2021-01-08T00:09:57Z,naumenko-sa
a560d727d69c4e3a586bf25eb1251f881249a48d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-01-07T20:48:50Z,naumenko-sa
bdc808cb05bd4aa00d3f40056b1177b47e709742,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update optitype,2021-01-07T19:47:06Z,naumenko-sa
a9d8091ed7e1dda0ea3f5ec2ceb16b6dd6cf5d4d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,call tximport from r36 environemnt (#3409),2021-01-06T21:41:47Z,naumenko-sa
47792571f446975ecc9ca18b8dc5821ca985f2ac,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix se2qc report - remove protein coding genes plots (#3407),2021-01-05T20:39:34Z,naumenko-sa
068b2cd15a5201e0a9e6d02ca2209d569f86d223,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk rna-seq,2021-01-05T17:14:36Z,naumenko-sa
d4d473ca59f450a401a82ebcd6f0c64e0b262751,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update parallel execution,2021-01-05T16:35:47Z,naumenko-sa
1c997b55cef0d08db84568aadb2b88d559564efa,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-01-05T16:16:08Z,naumenko-sa
94ef5adbc82a53a44be21c2bd3b6c784968e0877,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix bcbio2se and add se2qc in bulk rna-seq (#3405),2021-01-05T05:37:23Z,naumenko-sa
76388d8974ab71fe98935db41852b2e2c2af4889,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update purecn,2021-01-05T02:40:47Z,naumenko-sa
6ee536107ccbf43d9d7d935dd0cdfaaa8ad96945,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update bulk-rnaseq output,2021-01-04T18:48:11Z,naumenko-sa
1b869b53c1c1c9628e911f4b6516d56292ae2d6b,Ilya Sytchev,isytchev@hsph.harvard.edu,"SCRAMble integration (#3341)

This adds support for the mobile element caller SCRAMble (https://github.com/GeneDx/scramble). This is designed to be used on exome sequencing but we have tried it on whole genome sequencing and it does okay.

The license means this cannot be used for commercial enterprise without permission from them (https://github.com/GeneDx/scramble/blob/master/LICENSE). The alternative MELT has a much more draconian license so we went with SCRAMble.

Thanks to @chanzuckerberg for funding to support this feature and to @hackdna for implementing and validating it.",2021-01-03T18:38:26Z,hackdna
20e740a8559252cb7986ec54537ce938c5e838ae,roryk,rory.kirchner@gmail.com,"Add jointcaller to RNA-seq example.

This is now a required field to get joint calls.",2021-01-02T17:50:34Z,roryk
1e8ecf68bf6d0c129cc3a45f67aa8f4544ecca84,roryk,rory.kirchner@gmail.com,Clarify jointcaller setting for RNA-seq.,2021-01-02T17:49:15Z,roryk
c4f345585997794b7c4723173bcae48424c8db65,roryk,rory.kirchner@gmail.com,"Support precalled joint calling for RNA-seq.

This lets you supply pre-aligned BAM files and gVCF files and run the
joint calling in bcbio, so you can add samples to your runs as you get
them and still get squared off variants.

Note: Setting `jointcaller` is now necessary to get joint calls,
bringing the RNA-seq variant calling in-line with the genomic variant
calling. Supports `gatk-haplotype-joint`.",2021-01-02T17:41:17Z,roryk
5643a2a0b6aca61319784eb2fcf7d0ca20ac89e3,roryk,rory.kirchner@gmail.com,Add WimSpee as a contributor.,2021-01-02T17:41:01Z,roryk
2ad845b3b52f926bd87bf7782067048acf5aac3b,WimSpee,34706930+WimSpee@users.noreply.github.com,"#3355 Allow for RNAseq analysis from GVCF

See #3355",2021-01-02T16:05:31Z,WimSpee
ebf15abbebb0c84a32dc96055c2d525e39e3e96a,WimSpee,34706930+WimSpee@users.noreply.github.com,"#3355 Allow for RNAseq analysis from GVCF level

See #3355",2021-01-02T16:05:31Z,WimSpee
2baf7675b4c958b9b03fc6331954e09d53ba1c46,roryk,rory.kirchner@gmail.com,"Add CollectSequencingArtifacts toggle.

Use `tools_off: [collectsequencingartifacts]` to turn it off. Closes",2020-12-28T18:14:12Z,roryk
8237a221f2547e03635d6a5ee2337deb8e8bd3da,roryk,rory.kirchner@gmail.com,"Add missing bcbio2se.R script.

Closes #3377.",2020-12-17T15:15:21Z,roryk
adcb9322a4eac7d2b07968403ca7d0c31dd9e90b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix #3398 (#3399),2020-12-17T00:28:05Z,naumenko-sa
517bb34533c0d240ebb127e2cdffa5034c729ba6,roryk,rory.kirchner@gmail.com,"yield_fixture -> fixture

`yield_fixture` is deprecated in py.test in favor of `fixture`",2020-12-15T16:36:43Z,roryk
ccbea17a414656e76d1fd4c69f7409ec1272c820,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix stalled RNA-seq runs when there is no flenDist.txt related to #3377 (#3397),2020-12-15T08:08:13Z,naumenko-sa
57b01faa27c2ac6457189fed351b5215a32fd403,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fixed a bug when uploading hg19 pon results (#3396),2020-12-14T18:44:32Z,naumenko-sa
49774f7ea704da952c364b504f7142d18b2eb545,roryk,rory.kirchner@gmail.com,"Swap to f-string, fix deprecation warning.

python3.9 will report these as warnings, so squash them now before 3.9
support rolls out of bioconda.

Closes #3389. Thanks to @smoe for catching these.",2020-12-11T20:43:19Z,roryk
d341f15d5c34ca2748bcbfd712484c5a36a71e79,roryk,rory.kirchner@gmail.com,Add Steffen as contributor.,2020-12-11T19:44:54Z,roryk
8f656225e367270e14dda3048436b0c3cc2406e6,roryk,rory.kirchner@gmail.com,"Fix getiterator -> iter deprecation.

getiterator is deprecated in python 3.9-- bioconda isn't on it yet,
but is getting there. Thanks to @smoe for pointing out this bug before
it happens.

Fixes #3390.",2020-12-11T19:44:42Z,roryk
9d91fea03436fdfd1f6796367df45fe34902dca2,roryk,rory.kirchner@gmail.com,Remove note about 1.2.3 being broken.,2020-12-07T17:20:18Z,roryk
241c179c200af802d911ca76f6ae8f8bcc0d0ddf,roryk,rory.kirchner@gmail.com,Fix lumpy executable missing from smoove call.,2020-12-05T20:15:13Z,roryk
3e41127461eeeed7cefac8a0a713e77894d57a47,roryk,rory.kirchner@gmail.com,"Look up mosdepth executable.

Fixes #3383.",2020-12-05T17:48:07Z,roryk
871c5cecea075021667fbe1d33b24f3935d3c139,roryk,rory.kirchner@gmail.com,Add missing SE creation script.,2020-12-05T17:04:37Z,roryk
109b52b405cc327601b0e2f10a9580f35c2d2769,roryk,rory.kirchner@gmail.com,"Upload SummarizedExperiment object.

Puts the SummarizedExperiment object in the `counts` directory.

Towards #3065.",2020-12-05T16:51:01Z,roryk
de18c514c6fe4200da8b96d93ca244cf035e0630,roryk,rory.kirchner@gmail.com,"Make log less spammy, especially during restarts.

If we are restarting, we've already aligned here so don't need
these messages.",2020-12-04T01:03:06Z,roryk
be070e0b9c0899aa26253f8684975c7690412b86,roryk,rory.kirchner@gmail.com,"RNASeq: make SummarizedExperiment object.

This is to prepare for a simpler version of bcbioRNASeq where the code
for the figures is more exposed and easy to modify.",2020-12-04T01:02:56Z,roryk
d3ec392999f2336f41a62d1cb76c5b8a17267b26,roryk,rory.kirchner@gmail.com,Reduce spam for RNA-seq with many samples.,2020-12-03T18:27:45Z,roryk
dfd289a925129e8ddfbecfd31503d07aff0986a7,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] add purecn resources to hg19,2020-12-02T17:52:08Z,naumenko-sa
83e1a9ce0ae5bd32ab87445e63014d075efc43f7,roryk,rory.kirchner@gmail.com,"Disable consensus peak calling for broad peaks.

Closes #3382 and #3379.

Thanks to @lbeltrame and @LMannarino for finding the issue and
suggesting multiple solutions.",2020-12-01T23:32:36Z,roryk
2c88e0a7b7cc9ae8337bd1cd72657424705ec71b,roryk,rory.kirchner@gmail.com,List narrow and broad antibody options in warning.,2020-12-01T19:54:30Z,roryk
ee68b361cdea013837b9c9c5abc6516df0f1d531,roryk,rory.kirchner@gmail.com,"Add 'broad' and 'narrow' as generic antibodies.

This lets users decide to call narrow or broad peaks if the antibody is
unknown or not currently supported.",2020-12-01T19:45:23Z,roryk
5f816fe44881cc4ef0328f9ccd7310be76f43bc3,roryk,rory.kirchner@gmail.com,Have bcbio_vm use python 3.7.,2020-11-27T15:00:34Z,roryk
aeccd37ed336a9730edbfa0e47c418d148d42647,roryk,rory.kirchner@gmail.com,"Make CollectSequencingArtifactMetrics more robust.

- Set VALIDATION_STRINGENCY to SILENT, since STRICT is way too strict
for this.
- Skip if there is no input BAM.",2020-11-19T20:50:47Z,roryk
d829c30faef1eb104de545e9d8a21ae7fe24bc05,roryk,rory.kirchner@gmail.com,Remove accidental inclusion of testing parameter.,2020-11-18T14:24:13Z,roryk
c9a6922956974dd23eeace8022fe991eded96762,roryk,rory.kirchner@gmail.com,Catch if we are combining non-existent count files.,2020-11-18T14:24:12Z,roryk
1e51dd06cda3d6d9d8caaaff6b56b590d8cc4b9e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fixed bam test (#3378),2020-11-18T06:22:23Z,naumenko-sa
42a854e46d55e1cddb670e5f8524b21558ceb7bb,roryk,rory.kirchner@gmail.com,"Add note about memory for `nomap_split_size`.

The intention is if you are running out of memory,
lowering this can prevent bcbio making a gigantic
dictionary. Thanks to @WimSpree for the question.

Closes #3376.",2020-11-16T14:30:16Z,roryk
861607822deb0e3cca76f0ac66c96d56e09315d7,roryk,rory.kirchner@gmail.com,"Import OrderedDict from collections always.

Thanks to @smoe for catching this.",2020-11-15T16:46:08Z,roryk
c30ffab684b99b30bf86d76996c3e8821f8a46df,Steffen MÃ¶ller,moeller@debian.org,utils.py - python 3.8 -> 3.9 transition (#3373),2020-11-15T16:37:01Z,smoe
3fc3efbc674f457b2d0dfd848f7238c9e481ea78,Steffen MÃ¶ller,moeller@debian.org,"heterogeneity/loh.h: SyntaxWarning: ""is not"" with a literal. Did you mean ""!=""? (#3374)",2020-11-15T16:35:48Z,smoe
d51539cef8c82205fa9cce660905bfdf629ddc6e,roryk,rory.kirchner@gmail.com,Add missing DRAGEN module.,2020-11-14T23:36:05Z,roryk
cab60bb19baec4dabd0c87d6add69ea58bf52ce5,roryk,rory.kirchner@gmail.com,"Allow pre-consensus DRAGEN BAM as somatic input.

DRAGEN is extremely fast, but version 3.6 doesn't do everything bcbio
does at the moment and is less sensitive for making somatic calls.

This allows you to run the initial steps of the DRAGEN somatic variant
calling pipeline up to pre-consensus UMI calls and feed that BAM into
bcbio to handle the collapsing and filtering of the UMIs.

This handles BAM files without the MQ/MC/RX tags added from DRAGEN and
files that have already had those tags added.",2020-11-14T22:47:51Z,roryk
ceddcf981e84711cbdcba37bd3f137d87c3d1404,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update disambiguation user story,2020-11-09T16:01:40Z,naumenko-sa
d3f1991139b8d611974773208cd13b311d6071b5,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] document many bcbio versions,2020-11-05T05:13:06Z,naumenko-sa
a5aefa671642e079c5038b11ed3ab466098c526e,Luca Beltrame,lbeltrame@users.noreply.github.com,"Drop hardcoded hg38 requirement in PureCN (#3366)

PureCN can and will work fine also with hg19.",2020-11-05T03:40:57Z,lbeltrame
b283d279827c0e14814557829a7b2e7c2878b3fb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] move persistence doc after logging,2020-11-05T03:13:03Z,naumenko-sa
4061c3061856c824bedb7f777dcb864c7d7bc156,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] clarify on bcbio persistence,2020-11-05T03:05:46Z,naumenko-sa
a4b68f19236d29d6e573856c5914a436bfd51e6d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"PureCN analysis support in bcbio: (#3364)

- prepare purecn bed file
- calculate purecn coverage
- purecn rscript wrappers
- run purecn without gatk-cnv and cnvkit segmentation
- update mutect variant calling when creating SNV PON
- correct batch pairing logic to allow PON processing
- merge SNV pon
- normal db creation and upload to final
- PON creation works, passes cancermulti
- T-only + PON works
- t/n calling + pon works
- standard production pipeline works
- bug fixes",2020-11-03T21:56:32Z,naumenko-sa
41fd4f043620fee2cad410252c2ab5738eb4d573,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add purecn user story (#3365),2020-11-03T21:55:13Z,naumenko-sa
dc8230c92e99e7fa076c9b79d28c02437b1704bb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Revert ""Update/vep102 (#3352)"" (#3363)

This reverts commit 943da6af8bb1a76b07d294e9787a443562a914bc.",2020-11-02T04:41:18Z,naumenko-sa
943da6af8bb1a76b07d294e9787a443562a914bc,Matthias De Smet,matthias.desmet@ugent.be,"Update/vep102 (#3352)

* update resources for vep102

* vep: add mane annotations

* fix typo's",2020-11-02T04:29:21Z,matthdsm
8c5ac2cb2f7fdb2c49a653f8cde69d74dc787753,Matthias De Smet,matthias.desmet@ugent.be,Scramble -X param is deprecated (#3344),2020-11-02T04:26:54Z,matthdsm
89337fc251a196c813e28f809a2253912c54cf7b,roryk,rory.kirchner@gmail.com,"Turn off inferential replicate loading.

We are just using tximport to make a gene x sample count table there, so
no need to load the inferential replicates. This lets us handle
thousands of samples.",2020-10-30T17:25:22Z,roryk
a2f8fa0d1151f11af490724652db99de9f34298e,roryk,rory.kirchner@gmail.com,Round tximport-estimated counts.,2020-10-14T00:37:06Z,roryk
3cc2fa286903662a14baf411706dc8d9590355dc,roryk,rory.kirchner@gmail.com,Workaround MultiQC OxoG file parsing issue.,2020-10-05T23:54:47Z,roryk
76e8220e3ead93124c89245aa1e26ee267c704e4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[ci skip] fix mappability path in hg38-resources,2020-10-05T21:19:58Z,naumenko-sa
9f9daf7454b5612ebf0135f149ed7794804bfc79,roryk,rory.kirchner@gmail.com,Add addition of OxoG metrics.,2020-10-02T18:42:08Z,roryk
cbfbcf332857e1473b9a3dcc85bdb5e3b526f724,roryk,rory.kirchner@gmail.com,Add collecting of sequencing artifact metrics.,2020-10-02T18:39:53Z,roryk
d8da04969add1d3906067e1959b4d209aac8b922,roryk,rory.kirchner@gmail.com,Allow `BCBIO_TEST_DIR` variable to control output of tests.,2020-10-02T18:39:36Z,roryk
b72e2415d49ca65940ac0fbc71fceb08ad7366cd,roryk,rory.kirchner@gmail.com,"Calculate artifact metrics.

These metrics quantify single-base sequencing artifacts, described here:

https://gatk.broadinstitute.org/hc/en-us/articles/360037429491-CollectSequencingArtifactMetrics-Picard-

We can use these to filter out oxidation artifacts, FFPE artifacts and
some other metrics.",2020-10-01T18:38:48Z,roryk
1df384abda9696298edbb3c4b255791b50b2298f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"add simple_repeat to hg38 resources

for purecn",2020-09-29T14:11:54Z,naumenko-sa
96171a5ab810346ec28ba52a054e2acb4f97acaa,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update hg38-resources.yaml (#3349),2020-09-29T14:03:52Z,naumenko-sa
ae7b9769df8e0cca95ff4f0bd14face00533cb12,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"increase default RAM (#3338)

from 3G to 4G / core. save ppl from segfaults",2020-09-28T22:58:47Z,naumenko-sa
ad1606b9db562774bbc99f826c96ad4cddd53628,roryk,rory.kirchner@gmail.com,Clarify a tumor is always needed for PON.,2020-09-28T20:46:24Z,roryk
4060e17b334b61b9f919e025cae33e18e2e0bf67,roryk,rory.kirchner@gmail.com,"Fix for ChIP-seq test not working.

This relaxes some assertions to allow for the possibility of there
being no consensus peaks between samples.

Fixes #3224.",2020-09-28T20:33:25Z,roryk
76d5c4bae86faf5473c3d27c240a6b382512702a,roryk,rory.kirchner@gmail.com,Skip making isoform->gene file if not running express.,2020-09-25T17:49:06Z,roryk
65841a5f23c714cfb4c6059874bdd8f23b4bdf30,roryk,rory.kirchner@gmail.com,Update HISTORY for new version.,2020-09-22T00:24:09Z,roryk
9722272eed0f2e3246be3ae7dd94021d5c63af26,roryk,rory.kirchner@gmail.com,Bump for new release.,2020-09-21T21:38:12Z,roryk
c053f4efd075c55b335dfb9fb4dd5a8b2777886f,roryk,rory.kirchner@gmail.com,"Remove Zenodo step from release checklist.

The new Zenodo link always links to the most current verson, so we don't
ned to update this anymore.",2020-09-21T19:39:38Z,roryk
aff0de6e7fc60daa20df1d63ccb6c771b0dd6999,roryk,rory.kirchner@gmail.com,Increment version for 1.2.4 release.,2020-09-21T19:28:35Z,roryk
8de993938fd007a1a6e69b3e6d534ff13ebaa15b,roryk,rory.kirchner@gmail.com,"Remove deprecated --genomicsdb-use-vcf-codec option.

See #3263 for discussion. Thanks to @amizeranschi for the heads up.",2020-09-21T19:19:26Z,roryk
4ebb624fc91a0fb222c238786fe32c9fc5441229,roryk,rory.kirchner@gmail.com,Add bismark output to MultiQC report.,2020-09-21T18:34:55Z,roryk
a438517b93232131cd1d71339c63e6d757574e19,roryk,rory.kirchner@gmail.com,"Fix incorrect PS type in Octopus header

Octopus has this fixed (see luntergroup/octopus#134) but this will cover it
until Octopus does another release.",2020-09-16T12:48:51Z,roryk
2d0da6fd37c270c036c854b32790eab87c783825,roryk,rory.kirchner@gmail.com,Add note about VarDict and VCFv4.3.,2020-09-16T03:06:03Z,roryk
50cce7a33697c6d93d2fb59619fe6783410103ff,roryk,rory.kirchner@gmail.com,"Workaround for htsjdk not supporting VCF4.3.

VarDict emits variant files following the VCF4.3 spec, but htsjdk cannot
write VCF4.3 so it throws an error when it encounters a VCF file
reporting this version.

Most of the 4.3 changes seem to revolve around optional tags, so here we
just edit the reported version to be 4.2 which should work fine for now.

See https://samtools.github.io/hts-specs/VCFv4.3.pdf section 7.2 to
compare the VCFv4.2 and VCFv4.3 changes.

Closes #3339. Thanks to @kdrichards for pointing out the issue.",2020-09-16T02:58:08Z,roryk
9e62824e3749b7cdc1e873540a3bda783e53a1a9,roryk,rory.kirchner@gmail.com,"Use bcftools to reheader files.

Avoids picard use here which does not support VCF 4.3, since it is using
htsjdk which doesn't support writing 4.3 yet. Partially addresses",2020-09-15T21:02:30Z,roryk
a83b972cc17217e489062cf223ac8f9100a5ceee,roryk,rory.kirchner@gmail.com,"Allow viral check to be turned off via tools_off.

Closes #3340. Thanks to @dauss75 for the suggestion.",2020-09-15T02:21:14Z,roryk
8feaf830c95107d7adfe8e7639b1aa87e906695d,roryk,rory.kirchner@gmail.com,"Speed up bismark alignment.

This implements the suggestions for speeding up bismark here:

https://github.com/FelixKrueger/Bismark/issues/96

They suggest just leaving -p (the number of threads for bowtie) to just
be the default, and spinning up more instances of bismark with
--parallel instead. This should be a more efficient usage of resources.",2020-09-14T18:17:39Z,roryk
ff1ed6c2b6d900ac8f9893329d48c538c5cdfb03,roryk,rory.kirchner@gmail.com,"Add `--enumerate` flag to OptiType.

This will return the top 10 matches for the HLA type from the data,
which can be helpful when deciding how confident we should be in the
calls.

I ran this on the NA12878 trio and it called the same HLA types as
this paper
(https://bmcgenomics.biomedcentral.com/articles/10.1186/1471-2164-16-S2-S7/tables/2),
but the scores were pretty minor between the top and second highest
hits.

See https://github.com/FRED-2/OptiType/issues/89 for a discussion of
why we turned on the `--enumerate` option.",2020-09-14T17:31:45Z,roryk
da343cb988a90cdc92a790d77fb674fda99ccde1,roryk,rory.kirchner@gmail.com,"Bump MACS2 default RAM up to 16G.

Thanks to @lubinskibu and @diderote for suggesting bumping this up.",2020-09-11T18:12:56Z,roryk
222f38e4acd1a2efc510d97788b93629a803f498,roryk,rory.kirchner@gmail.com,"Speed up HLA calling for panels.

    Changes:
    - Do not use bwa-kit postprocessing during fgbio UMI collapsing if HLA calling
      is turned on. This should speed up panel sequencing.
    - If running a panel with UMI with HLA calling turned on, use bwa-kit
      postprocessing just for the HLA calls not for the main alignments.

    Unchanged behavior:
    - If running a non-panel with HLA calling turned on, use bwa-kit postprocessing for the main alignments.
    - Don't run bwa-kit postprocessing if HLA calling is not turned on.*

    * This can cause false positive germline calls in the ALT regions. See Oliver's
    post here (https://github.com/bcbio/bcbio-nextgen/issues/3069).",2020-09-08T21:01:36Z,roryk
3396ac4957654367dfaeaac6302c10258234867e,roryk,rory.kirchner@gmail.com,"Use HLA bam if it is available.

This let's us align with and without the HLA adjustment from bwakit
and still use the HLA adjusted BAM files for Optitype.",2020-09-08T21:00:46Z,roryk
ca921b34f6075e8ad18e17d954fc8dbff82df342,roryk,rory.kirchner@gmail.com,"Separate alignment for HLA typing with UMIs.

If HLA calling is turned on and the sample uses UMIs, we should not
propagate bwakit-altered alignments downstream as it introduces
artifacts in high coverage panels.

(see
https://github.com/bcbio/bcbio-nextgen/issues/3069#issuecomment-601439735)",2020-09-08T21:00:46Z,roryk
d6c763d4d185ca1d1aa9dcb5e3257c40f6f76288,roryk,rory.kirchner@gmail.com,"Allow custom options to be passed to featureCounts.

Thanks to @skanwal for the suggestion.",2020-09-04T15:11:56Z,roryk
481687f638d2128ce837608df507da1ea8259117,roryk,rory.kirchner@gmail.com,"Use unique temporary directories when running tests.

Having everything run under `/tmp/bcbio` runs into permission issues and
has some race condition problems when multiple people are running tests
on the same filesystem.",2020-09-04T14:42:28Z,roryk
88f93feb896461f2df16537f725c0e9b3683b11b,roryk,rory.kirchner@gmail.com,Add TOPMed support to documentation.,2020-09-04T01:31:28Z,roryk
cdb3be58e9214151f1bbba328574b8a9a7136bdb,roryk,rory.kirchner@gmail.com,Add TOPMEd as a data target.,2020-09-04T01:24:58Z,roryk
57b81c7e39f437ef2bf85cbc5a775069c1852cca,Sergey Naumenko,naumenko-sa@users.noreply.github.com,accept dragen umi fastq (#3334),2020-09-01T19:00:23Z,naumenko-sa
b0b262fca7c17bd3f2e34f89e035cccfea12debb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update installation.md,2020-08-18T20:19:04Z,naumenko-sa
3db22c48b2b1e26f996d7acafda06b3ac4c40330,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"add af_gnomad_only resources to tumor only variant calling with mutect2 and purecn (#3324)

related to #2873",2020-08-13T01:12:29Z,naumenko-sa
3697339a469bb9a8de257c71eaf34f4f8363e913,roryk,rory.kirchner@gmail.com,"Use transcriptome_gtf if set in more places.

Thanks to @skanwal for pointing out some missing places.",2020-08-12T17:24:42Z,roryk
d5ebf5ae23c4cf22b741756d5637785ebebc7c6c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,documentation fix (#3323),2020-08-12T14:32:23Z,naumenko-sa
681f86c94175c3f6f1d7688a1badaeb5765f1f45,roryk,rory.kirchner@gmail.com,Add predicted transcript and peptide output to arriba output.,2020-08-07T13:53:01Z,roryk
5cb690e37fea8911e0d58b5214190815d11cd9a8,roryk,rory.kirchner@gmail.com,Update HISTORY.,2020-08-06T17:03:20Z,roryk
dc25ad0b27c8993a7e461abdb540b98c734ec696,roryk,rory.kirchner@gmail.com,Add mm10 as a supported fusion caller from arriba.,2020-08-06T17:02:13Z,roryk
dd32d1535028a4b68e4a7e41991f49a2be3a6007,roryk,rory.kirchner@gmail.com,"Add check for invalid version flags.

Closes #3316. Thanks to @gis-nlsim for bringing up the issue.",2020-08-04T18:11:00Z,roryk
7a22b6eadde805320477545bfe9ecb6f4c290f8e,roryk,rory.kirchner@gmail.com,"Skip bcbioRNASeq for more than 100 samples.

With many samples the plots become useless to look at, so skip
making them.",2020-08-04T17:42:31Z,roryk
c4fe472ce3b3bea282b61c505368061ba367e1a3,Ilya Sytchev,isytchev@hsph.harvard.edu,"Add option to preserve test output dir between test runs (#3302)

* Preserve test work dir between test runs

* Add option to keep test output directory between tests and simplify test conf

* Revert changes to development doc

* Remove BCBIO_TEST_DIR env var from Vagrant config

* Update .gitignore

* Replace SOURCE_DATA_DIR with BCBIO_TEST_DATA_DIR

* Reduce test log output when downloading test data

* Create test dirs in the right order

* Remove the whole test dir tree at the end of testing session",2020-07-31T15:23:54Z,hackdna
34d3e1a2343494dab19fda787ffd13d10fb5d9ba,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update intro.md,2020-07-29T15:00:11Z,naumenko-sa
a4fec198d2af54a25e4f8f734efbfc1ad2507b59,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update intro.md,2020-07-29T14:49:34Z,naumenko-sa
1687987e1ca0e4b2ab0f3f785a7f6981ea216371,roryk,rory.kirchner@gmail.com,"Look up full mosdepth via get_program()

This is the idiomatic way to make sure we are calling the
bcbio-installed version of the program.",2020-07-27T14:59:25Z,roryk
faeea45fa018b3464f07623bc8519712218714a3,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation benchmark,2020-07-27T12:15:26Z,naumenko-sa
1eddc55067baf03923a6e19e365c9809ed948f51,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation benchmark,2020-07-27T00:43:10Z,naumenko-sa
6f0e5407f51a18df09eb1038329156f084ed1433,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-23T19:23:51Z,naumenko-sa
78252db22fad37705e47cedbd65d5375120fc44c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-23T16:20:47Z,naumenko-sa
278aa61a765ad872fc24c305a8754adf74fe82f3,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update ataq.md,2020-07-20T15:15:16Z,naumenko-sa
2ef0c2bdae5aa069df3125b1eaccb76ceabd4eed,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] create chip_seq example,2020-07-20T15:12:28Z,naumenko-sa
e4eb73a2d660bd50a40f8606bc879024f4c2a75f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,remove samtools sort -n which breaking bismark for some samples (#3310),2020-07-20T14:12:59Z,naumenko-sa
42e94c8d33966693175a0d2bb6d3daa213c523db,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update single_cell.md,2020-07-17T16:00:09Z,naumenko-sa
f248f3a38ec38fd990f7f9ed94e4275ebc7b355d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,remove picard bam processing in bismark pipeline - causes issues with extractor (#3306),2020-07-17T01:41:43Z,naumenko-sa
c7eb327bdc998ce5ddbbc5e522de251061f84246,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-15T17:39:57Z,naumenko-sa
386b03398b2710ca15cc5c3bec9c9bcbe90df466,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update methylation docs (#3303),2020-07-15T05:29:16Z,naumenko-sa
af2d9319e4b5baa9dab39e477c5f50846826b006,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-15T00:38:54Z,naumenko-sa
2717e769235024170f124938dfceffad93da1d15,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-15T00:33:09Z,naumenko-sa
fc23f5784d19bb11617c88448c6c8d5f3869fd6a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-15T00:06:29Z,naumenko-sa
382c2d1fe6f868fa6cf71c9498ee84af684a497b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-14T23:57:06Z,naumenko-sa
80d8a7a34036539184990b42587cae64174c9dca,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-14T19:56:17Z,naumenko-sa
bca651d7297ab8f5a817408d98cddf2cba0ff017,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-14T19:53:31Z,naumenko-sa
0b8382a51727047f9010590d0ffdb2b3f8b8caf0,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-14T19:43:35Z,naumenko-sa
a76613ab31b25574d3877bbf873a83fc7995f22c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-14T19:40:23Z,naumenko-sa
19aeb2b181ddbee32ec99f128d75c68d3d60157f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-14T19:36:02Z,naumenko-sa
193a1cccf56e696fe00fdff589c92a342d40eac9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update methylation.md,2020-07-14T19:32:46Z,naumenko-sa
0570a605a38896bf94b5fc435fe62262a46f0893,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation.md,2020-07-14T19:29:49Z,naumenko-sa
6e69e267019541400e97cb15ce61a4ffafb57016,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update methylation doc,2020-07-14T18:52:45Z,naumenko-sa
457b5ad1b7dcede4c518f7fe0ea7e605fc960de3,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update bulk_rnaseq.md,2020-07-14T17:37:06Z,naumenko-sa
205e48910625429bf0914298eac813c50cf74337,Sergey Naumenko,naumenko-sa@users.noreply.github.com,bismark and bowtie parallelization (#3301),2020-07-14T15:46:35Z,naumenko-sa
adb8baf79c65304d59a2001cf57781ef64c86d31,Ilya Sytchev,isytchev@hsph.harvard.edu,"Skip Travis CI builds if only Markdown files were changed (#3295)

* Skip Travis CI build if only Markdown files were changed

* Exclude temporary test data dirs from version control

* Rename py.test to pytest",2020-07-09T15:29:48Z,hackdna
709ffbcebe7fccbd8aa7ca1ae4d2a20190ac6a69,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update configuration.md,2020-07-07T20:46:33Z,naumenko-sa
31808ce1d48fedcc332f5d61ec8375df338e3501,Ilya Sytchev,isytchev@hsph.harvard.edu,Reduce output from wget in Travis CI logs (#3293),2020-07-07T19:15:21Z,hackdna
7b6dcc0947847b6703d8bb977763570647592971,Ilya Sytchev,isytchev@hsph.harvard.edu,Document remove_lcr parameter (#3292),2020-07-06T19:18:06Z,hackdna
c8ab6e542536b2fa394badae95daafd15868fbb0,Ilya Sytchev,isytchev@hsph.harvard.edu,"Resource requirements (#3290)

* Update disk space requirement for tools-only installation

* Add tools-only installation resource requirements

* Add resource requirements for an example data upgrade

* Update install section",2020-07-06T19:17:30Z,hackdna
abcdaa7a737377a074279054bfba6eb1fbca85a9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,close #3277 and biopython/biopython#3015 (#3285),2020-06-29T18:52:59Z,naumenko-sa
3c3bf42ad1dc6e2d4801140958140a8aabefe952,Ilya Sytchev,isytchev@hsph.harvard.edu,Add formatting hints to the GitHub issue template (#3284),2020-06-29T17:47:55Z,hackdna
07e3c506c329e616a6b4f9a21286934e7b22ec73,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"write gatk-cnv.pon.hdf5 in final/project (#3274)

* write gatk-cnv.pon.hdf5 in final/project

* quick fix",2020-06-26T03:34:02Z,naumenko-sa
7c606696c62696aff4e28e196d7514fb80b16a3b,roryk,rory.kirchner@gmail.com,"Add rRNA_pseudogene as a rRNA species.

For Ensembl build 100, there are 554 genes with `rRNA` in the biotype, 500 of
which have the biotype `rRNA_pseudogene` so we are underestimating
rRNA content by excluding those.",2020-06-25T15:32:29Z,roryk
ee582ce773e4197a91aaf651165ce78f107079be,Rory Kirchner,rory.kirchner@gmail.com,Update HISTORY.md,2020-06-23T11:23:04Z,roryk
95dee72403ae4a8a49055b72f752a52f610e6e1d,Rory Kirchner,rory.kirchner@gmail.com,Update HISTORY.md,2020-06-23T11:21:55Z,roryk
94a546dee79830b15ed4cbde0a3e856ed78a413d,Kerrin Mendler,mendlerke@gmail.com,"WGBS pipeline improvements (#3273)

* Get fastq trim settings from the kit specified in config

* Add support for AccelSeq kit, update docs

* Get additional parameters for bismark command from config

* update bs pipeline and uploading part to deliver results in the final dir

* Add support for the NEB Emseq kit

* Update default trimming parameters for AccelSeq kit

* Enable multithreading in trim_galore

* Improve calculation for parallel processed samples

* Permit addition of other options in bismark command

* Consider kit directionality in bismark alignment

* Fix directionality parameter logic

Co-authored-by: naumenko-sa <evolgenomicslab@gmail.com>",2020-06-22T15:15:02Z,kmendler
a0d2480e86b3ab79aaed96343b91bafb0482a7d1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update cnv pon doc,2020-06-21T19:09:52Z,naumenko-sa
788f78531ef4189622f48734f020232f0ae33b70,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] align somatic annotation with dbsnp-153,2020-06-20T16:43:52Z,naumenko-sa
52e812be5db5bd009e80993120986bbb4b52b4fc,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update kraken doc,2020-06-20T14:57:17Z,naumenko-sa
0022dbe5dacf35496483b1ca694dab22dfd47cfe,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update custom genome configuration,2020-06-16T01:20:24Z,naumenko-sa
c7eab60cf155f57ba9c83567c895fc4fa9114b2a,a113n,allenyuchishing@gmail.com,"Corrected the omission of *-resources.yaml (#3266)

resources.yaml is required to be included as secondary files in order to run the postprocess_alignment_to_rec and prep_samples_to_rec steps",2020-06-14T18:48:05Z,a113n
321870a89882fb7cf8b405afcdc36c445c85ffd0,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update somatic_variants.md,2020-06-12T05:16:49Z,naumenko-sa
25444767912e46d2f5d0e3b99696646a73b2d17c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update somatic_variants.md,2020-06-12T05:13:52Z,naumenko-sa
b63f6ca2c9e14d7d347f060d21f4b134bec82da3,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update somatic_variants.md,2020-06-12T05:08:45Z,naumenko-sa
336920a630d7f50b341eeeb4bad4ea6ab213f995,roryk,rory.kirchner@gmail.com,"Use --genomicsdb-use-vcf-codec for GenotypeGVCFs.

Closes #3263.

This problem is being tracked at https://github.com/broadinstitute/gatk/issues/6548
along with some discussion here https://gatk.broadinstitute.org/hc/en-us/community/posts/360060283092-GenotypeGVCFs-java-lang-NullPointerException.

When it gets fixed or we get some guidance about when it needs to get enabled we
can be more selective.",2020-06-12T00:55:55Z,roryk
71b00f5ad9f30b2aaf6daaa8bf6a4c5812b26cfa,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add bisulfite sequencing results to the upload directory,2020-06-11T00:09:41Z,naumenko-sa
4bed5cb5f2fc7b85c55e7bd1a069fc28ec4d539c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update docs - installation.md,2020-06-11T00:02:50Z,naumenko-sa
115209f5ef04250cf22c8f577cef76106dfde124,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3257 from bcbio/germline-doc-update

Add memory requirements for whole genome trio workflow",2020-06-08T16:25:45Z,naumenko-sa
4b3af26bd49782e82a537afd7faf683a4affb397,Ilya Sytchev,isytchev@hsph.harvard.edu,Add memory requirements for whole genome trio workflow,2020-06-08T15:26:39Z,hackdna
a9ad324f937eb8f316806fbd34948530342072de,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update somatic_variants docs,2020-06-05T01:22:01Z,naumenko-sa
b7c14ab68d58a57ee239c3a9d51d90783ccfd5af,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update structural variants doc,2020-06-02T17:04:28Z,naumenko-sa
be54a053f05a0f379e6244b00e13bddfb3c30083,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update cnv documentation,2020-06-02T14:39:42Z,naumenko-sa
5bfcf40f84a1bc8b02b4931f9d15b9ad07360b2a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update CNV documentation,2020-06-02T14:31:20Z,naumenko-sa
5b4882e55036f9ef86921f4c15f85d91b78fd90a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix encoding error when decoding pon.hdf5 from gatkcnv (#3251),2020-06-01T11:46:44Z,naumenko-sa
ca32afae8fad011cb7d9635fb50543988429bc8b,Ilya Sytchev,isytchev@hsph.harvard.edu,"Clean up CI configuration, installer and tests (#3248)

Testing wise, this introduces the xfail tag to disable some tests that were failing, some are ones that we're expecting to fail but ATAC and ChIP-seq we're expecting to pass though so we'll fix those.

This modernizes the .travis.yml, pins the travis testing to a specific miniconda version and relaxes some of the time constraints to hopefully avoid timeouts when running the CI.

Finally this ensures conda-forge is highest priority on the channel list during installation, following the bioconda recommendations.",2020-06-01T11:46:03Z,hackdna
59bc9f5c62b5c046ae3c7e334dea23778f3a996e,roryk,rory.kirchner@gmail.com,"Add note that HLA typing requires bwa alignment.

Closes #3252. Thanks to @rkendar for the question and to
@chapmanb for the answer!",2020-06-01T11:36:04Z,roryk
2f13423f1432f819b75d301dc7b5048fbb4ef935,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update history,2020-05-31T05:07:40Z,naumenko-sa
e4e31a291f97923c315b4804b40eebf113f8de23,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3249 from matthdsm/update/vep100

bump resources to vep 100",2020-05-31T05:06:29Z,naumenko-sa
563ec3b973ee4e623c0d311abd75a4e1abc40d0e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update CNV PON doc,2020-05-30T14:56:53Z,naumenko-sa
b0ab2dc563c846a3f323471473774a13051027f6,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] updated cnv docs,2020-05-30T13:20:55Z,naumenko-sa
5a80d14765c711b86f2e3ddc001487637ea1064a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] added ataqv citation,2020-05-29T16:26:16Z,naumenko-sa
843658feacf61f34eaed6c4412aad5cb9fef4cba,Matthias De Smet,matthias.desmet@ugent.be,bump resources to vep 100,2020-05-29T11:48:25Z,matthdsm
710a50875103cdab78bd88c2b946f089012e41bc,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update citations,2020-05-29T03:06:49Z,naumenko-sa
7f0e9a8d7ece31eb4f6a72a6d9addbcc7fbc4fb5,Ilya Sytchev,isytchev@hsph.harvard.edu,"Pin Miniconda version to make installer code simpler and more robust (#3246)

This should help prevent issues like https://github.com/bcbio/bcbio-nextgen/issues/3240 from cropping up.",2020-05-28T19:28:53Z,hackdna
f63ef6f55dad6e82fe36c9d234c83d985baf3301,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] referenced a new SV benchmark in SV US,2020-05-28T02:37:22Z,naumenko-sa
2d9233de0bdaa34788ee13f6f155cd1fc4067515,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3245 from bcbio/update-python

Update Python to version 3.7 in the installer",2020-05-28T01:04:21Z,naumenko-sa
ab0e102841dd82e0e378c1ec6a39cdf807e33ae6,Ilya Sytchev,isytchev@hsph.harvard.edu,Add comment to explain why TARGETPY is used in the installer,2020-05-27T22:03:33Z,hackdna
218d16fee5ba8fbd6db009700e62619f29d2637a,Ilya Sytchev,isytchev@hsph.harvard.edu,Update Python to version 3.7 in the installer,2020-05-27T21:30:27Z,hackdna
d71512d35709641f5668701cf23d6514ee5f1877,roryk,rory.kirchner@gmail.com,Add description of how to cite bcbio in documentation.,2020-05-26T16:04:50Z,roryk
998c1bc69d42302695a149878b20d75f15a665e5,Rory Kirchner,rory.kirchner@gmail.com,"Use Zenodo general link

This lets us more easily track citations to bcbio, since this link is designed to cite all versions.",2020-05-26T16:00:25Z,roryk
3e9a207ccf86337c84192bc5b7601019cc25de0f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3236 from mmoisse/patch-3

Possible fix for #3235",2020-05-25T17:05:47Z,naumenko-sa
1805806cba686099a75f911b38f10eef0466e1ed,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3215 from bcbio/remove-ngsalign-test

Remove empty unit test module ngsalign",2020-05-25T14:58:14Z,naumenko-sa
d11e231ee2bc84b6b637fd7f139730f2598649a8,mmoisse,mmoisse@users.noreply.github.com,"Possible fix for #3235

Possible fix for #3235",2020-05-24T19:45:23Z,mmoisse
48978d94191947b58e2c3b5acf74e0b98ba595a4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update installation.md,2020-05-22T03:58:40Z,naumenko-sa
f28aa704684b010bb43c3521298ddd906dc190c1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update cwl,2020-05-21T15:02:12Z,naumenko-sa
d2551cc0c53ae6463fc7a5131a203484a5b8c9e5,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update cwl.md,2020-05-21T14:59:54Z,naumenko-sa
24713177e6da51f4c27a765cfcbb2d6e064171d8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update configuration.md,2020-05-21T14:57:12Z,naumenko-sa
312d6c590e4989d6af0a455b61aa9b2b6aa46f5c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update installation.md,2020-05-21T14:54:14Z,naumenko-sa
aaf22324921b948752b117db963bf0253e853d6a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] add real world T/N yaml with gatkcnv,2020-05-19T18:57:48Z,naumenko-sa
d2ad43ee30c68e4dfc2d1fa89992bb30d7a59520,roryk,rory.kirchner@gmail.com,Add kit option to datadict.,2020-05-19T16:33:06Z,roryk
91def22765b123f859bd0984a2077d6d3eb3e7e9,roryk,rory.kirchner@gmail.com,"module-specific configs go behind custom_config

This was causing the `write_general_stats` configuration to be ignored
by MultiQC. Here we restore the intended behavior, showing just the
somatic calls in the general stats table, deferring display of the
germline calls to its specific submodule.",2020-05-18T19:19:47Z,roryk
d85a94d115fcf923de27c6630ce79a88a29a4f8d,roryk,rory.kirchner@gmail.com,"Explicitly use the MultiQC config file.

It helps to be explicit here, if we need to reproduce the multiqc
command that was run.",2020-05-18T19:19:47Z,roryk
8e6d67da69c0aa34e5899f35e0b5c9eb3d457328,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update installation.md,2020-05-17T04:55:33Z,naumenko-sa
80568b9584e1931591a2a4dbcbb121ca9954809a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-05-16T01:36:48Z,naumenko-sa
d615e3f22086481139567e966c576ea389bc5ac4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix somatic_variants.md,2020-05-16T01:06:14Z,naumenko-sa
29ec2d65d2e5c6bd326edfbc1da15d951c244ecb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix intro.md,2020-05-15T19:32:36Z,naumenko-sa
b578bcbb581ef336d8f019fa1614290300b8249b,Ilya Sytchev,isytchev@hsph.harvard.edu,Update Travis CI badge to track builds on the master branch only (#3222),2020-05-15T18:49:35Z,hackdna
c29eddd0e4fc59fe4c73d6a77035fe62cbc260ad,roryk,rory.kirchner@gmail.com,Don't add rRNA and RiP when they aren't calculated for a pipeline.,2020-05-15T18:36:34Z,roryk
304332b8addf123d26691bb7ce715333a9359e07,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update intro.md,2020-05-14T20:29:10Z,naumenko-sa
aca7969f1bed41aab0b96803fad7130b6ac2199f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T20:01:04Z,naumenko-sa
ca416baa35848187e9eb95431e1b6298c07709f6,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:58:08Z,naumenko-sa
4843b4fbe68a6426bf1409aa60684231d3824dfe,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:51:29Z,naumenko-sa
e92cb3700e53dedced0d7390490ea4631f04e04f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:48:40Z,naumenko-sa
272ecd6fda4804b6c3ff9f13535a237f90d56aec,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:44:29Z,naumenko-sa
f464f4a517d8c8f47034a2eb319cca3c4ddb6e1a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix germline_variants.md,2020-05-14T19:41:34Z,naumenko-sa
483f955e53f7fd3f617837f5a01f0b2763b4760d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:36:13Z,naumenko-sa
8b2d13fa2b5b78e620ccdbc1f680f08d08e9cf7d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:33:03Z,naumenko-sa
20bb95a54b20b49f409b2d12ea4e33665b406b1a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:30:49Z,naumenko-sa
e75f59b2981b8fa92b8fb31cca0a899ec554fca8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix germline_variants.md,2020-05-14T19:25:53Z,naumenko-sa
a3da1ffa80cfde2510df135236b0959fefcc552d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:19:20Z,naumenko-sa
4404ce6c22f4cca04e106149c903aaaa3012e27f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T19:14:35Z,naumenko-sa
131b1a5740a013fbcb406a8210cae8b69e587bb5,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T18:57:11Z,naumenko-sa
49a12667650a3f26a4c1ddb4caa07c86bb72d3cc,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T18:44:39Z,naumenko-sa
0440bf6dab9d8b27cb3f011cea0984d4f3e16159,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update users.md,2020-05-14T04:19:51Z,naumenko-sa
1d061d1dd2189ca71ddc5ebb5a6e8f831dcbb12d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T04:17:00Z,naumenko-sa
a4f4e4abe5a56b1296c3ce39acfe40d2b502ffcb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix parallel.md,2020-05-14T04:10:08Z,naumenko-sa
cd6ceb1a822462df87ee47f74b4c38092b2f7a1f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix somatic_variants.md,2020-05-14T04:06:59Z,naumenko-sa
caaaa356289affef49c6ecd15ac22d8142cf2c55,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix somatic_variants.md,2020-05-14T04:02:05Z,naumenko-sa
f9e1497d1e90a888353c66845440b70d788c1477,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] fix small_rnaseq.md,2020-05-14T03:57:52Z,naumenko-sa
17bbe2e9b86742013e8766459fdd9d22ec78ed7a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update installation.md,2020-05-14T03:55:35Z,naumenko-sa
96d857f9fbcdc9b96d1a6a6a97675b9bce242e56,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update installation.md,2020-05-14T03:53:12Z,naumenko-sa
038c1c4b297cb5f43fb27475b2ad68be4ec860ac,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update germline_variants.md,2020-05-14T03:48:46Z,naumenko-sa
2fceb65dcf7c3632311e0b6e5b52a2cd41245883,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update configuration.md,2020-05-14T03:33:07Z,naumenko-sa
26ecfce3aef48638fb77702021e7a2e92d7bf3fe,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update configuration.md,2020-05-14T03:30:07Z,naumenko-sa
906deeb6b76a9e1d3153718fb454671d43e53f23,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] delete pipelines.md,2020-05-14T03:26:49Z,naumenko-sa
20b6f44725f069cf5b7762280b93fb3ee749e37b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3221 from naumenko-sa/user_stories2

[skip ci] update user stories",2020-05-14T03:21:59Z,naumenko-sa
481625c3e75e8641919e798718e109af3794dc55,naumenko.sa,evolgenomicslab@gmail.com,[skip ci] update user stories,2020-05-14T03:19:53Z,naumenko-sa
e5e874135118e631486ab4fe40926cd23accebd5,roryk,rory.kirchner@gmail.com,Fix malformatted 3' DGE tag.,2020-05-13T19:59:58Z,roryk
5fc2767308801b4b2dccc521eb79748977cbd272,roryk,rory.kirchner@gmail.com,Fix warning in ATAC-seq userstory documentation.,2020-05-13T19:49:45Z,roryk
a7410186ccf4ea3a9a72a8fe4cd0598c74a4e71a,roryk,rory.kirchner@gmail.com,Add ATAC-seq user story.,2020-05-13T18:25:29Z,roryk
619aad991da318e92c9f5e72a0e7a9c064731b52,Ilya Sytchev,isytchev@hsph.harvard.edu,Remove empty unit test module ngsalign,2020-05-13T16:29:22Z,hackdna
459e92cfa29749501ce8739c0122872e914def8a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-05-13T05:00:58Z,naumenko-sa
9753ffd1de6bbbaa387d3601ebe59b97ec063dce,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-05-12T21:12:55Z,naumenko-sa
b14b5d046b9d1ade58661a8e3dec89e4b70aaa8c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-05-12T20:47:59Z,naumenko-sa
758df7b3d103045f517acf975f842fe39d71f413,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-05-12T20:37:52Z,naumenko-sa
747045809e493a5cca0dad0ec4ff053afafd6708,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update NA12878.validate.sh,2020-05-12T20:05:16Z,naumenko-sa
fd0ebf8740b3df0d1ca682ba4a1ea1617c5b8268,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update NA12878.validate.sh,2020-05-12T19:48:52Z,naumenko-sa
dabf9f7674ec0ae5c3b70d21d53836d3c65ba0ee,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update installation.md,2020-05-12T19:02:54Z,naumenko-sa
50bfd9ebd0d2609f29a1a949c7bce790475e9208,roryk,rory.kirchner@gmail.com,Fix typo.,2020-05-11T23:11:34Z,roryk
7b490a3ad15153a0c3a72aed04605124db7527de,Sergey Naumenko,naumenko-sa@users.noreply.github.com,dont use HaplotypeCallerSpark for RNA-seq variant calling (#3214),2020-05-11T23:10:10Z,naumenko-sa
72b474c659c88ce3bc7d5c8697cb658501c220c5,roryk,rory.kirchner@gmail.com,Move featureCounts counts to their own directory.,2020-05-11T14:57:17Z,roryk
a6edbe5be82fb6ecbc01ba99adf92056322797eb,roryk,rory.kirchner@gmail.com,Produce ENCODE metrics for single-end data.,2020-05-11T14:07:28Z,roryk
ff93542a9b246abaacfdcc7c96bba7b19edcb623,roryk,rory.kirchner@gmail.com,"Handle large amount of BED solutions for consensus calling.

Here we merge as we go instead of at the end, to get around
having a command line too long.",2020-05-11T14:07:28Z,roryk
e732ee34b52ebf02eb20c64a9f500d6567c60968,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-05-11T02:29:43Z,naumenko-sa
81c27d4c8b8d3909148a08852c5d784e8e7f293b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3212 from limbus-medtec/improve-docs

Make installation instructions consistent",2020-05-10T16:20:12Z,naumenko-sa
9681a26c91e21586a4b9b80a3d9991f9b8aa419a,Rolf SchrÃ¶der,rolf.schroeder@limbus-medtec.com,[skip ci] Update installation.md,2020-05-08T07:18:23Z,rollf
26b0d744235686dbbfdf5c74302c1b2e91d5848b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-05-07T21:33:05Z,naumenko-sa
60c36ef3b88763cb3ddaaabcbb14c4e4df992840,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-05-07T21:27:43Z,naumenko-sa
d90b8ac2b2c45727c89eb2ec2eafd13b12b90db4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update output.md,2020-05-07T21:23:39Z,naumenko-sa
55d3f044faef54c214d2f2dd8b09e3606daf800a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-05-07T19:13:22Z,naumenko-sa
b42c158dd558abe9b6f169efe4774622b7f6bc38,Vlad Saveliev,vladislav.sav@gmail.com,"Viral content: report the number of reads and the percentage of reads (#3211)

https://github.com/bcbio/bcbio-nextgen/issues/3154",2020-05-06T17:19:56Z,vladsavelyev
bfb74edec132d8bc47d72840d9cd978996f04f29,roryk,rory.kirchner@gmail.com,"Support single-end reads for ATAC-seq.

While not ideal, there are some datasets for ATAC-seq that are single
end. These fixes make it so we can handle these datatypes.

The main problem with single-end data is we can no longer estimate the
NF/MN/DN/TN fraction and have to call peaks on the full BAM files. We
are also unable to calculate the ENCODE quality control metrics, nor
does ataqv produce as many useful metrics.",2020-04-30T20:52:02Z,roryk
654b412997e33ddc9d9e23a7905e3f895435c678,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update configuration.md,2020-04-30T20:20:35Z,naumenko-sa
023dd49532085560af53a13fcf4ad3666b93c4ab,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-04-30T19:54:49Z,naumenko-sa
96d107f8f0d5bc57384d01802a860731bec922e6,Ilya Sytchev,isytchev@hsph.harvard.edu,"Conda install cleanup (#3208)

* Remove _get_conda_channels() and install_conda_build()

* Configure Conda channels via .condarc",2020-04-30T16:04:27Z,hackdna
c907707880959442b4a43f71b68ea88927984c29,Ilya Sytchev,isytchev@hsph.harvard.edu,Fix VM installation instructions and remove Python 2.6 from requirements (#3205),2020-04-30T15:48:00Z,hackdna
32480561680d3d1603ea2c4bc2363f456f2fc51b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-04-29T15:20:26Z,naumenko-sa
1e627c016316203ace2ce9a025c7e69b2caf877f,roryk,rory.kirchner@gmail.com,Support single-end reads for ATAC-seq.,2020-04-29T14:29:24Z,roryk
3c8cb302a66546fce566068eb1c60ca0ede5ed3d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-04-29T13:55:02Z,naumenko-sa
df1b1e54f774f839d577f6ef0257116f47183d2f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-04-28T19:18:51Z,naumenko-sa
a70d711f052c948f754458bba6c40b351c77a37e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-04-28T19:12:54Z,naumenko-sa
3ce1852e21b7577895e79c1b08072edbb765e3a8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update index.md,2020-04-28T19:08:41Z,naumenko-sa
ee2b3960c45f479fed4609c9c823bf37cab6e02e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update 3prime_dge to pass build,2020-04-28T19:06:13Z,naumenko-sa
4810d53b4d84df7cefe49679fb219b147b0b326e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update outputs.md,2020-04-28T19:01:24Z,naumenko-sa
3c92264f2aa5ea8c5e865e6e28ce4095e6b94c5f,roryk,rory.kirchner@gmail.com,Add 3' DGE user story to TOC.,2020-04-28T15:54:25Z,roryk
1115453d9657bfbf9be7c33bf6c8647130dc9411,roryk,rory.kirchner@gmail.com,Add 3' DGE user story.,2020-04-28T15:51:27Z,roryk
90facf2c6b2cabc4f5f50c5c457b6ffba4c8b00c,roryk,rory.kirchner@gmail.com,Remove reference to bcbio.rnaseq.,2020-04-27T20:31:06Z,roryk
d95b9998758b0c9fe9519703e61e9401eee87125,Rory Kirchner,rory.kirchner@gmail.com,Fix typo in vagrant documentation,2020-04-27T15:01:40Z,roryk
fc33ed6fb5b2d586f648825cf1e97b6c7d366e8b,roryk,rory.kirchner@gmail.com,Fix typo that was breaking ChIP-seq consensus counts.,2020-04-27T13:28:47Z,roryk
a9b042b2c6a0ce9706dc42895e71a739a7837d5d,roryk,rory.kirchner@gmail.com,Add note about ataqv report.,2020-04-24T21:02:03Z,roryk
9dc9cf6bfa1173f380a398ac0637330d3030eb5a,roryk,rory.kirchner@gmail.com,Add ataqv report to upload directory.,2020-04-24T21:01:28Z,roryk
c9217a731b798dee003f0acbf95c727653322350,roryk,rory.kirchner@gmail.com,Make ataqv report automatically.,2020-04-24T21:01:28Z,roryk
816cb374ae10cdbdfe0308cc1396890c00d560ec,Ilya Sytchev,isytchev@hsph.harvard.edu,"Installer cleanup (#3200)

* Cleanup installer docstring and remove Python 2.6 compatibility

* Cleanup installer docstring and remove Python 2.6 compatibility

* PEP8 fixes

* Remove unused local variable mamba from install_conda_build()

* Remove remaining unused variables from install_conda_build()",2020-04-24T14:45:00Z,hackdna
c02d1d59d6cab144a1b184ad68db22c8efbe990e,Ilya Sytchev,isytchev@hsph.harvard.edu,Add Flake8 as a development dependency (#3198),2020-04-23T20:01:14Z,hackdna
2b22f3f42b4914099886fdc32dd7db53862c027c,Ilya Sytchev,isytchev@hsph.harvard.edu,Update version info in release process doc (#3199),2020-04-23T20:00:47Z,hackdna
b171c53b885f6ef01f6e0593ff1af26f59c20d0e,Ilya Sytchev,isytchev@hsph.harvard.edu,Remove zlib1g-dev APT package and add comments to Vagrantfile (#3193),2020-04-22T15:59:22Z,hackdna
28fe4632008159c5ef04ddb0c8ce82f1fbe052ec,roryk,rory.kirchner@gmail.com,Add ataqv tweak.,2020-04-22T13:55:08Z,roryk
d6351d02c96b26340407d5702b99827eaed38893,roryk,rory.kirchner@gmail.com,"ataqv: Skip using autosomal reference for mouse/human.

This has an issue https://github.com/ParkerLab/ataqv/issues/10 so we
can skip it when we don't need it.

Thanks to @yoonsquared for testing the fix.",2020-04-22T13:54:20Z,roryk
787e4bbafc4c700d58c1fd4d2b601fde0cf796a7,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3197 from bcbio/markdown-tables

Annotate variation results table using eval_rst directive",2020-04-22T02:44:34Z,naumenko-sa
cb31cb46fe6c3466c958123af21ce92e808dd657,Ilya Sytchev,isytchev@hsph.harvard.edu,Add dependencies for building the docs locally,2020-04-22T01:25:46Z,hackdna
835bbb044ae43a437a10c163d5873545340076b6,Ilya Sytchev,isytchev@hsph.harvard.edu,Remove original code block table,2020-04-22T00:46:21Z,hackdna
089235ed927c343c729d35d9b9de12dcf51c91c8,Ilya Sytchev,isytchev@hsph.harvard.edu,Remove unused docs package sphinx-markdown-tables,2020-04-22T00:45:42Z,hackdna
45dd91a50ab4d0ba907afccac0f0877a6486d2ad,Ilya Sytchev,isytchev@hsph.harvard.edu,Add a table using eval_rst,2020-04-22T00:24:12Z,hackdna
7908f6e2a80f907250870248846c7997dd837070,roryk,rory.kirchner@gmail.com,Add consensus peak counting to changelog.,2020-04-21T20:35:40Z,roryk
55ed2b599f6a2da829d4510186c3dd2c5b7b355a,roryk,rory.kirchner@gmail.com,Add consensus peak BED and count file uploading.,2020-04-21T20:35:39Z,roryk
63db0064e9af73355cc5b6aebbe10a15c4532507,roryk,rory.kirchner@gmail.com,Be clear about what the ext option does.,2020-04-21T20:35:39Z,roryk
672c7e60aa5803121a15a4d6d23768f0e5c32a4c,roryk,rory.kirchner@gmail.com,"Add peak counting with featureCounts.

Also creates a peak table for use with DESeq2/limma/etc for calling
differential peaks.",2020-04-21T20:35:39Z,roryk
26c36d868ba30a3ee6655edbb02653aa639f7e60,roryk,rory.kirchner@gmail.com,"Add functions to go from samples <-> data.

It is unclear in the code why sometimes we're returning [data], or
[[data]], etc. This makes it more explicit what we are doing.",2020-04-21T20:35:39Z,roryk
d62a440cd3d1b48d6601631871cf2f0a6e5e3246,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update hg38-gemini.conf,2020-04-21T15:15:34Z,naumenko-sa
1729335c58e3e5ecef08a3c7bcdc47b5f9fabc1f,roryk,rory.kirchner@gmail.com,Add Qiaseq UPX 3' transcriptome support for DGE.,2020-04-17T15:38:25Z,roryk
71af871e1cf3cbbc1b9ee5ee9e68b549849c7da8,roryk,rory.kirchner@gmail.com,Add support for Qiaseq-UPX 384 and 96 well DGE.,2020-04-16T17:07:10Z,roryk
b00d111234719e776c92c9a5f9fea612067d411f,Ilya Sytchev,isytchev@hsph.harvard.edu,"Simplify installation in Vagrant (#3190)

* Remove setup_vm.sh

* Edit Vagrant data dir instructions for clarity",2020-04-16T16:39:05Z,hackdna
c7cc43315479144ad27656fb444580fe39c9794a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3189 from bcbio/naumenko-sa-fix_3188

[skip ci] update utils.py fix #3188",2020-04-14T16:38:12Z,naumenko-sa
ba023e3bcab1cbb2154516a0d22cec727fc738c4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update utils.py fix #3188,2020-04-14T15:36:20Z,naumenko-sa
3f9928f239945c708a19003ace090da413fe3c4c,roryk,rory.kirchner@gmail.com,Add consensus peak note.,2020-04-13T21:27:11Z,roryk
e0cf80e26e1d23637612511699e7605cfd0e663c,roryk,rory.kirchner@gmail.com,Remove placeholder code.,2020-04-13T21:25:55Z,roryk
10600974d0f25d770524dfce8cc5847a083ef895,roryk,rory.kirchner@gmail.com,"Filter peaks by qValue before creating consensus peaks.

We filter peaks by qValue (FDR) here, keeping peaks with a FDR < 0.05.",2020-04-13T21:25:55Z,roryk
c480b4ce34c4d89875f71965ff25af6976dfe755,roryk,rory.kirchner@gmail.com,"Speed up BAM file size checking.

Instead of counting the alignments in the whole file, just count until
we exceed the minimum size we need, then stop.",2020-04-13T21:25:54Z,roryk
1fc955f4e13dbdf87ad0451ee7a86f9b0095508f,roryk,rory.kirchner@gmail.com,"Add consensus peak calling for ChIP and ATAC-seq.

Calls consensus peaks only on the NF fraction for ATAC-seq and
all peaks for ChIP-seq.",2020-04-13T21:25:54Z,roryk
09bd0c7970e870e6075dd89fd62a46345e277527,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3186 from naumenko-sa/fix_3180

close #3180",2020-04-13T21:04:31Z,naumenko-sa
e9ce2971ef179e54a3e351250e10e6a1802baa53,naumenko.sa,evolgenomicslab@gmail.com,close #3180,2020-04-13T20:14:27Z,naumenko-sa
65e0372206b9bb0baddf921b5cd4e655c474ce15,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] docs: update rna_seq_variants.md,2020-04-13T18:19:50Z,naumenko-sa
ad4f47c2ff596dba765b067efa20e2eda9fc6ae0,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"[skip ci] docs: remove sra downloading support

sra toolkit is a standard way to download fastq files from SRA archive (also supports multiple files)
we are not supporting SRA wrapper anymore",2020-04-13T17:34:40Z,naumenko-sa
d7131cd5c99982905aff9a71ba33451733f9183c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-04-13T14:19:19Z,naumenko-sa
f0a3dbba1d59915bcceb276ab5fe4a964b1d46e8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-04-12T02:11:58Z,naumenko-sa
43d21a1f8b2bff3bb02286c4296a2f46ca66c12b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-04-12T01:57:07Z,naumenko-sa
2decff6466dea0c49194ff932fca6f1a4e949ebf,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-04-12T00:52:25Z,naumenko-sa
9c5bc1ae76a84cfc38d9a3b3a76c9d3466644189,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update requirements.txt,2020-04-12T00:06:00Z,naumenko-sa
bb4811cc584105a5a0e0608d9af52ebfe8d5f281,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update requirements.txt,2020-04-12T00:05:29Z,naumenko-sa
035c542472c93d2191365a3c88f220c8adcc2883,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip ci] update rnaseq_variants.md,2020-04-11T23:23:42Z,naumenko-sa
eb4b75d902833e68ccf814858f4a6137f8e74220,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3182 from naumenko-sa/rnaseq_variant_calling_user_story

[skip travis] Bulk RNA-seq variant calling user story and validation",2020-04-11T23:14:23Z,naumenko-sa
4c486c79a93104f95f93f68e9eae691771a4a799,naumenko.sa,evolgenomicslab@gmail.com,Bulk RNA-seq variant calling user story and validation,2020-04-11T20:52:17Z,naumenko-sa
a92fb94e41da43160acc1651ee64c0ffbb8c5264,Ilya Sytchev,isytchev@hsph.harvard.edu,Move utility scripts to bcbio-utils repo (#3177),2020-04-09T15:31:05Z,hackdna
b941cbd05b0823a0eee5bb0d788a9aabf308fc53,Ilya Sytchev,isytchev@hsph.harvard.edu,Update citation info (#3178),2020-04-09T15:30:50Z,hackdna
635d562368dedd6ba15323b91c300752d113468c,roryk,rory.kirchner@gmail.com,"anaconda.org is updated faster, so look there.",2020-04-07T21:51:40Z,roryk
2d6a5bb150ce11342d832c876b92b759c9dfd463,roryk,rory.kirchner@gmail.com,Bump to 1.2.3.,2020-04-07T21:49:04Z,roryk
e4afa60125faf5839b7b2b38f47f923ffa679ae6,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update bulk_rnaseq.md,2020-04-07T20:37:36Z,naumenko-sa
0eabf5457c1548b28a3cd538868c9599188196dd,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update intro.md,2020-04-07T19:15:21Z,naumenko-sa
f0d6a88a882181d0d8b55a1d9ca720f5d0602b35,roryk,rory.kirchner@gmail.com,1.2.3 release.,2020-04-07T16:34:47Z,roryk
5cdb0bc585a50276587a805d9824ac32afdf94c7,Dane Kennedy,kennedydane@users.noreply.github.com,"Cannot sort [str, str, str, None, bool] in python3 (#3170)",2020-04-07T15:30:04Z,kennedydane
f914be67c696fe24e0ac3227688c140266056cd4,Ilya Sytchev,isytchev@hsph.harvard.edu,Enable running CWL tests in Vagrant and cleanup CWL tests (#3173),2020-04-07T15:27:51Z,hackdna
7c5e2b5c02b79cdb481ba8cba91d6d8767277e59,roryk,rory.kirchner@gmail.com,Fix typo.,2020-04-06T20:40:40Z,roryk
54d25cf832c1b47ae1c41fef44f1b2dfcdca864d,roryk,rory.kirchner@gmail.com,"Update release checklist.

Also adds some more documentation about useful flags to set when
running py.test.",2020-04-06T03:34:05Z,roryk
da035d698f943b9bd450e15f170714ab5227c369,roryk,rory.kirchner@gmail.com,Update requirements to 1.2.2.,2020-04-06T01:58:42Z,roryk
4b88065bc26a17819d5e7cb0046837cee3a7584f,roryk,rory.kirchner@gmail.com,Cut 1.2.2 release.,2020-04-05T22:52:38Z,roryk
b09d7559cf82d46595dbf40946fd7b1b3ef29035,roryk,rory.kirchner@gmail.com,Fix typo in tests.,2020-04-05T22:52:23Z,roryk
8bd3f228a00ffb38eeb2d111b420941050423d0e,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #3163 from lbeltrame/fix-purecn-summary

Fix generation of PureCN summary output",2020-04-04T17:51:15Z,roryk
e5a6c09c53c639a83baf9f5db8f36637823a5870,Ilya Sytchev,isytchev@hsph.harvard.edu,"Provision Docker in Vagrant (#3159)

* Provision Docker in Vagrant

* Use absolute paths for all commands in Vagrant bootstrap script",2020-04-04T16:18:44Z,hackdna
e1cd3bcae3be7c484f30126b18b5c29d7d474e6f,roryk,rory.kirchner@gmail.com,Swap back to conda_bin for simple bcbio requirements install.,2020-04-03T19:33:45Z,roryk
51760a5a7f399bd6f087294519fcccb4a86bac59,roryk,rory.kirchner@gmail.com,Fix for nuking the anaconda dict during installation.,2020-04-03T19:04:08Z,roryk
7ebe5636d9cfc546e4cc3e5d3d4b3acd773d8adb,roryk,rory.kirchner@gmail.com,Add conda-build package.,2020-04-03T18:38:11Z,roryk
0eebc0d20347ee2711b9da9e763c4f3bc95bcc21,roryk,rory.kirchner@gmail.com,re-enable mamba for initial bcbio installation.,2020-04-03T18:30:14Z,roryk
4322866b47e181dca0b8f7d6067b277b9dbb8385,roryk,rory.kirchner@gmail.com,Fix typos during switch to mamba.,2020-04-03T18:04:58Z,roryk
c3fdbaba0824a3912568d28cff0bb7078bf0eba9,roryk,rory.kirchner@gmail.com,"Use mamba for upgrading.

This should speed up the docker builds considerably.",2020-04-03T17:18:45Z,roryk
6df4ef6f63d1ad5fa774bcc97e0926e3ee3c2bb8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update pipelines.md,2020-04-03T15:21:02Z,naumenko-sa
73687bf2e1f88669b6b158765b7b3f128a0adc3f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update pipelines.md,2020-04-03T15:17:43Z,naumenko-sa
ad037c3d0ab2fd44c1e4a123c6c32bd4419d4649,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update development.md,2020-04-03T15:13:38Z,naumenko-sa
4687913d29aaa5003f7e8311879a85fa2ab8b939,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update configuration.md,2020-04-03T15:07:35Z,naumenko-sa
8c2b6e5b1a2b0fe4c2b49bca0e889381978f00c2,Luca Beltrame,luca.beltrame@marionegri.it,Whitespace fixes,2020-04-03T09:32:09Z,lbeltrame
aeee51b3172feef40248de28a0e55b8ac5a49e8b,Luca Beltrame,luca.beltrame@marionegri.it,"Fix generation of PureCN summary output

The current code did not check if the copy number values were valid
(some can be NA) and thus it would error out when trying to coerce them
with a float.

The easiest solution, since bcbio already depends on pandas, was to
ditch the custom parsing and use pandas to read the file, and skip lines
with missing values.

As a micro optimization, reading the LOH file was put outside the loop,
to reduce needless I/O.",2020-04-03T09:27:54Z,lbeltrame
ca2c659e249d8a8ea54595a02df9a9ae67867092,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update configuration.md,2020-04-03T01:19:33Z,naumenko-sa
508291a828f9543264a6ccadb0b169108b075d53,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update configuration.md,2020-04-03T00:00:57Z,naumenko-sa
04e0eb4e4c606e338ae38c9ae47dbcbf103cd753,roryk,rory.kirchner@gmail.com,"Rollback 3.7 target change.

Partly addresses #3148.",2020-04-02T17:01:03Z,roryk
75d2cb8663c20cfecb7e179320172549d350b37b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"[skip travis] update hg38-resources.yaml

address #3160",2020-04-02T04:04:01Z,naumenko-sa
158779dc94b92905bd6633973216ae308109a310,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update bulk_rnaseq.md,2020-04-01T22:28:33Z,naumenko-sa
39754c1c6a06bdb63901b8595584dc0552f0a3f4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update single_cell.md,2020-03-31T21:26:10Z,naumenko-sa
3b9dfd39497382a34ea54d8cc2c67e45de03741d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update pipelines.md,2020-03-31T21:25:01Z,naumenko-sa
ad09f502787b0aa355b4b95f27870177b19a3529,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update bulk_rnaseq.md,2020-03-31T21:22:38Z,naumenko-sa
981e2333231f4d028dc535b8d562cad2a3255b8e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update bulk_rnaseq.md,2020-03-31T20:43:59Z,naumenko-sa
037fa09812556698233e477fe9e96cecfee21d37,Matthias De Smet,matthias.desmet@ugent.be,"covert bam squeeze/samtools compression to scramble (#3108)

* covert bam squeeze/samtools compression to scramble
* Add cram archiving to variantcall test.

Co-authored-by: roryk <rory.kirchner@gmail.com>",2020-03-31T18:58:12Z,matthdsm
20d2b9071cac03244f07362a30f42081a1f0813a,Ilya Sytchev,isytchev@hsph.harvard.edu,Fix missing qt package error in Travis CI,2020-03-31T18:52:09Z,hackdna
73754af4687ab779b8d4d6a99ad1c0722f99eaac,Ilya Sytchev,isytchev@hsph.harvard.edu,Remove unused pytest fixture workdir,2020-03-31T18:52:09Z,hackdna
52d85603a1b06030738b3313999e036d99d2e728,Sergey Naumenko,naumenko-sa@users.noreply.github.com,[skip travis] update bulk_rnaseq.md,2020-03-31T18:48:43Z,naumenko-sa
98fddb2824019a6333ed922caf139fbc707de2b8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3158 from naumenko-sa/bulk_rnaseq_story

update bulk RNA-seq user story",2020-03-31T18:38:25Z,naumenko-sa
26b732789d30d40bb33c43d3af8c9378685a1ebf,naumenko.sa,evolgenomicslab@gmail.com,update bulk RNA-seq user story,2020-03-31T18:22:15Z,naumenko-sa
e47fd62481e7371442a5084d1f6e4dfdb05da3c5,roryk,rory.kirchner@gmail.com,Update HISTORY.,2020-03-31T18:18:53Z,roryk
872460455d4f558d559cd223f3c9b12d323536d1,roryk,rory.kirchner@gmail.com,"Remove sailfish from tests.

We are removing sailfish support, so the first step is to not
bother testing anymore.",2020-03-31T18:16:36Z,roryk
7573ae91bc0f6997f9d5b15ebf50cfe122f190aa,roryk,rory.kirchner@gmail.com,"Skip calling peaks on fractions with few reads.

MACS2 fails calling on fractions with not enough reads-- so we
skip calling on them.",2020-03-31T18:15:43Z,roryk
802aea42a45a6036543ff214131d3e1df4b64e15,roryk,rory.kirchner@gmail.com,Realignment not supported in GATK4.,2020-03-31T17:49:58Z,roryk
4e525899683fd0118849059510135118bce07cf8,roryk,rory.kirchner@gmail.com,"Remove unused Dockerfile.

See the bcbio_docker repository if you have been using this.",2020-03-31T16:57:16Z,roryk
cc70042ca3e11407c6bac9cf87bdfa28ccb24088,roryk,rory.kirchner@gmail.com,Clean up whitespace issues.,2020-03-31T15:34:23Z,roryk
b78d6e9648fb0d5a66434f379dd60eda32ee372e,roryk,rory.kirchner@gmail.com,"Ensure header is not written for a Series.

In pandas 0.24.0 the default for header was changed from False to True
so we have to set it explictly now.",2020-03-28T01:11:01Z,roryk
29a1f4f91a16881b782716c81443bf8044957d2f,roryk,rory.kirchner@gmail.com,Update with GATK fix.,2020-03-28T01:09:04Z,roryk
4873dc55fed13051e7654132b24ba68997a5d911,roryk,rory.kirchner@gmail.com,"Skip tophat test, since we don't support Tophat anymore.",2020-03-27T21:43:03Z,roryk
188ace3ae6f1cd781464519af8db2eea735a57fb,roryk,rory.kirchner@gmail.com,"Remove deprecated --use-new-qual-calculator.

Deprecated in GATK 4.1.5.0.

See https://github.com/broadinstitute/gatk/pull/6398.",2020-03-27T20:04:24Z,roryk
76dc03337c86e376baccfded99e8dd92b8c5e555,roryk,rory.kirchner@gmail.com,Add hotfix note.,2020-03-27T14:52:30Z,roryk
0d1324f2d34e3a4ee8426e08bf04d520138e65b1,roryk,rory.kirchner@gmail.com,"Add release checklist to developer documentation.

Thanks to @hackdna for making our documentation a million times better.",2020-03-27T14:51:25Z,roryk
e7a95d4ad3a63d80c9190a7038dad664bb6830f5,roryk,rory.kirchner@gmail.com,Fix typo when looking up the R environments.,2020-03-27T13:34:41Z,roryk
f2cd3789469a1bd9d2f0ef4ca9e1104ace097863,roryk,rory.kirchner@gmail.com,Set conda requirements to 1.2.0 since bioconda package is not up yet.,2020-03-26T02:02:47Z,roryk
d028a957d6c205293842c8ffd8fd585b149123e2,roryk,rory.kirchner@gmail.com,"Revert back to conda for installation step.

mamba doesn't have all of the commands we use during installation,
so switch back to conda.

Fixes #3149.",2020-03-26T01:47:41Z,roryk
48139c44d31a5627e6cc828ee9b3cab3f21adc09,roryk,rory.kirchner@gmail.com,1.2.1 release.,2020-03-25T18:00:39Z,roryk
69bc24d703d3a0166caabf833ddd9e514ff1d445,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3146 from naumenko-sa/fix_3135

fix salmon input for rRNA calculation",2020-03-24T20:06:20Z,naumenko-sa
2321575d9d3b11108e88b9b33cc217c657387ab8,naumenko.sa,evolgenomicslab@gmail.com,close $3135,2020-03-24T19:59:18Z,naumenko-sa
a0db761c8d4b2d9af67d8661ef0bef33f11c4707,roryk,rory.kirchner@gmail.com,Use mamba during installation.,2020-03-23T20:33:57Z,roryk
e2ca576cf3ae03cc85eb775c41b4c55305f30b47,Rory Kirchner,rory.kirchner@gmail.com,"Fix and update PureCN (#3143)

* Add environment-specific R site-library lookups.

* Use r36 R site-library for PureCN.

PureCN needs R 3.6, but R 3.6 breaks a lot of other packages, so we made
a R 3.6 environment for it to live in. We can migrate R 3.6 packages
over to this environment while bioconda catches up.

* Skip SNPless LOH segments.

PureCN 1.14+ outputs all segments, even those with no informative SNPs.
This skips those when making the final VCF.

See
https://github.com/lima1/PureCN/blob/ed7d10c7ca578bc7d1aabef86893c23ddddf79dc/NEWS#L92-L94
for the note about this change.

* Update HISTORY with PureCN fix.",2020-03-21T16:13:43Z,roryk
6de016b04d0b639106b5cd433b2b76a99608452f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix duplicated rows in the multiqc report (#3140),2020-03-20T13:42:00Z,naumenko-sa
ff6837cf6fbd0f6a7aa91664938f919a6d35ccaa,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3138 from naumenko-sa/update_docs

update single cell user story",2020-03-20T00:56:03Z,naumenko-sa
1ee64ccd155913df5a9dcd23c22d190f20359a7a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update somatic-single-umi.yaml,2020-03-20T00:39:55Z,naumenko-sa
3138d58c369566ce6e11594ff1ca4f931679c415,naumenko.sa,evolgenomicslab@gmail.com,sc docs: quick fix,2020-03-20T00:17:46Z,naumenko-sa
8be7d152f54851e279e34379a061d280955c8bb3,naumenko.sa,evolgenomicslab@gmail.com,update single cell user story,2020-03-20T00:11:07Z,naumenko-sa
a24490b76f68b4eb1b23cbe0a06d385d89d0f761,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3137 from bcbio/update-doc-urls

Update URLs in configuration, installation, pipelines, and presentation docs",2020-03-19T23:05:48Z,naumenko-sa
3fd443c2ab32c024395556a035e77c48e1be6231,Ilya Sytchev,isytchev@hsph.harvard.edu,"Update URLs in configuration, installation, pipelines, and presentation docs",2020-03-19T21:24:48Z,hackdna
59c632a40df193b7d07fc8c222f8dc44dd835b4a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3136 from bcbio/fix-doc-urls

Fix URLs in documentation",2020-03-19T20:50:48Z,naumenko-sa
74fb3c0f426185a2d40dfd7bd5b01fad6495a6a1,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update single_cell.md,2020-03-19T20:03:16Z,naumenko-sa
dc78dc13d6b62fce7ad69742b995cdd8f0962fba,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in cwl.md,2020-03-19T19:38:48Z,hackdna
3391bba0a66b6ccd98eec43d964db23496994d5f,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in presentations.md,2020-03-19T19:25:57Z,hackdna
95316ae2494f8ab46646e69ad031a726528133ba,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update bug_report.md,2020-03-19T18:55:26Z,naumenko-sa
5eeda30b41c840ca8fa131674cbb588450e8a0ae,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in configuration.md,2020-03-19T18:50:12Z,hackdna
1748c723ccfc1bfcda2770cf263c09359ed8e8b4,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in about.md,2020-03-19T18:40:07Z,hackdna
b91458ce66c3e5dd72e8c0ef70a9917a33518dc9,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in outputs.md,2020-03-19T18:37:09Z,hackdna
1ef305cadec5dad14ed8d90f1795abfc981f8a1f,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in citations.md,2020-03-19T18:31:52Z,hackdna
981a414136bcc1025534da1635602ece745fd929,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3133 from naumenko-sa/single_cell_user_story

clarified default user story and single cell user story",2020-03-19T18:09:20Z,naumenko-sa
b8478092b85cfd0b6d5a26f8641f161c91546458,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in pipelines.md,2020-03-19T18:00:40Z,hackdna
f7788f9704dc1c0f1209a9994edfeb8542e1a683,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in development.md,2020-03-19T17:30:09Z,hackdna
005045032728ac7846a50321bb037b54e492789b,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in installation.md,2020-03-19T17:23:09Z,hackdna
27fda83a99c0865aaad9d424db7c0f8b3c5a290d,naumenko.sa,evolgenomicslab@gmail.com,update single_cell user story,2020-03-19T17:19:10Z,naumenko-sa
bc8379d9b639007d8af97be6027a1c0060bca9a9,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in parallel.md,2020-03-19T17:14:00Z,hackdna
4d6e3e149d4e5e022da9c882081c0f9802b8319f,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in cloud.md,2020-03-19T17:11:54Z,hackdna
c4f2d4ae7a3731f98b761fce6799e59cb2ff8efd,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in cloud.md,2020-03-19T16:54:59Z,hackdna
17411e1d85a081787816b9032cc7c1155db49cf9,naumenko.sa,evolgenomicslab@gmail.com,clarified default user story and single cell user story,2020-03-19T16:42:49Z,naumenko-sa
1b80e7023549b2dc75b1d9b3d212b5b5a27cf15b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3132 from bcbio/fix-readme-urls

Update URLs in README.md",2020-03-19T15:49:01Z,naumenko-sa
aa46f1d672d190e81e73ac2863f49c9ff0f8e9b0,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3131 from bcbio/github-links

Change raw.github.com URLs to raw.githubusercontent.com",2020-03-19T15:47:32Z,naumenko-sa
a0c3876e093eda0ea997902a8ad4698e1265ee43,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3130 from bcbio/bug-report-template

Add a bug report template",2020-03-19T15:44:02Z,naumenko-sa
16761d2d5e857faf99cd98ad22819ac3cd505832,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in teaching.md,2020-03-18T21:31:13Z,hackdna
d4581d85236ed04d2dbf9840214d953192ce509b,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in intro.md,2020-03-18T21:30:08Z,hackdna
9477397d3349abfe07cce3f04b864405ccba109e,Ilya Sytchev,isytchev@hsph.harvard.edu,Update URLs in README.md,2020-03-18T20:55:52Z,hackdna
91b5e105cd629408162e894466aecfffdf3684e1,Ilya Sytchev,isytchev@hsph.harvard.edu,Change raw.github.com URLs to raw.githubusercontent.com,2020-03-18T17:54:10Z,hackdna
4732464b28d7ff08278652543608a414fa291b0e,Ilya Sytchev,isytchev@hsph.harvard.edu,Update steps to reproduce,2020-03-18T17:16:55Z,hackdna
11a7ad0e7a9c37959b74426e45a6dcfd6f8f7124,Ilya Sytchev,isytchev@hsph.harvard.edu,Add a log file section,2020-03-17T21:03:24Z,hackdna
a5cf142b8b32c0e65cfde3af2a72f5eda531f1bf,Ilya Sytchev,isytchev@hsph.harvard.edu,Add a bug report template,2020-03-17T20:58:44Z,hackdna
380443e63600abe08f83b5ef1eea3f2cc43da138,Ilya Sytchev,isytchev@hsph.harvard.edu,Add doc build status badge (#3129),2020-03-17T19:48:00Z,hackdna
6833c2197abc910a5b37939df33ee591d39d513f,Ilya Sytchev,isytchev@hsph.harvard.edu,"Convert documentation to Markdown (#3128)

* Add Markdown support to conf.py

* Migrate index.rst to index.md

* Fix doc builds on rtd

* Add sphinx_rtd_theme extension to conf.py

* Fix Sphinx HTML theme

* Avoid setting a default Sphinx HTML theme

* Pin recommonmark package version to 0.6.0

* Add comments

* Delete sequencer integration doc

* Convert about.rst to about.md

* Add blank lines between the items in Users section

* Convert installation.rst to installation.md

* Fix section links

* Convert pipelines.rst to pipelines.md

* Update GATK4 license info

* Convert intro.rst to intro.md

* Convert configuration.rst to configuration.md

* Convert parallel.rst to parallel.md

* Convert cwl.rst to cwl.md

* Convert cloud.rst to cloud.md

* Convert outputs.rst to outputs.md

* Convert development.rst to development.md

* Convert internals.rst to internals.md

* Convert presentations.rst to presentations.md

* Convert teaching.rst to teaching.md

* Convert citations.rst to citations.md

* Remove .rst doc source_suffix from conf.py

* Remove html_static_path from conf.py to avoid warning about missing dir

* Add Read the Docs configuration file",2020-03-17T19:47:45Z,hackdna
1b2a406c0df99d0ca1f789965183bfb762046329,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3127 from naumenko-sa/fix_3126

fixes entry use case",2020-03-17T02:19:16Z,naumenko-sa
e7454d08aec169cc4eda372f6623a8d47cf76b51,naumenko-sa,evolgenomicslab@gmail.com,"fixes enty use cases
variant_regions do not seem to be validation target",2020-03-17T01:15:15Z,naumenko-sa
497c4ce154b6b3bc19448e2e537b27fcfd17c086,roryk,rory.kirchner@gmail.com,Add Matthias's joint-calling optimization.,2020-03-16T13:58:08Z,roryk
fa9aa0460b8960d10f9ff8e1feea7cd77e2c9434,Matthias De Smet,matthias.desmet@ugent.be,"improve parallelization of joint calling (#3118)

Since joint calling is inherently single threaded, let the scheduler only request one core and submit more jobs.",2020-03-16T13:54:43Z,matthdsm
cd527174ca350589de2f1efdc602a465a9bd1f0d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Create somatic-single-umi.yaml,2020-03-07T18:21:11Z,naumenko-sa
34ef111b3930dcf0ff082c4083d34187d787fb8e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3119 from DrHogart/master

Fix indentations in srnaseq resources of BDGP6",2020-03-07T04:40:54Z,naumenko-sa
9ebd26589a3fa7fe4a26fcdc288df5f59a29c78d,roryk,rory.kirchner@gmail.com,"Revert ""License no longer needed for GATK4.""

This reverts commit 7cf878e11cd3f8370550e29a703b4bdd9d531355.",2020-03-06T18:21:28Z,roryk
32cfa8845605468f5922ef4f74fde15fed4b1f16,Sergei Ryazansky,s.ryazansky@gmail.com,Fix indentations in srnaseq resources of BDGP6,2020-03-05T12:56:41Z,DrHogart
c48723a5a1c08535778b282755dc395a2b90a7d2,roryk,rory.kirchner@gmail.com,Name non-bcbioRNASeq tximport files properly.,2020-03-04T20:15:18Z,roryk
936ed35121d83f47b868b673a14f6775ed0b076b,roryk,rory.kirchner@gmail.com,"Add back in switch for keeping the old directory for testing.

It is useful for checking if memoization is working, or working
on a feature late-in-the-pipeline, to keep the cached version of
a previous run in place so bcbio will skip time-consuming steps.",2020-03-04T20:15:06Z,roryk
9894adcb4db0c822dd184d4712a2ca957106b028,roryk,rory.kirchner@gmail.com,"Skip bcbioRNASeq if there are less than three samples.

We need at least three to calculate variances, do PCA and what not.",2020-03-04T18:01:48Z,roryk
3c8e42651de2aad1dd017cea81edc43ed4ba285d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3116 from DrHogart/master

add support of miRNA data to BDGP6",2020-03-03T14:50:23Z,naumenko-sa
46fc8b350f8e1c64f0d4a26a1f0798ddb020a2ab,Sergei Ryazansky,s.ryazansky@gmail.com,add support of miRNA data,2020-03-03T10:18:52Z,DrHogart
7cf878e11cd3f8370550e29a703b4bdd9d531355,roryk,rory.kirchner@gmail.com,License no longer needed for GATK4.,2020-03-01T16:49:32Z,roryk
cc7fe5fa230f546ad52552e87511c4e078bc7222,Ilya Sytchev,isytchev@hsph.harvard.edu,Regenerate conf.py using the latest version of Sphinx (2.4.2) (#3115),2020-02-28T14:14:03Z,hackdna
369bb7cdca5df60828c22767c44a582540c7ec78,Ilya Sytchev,isytchev@hsph.harvard.edu,"Convert README.rst to README.md (#3114)

* Convert README.rst to README.md using pandoc

* Rename and move github.png to banner.png

* Remove hard line wraps in README.md

* Change section headings to level two and alphabetize contributors list in README.md

* Delete README.rst

* Replace README.rst with README.md in setup.cfg",2020-02-28T14:13:20Z,hackdna
a283cfb362ca84a80329401d7d48cadb43c03e9b,Ilya Sytchev,isytchev@hsph.harvard.edu,"Delete TODO.md

https://github.com/bcbio/bcbio-nextgen/issues/3100#issuecomment-591511897",2020-02-26T20:21:05Z,hackdna
aff939667ea009de7826c411d327a4163409c589,roryk,rory.kirchner@gmail.com,Add note about methylation pipeline status.,2020-02-26T19:28:37Z,roryk
dd1c87b993218a4dd4a5649149f54f7608791c30,Ilya Sytchev,isytchev@hsph.harvard.edu,"Update Python package setup (#3111)

* Cleanup setup.py and make Python 3 compatible

* Remove write_version_py()

* Add setup.cfg

* Add metadata to setup.cfg and code cleanup",2020-02-26T18:20:14Z,hackdna
94e0b0c396c18bbe3c5434e8a591624c7125942a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3110 from naumenko-sa/master

add family size histogram for GroupReadsByUmi",2020-02-25T04:36:45Z,naumenko-sa
6e013168d3bcb74dad36c4a5ec7b46466650670b,naumenko.sa,evolgenomicslab@gmail.com,add family size histogram for GroupReadsByUmi,2020-02-25T03:50:32Z,naumenko-sa
f807c86ea803db260910bc092d0678568a40fe6f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"updated configuration.rst

close #3072",2020-02-24T16:32:14Z,naumenko-sa
cdfeeaf42433f545860b6987e0182fd8c2f03069,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update profiling documentation,2020-02-24T16:07:42Z,naumenko-sa
bff9ff3e097c7a5e42d3917a22e1e8c9267a1642,Matthias De Smet,matthias.desmet@ugent.be,"improve error logging (#3104)

* improve error logging",2020-02-21T14:43:30Z,matthdsm
c5fe088b27e3887c552c4b31e69a1c701902f217,Ilya Sytchev,isytchev@hsph.harvard.edu,"Development documentation update (#3098)

* Use Read The Docs theme by default when building the documentation locally

* Cleanup conf.py

* Rename introduction.rst to about.rst

* Rename testing.rst to intro.rst

* Rename code.rst to development.rst

* Move testing section from intro.rst to development.rst

* Cleanup and add time zone info to the installation doc

* Add style guide to development docs

* Add error handling for missing sphinx_rtd_theme module

* Add reStructuredText section to the style guide

* Add guidelines for docstrings to the style guide",2020-02-21T14:19:37Z,hackdna
a8dcec0987f38165b5d6640931bfec244d4738ef,Ilya Sytchev,isytchev@hsph.harvard.edu,Cleanup plink_to_vcf.py and make it Python 3 compatible (#3102),2020-02-21T14:18:00Z,hackdna
6319e679dc09c11d3998a3aa390bc9ad5b46e66e,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update BDGP6-resources.yaml,2020-02-20T20:11:49Z,naumenko-sa
60c85ccf5bd964708f6bb34ff056d48a3e09843a,Ilya Sytchev,isytchev@hsph.harvard.edu,"Ubuntu 18.04 LTS upgrade (#3093)

* Update Travis CI environment to Ubuntu 18.04

* Upgrade and cleanup Vagrant deployment code

* Update and cleanup Sphinx conf.py

* Add documentation for Vagrant install

* Change Vagrant box to bento/ubuntu-18.04",2020-02-15T20:51:01Z,hackdna
b59863d567c89071d0d347acf4f42a2d9dce0530,Sergey Naumenko,naumenko-sa@users.noreply.github.com,documented bcbio profiling (#3089),2020-02-14T18:56:37Z,naumenko-sa
545c5ed20edcd44ca569ac584b916111d81827c5,Ilya Sytchev,isytchev@hsph.harvard.edu,Refactor make_workdir() and add docs for BCBIO_TEST_DIR env var,2020-02-14T18:53:32Z,hackdna
3ac789378a98a2b9ef14f4f51edb973a5451d505,Ilya Sytchev,isytchev@hsph.harvard.edu,Fix test work directory functionality,2020-02-14T18:53:32Z,hackdna
3f7d4889382d5c67ca27f67cfe5199624ef0fd4e,Ilya Sytchev,isytchev@hsph.harvard.edu,Cleanup and rename test_5_bam,2020-02-14T18:53:32Z,hackdna
8d147c56fb3c7f80d90794591718baf7da4d27cf,Ilya Sytchev,isytchev@hsph.harvard.edu,Add intermediate reference testing files to .gitignore,2020-02-14T18:53:32Z,hackdna
1bb8bdda8aa7d744d7b3b356f528a24334349997,roryk,rory.kirchner@gmail.com,"Properly pad TSS file for ataqv.

We were padding this by 1k in each direction, but ataqv does that by
default. Here we unpad it and explictly tell ataqv how far to pad the
file.",2020-02-11T17:06:16Z,roryk
4210becd088a4b90aca04914debcd9798e5c6f73,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #3086 from timgates42/bugfix/typo_where

Fix simple typo: whwere -> where",2020-02-11T16:56:43Z,naumenko-sa
8d3464c62c2205f5caf20a0b397684b65ef0f391,Tim Gates,tim.gates@iress.com,"Fix simple typo: whwere -> where

Closes #3085",2020-02-11T11:00:14Z,timgates42
a6761fe67de4419073c6a5720fe4b1ef1f85738c,roryk,rory.kirchner@gmail.com,"Run bowtie2 with --very-sensitive for ChiP/ATAC.

This seems to be a standard parameter recommended by lots of folks to
force bowtie2 to align more.",2020-02-10T22:11:39Z,roryk
cdb2f6932c40c82dbbabeb11fbb5fbd1aacc71b2,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update requirements-conda.txt,2020-02-10T16:25:47Z,naumenko-sa
bf0ad83beabea1246f05ffa8831d4e717a6868dd,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update requirements.txt,2020-02-10T16:25:15Z,naumenko-sa
9289bdf1a48adab55b8ce51058d4bdc7f5d81f97,roryk,rory.kirchner@gmail.com,v1.2.0 release.,2020-02-07T20:01:10Z,roryk
ec5a5d356be093222b58b97ab3187748338d2bc7,roryk,rory.kirchner@gmail.com,"Switch to using a dictionary instead of a namedtuple.

This was somehow losing its namedtupleness, so we're just
avoiding the issue by not using them.",2020-02-07T15:25:45Z,roryk
a45b962a517805bc4c43702b0ffc67fca8992ccb,roryk,rory.kirchner@gmail.com,Add Matthias's cromwell fix.,2020-02-07T15:25:45Z,roryk
6aa063643c8c759629b44daed0a9db8d99bc647b,Matthias De Smet,matthias.desmet@ugent.be,"remove directory param from torque qsub (#3080)

Cromwell creates directory trees with long names, which causes torque to throw
```
qsub: -d arg is longer than 256 characters
usage: qsub [-a date_time] [-A account_string] [-b secs]
      [-c [ none | { enabled | periodic | shutdown |
      depth=<int> | dir=<path> | interval=<minutes>}... ]
      [-C directive_prefix] [-d path] [-D path]
      [-e path] [-h] [-I] [-j oe] [-k {oe}] [-l resource_list] [-m n|{abe}]
      [-M user_list] [-N jobname] [-o path] [-p priority] [-P proxy_user] [-q queue] 
      [-r y|n] [-S path] [-t number_to_submit] [-T type]  [-u user_list] [-w] path
      [-W otherattributes=value...] [-v variable_list] [-V ] [-x] [-X] [-z] [script]
```

`cd`-ing to the directory beforehand fixes this.

Cheers
M",2020-02-06T23:59:40Z,matthdsm
c6b015f21704c5d497bc14a87c918c3f1f6c4197,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Fixes bug: UMI with disambiguation causes the coverage statistics to get overwritten with the disambiguated genome,2020-02-06T23:53:06Z,naumenko-sa
59cfc050fdae8f26839279189119a43fe5905cd6,roryk,rory.kirchner@gmail.com,"Properly declare TxImport namedtuple.

Fixes #3079. Thanks to @naumenko-sa for pointing out the issue.",2020-02-06T23:40:24Z,roryk
657dca00a4c856cae186e787dfca8527445b015f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Clarify alt contig variant calling #3077)

clarifies alt contig variant calling, see https://github.com/bcbio/bcbio-nextgen/issues/3069
discussion",2020-02-05T17:33:47Z,naumenko-sa
9abff4e886824dad9fb4cb4b937e5e638dd4269d,roryk,rory.kirchner@gmail.com,"Fix command line too long during joint genotyping.

With thousands of samples, specifying the variant files to be
genotyped on the command line results in a too-long command line.
This fixes that issue using the suggestion by @ldgauthier here:
broadinstitute/gatk#6428.

Closes #3074. Thanks to @amizeranschi for bringing up this problem.",2020-01-30T23:09:56Z,roryk
b848c486f2569d3d1e84e17e08200a813ba5f5d9,roryk,rory.kirchner@gmail.com,"Calculate the ENCODE quality flags for ATAC-seq.

See https://www.encodeproject.org/data-standards/terms/#library for
a description of what the metrics mean.",2020-01-28T23:14:27Z,roryk
12b0df6d655f5e35b4d0bc1071ee6d2124426773,roryk,rory.kirchner@gmail.com,"Propagate tximport output to project directory.

This uploads the count file generated by tximport to `project/date/counts`
and the TPM file to `project/date/tpm`.",2020-01-28T20:05:43Z,roryk
420cdfd47b3b4a74e96e12d555800185d5982621,roryk,rory.kirchner@gmail.com,"Add expected FASTQ format for `umis: fastq_name`.

Addresses missing documentation issue brought up in #3071. Thanks to
@FedericoComoglio for the question.",2020-01-28T16:37:12Z,roryk
2b2e2e99a9142a28e2c1acd51df72e02bcde8a94,roryk,rory.kirchner@gmail.com,"Append ""g"" to memory request from bcbio_prepare_samples.

This was causing this error:

Traceback (most recent call last):
  File ""/n/app/bcbio/tools/bin/bcbio_prepare_samples.py"", line 190, in <module>
    parallel = resources.calculate(parallel, [samples], sysinfo, config)
  File ""/n/app/bcbio/dev/anaconda/lib/python3.6/site-packages/bcbio/distributed/resources.py"", line 196, in calculate
    memory = _get_prog_memory(resources, cores_per_job)
  File ""/n/app/bcbio/dev/anaconda/lib/python3.6/site-packages/bcbio/distributed/resources.py"", line 92, in _get_prog_memory
    out = _str_memory_to_gb(memory)
  File ""/n/app/bcbio/dev/anaconda/lib/python3.6/site-packages/bcbio/distributed/resources.py"", line 75, in _str_memory_to_gb
    val = float(memory[:-1])
TypeError: 'int' object is not subscriptable",2020-01-27T22:41:56Z,roryk
bf6a160bd8357b35b407b4943910464b63f213df,roryk,rory.kirchner@gmail.com,Propagate STAR log file to upload directory.,2020-01-27T21:08:51Z,roryk
f8c8f337e0ef63e88b42b03abf23987e58fdae1b,roryk,rory.kirchner@gmail.com,"Remove unnecessary ""quant"" subdir for Salmon.

This lets the MultiQC Salmon module properly assign the
sample names.",2020-01-27T21:07:49Z,roryk
93073321bd231687d4ce0d486f8657d051f1cfb2,roryk,rory.kirchner@gmail.com,Make sure we are not overwriting already-existing qc metrics.,2020-01-27T21:03:34Z,roryk
b7c5e614630fbd0592372c478294f63b0c5fb543,roryk,rory.kirchner@gmail.com,"Add --keepDuplicates to Salmon index.

The default behavior is to drop transcripts that are duplicates and keep
only one of them, this can make it hard to compare to other methods
because some genes and transcripts will get dropped. Here we keep
all of the duplicate transcripts.",2020-01-27T16:29:33Z,roryk
ba75b15dd84bf47244f239198a56225d19d9688b,Sergey Naumenko,naumenko-sa@users.noreply.github.com,document noalt_calling (#3070),2020-01-23T22:06:20Z,naumenko-sa
ad984e8b1cebc0c3c32fe138757a022a14dcdee3,roryk,rory.kirchner@gmail.com,"Only use WithinBAM when arriba is the fusion caller.

The new arriba-specific parameters mean we can't do both WithinBAM
and Junctions.",2020-01-22T22:18:26Z,roryk
7ee1ba33c966f4a0883693208c7d70217a8d40ea,roryk,rory.kirchner@gmail.com,"Create tximported TPM and counts files from salmon.

This lets us handle cases where bcbioRNASeq is too much overhead or
doesn't work. Thanks to @kmendler for the suggestion.",2020-01-22T22:05:20Z,roryk
7faba39e8d36f16cbcf74611468e6c1f5a49fe41,roryk,rory.kirchner@gmail.com,Update HISTORY with arriba sensitivity change.,2020-01-22T21:56:36Z,roryk
3f8ade5c2276d3a4c7b44332e7009c6b8ed25387,roryk,rory.kirchner@gmail.com,"Improve arriba sensitivity.

Suggestions by @suhrig here suhrig/arriba/#41. Thanks!",2020-01-22T21:54:14Z,roryk
7792325206864b90c4dd4712171a7877b1177357,roryk,rory.kirchner@gmail.com,"Skip bcbioRNASeq if only one sample is specified.

Thanks to @kmendler for the suggestion.",2020-01-22T20:42:16Z,roryk
c6b2e7ee66da866078cd2de886d522c5c1c8b496,roryk,rory.kirchner@gmail.com,Ensure STAR is not run on a genome with alts.,2020-01-22T18:51:11Z,roryk
56bc9a0514e50c7cb2e9b0da0e76fed45f74dff7,roryk,rory.kirchner@gmail.com,Add STAR MultiQC module.,2020-01-22T18:09:56Z,roryk
11d809c025ac026dd894147a9e910ae14e8d92c2,Matthias De Smet,matthias.desmet@ugent.be,bump vep resources (#3064),2020-01-22T17:33:04Z,matthdsm
d2d2f64b7a74eb480087ec4e9ee82f0c9926273a,roryk,rory.kirchner@gmail.com,Add note about peddy fix.,2020-01-22T17:31:57Z,roryk
d9df6e20ba3d80ae94aa9b672a3200863a9c0aa5,roryk,rory.kirchner@gmail.com,"Use population VCF file for peddy when jointcalling.

Fixes #3024.

Thanks to @matthdsm for being on top of this problem, coming up with
the solution and being extremely patient.",2020-01-22T17:18:06Z,roryk
b182dda51cf0febfe75f1b445c5de95e82110358,chapmanb,chapmanb@50mail.com,sge: fix retrieval of cluster params for py3 #3063,2020-01-22T10:31:38Z,chapmanb
7b3f0aab21e11765041713f281e3cb7528922af4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,add rna-seq varint calling example (#3066),2020-01-21T16:26:52Z,naumenko-sa
b4dfed16c3e53f992cc94706ee8e418428018861,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Create mitochondrial_variants_amplicons.yaml (#3059),2020-01-17T19:10:32Z,naumenko-sa
8b6ab3ac0b66cc3beff07cd1788f2afa68f38e0c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,getting started documentation update (#3058),2020-01-17T19:09:53Z,naumenko-sa
3a50a047afb109f1b524da22d3d0355b9afe508a,roryk,rory.kirchner@gmail.com,Update with ataqv changes.,2020-01-14T23:18:00Z,roryk
cd3c579e933de3446dfe7d8fcb76e8636c8025c3,roryk,rory.kirchner@gmail.com,"Run ataqv on the unfiltered BAM file.

Suggested by @porchard here: https://github.com/ParkerLab/ataqv/issues/8",2020-01-14T23:16:52Z,roryk
0aef49bc7e83b1183806859a2f48cc662017c7a8,roryk,rory.kirchner@gmail.com,Calculate RiP from full peaks for ATAC-seq.,2020-01-14T23:16:26Z,roryk
74c5bc2e65208069d748327437409b571fc08a34,roryk,rory.kirchner@gmail.com,"Sort MACS2 bedgraph with sort.

bedtools sort requires a huge amount of memory, so use UNIX
sort instead.

Thanks to @yoonsquared for bringing up the issue.",2020-01-14T21:17:42Z,roryk
171c78fa80fd9d9244b2af8c2148b92ca8da1d51,roryk,rory.kirchner@gmail.com,"Fix mangling of tx2gene.csv issue.

With certain GTF files, tx2genefile could generate lines that look like:

TRANSCRIPT
,GENE

This fixes that issue. Thanks to @jihe-liu for bringing up the issue.",2020-01-10T20:22:09Z,roryk
5c9901adddc7e4f65340db57c91879064170f3d1,roryk,rory.kirchner@gmail.com,Respect memory_per_job when running bcbio_prepare_samples.,2020-01-09T00:54:27Z,roryk
bd79b3b8287441bb43fdd84a7f08b93c02bf36f4,roryk,rory.kirchner@gmail.com,"For ATAC-seq, also peaks on the full BAM file.",2020-01-09T00:31:46Z,roryk
9ccc505ed8ed725671ca19f62affec6743f7b88a,roryk,rory.kirchner@gmail.com,"Find ATAC-seq peak files properly.

Use the NF file for now to calculate RiP.",2020-01-08T18:37:05Z,roryk
67f912fe04b84341766eb67163512b33c88a1f7f,roryk,rory.kirchner@gmail.com,"Use full path to smoove executable.

Also preface running smoove by inserting the path to it into our PATH,
since smoove itself calls out to some programs it is expecting to be in
your PATH.

Fixes #3053.",2020-01-08T17:22:25Z,roryk
37ac881879d19fc0771448866ca861317bbfb5bb,roryk,rory.kirchner@gmail.com,"Ensure peaksettings is set for ChIP-seq.

Without explicit antibody setting, this was not getting set.",2020-01-07T18:13:21Z,roryk
d7117e50b25a0de06fb892a257ec862c29472a5c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2019-12-17T01:56:01Z,naumenko-sa
d8dcdd8e30e42a91b98a86e51750eb9e2c392ae4,roryk,rory.kirchner@gmail.com,bump version to 1.2.0a.,2019-12-11T23:37:02Z,roryk
09ce3d6a27a5488ec1e643e2fc07f8fe21bc27ae,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update requirements-conda.txt,2019-12-11T23:35:49Z,naumenko-sa
6d45196217cd286efa344ab218512741cc426823,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update requirements.txt,2019-12-11T23:35:09Z,naumenko-sa
e5d645d5090c0d1cd38ec6dcc9c6c8c111bd6206,roryk,rory.kirchner@gmail.com,"Add `known_fusions` configuration.

This allows you to pass a file consisting of lines of the format:

gene1<tab>gene2

These are passed on to arriba as known fusions to keep. The identifiers
should be the what is keyed under the `gene_name` field in the GTF.",2019-12-11T19:56:21Z,roryk
f1713b569f846fdacb82a14f045cbe91e9e634c8,roryk,rory.kirchner@gmail.com,"Switch ATAC-seq back to narrow peak calling.

This is from feedback from the other folks at the HBC.",2019-12-11T19:26:54Z,roryk
2a0b8852751b2bfecef0dccd4df454e832bc27c9,roryk,rory.kirchner@gmail.com,"With > 100 samples, skip broken bcbioRNASeq plots

bcbioRNASeq has a few plots that color the points based on either the
samplename or interesting_groups. If interesting_groups is not set, and
there are many samples, the coloring fails. This checks if there are
over 100 samples and if interesting groups is not set, and skips running
the broken plots if they are not set properly.",2019-12-11T19:11:02Z,roryk
0f39cfd9ce8e1b4e6674455a1e6ad6a6516a9fd2,roryk,rory.kirchner@gmail.com,Update with ataqv addition.,2019-12-11T03:02:31Z,roryk
1bcd1bd9e3eb5010106173b8b6621a025063651c,roryk,rory.kirchner@gmail.com,"Calculate additiona ATAC-seq metrics

This uses ataqv (https://github.com/ParkerLab/ataqv) to calculate some
common metrics for ATAC-seq runs.",2019-12-11T03:00:54Z,roryk
9a98dde389733508d2d04574e4524ef04d82cd66,roryk,rory.kirchner@gmail.com,"Use broad peaks for ATAC-seq calling.

There are conflicting recommendations, but for the most part folks
are using broad peaks for calling ATAC-seq peaks.",2019-12-11T03:00:00Z,roryk
e138d3905c4b644efb92db1586e1e0b995f05bbc,roryk,rory.kirchner@gmail.com,Add function to extract TSS from GTF file.,2019-12-11T00:50:02Z,roryk
cb51ac406627e4f740abcbb0dae264201e0e14ee,roryk,rory.kirchner@gmail.com,python3 compatibility fix in error message,2019-12-09T15:11:28Z,roryk
e0b848f28dcd74b61f486d08805feb93b215caee,roryk,rory.kirchner@gmail.com,Add bismark aligner fix.,2019-12-08T02:38:44Z,roryk
d2ade38fd632ac1312b49e56c7910f9f7c873f17,roryk,rory.kirchner@gmail.com,"Add bismark as a supported aligner.

Fixes #3031.",2019-12-08T02:38:12Z,roryk
1d6b2506179afc0d0d326d3da3eb14b3d56d1be6,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix SRR downloading (#3035),2019-12-08T02:36:05Z,naumenko-sa
ce87a99e7cf5732a1163e0def5a52239a0efb950,Rory Kirchner,rory.kirchner@gmail.com,"Add DOI to make bcbio citable.

Addresses a request in #2995 and folks have made over the years.",2019-12-06T01:53:45Z,roryk
1205210e065536496a6694c3c4a9e2885e603f5e,roryk,rory.kirchner@gmail.com,Remove redundant HISTORY entries.,2019-12-05T01:34:59Z,roryk
36ee5ce3bc5a21a03530caee8541a572fc43fc39,roryk,rory.kirchner@gmail.com,"Ensure EBV coverage is calculated.

For hg38, we include EBV as a chromosome, so we skip quantitating it
when looking at viral coverage. Here we add the missing EBV back in if
it is included as an artifical chromosome of the host genome.

GRCh37 and hg19 was also missing EBV, we fixed this by updating
the indices from GDC to include EBV here:

https://github.com/chapmanb/cloudbiolinux/commit/1a00669705b48b7e8f565890fb40f3086544dcc2",2019-12-05T01:22:58Z,roryk
396e139a68f3119e05f712ccc61dc07f75180f0a,roryk,rory.kirchner@gmail.com,Allow viral check to be run on non tumor/normal samples.,2019-12-04T18:00:58Z,roryk
7b1575157bad1c44c9c3f89ad8975a6cbbec442e,roryk,rory.kirchner@gmail.com,Update changelog with peak calling changes for ATAC-seq.,2019-12-03T19:56:21Z,roryk
220e31606d2154208761941a53f9e3e8c69c1420,roryk,rory.kirchner@gmail.com,"Call peaks on NF/DN/MN/TN regions.

This calls peaks separately on the nucleosome free (NF), mononucleosome
(MN), dinucleosome (DN), and trinucleosome (TN) regions in ATAC-seq.",2019-12-03T19:54:45Z,roryk
2183c346ac81d57daee5759aeecc5f3e32c503bd,roryk,rory.kirchner@gmail.com,"Split BAM files into nucleosome regions for ATAC-seq.

This splits the BAM files into nucleosome free (NF), mono/di/tri
(MN/DN/TN) nucleosome BAM files, so we can call peaks on them
separately. This uses the insert size definitions in the
Buenrostro, Nat. Methods 2013 paper, namely:

NF: 0-100
MN: 180-245
DN: 315-473
TN: 558-615",2019-12-03T17:07:36Z,roryk
77590ecbae4ea64d50257ddc15507e29498294a7,roryk,rory.kirchner@gmail.com,"Check for reserved keyword `sample` for RNA-seq.

bcbioRNASeq uses this field, so we need to make sure it doesn't
already exist in the metadata.

Thanks to @marypiper for the suggestion.",2019-11-28T15:39:59Z,roryk
c663abd5e5587d0b7901bfabc5dad7924a2f164f,roryk,rory.kirchner@gmail.com,"Sort BDG files before compressing.

Closes #2963. Thanks to @LMannarino for the good suggestion!",2019-11-27T02:16:11Z,roryk
8595e745b2ed2c2a3959536307c4321d72024538,roryk,rory.kirchner@gmail.com,Document new --buildversion option.,2019-11-26T02:47:04Z,roryk
38badc09e1c0d2168c8b6105c21ff7726259ce91,roryk,rory.kirchner@gmail.com,"Add `buildversion` option.

This lets `bcbio_setup_genome.py` pass on an arbitrary string to
save as the gene build version when setting up a genome. The text
is freeform, but the suggested format is source_version. Examples
are Ensembl_75, EnsemblMetazoa_45, Flybase_25, etc. This lets us
track better where gene builds came from.",2019-11-26T02:40:38Z,roryk
283fbb77863d216cf388f1d8865c9649af05e7be,roryk,rory.kirchner@gmail.com,Expand upon description of RNA-seq outputs.,2019-11-22T16:22:58Z,roryk
7d3c4d9588d829c85e823b9a548be0818428eaa8,roryk,rory.kirchner@gmail.com,Add note about transcriptome indexing fix.,2019-11-22T15:13:26Z,roryk
17c76e3cc398b1e2963c906f5a5985763333e2ce,roryk,rory.kirchner@gmail.com,Index transcriptomes only once.,2019-11-22T15:11:39Z,roryk
765fc05b2aeee8e16bb4b83e2c0069f458cdffd4,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Update docs/internals (#3017)

explained about tests",2019-11-22T00:46:46Z,naumenko-sa
7df43a244029a442212d882e56b6c3632747a30d,roryk,rory.kirchner@gmail.com,Add ENCODE library complexity metrics for ChIP-seq.,2019-11-20T20:09:20Z,roryk
a27e305261500c801cd64196307f4fd06d25b1f3,roryk,rory.kirchner@gmail.com,Enable ENCODE library complexity metrics for ChIP-seq.,2019-11-20T20:08:16Z,roryk
29f9677b0d5504df9bce7c7df615b0664c02750f,roryk,rory.kirchner@gmail.com,Fix mangled ATAC-seq documentation.,2019-11-20T19:43:59Z,roryk
a0560d7c14747034b097fae3cde6619d5a07777f,roryk,rory.kirchner@gmail.com,Add STAR 2-pass note.,2019-11-19T18:18:55Z,roryk
6696b73b1bddd06fb8f17731be5dad020be35dd5,roryk,rory.kirchner@gmail.com,Merge branch 'naumenko-sa-master',2019-11-19T18:16:58Z,roryk
2a45e2cb0206635b497c87e575fa8350cb3ce8d0,roryk,rory.kirchner@gmail.com,"Manual STAR 2-pass basic.

STAR 2-pass basic takes the per-sample junction file and re-runs STAR
with it. We can't use 2-pass basic because it doesn't work properly when
using the input piping we are doing to get around filesystem issues
when using the `--readFilesCommand` flag. So here we just manually
do it, running STAR twice using the junction file.",2019-11-19T18:14:48Z,roryk
c7a4326100c67d424ab897fc7911f5bfe1fd2b29,roryk,rory.kirchner@gmail.com,Add function to count alignments in BAM file.,2019-11-18T18:55:50Z,roryk
657d7061beb6902159d0f0eef939dd584cafaff2,roryk,rory.kirchner@gmail.com,Add ENCODE library complexity metrics.,2019-11-18T18:50:33Z,roryk
736aca2c2e9211435badcf9cb689c754bd6bb320,roryk,rory.kirchner@gmail.com,Fix for ATAC-shifting causing BAM to become unsorted.,2019-11-18T18:49:08Z,roryk
d0b2dacdc3e19acf24bfb38b8f8bdc962d869ff0,roryk,rory.kirchner@gmail.com,Fix formatting of ChIP-seq documentation.,2019-11-15T15:09:19Z,roryk
52d7f090bb7266a3e39477f8d56d8f248b897f8a,naumenko-sa,evolgenomicslab@gmail.com,add --twopassMode Basic to star.py,2019-11-15T00:53:08Z,naumenko-sa
27255235079dc701ad2007dee215b82bf0f764c5,roryk,rory.kirchner@gmail.com,"Add option to force sorting.

Files can still have the sort flag in the header, but become
unsorted, this lets us force sorting of a file.",2019-11-14T23:30:56Z,roryk
ccdea0b1684bf5d768315b29e94e094682bc66f4,roryk,rory.kirchner@gmail.com,"Fix for samtools 1.9.

We need to include -T to output to a prefix now.",2019-11-14T23:29:52Z,roryk
707bc4f7452388d13229c65f464696b43a0bbc83,roryk,rory.kirchner@gmail.com,Add ATAC-seq integration test.,2019-11-14T23:29:28Z,roryk
625d547d7336c6ebee10c56207cb6f00b14e4cab,roryk,rory.kirchner@gmail.com,Remove mitochondrial reads from ChIP/ATAC-seq.,2019-11-13T21:07:47Z,roryk
a124cf9d5d5f389f6bbd5ce9c9d1df19bac5ed2e,roryk,rory.kirchner@gmail.com,Update with ATAC-seq changes.,2019-11-13T16:05:35Z,roryk
fb4de28b0a40ef618ff3e443c3b5fdf01e07766b,roryk,rory.kirchner@gmail.com,"ATAC-seq: examine only NF regions. Documentation.

This implements filtering down to the NF regions for ATAC-seq,
including uploading the full and NF-region only BAM. Peak calls
are done on just the NF bam.

This also adds documentation describing all of the outputs of
the ATAC-seq pipeline.",2019-11-13T16:04:32Z,roryk
e9800a46ce0d2d27987f67120780c3e7a44c6ee9,roryk,rory.kirchner@gmail.com,Bump version to 1.1.9a.,2019-11-05T21:37:50Z,roryk
e4291be403e4e34d8f7bd4a5159097cae3a39af1,roryk,rory.kirchner@gmail.com,Update with Picard syntax change.,2019-11-05T21:37:18Z,roryk
f33f1c8e2d1ee9f3e6e9be175b5f6cbc552419fa,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fix picard_reorder syntax call (#3005),2019-11-05T21:35:53Z,naumenko-sa
7709194e30fca4e2750504b30d91988b3c99ac03,Sergey Naumenko,naumenko-sa@users.noreply.github.com,improved description of step4 in scRNA-seq,2019-11-04T18:59:28Z,naumenko-sa
36f10981c454ec32dda9bb4f4378709a87661bc9,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update requirements.txt,2019-10-31T16:47:51Z,naumenko-sa
78441b17f7817a97549b669b552276eb7ccb8672,Sergey Naumenko,naumenko-sa@users.noreply.github.com,update requirements-conda.txt v1.1.8,2019-10-31T16:47:26Z,naumenko-sa
92b1a9a1df4507559a507f406b290080c1603739,Brad Chapman,chapmanb@50mail.com,"Merge pull request #2998 from naumenko-sa/master

fixed a bug in variation/effects/vep",2019-10-31T16:18:26Z,chapmanb
e59266c165f984b2900fea6cbb77c70268a5b0bb,Sergey Naumenko,naumenko-sa@users.noreply.github.com,Update HISTORY.md,2019-10-31T14:59:17Z,naumenko-sa
6bf4d3ff25771a7c5e503f2e7fa2e8fe1a5363df,naumenko-sa,evolgenomicslab@gmail.com,    fixed a bug in variation/effects/vep,2019-10-31T14:52:50Z,naumenko-sa
42ab5a9380f18e14baa31c3ce003ffa69f6c9cee,roryk,rory.kirchner@gmail.com,Prep for 1.1.8 release.,2019-10-29T00:59:23Z,roryk
5b3e9798060ec55ddca4b2fa9bbf866772a60ade,roryk,rory.kirchner@gmail.com,"Don't require development version to upgrade.

Implements Brad's suggestion in #2993.",2019-10-28T21:28:10Z,roryk
90932a1960718ffbff850ba2bca2b326ac816f10,roryk,rory.kirchner@gmail.com,Allow keep_multimapped and keep_duplicates to be boolean.,2019-10-28T14:18:27Z,roryk
98d32c83ddef24c12276e823f65d330c436f05bf,roryk,rory.kirchner@gmail.com,Fix typo: keep_multimappers -> keep_multimapped.,2019-10-28T14:18:27Z,roryk
c4178f7d20a35a48e44fa82e85e7f4e2caedac3f,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"bumped version of this config = v39

otherwise it is not working, and vep binary installed through bioconda v98 is looking for the absent v98 cache",2019-10-27T03:34:40Z,naumenko-sa
555b6571d1cb5f41d754f8a177de71d032dd647a,roryk,rory.kirchner@gmail.com,Make logo higher resolution.,2019-10-25T16:58:22Z,roryk
d2b28855e0b1ef6ff5ee3921ff9d26aefacb5817,Sergey Naumenko,naumenko-sa@users.noreply.github.com,fixed VEP installation path pointing to indexed_vep_cache in v.98 (#2992),2019-10-23T17:47:50Z,naumenko-sa
854b2d805371c73bfd22cc2ac03accd2282abbca,chapmanb,chapmanb@50mail.com,FastQC: avoid low memory usage. Fixes #2989,2019-10-23T09:15:57Z,chapmanb
e268de5c17e0d49c37e07702b08d301ef7678b61,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #2978 from matthdsm/vep98

bump vep resources to v98",2019-10-23T04:02:54Z,naumenko-sa
48e6ec5837776c69609ff42fcc53e2a1aec206af,roryk,rory.kirchner@gmail.com,Add Sergey to contributors.,2019-10-21T21:17:56Z,roryk
419808323104a633af54c802571f7d42e5e9cade,Sergey Naumenko,naumenko-sa@users.noreply.github.com,added a step-by-step description of scRNA-seq pipeline in docs (#2986),2019-10-21T21:00:44Z,naumenko-sa
dd299e6568aed4921d8b0060c7f80fe07c436c30,roryk,rory.kirchner@gmail.com,"Remove ethnicity as a required PED file column

Ethnicity is not required in the PED file description but we were
treating it as if it was, leading to errors with standard PED
files.

Addresses issue brought up in #2961.",2019-10-21T20:59:53Z,roryk
2de362f065b7bf1da7d3fe80514a3bb72837e1c3,roryk,rory.kirchner@gmail.com,"Remove ethnicity as a required PED field.

You can add ethnicity, and any other metadata you want by
including your own PED file and adding a header to it naming each
column.",2019-10-18T17:55:15Z,roryk
1d3ee6c7477fbece473ad642a57e2069336863a2,roryk,rory.kirchner@gmail.com,Bump version to 1.1.8a.,2019-10-18T17:23:05Z,roryk
16d9ea61662224648f8769cf8d4319c031df140c,roryk,rory.kirchner@gmail.com,Explain keep_duplicates and keep_multimappers.,2019-10-18T16:36:49Z,roryk
515039b0015e06afecdbe70d33ef03c6bd0363ad,roryk,rory.kirchner@gmail.com,Update with keep_duplicates and keep_multimappers.,2019-10-18T16:33:24Z,roryk
de31f33721bf05325c6f765905f15b6d377a0df7,roryk,rory.kirchner@gmail.com,"Cleared greylisting skipping message with no input.

'Input' is ambigious, it makes it sound like there is no input to the
ChIP-seq pipeline at all. 'Input control' is clearer that it is a
specific type of sample that is missing.",2019-10-18T16:31:01Z,roryk
cb2f5e71b889574997c2635f343bd538aaf9d97d,roryk,rory.kirchner@gmail.com,"ChIP/ATAC: separate duplicate and multimapper removal

This adds two options:

`keep_duplicates` and `keep_multimappers` both which default to `False`.
This allows for controlling if duplicates and multimappers are removed
or not for ChIP/ATAC-seq.",2019-10-18T16:31:01Z,roryk
07bad1610c6f02b161262ae34d72ee27178564b6,roryk,rory.kirchner@gmail.com,"Produce normalized bigWig files for ChIP/ATAC-seq.

This tries to normalize using CPM, if it fails it produces a warning
and produces non-normalized bigWig files. Normalization can fail if
the BAM files are sparse.",2019-10-18T16:31:00Z,roryk
1b4f78f7a010b0bc95b6353a607a1366757cb43b,roryk,rory.kirchner@gmail.com,Add documentation for ChIP-seq antibody option.,2019-10-18T16:30:59Z,roryk
4e78c50b0317e43f1ace9745bb04c04da8f11cac,roryk,rory.kirchner@gmail.com,Add pre-existing input fix.,2019-10-18T14:17:10Z,roryk
84d53834bcaf8cfeea75d78cc06e5361122f0d9e,roryk,rory.kirchner@gmail.com,Add `use_lowfreq_filter` to HISTORY.,2019-10-18T14:15:58Z,roryk
37c8b7246049934a8bafe69a78560f32f878946f,roryk,rory.kirchner@gmail.com,Add documentation for ChIP-seq antibody option.,2019-10-18T14:13:14Z,roryk
c572e5a864a75f868197e8cf1fb7cc998e572877,chapmanb,chapmanb@50mail.com,"Align prep: correctly check for pre-existing bgzipped inputs in py3

In py3, the external grabix check returned bytes which didn't match
the string comparison, so all files appeared as non-bgzipped and
were re-prepped. Fixes #2940",2019-10-18T09:58:20Z,chapmanb
b168c3796cbdec9b88738c00927b81e9861bc7a0,Sergey Naumenko,naumenko-sa@users.noreply.github.com,bumped bcbio version to 1.1.7 in requirements.txt,2019-10-17T17:58:11Z,naumenko-sa
8ff1723449053b2ac16f795de44fcdee5702be8a,Sergey Naumenko,naumenko-sa@users.noreply.github.com,bumped bcbio to 1.1.7 in requirements-conda.txt,2019-10-17T17:57:29Z,naumenko-sa
2fc5deeb79d8b05e85d4a1d575fadc9a01f53a2c,Sergey Naumenko,naumenko-sa@users.noreply.github.com,added dates for 1.1.6 and 1.1.7 releases,2019-10-17T17:47:54Z,naumenko-sa
6dfe414255541019661a0b17927e7514cfa6c067,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"added config/templates/somatic-duplex-umi.yaml template for Duplex Umi analysis (#2981)

added description of use_lowfreq_filter to documentation",2019-10-16T12:09:25Z,naumenko-sa
ba560b42f876d7128b0a1f99f1061b793f989332,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"introduced use_lowfreq_filter: false yaml option to allow calling of (#2980)

low frequency somatic variants with vardict. Addressed code review",2019-10-15T22:24:47Z,naumenko-sa
426ea28b6524a8a0a75b3816e1b8ddba38f0c381,Sergey Naumenko,naumenko-sa@users.noreply.github.com,added step-by-step descrition of vardict variant calling pipeline with UMIs (#2977),2019-10-15T16:16:02Z,naumenko-sa
4d80615f4486571a3baae4ce6c9f9250e85e5089,Matthias De Smet,matthias.desmet@ugent.be,revert dbsnp bump,2019-10-14T08:50:15Z,matthdsm
7faf9aa12b60b095e5bac4e56980db7e5c428eb1,Matthias De Smet,matthias.desmet@ugent.be,"update vep to v98, sync dbsnp version, enhance vep annotation",2019-10-14T07:49:41Z,matthdsm
38223f89a8d6e20327efa3f094d2a634bd0907bc,roryk,rory.kirchner@gmail.com,"Prep for 1.1.7 release, fixing ChIP-seq pipeline.",2019-10-11T00:36:06Z,roryk
5a3ea3df85758d13ae51610a0939d20f2f9bb65b,roryk,rory.kirchner@gmail.com,"Use namedtuple instead of dataclasses.

dataclasses isn't supported in 3.6. I fixed this before, but it
looks like I didn't commit the change.",2019-10-11T00:33:52Z,roryk
f150184f7b03bf33839f2175d3774e5e2b52c6d3,roryk,rory.kirchner@gmail.com,Prep for 1.1.6 release.,2019-10-10T16:30:12Z,roryk
a3d6be1ea3f95b7fcd895586ab30801c9f17eef1,roryk,rory.kirchner@gmail.com,"Add support for specific antibodies to ChIP-seq.

These can be set by setting in the `algorithm` section:

chipseq:
    antibody: your-antibody-name

It will automatically set the correct peak calling settings for your antibody.",2019-10-08T21:29:54Z,roryk
3382c0b610ce1088ff5fd78c0b062156ed92e22e,roryk,rory.kirchner@gmail.com,compres -> compress typo fix.,2019-10-08T20:59:49Z,roryk
7f8e266f79ec2a3e2ae097e88512640f739d3730,roryk,rory.kirchner@gmail.com,Expand -B option so it is clearer what it is.,2019-10-08T20:59:08Z,roryk
81e5995c743a2be89d2e97d421c559b12f47e700,chapmanb,chapmanb@50mail.com,"Remove references to CADD, no longer used in latest GEMINI

CADD support is not directly included in latest GEMINI which
uses vcf2db and the download support is not connected to any
actions in bcbio.  Fixes #2965",2019-10-04T09:41:53Z,chapmanb
188c001885f8d6005efa6ced297acb8a75de2714,chapmanb,chapmanb@50mail.com,Octopus: cleanly handle both BED and region based command line inputs. Fixes #2961,2019-10-03T09:21:38Z,chapmanb
8d60e8243ed112f0ac1f558a446cb08c786c0c1c,chapmanb,chapmanb@50mail.com,"Gemini: skip database creation of ensemble, avoiding vcf2db errors. Fixes #2961",2019-10-03T09:21:03Z,chapmanb
b6dc2dc82a011d760ff03a73034459e78d062c0b,roryk,rory.kirchner@gmail.com,Add STAR junction file upload information.,2019-10-02T18:05:47Z,roryk
a763abe25571ea0c2be442c78c8b3e12d755c39d,roryk,rory.kirchner@gmail.com,Upload the SJ tab file from STAR.,2019-10-02T18:03:22Z,roryk
7c2332e84dc3c648d13fec40a8d263bdd81bb0ae,roryk,rory.kirchner@gmail.com,"Move oncofuse file to it's own directory.

Thanks to @areddy965 for the suggestion.",2019-10-02T17:50:37Z,roryk
8e0c001edd0e88b59ae53e545110fe38f98a55ff,roryk,rory.kirchner@gmail.com,"Upload STAR splice junction files.

Thanks to @areddy965 for the suggestion.",2019-10-02T17:21:19Z,roryk
538be342403d14c382940d653b8dd0bdf7580f8a,roryk,rory.kirchner@gmail.com,Add note about downsampled qualimap.,2019-10-02T15:13:28Z,roryk
ef3f5d4979e16c656815b7c998faa5ad2ddf18e1,roryk,rory.kirchner@gmail.com,"Downsample qualimap BAMs for RNA-seq.

If you need the full qualimap run, set:

`tools_on: [qualimap_full]` if you would like to run qualimap on the
full BAM files.

Thanks to @areddy965 for the suggestion.",2019-10-02T14:47:14Z,roryk
9d5a82ed6f7d87971509b2e18d2973d920b5e95d,chapmanb,chapmanb@50mail.com,Octopus: fix bug with producing compatible VCF for germline. Fixes #2961,2019-10-02T09:36:16Z,chapmanb
894445a96bc0b0f9f1aa30aa0849f40f456b7c1c,roryk,rory.kirchner@gmail.com,"Add gatk-cnv and cnvkit incompatibility note.

This caveat appeared in the configuration section, but not in the pipelines
documentation where we describe how to produce a panel of normals.",2019-10-01T22:45:52Z,roryk
5acbbb12a1077b965f7952672406f207b3c02190,roryk,rory.kirchner@gmail.com,"gatk4-cnv -> gatk4cnv in documentation.

Thanks to Sakshi Gulati for pointing out this oversight.",2019-10-01T22:43:04Z,roryk
97da39cd8d085a21c407b68d3d2f8c33f975e64d,Sergey Naumenko,naumenko-sa@users.noreply.github.com,updated Drosophila melanogaster annotations in VEP and snpeff (#2962),2019-10-01T19:59:08Z,naumenko-sa
48e0ade15830f0736d48979438b2ddcca9d50105,Sergey Naumenko,naumenko-sa@users.noreply.github.com,updated core.rst about 30G for dev environment,2019-10-01T15:49:51Z,naumenko-sa
a65f4b102ea42c83aa6cc7e2771285bc2fc73339,chapmanb,chapmanb@50mail.com,"MuTect2: allow passing custom parameters to filtering

Fixes #2957",2019-09-30T09:17:18Z,chapmanb
65aa00e860369b57909bc30204f7bd4bf65d04f5,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Support of correct_umis for a pre-defined set of barcodes (#2949)

This adds support for adding a whitelisted set of UMIs similar to the way we provide for a cellular barcode whitelist. The flag to do this is `correct_umis`, which takes a file of whitelisted UMIs. This is useful for some protocols that use a restricted set of UMIs.

This also includes a few documentation fixes that came up while testing:

1) Clarified how to create a testing environment
2) Clarified how `min_allele_fraction` works, it is confusing that fraction here is a percent.",2019-09-25T18:51:52Z,naumenko-sa
6c3b46543a5e502528cec6b078ef6e8ab7e71e28,roryk,rory.kirchner@gmail.com,Move arriba calls to the arriba subdirectory when uploading.,2019-09-24T00:28:09Z,roryk
2aee4b5dac034cbbf65d584b938c6bc33505c4c2,roryk,rory.kirchner@gmail.com,Fix arriba logging message.,2019-09-11T20:07:20Z,roryk
42edeff9565dcf2bc6f12711efcd732452094c98,roryk,rory.kirchner@gmail.com,Add arriba to the RNA-seq tests.,2019-09-11T20:07:14Z,roryk
ab9b2f41c10bb90e9315d82a7e2ef51fbe131417,roryk,rory.kirchner@gmail.com,Add arriba files to upload directory.,2019-09-11T20:07:06Z,roryk
159c17f8f6249e1746302a38df230824c78c38db,roryk,rory.kirchner@gmail.com,Add ATAC seq to heading to make it clear we support it.,2019-09-11T14:51:49Z,roryk
f2e2e086860de75f8037d45fb65d334b8f69ba67,roryk,rory.kirchner@gmail.com,Add methylation documentation.,2019-09-10T20:42:36Z,roryk
be3d5bfaaa8fbb588c621f6495b3481ade77409c,roryk,rory.kirchner@gmail.com,"Move quantify_genome_alignments to RNA-seq.

Mistakenly was added to the single-cell configuration section.",2019-09-09T22:37:29Z,roryk
c82023f3e497dae707ef421af1b5f784b869ef79,roryk,rory.kirchner@gmail.com,"Add cram vs cram-lossless blurb to documentation.

Closes #2936.",2019-09-09T22:35:11Z,roryk
05f088353d2b3498f6f77006f0fcafead784dcb7,roryk,rory.kirchner@gmail.com,"Fix setting up logging in parallel environments.

I missed copying and pasting a line when refactoring this.",2019-09-05T19:15:55Z,roryk
8445683dc1bf18b87a7bd322d2480beee43a0d82,chapmanb,chapmanb@50mail.com,DNA damage: avoid using ensemble for summary QC. Fixes #2931,2019-09-05T09:13:21Z,chapmanb
8bba09bcdf098cd7a68bee13af1e2c0b07473096,roryk,rory.kirchner@gmail.com,Update with bisulfite sequencing pipeline.,2019-09-04T13:43:10Z,roryk
225af4a31870c606b3b385fa1c1ce6a5adcb5571,roryk,rory.kirchner@gmail.com,Merge branch 'master' into wgbs-seq,2019-09-04T13:28:59Z,roryk
96eb2f213014c9885983163a8391fe6e2114ee7a,roryk,rory.kirchner@gmail.com,Update with recent changes.,2019-09-04T13:25:22Z,roryk
32b2d6dfc163d3fe4bbe3479d685e43965875c99,roryk,rory.kirchner@gmail.com,"Update recordings of program version

1) we were just relying on the manifest for some program versions,
and not all programs have versions in the manifest. For programs
missing versions, we look them up via the command line when
available again.
2) the command line version checking code needed to get updated for
python3 and have the subprocess stdout get .decoded()
3) removed the dead code referring to brew installs
4) added in the missing multiqc version

Closes #2916. Thanks to @ohofmann and @FedericoComoglio for
pointing out some of the issues.",2019-09-04T04:12:44Z,roryk
053fde6bdd51ac34e6afd857a41edcee2d9300ec,roryk,rory.kirchner@gmail.com,"Explicitly set locale to support UTF-8.

Addresses #2890. Useful discussion is in that issue as well.  This might
need to get reverted if it breaks a lot of stuff for folks.

We prefer C.UTF-8 if it is available. If not then we fall back to
whatever the first locale on `locale -a` is set. C.UTF-8 is the default
locale if `locale` is not availble for some reason.",2019-09-03T22:51:32Z,roryk
3ed523f04cbbbbf3ef19974d5a7585ed43af2c20,chapmanb,chapmanb@50mail.com,"Mutect2: another increase in floor reads for zero callable

Previous default of 4 did not work for all cases, so continue this
hack-y workaround. Fixes #2829",2019-09-03T18:09:35Z,chapmanb
002c8f465a8cd18221a8d2e792cd0e8592035e71,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2928 from limbus-medtec/2925

#2925 fixed samtools call in preseq script",2019-09-02T06:05:27Z,roryk
76b009be4ff65b757ac15219fc4222fdf54635a4,Ben Liesfeld,ben.liesfeld@limbus-medtec.com,#2925 fixed samtools call in preseq script,2019-09-01T14:45:01Z,gabeng
d6b40b94bc13a87725cd238698efa32f2c5a6d38,roryk,rory.kirchner@gmail.com,"Be clear about where program versions come from.

Towards cleaning up bcbio/bcbio-nextgen#2916.",2019-08-29T20:57:56Z,roryk
eb7c3d49b15037e7c0d0d162b0644974b7105853,roryk,rory.kirchner@gmail.com,"remove chanjo from program versions to be included

Addresses part of bcbio/bcbio-nextgen#2916.",2019-08-29T20:57:14Z,roryk
f46aad0eb42ea19f30b57612e287c0719f8c7357,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2920 from naumenko-sa/master

fixed formatting in docs",2019-08-27T17:37:29Z,roryk
2596a679ff35fb14a6c47ef0b47c793c80e04436,naumenko.sa,evolgenomicslab@gmail.com,fixed formatting in docs,2019-08-27T00:32:59Z,naumenko-sa
2be0907a2e6289a691b079a7abdfb98083bc7262,roryk,rory.kirchner@gmail.com,Upload Seq2c gender prediction if generated.,2019-08-23T18:48:52Z,roryk
47bdac499fdec6029d3a43c0a63a39ab4b452225,roryk,rory.kirchner@gmail.com,"Skip MINT if the tRNA files are not installed.

Thanks @lpantano for suggesting the fix and thanks to @huipan1973
for opening up the issue.

Closes #2905.",2019-08-22T13:45:21Z,roryk
a88686523cfc32c04d1e8fa4ef24909b127a9baf,roryk,rory.kirchner@gmail.com,Testing: Turn on more expression callers for smallRNA.,2019-08-22T13:45:21Z,roryk
5e1c280d9ec9a63e1f9268ae44eb49102920d9af,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2909 from naumenko-sa/master

docs formatting",2019-08-20T16:37:28Z,roryk
39749fe0595bae712321611d84a3860a6c61cca4,naumenko.sa,evolgenomicslab@gmail.com,docs formatting,2019-08-20T14:49:23Z,naumenko-sa
7e2e931274bc054df79b1ae6b44134db652377e8,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #2908 from naumenko-sa/master

Just a link to Mary's tutorial on SC and bcbio",2019-08-20T14:41:10Z,naumenko-sa
673f3b8693e7a44260953c2219bde1858d2ab11e,naumenko.sa,evolgenomicslab@gmail.com,docs,2019-08-20T14:24:50Z,naumenko-sa
96a536ce512db2e6753582ef66a8a9a18fde1e22,naumenko.sa,evolgenomicslab@gmail.com,docs update,2019-08-20T14:20:37Z,naumenko-sa
245322b0e6238aa2bb23a35ce616abe3c9bb462a,naumenko.sa,evolgenomicslab@gmail.com,added a link on how to run bcbio for single cell RNA-seq,2019-08-20T14:18:28Z,naumenko-sa
0da694f955c9d58af3b2040944dca043280406b0,roryk,rory.kirchner@gmail.com,"arriba: use commas, not spaces for -i.

Addresses issue in #2751. See suhrig/arriba#29 for more explanation.
Thanks to @ohofmann who found the bug and got us about 95% of the way to
the solution.",2019-08-20T00:32:16Z,roryk
a1b950873cd5f628f198f87f4e6cfad2741d66da,chapmanb,chapmanb@50mail.com,Handle new illumina flowcells ending with X3,2019-08-19T17:22:34Z,chapmanb
ac22e2bd13a35002a91c59d387b397c959c278a3,chapmanb,chapmanb@50mail.com,Handle new illumina flowcells ending with X3,2019-08-19T17:18:17Z,chapmanb
e31d9bad50cc6b537c7c9e50228771ee80eff914,roryk,rory.kirchner@gmail.com,"Remove vestigal assertion.

Fixes #2901.",2019-08-19T15:53:39Z,roryk
9a6f74f14281c71d0c970581851c36c1c03778f2,chapmanb,chapmanb@50mail.com,MetaSV: ensure run with python2 isolation #2899,2019-08-16T18:57:50Z,chapmanb
b38dc84fd10e7f22df7a880692bc586384f69f2d,chapmanb,chapmanb@50mail.com,"Remote support for looking up vcfanno configs with multiple genomes

Ensure remove vcfanno lookups are keyed on genome of interest. Fixes #2900",2019-08-13T14:16:14Z,chapmanb
2264f090910e5b03e5b2bfb3028a58f5c2526a20,roryk,rory.kirchner@gmail.com,"Support for the arriba fusion caller.

Blacklisting only supports GRCh37. hg38 is not supported
yet, but is next on the list of features to add.",2019-08-12T23:55:44Z,roryk
672849c85f612db39d312c8f427dcedff9873145,roryk,rory.kirchner@gmail.com,Add bcftools -> vcftools switch.,2019-08-11T17:34:52Z,roryk
7bb1c70a76aaf6d6da145519308b969f75924d16,roryk,rory.kirchner@gmail.com,"Add bcftools mpileup support.

samtools mpileup is being deprecated, this adds a function which mimics
the samtools preparation function. `bcftools mpileup` called an indel
not called by `samtools mpileup` but otherwise calls the same in our
mini test dataset.

This doesn't replace the `samtools mpileup` calls in `varscan.py` and
`contamination.py`. Swapping in for those breaks them, and I'm not sure
why. I think a non-BCF intermediate format generated by samtools needs
to be made.",2019-08-11T17:30:21Z,roryk
13daa1405d992649f482ee4ce5f4c058a55a9805,roryk,rory.kirchner@gmail.com,Add re and logging changes.,2019-08-11T14:59:48Z,roryk
2bcb644c1bd061add6110d483af69f14850630bc,roryk,rory.kirchner@gmail.com,"Add regular expression prefix to re calls.

@smoe found all of these, I just copied what he did. Thanks
so much.",2019-08-11T14:46:40Z,roryk
cd91682d45ba2f9cdbaaf87949e59121c07b3579,roryk,rory.kirchner@gmail.com,"Add informative messages to bcbio startup.

Add the version of bcbio that is running and paths to the configuration
files being used. Thanks to @ohofmann for the suggestion.",2019-08-11T14:33:21Z,roryk
9506ee57ae12f589fd1baa8236c16df9060b93f3,roryk,rory.kirchner@gmail.com,Update with STAR `transcriptome_gtf` fix.,2019-08-11T13:16:35Z,roryk
332b1e56978214cbe69f01f66374be4ff1c260f5,roryk,rory.kirchner@gmail.com,"Make STAR respect the transcriptome_gtf option.

Closes #2223.",2019-08-11T13:14:16Z,roryk
86edda9bedb3e90b814b0c54f3efb74fdf23aba8,roryk,rory.kirchner@gmail.com,"Swap `--no-environ` to `--vanilla` for R

`--no-environ` isn't enough to prevent some user-specific R configuration
options from leaking in. `--no-environ` is a subset of the isolate
applied when `--vanilla`

Closes #2885.

Thanks @mjsteinbaugh for pointing out that `--vanilla` is a better way to
go with these calls.",2019-08-10T20:21:01Z,roryk
655addf009b02696a5cc866efb9a04c313ba35e8,roryk,rory.kirchner@gmail.com,Add quantify_genome_alignments documentation.,2019-08-10T13:52:11Z,roryk
54feb167675c79ac08eea885abb69f86ae93ebff,chapmanb,chapmanb@50mail.com,Tests: tools_off flag (commented out) for easy GATK3 testing,2019-08-02T05:53:53Z,chapmanb
eae74589401dae0234c5deb8be5c07f1204e7ccb,roryk,rory.kirchner@gmail.com,Add --validateMappings to spikein quantification.,2019-08-01T22:23:19Z,roryk
ee24632d3faefebddf30ce10f4ed8ba997e80770,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2894 from lbeltrame/fix-cnvkit-options

Fix setting CNVkit options in configuration",2019-07-30T13:49:18Z,roryk
a23aecb83a735ddbd6d2d26432b7976c3b5d8a79,Luca Beltrame,luca.beltrame@marionegri.it,"Fix setting CNVkit options in configuration

In #2402, an (undocumented by design) option was set to allow the use of
alternative segmentation methods by CNVkit. However, the logic of
extracting configuration was swapped, thus options were never set.

For a typical YAML:

```yaml
resources:
  options:
    cnvkit_segment: [--drop-low-coverage, -m, hmm]
```

Before:

```python
resources = config_utils.get_resources(""cnvkit_segment"", data[""config""])
user_options = resources.get(""options"", [])
```

The first option would not pick up ""cnvkit_segment"", but only the
fallback inside `get_resources`, so `user_options` would always be
empty.

After:

```python
resources = config_utils.get_resources(""options"", data[""config""])
user_options = resources.get(""cnvkit_segment"", [])
```

And like this they are correctly set.",2019-07-30T07:35:37Z,lbeltrame
7a34e65448cee9bbce39383999d56d6c7f6307e8,roryk,rory.kirchner@gmail.com,"Fix .ix deprecation warning.

The proper way to slice is with .loc or .iloc with the new
pandas.",2019-07-29T20:29:53Z,roryk
bbc4139e61f3b5c70ff54e69e2454d6246b4837c,roryk,rory.kirchner@gmail.com,"fix from_csv deprecation.

from_csv is not suppored anymore in pandas in favor of
read_csv.",2019-07-29T17:57:35Z,roryk
cdb2d227485c7fd17164bd81f9d0a8c318258b0d,chapmanb,chapmanb@50mail.com,Document usage of tools_on: [gvcf] versus jointcaller,2019-07-28T07:14:44Z,chapmanb
9290b184e8a0bcdbef4a6f58c522d202d9ca8e83,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2882 from naumenko-sa/master

described how to load scRNA-seq results from bcbio into Seurat",2019-07-23T17:16:45Z,roryk
874d74966b3f9b9d9647438baabafc17c015df87,roryk,rory.kirchner@gmail.com,Add information about the mutect2 read model addition.,2019-07-23T17:11:08Z,roryk
7f77f6f672dcaf77f84c4e04951ddb160af48686,Brad Chapman,chapmanb@50mail.com,"Merge pull request #2856 from lbeltrame/read-model

[PoC] Use Mutect2's new read model for filtering",2019-07-23T11:59:03Z,chapmanb
9d6a1f1ad30a5b3a682b93d5aff9d98c54e4beaa,roryk,rory.kirchner@gmail.com,"Fix string and int comparison.

Thanks @pfpjs!",2019-07-22T17:48:49Z,roryk
d3f78170ed65542fe083ba226b803eef1a1a03b1,roryk,rory.kirchner@gmail.com,"Look in VEP not vep for Ensembl releases >= 97.

Closes #2883.

Thanks to @jxshi for the fix!",2019-07-20T14:28:01Z,roryk
48434c50e4fd8efc8ff45210e92be6c43a43d873,roryk,rory.kirchner@gmail.com,Update HISTORY with quantify_genome_alignments method.,2019-07-19T16:36:14Z,roryk
b32abccc8e736c35ac63ed45635d3a7cb09f0e39,roryk,rory.kirchner@gmail.com,"Add decoy based method for Salmon.

This kicks in if you are using hg38, and have the
`quantify_genome_alignments` option set, since we can't use STAR as an
aligner currently with hg38.",2019-07-19T00:51:59Z,roryk
f7ec431e49b60e25aae3876baf8786d8c98d6219,roryk,rory.kirchner@gmail.com,Get tx2gene hotfix patch.,2019-07-18T16:00:18Z,roryk
6893149e6e058b87e4239af07f06c3a6991df5df,roryk,rory.kirchner@gmail.com,"Ignore entries where gene_id is empty.

This issue was caused from a tx2gene.csv file that looks like this:

ENSRNOT00000076889
ENSRNOT00000076889      ENSRNOG00000051069

Fixes #2884 and hbc/bcbioRNASeq#127.",2019-07-18T15:35:11Z,roryk
5060660cdfef480f0fe88da5eeb66825b2cb6cf2,roryk,rory.kirchner@gmail.com,Update HISTORY with Salmon changes.,2019-07-17T19:25:02Z,roryk
8e858e28f09c796c3c9ae29404c3cec81cc0e74d,roryk,rory.kirchner@gmail.com,"Support for Salmon with STAR alignments.

Rob's group has a preprint out showing that for some cases, it is better
to quantitate on the whole genome alignments instead of just the
transcriptome. This adds support for that, with the
`quantify_genome_alignments` option.

This does the following:

1. Add --validateMappings to Salmon read quantification
2. Add a `quantify_genome_alignments` option; if set to True, this
quantiates from the whole genome alignments that have been
translated to the genomic coordinates, not the reads.

This works ONLY with STAR as the aligner, currently, so we can't use
this with hg38. We will be adding an option to do the SA mode in Salmon
which will take decoys in order to be able to handle hg38.  We're also
implementing hg38 support for STAR in bcbio by stripping out the ALTS
alleles before making the index.

This is functional right now and available for folks to try out.",2019-07-17T19:17:08Z,roryk
6ad0924db2f14aba08e1f3c4ae864eeacb722eff,naumenko.sa,evolgenomicslab@gmail.com,described how to load scRNA-seq results from bcbio into Seurat,2019-07-17T18:42:51Z,naumenko-sa
c7cbf85c4615cc390f92f32749233c2037a38cb5,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2879 from naumenko-sa/master

decouples VEP installation from bcbio run",2019-07-16T16:27:26Z,roryk
b94977cef9d062105e8741a30a01c5ca399cda39,Sergey Naumenko,naumenko-sa@users.noreply.github.com,"Merge pull request #2878 from matthdsm/vep97

update genome configs for VEP97",2019-07-15T19:13:43Z,naumenko-sa
5ef41613de7d76c91c508d57a68ae9d2baa4d352,naumenko.sa,evolgenomicslab@gmail.com,decouples VEP installation from bcbio run,2019-07-15T18:39:49Z,naumenko-sa
120590bb599ffc01764f5a4daa9acb81c8a1ff4d,Matthias De Smet,matthias.desmet@ugent.be,update genome configs for VEP97,2019-07-15T11:31:01Z,matthdsm
efc28bf7d5ea069b87713290385f59cec5ea56c8,Rory Kirchner,rory.kirchner@gmail.com,Add contributor code of conduct.,2019-07-12T18:18:56Z,roryk
c945ca83cab3469961aa75d29e7bd865b78c0997,chapmanb,chapmanb@50mail.com,Document and lint for gatk-cnv and cnvkit in the same sample. Fixes #2875,2019-07-10T13:44:27Z,chapmanb
5786cb7a951a402c06e66980d93d3cc91e2424c1,roryk,rory.kirchner@gmail.com,"Descibe where to point the prepare_cosmic script.

It wasn't clear from the documentation where /path/to/bcbio should
point to.",2019-07-02T18:35:23Z,roryk
be80205edd0acbb159d2111e0f7ab6890e9ae4c0,Luca Beltrame,luca.beltrame@marionegri.it,"Try to use tools_on

Needs testing",2019-07-02T08:22:42Z,lbeltrame
5e7afce7aa450d28f557a19e7cbc198ec0c11a14,Luca Beltrame,luca.beltrame@marionegri.it,"Fix file generation, also use out_file to make sure the file is saved",2019-06-28T15:18:50Z,lbeltrame
b6d2acbd4232a617b15a63f5a87ad51a3ea0c093,Luca Beltrame,luca.beltrame@marionegri.it,"Use region-specific file names instead of borrowing ones from BAM files

This will ensure that each block has its own files.",2019-06-28T15:13:26Z,lbeltrame
69c3821f3a59a7a83a58ceda2b1127611f1b91e7,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into read-model,2019-06-28T14:07:35Z,lbeltrame
2684d25cb2538c05a410f46b9bf92dc97936c6b9,roryk,rory.kirchner@gmail.com,Cleanup keys duplicated in datadict.LOOKUPS.,2019-06-27T16:39:59Z,roryk
49793e7998c7f7b2dc0517f5e832327b8798237d,roryk,rory.kirchner@gmail.com,"Fix for bcbioRNASeq templating with no organism set.

Thanks Zhu!",2019-06-27T15:24:59Z,roryk
f26868770861f77cb348d059fada87d62e694007,roryk,rory.kirchner@gmail.com,"Determine valid algorithm keys from the datadict.

This means you do not have to add new keys in two different places.",2019-06-27T14:05:00Z,roryk
60f3224640fe511402f6f6e4e52350bbc50c89ac,roryk,rory.kirchner@gmail.com,"Improve warning about missing COSMIC with hg38.

COSMIC for hg38 automatically needs to be manually installed. The
warning was pretty uninformative about why annotations were missing, so
I augmented the warning with a link to the documentation.

Fixes #2864.",2019-06-27T13:14:19Z,roryk
5402dc1ec896ace83e163b52efea47ef9a8e681d,Luca Beltrame,luca.beltrame@marionegri.it,Only do that when all BAMs are paired,2019-06-26T15:25:55Z,lbeltrame
20374f622aa4ef495e78cb84b24dc8119b0e9950,Luca Beltrame,luca.beltrame@marionegri.it,Conditionalize the read model filter only on paired end data,2019-06-26T15:24:51Z,lbeltrame
2ad31e51eb4315333ccfef9bfa812fda1abafc8c,roryk,rory.kirchner@gmail.com,Fix \d deprecation warning.,2019-06-26T15:20:12Z,roryk
8b1eec45a5a174434f602d1fa7fb171d7bb3c5fb,roryk,rory.kirchner@gmail.com,Capture seq2c version information.,2019-06-26T15:20:07Z,roryk
9ec2b16957804f318c112833ec462340aeb94f63,chapmanb,chapmanb@50mail.com,py3: fix for keys iterator. Thanks to @lbeltrame. Fixes #2863,2019-06-26T09:09:34Z,chapmanb
b36a08b2027246fc5a7981e33ce480da2c4a23cd,roryk,rory.kirchner@gmail.com,"For sorting for bismark deduplication

bismark deduplication needs the BAM file sorted by queryname, so we
ensure that before running it.",2019-06-25T20:54:37Z,roryk
de2915c28f77aa8561da864ef856a6790f563b4f,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2862 from naumenko-sa/master

 Added a note about reverse complement sample barcodes for inDrops SC",2019-06-25T20:02:40Z,roryk
edf99527a28e7e6a98a9e29759ebe78cc5f9b850,naumenko.sa,evolgenomicslab@gmail.com,Added info about reverse complementary barcodes.,2019-06-25T19:49:42Z,naumenko-sa
c9a35366c5403fb41130b7958b17e9c9dc69d001,naumenko.sa,evolgenomicslab@gmail.com,Added a note about reverse complement sample barcodes for inDrops SC RNA-seq protocol.,2019-06-25T19:46:49Z,naumenko-sa
7eb39e195df98288b9b22b79842114f3d38d3681,roryk,rory.kirchner@gmail.com,"Add locale export to peddy commmand.

peddy uses click and click needs to have the locale set before
running. Addresses #2861.",2019-06-25T15:02:41Z,roryk
2eb8d84c317af467eabc1c29a9ba70cc98852931,roryk,rory.kirchner@gmail.com,"Force unstranded for qualimap with RNA-seq data

We use qualimap mostly to look at the overlap of genomic features for
RNA-seq, and qualimap returns incorrect results when looking at hisat2
alignments when run in stranded mode. With the same firststrand
protocol, setting the stranded mode to forward worked with one dataset
and another dataset needed it to be set to reverse.  I think hisat2
might be mucking up the flag somehow, but I haven't been able to figure
out why.

Just running in unstranded mode gives results close to the stranded
mode, so we will do that for now.",2019-06-24T19:47:09Z,roryk
0dd6ab7002d6fe3c66e7c59dc19011b017646c19,chapmanb,chapmanb@50mail.com,Doc: remove pointers to dbNSFP and friends with VEP. Fixes #2855,2019-06-24T09:40:19Z,chapmanb
a7f8db7f36bacd40ff3b45e6a66fb78b34365b92,chapmanb,chapmanb@50mail.com,Doc: remove pointers to dbNSFP and friends with VEP. Fixes #2855,2019-06-24T09:38:36Z,chapmanb
e6f944f410355411a24be4bee945143aa3b144ec,chapmanb,chapmanb@50mail.com,Avoid setting GATK specific resource options in default #2860,2019-06-24T09:33:35Z,chapmanb
16547458cfcacb13bd60d570ae7834f2270598b1,chapmanb,chapmanb@50mail.com,py3: avoid decode errors when checking java versions. Fixes #2861,2019-06-24T09:29:30Z,chapmanb
637cc799b3c4fcba190d4819ad9e42ccedda406e,roryk,rory.kirchner@gmail.com,"Fix unicode issue when installing mutect.

I think this should address #2861.",2019-06-23T21:07:32Z,roryk
0101075fbb4d96914207cd00fa812ec2cd200930,roryk,rory.kirchner@gmail.com,Add gene and transcript count tables to bcbio output.,2019-06-23T16:36:28Z,roryk
4433a79e0244f115e1a8777af992c5093956d157,roryk,rory.kirchner@gmail.com,"Fix AF_asj typo in GRCh37-gemini.conf

Fixes #2859. Thanks @zzupmc!",2019-06-22T15:07:58Z,roryk
32d13c16e05df09949a48dc7bf0a9252aca4775e,Ilya Sytchev,isytchev@hsph.harvard.edu,Make sure to update data variable and code cleanup,2019-06-18T15:09:08Z,hackdna
322fd2e44da3e81a8856fe133e392be1346800c5,Luca Beltrame,luca.beltrame@marionegri.it,"[PoC] Use Mutect2's new read model for filtering

According to the GATK's doc, Mutect2 can detect read orientation
artifacts (such as stand bias caused by FFPE, or by Illumina Novaseq)
and improve results.

This is a proof of concept (completely untested at this point). In
particular this is posted for early review.

Some important points to act on:

- Do we want this on at all times (GATK says it won't hurt performance)?
- How do we make sure this is only run for paired-end samples (see
FIXME)?
- Is the current simplistic logic for file names acceptable?

This will fix issue #2846.",2019-06-18T07:42:13Z,lbeltrame
7311e627b498e734ef5efd155fccde4569f8eac6,Ilya Sytchev,isytchev@hsph.harvard.edu,"Add deduplication step to WGBS seq pipeline, code cleanup",2019-06-17T21:55:41Z,hackdna
f7c813f08df006fb2bf11d15c04000d6692ce773,Ilya Sytchev,isytchev@hsph.harvard.edu,Set bismark as default aligner in bisufile_seq config template,2019-06-17T17:47:00Z,hackdna
672ff526b644d8d5db996245155454296e3a2568,Ilya Sytchev,isytchev@hsph.harvard.edu,Add --cytosine_report option to _run_meth_extractor(),2019-06-17T17:43:30Z,hackdna
94422061e153d580c1f9053a10851112042d5d4f,Ilya Sytchev,isytchev@hsph.harvard.edu,Rename _get_aligner_index() to get_aligner_index(),2019-06-17T17:42:21Z,hackdna
badf5472dfdd0c554d9360677a44a1b49ca12f77,Ilya Sytchev,isytchev@hsph.harvard.edu,Merge branch 'master' into wgbs-seq,2019-06-17T15:40:57Z,hackdna
7fb884df990610c553043d5ed9cdf2b4b35f178a,chapmanb,chapmanb@50mail.com,"MuTect2: increase callable reads for log error workaround

Setting callable stats to 1 reads can also trigger log errors in some
cases. Increase to 4 to match expectations for coverage to work around
the stats generation bug. Fixes #2829",2019-06-14T09:50:16Z,chapmanb
1a5343c094b7a5cd79b7b4eebd527b92392831c6,chapmanb,chapmanb@50mail.com,"VarDict: 1.6 support for downstream filtering with bcftools

1.6 release changes VCF AF definition from single (1) to allele based (A),
which causes bcftools filter errors:
```
The FORMAT tag AF can have multiple subfields, run as AF[sample:subfield]
```
This correctly indexes to avoid the issue and pull the right allele
frequency.",2019-06-13T09:01:09Z,chapmanb
4d1330fd56c99213657adea34a3b30b2018b7be2,Ilya Sytchev,isytchev@hsph.harvard.edu,Merge branch 'master' into wgbs-seq,2019-06-12T20:31:19Z,hackdna
8be24649f504b7b0c7daeb294fb349d90e124da2,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2851 from acidgenomics/fix-typo

Fix description for separators flag",2019-06-12T16:32:23Z,roryk
08635e52a8ed0aa4eab6477e05eef10e3a5b43a1,chapmanb,chapmanb@50mail.com,strelka2: avoid post-process with empty BED files. #2848,2019-06-12T12:59:45Z,chapmanb
ff63c3645a1977ce27c5227ad90cc1d70f083ef3,chapmanb,chapmanb@50mail.com,"GATK joint: use batch size to avoid memory slowdowns on large inputs

Fixes #2852",2019-06-12T12:53:50Z,chapmanb
0ae4b4f8769bd2249b04facf2031ddfe59c010fc,Ilya Sytchev,isytchev@hsph.harvard.edu,Remove num_cores variable from bismark.align(),2019-06-11T16:59:08Z,hackdna
d167a207a14d276318f1ff26e60b481cd0b541ae,Ilya Sytchev,isytchev@hsph.harvard.edu,Cleanup bsmap.py,2019-06-10T15:46:23Z,hackdna
25dd646915ead84b510091556af6049b5198f495,Ilya Sytchev,isytchev@hsph.harvard.edu,Code cleanup and enable support for file renaming by trim_galore,2019-06-10T15:04:04Z,hackdna
ac4a646e444aba42af58ccf81d1382fcf7891d13,Ilya Sytchev,isytchev@hsph.harvard.edu,Cleanup trimming module in wgbsseq pipeline,2019-06-07T20:07:58Z,hackdna
6271a3f432af2352582c83c4ca9dc17447930c14,Michael Steinbaugh,mike@steinbaugh.com,"Fix description for separators flag

The description recommends ""semicolon"" but should read ""comma"" instead.",2019-06-07T14:43:41Z,mjsteinbaugh
d8efdba7fcf371d00ccdd24db86e6b2e47b47663,chapmanb,chapmanb@50mail.com,"strelka2: skip running with empty input BED files

Avoids failures when exclusions result in BED files with no
available regions. Fixes #2848",2019-06-06T09:59:15Z,chapmanb
58fac9a29797fbff89d095329e4c3a4c8c9b6f89,chapmanb,chapmanb@50mail.com,"GATK4 CNV: run with `tools_off: [gatk4]` specified

tools_off does not apply to CNV calling, which is not present in GATK 3.
Fixes #2847",2019-06-06T09:21:48Z,chapmanb
009d99ff1cb34497cc345452ba780a35a39b813b,chapmanb,chapmanb@50mail.com,Provide lookup of DKFZ bias filter in conda environments. Fixes #2838,2019-06-05T09:40:20Z,chapmanb
7309a125b7db670be6595d36bfc61c094b9c18f4,roryk,rory.kirchner@gmail.com,"Add description of viral contamination files.

Closes #2499. Thanks to Vlad, Brad and @audyavar for the discussion.",2019-05-31T13:20:01Z,roryk
c16146672c01ca8d879758741f024556fb4a48dc,roryk,rory.kirchner@gmail.com,python3 fixes for the resource testing script,2019-05-30T19:34:30Z,roryk
b014bb05b81e9b200d32842ea0755380a7edd60c,chapmanb,chapmanb@50mail.com,Encoding fix for writing Unicode VCFs. Fixes #2819,2019-05-30T09:27:46Z,chapmanb
7de32441e112d7b9bf6b235280de77351f2e9dc3,roryk,rory.kirchner@gmail.com,"Don't assume the dkfzbias scripts are in our PATH.

Addresses #2838.",2019-05-29T20:57:51Z,roryk
0c2d727b1faf682da12f64e82a195d5340ccf015,Ilya Sytchev,isytchev@hsph.harvard.edu,Merge branch 'master' into wgbs-seq-update,2019-05-29T18:53:59Z,hackdna
c89b7784b2c771f8789f8273e91a0d75debce9cf,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2839 from bcbio/update-fastq-downsample

Clean up downsample() and make it compatible with Python 3",2019-05-29T17:48:17Z,roryk
8e2a08e46d4ff24a9e9697b07ca5a27367a9eafd,Ilya Sytchev,isytchev@hsph.harvard.edu,Update arg list when calling fastq.downsample() and fastq.run(),2019-05-29T16:16:11Z,hackdna
6074e6de63b3ce7c4d682620a2be2a3a024bf639,Ilya Sytchev,isytchev@hsph.harvard.edu,Merge branch 'update-fastq-downsample' into wgbs-seq-update,2019-05-29T15:46:32Z,hackdna
229ccbcb58966d72171cd8950972cae5dd796b38,Ilya Sytchev,isytchev@hsph.harvard.edu,Clean up downsample() and make it compatible with Python 3,2019-05-29T02:37:00Z,hackdna
aa4e468175e9b59d014ac10f7eaf6f9fd039c71c,roryk,rory.kirchner@gmail.com,Register test markers to fix py.test warnings.,2019-05-28T20:46:16Z,roryk
7d32ec21addea86413be7d5fd9e9f362778ed331,Ilya Sytchev,isytchev@hsph.harvard.edu,Update arg list for downsample(),2019-05-28T19:08:53Z,hackdna
6add470c25179e3e497765843242ceb54e4060d2,Ilya Sytchev,isytchev@hsph.harvard.edu,Revert from downsample_seqtk to downsample,2019-05-28T19:05:51Z,hackdna
cf8613d8387f92156f19738282ac4ffde56f4931,chapmanb,chapmanb@50mail.com,effects: allow passing configuration as list of a single item #1014,2019-05-28T09:37:20Z,chapmanb
be0fd22928f257d95b4a3fadd4057f44abad460b,chapmanb,chapmanb@50mail.com,"MuTect2: avoid FilterMuTectCalls errors with 0 callable in stats files

Recent versions of MuTect2 can produce associated .stats files with zero
callable reads, which causes a filtering error:
```
java.lang.IllegalArgumentException: log10 p: Values must be non-infinite and non-NAN
        at org.broadinstitute.hellbender.utils.NaturalLogUtils.logSumExp(NaturalLogUtils.java:84)
        at org.broadinstitute.hellbender.utils.NaturalLogUtils.normalizeLog(NaturalLogUtils.java:51)
        at org.broadinstitute.hellbender.tools.walkers.mutect.clustering.SomaticClusteringModel.clusterProbabilities(SomaticClusteringModel.java:203)
        at org.broadinstitute.hellbender.tools.walkers.mutect.clustering.SomaticClusteringModel.probabilityOfSequencingError(SomaticClusteringModel.java:96)
        at org.broadinstitute.hellbender.tools.walkers.mutect.filtering.TumorEvidenceFilter.calculateErrorProbability(TumorEvidenceFilter.java:27)
```
This introduces a workaround to floor this calculation at 1 read.
Fixes #2829 Fixes #2832",2019-05-25T09:20:58Z,chapmanb
ca341d7fb0477c87eed6ce997c1bf8edcd67902e,Ilya Sytchev,isytchev@hsph.harvard.edu,Update _run_fastqc function name,2019-05-24T18:30:33Z,hackdna
a1d3a5b18d7cb725f37b4b7773bceb0c474ee702,Ilya Sytchev,isytchev@hsph.harvard.edu,"Merge pull request #2833 from hackdna/patch-1

Update dev infrastructure instructions",2019-05-24T16:47:25Z,hackdna
77d36b5d411314e3929e2a237ad6fa4c4bbf4d02,Ilya Sytchev,isytchev@hsph.harvard.edu,Merge branch 'master' into wgbs-seq,2019-05-24T15:08:07Z,hackdna
07551bb22e84143788149b3ff35e97e820182322,Ilya Sytchev,isytchev@hsph.harvard.edu,Update dev infrastructure instructions,2019-05-24T14:29:30Z,hackdna
bf8d2650ca94536b36a0e747f2b24b59a95163c5,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2831 from hackdna/patch-1

Update vagrant_osx.sh",2019-05-23T22:33:01Z,roryk
e07e66fe8500f737a9c07d0aee1801425d3c3b91,Ilya Sytchev,isytchev@hsph.harvard.edu,"Update vagrant_osx.sh

Option `--sudo` is no longer available, so writing to `/usr/local` fails. Also, installing the genomes requires 10s of GB in the VM, so adding no data by default to make installation more lightweight.",2019-05-23T21:51:51Z,hackdna
68bff24e9d413fa8f32233d1b0e4e3e5074be185,roryk,rory.kirchner@gmail.com,"Flip strandedness of qualimap.

I think this is either a bug in qualimap or my misunderstanding of
what the qualimap option means.

The misunderstanding could be coming from the read being from the RNA
but the RNA is already on the opposite strand of the feature, so when we
have reverse-forward reads, the reverse read is actually in the right
direction of the feature, just not the RNA.

Either that or qualimap has the options flipped. In either case, this
fix fixes the problem.",2019-05-22T15:26:21Z,roryk
bafc19aa6b391ae3c59abc01fe22e711453b0929,Brad Chapman,chapmanb@50mail.com,"Merge pull request #2824 from matthdsm/patch-4

GATK3 version check fix",2019-05-17T09:14:54Z,chapmanb
c0c144bb967b965fd31ace6c17108fd4e87ca80a,Matthias De Smet,matthias.desmet@ugent.be,"GATK3 version check fix

fixes #2823",2019-05-17T05:48:58Z,matthdsm
cf46ac1b6cbe8e641b54a7d36ca4f8fee4d2a61d,chapmanb,chapmanb@50mail.com,"GATK BQSR: avoid creating on the fly BAM index; fixing GATK 4.1.+ issue

Avoids current problem in GATK 4.1 that leads to ApplyBQSRSpark
failures. Thanks to @Fazulur. Fixes #2806",2019-05-15T09:36:12Z,chapmanb
d21c4b2f04e4f45f477b319ac34a87a8a41737dd,roryk,rory.kirchner@gmail.com,"encoding issue fix when filtering a VCF with unicode characters

Fixes #2819.",2019-05-13T21:05:26Z,roryk
14d650c11e7328dc91cbc1d45b94a5263816f984,chapmanb,chapmanb@50mail.com,"VEP: avoid conflicts with new `--most_severe` option

Moves large number of arguments that conflict with `--most_severe`
(https://useast.ensembl.org/info/docs/tools/vep/script/vep_options.html#opt_most_severe)
Fixes #2813",2019-05-07T10:00:57Z,chapmanb
b395cdc7be58890b3ad7fbe47d4efbc2408fa6e8,roryk,rory.kirchner@gmail.com,"Prepare for read_table deprecation.

This cleans up various read_table warnings we were seeing.

Thanks to @mjsteinbaugh for the heads up. Closes #2805.",2019-05-06T20:10:56Z,roryk
7118be2e8a3db869d333ea6b1ae3abfadd88a1ff,chapmanb,chapmanb@50mail.com,"cufflinks featureCounts: ensure fixed file produced

https://groups.google.com/d/msgid/biovalidation/bfa228f6-a4e0-4b10-8347-2c6d88ac0c6f%40googlegroups.com",2019-05-04T10:08:40Z,chapmanb
ea5969030f2b971f97b5ecccc98800f5d6b35e9a,chapmanb,chapmanb@50mail.com,"Cufflinks: skip comment links when merging count files

https://groups.google.com/d/msgid/biovalidation/e7c6f363-2d40-4b12-a02b-2ba4e514ce46%40googlegroups.com",2019-05-03T09:38:54Z,chapmanb
a8a256048d2ed9ee155e97ee4a44ab148eca29cb,chapmanb,chapmanb@50mail.com,"Debugging output for cufflinks count merge failure

https://groups.google.com/d/msgid/biovalidation/1570c40e-8fbc-4301-a295-790269c09045%40googlegroups.com.",2019-05-02T09:21:01Z,chapmanb
58e90fe5ba7a672d2fea913414d07e1241d54ab6,chapmanb,chapmanb@50mail.com,Debugging output for failing GatherVcfs #2420,2019-05-02T09:20:53Z,chapmanb
a02c88ac372e6a831063f7610c2155ac19c750e0,chapmanb,chapmanb@50mail.com,"Cufflinks: python 3 fixes for command and GTF prep

- Map cmd a list to avoid empty iterable. Thanks to Ivan De Dios.
  https://groups.google.com/d/msgid/biovalidation/acdbdadd-452b-4e27-a369-43e9e0c4fd03%40googlegroups.com
- Avoid float entries to GTF prep",2019-04-30T09:54:29Z,chapmanb
6a9348c0054ccd5baffd22f1bb7d0422f6978b20,Brad Chapman,chapmanb@50mail.com,"Merge pull request #2766 from matthdsm/vep_96

Vep 96",2019-04-29T09:48:03Z,chapmanb
0d7f66cbf69d23c4d2e1a8074f1bd6845ad30da1,chapmanb,chapmanb@50mail.com,Avoid errors with missing indexes #2802,2019-04-27T13:46:52Z,chapmanb
5f903ad17f991f115c2c0914b267ef25f19103a6,Brad Chapman,chapmanb@50mail.com,"Merge pull request #2769 from naumenko-sa/master

updated vcfanno config files to match gnomad2.1 in cloudbiolinux",2019-04-26T09:18:00Z,chapmanb
bccfc595c3b4c03807f3ae285cba545a10b352ca,chapmanb,chapmanb@50mail.com,"python3: cufflinks support for estimation mapping qualities

Thanks to Ivan De Dios:
https://groups.google.com/d/msgid/biovalidation/0fdbf512-1b34-4dca-a7fe-a4f80fa74143%40googlegroups.com",2019-04-23T09:56:57Z,chapmanb
2b6548bf3e970e170591ff2e68eff81f23b3e091,chapmanb,chapmanb@50mail.com,"fastq UMI prep: fix py3 issues with iteration

Thanks to Ivan De Dios:
https://groups.google.com/d/msgid/biovalidation/e9e10f71-57f2-4229-b59c-9073be5843a5%40googlegroups.com",2019-04-22T10:43:09Z,chapmanb
8ba6c5e7bc69aaab1ca272f66cf390f0240cf2c1,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2786 from lbeltrame/fix-urllib-kraken

Fix urllib usage in install.py",2019-04-17T16:06:51Z,roryk
80ebf4fb97c78fac5b50c87a3d84c09497f3ff03,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2781 from vladsaveliev/rrna

Fix bug in extracting rRNA features from gtf",2019-04-16T14:14:40Z,roryk
27de3a65ff65eb6781375a33dfee60f8108e4a07,Luca Beltrame,luca.beltrame@marionegri.it,"Fix urllib usage in install.py

`getheader()` is no more in Python 3, use `get()` instead.",2019-04-16T07:03:08Z,lbeltrame
329863dd82d85ee27bd32a5b68f0e68b15c6d136,vladsaveliev,vladislav.sav@gmail.com,Fix bug in extracting rRNA features from gtf,2019-04-15T04:56:08Z,vladsavelyev
131cef14f9666fa5c305a488b40edf2c2a8b196c,chapmanb,chapmanb@50mail.com,ensemble: avoid JAVA_HOME overriding internal java #2778,2019-04-13T09:30:55Z,chapmanb
14869f297616d34cafbc13af41a8292878e7e62f,chapmanb,chapmanb@50mail.com,v1.1.5 release,2019-04-12T19:21:36Z,chapmanb
021faeefc5f680098cc586a69db1ae48bcbaf103,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2776 from smoe/doc_fixes

Doc fixes",2019-04-12T13:51:18Z,roryk
3d8b24842f27d0647c1f5b937ed947f90dd1e33d,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2777 from smoe/debian_spelling_patches

Series of spelling errors in documentation.",2019-04-12T13:50:32Z,roryk
9fcca48e7ac4f006bd43f9ffced7cc4e3e776c1b,Steffen MÃ¶ller,moeller@debian.org,"Series of spelling errors in documentation.

Michael R. Crusoe <michael.crusoe gmail> once upon a time
fixed these for the Debian package. And then these have apparently
been forgotten about.  That is the problem with 24h days.",2019-04-11T17:40:49Z,smoe
b0757be9eb8b8883a68c865fcd7aeeb0f4d6f8f5,Steffen MÃ¶ller,moeller@debian.org,Merge remote-tracking branch 'bcbio/master' into doc_fixes,2019-04-11T15:50:40Z,smoe
afb4371e55ceaf2ccb366277e43461dbdbfdc686,Steffen MÃ¶ller,moeller@debian.org,Addressing some warnings for Sphinx,2019-04-11T15:39:56Z,smoe
b22b196975875c6621b60da84ef47008066deaa4,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2773 from smoe/patch-1

Eliminated warning for Sphinx Doc generation",2019-04-11T12:24:49Z,roryk
59f590c3fb724f916142c66f358573d252e6a275,Steffen MÃ¶ller,steffen_moeller@gmx.de,Eliminated warning for Sphinx Doc generation,2019-04-11T11:13:12Z,smoe
1f90f73bb96ce5296c0aac3fd6e8f56e0c17e8b7,chapmanb,chapmanb@50mail.com,"python 3: pin initial install to python 3.6

Most bioconda packages require python 3.6, so setup the default
environment on new installs to 3.6. This avoids an issue where
we first install bcbio for python 3.7 and then subsequently change
the python version to 3.6 when resolving tools. #2740",2019-04-11T09:55:46Z,chapmanb
71a341fa799106fa2d81766f90b82c6167603bab,chapmanb,chapmanb@50mail.com,"GATK HaplotypeCaller: fix usage of skipping mark duplicates

Only disable duplicate read filter (`--disable-read-filter
NotDuplicateReadFilter`) when we have amplicon data or have pre-set
mark_duplicates to false. This fixes an issue introduces when handling
duplicates for realigned data (https://github.com/bcbio/bcbio-nextgen/commit/8531d8f6641e1ba7abd67a0ccdd3e20d1eef07ec).
Fixes #2771",2019-04-11T09:49:50Z,chapmanb
ddd195769bce760193588d017fca9baaec8ce07b,Lorena Pantano,lorena.pantano@gmail.com,update code to match wbsseq pipeline,2019-04-10T17:41:02Z,lpantano
f0c47dd0a7f79fb2f063c555f04d357996bd8241,Lorena Pantano,lorena.pantano@gmail.com,Merge remote-tracking branch 'upstream/master' into wgbs-seq,2019-04-10T16:21:03Z,lpantano
c12721efd712825023e2ad7599600fdbe6194e42,naumenko.sa,evolgenomicslab@gmail.com,fixed formatting bugs,2019-04-10T15:16:37Z,naumenko-sa
b69267972d9c43d75c70518204441b6aa00de151,naumenko.sa,evolgenomicslab@gmail.com,updated vcfanno configs to match the updated in cloudbiolinux (gnomad2.1),2019-04-10T15:09:27Z,naumenko-sa
dc1abb082a3c3e648b50bc693fa36e893b752dbd,naumenko.sa,evolgenomicslab@gmail.com,updated vcfanno configs to match the update to gnomad2.1 in cloudbiolinux,2019-04-10T15:02:29Z,naumenko-sa
602203d7ccddadf6b880170d0c1f52e38124c965,chapmanb,chapmanb@50mail.com,Tests: bcbio re-install cleanups for py2k and py3k,2019-04-10T09:39:16Z,chapmanb
4475c31de7450aee14797d4d08a0a3f25084386c,chapmanb,chapmanb@50mail.com,"Python 3: fixes for additional encoding errors on read/write

- Pass open handle with encoding specified to PyBedTools, avoiding
  special encodings in gene names in BED files. Fixes #2767
- Avoids encoding issues with special characters in MultiQC files.",2019-04-10T09:33:03Z,chapmanb
c840b61c14d10f8588424b839d0a7631484ee5ae,chapmanb,chapmanb@50mail.com,"GATK4 VQSR: update --resource to match new 4.1.0.0 syntax

The `--resource` parameter changed in the most recent GATK 4.1 release
(https://github.com/broadinstitute/gatk/releases/tag/4.1.0.0).

Fixes #2757",2019-04-09T16:08:07Z,chapmanb
cc6e07338ac39313c2b4d3d7855147a4063f0d9b,Matthias De Smet,matthias.desmet@ugent.be,vep_96: added pick flag,2019-04-09T08:55:35Z,matthdsm
5a73224310022ca218a89c1317072233448f05ee,Matthias De Smet,matthias.desmet@ugent.be,vep_96: bump genome configs,2019-04-09T08:42:53Z,matthdsm
82bb4c84581d6b933edc30783f17704aae49747b,Lorena Pantano,lorena.pantano@gmail.com,"Merge pull request #2763 from rdocking/mirdeep2_precursors

Add -g -1 option to prevent early exit in mirdeep2",2019-04-09T00:13:45Z,lpantano
ce9accd7b79643edacf276c3978bb7dbfa5e47bf,Rod Docking,rdocking@bcgsc.ca,Add -g -1 option to prevent early exit in mirdeep2,2019-04-08T23:22:00Z,N/A
ba1ed4f2fba146037ad44d09b9b7bacfac6e05f6,chapmanb,chapmanb@50mail.com,Tests: use python3 for bcbio/bcbio-vm installs,2019-04-08T09:36:33Z,chapmanb
629d6fb0a6522d48a676c5d54bd636d6d7ffc2d5,chapmanb,chapmanb@50mail.com,"Fix format detection for bzip2 fastq inputs

Avoids trying quick format detection for bzip2 inputs, since this
relies on either plain or gzipped inputs. Fixes #2755",2019-04-08T09:31:11Z,chapmanb
0f3667f149a5bff6a38dc743f33db6b677d3c415,chapmanb,chapmanb@50mail.com,"Python 3: avoid numpy error passing filter input to numpy.median

Fixes #2756",2019-04-07T09:29:36Z,chapmanb
0e75eea87ac3f91bb2e59f39eeed2af22cfc4b65,chapmanb,chapmanb@50mail.com,"Python3: avoid decoding errors for fastqs with non utf-8 characters

Fixes #2755",2019-04-07T09:28:25Z,chapmanb
47bc5d4d26afb98e53a126795e02f2bbf49c635a,chapmanb,chapmanb@50mail.com,Tests: correctly mock tmpdirs for py3k,2019-04-07T09:27:00Z,chapmanb
bd13a5683a346a54f3dec048b23b52482109332a,chapmanb,chapmanb@50mail.com,"MuTect2: support 4.1.1.0 which is more picky about --reference

The newest release requires `--reference` rather than `-R` for MuTect2
and now requires `--reference` for filtering.",2019-04-07T09:25:23Z,chapmanb
a66aaffbacd6882499666de55bdbfed0ec91560f,chapmanb,chapmanb@50mail.com,"bedtools: support 2.28.0 which expects BAM files for bed.gz inputs

bedtools 2.28.0 moved to htslib support and now treats bgzipped bed.gz
BED inputs as BAM files, complaining about a lack of SAM headers.
This works around the issue by passing these as stream handles to
pybedtools.",2019-04-07T09:23:31Z,chapmanb
0bb8b647b83d39587e3674ec72c9325711507cbc,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2754 from naumenko-sa/master

updated gatk3.x installation instructions",2019-04-06T09:36:36Z,chapmanb
75550909ebeb59709a4d42f83bc80de03d12ed18,naumenko.sa,evolgenomicslab@gmail.com,updated gatk3.x installation instructions,2019-04-06T02:22:06Z,naumenko-sa
0bb6809fba88c3e01d5c0a25694a91e382144923,chapmanb,chapmanb@50mail.com,Avoid errors from non-ascii characters when parsing locale -a,2019-04-05T18:22:46Z,chapmanb
1354a92c987e888e95e7e13f92387c6ea25be3b3,chapmanb,chapmanb@50mail.com,"Python 3: flexibly set locale for MultiQC and click based tools

Looks up available locales in case default C.UTF-8 is not available.
Fixes #2746",2019-04-05T17:09:23Z,chapmanb
844cd2521e7a27cc500b1a778f3c7b4b6bedad91,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2753 from rdocking/pandas_dtype

Convert pandas dtype from 'string' to 'str' to address Python3 compatâ¦",2019-04-05T16:51:49Z,roryk
0d0576de3489310648e1d051e24f1bc5ea7dd129,Rod Docking,rdocking@bcgsc.ca,Convert pandas dtype from 'string' to 'str' to address Python3 compatibility. Fixes #2752,2019-04-05T16:45:25Z,N/A
ecd736a3beb0dcd6d0d2c1487acc49306d412d53,roryk,rory.kirchner@gmail.com,"Remove unsupported -ploidy from Mutect2 call.

I think -ploidy was deprecated with the GATK 4.1.1.0 release, it errors out
with a `-p not a supported option`. According to
https://github.com/broadinstitute/gatk/issues/3564#issuecomment-330401348 it
never really did anything for Mutect2 to begin with, so removing it here should
be a no-op.",2019-04-05T14:49:37Z,roryk
3f74cfc5d184a605b9f44e1fef083bfe6422efb2,chapmanb,chapmanb@50mail.com,"Python3: avoid gzip byte errors with opening gz files

Uses the utils.open_gzipsafe utility function which contains
a python3 workaround for how to open files on py3k. Fixes #2749",2019-04-05T09:42:57Z,chapmanb
582c8c29b8f3ccae84bdf1a530d5c04c7958e3f8,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:fix convert variable to float

Thanks @rdocking",2019-04-04T21:57:28Z,lpantano
b1d73a1f8c653dc533be547e68458f953e89cf40,roryk,rory.kirchner@gmail.com,"convert zip object to list before concatenating

python3 creates zip objects which don't work as lists, so
we have to coerce the zip object to a list first.

Thanks to @jessie-wangjie. Closes #2747.",2019-04-04T17:43:04Z,roryk
0fe1ad3a8f965ba9b020718a5a306a93ea7a4db2,Lorena Pantano,lorena.pantano@gmail.com,"sRNA: fix wront type in python3.

Thanks to @rdocking.",2019-04-04T11:43:56Z,lpantano
9970d60a45cb77c37d01637f33e54c6c518d0979,chapmanb,chapmanb@50mail.com,"Python 3 compatibility: subprocess system calls for schedulers

Ensures decoding of bytes to strings for subprocess calls to get
scheduler information. Fixes #2742",2019-04-04T09:25:16Z,chapmanb
48d38b19c1a0bf14c38a3c9b7a49e20475d6887a,chapmanb,chapmanb@50mail.com,"Python 3 compatibility: provide apply for ipython tasks

Provides an apply function for ipython tasks, since this gets
used for unpacking tuples as part of calling and apply is not
available on py3k. Fixes #2741",2019-04-04T09:23:37Z,chapmanb
08fdf3b06900ea0201217bfec8202b6ba5a87384,chapmanb,chapmanb@50mail.com,v1.1.4 release,2019-04-03T09:32:17Z,chapmanb
3395b38773c5b91d0e6c80d3feaef9c88431bbd8,chapmanb,chapmanb@50mail.com,"GATK: enable custom specification of Spark cluster

Fixes #2739",2019-04-02T10:05:11Z,chapmanb
22cb8d2061110725506b6cb50aad015bd74cbc37,chapmanb,chapmanb@50mail.com,Python 3: prepare for next release; default to py3k in miniconda,2019-04-01T09:25:03Z,chapmanb
4f7532708c2b2a5414dafef718e4e56aa9723e01,chapmanb,chapmanb@50mail.com,"Quote PATH specifications: avoids errors on systems with spaces in PATHs

Allows running bcbio in a Windows WSL environment",2019-03-31T09:48:07Z,chapmanb
e9513e40c897e5d5c5c12f4d251c12961419a2fc,roryk,rory.kirchner@gmail.com,"Move on from deprecated infer_gene_extent parmeter

gffutils deprecated infer_gene_extent in favor of a transcript
and gene related set of flags.",2019-03-29T17:16:13Z,roryk
3c031b8d93a226579bb1183aceb501a65912f2e0,roryk,rory.kirchner@gmail.com,"Use transcriptome_gtf to make tx2gene file when it is supplied.

We were defaulting to using the installed GTF file even if
a new one was supplied; this fixes that issue.

Thanks to @vbarrera for figuring out what was happening.",2019-03-29T17:16:11Z,roryk
6e41ff39c93197eb9bd377c089d42b0ac3d87ded,chapmanb,chapmanb@50mail.com,"QC: define bcbio local temporary directory for Qualimap

Avoid filling up disk in local temporary directories.
Fixes #2735",2019-03-29T10:35:09Z,chapmanb
bd4a01005f8041cb5c876f287eeb30bb3fb0ae9c,roryk,rory.kirchner@gmail.com,"Remove hardcoded genome sizes.

We can calculate these by the provided reference file and it's pretty
speedy, so this saves a small bit of computation at the expense of
having a bunch of hardcoded values.

Heads up to chapmanb/cloudbiolinux#292.",2019-03-27T18:34:08Z,roryk
10c6c3cb01821e61d44688143c91b3754155eea0,chapmanb,chapmanb@50mail.com,Remaining replacement with yaml.safe_load for YAML 5.1+ compat,2019-03-27T09:21:17Z,chapmanb
7a994018dc8839d5de7649e1038cdbd2837d7aea,chapmanb,chapmanb@50mail.com,"HLA: ensure calls with UMI processing inputs

Avoids skipping HLA calls with UMIs which have two sets of fastq
extractions: the original and consensus reads. We use the original
reads avoiding consensus reduction as part of OptiType since we'd
ideally like to feed as much information as possible and it's not
clear consensus calling will help in highly polymorphic regions.",2019-03-27T09:15:07Z,chapmanb
295332d1a5ac470af6de9942ae1db1dfb3bcd5ed,roryk,rory.kirchner@gmail.com,"Add support for BDGP6.

This is the most recent build of the Drosophila genome.

Closes chapmanb/cloudbiolinux#292.",2019-03-26T21:50:05Z,roryk
c470c4deba16461020bb1e48889dc23b813cd3a2,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2732 from lbeltrame/fix-lib-typo

install.py: fix typo",2019-03-25T12:51:11Z,chapmanb
c75d6765893a250fd8c5bb7def4c865acf9699ed,Luca Beltrame,luca.beltrame@marionegri.it,"install.py: fix typo

Fixes #2731.",2019-03-25T10:57:31Z,lbeltrame
6ba7300f6766ffe38d41b4fb17617cfc0600dc55,chapmanb,chapmanb@50mail.com,"callable: improved error messages with no callable regions

Describe additional issue with bad input reads causing a lack of callable
regions.",2019-03-24T09:06:35Z,chapmanb
b62b18edc0570dd2f0a19bef81f261b422226aab,chapmanb,chapmanb@50mail.com,"Switch to yaml.safe_load to avoid warnings from PyYAML 5.1

https://msg.pyyaml.org/load",2019-03-23T10:35:40Z,chapmanb
c74eff0e89ca230b25bf074609438cfefed3e1fc,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2730 from lbeltrame/faster-path-checks

MultiQC: faster path lookups",2019-03-21T10:24:58Z,chapmanb
ac0e6042c89b34a6fae7fb131872ac72c0339a1f,Luca Beltrame,luca.beltrame@marionegri.it,Forgot a break statement,2019-03-21T10:14:00Z,lbeltrame
a41ac0ffec6915ed31552393b90e42732c3a33d3,Luca Beltrame,luca.beltrame@marionegri.it,"MultiQC: faster path lookups

The work `_work_path_to_rel_final_path` does is wasteful, because it
does up to thousands of `isfile` and `isdir` calls for every path
tested.

This might make sense if the files to check are small, but not with very
large analyses.

This patch changes the behavior to take into account the fact that we're
dealing with a dictionary:

1. If the path matches the dictionary keys, fetch it immediately (O(1))
2. If the path is a file, then we have our path
3. If it is not in dictionary, it is part of a directory: select, among
   the keys, *only* those that contain it
4. Of these, check if they are directories and break if a match is found

This should make the function significantly faster because it will
reduce the number of actual filesystem lookups to almost nothing.",2019-03-21T10:14:00Z,lbeltrame
67fdf4d318a77ae02a98c32b56815ee3332a8cdd,chapmanb,chapmanb@50mail.com,"MultiQC: avoid os.stat lookups when preparing final paths

Attempts to do less filesystem checks to avoid long runtimes on slow
filesystems. Fixes #2729",2019-03-21T09:54:10Z,chapmanb
5fde7ed5c581705a672a777e762f8592699dc823,roryk,rory.kirchner@gmail.com,Fix Salmon multiqc module not running.,2019-03-20T21:04:04Z,roryk
6425cd368115133b9dbc2baf1350cd687c98ecef,roryk,rory.kirchner@gmail.com,"MultiQc: add RNA-seq variantcalling metrics

This sets bcftools/snpEff as a multiqc function to be run, when RNA-seq
variantcalling is performed.

Currently, the structure of the RNA-seq variant calling datadict is
different than what the standard variant calling pipeline expects, so we
had to add some code to account for that.

It would be good to unify the two and document the format.

Closes #2641. Thanks to @WimSpee for the suggestion.",2019-03-19T15:10:57Z,roryk
bdea3d6be1face1c6208c894b80fe05525c1ed75,chapmanb,chapmanb@50mail.com,"Docs: recommend python3 for bcbio-nextgen-vm installs

Matches automated installation used within bcbio development now, in prep
for next python 3 only release.",2019-03-18T09:52:37Z,chapmanb
bdeda982898220a2c468e74971719e0020046d51,roryk,rory.kirchner@gmail.com,Fix check for presence of sample barcodes.,2019-03-17T19:22:25Z,roryk
ed85ece7fecb8bf0e2586b73c97f6d423db421f3,roryk,rory.kirchner@gmail.com,"Support metadata generation for samples without barcodes.

Not all single-cell protocols have sample barcodes and this
expands metadata generation for these protocols.

Also makes the writing of the metadata file transactional,
so we don't end up with partial files.",2019-03-17T18:58:52Z,roryk
0503ab5197f190a4b534342017933364196d711a,chapmanb,chapmanb@50mail.com,"ChIP-seq: allow specification of options for bamCoverage

Enables specification of custom normalization through `resources`.
Fixes bcbio/bcbio-nextgen#2725",2019-03-17T09:06:03Z,chapmanb
9ec85cdf8aa2378785df92cde9fa1760df592044,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2719 from matthdsm/patch-3

VEP: add HGVSg annotations",2019-03-16T08:55:35Z,chapmanb
8e57647b6c5bf622a332c956a1c0d88e6e87e9cd,chapmanb,chapmanb@50mail.com,"Consistent upload for custom genomes: vardict, strelka2

Ensures consistent upload of variant calling batches to final folder in
directory for all callers. There is some brittle code that tries to
identify batches based on file names and it was different for some callers
that don't do post-filtering (so have no file extension after the base
call output VCF). Fixes #2709",2019-03-15T16:04:04Z,chapmanb
e818102e53b7d33324a613f3c33702368a99e8a5,chapmanb,chapmanb@50mail.com,umis: universally call with locale export and environment python,2019-03-14T10:27:16Z,chapmanb
df9be72b54d450a0970b4e7ef72ab1073db3be51,chapmanb,chapmanb@50mail.com,"QC: correctly apply paired end reads for qualimap

- Adds paired flag if input BAM is paired; previously calculated but
  did actually add flag. Thanks to Avinash Reddy.
- Fixes total_exp check on python 3 (list versus generator)",2019-03-14T10:25:28Z,chapmanb
7435d81688d1246310c6ed06ae9f261284a88bdd,chapmanb,chapmanb@50mail.com,CWL: fix Cromwell memory calculation for RNA-seq,2019-03-13T17:46:19Z,chapmanb
f641a0b5d8281733f06f0a82229851a5233b28f8,chapmanb,chapmanb@50mail.com,"CWL: estimate Cromwell memory based on sample parallelization

Attempts to automatically set Cromwell memory based on number of parallel
samples x methods the runner handles. Fixes #2697. Fixes #2721",2019-03-13T10:00:56Z,chapmanb
42eb8ebef4458391857240f613fbbcc58aab5458,chapmanb,chapmanb@50mail.com,Doc: tumor only panel of normals creation and use; remove MetaSV,2019-03-13T09:43:08Z,chapmanb
875272cf224c17a4995866e34a17ae0eb6a95c28,chapmanb,chapmanb@50mail.com,"Lumpy: handle unicode characters in error messages

Thanks to @lubinskibu",2019-03-12T09:52:56Z,chapmanb
31bd4b04b14a93680117e0915130a827769b362e,Matthias De Smet,matthias.desmet@ugent.be,VEP: add HGVSg annotations,2019-03-11T12:38:53Z,matthdsm
7f5fb30312558a8e8cf7db861f10894204d16243,chapmanb,chapmanb@50mail.com,"Python 3: default to python 3 environment for CWL install

Automated `--cwl` installer now uses Python 3 for bcbio-vm and dependencies.",2019-03-11T09:30:00Z,chapmanb
62b1b79bb0145c44b8aca6fbe242cd0882685efb,chapmanb,chapmanb@50mail.com,CWL: provide correct variantcaller_order with pre-called inputs,2019-03-10T09:34:46Z,chapmanb
6ae37e94637d16f4a032288daddc66a37922ff21,chapmanb,chapmanb@50mail.com,umis: use python2 executable when installed in conda environment,2019-03-10T09:34:10Z,chapmanb
5a68e629a637b509fde396c5c8a27747b501b96c,Lorena Pantano,lorena.pantano@gmail.com,docs:add how to download from gse or sra resources,2019-03-08T20:06:44Z,lpantano
9747ed813415ff24ecebb29f0787c251134c97a5,chapmanb,chapmanb@50mail.com,CWL: move to R 3.5.1 in tool specifications,2019-03-07T10:56:12Z,chapmanb
311ff3d53eefdf1f2021a62b88677403839d0932,roryk,rory.kirchner@gmail.com,"Fix race condition when making pizzly cache.

Thanks to Avinash Reddy for pointing out the issue.",2019-03-06T16:08:58Z,roryk
5afdc1f6df88e7c94fd1891e17f52115a0ce0161,chapmanb,chapmanb@50mail.com,"CWL: ensure consistent variant caller for ensemble

Input ordering for CWL ensemble runs can differ when distributed, resulting
in picking of different variants when compared with standard runs. We pass
a variantcaller_order variable which keeps this consistent. Thanks
to @vladsaveliev",2019-03-06T10:17:36Z,chapmanb
4602bc0ef1623685ada838d1ca6d8172d1865fae,chapmanb,chapmanb@50mail.com,test: Avoid cancer panel svprioritize reference; not in testdata,2019-03-05T15:16:13Z,chapmanb
0675f2a12d0420cc88a7dc71ccacf477eba31bd4,chapmanb,chapmanb@50mail.com,"Make cyvcf2 a lazy import to avoid openssl errors

Some install environments currently end up with issues with openssl 1.0
v 1.1. This avoids this breaking immediately with bcbio, allowing
upgrades and fixes.",2019-03-04T10:06:21Z,chapmanb
9a7851a07c5a065570fdb93285d9b4d740d5b80a,roryk,rory.kirchner@gmail.com,"Add Salmon to MultiQC.

The insert size calculated by Salmon is better than the one calculated
in multiqc and bcbio, since it takes into account the introns.

The plan is to add library composition metrics and mapping metrics as
well, since these are useful in debugging strandedness issues.",2019-03-02T22:31:38Z,roryk
76d59298ce4c05b44d59f36b9c20649ba15c0a23,chapmanb,chapmanb@50mail.com,CWL: do not use bash wrapper for submission #2697,2019-03-02T10:36:24Z,chapmanb
f67e15cf28a8c587abd83f7a06b382195774ebb1,Lorena Pantano,lorena.pantano@gmail.com,Update single cell output doc [skip ci],2019-03-01T20:36:00Z,lpantano
7c4a381b5d7678398b11fce197776ccfb76deb92,chapmanb,chapmanb@50mail.com,Cromwell SGE: default to mem_free for memory specification #2697,2019-03-01T13:16:38Z,chapmanb
d18f37e9043c35029c7dacdceddeea3efebf11a4,chapmanb,chapmanb@50mail.com,"strelka2: avoid division error with multiple alleles

Fixes issues with allele frequency calculation when we have multiple
alleles:
```
ad = [[2, 2, 3, 4], [1, 2, 3, 4]]
```
to maintain consistency for true_divide. Fixes #2706",2019-03-01T10:12:21Z,chapmanb
5c9544b986831f45da29b506934b14a38efb58c0,chapmanb,chapmanb@50mail.com,Python 3: error reporting with problem jointcaller,2019-03-01T10:11:55Z,chapmanb
ef886362376f36ba7ca6bb2ab27c3d377a300a69,chapmanb,chapmanb@50mail.com,"GATK: allow specification of verbosity for GenotypeGVCFs and GatherVCFs

Fixes #2698",2019-03-01T02:10:21Z,chapmanb
af7cd69426ae62add25c0e3301ed1f95da3761d5,chapmanb,chapmanb@50mail.com,bcbioRNAseq: fix typo in rendering rMarkdown,2019-02-28T11:06:25Z,chapmanb
46b40d4f9d8f3dd90a3574db6e19e14b83c6d2c0,Lorena Pantano,lorena.pantano@gmail.com,prepeare samples can work without bcbio_system.yaml file now,2019-02-27T21:05:55Z,lpantano
899e5b942b91381db411d4687faec5a15dd4e9c7,roryk,rory.kirchner@gmail.com,"Memoize bcbioRNAseq.

The tempate drafting the rmarkdown rendering were not memoized, so this
could run multiple times, leading to errors.",2019-02-27T19:51:55Z,roryk
984e37d36d49407ffb2f99418899c1aebdc7b589,chapmanb,chapmanb@50mail.com,"Support custom picard options for FixVcfHeader

Fixes #2698",2019-02-27T10:31:51Z,chapmanb
141e1c52f4f1a35250282f5fa52659751a360afd,chapmanb,chapmanb@50mail.com,CWL: SGE specification fixes for memory #2697,2019-02-27T10:31:51Z,chapmanb
a37e3779e319ebaec74f632f34faefa83b747a53,roryk,rory.kirchner@gmail.com,cb_filter can accept gzipped FASTQ files,2019-02-26T21:39:19Z,roryk
ca0319c4176813cf75f3009c1378d8884119613c,chapmanb,chapmanb@50mail.com,CWL: correct naming for memtype parameter on SGE. Fixes #2697,2019-02-26T10:32:27Z,chapmanb
c3552a5bb3d9eaf3e9dafd9df12b4c23a3d5ade8,Lorena Pantano,lorena.pantano@gmail.com,scRNA:fix sample name collision when creating final metadata file,2019-02-25T16:31:54Z,lpantano
188253e3fe502974823a37be29ca183473efb94c,roryk,rory.kirchner@gmail.com,Update with rRNA lookup and version stripping fixes.,2019-02-25T15:40:10Z,roryk
d067092848113f6951979e930a70f5d491bdb967,roryk,rory.kirchner@gmail.com,"Remove some debugging messages, fix typo.",2019-02-25T15:38:50Z,roryk
871356fcf1f821606cd1461f4bb847a4703569d0,roryk,rory.kirchner@gmail.com,"Skip making a gffutils database to find rRNA.

We can find these by looking through each line manually. This saves
quite a bit of pain when trying to find rRNA.",2019-02-25T15:38:49Z,roryk
287fa99e087bc77db88ebcb3559ae6406fa61613,roryk,rory.kirchner@gmail.com,"Strip transcript/gene versions from Gencode GTFs.

Gencode doesn't have the transcript_version/gene_version attribute and
instead stores the versions as part of the transcript and gene id. We
detect this now and properly strip them off.

Closes #2696.",2019-02-25T15:38:48Z,roryk
b00a1bf87163c85c38959750dc24c0959068e9ce,roryk,rory.kirchner@gmail.com,"Write tx2gene file to the work directory.

Addresses a secondary issue in #2596.",2019-02-25T15:38:47Z,roryk
2eb8f50e98f750279b650bd485c225cdea162959,chapmanb,chapmanb@50mail.com,Document R3.5.1 update,2019-02-25T11:12:15Z,chapmanb
94e21e37db9c1c7a1553d370a01a210f6a2cac16,chapmanb,chapmanb@50mail.com,CWL: fix type in SGE HPC configuration. Fixes #2697,2019-02-25T11:12:15Z,chapmanb
d4e455900af45bfa80b9b6c17264f873be029335,roryk,rory.kirchner@gmail.com,"Speed up finding combined files with many input files.

As the number of input files increases, the O(N^2) algorithm to find
files that pair together takes forever. For experiments with many files,
this sorts the filenames and then looks ahead only 10 filenames for
possible pairs. The default for this behavior to turn on is 1000 or
more.",2019-02-23T18:45:00Z,roryk
cf4491a5e5b7c76a89e708f72b2d79a0138af250,chapmanb,chapmanb@50mail.com,"GATK4: avoid using spark for pooled calling

HaplotypeCallerSpark only works for single sample gVCF calling. Fixes #2691",2019-02-23T13:28:09Z,chapmanb
580fd0b14c878db8504f641b46adf57a146f2b6f,chapmanb,chapmanb@50mail.com,"GATK: support python3 and 4.1.0.0 version checks

- Ensure python3 compatibility for checks and writing output files
- 4.1.0.0 changes version checking format, make forward and backward compatible",2019-02-21T10:31:54Z,chapmanb
aea382ce02f7789ee36fa2b46593dfe9496dc20c,chapmanb,chapmanb@50mail.com,python3: find environments in lookup relative to env directories,2019-02-20T10:33:38Z,chapmanb
3d64dcf39f5af148552ec0fea1a5f19ab011c1bc,chapmanb,chapmanb@50mail.com,"Template: copy bcbio_system into output config directory

Thanks to @ohofmann",2019-02-20T10:33:00Z,chapmanb
2f14ac6dc2d13c7ce82befe4d798652085ffa5dd,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2685 from vladsaveliev/vardict_f

VarDict: handle ""-f"" (allele freq) set in resources>vardict>options",2019-02-19T10:19:08Z,chapmanb
4529d1280a9e5580288ada48c80e7092ce63da67,vladsaveliev,vladislav.sav@gmail.com,Fix typo,2019-02-19T04:54:28Z,vladsavelyev
8f10f659b3d515c6e25a47622df18f08a767ed16,vladsaveliev,vladislav.sav@gmail.com,"VarDict: handle ""-f"" (allele freq) set in resources>vardict>options",2019-02-19T04:52:35Z,vladsavelyev
bd539abe7e31304c630dfa03dc92f3228de05cf6,chapmanb,chapmanb@50mail.com,"Find programs in conda environment bins with `which`

Enhances `which` to also look up programs inside of conda environments,
to avoid missing programs when only the base anaconda environment gets
imported.

Cleanly handle missing simple_sv_annotation.py. Thanks to @lubinskibu",2019-02-16T10:20:02Z,chapmanb
a883454c30e0c117d9d56b038a1d9c78a6f57edd,chapmanb,chapmanb@50mail.com,"CWL: initial support for Illumina Stratus WES endpoint

Work in progress pending full CWL support",2019-02-15T10:44:17Z,chapmanb
bce98fafe279364862ebb4feffa427ec8767488e,Lorena Pantano,lorena.pantano@gmail.com,Remove comments,2019-02-14T20:39:38Z,lpantano
82e262af1a7c92580dff97338918196ee5185d13,Lorena Pantano,lorena.pantano@gmail.com,"Merge pull request #2681 from bcbio/singlecell

barcodes_samples now accept files like:",2019-02-14T20:15:46Z,lpantano
c3b057d097dbc1d9a32cfbdb8630bda372be627e,Lorena Pantano,lorena.pantano@gmail.com,"barcodes_samples now accept files like:

AAAAAAA,sample1

That will be used to named the cells from that sample in the final
tagcounts.mtx.metadata",2019-02-14T19:33:21Z,lpantano
b481da816f27d035b087293de7858038054e6fe8,roryk,rory.kirchner@gmail.com,"Fix incorrect paired call on BAMs with many contigs

For transcriptome BAM files, the header can be very large, so subsetting
down to just the first 50k lines keeps us still in the header.",2019-02-14T17:39:55Z,roryk
f5c2df4d23c7ac0f441e2482e0e79f8aec0f29ae,roryk,rory.kirchner@gmail.com,Add documentation of `demultiplexed` option.,2019-02-14T06:06:13Z,roryk
e54cfdcda576a269754c6a485ccdb8a8e9598297,roryk,rory.kirchner@gmail.com,"Allow pre-demultiplexed single-cell data.

Sometimes we get samples, especially from DGE experiments, where the
cells/wells have already been demultiplexed into individual FASTQ files.
This adds support for this case; the resulting columns are named via the
sample name in the metadata instead of after a cellular barcode.

Also fixes an issue where the installed GTF was not being used if one is
not specified.",2019-02-14T06:00:08Z,roryk
55cdd7a73248f876856715df9506044443277e58,roryk,rory.kirchner@gmail.com,"Remove missing ALT variants from GATK 4.1.0.0.

When a multiallelic variant is called, and one of the alleles has poor
quality GATK4 can output a variant with no ALT allele set.

We saw this in Freebayes as well, so we borrow that filter to remove
these variants as a workaround.

Thanks to @chapmanb, @ldgauthier and the GATK team for helping figure
out why this was happening, suggesting a workaround and ultimately
fixing the issue.

See broadinstitute/gatk#5650 for more information and the
ultimate resolution.",2019-02-13T16:41:59Z,roryk
b2fcc414de7bb3197adbd9c69b9b825a7d7ac872,Lorena Pantano,lorena.pantano@gmail.com,"Revert becc295. Adding newline character.

This was a typo, we need to add the newline character to the end of the
line when we write to the file.",2019-02-13T15:33:18Z,lpantano
fc381d4d689a44eb03b0ded1123e9e32aed064ad,chapmanb,chapmanb@50mail.com,"bcbio_setup_genome: compatibility with cloudbiolinux changes

Fixes #2679",2019-02-12T15:21:28Z,chapmanb
dd79b711b656eb2a93b05a5657f625da86eb91d4,chapmanb,chapmanb@50mail.com,CWL: enumerate python2 only requirements to match cloudbiolinux,2019-02-10T10:48:32Z,chapmanb
933b826f7225ddc391e7b6d614905f948bdb015a,chapmanb,chapmanb@50mail.com,Python3: additional files for iterators and comparisons,2019-02-10T10:48:32Z,chapmanb
3a5f0ad42bd86f234148c491efa7872248e52999,Vlad Saveliev,vladislav.sav@gmail.com,"BPI clean up: 1. set tmp dir for JVM 2. avoid redundant second run (#2677)

* break-point-inspector: explicitly set jvm tmpdir option
to avoid ""low disk space"" errors

* break-point-inspector: avoid running twice for tumor/normal pairs

* break-point-inspector: use file_transaction on stats file",2019-02-09T16:04:04Z,vladsavelyev
dd66858477ff7843657674128368d647b78d46e5,roryk,rory.kirchner@gmail.com,"lookup path to gsort via get_program

Travis tests are failing due to not being able to find gsort, this looks
up gsort via get_program to get the full path.",2019-02-09T15:02:22Z,roryk
741877e593fda89a9e825dc8bd25c2046842759b,chapmanb,chapmanb@50mail.com,smcounter2: do not run by default during testing,2019-02-09T10:17:43Z,chapmanb
1cbde3785202d1a6ec245c007b6393fd5cc443a5,chapmanb,chapmanb@50mail.com,Python 3: additional fixes for iterators v lists,2019-02-09T10:17:43Z,chapmanb
a9a204a63e59317947bb21c3ebeec5a1211ad9c5,roryk,rory.kirchner@gmail.com,"fix for pizzly not respecting transcript versions

pizzly ignores transcript versions in the GTF file, so we need to remove
them from any provided FASTA files, or else it won't be able to match
them up.

Thanks to Avinash Reddy for pointing out the issue.",2019-02-08T22:53:31Z,roryk
becc295dedddb5ad6a6020864f9ebdaad8f1d85f,roryk,rory.kirchner@gmail.com,Avoid an extra newline when stripping transcript versions.,2019-02-08T22:33:40Z,roryk
f3d3d75e1cc05e476afe03506714148ebca57bdc,chapmanb,chapmanb@50mail.com,Python 3: move bcbio_setup_genome to avoid fabric for install,2019-02-07T15:51:54Z,chapmanb
b55e123e5af98d4979bbf930d0c7cf9ab2171c45,chapmanb,chapmanb@50mail.com,Delly: handle new failure modes with small sample sizes,2019-02-07T10:22:46Z,chapmanb
dc68f64778c21c91c02d2d21d9ddc096ab62a813,chapmanb,chapmanb@50mail.com,"Python 3: ensure python 2 used for dependent processes

- Use a python 2 version for external programs that are not py3 compatible.
  When bcbio is run from python 3 this needs to be the python matching
  the environment the program gets installed in.
- Addition python 3 fixes so all tests pass: itertools, byte strings, gzip.
  sort comparisons with None.",2019-02-07T10:16:31Z,chapmanb
c0a4df61c4d70ab9d49f371d07a73b87888201b7,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2673 from matthdsm/gnomad_fixes

Gnomad fixes",2019-02-07T10:12:31Z,chapmanb
15ff3d7ab575169be2ec7970d8727e8a76a32d6a,Matthias De Smet,matthias.desmet@ugent.be,fix sqlerrors after gnomad exome annotations,2019-02-07T07:37:57Z,matthdsm
19c15f757376cd72ca47d538fc90434b57f73757,Matthias De Smet,matthias.desmet@ugent.be,fix clinvar field name,2019-02-06T12:20:30Z,matthdsm
4cb087f9a6dda7e52d385e4c33cdc983b8a2484a,Matthias De Smet,matthias.desmet@ugent.be,gnomad: fix field names for AFR population,2019-02-06T11:23:52Z,matthdsm
8f1d4cac6f8e1442b658522288b028ffde0ed5f1,chapmanb,chapmanb@50mail.com,CWL: relative paths in MultiQC tarball. Thanks to @vladsaveliev,2019-02-05T10:02:21Z,chapmanb
81a258e1068aaa927cd24833122a3d9683de7fed,chapmanb,chapmanb@50mail.com,"Config: avoid filling in tools_on with local directories

When gemini is in `tools_on` and the directory is also present, it
gets filled in with the local path rather than resolving as a hint. #2596",2019-02-04T14:41:06Z,chapmanb
1e3829fe1bf6f19731fcce422ba75f4567204a94,chapmanb,chapmanb@50mail.com,"Install: update data without requiring fabric

Uses direct calls to cloudbiolinux without fabric, enabling install usage
with py3k, which fabric 1.x does not support.",2019-02-03T10:28:32Z,chapmanb
43f30b856b2525fec63f86d4320bb1732964f705,chapmanb,chapmanb@50mail.com,"Install: cloudbiolinux tool install without fabric

Step 1 towards dropping fabric requirement: provide tool installation
with new cloudbiolinux target not needing fabric. Move towards
migration to python 3.",2019-02-02T10:06:50Z,chapmanb
90c156d5e5b6c5e99a4d8280965c2e7580fac41d,chapmanb,chapmanb@50mail.com,"CWL: find remote vcfanno configuration files

Generalizes approach to check for vcfanno configuration files and inputs
to work with remote inputs. Enables use on GCP (#2656)",2019-02-01T09:36:52Z,chapmanb
0c5e330634ecc087b19382fec70b403a00951c6e,chapmanb,chapmanb@50mail.com,Gemini: provide useful debugging messages when gemini skipped #2596,2019-02-01T09:36:12Z,chapmanb
a9704bef31a821caa0eea7e370dc92c8270b4cd3,chapmanb,chapmanb@50mail.com,"CWL: support for gVCF input to templating and runs

Supports gVCF `vrn_file` inputs rather than `files` as central item for
templating (bcbio/bcbio-nextgen#2513). Initial work on support as workflow
for joint calling.",2019-02-01T09:34:26Z,chapmanb
b10fc7e3b613aba19cada556d8bc502effbc78f6,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2661 from matthdsm/patch-1

vep G2P: set full path to ref data",2019-01-31T14:42:37Z,chapmanb
92f48bcf0b21e62b84351e82fd3b17c5a2357ed2,chapmanb,chapmanb@50mail.com,Shared filesystem resiliency for utils.chdir. Fixes #2657,2019-01-31T14:37:36Z,chapmanb
2de6d62a5f841ee1d137b2208b1cd4508f6e21ed,Matthias De Smet,matthias.desmet@ugent.be,vep G2P: set full path to ref data,2019-01-31T14:23:02Z,matthdsm
e9dfd8d9dfae6e81513e2fb12878c17b3d9819c8,chapmanb,chapmanb@50mail.com,"tumor-only germline prioritization: filter based on INFO/EPR

For tumor-only germline prioritization based on external databases, the
current approach wasn't doing much without `tumoronly_germline_filter` on,
resulting in confusing MultiQC reports with germline and somatic looking
identical. This uses the INFO/EPR column, instead of relying on the filter,
to restore the previous behavior with `LowPriority` filtering enabled.",2019-01-31T10:34:27Z,chapmanb
a8e7fb9c8fd2155d37eba4660f15258beca6f075,chapmanb,chapmanb@50mail.com,Docs: AWS documentation cleanups and examples,2019-01-30T13:14:06Z,chapmanb
f7c11e65866d11b0820f5e17bff292582ef23b0a,chapmanb,chapmanb@50mail.com,"CWL: skip docker chmod at end when not present

Fixes issues where we run remotely and don't have a local Docker #2656",2019-01-30T10:28:25Z,chapmanb
9a436b780f6bc3b132bc7ecf5693646d2762ed63,chapmanb,chapmanb@50mail.com,"Docs: initial skeleton docs for running on AWS Batch

Documents work in progress for AWS Batch support with Cromwell. It's not
yet working pending improvements to Cromwell, but documents setup and
current status. bcbio/bcbio-nextgen-vm#172",2019-01-30T10:23:55Z,chapmanb
70a238a51950b2984d3e01774191af93a174e716,chapmanb,chapmanb@50mail.com,"Docs: GCP support: enable Genomics API and better defaults

Thanks to @mjafin #2656",2019-01-30T10:23:55Z,chapmanb
8bc611e17524c35baf94dd5a2d9191ded1c7d530,roryk,rory.kirchner@gmail.com,"Ignore the installed tx2genefile.

This makes the logic when we provide custom GTF files easier.  The
tx2genefile is pretty low-cost to make, so making it each time from the
GTF file we are actually using makes more sense than trying to cache it.

This fixes an issue where we were not creating a tx2gene.csv file from
GTF files passed on with the `transcriptome_gtf` option.

Thanks to @lubinskibu and Avinash Reddy for the suggestion.",2019-01-29T20:08:47Z,roryk
d996b544c52448a5b920dfab0db758d3827bbcde,chapmanb,chapmanb@50mail.com,CWL docs: additional GCP fixes from #2656,2019-01-29T17:18:47Z,chapmanb
4f995f6d6f7c41298845c01793f53a8009e057fe,chapmanb,chapmanb@50mail.com,"CWL: document file specification for inputs in template CSV

Fixes #2656",2019-01-29T17:12:25Z,chapmanb
347f1337fc574ec11c048f85adfd6881d90643d6,chapmanb,chapmanb@50mail.com,v1.1.3 release,2019-01-29T10:07:25Z,chapmanb
2a6e2e0b2e7973a5dc019b16bf4bb82cd4cfdb2f,chapmanb,chapmanb@50mail.com,CWL: additional disk space for summarize_vc,2019-01-29T10:01:21Z,chapmanb
4ebd1fbc4dcdf24482dd2eff1e9417f3d896966e,chapmanb,chapmanb@50mail.com,"LOH: allow arbitrary BED file as input to priority reporting

Enables cases where CIViC does not cover regions of interest. Thanks
to @lbeltrame  Fixes #2651",2019-01-28T19:13:02Z,chapmanb
571478325c84f14ec83ef6d5d71da6ef9f42c48e,chapmanb,chapmanb@50mail.com,manta: upload evidence BAM files to final directories if they exist,2019-01-28T16:09:16Z,chapmanb
9676722615a4ca6291fc332236d93b74ec8a822c,chapmanb,chapmanb@50mail.com,"Install: avoid pinning to conda 4.5.12; use new conda 4.6.1

Trying to pin caused many CondaUpgradeError messages as it swapped
between versions. 4.6.1 release is meant to resolve slow runtimes
for solving, so try to move forward.",2019-01-28T10:31:00Z,chapmanb
9890f43d1660442bc7d427b6ae9d397691e3f4b8,chapmanb,chapmanb@50mail.com,Install: additional conda pinning to pre 4.6 versions,2019-01-27T23:31:47Z,chapmanb
d47f6ac5bfd1540fe1b3413d58209150a8505015,chapmanb,chapmanb@50mail.com,Install: additional conda pinning to pre 4.6 versions,2019-01-27T23:18:54Z,chapmanb
1e9d6888b4c1a1189f06e3f021cd0fc74923e372,chapmanb,chapmanb@50mail.com,Install: additional conda pinning to pre 4.6 versions,2019-01-27T20:41:53Z,chapmanb
002d7eb36ac1f669423d094ddd8e2182561a1faf,chapmanb,chapmanb@50mail.com,Install: avoid conda 4.6.0 install to avoid 4.5.12 errors,2019-01-27T20:10:20Z,chapmanb
780cc46591dc3eb51014cc9478773ed8da333a6a,chapmanb,chapmanb@50mail.com,CWL: support CRAM input for pre-aligned workflows,2019-01-27T11:54:40Z,chapmanb
aad41c3e52a6bcc97646ec59936470c72a239fd2,chapmanb,chapmanb@50mail.com,Manta: configManta command line tweaks with resources/options,2019-01-27T10:15:56Z,chapmanb
ef3a938ce79e9837b1ab84e3238357fa67034c9e,chapmanb,chapmanb@50mail.com,Travis: pin to conda<4.6.0 as first operation to avoid CondaUpgradeError,2019-01-26T14:19:10Z,chapmanb
da12fedf6b5d39caa26df586dd2d9cdf495ba47e,chapmanb,chapmanb@50mail.com,"Tumor-only prioritization: do not filter inputs with COSMIC support

When we had known database support of a variant (`EPR=pass,cosmic`)
this would result in filtering due to the second item not also being pass.
bcftools uses `or` instead of `and` logic to check multiple fields:

https://samtools.github.io/bcftools/bcftools.html#expressions

Since we put `pass` in the first column, we can check just that to avoid
the issue. Thanks to Moiz Bootwalla

https://groups.google.com/d/msg/biovalidation/Wfm9dPKRxkk/NMoP_cdHEwAJ",2019-01-26T10:33:57Z,chapmanb
8e2639c69dad89c139e2f875cb98dd1d36141b03,chapmanb,chapmanb@50mail.com,"CWL: generate Cromwell configuration for AWS inputs

Configures for running in an AWS batch environment, using inputs in S3
buckets.",2019-01-26T10:27:59Z,chapmanb
317f8229c02ad95c3789c455643d071b204b346f,chapmanb,chapmanb@50mail.com,"CWL: avoid unicode output in secondaryFile specifications

These cause Cromwell and cwltool failures when parsing.",2019-01-26T10:27:59Z,chapmanb
03c8ad4a029ad7e5ba57495afcbfa6d59fd6e317,roryk,rory.kirchner@gmail.com,"Add rapmap to programs which get versioned.

Also sorts the list of manifest programs, to make it easier to
see which ones are already added.",2019-01-25T17:58:11Z,roryk
c3287b515397afa9b000e1140068c5d91a8fffe7,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2648 from matthdsm/patch-1

move VEP cache download from ftp > http",2019-01-25T09:58:40Z,chapmanb
eebe8eda5b3d1c1658162cd0ddea2f882d96163c,Matthias De Smet,matthias.desmet@ugent.be,"move VEP cache download from ftp > http

FTP is blocked by a lot HPC's due to some safety concerns, changing the URL to HTTP fixes the download issues.

Cheers
M",2019-01-25T07:24:28Z,matthdsm
fded56954d466ecb481e5b911ebeb2be44b9424e,chapmanb,chapmanb@50mail.com,"CNVkit: clean illegal BED call output when creating annotations

In some edge cases we'd get inputs with start/end swapped which made
bedtools complain when annotating. Cleans these incorrect outputs
during the preparation process. Thanks to @pcingola",2019-01-24T10:28:43Z,chapmanb
ad4a3bd2da1234f653de8d82c970745a1e651dc9,chapmanb,chapmanb@50mail.com,"small RNA: fix bug in writing mirdeep output fastas

Fixes #2642",2019-01-24T10:04:23Z,chapmanb
474a753ecf15f9a11685b9ef50ad7f7f3d7bc76e,chapmanb,chapmanb@50mail.com,"CWL: ensure full viral directory with indices included

We had special logic for directories with .fai files which only included
those and .dict as additional secondary files. This generalizes to support
directories like viral with fai files and also bwa indices. It avoids
uploading -resources.yaml files which are not used. Thanks to @aednichols",2019-01-24T09:56:29Z,chapmanb
a273e9f757afd3c5947cbf40a3c8c76246cc5767,chapmanb,chapmanb@50mail.com,"CWL: avoid creating final and inputs directories during generation

Avoids non-used directories when preparing configuration. Thanks to @ohofmann",2019-01-24T09:55:10Z,chapmanb
32dae3f0e8f7883568f809da633722266c965495,chapmanb,chapmanb@50mail.com,"hisat2: fix strandedness type for firststrand

Retains back compatibility in case anyone was relying on the typo and
tries to be a bit more resilient in general. Thanks to @mjsteinbaugh.
Fixes #2644",2019-01-23T14:22:42Z,chapmanb
adccc0ec6bf95bb1691ca33e9f5858c4591c530e,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2629 from matthdsm/VEP_95

VEP 95: Updated genomes",2019-01-23T10:25:36Z,chapmanb
79c18668f3ab95211350e1784aef9b70f042fae5,chapmanb,chapmanb@50mail.com,"peddy: enable tools_off configuration, catch new PCA error

- Turns off peddy for tools_off both for single sample and batch runs.
- Correctly catches new syntax for PCA errors with few features/variants.",2019-01-22T14:40:20Z,chapmanb
7c07d55be77af678f0b9c1ccc383618c9e8d1e26,Matthias De Smet,matthias.desmet@ugent.be,Merge branch 'master' into VEP_95,2019-01-21T11:30:52Z,matthdsm
d385b51c53bb3fd2bd1bf8ef7128dfbd039fc9d9,chapmanb,chapmanb@50mail.com,CWL: support CRAM generation with `archive`,2019-01-21T10:25:30Z,chapmanb
3245552cdb1a854145c8d585b155b1e541e8f311,chapmanb,chapmanb@50mail.com,AWS: update ansible script to handle m5+ filesystems and 18.04,2019-01-20T11:31:32Z,chapmanb
15a4541d9f078305db289529cfdb7904fe97836b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2635 from pfpjs/gnomad_genome_fix

Fix for GC field with multiple values in gnomad VCFs",2019-01-19T11:03:36Z,chapmanb
2e4c888b4c092572961d30d5f2f5068f7387e043,chapmanb,chapmanb@50mail.com,"SV: avoid multiple batched calls in upload directories for lumpy

Only upload a single copy of batched multi-sample structural variant
calls, avoiding redundant copies in sample directories. This impacts
lumpy multi-sample calling, but general fixes put in place for other
callers for consistency. Fixes #2632",2019-01-19T10:49:38Z,chapmanb
c652a804b40e54a201f6435e862579c88dc3c82d,Paulo Silva,paulo.silva@ibmc.up.pt,Fix for GC field with multiple values in gnomad VCFs,2019-01-18T18:42:04Z,pfpjs
2902e233ef861ab6c055a6bd82f5d579d8bd55ba,chapmanb,chapmanb@50mail.com,"Python 3: fixes for RNA-seq workflows

Finalizes Python 3 tests by working through all failing RNA-seq workflow
tests:

- Find correct python for TopHat and other python 2 programs
- Fixes for newline reading
- Explicit list and checks for tuples in py3.
- IO: stdout string decoding from bytes and binary file writing.

All tests now pass on python 2 and 3.",2019-01-18T17:18:56Z,chapmanb
750721e6d1a29c2abbb0d0af3902610b0e912ff3,chapmanb,chapmanb@50mail.com,Test: split into build stages to avoid timeouts,2019-01-17T15:15:22Z,chapmanb
fc623f72d8a39d05fc08ac042581f7ec6a54a161,chapmanb,chapmanb@50mail.com,"Avoid use of apply for multicore function runs

Python 3 removes apply, so we need to adjust the bcbio.utils.map_wrap function
which uses is to double unpack into arguments (via both the `*` approach and
`apply`) which was necessary to enable arbitrary number of input arguments
to the original function. We do this by unpacking on the jobs calls that
use this in `run_multicore` and `runfn`.",2019-01-17T10:35:53Z,chapmanb
55e25126ee1e3d933236db533025adf40a6f481e,chapmanb,chapmanb@50mail.com,"Python 3 compatibility: support more test cases

- Consistent outputs from open_fastq for gzip/standard files
- Avoid code using keys() as explicit list
- Fix locations with byte strings instead of unicode by decode
- Additional next/.next fixes in scripts",2019-01-17T10:31:00Z,chapmanb
47fc6ae02ad55c3da78c7a24bdd0f47ae80a20dd,chapmanb,chapmanb@50mail.com,"SV: correctly identify standard chromosomes in alternative genomes

Avoids filtering chromosome names like Chr_01, Chr_02. Thanks to
@WimSpee, fixes #2628",2019-01-17T10:27:55Z,chapmanb
fea75ad6efc650222ff61bc121a505a9ec4ae9e6,chapmanb,chapmanb@50mail.com,Tests: avoid conda-4.6 which seems to be source of slow installs,2019-01-16T16:50:03Z,chapmanb
e868c3f7cbde2ff6515485cc73499d8e2f92af94,chapmanb,chapmanb@50mail.com,Tests: try to avoid timeouts in resolving bcbio-vm with conda; attempt 2,2019-01-16T15:37:00Z,chapmanb
d15287b79282145fd05bed1f7e30aa6e163eac57,chapmanb,chapmanb@50mail.com,Tests: try to avoid timeouts in resolving bcbio-vm with conda,2019-01-16T14:59:38Z,chapmanb
0ed78225ed3e5b4f5f912d6da1236027a3d515c9,Matthias De Smet,matthias.desmet@ugent.be,VEP 95: Updated genomes,2019-01-16T14:47:14Z,matthdsm
fe239ee2a09adae18bdddc1af615bf02e3df22c4,chapmanb,chapmanb@50mail.com,"Python 3 compatibility: byte strings, reduce, next, generators

- Explicitly list out generators for dictionary items when needed
- Decode byte strings from stdout calls into standard strings
- Use next in place of x.nextn
- Back-compatible import for reduce
- Avoid use of apply, no longer available in python 3",2019-01-16T10:36:21Z,chapmanb
21a6046ba9e3a64e4bf258de4ed2883c7c222bde,chapmanb,chapmanb@50mail.com,Oncofuse: return tissue_type if not missing or not correctly set,2019-01-15T02:18:40Z,chapmanb
3328e0a28addbdfb14a7e799752f718c9336523c,chapmanb,chapmanb@50mail.com,"Test fixes: cromwell inside containers, avoid CNVkit pandas issues

- Avoids depending on test_cwl shell script to use Docker for cromwell.
- Swap GATK4 CNV for CNVkit to avoid current errors with recent pandas
  (etal/cnvkit#413)",2019-01-13T15:46:52Z,chapmanb
41cf5c5049743bf5e45eaf3fb6a3feb27949d547,chapmanb,chapmanb@50mail.com,Tests: use Cromwell instead of Toil to avoid python docker dependency errors,2019-01-12T19:18:39Z,chapmanb
6e6256d48ec7ef5b34d902885e51b12c49a9b194,chapmanb,chapmanb@50mail.com,Intall: move requests from top level import; avoid unecessary broken package errors on runs,2019-01-12T10:28:25Z,chapmanb
b6a29457447000251e57c098f99c6327e456be09,roryk,rory.kirchner@gmail.com,"Make oncofuse logging more explicit.

This adds a few messages telling you which tissue type it is
using and why.

Addresses a concern in #2615.",2019-01-11T20:18:52Z,roryk
c4adb6d18995804abe9279ce654a06944fdcdd75,chapmanb,chapmanb@50mail.com,"variant calling: avoid race conditions with no variant_regions input

Skips extra BED merge step when using callable regions instead
of variant_regions for input. Callable regions doesn't need a merge
since it is clean and won't have overlaps. Since we don't pre-merge
the simultaneous merge over distributed clusters can cause
race conditions, and this avoids that. Fixes #2614",2019-01-11T10:06:47Z,chapmanb
ecfc35bbd4a156cc5d067fb13e6cec8aac21648f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2617 from limbus-medtec/fix-2616

#2616: fix multiqc_data_final.json null values",2019-01-10T18:19:02Z,chapmanb
fa6824f9f6e25b4dbb5d6fdc83970436c230e44e,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2619 from limbus-medtec/fix-2618

#2618: fix qc/variants/*_bcftools file creation",2019-01-10T18:18:29Z,chapmanb
ba870ea3aca6ec2b0cd3618a20f6f8df5d483f7e,Roland Ewald,roland.ewald@limbus-medtec.com,"#2618: fix qc/variants/*_bcftools file creation

These files are not created anymore because get_active_vcinfo
returns an empty array instead of the first element on invocation
when running a non-ensemble setup.

Instead, it now fails 'gracefully' by attempting to find an entry for
the 'ensemble' variant caller, but if it does not find one it will still
return the first non-ensemble one.",2019-01-10T17:20:05Z,roland-ewald
1f93cf426a42727832077f3a46ef3f410a7de5ea,Roland Ewald,roland.ewald@limbus-medtec.com,"#2616: fix multiqc_data_final.json null values

_work_path_to_rel_final_path should return path instead of None whenever
path is not a string, as utils.walk_data invocations walking over
the multiqc JSON data will otherwise replace all non-string (e.g.
numeric) values by None.",2019-01-10T16:42:05Z,roland-ewald
8915395f255f04fb09cd5c02beefede5dca34907,chapmanb,chapmanb@50mail.com,"PUPRLE SV: allocate AMBER memory based on available resources

Avoids OutOfMemory GC errors. Thanks to @ohofmann",2019-01-10T10:41:06Z,chapmanb
b14ee005c335f1e86162f2d203f591e3932f100d,chapmanb,chapmanb@50mail.com,"Python 3 support: use six for checking on strings

Avoid python 2 specific use of basestring (which swaps to str in python 3)
with generic six reference to string_types.",2019-01-09T09:55:00Z,chapmanb
b2787266fbdb906f14ae07e766eb41873805e2e6,chapmanb,chapmanb@50mail.com,"Template: fix unicode checks for list template items

Thanks to @vladsaveliev",2019-01-08T16:09:49Z,chapmanb
bcc80934ed7e02f266d209a68afb59bb9365e1c1,chapmanb,chapmanb@50mail.com,"Python 3 support: fix imports and references

Additional work to enable python 3 compatibility for builds and tests.",2019-01-08T10:19:56Z,chapmanb
7a26702ee90334e683bf3f5151bf4b0af7044451,chapmanb,chapmanb@50mail.com,"joint: add missing bamprep import for platypus support

Fixes #2611",2019-01-08T10:17:31Z,chapmanb
a33d8d97ffea662c05acf62d194f0289f094746d,chapmanb,chapmanb@50mail.com,"Tests: update genome data with fix for RNA-seq editing reference

Ensures RADAR bed file referenced in genome resources. Fixes #2608",2019-01-08T10:13:56Z,chapmanb
048b1585b95aff258858b5d205c15b16ddc00103,chapmanb,chapmanb@50mail.com,Python 3 compatibility: small fixes to avoid print/exception differences,2019-01-07T18:59:15Z,chapmanb
496e4dd27a61bbd49ff9d5372e67532a855af9ea,chapmanb,chapmanb@50mail.com,Install: make PyYAML optional dependency for initial install,2019-01-07T10:30:24Z,chapmanb
046947b44ffb8fa69785f6cc7e6fda45175736b8,chapmanb,chapmanb@50mail.com,CWL: bcbio-prioritize available for SVs in Docker #2609,2019-01-07T10:17:20Z,chapmanb
b1855bb01e2ff51f5d395008da297479e012067b,chapmanb,chapmanb@50mail.com,"Install: respect pre-specified bioconda/conda-forge in condarc

Enables use of custom package mirrors. Fixes #2607",2019-01-05T10:28:46Z,chapmanb
6a147c0ea84f499d89b50b12e2465883377ede4c,chapmanb,chapmanb@50mail.com,PureCN: capture additional failure modes for poor coverage samples,2019-01-04T10:52:48Z,chapmanb
38f3408abccac6725fd0002169ad96417ff49e08,chapmanb,chapmanb@50mail.com,Lumpy: also catch only second half of missing parameters errors,2019-01-03T11:34:01Z,chapmanb
6a08697fd3bbd81fd2aeb479f34c35a9f2b9ed88,chapmanb,chapmanb@50mail.com,"Lumpy: better catch allowed errors in tests

`missing pair end parameters` error can be broken over two lines, so adjust
to catch this case, avoiding intermittent test failures on Travis.",2019-01-03T10:36:01Z,chapmanb
318a76a245cf4530f5c89a672c95c1b9ea3e9be4,chapmanb,chapmanb@50mail.com,Doc: fix cross references for QC section,2019-01-02T10:33:13Z,chapmanb
85e8f2af8bfcdd452e17b2c56cfad2fee3cac366,chapmanb,chapmanb@50mail.com,"Document turning off or customizing QC tools

Describes using `tools_off` to remove QC steps and `config: algorithm: qc` to
define specific QC steps to run.",2019-01-02T10:27:05Z,chapmanb
1fcd3a335acff4159199e26b9fd9ab9cab4791c7,chapmanb,chapmanb@50mail.com,CWL: document preparing and running with Seven Bridges,2019-01-01T11:22:37Z,chapmanb
2a0c9fbb01c94a5afb6a2208e6f94ec4cba41393,chapmanb,chapmanb@50mail.com,"CWL: add runner for Seven Bridges job submissions

Automates submission of jobs to the SBG platform using sbg-cwl-runner
https://github.com/kaushik-work/sbg-cwl-runner",2019-01-01T11:21:28Z,chapmanb
eb00dc157e70a8278f22903841a05b01b5086ce5,chapmanb,chapmanb@50mail.com,"CWL: remote ID based lookups for secondary files

Correctly remove prefixes and unique IDs from references. Work in progress
for SevenBridges support.",2018-12-31T10:17:15Z,chapmanb
2a261c9c1f5bb175e2bce5f23812dc683ae63be0,chapmanb,chapmanb@50mail.com,PureCN: handle no valid VCFs found in test cases,2018-12-30T10:48:11Z,chapmanb
bdde017fdc3c0b1da560d2720a717f20ae6b703d,chapmanb,chapmanb@50mail.com,"SV annotation: handle issues with bedtools closest directionality

- Avoids issues where bedtools closest fails with request for `-D` rather
  than `-d` despite `-fu` and `-fd` not in command line. Always use the more
  general `-D` and improve the distance filter to handle this.
- Simplifies sorting using gsort to avoid complicated pipes.",2018-12-30T10:45:09Z,chapmanb
8ca1625f479e9ceb9560d19c5b878268cdf29342,chapmanb,chapmanb@50mail.com,GATK CNV: bug fix for preparing VCF output,2018-12-29T10:40:22Z,chapmanb
9bc64c77f799712e5f963b017751389f500851ba,chapmanb,chapmanb@50mail.com,"Prioritization: scale bcbio.prioritize with available memory

Avoids issues with larger events from PureCN and TitanCNA.",2018-12-29T10:39:49Z,chapmanb
876f49fa6c41459f0a1f3c63855b56eac04f63de,chapmanb,chapmanb@50mail.com,Heterogeneity: more robust LOH/amplification summary,2018-12-28T20:20:34Z,chapmanb
b8a34e85c9e92d5a347606682319feef334051ca,chapmanb,chapmanb@50mail.com,"Heterogeneity: generalize summaries for LOH and amplifications

Provide ability to query CIViC data from `svprioritize` for cancer specific
genes of interest for LOH and amplification summaries. Helps generalize
approach to apply across multiple cancer types or other selectors like drug
targets.",2018-12-28T10:34:06Z,chapmanb
59cbbb9c8d6fca8a6d14db251eed6b9872ce32d3,chapmanb,chapmanb@50mail.com,"STAR: avoid setting junction file if empty/missing

Thanks to Moiz Bootwalla
https://groups.google.com/d/msg/biovalidation/waHeAL64PGY/tyiYSESBDQAJ",2018-12-27T19:25:51Z,chapmanb
d0247ba362f5d6662d09c3ee59a9b7ae8c4a2095,chapmanb,chapmanb@50mail.com,"PUPRLE: convert output to annotated VCFs

Provides standardized VCF output across multiple callers.",2018-12-27T10:15:35Z,chapmanb
835ca44f8c3fb8ed7e5292d615a7dcb1c4534d28,chapmanb,chapmanb@50mail.com,PURPLE: fixes to avoid circular heterogeneity imports,2018-12-25T14:46:23Z,chapmanb
2e0edc4851807a90f8fee89c91f3709795012249,chapmanb,chapmanb@50mail.com,"PURPLE: add somatic VCF input, helping with noisier samples

Somatic VCFs, coupled with difficulty fitting a ploidy/purity model,
allow PURPLE to use a different mode for fitting:

https://github.com/hartwigmedical/hmftools/issues/7#issuecomment-447439516

This helps for many FFPE and other problematic cases.",2018-12-25T10:02:43Z,chapmanb
3d009137c96884a2ee4568d51c62bf48220f8c17,chapmanb,chapmanb@50mail.com,"versions.csv: avoid errors with empty lines

Allows hand editing of file without being so picky",2018-12-23T09:48:12Z,chapmanb
60691497edd7cb0300ee59aea06c984dfdc6f094,chapmanb,chapmanb@50mail.com,Unicode cleanup: handle non-string inputs to YAML,2018-12-22T20:03:18Z,chapmanb
79a52e1458730fb0478478b80887d6030d9f15d6,chapmanb,chapmanb@50mail.com,"Catch and report unicode characters in templates or YAML

Avoids confusing downstream errors for description or batches with unicode
characters.",2018-12-22T10:54:48Z,chapmanb
0675e905459fb76756287b76c9fbf589917f9dd5,chapmanb,chapmanb@50mail.com,"CWL: avoid default variantcaller, causing lookup issues",2018-12-21T16:23:57Z,chapmanb
3fee6198b9d9f49290462fbf60021ca662646df0,chapmanb,chapmanb@50mail.com,CWL: attempt two to provide default svcaller for seq2c,2018-12-21T15:35:29Z,chapmanb
9379fd239d34843c74a5771bbe031dbcc7ff7340,chapmanb,chapmanb@50mail.com,CWL: ensure svcaller available for seq2c prep check,2018-12-21T14:29:12Z,chapmanb
45eed5a5a796381a824d3d4fdc26c8c14183ead8,chapmanb,chapmanb@50mail.com,"CWL: enable use of seq2c by preparing in coverage step

Works in parallel with moving pre-call, passing in the right parts needed
for seq2c custom file preparation.",2018-12-21T11:00:03Z,chapmanb
e7fea2344362008afe302bbbe74b6a71ab452ed7,chapmanb,chapmanb@50mail.com,"seq2c: move precall command upstream to coverage estimation

Avoids special custom step in SV calling only for seq2c, which enables use in
CWL runs.",2018-12-21T10:57:13Z,chapmanb
a706e2c7d1c5e1b95cb56ca7d051e2ca63564032,chapmanb,chapmanb@50mail.com,"PURPLE: use AMBER for generating allele frequencies

Replaces GATK4 approaches with PURPLE native support, including workaround
for issues with tiny test sets.",2018-12-20T10:15:50Z,chapmanb
291a4a3c08608bd5e4b954ab47b077c893525177,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2604 from bogdang989/fix/secondaryfiles-dir

Extend check for directory in secondaryFiles",2018-12-20T10:09:26Z,chapmanb
da0d6cef56f3895f7c24ab8388e07c19ab1072ac,bogdang989,bogdan.gavrilovic@sbgenomics.com,Extend directory check,2018-12-19T12:55:52Z,N/A
7e1ba56fafd24d948e59d2486c7a944bdc514134,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2603 from pfpjs/vep_94_hg38_fix

Update hg38 Ensembl VEP cache to v94",2018-12-19T12:27:21Z,chapmanb
7ab5e46794a4508f9225001e40981a592ede371c,bogdang989,bogdan.gavrilovic@sbgenomics.com,Omit sbg.worker.log,2018-12-19T11:43:17Z,N/A
695169290cce58aec833c4328064cdfe2b6340f1,bogdang989,bogdan.gavrilovic@sbgenomics.com,Extend check for directory in secondaryFiles,2018-12-19T10:43:08Z,N/A
f67fe6177e80e371295bc82d4776969b555733d0,roryk,rory.kirchner@gmail.com,"Fix for STAR RNA-seq variant filtering.

STAR reports junctions as donor,acceptor, so we were filtering out
much larger regions than intended. We fix that here by just looking
at the ends, which is where the junctions are.",2018-12-18T22:05:49Z,roryk
a473d7c00e3d17cbea507f6418b051af741ff43a,Paulo Silva,pfpjs@users.noreply.github.com,Update hg38 Ensembl VEP cache to v94,2018-12-18T19:29:06Z,pfpjs
cf727ffa48937bd9d1063dfe320fdb6b304e5b8b,chapmanb,chapmanb@50mail.com,"SV: improve standardized VCF output

Adds SVLEN and SVTYPE to VCF conversion for GATK CNV, PureCN and TitanCNA.",2018-12-18T11:03:09Z,chapmanb
e79b2bd0277d265942f7fb6a25708b9d10fd96ca,chapmanb,chapmanb@50mail.com,"CWL: improved background cnv_reference specification

Generalizes specification of background cnv_reference to avoid hard
coding names of supported callers.",2018-12-17T11:02:54Z,chapmanb
9b4638cd35e9a8e20879a30b73c00fe9fcbea06c,chapmanb,chapmanb@50mail.com,"PureCN: ensure use of local bcbio R libraries

Thanks to @SakshiGulati",2018-12-17T10:57:25Z,chapmanb
bbcfe1a313ed0e83f9f8b5d9089fd8761c2e34eb,chapmanb,chapmanb@50mail.com,"CWL: initial work on cnv_reference background support

Passing into CWL currently not ideal due to needing file references.
Need to continue work to generalize.",2018-12-17T10:33:44Z,chapmanb
9652facdc1aa9004a5db534dc5e6712e1c951d4d,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2599 from bogdang989/fix/directory-secondaryfiles

WIP Avoid adding directories to secondaryFiles with class File",2018-12-16T19:00:42Z,chapmanb
04b8d0360eef3df0a596e8e8cb2114340b123100,chapmanb,chapmanb@50mail.com,"GATK4 CNV: add openblas library for panel of normal creation

CreateReadCountPanelOfNormals fails on systems without blas in the
library path:

https://gatkforums.broadinstitute.org/gatk/discussion/8810/something-about-create-pon-workflow",2018-12-15T19:42:41Z,chapmanb
9c964b4fa8950b56709022cfff686cded3b5667d,chapmanb,chapmanb@50mail.com,"PureCN: avoid R issues and correctly check for errors

- Avoid pulling in R environmental variables
- Only continue if known errors found, current code continued on any error",2018-12-15T11:06:46Z,chapmanb
ce7a5fb23c6b3683a18211adab50e18c22c7ce87,bogdang989,bogdan.gavrilovic@sbgenomics.com,Relax directory check,2018-12-14T17:44:43Z,N/A
98206a5f26b5d9b5386461ce99a72d221de8b5ff,bogdang989,bogdan.gavrilovic@sbgenomics.com,Relax directory check,2018-12-14T17:06:38Z,N/A
848e8de8941f2d3b31237243e47293cfe50f482e,chapmanb,chapmanb@50mail.com,"GATK4 CNV: fix VCF output for correct number of columns

Thanks to @lubinskibu",2018-12-14T15:44:54Z,chapmanb
fc4427c1cc9393e467202eb18c141055c5028df4,chapmanb,chapmanb@50mail.com,"Install: skip matplotlibrc update if permissions fail

Handles issues where MATPLOTLIBRC or other customatizations point to a
global matplotlibrc file we don't have permissions to access:

https://matplotlib.org/users/customizing.html#the-matplotlibrc-file

Fixes#2597",2018-12-14T15:02:29Z,chapmanb
b2fcdf47cc481058230f5f6d84429865c2ce526d,chapmanb,chapmanb@50mail.com,"joint: avoid dropping secondary samples with pre-called gVCFs

Correctly handles inputs where we don't have associated BAM files.
Fixes #2596",2018-12-14T14:55:01Z,chapmanb
e9058de5eb65720a99781bd1759ad319390145df,bogdang989,bogdan.gavrilovic@sbgenomics.com,Avoid adding directories to secondaryFiles with class File,2018-12-14T13:57:45Z,N/A
c841b88e9f29572096513e2bdbd3c2dd678d0e6d,chapmanb,chapmanb@50mail.com,"SV: provide useful error messages for missing CNV callers

Requires input CNV callers for heterogeneity approaches like TitanCNA
and PureCN. Fixes #2595",2018-12-14T11:14:28Z,chapmanb
41e40217125fb782f97a026cad667466ea540951,chapmanb,chapmanb@50mail.com,"MultiQC upload: copy to final directory for parallel run

Thanks to @lpantano and @SakshiGulati",2018-12-13T15:38:24Z,chapmanb
59aa2728d9e1ac856cc8a53f00f96139c688c9ee,chapmanb,chapmanb@50mail.com,Doc: example for background cnv_reference multi-method support,2018-12-13T10:30:54Z,chapmanb
be17357a202051e693360591abee7a7c22760f79,chapmanb,chapmanb@50mail.com,"CNV: support background inputs for CNVkit, GATK4 CNV and seq2c

- Allow pre-computed panel of normals for tumor-only or single sample CNV
  calling for all methods
- CNVkit background preparation fixes for correctly setting target and
  antitarget without overlaps.
- GATK4 CNV extraction of BED regions from panel of normals.
- seq2c support for a panel of normals with combined mapping and coverage
  inputs from the background.",2018-12-13T10:22:15Z,chapmanb
1daf8e131082423293d0c274059e39b2e7d67eb3,chapmanb,chapmanb@50mail.com,"Doc: initial support for GATK4 CNV, PureCN, TitanCNA",2018-12-12T14:13:33Z,chapmanb
0c2e181cdc0d867c725ca632e9b55bb25d30e85d,chapmanb,chapmanb@50mail.com,v1.1.2 release,2018-12-12T10:17:28Z,chapmanb
fc610d63b0bd27e5d9adc07ae069fc5db4cb35ae,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: avoid SV calls for VarDict

Re-uses option selection from VarDict DNA-seq calling for RNA-seq variants.
This avoids leaking structural variant calls in new versions of VarDict.
Fixes AstraZeneca-NGS/SolveBio#56",2018-12-12T09:49:00Z,chapmanb
821612c4252458db09540ef608956542e780f585,chapmanb,chapmanb@50mail.com,Docs: formatting and GCP cloud cross-refs for Cromwell,2018-12-11T10:02:08Z,chapmanb
d135b37a89480f3b0ba7da6c7beba2a1b3b3acab,chapmanb,chapmanb@50mail.com,"Docs: cloud support running on GCP using Cromwell and CWL

Updates cloud documentation to focus on newly available CWL methods, including
support for GCP runs using Cromwell.",2018-12-11T09:50:04Z,chapmanb
0258cc5e5e31f0d91dbd0b0f4fe17687a5d70570,chapmanb,chapmanb@50mail.com,CWL: avoid trying to copy remote files on GCP Cromwell runs,2018-12-11T09:42:32Z,chapmanb
f5680fcc4310785961aaa85e83b7a97d2254c8c6,chapmanb,chapmanb@50mail.com,"LOH: additional summary genes of interest: PTEN, CDKN2A, B2M",2018-12-11T09:31:19Z,chapmanb
30ac79cd19dcc11059ab426cc384471ab7c86dd3,chapmanb,chapmanb@50mail.com,"LOH: fixes for TitanCNA, PureCN summarization",2018-12-10T14:30:42Z,chapmanb
4b04e03da0c50416ab45b4f82ff6a6650b79d90c,chapmanb,chapmanb@50mail.com,"Heterogeneity: summarize purity, ploidy and regional LOH

Provides a single standard file per heterogeneity caller that contains
purity, ploidy and LOH in HLA regions. Generalized to also provide LOH in other
regions of interest. Currently supported for TitanCNA and PureCN.",2018-12-10T10:39:29Z,chapmanb
07dcbaaa3447fc5ff190b7d2e8e2abfe3603165d,chapmanb,chapmanb@50mail.com,CWL GCP support: correctly pass cloud_project to filesystem upload,2018-12-09T10:04:03Z,chapmanb
e9d6fc5cfd96b4a419ae2b938835e28c36e6b565,chapmanb,chapmanb@50mail.com,"GCP: provide service_account based authentication

Uses `GOOGLE_APPLICATION_CREDENTIALS` environmental variable to define
JSON file with service account private keys and authentication details.",2018-12-08T19:10:16Z,chapmanb
e3de03c0bf74acea422cdbb2c12abdf7701fff0c,chapmanb,chapmanb@50mail.com,"CWL: initial support for running on GCP using Cromwell

Starts work on setting up a configuration to run on Google Cloud Platform
using Cromwell through the Pipelines API (PAPI). Sets up expected configuration
on Cromwell to run using files in Google Storage buckets.",2018-12-08T11:13:29Z,chapmanb
6e009c5e3e0d64b180a42ab15ab411bee7cea065,chapmanb,chapmanb@50mail.com,"gVCF filter: avoid MQ filter on raw gVCF not present in GATK4 HaplotypeCaller

Fixes #2588",2018-12-07T18:38:19Z,chapmanb
d2810ad49ce00c155f87e151c3c8ca1b28806436,roryk,rory.kirchner@gmail.com,Add new adapter sequences to documentation.,2018-12-06T21:09:15Z,roryk
2c061ca6ac73f6c2e8ea0513227e607f1947aee2,Meeta Mistry,meeta.mistry@gmail.com,"adding adapter sequences for trimming (#2585)

* adding more adapters to the stock

- nextera2 (used in the NEXTera DNA prep kit from NEB)
- truseq2 (used in the SMARTer Universal Low Input RNA Kit)",2018-12-06T21:00:54Z,mistrm82
62ba949a145297b6b31646fb42343132e8b6e175,roryk,rory.kirchner@gmail.com,"Write splice junctions out to a permanent BED file.

This is helpful if we want to use it downstream.",2018-12-06T20:27:41Z,roryk
742831a81786f24449d195c47a41eab21110f5d0,roryk,rory.kirchner@gmail.com,"Allow skipping duplicate marking for ChIP/ATAC-seq.

Thanks to @mistrm82 for the suggestion!",2018-12-05T21:16:17Z,roryk
0d00292f68d69d28c6a989d33d62e026bbdcf6aa,roryk,rory.kirchner@gmail.com,Add hisat2 as supported junction filtering aligner.,2018-12-05T16:13:25Z,roryk
297e36744ea80c6fee4e3547051bb7b6cee9a12d,roryk,rory.kirchner@gmail.com,"hisat2 support for RNA-seq variant filtering near junctions.

This also adds an option to hisat2 to output a list of novel
junction sites detected by hisat2.",2018-12-05T16:13:25Z,roryk
c2e55349285256bb24c3810d781c17b98a8a6bd4,roryk,rory.kirchner@gmail.com,"Skip variant filtering if transcriptome isn't spliced.

If no splicing is preannotated or detected via the aligner, skip
filtering of RNA-seq variants by distance from the junction.",2018-12-05T16:13:25Z,roryk
588e84bde469be8ff06a9a32c70e325eedc562e7,roryk,rory.kirchner@gmail.com,More robust finding of **py**.,2018-12-05T16:11:52Z,roryk
2bb565e80f6af962e9385c41135f7a6a12b92c98,chapmanb,chapmanb@50mail.com,"Heterogeneity HLA comparison for LOH, used in TCGA comparisons",2018-12-05T10:28:30Z,chapmanb
638a168d0afa810847cabed5278d3c75f50ed759,chapmanb,chapmanb@50mail.com,"QC: avoid downsampling at high frequency of reads

Avoids wasted work when we're not limiting BAM files and avoids
errors with 100% of reads selected for downsampling.",2018-12-04T19:52:26Z,chapmanb
3b053797638581fc7908cdd005b01dcef564333a,Lorena Pantano,lorena.pantano@gmail.com,Add WGBS pipeline,2018-12-04T19:13:22Z,lpantano
f2b09f8140f32bc713bc8dab26ab37288c2f1335,roryk,rory.kirchner@gmail.com,"Remove RNA-seq variants close to splice junctions.

This implements support for removing RNA-seq variants close to splice
junctions when aligning with STAR. This uses the junctions identified
from STAR to remove the variants within 10 base pairs of all splice
junctions identified in that sample.",2018-12-03T21:01:30Z,roryk
8325ef9e5c750ac43c9c6a1742bd2f506b31a134,chapmanb,chapmanb@50mail.com,CWL: Cromwell boot disk hint for GCP runs,2018-12-02T18:50:34Z,chapmanb
39863207f8edd513420d779d13d83374029d83ed,chapmanb,chapmanb@50mail.com,PureCN: correctly pass input file for VCF creation,2018-12-01T19:45:25Z,chapmanb
f3f23e6ee989cd6f7545a56fa1f6a21e25395aab,chapmanb,chapmanb@50mail.com,PureCN: missing import for VCF conversion,2018-12-01T10:06:48Z,chapmanb
9cc6b6b42c75bb66c7ce47561347a58e2e61e080,chapmanb,chapmanb@50mail.com,"CWL: correctly pass through remote URLs with secondary files

When passing in remote URLs that also get propagated to the output, the
approach of checking for files locally to determine if they need secondaryFiles
does not work. This collects the input files and uses them to correctly
associate with output fils. Thanks to @Horneth and @geoffjentry",2018-11-30T18:54:05Z,chapmanb
92bfabc8fe34b655e80db49f3acd701075b1f575,chapmanb,chapmanb@50mail.com,"CWL: correctly use gVCF intermediates with jointcaller

When specifying jointcaller without `tools_on: [gvcf]`, intermediate files got
pooled together and called. This adds it automatically to correctly
run joint calling. #2473",2018-11-30T18:50:46Z,chapmanb
78316c47da233e3535950d597f33ba9b86216e40,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2584 from vladsaveliev/qsig

Fix qsignature for multiqc",2018-11-30T11:28:36Z,chapmanb
f142413ee350ff130980ffddbf34b3241c151e1d,chapmanb,chapmanb@50mail.com,"CWL: include viral QC checks for somatic samples

If initial viral data present, passes to QC steps for summarization.",2018-11-30T11:26:08Z,chapmanb
ed8ccdb6a9a49524076a210ff7b165623a32d436,vladsaveliev,vladislav.sav@gmail.com,"Fix qsignature for multiqc:
- summarize qsig _before_ multiqc
- add qsignature.ma into multiqc file list
- work-to-final mapping to support dirs to propagate qsignature.ma file into file_list_final",2018-11-30T02:55:36Z,vladsavelyev
9764033d591219fabde7bce6278d120af732310c,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:skip if non-umi assigned.

Thanks to @jxshi 
https://github.com/lpantano/seqcluster/issues/36#issuecomment-442888138",2018-11-29T22:54:26Z,lpantano
397dff1e15ecfa280044390a8606c764c53656ed,chapmanb,chapmanb@50mail.com,"PureCN: covert to VCF and upload heterogeneity summary

- Provide standardized output for SV callers with annotated VCFs.
- Include heterogeneity summary files with purity/ploidy in output
  directory.",2018-11-29T10:30:17Z,chapmanb
83bf7ff746204499470c6db7ec9281d7f95c129e,chapmanb,chapmanb@50mail.com,"GATK CNV: convert segmentation calls into VCF

Standardize output with other SV callers like CNVkit and TitanCNA and enable
annotation of effects.",2018-11-28T12:20:40Z,chapmanb
7e5eda20708f73b0264de6a5ba7d9ac7fc0c6f67,chapmanb,chapmanb@50mail.com,CWL: transfer HLA output CSV files into final directory,2018-11-28T10:22:18Z,chapmanb
cdb08e17763498c2e29d4e6638b2194cc98f4f6e,chapmanb,chapmanb@50mail.com,CWL: support None values for tools_off/on,2018-11-28T10:16:43Z,chapmanb
b4ea1708dfc1e37ab827d1d9c0b5921e4ab109fa,roryk,rory.kirchner@gmail.com,"Check interesting_groups for degenerate cases.

bcbioRNASeq will fail if interesting_groups are all of the same or
are not present in the metadata. This checks for this case and
errors out so it can get fixed before the pipeline is complete.",2018-11-27T21:28:43Z,roryk
abd6f9a5435682079ad70a629c023b4e5779461f,chapmanb,chapmanb@50mail.com,"PURPLE: provide additional count filter based on normal frequency

More restrictive preparation of heterogeneity input filters based on
frequency of the normal variant. This uses the same narrow band (0.4-0.65)
that is the default in AMBER.",2018-11-27T15:27:54Z,chapmanb
4972e36d2d1a9fc912b278fdaad43da16e791959,chapmanb,chapmanb@50mail.com,"CWL: enable data updates directory from bcbio-vm

Allows skipping upgrade and getting data directory from input arguments
rather than default.",2018-11-27T09:58:29Z,chapmanb
1ffac4b92fce4312e9dd0d22e56d13c584590dc3,chapmanb,chapmanb@50mail.com,"strelka2 joint calling: gvcfgenotyper gVCF combining

Moves to new gvcfgenotyper approach from Illumina for handling joint calling
with strelka2. Provides equivalent pipeline to GATK HaplotypeCaller joint
calling with separate gVCF production and joint calling, improving over
old conversion and merge approach. Fixes bcbio/bcbio-nextgen#2473 issues
with gvcftools based approach (sequencing/gvcftools#9).",2018-11-26T15:22:59Z,chapmanb
7eca4951ff2a32fafec0b06f9dfc3ebfd90953c8,chapmanb,chapmanb@50mail.com,"Upload: correct files when vcfanno not used

When vcfanno was off and annotated VCFs are not present, there were issues
with uploading ensemble files to the final directory. This ensures they
are present and avoids double uploads. Thanks to @vladsaveliev and @ohofmann",2018-11-25T14:24:18Z,chapmanb
1ee74d3b38cc178a2e33b323b192fa7bc8e492e3,chapmanb,chapmanb@50mail.com,"peddy: avoid ensemble when use_ensemble=False

Thanks to @vladsaveliev",2018-11-25T10:58:11Z,chapmanb
fdfbf212df24dbf5c27a94b86fae0252fa72fe82,chapmanb,chapmanb@50mail.com,"VarDict: generalize low frequency somatic filter

Improves the low frequency somatic filter for recent versions of VarDict based
on cross validation with high depth panels. Simplifies the previous linear
model to a cutoff based method using SM and NMF that performs similarly
but avoids over-filtering with high depth and closely spaced mutations:

https://github.com/bcbio/bcbio_validations/tree/master/somatic-lowfreq#vardict-low-frequency-false-positive-removal",2018-11-24T10:20:22Z,chapmanb
00180f854c17ccefa722c5a9488c775cc9d881a7,chapmanb,chapmanb@50mail.com,"CWL: only supply Docker disk requirement for remote runs

Avoids issues with Toil checking disk requirements on small local test runs
with machines having limited disk.",2018-11-23T10:40:02Z,chapmanb
5695c3e48d3a7c0d74ce7aa763f206392c75319e,chapmanb,chapmanb@50mail.com,"CWL: correctly configure Cromwell local Docker containers

bcbio/bcbio-nextgen#2473",2018-11-23T10:10:52Z,chapmanb
32d5cfcbe2f45684f0bdb1b32adffe8579931d51,chapmanb,chapmanb@50mail.com,Tests: skip Arvados test failing due to 404 on qr1hi,2018-11-22T09:55:34Z,chapmanb
a5d05d04612512678b3a07326231edeeee183aa5,chapmanb,chapmanb@50mail.com,"CWL: support gnomad_exomes input for gemini vcfanno

Ensures input files correctly passed and available for annotation",2018-11-22T09:52:30Z,chapmanb
5b6bd95104079f286aa110e7629d5be11b84e9f3,chapmanb,chapmanb@50mail.com,"vcfanno: check for gnome_exome and other inputs if pre-configured

Correctly skips input specifications in algorithm if available inputs
not present.",2018-11-22T09:51:04Z,chapmanb
f45172a1c51df519a7ca26fe62023bb7a521c98a,chapmanb,chapmanb@50mail.com,"vcfanno: skip gemini if gnomad_exome not available

Back compatibility for installs without data upgrades",2018-11-22T00:45:31Z,chapmanb
b40970724e2827f7aa96dccfb99e8d6fe24136bd,Lorena Pantano,lorena.pantano@gmail.com,"PREPARE::recover functionality to link source files

to remove old files and keep only the new ones use --remove-source.

https://github.com/bcbio/bcbio-nextgen/issues/2579
Thanks @amizeranschi",2018-11-21T18:45:35Z,lpantano
3a2e5659e299096ce850ad8860c11d85924604cc,chapmanb,chapmanb@50mail.com,"CWL: provide 10Gb baseline for bcbio Docker image

Avoids scheduling on small machines on cloud providers without available
disk resources.",2018-11-21T09:54:26Z,chapmanb
0f0e2e3ba7a6d00c2d83f16be5213ac2280b4cb4,chapmanb,chapmanb@50mail.com,"CWL: genome_resources -> aliases -> human for non-human runs

chapmanb/bcbio-nextgen#2473",2018-11-21T09:53:41Z,chapmanb
b5b7958bad82a6189361060a034bb5e1ad99b34c,chapmanb,chapmanb@50mail.com,RNA-seq variant: correctly assign snpEff output file,2018-11-19T16:00:27Z,chapmanb
af5f179ff766a7e3834d48b077ff8f60bea36868,chapmanb,chapmanb@50mail.com,PureCN: avoid missing files with partially completed outputs,2018-11-19T10:26:55Z,chapmanb
238f111c8371fd55aca1ffd5f6af3598776d0acb,chapmanb,chapmanb@50mail.com,"vcfanno: remove genome_exome config, preferring GEMINI. #2571",2018-11-19T10:23:45Z,chapmanb
98f6f9c7f1adad168f5cb59748bdaeb8e6b4e5be,chapmanb,chapmanb@50mail.com,"CWL: correctly flatten nested HLA inputs

Handles inputs whether split alignments or single non-split.",2018-11-18T17:02:22Z,chapmanb
c91ef13675eca4508f5fd224f1041f23592c40f7,chapmanb,chapmanb@50mail.com,PureCN: allow failures on problem samples without ploidy solutions,2018-11-18T11:05:24Z,chapmanb
685909476b9ae19e30a906c0f6e14401f8328e26,chapmanb,chapmanb@50mail.com,Docs: copying Arvados images to project is optional,2018-11-17T09:23:37Z,chapmanb
9af964618dc22402a2d793cbec91fec0ed3d9ae6,chapmanb,chapmanb@50mail.com,gnomad exome: remove extra spaces in vcfanno configurations #2571,2018-11-16T09:51:31Z,chapmanb
534b2c5b630688eb847822a11cf9bf6e86b4abef,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2571 from matthdsm/gnomad_exome

gnomAD exome config",2018-11-16T09:43:58Z,chapmanb
ca72eb9014c652852502d1b6b01f835221d32161,chapmanb,chapmanb@50mail.com,Docs: .NET requirement for Pisces caller #2574,2018-11-15T09:31:20Z,chapmanb
ebf1a08fc490a9065d96c78219fbe78aaa880d55,chapmanb,chapmanb@50mail.com,"Heterogeneity: max and min depths for normal samples

Uses the AMBER approach of limiting germline heterogeneity calls to within
a range around the median:

https://github.com/hartwigmedical/hmftools/tree/master/amber#usage

Avoids artifacts from difficult/noisy regions in the normal which impact
segmentation and brings bcbio PURPLE approach in line with native approach.",2018-11-15T09:03:00Z,chapmanb
a682b532d4ba887591ae53c9eb0511327bd6f87b,chapmanb,chapmanb@50mail.com,RNA-seq variation: add effects prediction to output variant calls,2018-11-14T20:21:52Z,chapmanb
4a8aa1a8d560fad39ed4ffca370aa8b859fd0225,chapmanb,chapmanb@50mail.com,"ChIP-seq: avoid QC errors when peak file missing

Fixes #2573",2018-11-14T14:01:49Z,chapmanb
4281eff365f0639861bb26703d13200d169f7ce3,chapmanb,chapmanb@50mail.com,"heterogeneity: improve extraction of VarDict germline variants

- Use VarDict germline variants even with additional somatic filters if
  STATUS=Germlne set. This helps resolve additional input variants.
- Increase range of germline allele frequencies considered heterozygous.",2018-11-14T10:11:43Z,chapmanb
ec76c44ebe0a1bf436839f60482c4615100b5468,chapmanb,chapmanb@50mail.com,"QC: avoid peddy error when no support germline callers available

Removes old debugging message, we're safe returning None and skipping if
not present. Thanks to Hongbing Li.

https://groups.google.com/d/msg/biovalidation/DPe5EpBTcg8/C7N0us8TAgAJ",2018-11-13T10:12:58Z,chapmanb
b045fefe9fe6908e3a961026203a93d0646c3f7f,chapmanb,chapmanb@50mail.com,"CWL: improve documentation on running on Arvados

Includes copying and using resources from a global bcbio_resources project
on an instance.",2018-11-13T10:11:26Z,chapmanb
93c45c2c9af4c61f600a649faa4f90c8fbee15f8,chapmanb,chapmanb@50mail.com,"joint: place in upload directory when no annotations present

The expanded vcfanno application replaced upload of the non-annotated joint
call files. However, when annotations are not present the final file did
not get uploaded. This checks for this case and explicitly adds the joint
called file when annotations are missing. Fixes #2473",2018-11-12T11:53:36Z,chapmanb
d63295b90a1cb5c2e9113f04651a1f2dbcab4a41,Matthias De Smet,matthias.desmet@ugent.be,"updated vcfanno config for gnomad exome, added gnomad exome to gemini config",2018-11-12T11:53:04Z,matthdsm
229081496d3c60a186248cb1fe7013abd705e11b,Matthias De Smet,matthias.desmet@ugent.be,added vcfanno config for gnomad exome,2018-11-12T11:31:00Z,matthdsm
1eba3bbb13076c902774b6a51f07596e4c2e943d,chapmanb,chapmanb@50mail.com,"GATK CNV: plot segmentation, log2 and BAFs",2018-11-12T10:17:53Z,chapmanb
520fad7da7fa46635e6514b8bb6b12b988cc20ac,chapmanb,chapmanb@50mail.com,"GATK4 CNV: segmentation and calls for somatic samples

Initial pipeline support for GATK4 CNV somatic calling, using previous
segmentation work applied to heterogeneity inputs.",2018-11-11T10:10:34Z,chapmanb
b1c552d0b766d03147a6fa891d5d042933806eb0,chapmanb,chapmanb@50mail.com,"CWL: support GATK4 during structural variant runs

Include additional gcannotated file for correcting for GC and mapping bias.",2018-11-11T10:08:31Z,chapmanb
c03a86de4148574297fc001f556b690d4bbd6bf3,chapmanb,chapmanb@50mail.com,"heterogeneity: support segmented GATK4 inputs to TitanCNA, PureCN

Provides GATK4 based segmentation and conversion into input formats
for TitanCNA and PureCN. For TitanCNA still working on if binned or
segmented log2/depth are better inputs.",2018-11-10T10:23:31Z,chapmanb
59a8da5b5a53f7f78cae07bb90e7a61d1a893631,chapmanb,chapmanb@50mail.com,bedutils: clean dict like headers from GATK4 interval files,2018-11-10T10:19:59Z,chapmanb
f8454d932656e0c91efd08b30b97351b0619c56f,chapmanb,chapmanb@50mail.com,"SV: more flexibly find CNVkit versus GATK segmentation

Enables runs on CWL and heterogeneity analyses where we can infer from
file naming rather than configuration.",2018-11-10T10:16:53Z,chapmanb
9dc68089079e9a94f7b9402bbed88b14b64cb349,roryk,rory.kirchner@gmail.com,"BAM -> fastq with biobambam2 rather than Picard.

Thanks to @chapmanb and @lubinskibu for the suggestion.",2018-11-09T17:28:59Z,roryk
88a34f1aaacd92932b86ef09483509a587180f0a,chapmanb,chapmanb@50mail.com,"GATK4 CNV: support for panel of normal and denoising

Create panel of normal backgrounds from background samples in the project
and provide standardization and denormalization.",2018-11-09T15:16:29Z,chapmanb
20bd8116e39b00b36c03e9a8b599f8a22cf0b51f,chapmanb,chapmanb@50mail.com,"GATK4: initial work on support for CNV calling

Generalizes preparation of bins and read counting to use GATK4 approaches
as alternatives to CNVkit. Allows comparison of segmentation approaches.
Still needs work on normalization and segmentation and calling.",2018-11-09T10:34:32Z,chapmanb
e15966531d179a60809c28c4759bad43928a88c2,chapmanb,chapmanb@50mail.com,TitanCNA: avoid failing on no solution test outputs,2018-11-08T14:31:50Z,chapmanb
eda6ce2e0de44ba3728ceb7869821dda46e311cf,chapmanb,chapmanb@50mail.com,Document fixes for logging in devleopment version #2520 #2569,2018-11-08T10:32:52Z,chapmanb
0a06a9309810dafa7c28bd0bf808df34ab688d29,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2569 from limbus-medtec/fix-2520-logging-gatk-joblib-multiprocessing

fix #2520: logging in parallel threads (local multi-core)",2018-11-08T10:28:14Z,chapmanb
74d62c117586678579d5f3029e6677b221a648bb,Lorena Pantano,lorena.pantano@gmail.com,sRNA:change name of checkparallel file during samples alignment,2018-11-08T00:31:27Z,lpantano
4ef2fa364f006a8011e02b202e9b694653acc9c6,roryk,rory.kirchner@gmail.com,"Don't assume original directory is writeable.

Here we gzip/bgzip FASTQ files into fastq directory in the work
directory instead of the original input directory, in case the
original input directory is not writeable.

Thanks to @Fazulur and @chapmanb for the suggestion.

Closes #2558.",2018-11-07T20:12:58Z,roryk
bcfc0fd2a516ddd5d87c293037f28b2a7029553d,Roland Ewald,roland.ewald@limbus-medtec.com,"#2520 fix logging in parallel threads (local multi-core)

In the transition from 0.11 to 0.12 joblib moved to a new default
backend ('loky') that does not work with the logging setup for
local parallel setups (multi-core) via logbook.Logger and handlers
communicating via a queue.

This fix enforces the previous default backend, 'multiprocessing',
which spawns several processes of the python interpreter and seems the
only parallel execution scheme that currently works w.r.t.
logging in a local parallel execution. See
https://media.readthedocs.org/pdf/joblib/latest/joblib.pdf and
https://github.com/joblib/joblib/blob/4f1ca521480713c403e1ddd362af43def6a059c8/joblib/parallel.py#L40.

Co-authored-by: gabeng <ben.liesfeld@limbus-medtec.com>",2018-11-07T12:41:55Z,roland-ewald
8d40ce7cc977602de0914d9d6e27ce52ec0ce66e,chapmanb,chapmanb@50mail.com,"PURPLE: input heterozygote variants from panel of normals

Provide flexible ability to either use heterozygotes at defined positions
or pre-called variants as inputs to PURPLE segmentation and analysis. Uses
GATK4's CNV based approach for extracting read counts and then merges
into PURPLE formats.",2018-11-07T10:18:03Z,chapmanb
ad3da20ac33e7a47eb20550ee86428e30a839cdc,chapmanb,chapmanb@50mail.com,v1.1.1 release,2018-11-06T11:17:58Z,chapmanb
53cb1169257e60d014c500190fd5c17501825d5f,chapmanb,chapmanb@50mail.com,Tests: avoid issue with pytest stepwise when cache disabled: pytest-dev/pytest#4304,2018-11-06T02:21:18Z,chapmanb
f2973a96e9ba12a33e506c3585858108c2e78c7d,chapmanb,chapmanb@50mail.com,Tests: avoid issue with pytest stepwise when cache disabled: pytest-dev/pytest#4304,2018-11-06T01:38:18Z,chapmanb
85b86f205a10c8ec347f7dff55338d0d792ed4b0,chapmanb,chapmanb@50mail.com,Heterogeneity: add germline heterogygote regions for variant identification,2018-11-05T18:44:23Z,chapmanb
afee59dac205b7756fbdf25d7811e65aa0ce082d,chapmanb,chapmanb@50mail.com,"PURPLE: set java memory, scaling with increased cores

Avoids out of memory and GC overhead errors with whole genome runs.
Thanks to @ohofmann",2018-11-04T00:43:06Z,chapmanb
d1cbe8c3a8591e478aa1d226064c1ef0822edb42,chapmanb,chapmanb@50mail.com,"PureCN: improve segementation and purity/ploidy search defaults

- Uses new Hclust segmentation for CNVkit inputs.
- Adds additional space for non-clonal regions in purity/ploidy searches,
  which helps find solution is more messy exome TCGA inputs.",2018-11-03T08:54:53Z,chapmanb
0b409b79b5dac6f196f9c6468b11a018d36df88d,chapmanb,chapmanb@50mail.com,PureCN: correctly handle filters for cyvcf2 strings,2018-11-02T14:27:43Z,chapmanb
9456a28418ceb296f11bddbcf8e70c486e77ab26,chapmanb,chapmanb@50mail.com,"heterogeneity: generalize improve selection of input variants

- Allow larger range of possible heterozygote variables with lower depth
  for BAF calulcations. Allows more inputs to PURPLE and TitanCNA.
- Enable calculation of heterogeneity statistics from both cvcf2 and pysam
  variant input records.
- PureCN: select variants based on same characteristics as non-VCF based
  approaches",2018-11-02T10:02:32Z,chapmanb
cb3533a9f5cabb6268b0dc463e67ca0e441d58ce,chapmanb,chapmanb@50mail.com,"CNVkit: avoid detailed output for PureCN

Results were not more accurate and too slow with larger exome runs",2018-11-01T23:51:50Z,chapmanb
11797cf2ab8ac118161beb8cb9b9e36f0317c43f,chapmanb,chapmanb@50mail.com,"PureCN: add detailed CNVkit option for tumor samples

Avoids larger segmentation on exome regions, providing
more fine grained resuts that PureCN can interpret.",2018-10-31T09:28:52Z,chapmanb
618e31c46c1cc7eb54b2071d1b998249287fd9e0,roryk,rory.kirchner@gmail.com,"Add support for 10x version 2.

This also gzips the cellular barcode files, since they can be large.
Adds documentation for undocumented support of icell8 and SureCell.",2018-10-30T16:10:44Z,roryk
e2ff5f5f7f84f3dfdb208fb0491ba43c94ecd188,chapmanb,chapmanb@50mail.com,"PureCN: avoid overlapping intervals in input cnr files

Avoids problems where overlap intervals cause errors when estimating gender:
```
WARN [2018-10-30 10:06:07] Found 6 overlapping intervals, starting at line 358.
Error in split.default(x$average.coverage, as.character(seqnames(x))) :
  first argument must be a vector
Calls: runAbsoluteCN ... .getSex -> getSexFromCoverage -> split -> split.default
```",2018-10-30T15:37:12Z,chapmanb
dfb165ded3757cfb57c925e958e6ea4013e62067,chapmanb,chapmanb@50mail.com,"PureCN: restrict input coverage to standard chromosomes

Avoid haplotype and other chromosomes as inputs by removing these additional
chromosomes from the CNVkit input cnr files.",2018-10-30T09:57:00Z,chapmanb
158a9c867e0df3186b7e40b697b903fb99f28757,chapmanb,chapmanb@50mail.com,"UMI: error when UMI specified but not paired reads

fgbio consensus calling currently works with paired reads containing barcodes
on both reads. Avoid silently failing. Fixes #2554",2018-10-30T09:26:26Z,chapmanb
99576c96130f4879b24539e1904231e6b8a851c2,chapmanb,chapmanb@50mail.com,"GEMINI: avoid duplicates in ped file inputs

Ensures that ped file inputs match the samples in the associated VCF,
avoiding vcf2db errors. Fixes #2550",2018-10-30T09:24:57Z,chapmanb
7a4cd102d8b455250c127015cbfb76b9f9890b45,chapmanb,chapmanb@50mail.com,UMI: avoid failures if raw average coverage not set #2554,2018-10-29T09:47:10Z,chapmanb
e790027f5a5b14b0862b11f79e3079385e2710c2,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2552 from apastore/master

Update bcbio/cwl/hpc.py",2018-10-29T09:33:38Z,chapmanb
052a6ddf9f1bdee1b1bee7b95476ba5521adc0e2,chapmanb,chapmanb@50mail.com,"VarDict: apply LowAlleleDepth filter based on aligner in header

The VarDict low frequency an depth based filter has an error and mapping
quality removal section that only applies when the aligner is bwa. Instead
of retrieving this from the config, we now check based on the BAM file PG.
This supports runs on CWL and pre-aligned inputs.",2018-10-29T09:23:30Z,chapmanb
1fff1bad18176d14f0928d3db9d3d4d0c0fcb32d,chapmanb,chapmanb@50mail.com,"PURPLE: skip outline lines missing normal freq and depth

PURPLE fails on lines without normal counts, so this skips and continues
with other caller regions.",2018-10-29T01:01:00Z,chapmanb
d6bd89f2976ebd6879f8addfbd225d91beb14ca9,apastore,alessandro.pastore@gmail.com,"Update bcbio/cwl/hpc.py

add lsf defaul and fix job-id-regex",2018-10-28T19:47:59Z,apastore
eea464e989d4c8f0dc1d8281d02fd4b35acad3d5,chapmanb,chapmanb@50mail.com,PureCN: specify `--cores` to enable multicore processing,2018-10-28T09:56:48Z,chapmanb
ee85fd58271ba7fcddd7726d824aff3af488ad54,chapmanb,chapmanb@50mail.com,PURPLE: fix edge case when normal has no call,2018-10-28T09:56:24Z,chapmanb
7c8f8b2d9ffd02962db23e620118822337c80ba4,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2548 from apastore/master

Update bcbio/cwl/hpc.py with support to lsf",2018-10-28T09:17:57Z,chapmanb
d633dad029f5a3b1355793b16978c340f90d24d0,chapmanb,chapmanb@50mail.com,PURPLE: avoid x11 errors for plots on headless servers,2018-10-27T23:06:27Z,chapmanb
b2d86371764a5cf048b2dd8d5609f40c70231cdb,chapmanb,chapmanb@50mail.com,peddy: catch and avoid dying on PCA error #2547,2018-10-27T19:17:56Z,chapmanb
ae4f345cf4f9901b5dc90ceef4957bfaee6a1558,apastore,alessandro.pastore@gmail.com,"Update bcbio/cwl/hpc.py

add LSF support to cromwell",2018-10-27T19:01:34Z,apastore
7031fb77a0c8b2ab61520292a6365f5aa3934d64,chapmanb,chapmanb@50mail.com,"germline: use cyvcf2 record output for utf-8 support

Using strings will cause issues where lines contain unicode (accents in
condition names from snpEff). record output in cyvcf2 seems stable now
with latest release so update to use that so it's handled internally.",2018-10-27T10:03:34Z,chapmanb
1c107c532bcdc86f1cf649e5570b3396a62811df,roryk,rory.kirchner@gmail.com,"For explant samples, generate a combined tx2gene.csv file.

Thanks to Sally Luke at AstraZeneca for bringing up the issue.",2018-10-26T19:59:47Z,roryk
126702f8d5b4c4e2ba0d03b19a019fd24a48607b,chapmanb,chapmanb@50mail.com,"PureCN: filter inputs to passing somatic and germline

Noisy filtered germline variants trigger errors and difficulty in assigning
correct tumor sample for inputs. Avoids issues by removing these and only
passing clean PASS/REJECT for somatic/germline.",2018-10-26T14:02:06Z,chapmanb
c8287ac2ff3c5cb660756d37f2e6b04f1e6b8ec9,chapmanb,chapmanb@50mail.com,TitanCNA: add required cytoband file for hg38,2018-10-26T10:14:01Z,chapmanb
c9ee26d100541eab2e5ab99a834c4e3bb66a633e,Lorena Pantano,lorena.pantano@gmail.com,sRNA:add missing umis. Thanks @chapmanb,2018-10-25T15:24:01Z,lpantano
1d54360d8acb1b3c69d6a0e95827e1b08aff355f,Lorena Pantano,lorena.pantano@gmail.com,"Fix and support for UMIs in small RNA.

umi_type: 'qiagen_smallRNA_umi' will parse the READ to get the UMI 
sequence. If other protocol is used, the user needs to parse the file 
previous bcbio run.",2018-10-25T14:40:31Z,lpantano
e965aa5d13e70c2e29968baa634d7edc60566cec,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2529 from matthdsm/vep_94

Vep 94",2018-10-25T09:29:24Z,chapmanb
00f66e2edd405cd3814e78f18371649d929c0ddc,chapmanb,chapmanb@50mail.com,PureCN: skip Dx for now pending additional testing,2018-10-25T09:25:10Z,chapmanb
be78780f562f5789f2485e319393171935846f81,chapmanb,chapmanb@50mail.com,"CWL: PURPLE support; no SV validation

Enables passing required gc_profile to PURPLE inputs. Avoids errors when
doing sv validation if we don't have a VCF output file.",2018-10-24T13:20:01Z,chapmanb
fd18ddd51966afe8b06925c5a1d650188f4e3b40,chapmanb,chapmanb@50mail.com,"SV: initial PURPLE integration, add COBALT and segmentation support

Finalizes an initial workflow for PURPLE using pre-existing variant
calls, AMBER segmentation, COBALT read counts, and PURPLE for final
calling. All works for small test cases and needs additional
real testing on full sample runs for real results generation.",2018-10-24T09:23:29Z,chapmanb
6f688a37d3d7414e59e2f13484eebd13ddeca10a,roryk,rory.kirchner@gmail.com,Add preliminary support for Qiagen's sRNA UMI protocol.,2018-10-23T17:40:34Z,roryk
e9210ca15d77eda2e0a7039cb96e966989be75be,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/bcbio/bcbio-nextgen,2018-10-23T15:05:24Z,chapmanb
e3eb9586c10dfeee9669e89500b557c1898c6a0b,chapmanb,chapmanb@50mail.com,"QC: use germline inputs for peddy when somatic calling

Allows multiple germline choices for peddy inputs on somatic calls. Uses
separate germline calls if available, or extracted germline variants from
tumor/normal or tumor-only callers that support these. Avoids the confusing
somatic inputs for QC but still enables peddy checks.",2018-10-23T15:02:22Z,chapmanb
83a2912ffdb4fabf9e5abefba1c7cddd45ab4cf7,Lorena Pantano,lorena.pantano@gmail.com,GENOME:update canFam3 genome,2018-10-23T14:59:31Z,lpantano
846e01439151207b33316005042cb50a1ae3d949,chapmanb,chapmanb@50mail.com,"R: apply --no-environ in string and list environments

Follow up on https://github.com/bcbio/bcbio-nextgen/commit/5342f35c993c4325204cff48bac5e4429c80d796
Rscript_cmd expected as single item for both finding directory and passing
to lists, so explicitly add --no-environ in called environments.",2018-10-23T01:11:04Z,chapmanb
5342f35c993c4325204cff48bac5e4429c80d796,roryk,rory.kirchner@gmail.com,"Don't load .Renviron file when running Rscript.

Thanks to @vbarrera and @lpantano for figuring out this can
lead to R searching in the wrong place if environment variables
are set in a users .Renviron file.",2018-10-22T17:29:43Z,roryk
c10eceefd756fbe12dc75f39dc1269271e4ae927,chapmanb,chapmanb@50mail.com,PURPLE: add GC_profile references to human resources,2018-10-22T09:51:31Z,chapmanb
52ec01a42fcf7cba2894197f298d71ca9cebeea2,chapmanb,chapmanb@50mail.com,chromhacks: allow BED filtering including gender chromosomes,2018-10-22T01:22:49Z,chapmanb
a58cbadb95f2192a25b21fbbfdb24980ce49bc53,roryk,rory.kirchner@gmail.com,Add ``tools_on: bcbiornaseq`` note to config section.,2018-10-19T17:38:23Z,roryk
686f17d95bb31289a98e74cf438a1c12ee65b47b,chapmanb,chapmanb@50mail.com,"PureCN, TitanCNA: support build 37 with hg19 genome reference

BSgenome uses UCSC style naming (hg19) for build 37, so match this
when using GRCh37. Fixes #2539",2018-10-19T09:16:38Z,chapmanb
86686fa938032f50d575e465e1f09425e3113630,chapmanb,chapmanb@50mail.com,"seq2c: correct check for calls_all, TitanCNA: avoid duplicate X",2018-10-18T13:33:25Z,chapmanb
5eec01d1771221446c825b32fc900a33efa1bb17,chapmanb,chapmanb@50mail.com,"seq2c: improve combined sanity check to handle shared normals

These will have multiple identical coverage files due to the batching.",2018-10-18T09:40:57Z,chapmanb
fbcfeea5fa762cfb369ff070731d795ee06b9b90,chapmanb,chapmanb@50mail.com,"TitanCNA: support for 1.19.1 with hg38, specify chrs and genomeBuild",2018-10-17T19:23:09Z,chapmanb
bedef68123b05844f707f50f209fa1d5485225c5,chapmanb,chapmanb@50mail.com,"TitanCNA: avoid writing variants without QUAL; initial hg38 support

- Avoids writing variants from VarDict missing QUAL values (and thus having
  an empty value for NormQuality)
- Initial work towards support for hg38, which requires latest development",2018-10-17T09:03:24Z,chapmanb
c9c152d5badefe5652400f6fd395b499e80d0cee,chapmanb,chapmanb@50mail.com,"PureCN: use sample callable BED for mutational burden

Enables use on CWL where this gets passed to SVs but not callable_regions.",2018-10-17T09:02:44Z,chapmanb
b6e885038908f9a6dcbd89d1d975a9217aea6a3a,chapmanb,chapmanb@50mail.com,"VarDict: avoid paired issues with truncated StrongLOH lines

AstraZeneca-NGS/VarDictJava#151",2018-10-15T18:03:04Z,chapmanb
b2e5d1f8e7a5dffa3eb5a7c3dc29a289ba0f8560,chapmanb,chapmanb@50mail.com,"octopus: support for UMI and low frequency calling

Provides parameter adjustments based on discussions and validation work in
luntergroup/octopus#29

https://github.com/bcbio/bcbio_validations/tree/master/somatic-lowfreq#vardict-156-octopus-051b

- Parameter adjustments for low frequency and UMI samples based
  on Octopus configuration
- Correctly detected UMI bams lacking duplicates even on pre-aligned input BAMs.
- Fix issues with problem '*' alleles in outputs.
- Convert output file GTs into standard diploid calls.",2018-10-15T14:38:03Z,chapmanb
b84fc4e25e3fa4a0d51be8987f53a499a62d1c77,chapmanb,chapmanb@50mail.com,QC: bcftools file check compatibility with non-CWL runs,2018-10-13T18:37:36Z,chapmanb
3838cccdea5df2d47cd55b4291973d319a88a236,chapmanb,chapmanb@50mail.com,"CWL QC: find germline variants for Peddy

Correctly finds germline variants as assigned during CWL sorting, making
them available to Peddy for analysis on normals.",2018-10-13T09:41:07Z,chapmanb
bee2b4840ec35b9b27845b28f7c1c3892647e3bc,chapmanb,chapmanb@50mail.com,"CWL QC: correctly assign variants for MultiQC

- Categorizes variants by variant callers and status (germline, somatic)
  based on file naming during CWL sorting.
- Ensures that germline variants added for normal samples when available.
- Passes germline variants for normals on to MultiQC for specific treatment
  and different summarization.",2018-10-13T09:41:07Z,chapmanb
155fc14586a371bb51adea5157b4813d32669f32,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2535 from markdunning/patch-1

Update introduction.rst",2018-10-12T09:25:42Z,chapmanb
4489325b63a8298eee120cb0de60bbdd8ea973f9,Mark Dunning,markdunning@users.noreply.github.com,Update introduction.rst,2018-10-12T07:41:45Z,markdunning
e15f787f984da3e5d727733f2a1d7c58c50c6be0,chapmanb,chapmanb@50mail.com,Qualimap: avoid metrics parsing issue if None,2018-10-11T14:15:27Z,chapmanb
f86adac6194995aa07c216f75e783ab6c375ae03,chapmanb,chapmanb@50mail.com,"delly: 0.7.9 release no longer as `--noindels`

Latest defaults to not calling indels unless turned on by default.",2018-10-11T14:14:57Z,chapmanb
44b174f7b3f7aa92e133734cab62d3ee48c6062d,chapmanb,chapmanb@50mail.com,"SV: PURPLE progress -- initial COBALT integration

PURPLE requires genomes split into 1000bp windows, so currently
not possible to use CNVkit's flexible target/anti-target binning
as an input. Will need to use COBALT directly, so added notes
and skeleton. Still not a functional implementation #2532",2018-10-11T10:15:36Z,chapmanb
065bba6413924b357485ec0259635d227ab6b2db,chapmanb,chapmanb@50mail.com,"CWL: remove vardict-java pins and 2bit references

vardict-java now at 1.5.6 release. GATK 4.0.10.0 no longer uses 2bit for
references.",2018-10-11T09:17:30Z,chapmanb
45238886ecada7fed2b3122b79af59341a88efa2,chapmanb,chapmanb@50mail.com,Docs: link to presentation for NGS analysis course,2018-10-10T09:41:33Z,chapmanb
c1faafeae1225712b3a640175ee5816de8b0cd64,chapmanb,chapmanb@50mail.com,"ensembl: remove no ALT ref calls causing failures

Removes reference calls without alts from recent MuTect2:
```
1	11300594	.	TGAGG	.	56.7	PASS	AN=2;DP=391;MQ=60	GT:AD:DP:MMQ	0/0:391:391:.
```
These cause ensemble failures because of lookup errors when they overlap
with called variants and don't contribute to useful calls. Thanks to Ivan De
Dios: https://groups.google.com/d/msg/biovalidation/LcYsAkWebIs/tVywrb7DBAAJ
Fixes #2528",2018-10-09T13:59:51Z,chapmanb
1bc57982173f02c0f651e97056ac0eca5ca685e9,chapmanb,chapmanb@50mail.com,Tests: new genome version with annotations for PureCN,2018-10-08T09:27:12Z,chapmanb
ec084fa4ea6b6c78e5698cb9d9a21e1473a1a31a,chapmanb,chapmanb@50mail.com,"VarDict: annotate with DB flag for PureCN germline variants

Provides DB flag in INFO field based on VarDict STATUS=germline. This allows
PureCN to flag germline variants as inputs.",2018-10-07T10:03:22Z,chapmanb
00b954953756dcd9ea89522dbd61c004f94937c1,chapmanb,chapmanb@50mail.com,"PURPLE SV/heterogeneity: initial work on integration

Skeleton work for supporting PURPLE (discussion in #2532). Converts
call outputs with germline variants (vardict) into PURPLE/AMBER format.
No calling or other integration but provides framework to add in COBALT
support and then begin to generate calls.",2018-10-07T10:00:33Z,chapmanb
b8686ca51c0aff7d35500cf12d392413980963e9,chapmanb,chapmanb@50mail.com,"PureCN SV/heterogeneity: initial integration

Provides baseline support for running PureCN as an svcaller. Feeds CNVkit
segmentation and VCF file with germline variants (vardict) as inputs.

Work so far is only on tumor/normal case, where we'll plan to test on
real samples. Longer term need to work on tumor-only case and handling panels
of normals.

Discussion in #2469",2018-10-07T09:51:47Z,chapmanb
cc4a51d0af0332adc703d5ca71e207ed17e67915,chapmanb,chapmanb@50mail.com,"VarDictJava: exclude SVs starting before start region

This avoids duplicate SVs present at the end of one region and before the
start of the next",2018-10-06T10:48:58Z,chapmanb
cf592cec671872ef3a718c819a8991e856cebe38,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2533 from bogdang989/fix-multiqc-cwl

Fix getting input files for non-flat input structure",2018-10-05T20:04:34Z,chapmanb
074f6f63deada4094f6d3557ee20ea64092f6fec,chapmanb,chapmanb@50mail.com,"vcfanno: add DB likely germline annotations from external databases

Enables compatibility with PureCN for tumor-only runs, where it can use
this flag to estimate germline variants.",2018-10-05T19:40:44Z,chapmanb
80cbb24fa9bed34c2fa8e382eb9d85b699b2ff0c,roryk,rory.kirchner@gmail.com,"Calculate insert size for RNA-seq from salmon mappings.

The insert size from the whole genome mappings includes introns
and is inaccurate.

Thanks to Dan Stetson and others at AstraZeneca for pointing out
this issue.",2018-10-05T19:14:49Z,roryk
d5051893fe63c3442829b81f9bb2731e7d7c4004,bogdang989,bogdan.gavrilovic@sbgenomics.com,Fix getting input files for non-flat input structure,2018-10-05T14:53:02Z,N/A
1444219bdfe7ef1be2e62103a30ee8dc38036b71,roryk,rory.kirchner@gmail.com,"Turn off bcbioRNASeq for tests.

The current version doesn't handle some degenerate cases where
these is only one sample, or all of the samples are the same at the moment.",2018-10-05T13:58:20Z,roryk
bbf4e49a900a3640877397315b031d4b02212e81,chapmanb,chapmanb@50mail.com,"GATK: do not use 2bit references for Spark tools

Supports changes in 4.0.10.0
release (https://github.com/broadinstitute/gatk/releases/tag/4.0.10.0) that
no longer use 2bit references. This should reduce memory usage and the next
steps are to test if it helps with intermittent output issues (#2375).",2018-10-05T09:24:37Z,chapmanb
7ffd362db9f63e7ed555a9ca3e598c30c1f865f7,chapmanb,chapmanb@50mail.com,"BAM checking: swap to samtools over sambamba

Latest sambamba 0.6.8 has header lines that confuse checking, and no
special sambamba functionality is needed for these checks.",2018-10-05T09:14:06Z,chapmanb
6245de333e994da60a069269a84456600e2bce96,chapmanb,chapmanb@50mail.com,"vardict: use `--nosv` option only with supported versions

Provides back compatibility if older vardict versions used with current
development",2018-10-04T09:11:16Z,chapmanb
3635471a2a22cc6d4118840e97bf68c59a047d9a,Matthias De Smet,matthias.desmet@ugent.be,"added VEP G2P plugin, updated genome resources",2018-10-03T13:03:07Z,matthdsm
af0d6f49dd74deeaea0b647b6d332bfcff95d0c1,Matthias De Smet,matthias.desmet@ugent.be,vep_94: bumped genome resources,2018-10-03T12:41:40Z,matthdsm
3f436afe0f737a3e5eb6ea3ddd4967008681d30d,chapmanb,chapmanb@50mail.com,"Cromwell: flexibly set filesystem imports based on inputs

Avoids adding http or gcp imports unless needed, avoiding errors if not
supported on older Cromwell versions (fixes chapmanb/bcbio-nextgen#2527).",2018-10-02T09:40:54Z,chapmanb
5c317922c71a46f32627a611b5ef77b804fa32e1,chapmanb,chapmanb@50mail.com,"Cromwell: use external cwltool for pre-processing

Avoids slowdowns in Cromwell 35 release and new Java-based pre-processing:
broadinstitute/cromwell#4183",2018-10-02T09:39:45Z,chapmanb
d33b885c4f1409f0e4c4c5d84dc000372bdf3a15,chapmanb,chapmanb@50mail.com,"Prioritization for pre-called somatic variant files

Thanks to Moiz Bootwalla for the example configuration

https://groups.google.com/d/msg/biovalidation/ss3wTUCbUWM/K94s1_JcHAAJ",2018-10-01T09:13:33Z,chapmanb
9be442305a54c601e4d3f5c7b09d8f9835c677fd,chapmanb,chapmanb@50mail.com,"vardict: avoid SV calls for vardict-java as well

vardict-java 1.5.5 has SV calls by default, which we avoid for small variant
calling.",2018-09-28T17:27:32Z,chapmanb
38ad87c3d9d38cf3a75885f4a7f0ca6a6e9c5db6,chapmanb,chapmanb@50mail.com,test: avoid titanCNA with tumor-only cancer samples; avoids failures,2018-09-28T09:50:08Z,chapmanb
7170c5a25e444030f03708ff2223d4ea482a0d71,Lorena Pantano,lorena.pantano@gmail.com,"sRNA: fix seqcluster bam file.

@mshadbolt maybe this fixes your issue as well.",2018-09-27T14:29:53Z,lpantano
314b4eccc3953b9c878e474f952fcde44357c168,chapmanb,chapmanb@50mail.com,CWL: support for generating http URLs and running with Cromwell,2018-09-26T18:41:45Z,chapmanb
411677ad3d9470a6569445299f5d94f15b9486e7,chapmanb,chapmanb@50mail.com,strelka2: add function documentation on inputs #2524,2018-09-26T09:39:40Z,chapmanb
69dc2761344735f149eb6b2eec49c5ac7c4f04a4,chapmanb,chapmanb@50mail.com,CWL: un-pin GATK with fixes for Mutect2,2018-09-26T09:34:38Z,chapmanb
bcd66f1fd63607978d327344af84595e351d53e7,chapmanb,chapmanb@50mail.com,"Cromwell: configure for Google Cloud bucket retrieval

Provides configuration inputs necessary for Cromwell to stage data from
Google Cloud URLs (gs:/).",2018-09-25T09:25:29Z,chapmanb
cbe8e7cad960e402c2b27fea40c0a7c25588ff1b,chapmanb,chapmanb@50mail.com,CWL: support for input files referenced in Google Cloud buckets,2018-09-25T09:25:02Z,chapmanb
e2b176b5140cd0d146516754ed8aeae172c1d2a4,chapmanb,chapmanb@50mail.com,strelka2: fix typo in conflict Fixes #2523. Thanks to @ahwanpandey,2018-09-24T09:48:18Z,chapmanb
9fb4ab7b65ec41313a88d7f788b1d09dcf531349,chapmanb,chapmanb@50mail.com,"CWL: increase timeout for reading Cromwell metadata

Helps avoid timeouts with large on-disk metadata databases.",2018-09-23T09:55:35Z,chapmanb
86ce1b6aa87c1ffa151d935186f3a4486bd586ef,chapmanb,chapmanb@50mail.com,"vardict: add linear filter for low frequency FP removal

Provides a strand bias, depth and mismatch based linear filter to remove low
depth and low frequency false positives. Enables additional sensitivity with
new VarDict releases without loss of specificity:

https://github.com/bcbio/bcbio_validations/tree/master/somatic-lowfreq#vardict-low-frequency-false-positive-removal",2018-09-23T09:48:36Z,chapmanb
0d74e7df2e4bc372459f4fbf736e305002da54e2,Lorena Pantano,lorena.pantano@gmail.com,SRNA:allow sequences from 16nt on to be mapped to miRNAs.,2018-09-21T20:08:49Z,lpantano
0947970098c532e2a2d574c3db0a0084dcf0a9cc,Lorena Pantano,lorena.pantano@gmail.com,PREPARE:support SRR ids,2018-09-21T20:03:27Z,lpantano
776c83b71282398ce74167c5a29692be97c96344,chapmanb,chapmanb@50mail.com,"Tests: avoid version import error when run from bare git clone

Unit tests can inject the local bcbio cloned environment which does
not have a version. This fixes errors by effectively ignoring
the version check for this case. Fixes #2515",2018-09-21T19:00:54Z,chapmanb
7d612fb612b67836314eda355d5af803e2974f9d,roryk,rory.kirchner@gmail.com,"Add salmon `--seqBias` change, update formatting.",2018-09-21T16:01:15Z,roryk
49cc5924383d4030de6520550642f554da03885d,roryk,rory.kirchner@gmail.com,"Turn seqBias on for Salmon.

In versions of Salmon > 0.6.0 this doesn't have the over-fitting
problem, and should be ok to use for all future runs.

Testing on the E-MTAB-4119 validation dataset doesn't show
a signfiicant difference for the overall error with it turned on
or off, so this should be fine in general.",2018-09-21T15:57:59Z,roryk
c638a52420ed96fc479cf0eaa473aa054ac37129,roryk,rory.kirchner@gmail.com,"Respect `--positional` flag for single-cell/DGE RNA-seq.

Thanks to Babak Alaei at AstraZeneca for pointing out we weren't
passing this on.",2018-09-20T18:16:50Z,roryk
ace0c885103942eaeae1822582e7441b18da6531,chapmanb,chapmanb@50mail.com,"Add reference data versions CSV from local installs

Supplements functionality to retrieve from CWL and remote reference locations
for back compatibility.",2018-09-20T10:04:13Z,chapmanb
00d4bca793c4470833af23fde910440d3c9993eb,chapmanb,chapmanb@50mail.com,seq2c: ensure calls_all present for upload,2018-09-19T14:12:21Z,chapmanb
b5b5a144688267052dffebe5ca7cc1db742438e2,chapmanb,chapmanb@50mail.com,"CWL: UMI depth calculation and data versions

- Ensure variant regions passed to alignment to use for UMI depth
  calculations.
- Flexibly ignore data versions if not present for back compatibility.",2018-09-19T13:17:20Z,chapmanb
d694a3687e70c7dcbb2143ef51e047a3e1fe803e,chapmanb,chapmanb@50mail.com,"CWL: provide version CSV files for programs and data

- Adds creation of program and data CSV files as part of QC summary, making
  these available for CWL outputs.
- Updates R dependencies to support TitanCNA which needs PNG support.
- Add moreutils as missing dependency for VarScan #2516",2018-09-19T09:34:42Z,chapmanb
23a58f8e80379773675d245961b92c08859b823e,chapmanb,chapmanb@50mail.com,duphold: use recommended -o option for output bgzipped VCF,2018-09-18T14:59:57Z,chapmanb
78d7b0e3cb8f1bd0a2c628c7125720aee340842a,chapmanb,chapmanb@50mail.com,"QC: avoid qualimap coverage thresholds when downsampling

Avoids confusing output for coverage results when not using a full BAM.",2018-09-18T14:59:57Z,chapmanb
2706b8f6d692d574d030aefbf34dcc800ee83f82,roryk,rory.kirchner@gmail.com,"Fix bcbioRNASeq formatting.

Closes hbc/knowledgebase#17.",2018-09-17T15:56:15Z,roryk
cb29041f48558d7b61b66706447f23a5ea6ec725,chapmanb,chapmanb@50mail.com,"GEMINI: install input files from ggd-recipes

Creates a smaller build 37 gemini database compatible with build 38 and
able to work with CWL changes. Avoids need for a full directory of GEMINI files
that aren't easily portable into CWL staging.",2018-09-17T14:04:03Z,chapmanb
b19bcd7cece4d27c7d444421d27e2809e62da905,chapmanb,chapmanb@50mail.com,"vcfanno: apply default configurations by default

Avoids accidentally overriding defaults with additional specifications and
disabling downstream database creation. #2511",2018-09-17T13:49:50Z,chapmanb
f4eb9b67b851bbad007f21673c8223282c1c4e3d,chapmanb,chapmanb@50mail.com,CWL: Arvados pointers to improved bcbio_resources project,2018-09-17T13:17:36Z,chapmanb
e9ee81abf6bb91ee08545045c34e210f398d2bac,chapmanb,chapmanb@50mail.com,"vcfanno: add gemini if tools_on specified

Avoids issues with skipping gemini when included in tools on but not in
a custom vcfanno configuration. #2511",2018-09-17T10:15:19Z,chapmanb
3ed7896f0f62938cf7a656ab0ec2342a0069bc92,chapmanb,chapmanb@50mail.com,"TitanCNA: avoid errors when checking libdir, set to None default",2018-09-15T20:33:59Z,chapmanb
999c7feebcbce39ef259e7c057a5cfb53f70d505,chapmanb,chapmanb@50mail.com,duphold: correctly set maximum reader threads,2018-09-15T19:59:52Z,chapmanb
d51173d3d6baf9ccb0f973721a9843248e0a7076,chapmanb,chapmanb@50mail.com,"peddy: skip somatic variant runs; use only on germline calls

Avoids issues with peddy failures and incorrect gender assignments due
to minimal coverage on somatic low frequency calls.",2018-09-15T10:01:45Z,chapmanb
8436b2e6cdb143ef98849e33c24dffb9c17e57da,chapmanb,chapmanb@50mail.com,"SV: annotate lumpy, manta, cnvkit with duphold

Adds depth calculations for downstream filtering using duphold. Initial work
to improve specificity of calls using NA24385 and HCC2218 validation benchmarks.",2018-09-14T10:17:45Z,chapmanb
fd4dc6f15427daf9877f2e87bfd96578afcdf124,chapmanb,chapmanb@50mail.com,GEMINI: fix typo when checking for input files Fixes #2509,2018-09-13T09:43:45Z,chapmanb
8bed39c3504266fafcdd8dbaa9c9d1867afda5a2,chapmanb,chapmanb@50mail.com,"CWL QC: tarballs of input multiqc files and file lists

Provides ability to re-run projects from initial inputs by passing
all files through to final directory.",2018-09-12T18:50:45Z,chapmanb
84cb5ba86524e84d8e9e675d882cef2994dc0625,chapmanb,chapmanb@50mail.com,"CWL: add secondary files of interest to upload

Adds CNVkit files like cns and BED call files to the final directory",2018-09-12T18:15:03Z,chapmanb
e2d606c2fb1ece63faaaa48d1fd7205be7604c13,chapmanb,chapmanb@50mail.com,"CWL: support single sample gVCF/VCF combined calls

Produce both single sample VCF as well as gVCF outputs when `tools_on: [gvcf]`
specified. Provides ability to analyze single samples and sample gVCFs for later
combined analysis.",2018-09-12T10:10:27Z,chapmanb
8a1ab050f18047211e9f7fcfdc202abef27fdfc0,chapmanb,chapmanb@50mail.com,"CWL: combined SV prioritization during summarize_sv

Move SV prioritization to final summarize_sv, instead of detect_sv, so
the prioritized TSVs contain calls from all callers in a single file. All
outputs, including VCFs, still passed through into final output directory.",2018-09-11T09:54:49Z,chapmanb
ec69193f7088b2f5a8842961e9da3b6e0fec8766,chapmanb,chapmanb@50mail.com,QC: libfree fix with explicit export for LD_PRELOAD,2018-09-10T21:55:23Z,chapmanb
261ac1b1ebfdbec0a7212dbaeceaffd9eb882e00,chapmanb,chapmanb@50mail.com,"Correction for QC java library fix, point to freetype so directly",2018-09-10T20:24:31Z,chapmanb
987656bec976fbcd7fc7c2b1cd469959a7dbc894,chapmanb,chapmanb@50mail.com,"QC: work around Java freetype loading issues

On some systems like Docker containers we hit consistent problems with fastqc
and qualimap complaining with:
```
java: symbol lookup error:
/usr/local/share/bcbio-nextgen/anaconda/jre/lib/amd64/../../../lib/libfontconfig.so.1:
undefined symbol: FT_Done_MM_Var
```
This tries to work around it by injecting the missing/problem freetype library
into LD_PRELOAD.",2018-09-10T19:12:13Z,chapmanb
43ca70a578f8a150f8c02d0bed687974efb8948b,chapmanb,chapmanb@50mail.com,Bump fastqc dependency to avoid java font issues in Docker,2018-09-10T09:34:15Z,chapmanb
d33b6f4dc4aa1add37ff40d47c514aae7850fc18,chapmanb,chapmanb@50mail.com,"GATK: avoid use of HaplotypeCalllerSpark

Outstanding issues like broadinstitute/gatk#4821 with HaplotypeCallerSpark
are making it difficult to get consistent large scale gVCF runs. Fall back
to multi-core parallelization and revisit Spark calling when these issues
get closed.",2018-09-09T10:13:52Z,chapmanb
f899859340caa7047a7858816366fbb54e43e138,chapmanb,chapmanb@50mail.com,"CWL: add support for structural variant prioritization

Added on a per-caller/batch basis to parallelize with existing SV
infrastructure. We could look at it more as a summary if needed with multiple
callers per sample/batch.",2018-09-08T10:19:56Z,chapmanb
9b5db5b3d0d1983dbf39b9362ef94ceb9c596779,chapmanb,chapmanb@50mail.com,Document bcbio-vm installation with `--cwl` flag #2484,2018-09-07T13:27:04Z,chapmanb
c92abf8ac9b8729153684ea42aaddd37b3797286,chapmanb,chapmanb@50mail.com,"CWL: add install target to include bcbio-vm

Adds a `--cwl` install target that will install and upgrade bcbio-vm as part
of bcbio-nextgen installs. This provides a more convenient install and upgrade
path for users with local bcbio installs.",2018-09-07T09:54:04Z,chapmanb
7b617d42dbedae071bc5dbc213da8f5800fc208d,chapmanb,chapmanb@50mail.com,"smcounter2: initial support for low frequency UMI caller

Initial work to allow testing smcounter2 in low frequency validations",2018-09-05T09:34:54Z,chapmanb
e26870de0ff4c471d3c1d6ae0d732fcda81a9fc6,chapmanb,chapmanb@50mail.com,"CWL: provide joblimit for Cromwell to limit concurrent jobs

Avoids overscheduling on HPC systems that penalize for this, limiting the
number of concurrent jobs submitted. Defaults remain the same, 1 concurrent job
for local and unlimited for HPC runs, but we can now tweak from the bcbio_vm.py
submission with `--joblimit`.",2018-09-04T10:10:49Z,chapmanb
f897708b08802b695321bc6525ddbbd70eb71451,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2502 from vladsaveliev/rrna_fix

Fix parsing rRNA stats",2018-09-04T10:08:54Z,chapmanb
f6c2eaf8eeec0fcb4271e77743137b245499a90e,vladsaveliev,vladislav.sav@gmail.com,Fix parsing rRNA stats,2018-09-04T07:22:07Z,vladsavelyev
00ea50f494f36287ed0561b9773ee4f83c317e04,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2487 from matthdsm/patch-1

Added template for joint genotyping from gvcf inputs",2018-09-03T10:19:40Z,chapmanb
7750af0181cae1d365e8af9094efd184eb05df65,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2499 from vladsaveliev/viral

Viral check: do for normals",2018-09-03T09:47:31Z,chapmanb
f2cc04c7e9ac25de10ab1fb756ed778beaa9c0d4,vladsaveliev,vladislav.sav@gmail.com,Viral check: do for normals,2018-09-03T02:32:08Z,vladsavelyev
c50d732a994f9b3903abf23a2609fbe8ea0fd78c,chapmanb,chapmanb@50mail.com,"GATK BQSR: bin qualities into static groups (10, 20, 30)

Matches current best practice recommendations and avoids excessively high
groups with NovaSeq input. Thanks to Severine Catreux.",2018-09-02T10:39:03Z,chapmanb
b83134cef1916c1bedc76ee6909811ed497513de,chapmanb,chapmanb@50mail.com,Docs: fix formatting in DNAnexus CWL,2018-09-01T11:20:39Z,chapmanb
461b5b796ce93984d831fb02d1a753353a9c6545,chapmanb,chapmanb@50mail.com,"Doc: update DNAnexus CWL run information with app

Provide additional details about running with versioned apps and clean up
example script with latest best practices.",2018-09-01T11:11:11Z,chapmanb
5ccef63a7f1652a76e6200e0495bbce3aa3f428e,chapmanb,chapmanb@50mail.com,"vcfanno: use new NON_REF matching for gVCF inputs

vcfanno now matches NON_REF from gVCFs against any alt so does position + REF
matching for gVCF, which is better than position only with -permissive-overlap.",2018-08-31T18:01:41Z,chapmanb
ca98c143ab7527a894c292a5ee3e7f603eee639d,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2497 from matthdsm/patch-2

dbNSFP: Update hg19_pos col name",2018-08-31T01:41:06Z,chapmanb
9b57be2afd565b4e6dc6a6596627e0ddea9b67e8,chapmanb,chapmanb@50mail.com,Pin for vardict-java and gatk4 due to outstanding bugs,2018-08-31T01:09:20Z,chapmanb
bf6d73394cda0fa5ee741aaf4cec91ce8b2321ef,chapmanb,chapmanb@50mail.com,"Fix for travis tests: do not use GRIDSS, not in Docker container",2018-08-31T01:08:58Z,chapmanb
fd872b165da4ab06bf72b546fec5d985e0ae87a8,Matthias De Smet,matthias.desmet@ugent.be,"dbNSFP: Update hg19_pos col name

The dash `-` in the column name causes vcf2db to exclude the data from the db for some reason. Removing it should fix the issue.

Cheers
M",2018-08-30T09:41:53Z,matthdsm
0018c73ac9390558dd1294b385006b0b78cafb58,chapmanb,chapmanb@50mail.com,"Simplify imports: disconnect server functionality

Removes server functionality, which we'll work to deprecate with CWL, so we
can remove the tornado dependency requirement.",2018-08-29T09:29:41Z,chapmanb
6e87d2395d57e15e209e8ae21493ada84578128e,chapmanb,chapmanb@50mail.com,"install: avoid unnecessary conda upgrade

We now get recent enough versions of conda with Anaconda and install and
lookup take excessive time on builds.",2018-08-29T00:19:03Z,chapmanb
45ac15e96558ebc07423ed6ab2c10668367bdd00,roryk,rory.kirchner@gmail.com,Add R-compatible naming fix to changelog.,2018-08-28T18:49:08Z,roryk
8ada69f34bd08dd651724a24681ad04159162be2,roryk,rory.kirchner@gmail.com,"If R will be used downstream, sanitize the descriptions.

R can't handle names that start with numbers as row/column
names well. For pipelines that are likely to involve heavy R
usage downstream, we clean up the names here by putting an X
in front of the name if it starts with a number.

Thanks to Avinash Reddy and Dan Stetson at AstraZeneca and
Mike Steinbaugh and Brad Chapman for the discussion.",2018-08-28T18:12:40Z,roryk
9740cab31e6303d60570880833aace30ccc01a12,roryk,rory.kirchner@gmail.com,"Clearer message for kallisto with single-end reads.

Closes #2491. Thanks to @davidmasica for bringing this up and for
checking to see if a) kallisto produces fusion calls with single-end
reads and if other tools generally support fusion calls from single-end
reads.",2018-08-28T15:22:24Z,roryk
73b96aeb05c2e9320be1d7e521beb6b13df90894,chapmanb,chapmanb@50mail.com,"GRIDSS: ensure bwa indices always available

GRIDSS requires bwa for realignment and this ensures they get included
even if `aligner: false` set.",2018-08-28T10:18:52Z,chapmanb
a299fe59a2b0df0d4faa495d4ec1b93457ed6339,chapmanb,chapmanb@50mail.com,"align prep: ensure consistently ordered split gzip inputs

In CWL, files don't necessary get presented in a consistent order, this
ensures identical runs across platforms by explicitly sorting.",2018-08-28T10:16:35Z,chapmanb
307c190387e332d05940742b92d3aac0852d5779,chapmanb,chapmanb@50mail.com,"vcfanno: back compatible for pre-specified configurations

Avoid needing to look up full paths in pre-specified vcfanno configuration
files. This won't be compatible with CWL going forward since the input files
aren't staged, but maintains backward compatibility with standard bcbio runs.",2018-08-27T17:30:03Z,chapmanb
0820169f0f2e78378a2ce1288ee3bc0f8b98c999,chapmanb,chapmanb@50mail.com,"align prep: fix support for symlinking in prepared inputs

Avoids re-prep for cases where we have ready to run bgzip
inputs. Part of generalization for merging more input files.",2018-08-27T10:21:59Z,chapmanb
83df3fb4d92052edca1dbd7dedb06139f46b090a,chapmanb,chapmanb@50mail.com,"align prep: support glob wildcards for addition of metadata

Allows use of globs in template `filename` field of metadata CSV
```
filename,description
Sample1*.fastq.gz,Sample1
```
to ease process of specifying a large number of sample files in the
template. Currently tested with CWL generation and remote DNAnexus
files and will need generalizations within retrievers for local files
and other systems.",2018-08-27T09:51:46Z,chapmanb
d6e4e1b6b1d6ed8b59fe34c4cbe6f2a131258d1f,chapmanb,chapmanb@50mail.com,"CWL: support for remote directories of files

Correctly cleans up path tests for finding unpacked bwa directories where
files are present on remote systems. Removes the remote ID prefix prior
to making comparisons for file names.",2018-08-27T09:49:48Z,chapmanb
2119f283329ea9b97a34667920d9147e59b319f8,chapmanb,chapmanb@50mail.com,"align prep: correctly handle single sample inputs

Fixes bug in addition of multiple input support for the standard bgzip case.
Fixes #2492",2018-08-27T09:46:11Z,chapmanb
45f3746b437fdda0f538627682e510a316fc9446,chapmanb,chapmanb@50mail.com,"align prep: allow multiple fastq input files

Handle merging of split fastq files specified in `files` input. We autopair
these to find R1/R2 and then merge and bgzip as part of the input process.
This allows easier support for handling split sequencing with remote hosted
files like in Arvados or DNAnexus file stores.",2018-08-26T09:25:32Z,chapmanb
92b2dfaea21c6b05454855f8726f38f96d795041,chapmanb,chapmanb@50mail.com,"GRIDSS: fix when aligner set to false, use bwa indices",2018-08-24T17:35:22Z,chapmanb
ae0bde8ef254ce4320d9a35b19f7c3b1cef6665a,chapmanb,chapmanb@50mail.com,vcfanno: Move to dbsnp-151 for GEMINI and somatic annotations. Thanks to AdriÃ¡n Mosquera,2018-08-23T09:50:27Z,chapmanb
cdd475a753e42fb12a325576ca4a6c565320a9ac,chapmanb,chapmanb@50mail.com,"CWL: get kallisto fusion location from data

Allows passing in through CWL in non-standard locations. Thanks to @skanwal.",2018-08-22T17:37:22Z,chapmanb
44c6f2769e84c309655f30db0f195e934cbede55,chapmanb,chapmanb@50mail.com,CWL: need fixes for pre-aligned in case of missing bai indices,2018-08-22T09:32:47Z,chapmanb
a748bd2c5a420c46b5b181bfdd4baafe4c37216e,chapmanb,chapmanb@50mail.com,CWL: pass normalized objects to lead item picking for ensemble,2018-08-21T10:48:09Z,chapmanb
21ca2ddf0b801cdbb98b1efedd272947a1501356,chapmanb,chapmanb@50mail.com,"CWL: correctly name and sort multi-batch ensemble inputs

- Do not require all batch names to be present in samples for output
  ensemble record sorting.
- Ensures tumor names picked for tumor/normal somatic batches feeding into
  ensemble. Helps with understanding and debugging outputs.",2018-08-21T09:33:00Z,chapmanb
a7cd5b25b624369f122c72251914ec1bf44f5453,roryk,rory.kirchner@gmail.com,"Fix divide by zero error calculating duplication rate.

In a case where one read of a pair fails, a project can have many
reads mapped but none of them properly. This causes the
total number of reads mapping to be zero, and leads to this error.

Thanks to Avinash Reddy for the bug report.",2018-08-20T16:14:25Z,roryk
b5fb63e4e5d8969cb3cde5fab7e90f259f42a372,chapmanb,chapmanb@50mail.com,UMI: fix return values from consensus generation,2018-08-20T14:29:44Z,chapmanb
ee473a0776ee03edcc29d37b2493ba46c28bc52a,chapmanb,chapmanb@50mail.com,CWL: do not pass raw UMI metrics to final outputs,2018-08-20T10:25:29Z,chapmanb
b9cf4a14535b3c1ade39f56ffc53caa1dd335498,chapmanb,chapmanb@50mail.com,"min_allele_fraction: default to fraction instead of int

Consistent typing for CWL where we have < 1% events of interest.",2018-08-20T10:24:54Z,chapmanb
8cfd5ec4d0e409e01013644d60536e8fb13d0a48,chapmanb,chapmanb@50mail.com,"CWL: fixes for passing UMI stats to QC

Ensure rawumi_avg_cov passed through from alignment and
correctly merged.",2018-08-20T09:26:34Z,chapmanb
27bfc8fcce5d124e67c849ccbc97c28d35c1c787,chapmanb,chapmanb@50mail.com,"UMIs: apply default filtering based on de-duplicated read depth

Allow UMI based error correction on higher depth inputs. The goal is to apply
correction when we have ability to distinguish 0.5% or lower variants based
on pre-consensus de-duplicated read depth:

- Depth >= 800 uses `--min-reads 2` for consensus correction.
- Depth < 800 uses `--min-reads 1` (the previous default) to avoid
  removing extra reads.

Passes metrics on depth to QC. Setting `--min-reads` manually
using `resources` still over-rides any manual settings.",2018-08-18T10:03:14Z,chapmanb
e53429851b60c4e5812b03c22f40ea8aba3edf3e,chapmanb,chapmanb@50mail.com,CWL: avoid waiting during WES client submissions,2018-08-17T19:04:17Z,chapmanb
93e115a6c5928c471fe4e0d169ba75d1ac4ff906,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2485 from matthdsm/annotations_update

updated genome resources for dbSNP, clinvar",2018-08-17T09:59:59Z,chapmanb
110731fc053524afe85f5f71972d889eb7189daf,Matthias De Smet,matthias.desmet@ugent.be,Added template for joint genotyping from gvcf inputs,2018-08-17T06:58:30Z,matthdsm
9989391ae1c3084954f1ce41f94e9bde0df1a600,chapmanb,chapmanb@50mail.com,"seq2c: upload global call, coverage and read_mapping to project

Makes these global files for a project available for downstream
processing. Thanks to @lubinskibu and Sakshi Gulati.",2018-08-16T17:04:40Z,chapmanb
e34e50cd2d2de889792002c41653fa2e44dba249,Matthias De Smet,matthias.desmet@ugent.be,"updated genome resources for dbSNP, clinvar",2018-08-16T11:52:26Z,matthdsm
eba4ca8549dbab25e1197c9367172aecbf803e16,chapmanb,chapmanb@50mail.com,"tumor-only prioritization: do not apply LowPriority filter by default

Annotating input files with external (ExAC, 1000 genomes, ClinVar, COSMIC)
membership information, but do not filter by default. Filters like
impact were too stringent for users, so this provides a more flexible input
to avoid over filtering. The goal is to move the determination of germline
status to PureCN using DB and POP_AF flags.",2018-08-15T13:26:48Z,chapmanb
0fc3485a068ee14dbe2b60fd14c1765a38bd047b,chapmanb,chapmanb@50mail.com,"Support new clinvar significance with vcfanno

These are now text fields rather than integers, so skip lookups and use
directly.",2018-08-15T09:28:14Z,chapmanb
39a28c622a5a57397e9b55801b91ab7466380724,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2482 from matthdsm/vep_93

bumped genome resources voor VEP v93",2018-08-14T09:51:08Z,chapmanb
689fa167cd1a94b75905b30dff8462bd0cd69122,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2483 from vladsaveliev/mq_qm

Set qualimap multiqc coverage cutoffs based on sample depths",2018-08-14T09:47:23Z,chapmanb
5e61b13a47dd658ef629eaf9dd8cd572f15960e3,chapmanb,chapmanb@50mail.com,Tests: avoid timeouts by removing long joint calling test,2018-08-13T10:29:45Z,chapmanb
026700f3795f1b7f273b7a6dfacd8264e2b259ac,chapmanb,chapmanb@50mail.com,"CWL test fixes: Docker file staging, exit codes, save vcfanno files

- Use hard link staging for Docker since soft-linking does not translate
  into container.
- Provides correct exit codes if Cromwell runs fail.
- Save vcfanno conf and lua files for easier debugging.",2018-08-13T09:19:21Z,chapmanb
845cd82632f7ec9a4047889189e576b3595bb72b,chapmanb,chapmanb@50mail.com,"CWL: use null instead of string null for None values

SevenBridges supports standard null inputs, so swap to use for None values.
This avoids confusing type representations including both File and string (for
None values).",2018-08-12T09:37:14Z,chapmanb
d59d616c7a5c2286f0fa8f4339e91d3571c66c3c,chapmanb,chapmanb@50mail.com,"CWL: create tarball for hisat2 inputs

It's difficult to localize the hisat2 directory across multiple platforms,
so use a pre-built tarball.",2018-08-12T09:36:28Z,chapmanb
dbc32c5105dc1d7cecf0f0d6a973c5e21bf4685d,vladsaveliev,vladislav.sav@gmail.com,Qualimap-multiqc coverage cutoffs minor fix,2018-08-11T12:38:12Z,vladsavelyev
860b2a9735a6cfb0e5f724738db731599362a4f7,vladsaveliev,vladislav.sav@gmail.com,"Fix circular imports
Was: variation/coverage.py > structural/__init__.py -> structural/cn_mops.py -> structural/shared.py bam/callable.py -> variation/coverage.py
Now: removed the `variation/coverage.py > structural/__init__.py` import",2018-08-11T12:38:12Z,vladsavelyev
cccac28ff7e64bf1ecb2b3c3c9fde7caead99ce4,vladsaveliev,vladislav.sav@gmail.com,Set qualimap multiqc coverage cutoffs based on sample depths (see #2479),2018-08-11T12:38:12Z,vladsavelyev
ea67e35de922abcabc51983fc5fc1480fedeaa05,chapmanb,chapmanb@50mail.com,"AWS: point to ansible and CWL, fix bcbio-vm install

- Encourages use of Ansible in the short term and CWL in the medium term
  for cloud support.
- Fixes install documentation. Fixes #2480",2018-08-11T09:47:46Z,chapmanb
4152aa831cb7204f2822de918dddc03fcf49d9da,chapmanb,chapmanb@50mail.com,"vcfanno: avoid filling paths for old GEMINI basepath

Older approach does not use full paths, but -basepath on command line.
Thanks to @ohofmann",2018-08-10T13:49:36Z,chapmanb
14566a53ef16e76c032e44fffe11c29346ac0fc5,Matthias De Smet,matthias.desmet@ugent.be,bumped genome resources voor VEP v93,2018-08-10T10:34:15Z,matthdsm
d8efd81bf97d9cead1ee33a326974673f772cb44,chapmanb,chapmanb@50mail.com,"vcfanno: back compatibility for build 37 gemini

Supports GEMINI supplied configuration files with correctly setting
the basepath. Thanks to @ohofmann",2018-08-10T10:28:10Z,chapmanb
711952b97c03c4dfb15c791e69f8ef11abc786e3,chapmanb,chapmanb@50mail.com,"CWL: support passing conf/lua files for vcfanno

Handles passing both conf and lua files through CWL as a list, and then
reconstituting into correct pairs when running. Finalizes support for vcfanno in
CWL in all variant calling pipelines.",2018-08-10T09:50:36Z,chapmanb
f27aba90647e2ac27664ea6f5e6c257038162122,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2481 from matthdsm/dbNSFP3.5a

updated dbNSFP vcfanno config for v3.5a",2018-08-09T14:45:51Z,chapmanb
54eb7bc9ce32e957c5de4a1daf142e89c34b24a1,chapmanb,chapmanb@50mail.com,"vcfanno: load and store conf and lua files during YAML prep

Makes vcfanno configuration and lua files available in bcbio dictionary,
as first step towards use inside of CWL runs. Now CWL has associated files
and configuration scripts, will next need to insert the associated files
into configuration script at runtime to handle staged locations.",2018-08-09T13:47:29Z,chapmanb
5a72eb9a758b5849a9763dedc4cb57ed826aa932,Matthias De Smet,matthias.desmet@ugent.be,updated dbNSFP vcfanno config for v3.5a,2018-08-09T11:54:54Z,matthdsm
792ec9b15e0bab57bdfe000eec7cbffd54e5e6cf,chapmanb,chapmanb@50mail.com,"vcfanno: simplified GEMINI configuration for hg19/GRCh37

Move to use vcfanno/GEMINI with only inputs installed with bcbio, to
enable CWL compatibility where we need to enumerate all input files. We
can expand to provide additional GEMINI inputs as needed.",2018-08-09T09:53:47Z,chapmanb
d45e605c1eb2d8bd659f108b7bf71beba1033c09,chapmanb,chapmanb@50mail.com,"CWL: support for additional vcfanno inputs

Pass ExAC, ESP and 1000genomes through CWL runs, explicitly including
the input files if present. Enables vcfanno annotation.",2018-08-08T09:41:19Z,chapmanb
74279f1daf0a635ebd8c47b7b1d31290dd229a8e,chapmanb,chapmanb@50mail.com,"ericscript: pick up database location from install

Avoids need to configure ericscript_db in sample configuration, instead
using the installation default. Fixes #2477",2018-08-07T09:48:36Z,chapmanb
be2e3b26c51f7ea6db9a8706674bff3e342fe375,chapmanb,chapmanb@50mail.com,"peddy: avoid running with no non-filtered variants

Fixes #2458",2018-08-06T17:50:57Z,chapmanb
ee6d67c85cb67635cb71eeb45d33283615f970f9,chapmanb,chapmanb@50mail.com,CWL: support for submission to WES endpoints with cwl-client,2018-08-05T10:06:08Z,chapmanb
352bf6ac7870ea38b4f30daddbf6660c5309060a,chapmanb,chapmanb@50mail.com,"kraken: handle configuration passed as list

Fixes #2475",2018-08-03T17:11:07Z,chapmanb
457e02ecd47a06379d5fbf0c9ea3cd16bee11037,roryk,rory.kirchner@gmail.com,Add pizzly and RNA-seq memoization fixes.,2018-08-02T21:58:24Z,roryk
a0f03a6933630565f9f4ee2f862ec8967cb1586e,roryk,rory.kirchner@gmail.com,"Memoize the rRNA QC calculation.

This speeds up re-reuns by not recalculating this metric
repeatedly.",2018-08-02T21:33:48Z,roryk
542b108057e32032a7d203428ead6451a73926f0,roryk,rory.kirchner@gmail.com,"Fix for fusion_caller being interpreted as a path.

This was causing pizzly to not get run and upload of the
data to not occur when a run was re-started.

Thanks to Avinash Reddy for pointing out the issue.",2018-08-02T21:33:48Z,roryk
d6c740f9fe9bc8c26d73a13c68549bb416b24efa,chapmanb,chapmanb@50mail.com,"CWL: always create tarball of snpeff, even if single file",2018-08-02T18:28:23Z,chapmanb
b69ec293271c54247ccdb476b02197b2fc8fbc01,chapmanb,chapmanb@50mail.com,validation: handle rtg dictionary inputs necessary for CWL,2018-08-02T17:06:25Z,chapmanb
af1789bfdd67b1988436db613af46c89cbf6e3f0,chapmanb,chapmanb@50mail.com,"CWL: correctly handle rtg and minimap2 in default install

When running CWL generation using the bcbio_system default installation:

- rtg reported a directory, which was not correctly localized
- minimap2 reports the seq directory which we don't need to
  double localize.

Thanks to @ohofmann",2018-08-02T15:03:16Z,chapmanb
558fb2d43fe9428ddaa18960a55aece8e1711eda,chapmanb,chapmanb@50mail.com,"vcfanno: fix for pre-specified gemini inputs

Ensure we pass the correct data_basepath when config contains gemini inputs:
```
vcfanno: [gemini]
```
Thanks to @ohofmann, @vladsaveliev",2018-08-02T10:13:06Z,chapmanb
1f669b26d2adeea4744530cbf2bb6340aef39a8a,Lorena Pantano,lorena.pantano@gmail.com,"sRNA: fix parallelization for align step

https://github.com/bcbio/bcbio-nextgen/issues/2472

Thanks @roryk and @mshadbolt for figure out this.",2018-08-01T19:28:39Z,lpantano
c61361649c99ebb4c760deff36d7530952a33b1d,chapmanb,chapmanb@50mail.com,"GATK4: support ploidy specification for joint calling

GenomicsDB now supports non-diploid
ploidies (https://github.com/Intel-HLS/GenomicsDB/pull/140) for joint calls.
Fixes #2471",2018-08-01T10:34:49Z,chapmanb
c21ccb23bb73cf1823a1fb8f65499aa873a6ef83,chapmanb,chapmanb@50mail.com,"fgbio: back compatibility for older base quality setting

Also place fgbio version in programs.txt",2018-08-01T09:52:28Z,chapmanb
45178fbdc04b831c11961f3b56b28d58d4bcda61,roryk,rory.kirchner@gmail.com,Only create one index per genome combination for scRNAseq.,2018-07-31T14:35:35Z,roryk
1f82a6be05aed11d45a55916236044150a36565b,roryk,rory.kirchner@gmail.com,Allow pre-transformed files to single-cell RNA-seq,2018-07-31T14:35:35Z,roryk
f5901220672d9508f712e2d7b5943d29f2988ec0,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: skip vcfanno if not calling

Checks for missing and non-configured variant files. Thanks to @ohofmann",2018-07-30T13:58:59Z,chapmanb
e922723c0598532fd9e26aab196b21b4964408c1,chapmanb,chapmanb@50mail.com,"GATK: cleanup for support of calling at all positions

Avoid duplicates emit-ref-confidence if already set in input options.
Place correct bounds on tests for a file being gVCF.",2018-07-30T10:12:16Z,chapmanb
fd330b34399ac818f0e7874acdd89bdfc2d152b9,chapmanb,chapmanb@50mail.com,"variant calling: handle single base pair regions

Avoids removing single base pair target regions during sanity checking and
cleanup. This allows use for fingerprinting applications where we call
at a single position. Thanks to Mike Cariaso",2018-07-29T10:22:01Z,chapmanb
820766b024e6ee64e7fd381cfc257e883be2f42d,chapmanb,chapmanb@50mail.com,"CWL: avoid use of bwa as a tarballed input

bwa is expensive to create a tarball input and also has a consistent naming
scheme we can describe with CWL secondaryFiles. Avoid creating these and instead
use unpacked bwa with secondaryFiles on new runs.",2018-07-29T09:42:51Z,chapmanb
88f3c19691cb0253ffa418a718f77d4497656387,chapmanb,chapmanb@50mail.com,"GEMINI: avoid passing along symlinked outputs as unique

Avoids confusing outputs in final directory when GEMINI and existing batch
files are identical.",2018-07-29T02:19:26Z,chapmanb
2c597c7ace654d6594c4a38fc2ffb587afbd4438,chapmanb,chapmanb@50mail.com,"dbSNP: flexible addition for gVCF outputs

Add rsIDs at all positions, ignoring REF/ALT if we're generate gVCF or
GATK all sites output.",2018-07-29T02:17:30Z,chapmanb
34acceb71637daf14d08e81f055aa07ad44450dd,chapmanb,chapmanb@50mail.com,"fgbio: enable setting max-base-error-rate in FilterConsensusReads

Allows work to test with smcounter2 filter parameters",2018-07-28T10:30:27Z,chapmanb
b7317b9b4758f0fe582e4c54ac9d4a271a0b014c,chapmanb,chapmanb@50mail.com,TitanCNA: finalize parameter setting for exome (#2470),2018-07-27T14:08:00Z,chapmanb
21b3d6f7d936a3cfe936a0a9e8b18a0495e602c5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2470 from lbeltrame/fix-titancna-parameters

TitanCNA: use correct parameters for WES runs",2018-07-27T14:06:12Z,chapmanb
8420bf82623e77f35d6b5533bf23874173901620,chapmanb,chapmanb@50mail.com,"vcfanno: safe check for cosmic VCF, allowing None",2018-07-27T13:39:56Z,chapmanb
66e66a191702548e790a9316631c25e8b694d09d,Luca Beltrame,luca.beltrame@marionegri.it,"TitanCNA: use correct parameters for WES runs

According to the documentation
(https://github.com/gavinha/TitanCNA/tree/master/scripts/R_scripts) the
model needs different parameters depending on variance in read data and
depending on the data type.

This commit adds the two recommended parameter for non-WGS runs.",2018-07-27T13:13:47Z,lbeltrame
b595ca76c11544114380a72446fa8872ac83eea3,chapmanb,chapmanb@50mail.com,"GATK: avoid VQSR when forcing gVCF/all-sites output

Makes it easier to generate gVCF or all-sites output by not explicitly
defaulting to try VQSR. VQSR is still used if present in `tools_on` in these
cases but otherwise hard filtering gets used since VQSR is incompatible
with gVCF outputs.",2018-07-27T09:48:05Z,chapmanb
672a758afd8a895d1fc2694bb22a8e708c6724ac,chapmanb,chapmanb@50mail.com,"CNVs: handle input genes with spaces in names

When adding log2 ratios split on tabs rather than any character, which
fails when input BED had gene names with spaces in them.",2018-07-26T14:58:01Z,chapmanb
0d8b43a259afdfc9e05c7949019bf9d17c81e815,chapmanb,chapmanb@50mail.com,"heterogeneity: avoid use of MuTect for het analysis input

MuTect2 and MuTect do not provide germline filtered normals so have a small
number of inputs for heterogeneity analyses. Instead of trying with these and
producing potentially not useful output, skip analysis. We currently
recommend use of VarDict which reports all germline variants (filtered).
Fixes #2464",2018-07-26T10:04:36Z,chapmanb
7ce5becbbfe33babcf6c279b03864659e8066d60,chapmanb,chapmanb@50mail.com,"VerifyBamID: only calculate pileup in target regions for hg19

Avoid long runtimes by only running pileup at positions used in VerifyBamID
calculations. Fixes #2454",2018-07-26T09:34:18Z,chapmanb
82fb2a01a068c35c2380aae7b35a673f9d721570,chapmanb,chapmanb@50mail.com,Tests: fix RNA-seq unit test for fusions; valid input,2018-07-25T15:37:54Z,chapmanb
6c426c773b899435d5a0bb26b2615f83efd4f6db,chapmanb,chapmanb@50mail.com,"CWL: finalize RNA-seq fusion (follow up on #2457)

Finalizes work to run RNA-seq fusion for basic tests on kallisto + pizzly:

- Use trim_rec for detect_fusions CWL input to get fasta and other inputs
  without confusing parallelization and nesting from multiple locations.
- Look up hdf5 from data dictionary instead of relying on filesystem access
- Ensure fusion json and fasta in output data object
- Cleans up tab/space issues from #2457",2018-07-25T13:11:27Z,chapmanb
3c7ba1911120046bba0802d118ebe9a89ad1a1f5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2457 from skanwal/master

Initial commits to add support for pizzly as a fusion caller in bcbio-CWL",2018-07-25T11:45:18Z,chapmanb
66cae6714cf721ef3cde17b42e2a12ff5d3bda82,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2467 from lbeltrame/fix-titancna-hg

TitanCNA: allow running with genomes with ""chr"" prefixes",2018-07-25T09:23:58Z,chapmanb
79c9cbe46bf7d58b06ac1fb988c452aae0f92318,Luca Beltrame,luca.beltrame@marionegri.it,"TitanCNA: allow running with genomes with ""chr"" prefixes

This will ensure that the right option is set with a compatible genome.
Currently the list is hardcoded as I think it is not possible to detect
those.",2018-07-25T07:18:19Z,lbeltrame
bf8544eacf8974b7b35b15a6c46beacf62c66b93,Sehrish Kanwal,kanwals@unimelb.edu.au,"Update rnaseq.py

Fixing an extra space in else",2018-07-24T22:50:24Z,skanwal
797f65d17c63992b78a2033f0be237b14d248853,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: apply annotations after joint calling

Avoids issues importing into GenomicsDB with GEMINI inputs.
Thanks to @komalsrathi Fixes #2453",2018-07-24T18:38:25Z,chapmanb
090049e2f071224f798b776f346a872b73691b00,chapmanb,chapmanb@50mail.com,vcfanno: correctly handle pre-specified vcfanno in configuration,2018-07-24T18:34:52Z,chapmanb
3a990529b11b364e42b6447e8370833745376b0a,chapmanb,chapmanb@50mail.com,"vcfanno: ensure basepath only applied to GEMINI build 37

Avoid combining gemini configuration files when they have differing base
paths, avoiding incorrectly looking up local references in GEMINI path.
Fixes #2463",2018-07-24T17:36:02Z,chapmanb
77d3a3cfe6b2349068c20102f48bf29457a207f6,chapmanb,chapmanb@50mail.com,"prioritization: make use of somatic annotated VCFs with Cosmic/Clinvar

Allows use of updated COSMIC installs in prioritization. Thanks to
Moiz Bootwalla:
https://groups.google.com/d/msgid/biovalidation/a19d1821-dd04-4abf-83c7-2bd84f62ebc8%40googlegroups.com",2018-07-24T16:59:10Z,chapmanb
c6f334f984cb957b0264f72960a79c1da55b035a,chapmanb,chapmanb@50mail.com,"population: do not run GEMINI by default, run vcfanno

No longer run GEMINI database creation by default, preferring vcfanno ready
VCFs that can feed into downstream processes or GEMINI itself. Added two new
`tools_on` parameters to run GEMINI or the original load process.

Provides additional generalization and support for vcfanno, running by
default if appropriate data is present.",2018-07-24T16:55:52Z,chapmanb
aa5f27b98e0a34a9525590c846bce0b2360586e4,chapmanb,chapmanb@50mail.com,"minimap2: skip using index for consistent BAM headers

BAM headers with some indexes do not report @SQ line, resulting in failed
merges. Thanks to Mike Cariaso.",2018-07-24T00:16:57Z,chapmanb
be9f67e934da0bd8ef073b15f659b4d70eeb7fd9,roryk,rory.kirchner@gmail.com,Upload per-sample dupe UMI counts.,2018-07-23T16:30:09Z,roryk
747678291d26ec293347fdbff95b10db0cfa5505,chapmanb,chapmanb@50mail.com,"Travis: work to improve test speeds and avoid errors

- More resiliency for Docker user lookups for Spark
- Avoid ensemble issues when set to None",2018-07-23T14:58:16Z,chapmanb
080d6863ec7873cc0361e87dda4a7adc749659c3,chapmanb,chapmanb@50mail.com,Docker: avoid errors if can't create/find user for spark,2018-07-23T10:47:53Z,chapmanb
f49b9dc806ab0c2bc3e37027e4179cd4ba5d4cc6,chapmanb,chapmanb@50mail.com,Travis: remove test to avoid timeout limits,2018-07-23T09:47:42Z,chapmanb
765e641f23166d17a4f18a31b41db4ad30da1f8f,chapmanb,chapmanb@50mail.com,"vcfanno: default somatic annotations

Provides annotations with COSMIC, Clinvar and dbSNP for somatic pipelines when
bcbio has a cosmic install. Supplements existing gemini annotations and provides
more flexibility to choose for future generalization.",2018-07-23T09:44:10Z,chapmanb
be035e2215d8f196aa98f8f83232f4d4777e4280,Sehrish Kanwal,kanwals@unimelb.edu.au,"Update rnaseq.py

Fixing indentation",2018-07-22T23:30:56Z,skanwal
c0849520ec3546361259fce2a9e96983fdeea753,chapmanb,chapmanb@50mail.com,"install: re-enable gemini data update, accidentally commented out",2018-07-22T16:41:39Z,chapmanb
b021a12a5935528cef5e1e4e27150ee70d742630,chapmanb,chapmanb@50mail.com,"Support bcftools 1.9; more strict about duplicate INFO/FORMAT keys

Enumerates whether we should use INFO or FORMAT key/values in filter
expressions, since bcftools 1.9 now checks explicitly. Thanks to Mike Cariaso.",2018-07-22T10:36:40Z,chapmanb
dfad9a62ec6283804f037000e1743695ceb684a5,roryk,rory.kirchner@gmail.com,"Oncofuse needs junctions in the junctions.out format.

Thanks to @MrsLaviniaG for the fix.",2018-07-21T16:57:29Z,roryk
4d14081e1eb9651ff8fd55db3cfaed90bcd3d959,chapmanb,chapmanb@50mail.com,"vcfanno configuration for somatic annotation

Allow annotation of COSMIC + Clinvar for somatic runs, update
bcbio resources to include cosmic references.",2018-07-21T09:34:30Z,chapmanb
706d2abdf4528ce166d766f851ab6d29e9c7bb39,chapmanb,chapmanb@50mail.com,"contamination: more robust checks for skipping

Handles complex cases like regional inputs without initial alignment
by doing strict checks for coverage and variant_regions.",2018-07-20T19:24:40Z,chapmanb
c58a1032ff69a3a039dd9e25d1622d9eb8fedb7b,chapmanb,chapmanb@50mail.com,"GATK: use a single thread for native HMM

Based on load testing from @WimSpee #2442",2018-07-20T13:40:33Z,chapmanb
0746def9e87b3d6473fa7917bf1cde951e204a03,chapmanb,chapmanb@50mail.com,"contamination: skip VerifyBamID for high depth panels

Smaller panels don't have enough useful markers and have slow runtimes
for pileups due to high depth. Fixes #2454",2018-07-20T09:59:10Z,chapmanb
38486c47d442acdfaeff337dea7d40fc9d143fb2,chapmanb,chapmanb@50mail.com,"peddy: fix bug where not all files upload on first pipeline run

peddy was missing non-HTML report files during the first run of a pipeline
and generation of results, because the `peddyfiles` output was only calculated
before the run when files didn't exist. This fixes by calculating a single
time after the run so results are consistent on initial and re-runs. Thanks to
@vladsaveliev and @ohofmann",2018-07-20T05:17:14Z,chapmanb
951fe6d2ecef14c68ed6e89935e61bbace0caa22,Sehrish Kanwal,kanwals@unimelb.edu.au,More code clean-up and adding a condition to check for fusion file first,2018-07-19T23:23:31Z,skanwal
4919ac6da61f65dcce4a3d548749a96a4b1f620d,Sehrish Kanwal,kanwals@unimelb.edu.au,code cleanup,2018-07-19T23:19:22Z,skanwal
e455f2c42bc39a0a819f1d4ce8ec3881d0947044,Sehrish Kanwal,kanwals@unimelb.edu.au,Fixed space in else block,2018-07-19T23:17:51Z,skanwal
e8926a063c83c0b5b69216a885a44de7971b6468,Sehrish Kanwal,kanwals@unimelb.edu.au,Fixed twice calling of oncofuse.run,2018-07-19T23:10:34Z,skanwal
1d0fdfac40e4a2d3ef0490377ca7488e4ffc4010,Sehrish Kanwal,kanwals@unimelb.edu.au,Merge remote branch 'upstream/master',2018-07-19T23:06:51Z,skanwal
c56dc3013035022f80497141ce970feb19d84293,chapmanb,chapmanb@50mail.com,"Pisces: apply recommended filter for low frequency indels

https://github.com/bcbio/bcbio-nextgen/commit/49d0cbb1f6dcbea629c63749e2f9813bd06dcee3#commitcomment-29765373",2018-07-19T15:06:39Z,chapmanb
5b018f7f1412ffe93eb6999b55a71d55d564a6aa,Lorena Pantano,lorena.pantano@gmail.com,"scRNA:get filtered barcode samples.

CC @roryk, a fix to get rapmap code running when re-starting a run and 
rapmap folder exists. Need to add the singlecell_quantifier into 
run_info.py
Adding filtered barcode-reads file as well to reduce R-loading single 
cell data time.",2018-07-18T17:38:28Z,lpantano
317ce76f10bcf6b005c37f9a2a5c1605a14b3eb0,chapmanb,chapmanb@50mail.com,"Docs: bcbio-vm installation; ansible machine setup

- Provide better generalization for installing bcbio-vm with an alternative
  bindir.
- Document AWS access keys and install of bcbio-vm on single volume
  ansible managed machines.",2018-07-18T09:27:22Z,chapmanb
75d308d627ca5d99cad80545a9009550fe9fc7ef,chapmanb,chapmanb@50mail.com,"ensemble: normalize inside caller folder to prevent overwriting

Avoids issues where input VCFs from multiple callers have same
names.",2018-07-17T16:56:48Z,chapmanb
2b646623e14c1efe74cc42b6c66f60ffba285fcf,chapmanb,chapmanb@50mail.com,CWL: ensure ensemble calls included in validation summary,2018-07-17T16:41:16Z,chapmanb
34e63d64be0c0a5cacd6f0338784582a8d3b63c1,chapmanb,chapmanb@50mail.com,CWL output: avoid checking when nothing to move,2018-07-17T16:03:46Z,chapmanb
5212c2f13b3afec4a423e769b8d5f22ddbd6aa25,roryk,rory.kirchner@gmail.com,"Properly memoize single-cell runs.

Thanks to @lpantano and @mjsteinbaugh.",2018-07-17T14:50:48Z,roryk
06f3c2a9532d220c4023eb6f5347687a9d3f2410,chapmanb,chapmanb@50mail.com,CWL: unpack snpEff and rtg tarballs for processing,2018-07-17T10:19:33Z,chapmanb
0ede6f5e1a1f769e5229aeca5eb6680917f97b67,chapmanb,chapmanb@50mail.com,"octopus: fix contig lines to avoid merge incompatibilities

octopus only writes contig lines used in calling, so for BED regional calls
it will include only a subset of contigs. This causes complains from GatherVcfs
in GATK when merging since it expected identical contigs. This fixes to
add all contigs at the final step in a standard way.",2018-07-17T09:40:09Z,chapmanb
0a307fd3cedfec49f03c8bf8a11862fa31f0d327,Sehrish Kanwal,kanwals@unimelb.edu.au,fixing a typo,2018-07-17T03:12:37Z,skanwal
754a80720750cc23a68fa2e07a6839a8bc4f68cb,Sehrish Kanwal,kanwals@unimelb.edu.au,Merge remote branch 'upstream/master',2018-07-17T02:28:17Z,skanwal
92fb0d8464ac6b0d7f58594eea539e805c37d619,roryk,rory.kirchner@gmail.com,Fix typo: undeduped -> dupes.,2018-07-17T00:31:06Z,roryk
5a21600cc5567cc1c0805d6359bc625a1ea2294d,roryk,rory.kirchner@gmail.com,"Allow Harvard inDrop to have R4 longer than 14 bases.

Thanks to @lpantano for pointing out the problem.",2018-07-16T19:22:21Z,roryk
8013137539c0f64f9845acfc16c1275426c2e5f1,Sehrish Kanwal,kanwals@unimelb.edu.au,Merge remote branch 'upstream/master',2018-07-16T00:27:33Z,skanwal
71f80f76235ee0f0bfb905407ebe671a565a319e,Sehrish Kanwal,kanwals@unimelb.edu.au,Adding changes to include pizzly as a fusion caller in bcbio-cwl rnaseq workflow,2018-07-16T00:05:55Z,skanwal
7969a67b882e8b977469c4552167ce56f6b80c49,chapmanb,chapmanb@50mail.com,"variant: support for octopus; germline and somatic

Octopus supports germline and somatic calling, including tumor-only analyses.
Initial implementation to allow for validation runs.",2018-07-15T09:59:42Z,chapmanb
affe63d886ec8ecae12d0a3e07bb05d338dd7919,chapmanb,chapmanb@50mail.com,CWL: add ensemble None as default when unspecified,2018-07-14T11:58:26Z,chapmanb
f60b062bc94d55b40d55f04f8accd086d36babca,chapmanb,chapmanb@50mail.com,"CWL: support ensemble calling

Adds full support for ensemble calling in CWL workflows, including validation
and summarization of outputs with standard calls:

- Add functionality to runfn to concatenate different records (ensemble +
  standard) and let it get sorted out during summarize_vc.
- ensemble functions to batch by sample/variant caller and generalize
  run to take these inputs.
- Ensure variant normalization happens in restricted work directory (not
  original directory).
- Create validation output for empty input VCFs with FNs highlighted.",2018-07-14T09:51:37Z,chapmanb
7c5a289d428dffb7a64e572a8a93b32fcd1918e2,roryk,rory.kirchner@gmail.com,Add `--umi_matrix` update to changelog.,2018-07-13T19:55:24Z,roryk
eaa7e00de22b204ab08b92af3bd4f4095131dd34,roryk,rory.kirchner@gmail.com,Call the duplicate matrix a better name.,2018-07-13T19:53:34Z,roryk
994fb2abb8e6100bab239e242fa1241ad938a4ff,roryk,rory.kirchner@gmail.com,"Fix rapmap mapping message.

Was pointing to the function, not the location of the index as
intended.",2018-07-13T19:53:33Z,roryk
aa5cb41d07548a212c560092156cd86e1960e9bd,roryk,rory.kirchner@gmail.com,Add support for umi_matrix option.,2018-07-13T19:53:33Z,roryk
912698e8f9510a9456408fa36434182d070973fa,roryk,rory.kirchner@gmail.com,Strip transcript versions when making a rapmap index.,2018-07-13T19:53:33Z,roryk
582abfa5b2119b0cb49ebfc7948f69bcb610aaf6,roryk,rory.kirchner@gmail.com,Add umis to captured program versions.,2018-07-13T19:53:33Z,roryk
cfd2a50affc48377899231c57f8522a23aa52144,Lorena Pantano,lorena.pantano@gmail.com,"add gz extension to out_file of groom cmd.

cc @roryk @chapmanb @jnhutchinson in case I broke something else.",2018-07-13T17:15:22Z,lpantano
bf9b0cc2e205cb226c9110f29c7de15a53a7d4fb,chapmanb,chapmanb@50mail.com,"GATK4: correctly set hmm thread usage

Thanks to @WimSpee #2442
https://github.com/bcbio/bcbio-nextgen/commit/66cd479b899076492e90da348ea1fc1fd12c1b09#commitcomment-29697747",2018-07-13T10:22:28Z,chapmanb
737a44f289edd95b9d4a0c852c4936e4a03e05ca,chapmanb,chapmanb@50mail.com,"QC: re-add summarization steps removed during report cleanup

Adds in steps used in MultiQC and not only in generating the now deprecated
reports. Thanks to @vladsaveliev",2018-07-13T09:52:24Z,chapmanb
db821ff54bccd604c9efe7f2a0d31ed78e3f1f7f,chapmanb,chapmanb@50mail.com,"Coverage read size: increase sampling to avoid bias

Avoids bias at ends of chromosomes where reads may have extra trimming.
Thanks to @vladsaveliev",2018-07-13T09:30:08Z,chapmanb
66cd479b899076492e90da348ea1fc1fd12c1b09,chapmanb,chapmanb@50mail.com,"GATK4: scale down core usage for AVX optimizations

Avoids core overuse. Fixes #2442",2018-07-13T09:25:31Z,chapmanb
50349e6a72f68278eb08dcaa29be4e45003f0798,chapmanb,chapmanb@50mail.com,"Allow `variant_regions` with pre-installed BED files

Thanks to @ohofmann",2018-07-12T09:28:28Z,chapmanb
23e8e2d62f70f9d36db0f0b636c54a9ec758fc0f,chapmanb,chapmanb@50mail.com,CWL: avoid circular import for heterogeneity,2018-07-11T15:26:09Z,chapmanb
ed98597efe7d18ff684a8ec64bd45bd39b647bfd,chapmanb,chapmanb@50mail.com,"CWL: support for variant inputs to SV and het calling

Correctly pass variant outputs to structural variant calling so they
can get used as inputs to heterogeneity and structural variant callers.
Add code to handle inputs from both standard and CWL runs for variants.",2018-07-11T12:51:33Z,chapmanb
612d9a56d18d523ef3084c84a3c4eebee4308229,chapmanb,chapmanb@50mail.com,v1.1.0 release,2018-07-11T09:27:20Z,chapmanb
a4c5f461a8684fedcfc4b84b0876c4fd9d2b2bd8,chapmanb,chapmanb@50mail.com,"CWL: support for delly during SV runs

Generalizes retrieval of sample name and BAM files to support CWL-based runs.",2018-07-11T09:15:21Z,chapmanb
d8a664400f42486943348fdbab2c1b8fd5613d30,chapmanb,chapmanb@50mail.com,"CWL: avoid duplicate file names with no calling batches

When grouping together pre-called variant inputs for validation, avoid using
batch names as outputs since these are not called together (only evaluated
together) and don't contain all sample inputs.",2018-07-10T15:51:05Z,chapmanb
b2bcb7dc19b548965f214ddb776469f8fa6ef7b3,chapmanb,chapmanb@50mail.com,CWL: avoid GATK4 pinning with move to latest release,2018-07-10T14:32:25Z,chapmanb
4f5a41299473357415a864d1ad20cd920670e116,Lorena Pantano,lorena.pantano@gmail.com,sRNA:support gtf/gff mirtop output.,2018-07-10T14:17:32Z,lpantano
d70d950c24da3921e9880ca73f267fc1e89d14c8,chapmanb,chapmanb@50mail.com,"GATK: support for new gatk and gatk3 script names

Preparation for new release, swaps to new script naming in GATK upstream
and bioconda as of post GATK 4.0.3.0. We can now use the latest releases.
Fixes #2430",2018-07-10T10:09:59Z,chapmanb
287030503d1118d071f6073586f1cddd66721783,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2438 from skanwal/master

Fixing typo.",2018-07-10T10:01:13Z,chapmanb
17e5785943b19ef4d33d7d8643aff9d6244298f6,Sehrish Kanwal,kanwals@unimelb.edu.au,Fixing typo,2018-07-09T23:00:18Z,skanwal
781b4dbe0ff148455c68e4e9e4c2264d7dfe8157,chapmanb,chapmanb@50mail.com,python3: Move __future__ statement to start of script,2018-07-09T18:45:20Z,chapmanb
b53385b73b536c7d311fb37b0166806e994e7501,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2437 from smoe/patch-1

Eliminated ""print >>"" for python3",2018-07-09T18:18:46Z,chapmanb
531f94c7b6e5ecbd534a7ad24c59ffd289a8eeb4,Steffen MÃ¶ller,steffen_moeller@gmx.de,Corrected order of optional arguments to print(),2018-07-09T15:52:25Z,smoe
b33d4270910b50b5e9b089bc9e58bdd3cca9c265,Steffen MÃ¶ller,steffen_moeller@gmx.de,"Eliminated ""print >>"" for python3

Should be backward-compatible.",2018-07-09T13:00:40Z,smoe
806f3db24b212f5f12d4789a6a13020d202b2b73,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2434 from smoe/patch-1

python3 transition - print lacked ()s",2018-07-08T09:42:00Z,chapmanb
af71618025d4eafcde27b1bdd258d3639311c11a,chapmanb,chapmanb@50mail.com,"RNA-seq qualimap: replace sambamba count with hts-nim-tools

Avoids issues on systems that segfault with sambamba. Thanks to @ohofmann
and @vladsaveliev",2018-07-08T09:37:33Z,chapmanb
0463eca933ff92ed58459206bac9ab0f170460ef,Steffen MÃ¶ller,steffen_moeller@gmx.de,Update bcbio_nextgen.py,2018-07-07T23:23:18Z,smoe
d105706cfc02f8099851b8d4acd426a341913d47,Steffen MÃ¶ller,steffen_moeller@gmx.de,"Update bcbio_setup_genome.py

Added ()s for print only, should all remain compatible with Python 2.",2018-07-07T22:02:08Z,smoe
7cbe0427ab127fcf9f0378606591ce31f31f2f36,Steffen MÃ¶ller,moeller@debian.org,python3 transition - print lacked ()s,2018-07-07T21:09:39Z,smoe
afa880e0eeb83cc79bf3ab97faa07b9648bcfcea,chapmanb,chapmanb@50mail.com,"NA12878 exome example: remove realignment, no longer recommended. Thanks to @ohofmann",2018-07-07T09:47:24Z,chapmanb
d41ed6128840f06dd4f7c6def25825f2f0939182,roryk,rory.kirchner@gmail.com,Strip transcript versions from tx2gene file.,2018-07-06T19:37:13Z,roryk
2f75aa76864b3ae3917bfce962d235f83c39f24e,chapmanb,chapmanb@50mail.com,"Pre-aligned inputs: improve core usage

Allocates available cores for view and read group fix steps using
samtools. #2391",2018-07-06T19:04:01Z,chapmanb
42b3e8aba047e0e30e38d3897feb34456ff30b93,roryk,rory.kirchner@gmail.com,"Ungzip GTF file if gzipped prior to installation.

Thanks to Tim Slidel for bringing up the issue.",2018-07-05T18:23:05Z,roryk
b786e3292514d793ea559f7829434fd1504be7ad,chapmanb,chapmanb@50mail.com,"germline: use sample-germline instead of batch-germline

Avoids confusion with single samples attached to multiple batches.
Thanks to @vladsaveliev and @ohofmann",2018-07-05T10:23:32Z,chapmanb
e718d68d4aaf2882a129c1d7ebf763b5918675ef,chapmanb,chapmanb@50mail.com,"gVCF inputs: do not make gemini/vcfanno dependent on align_bam

Removes dependence on presence of align_bam to apply GEMINI annotation. This
allows vcfanno and GEMINI creation on joint called input gVCFs. #2068",2018-07-05T08:53:58Z,chapmanb
be6a4c8f58910ec46fdccfdfdc694a6af481b5a3,chapmanb,chapmanb@50mail.com,germline: avoid name error when normal sample present in multiple batches,2018-07-05T00:55:43Z,chapmanb
56e2288bad762bff9c2e420815b659b92a5c836c,chapmanb,chapmanb@50mail.com,"GEMINI/vcfanno: generalize detection of hg19/GRCh37

Support non-standard bcbio genome installs that use hg19/GRCh37 contigs
and want to make use of GEMINI. Thanks to Moiz Bootwalla

https://groups.google.com/d/msg/biovalidation/6_qkQr3GU7Y/ud68VMZfAgAJ",2018-07-04T15:17:48Z,chapmanb
17da9fe8cd1a406f278392934930403fb5802deb,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2432 from vladsaveliev/atropos

Atropos polyX trimming: disable anchored mode to allow variable length polyX stretches in 3' ends",2018-07-04T09:58:55Z,chapmanb
5195316ef75c1ba84e291af26b4f4f851e888e3b,vladsaveliev,vladislav.sav@gmail.com,"Atropos polyX trim: disable anchored mode to allow variable len stretch
The dollar sign in -a atropos options (`-a A{200}$ etc.) requires the adapter to be _exactly_ 200 base long in the 3' end. That's not the behaviour we want: we rather want it to be of _any_ length between 8 bases and 200 bases, as soon as it in the 3' end, and not in the middle of the read. Removing $ to allow the correct behaviour.",2018-07-03T14:00:06Z,vladsavelyev
8930cab341e8610b5e063c62a23674ebbbe573d4,roryk,rory.kirchner@gmail.com,Add bcbioRNASeq integration notes.,2018-07-03T00:56:50Z,roryk
1cdb1e6cd7a6a725203167f7be649c7824dee6bd,roryk,rory.kirchner@gmail.com,Automatically render the bcbioRNASeq quality control report.,2018-07-03T00:55:09Z,roryk
045a21c8f31447416440b4be755b3edae088210f,roryk,rory.kirchner@gmail.com,"Add R_package_resource.

This returns a path to a R package resource, if it exists.",2018-07-03T00:55:08Z,roryk
9e6dffbd8af6263f8e4a471ed24f700a83447a79,roryk,rory.kirchner@gmail.com,Detritus cleanup of bcbiornaseq.py.,2018-07-03T00:55:08Z,roryk
49d0cbb1f6dcbea629c63749e2f9813bd06dcee3,chapmanb,chapmanb@50mail.com,"Pisces: support for low frequency (<1.0%) variants

Provides lower emit threshold and higher variant thresholds to trust high
depth bases for low frequency calling, based on Pisces tuning adjustment
suggestions:

https://github.com/Illumina/Pisces/issues/14#issuecomment-399756862",2018-07-02T10:11:04Z,chapmanb
9272cf6d0a7eb09ef949625f42bdb48c38b44f10,chapmanb,chapmanb@50mail.com,"CWL: support for germline and somatic calling

Provide germline and somatic calling in CWL tumor/normal pairs by flattening
and reconstituting initial variant calling dictionary list. Avoids serialization
issue and replicates approach used in standard run of splitting sample
at variant calling step, re-using alignments and other upstream work.",2018-07-01T18:49:03Z,chapmanb
4cbc263907892c810dd350062cf667d27688a527,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #2429 from skanwal/master

Adding some information to help with development of the pipeline",2018-07-01T13:36:55Z,roryk
5caab72a4250b27d517298c1f03280d25661f1ca,chapmanb,chapmanb@50mail.com,"Support GATK joint calling with pre-prepared gVCF inputs

Allows gVCF files input as `vrn_file` in the sample YAML. GATK will
run joint variant calling on these, producing a joint VCF output with
annotations. Thanks to @tomiles  #2068",2018-06-30T22:59:23Z,chapmanb
60942268de5d9ad04d82e48c3808924aadcebe0e,Sehrish Kanwal,kanwals@unimelb.edu.au,Adding some information to help with development of the pipeline,2018-06-30T21:25:44Z,skanwal
0f25e984858f78c6f1632a268a657553ea2e8adf,chapmanb,chapmanb@50mail.com,Docs: example of installing to an alternative directory,2018-06-30T16:12:10Z,chapmanb
8910c5ac400dcb937292de549002948a9e4384b6,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2428 from skanwal/master

Clarifying the OS expectation for the mentioned bcbio-vm install commands",2018-06-30T16:07:46Z,chapmanb
e22b7f34ee12681cc08bfef95a545ab17f98d0fb,chapmanb,chapmanb@50mail.com,"RNA-seq: filter primary alignments with samtools

Avoids use of sambamba view with multiple cores, which causes segfaults
on some systems. Thanks to @skanwal",2018-06-30T13:20:29Z,chapmanb
5a44a9e58519f1a2c16a4bf67b5066aee9a01813,Sehrish Kanwal,kanwals@unimelb.edu.au,Adding some description about expected paths in the bcbio-vm install commands,2018-06-29T23:25:45Z,skanwal
3b2e28cb5d7d85892f44b3d9645ea3f9be75c1e1,Sehrish Kanwal,kanwals@unimelb.edu.au,Clarifying the OS expectation for the mentioned bcbio-vm install commands,2018-06-29T20:22:21Z,skanwal
3924a6340f70256fe1e08d67341c2cb1fa22a5f7,chapmanb,chapmanb@50mail.com,"RNA-seq variation: add RNA editing for human

Generalizes the GRCh37 support for annotating with RADAR for all
human genomes, providing retrieval targets for CWL support.",2018-06-28T13:11:22Z,chapmanb
eb0488495ce6da4ff5a85625c25f951ace41d071,roryk,rory.kirchner@gmail.com,Add warning to not use : in directory names.,2018-06-27T17:06:07Z,roryk
ae08e1074ab9d0b30deff47f76238d5441f6a898,chapmanb,chapmanb@50mail.com,Slides and video from BOSC 2018 talks,2018-06-27T13:56:22Z,chapmanb
d62590530f21caeab899b5e9ecb4529aed018633,chapmanb,chapmanb@50mail.com,"CWL RNA-seq: support for annotation and filtering

Specific RNA-seq filtering and annotation built in as part of CWL workflow.
For editing and vcfanno support still requires updates to include vcfanno
scripts as part of CWL workflow.",2018-06-27T12:19:54Z,chapmanb
a6b309edb7ae4ffc3938e4d7f43430fdd28264f9,chapmanb,chapmanb@50mail.com,Docs: add bcbio training presentation for BOSC 2018,2018-06-26T13:57:28Z,chapmanb
df914f87abf5f22ec48ab62d442b655a59083abf,chapmanb,chapmanb@50mail.com,"CWL: preliminary RNA-seq variant calling support

Handles calculation of callable regions and parallelization in same
way as standard variant calling. Does not yet support RNA-seq specific
annotation and filtering.",2018-06-26T13:35:58Z,chapmanb
89d6bfec2ca59027d142c37b65a6998f56f46a55,chapmanb,chapmanb@50mail.com,"CWL: RNA-seq generalization for variant support

Initial work towards supporting RNA-seq variant calling as part of the
CWL RNA-seq pipeline. Aiming to use same definitions as for standard
variant calling, plugging in RNA-seq specific filtering during post-processing.",2018-06-26T12:51:28Z,chapmanb
a3473775db06540c10b5f20ddc2043b8cc99d1f8,roryk,rory.kirchner@gmail.com,Add bcbioRNASeq integration to unit tests.,2018-06-25T19:33:31Z,roryk
e76fa86c1619bf44da2d0d6c29606ba5d5f2db2f,roryk,rory.kirchner@gmail.com,Add interesting_groups as a bcbiornaseq option.,2018-06-25T19:22:54Z,roryk
95947c61d111e7c254001fbcf7c6a98d812d4960,chapmanb,chapmanb@50mail.com,peddy: fix error checking (every -> all),2018-06-24T09:39:05Z,chapmanb
5a5ba6cdf6b4b77bf576398e8668f18b4f25ca40,chapmanb,chapmanb@50mail.com,CWL RNA-seq: Add rgnames__samples for Cromwell output support,2018-06-23T09:57:06Z,chapmanb
dfc23e4cc5f5553991369fba01d8fb101490d986,chapmanb,chapmanb@50mail.com,"MultiQC: hide problematic peddy columns from main table

Focus on ancestry and sex predictions avoiding other information.",2018-06-22T17:33:56Z,chapmanb
67d2fbfa5900bdcebaf2d03e5000220ba1f751df,chapmanb,chapmanb@50mail.com,"VerifyBamID: re-enable probe sanity checking and filtering

Needed for useful results from standard BAM runs.",2018-06-22T17:33:56Z,chapmanb
2485706106ad851cf55fd432d23efdecd86ba75b,Lorena Pantano,lorena.pantano@gmail.com,UPLOAD::add dexseq.ann to the final folder as well.,2018-06-22T16:30:25Z,lpantano
dac259c07b4212694d98bfbec4f11230d9025d74,roryk,rory.kirchner@gmail.com,Fix typo for loading bcbioRNAseq object when using IPython.,2018-06-21T17:23:46Z,roryk
c5260766dfe482f346d6e5955e28a17c1d9abf02,chapmanb,chapmanb@50mail.com,"RNAseq variant calling: merge transcripts when no `variant_regions`

The default RNA-seq calling regions without `variant_regions` contained
a large number of overlapping regions resulting in slow calling over identical
regions with VarDict. This prepares an explicit merged transcripts BED to avoid
the problem.",2018-06-21T13:12:30Z,chapmanb
8f1c24de1fcf5337cb82a8d5e196f913d21a15bd,chapmanb,chapmanb@50mail.com,Fix typo in bcbiornaseq import/require,2018-06-21T09:48:11Z,chapmanb
f1834cb03b2b763da0f727abfdafcaa01e1172c2,chapmanb,chapmanb@50mail.com,Fix typo in except clause,2018-06-20T10:39:24Z,chapmanb
7c1ff80fd0e38dd155f961d147a426eca57e267f,roryk,rory.kirchner@gmail.com,Add organism support to bcbioRNASeq integration.,2018-06-19T01:52:05Z,roryk
84d2388a00bb6213c81615e48f7d8a5f39e0f33c,roryk,rory.kirchner@gmail.com,Automatically create bcbioRNAseq object at end of RNA-seq runs.,2018-06-19T01:07:07Z,roryk
247a2bffbafa318755b2d7984cb4d3ca8bd35194,roryk,rory.kirchner@gmail.com,Add alternative P11 barcodes to SCRB-seq pipeline.,2018-06-18T19:45:26Z,roryk
2b0558edac66def83d977dadd392ea159766c9d1,chapmanb,chapmanb@50mail.com,Support for longranger during SV validations,2018-06-18T10:18:42Z,chapmanb
3d80893f1412fb82b74ac8dac8bed48950ef0d9f,chapmanb,chapmanb@50mail.com,"Ansible: update AWS launch script

- Larger instance types to support Docker rebuilds
- Support for condor to enable local Cromwell runs
- Support for dotnet for Pisces support",2018-06-16T10:00:41Z,chapmanb
5a867a2a5630e929a37a1eab9c7288803b7f55c4,chapmanb,chapmanb@50mail.com,"samtools: Add AD to mpileup outputs

Fixes #2416",2018-06-14T20:02:45Z,chapmanb
3ddc267eb1172061da493a4b07967969a6eb235f,chapmanb,chapmanb@50mail.com,"VerifyBamID: work around issue with extra sample newline

Works around issue with parsing sample name from BAM file when SM tag is at the
end of the RG line: Griffan/VerifyBamID#10  Fixes bcbio/bcbio-nextgen#2417",2018-06-13T18:10:43Z,chapmanb
68473464e005c82034117d3a258aa799007a5c5d,chapmanb,chapmanb@50mail.com,"CWL: ensure rgnames__sample is part of output step

Handles cases where runners expect some processing of inputs, even though
this is really just a pass through of the names. This makes sure they
are present for all workflows, including QC only.",2018-06-12T20:00:25Z,chapmanb
a02e2fe216d6ca7917a97d105c707c0d674c4972,chapmanb,chapmanb@50mail.com,CWL: swap CI test to use Cromwell instead of bunny,2018-06-12T12:59:08Z,chapmanb
79f2ec9df788cd9a2705ebbe59176859758770f0,chapmanb,chapmanb@50mail.com,CWL: ensure rgnames__samples present for QC-only workflows,2018-06-12T09:23:54Z,chapmanb
288fdde17aa9bfdd67a0d6bbd30a0688f7e11891,Lorena Pantano,lorena.pantano@gmail.com,"CHIP:skip qc if peak calling was off.

Thanks to @KayleighRutherford.",2018-06-11T18:39:40Z,lpantano
7a82611b94786689e4c5668a1c7340b440c96240,chapmanb,chapmanb@50mail.com,"peddy: capture errors due entirely to missing intervals

Fixes #2413",2018-06-11T09:47:51Z,chapmanb
8d2fda92bdcd0c961edf5f106bf39b9f8f6c3428,chapmanb,chapmanb@50mail.com,CWL: VerifyBamID support for QC,2018-06-10T09:45:38Z,chapmanb
23425e286e725270c23ec0f5ebb87fae86502088,chapmanb,chapmanb@50mail.com,"QC: support VerifyBamID2 for contamination detection

Initial support for VerifyBamID2 as part of QC. Calculates FREEMIX sequence
only score using 1000 genomes background and reports in MultiQC report per
sample.",2018-06-09T10:37:12Z,chapmanb
a8e2e735af7496c500fc516fc870b42ffa09c700,chapmanb,chapmanb@50mail.com,"Illumina: automated processing with new flowcell names (XY, X2)",2018-06-08T17:27:13Z,chapmanb
d3a1e9b23951d3a35531622bfd612733f8710a41,Lorena Pantano,lorena.pantano@gmail.com,RNA:convert BAM files prior salmon cmd.,2018-06-08T16:38:19Z,lpantano
900da1734e327f86e04270934575d8ad9f6a29af,Lorena Pantano,lorena.pantano@gmail.com,RNA:calculate read_length from bam file when running salmon index.,2018-06-08T14:02:04Z,lpantano
de26fa55318591ae10ad38ad807886f1e6080557,chapmanb,chapmanb@50mail.com,CWL: enable multicore processing with pisces,2018-06-07T17:15:20Z,chapmanb
37b122ae15018772b270909d3f4a743eb6bbceee,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: correct filtering with tools_off: [gatk4]

Correctly use GATK4 for filtering step after GATK3 variant calling
with `tools_off: [gatk4]` #2410",2018-06-07T17:14:22Z,chapmanb
4acb96c3de469c82231da04e284a780579eb9d3a,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2411 from matthdsm/patch-1

CWL: cromwell torque ""check-alive"" fix",2018-06-06T09:39:37Z,chapmanb
1093bfdf14f29b1b85e574fac647c7a5e8e52a27,Matthias De Smet,matthias.desmet@ugent.be,"CWL: cromwell torque ""check-alive"" fix

torque `qstat` has no `-j` flag, resulting in faulty tracking of job status.",2018-06-06T06:15:02Z,matthdsm
8b21de2a73225d661b0aa4195bd23f64e315408d,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: add annotation of output VCFs

Enable annotation of RNA-seq variant calls with same approach as used for
standard variant calling: vcfanno plus allowing custom input scripts.",2018-06-05T09:37:27Z,chapmanb
d24783ffc4e5aacd36c3f07226b71160feedbe0e,chapmanb,chapmanb@50mail.com,"CWL: avoid race conditions during multicore BED prep

Pass in pre-merged variant BED file (`variant_regions_merged`) to avoid
potential race conditions when running multicore single core jobs. Provide
standard interface for retrieving from multiple callers with and without
merging.",2018-06-05T02:07:40Z,chapmanb
0fa5e76ceb53760d3bb1baceccc4ae9a809a83e3,chapmanb,chapmanb@50mail.com,CWL: min_allele_fraction for low frequency somatic variants,2018-06-05T02:06:29Z,chapmanb
7b1d1f1fbd9a3be193522dc3400d55f8d2c5eec7,chapmanb,chapmanb@50mail.com,"CWL: add run_number target for manual CWL update

Enables forcing re-run of completed steps if there are problems or code updates
by updating a run CWL.",2018-06-04T09:38:39Z,chapmanb
8c83a8ecd1ef3c3d8a54a078f777352f4573e52c,chapmanb,chapmanb@50mail.com,"CWL: consistent generation of reference genome_context

Matches remote changes in bcbio-vm to provide consistently ordered
outputs in samples.json.",2018-06-04T09:37:59Z,chapmanb
142b9c8f8e6ae75be2c1638619e44c469ced3d51,chapmanb,chapmanb@50mail.com,CWL: ensure umi_bam available for QC steps,2018-06-03T20:44:38Z,chapmanb
15f8ba89dbb04e2d4a295c620f89c15425b80786,chapmanb,chapmanb@50mail.com,"Improve handling of multi-normal batch samples

Ensure single elements for samples shared by multiple normal batches
during tumor/normal paired. Thanks to @ohofmann.",2018-06-03T19:52:50Z,chapmanb
ad0bccb681b307b5614eefa40c9496d8cdeeb093,chapmanb,chapmanb@50mail.com,"CWL: support for UMIs with merging, minimap and bbmap

- Ensure umi_bam files get handled consistently with align_bam to avoid
  list/single BAM errors with CWL runs.
- Allow UMIs with minimap2 and bbmap by correctly handling file extensions.",2018-06-03T11:14:25Z,chapmanb
b1a359c4ca0718fc1a8e1e059e2801c0a642bd06,chapmanb,chapmanb@50mail.com,"Improve ansible startup script for Google Compute

- Control boot disk size to avoid small inputs
- Better wait for SSH startup
- Add in Docker, Condor and dotnet for validation testing",2018-06-03T09:53:14Z,chapmanb
661dfb3c6e1596e2c0fa600eb31bdb7241091c45,chapmanb,chapmanb@50mail.com,CWL: pass umi_type to alignment and QC for UMI analysis,2018-06-02T09:59:03Z,chapmanb
1ef2a1cb9981cf70a0cd98b9080254a618fc310b,chapmanb,chapmanb@50mail.com,Docs: running CWL and ansible GCP automation scripts,2018-06-02T09:46:53Z,chapmanb
c51bc694b17cc54f27076e52d4b8d687e40c53a9,chapmanb,chapmanb@50mail.com,"peddy: support hg38; avoid ensemble calling issues

- Adds support for hg38 with peddy. brentp/peddy#44
- Capture low overlap failures during PCA analysis, skipping peddy run
- Avoids using ensemble inputs for peddy, instead preferring single caller
  outputs. chapmanb/bcbio-nextgen#2384",2018-06-01T09:31:06Z,chapmanb
45abd54e6ed9139f237c8bb5b94ccb9acd5cfced,chapmanb,chapmanb@50mail.com,"CWL: fix SV coverage errors when CNVkit not enabled

Avoids problematic outputs when missing CNVkit (and thus not calculating some
coverage metrics for CNV calling). Fixes #2406",2018-06-01T02:24:16Z,chapmanb
9d349225e85b5fe3dffab048a9795e044924d79a,Lorena Pantano,lorena.pantano@gmail.com,Add missing multiqc_data files and metadata.csv to final directory,2018-05-31T20:48:21Z,lpantano
ebf096ea43c6464403bd656a1081bc322746a0aa,chapmanb,chapmanb@50mail.com,Validation: include option to squash ploidy in rtg,2018-05-31T09:46:04Z,chapmanb
31d1cb2010f630fc39ba93194bc5a2c4e2f0b452,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2407 from matthdsm/patch-1

cromwell: torque qsub fix",2018-05-30T09:18:51Z,chapmanb
f5a7df23b21125b835ecdf4a627d65f662716a8b,chapmanb,chapmanb@50mail.com,Avoid complex circular import for callable regions,2018-05-30T09:17:38Z,chapmanb
0ed4110769f826360ec596025e5a34cb3fa5d2d8,Matthias De Smet,matthias.desmet@ugent.be,"fixed faulty torque flags

restored PBSpro options",2018-05-30T05:43:42Z,matthdsm
097da7f8acfe841395cfa5eb4fa88a7a7e40b326,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: parallel by regions

Expand previous parallel by chromosome to parallel by regions to avoid memory
and incorrect outputs with GATK HaplotypeCallerSpark (#2375). We now split
by region blocks trying to avoid very large regions as a way to mitigate
memory requirements and problematic VCF outputs.",2018-05-29T14:39:51Z,chapmanb
f6bc64cb8bb17d95af768b12c750a9698c8a8570,Matthias De Smet,matthias.desmet@ugent.be,"cromwell: torque qsub fix

removed invalid flags from cromwell torque job submission config",2018-05-29T11:59:33Z,matthdsm
54507c6c3765ce65b396d54071382ed5f2de6ebf,chapmanb,chapmanb@50mail.com,"RNA-seq: fastq quality conversion without trim

Ensures conversion of quality scores via groom if we don't have trimming
enabled (since trim also converts quality scores as part of a single process).
Fixes #2404",2018-05-28T09:55:43Z,chapmanb
c364dc6264e84663b1465a8b8f287b918fc18260,chapmanb,chapmanb@50mail.com,"CWL: improve Cromwell scaling on large sample sizes

Provide more memory for runner and longer timeout for
filesystem database reads.",2018-05-27T14:13:19Z,chapmanb
c6c78c64a952f82c37428a86879264442b8f9234,chapmanb,chapmanb@50mail.com,CWL: correctly include work_dir for local database setup,2018-05-27T10:59:13Z,chapmanb
479bca88e8638499418186d29d3b10011deb3ea6,chapmanb,chapmanb@50mail.com,CWL: avoid local file hashing with HTCondor,2018-05-27T10:29:16Z,chapmanb
1e6b048fa3dc247e1f6add23a55e2911dabd5332,chapmanb,chapmanb@50mail.com,"CNVkit: enable tweaking segment options with configuration

Allows specifications like:
```
resources:
  options:
    cnvkit_segment: [--method, haar]
```
to tweak CNVkit segmentation for exploration. Fixes #2402",2018-05-27T10:07:48Z,chapmanb
f3ddbe9f9a2e5578fd0c9edc5366125881c9a36d,chapmanb,chapmanb@50mail.com,"CWL: add Cromwell output transfer and debugging

- Transfer files into output directory, organizing by samples and project
- Improve debugging experience by summarizing failed calls at end of
  problem run.",2018-05-26T09:30:05Z,chapmanb
94addbf27c5b618f49ce839a2b001f69c50ec903,chapmanb,chapmanb@50mail.com,"CWL: add sample names to outputs

Enables organizing output into folders by names",2018-05-26T09:29:40Z,chapmanb
654e807559e5d7c0e99afa2f688d89b7c7ed9ce6,chapmanb,chapmanb@50mail.com,Default for upload directory; easier running of CWL/non-CWL from same configuration,2018-05-26T09:19:51Z,chapmanb
8f7120ffc56646d0c8ddd54528fbb02b5735d9e8,chapmanb,chapmanb@50mail.com,Prioritization: avoid errors if effects not available,2018-05-24T09:48:29Z,chapmanb
4e5790bad1443c0eba9afab745e2799863699d57,chapmanb,chapmanb@50mail.com,"validation: provide `validate_combine` summary flag

`validate_combine` adds together outputs from multiple samples into a single
validation. This is helpful for truth sets that contain large numbers of
targeted samples like the Pisces RAS FFPE dataset.",2018-05-24T09:34:17Z,chapmanb
df0abd3bb8df7776df3957a1c03fcfde55751b9a,chapmanb,chapmanb@50mail.com,"Pisces: fix contig header to include all contigs

Pisces default has only contigs in the regions called, which makes GATK
unhappy when merging.",2018-05-24T09:33:32Z,chapmanb
027aa1de7162347d9f7961b6ccba5980b4dc100e,chapmanb,chapmanb@50mail.com,"Initial support for Pisces tumor-only somatic caller

Pisces requires the dotnet runtime, so requires having it
installed outside of bcbio since it's not included in conda.
Initial work for comparison of tumor-only validations replicating
the Pisces paper.",2018-05-23T18:55:58Z,chapmanb
18d902c3bd26682bd4f8a3b75df5ad809edd5ce9,chapmanb,chapmanb@50mail.com,Cromwell: useful naming for HTCondor queue submissions,2018-05-23T11:44:14Z,chapmanb
d7e9c8ae6eb5d6026d34efe4d0d6b36ce177850e,chapmanb,chapmanb@50mail.com,"Avoid attempting to download pre-installed S3 genomes

We're moving to CWL for running analyses on AWS and the pre-created S3 tarballs
are no longer up to date. This avoids confusing error messages on local runs
when we can't find local data installations.",2018-05-23T09:33:04Z,chapmanb
924b0a2cc144f9c45ad39509f30499a35fa61a96,chapmanb,chapmanb@50mail.com,"snpEff: Provide consistent file representation

Consistently return snpEff information between CWL and older runs. Tries to
avoid issues with snpEff database generation during CWL from pre-existing
databases.

https://groups.google.com/d/msg/biovalidation/ejKh_hd-mvE/cP1xfzcSCAAJ",2018-05-22T15:31:45Z,chapmanb
9b7b99efdefa1a7ff7702c91a0a2590ef1428af1,chapmanb,chapmanb@50mail.com,"Avoid always filling variant_regions to prevent selection

Instead of filling in variant_regions, we now alternative use sample callable
regions in downstream analyses. This allows us to differentiate when
the config contains variant_regions for targeted/panel analysis. Avoids
additional selections during filtering Fixes #2401",2018-05-22T09:58:40Z,chapmanb
b76158ebd055c22e2be9a074555a2426713acb79,chapmanb,chapmanb@50mail.com,"CWL: general config support; add pointer to database

Enables usage of pre-created MySQL databases by passing in a
custom configuration. General to allow overrides of other part of the
bcbio Cromwell configuration preparation in the future.",2018-05-21T10:12:31Z,chapmanb
ec461df98c130d0e002a33de3aaf8cdd4ba9811f,chapmanb,chapmanb@50mail.com,"CWL: move parameter specifications into Cromwell conf

Avoids confusion of having parameters in multiple locations.",2018-05-20T09:39:06Z,chapmanb
486b2f555e2b60cd99c051c42ad1269b10aa460d,chapmanb,chapmanb@50mail.com,"CWL: support for HtCondor with Cromwell

Allows running local runs with HtCondor as a scheduler",2018-05-20T09:30:20Z,chapmanb
eade07f8bf541fa304d381b52c8711e2e2373fae,chapmanb,chapmanb@50mail.com,"CWL: output Cromwell metadata JSON for database extraction

metadata output file provides database information for querying final results
and debugging errors.",2018-05-20T09:28:44Z,chapmanb
9d04ae64c3ac8cf4540db19ae0762ed5ec7cfe0d,chapmanb,chapmanb@50mail.com,"CNVkit: run fix with multicore parallelization

Improves speed in normalize_sv_coverage based on profiling.",2018-05-17T14:09:07Z,chapmanb
f347dd09909facbf13fc3f62c3e8c94879939bf9,chapmanb,chapmanb@50mail.com,"CNVkit: scale segmentation cores to avoid memory issues

Work around memory over-runs with WGS segmentation, as a short term fix
etal/cnvkit#346",2018-05-17T09:33:48Z,chapmanb
f669b62302b92c528800efb281c7764a421c11a7,chapmanb,chapmanb@50mail.com,"Alignment: support for bbmap in variant calling

Supports bbmap as aligner for variant calling. bbmap does not appear to
take streaming fastq inputs so only supported for full
calling (`align_split_size: false`).",2018-05-16T09:41:08Z,chapmanb
f0286e41ce7178985fe416fcc7660fd22f3bf213,chapmanb,chapmanb@50mail.com,"Lumpy: remove bwa restriction check

Lumpy should work more generally now with smoove so remove aligner check.",2018-05-16T09:36:37Z,chapmanb
62283c788a98786824762735a4d70390d0338809,chapmanb,chapmanb@50mail.com,"CWL: Initial work on collecting final Cromwell outputs

Does not yet work without server/submit mode but putting in place as a step
towards support to collecting outputs in a final directory.",2018-05-16T09:26:20Z,chapmanb
c4950b5bd7c9ccb6eb36fe7029944e4cbbbe2f8b,Lorena Pantano,lorena.pantano@gmail.com,Update small RNA outputs docs [skip ci],2018-05-15T20:57:02Z,lpantano
3f5c5eb10f2427b6ea0f602645cad1429f56154a,chapmanb,chapmanb@50mail.com,Support for building bbmap genome indexes,2018-05-15T15:13:10Z,chapmanb
fb144bff5257eed07c250ccd99a09cc55b5a3948,chapmanb,chapmanb@50mail.com,"GATK HaplotypeCallerSpark: timeout improvements

Synchronize Spark timeout tweaks between recalibration and variant calling
to avoid Spark timeouts on busier clusters when having trouble accessing
a shared filesystem.",2018-05-15T15:05:13Z,chapmanb
325d5ce920b252be77f9fab7aad8faaa280b657a,chapmanb,chapmanb@50mail.com,Support for GRCz11 and Sscrofa11.1 genomes,2018-05-15T10:33:26Z,chapmanb
ae7cb4a4718ff177d5c879ce1a719e21e2591422,Lorena Pantano,lorena.pantano@gmail.com,"fastRNAseq: Create tx2gene file.

cc @roryk, in case I broke something else.
Thanks @mjsteinbaugh",2018-05-14T17:23:22Z,lpantano
2d975b0924cbb060519628eaecf2625186fc1b65,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: split GATK by chromosome

Try to avoid issues on longer running samples with spark HaplotypeCaller
by splitting jobs into more manageable chunks. This is a pre-cursor to
potentially better calling and parallization with CWL. #2390",2018-05-13T09:41:33Z,chapmanb
98eeebe1fa44580feeb5af17acb8e2738690ce28,chapmanb,chapmanb@50mail.com,"install: avoid some permissions errors when accesing ~/.conda

Only partially helps with #2398, see discussion in that thread on
environments.txt file hard coded to user directory.

https://github.com/conda/conda/issues/5388
https://github.com/conda/conda/issues/6748",2018-05-12T20:08:03Z,chapmanb
be6745611d9cb0e2ca3df38ed85994f81c93f6a6,chapmanb,chapmanb@50mail.com,"CWL: larger defaults for align_split_size, nomap_split_targets

Increases the size chunks for alignment and parallel variant calling for CWL
runs to better match the parallelization trade offs. We have more overhead for
scheduling and running jobs, and also provide more concurrent cores, so want
to have less overall chunks than older IPython bcbio runs.",2018-05-12T16:03:37Z,chapmanb
50c7b460d03181a1539c754fdf700f80ae213a0b,chapmanb,chapmanb@50mail.com,"CWL: unpack and clean up wf-input tarballs

- Remove of unpacked inputs on completion of runs, avoiding
  extra disk space usage for share filesystem runs.
- Clean up usage of unpack_tarballs for consistency.
- Remove creation of unused WDL outputs which is confusing in out directory.
- Handle non integer inputs to split sizes from some runners.",2018-05-12T10:10:18Z,chapmanb
11206ce01ba38ced852e70b251998e3112c33f01,chapmanb,chapmanb@50mail.com,"install: provide --cwldata for preparing tarballs

Creates CWL required tarballs as part of the data preparation
process to avoid needing to happen when building the first CWL.",2018-05-12T09:52:25Z,chapmanb
e5e52070051306f52da9c116fb627793765bc1d5,chapmanb,chapmanb@50mail.com,"CWL: prepare in-place VCF files, before adding to inputs

Avoids relative path errors when working with pre-prepared VCF inputs that
don't need extra processing.",2018-05-11T09:46:28Z,chapmanb
08bb552975e51f7e176b44e0ad30513b1b677c37,chapmanb,chapmanb@50mail.com,"QC: remove older bcbreport coverage, replaced by MultiQC plots",2018-05-11T09:45:21Z,chapmanb
c4ff8cce8df88603977c6a78e964cabc52bf8d1c,Lorena Pantano,lorena.pantano@gmail.com,Chip: Remove unused command for RiP calculation.,2018-05-10T19:48:05Z,lpantano
16540b94af1bbe8687cebae9804bc8d4a54dcae7,Lorena Pantano,lorena.pantano@gmail.com,Chip: use readstats to get RiP value.,2018-05-10T19:45:26Z,lpantano
311a30d667cd9775184f68b97ac3cd093449f15f,Lorena Pantano,lorena.pantano@gmail.com,Chip:Fix main peaks file from macs2.,2018-05-10T18:13:46Z,lpantano
debb2cbde8b651a3e9d6ad6abf781afb66d5c571,Lorena Pantano,lorena.pantano@gmail.com,Chip: Add RiP metrics.,2018-05-10T17:56:13Z,lpantano
dcf53d7b8af4664f3cd7feef8658dc2f021553ca,chapmanb,chapmanb@50mail.com,"CWL: fixes for Torque and PBSPro support

- Correct syntax for walltime defaults
- Fix job ID finding regex
- Fix command for finding job status",2018-05-10T09:34:48Z,chapmanb
9d5abc5f21dc4b687b6efe8492c5bf1a7bd6bd92,chapmanb,chapmanb@50mail.com,UMI: upload prepared UMI bam file to final directory,2018-05-10T09:34:13Z,chapmanb
58d6fcb619cf6be7800cb7a4cfaf0259d389e635,chapmanb,chapmanb@50mail.com,"QC: bring Picard QC up to date

Modernized Picard based QC metrics with adjusted names for HsMetrics,
better handling of input BED files, and fixes for recalibrated and other
generic inputs. Fixes #2360",2018-05-09T10:01:43Z,chapmanb
82e033701d5767f5c7a293f8b6168a6b3ecdcec7,chapmanb,chapmanb@50mail.com,"CWL: use soft-linking for Cromwell localization

Avoids hard-link logging noise on shared filesystems. Fixes #2396",2018-05-08T15:05:50Z,chapmanb
131c9615304a7e5bd27463fd1a2a04250ad55f18,chapmanb,chapmanb@50mail.com,"CWL: avoid creating snpEff database if missing indices

Avoids errors when creating tarballs due to directory nesting:
https://groups.google.com/d/msg/biovalidation/ejKh_hd-mvE/pC3JPRQ5BwAJ",2018-05-08T14:58:33Z,chapmanb
997e4bcf38a337d7c92470fb77a3955081ed192e,chapmanb,chapmanb@50mail.com,"CWL: run PBSPro/Torque in execution directory

Previous attempt at using sandbox was not correct, instead specify `-l wd`
to run in working directory, assuming Cromwell launches from there. PBS does
not appear to have an equivalent of a specific directory.",2018-05-08T13:09:15Z,chapmanb
96b38a6af5e19a2ec6a538aba6b7c572b06b2845,chapmanb,chapmanb@50mail.com,"CWL: avoid infinite loops when preparing tarballs

Provides useful context when having issues preparing input tarballs. Thanks to
@lbeltram

https://groups.google.com/d/msg/biovalidation/ejKh_hd-mvE/pC3JPRQ5BwAJ",2018-05-08T10:01:06Z,chapmanb
3ff5fa339aadd2a1bced3a0cc4fef9fa61935818,chapmanb,chapmanb@50mail.com,"CWL: support PBSPro noselect for Cromwell HPC runs

Enables support on PBSPro systems that don't support select in the same
manner as bcbio with IPython. Thanks to @ohofmann",2018-05-07T19:16:08Z,chapmanb
73d31ea8e48d3d262f6699b58d973d0098fff1d5,chapmanb,chapmanb@50mail.com,"CWL: improve documentation on install and run

Thanks to @lbeltrame and @ohofmann for feedback.",2018-05-07T09:37:16Z,chapmanb
43362540bf3f44da65d07217be96fd649b2f2b75,chapmanb,chapmanb@50mail.com,"CWL: update documentation and include Cromwell support

Update documentation on CWL running with current state of progress,
including detailing new support for Cromwell as a local and HPC runner.",2018-05-06T09:55:38Z,chapmanb
ab32c38c233d02a0bf4a275f5b4df0091434b383,chapmanb,chapmanb@50mail.com,"strelka2: apply consistent targeted/non selection with CWL/old

Apply selection criteria for --targeted flag inclusion in two cases:

- CWL: multicore larger regions
- old: single smaller regions

The smaller regions would not be consistently applied so reverts to previous
strelka2 behavior which validates better and avoids inconsistency.",2018-05-05T18:09:15Z,chapmanb
086018b9e20435349459ba2c423b1d7e74f73c38,chapmanb,chapmanb@50mail.com,"CWL: provide additional cache for SV analysis on Arvados

Avoids slow runtime issues with SV callers that access a BAM file multiple
times (observed with manta).",2018-05-04T19:35:57Z,chapmanb
a26f5f94e88e8689cd5a3af8d0df0589ccb2d031,chapmanb,chapmanb@50mail.com,"CWL: Cromwell file cache hashing and attribute handling

- Avoid md5 based file hashing, causing potential locks on HPC shared filesystem
  runs broadinstitute/cromwell#3584
- Avoid local Docker usage by Cromwell configuration instead of re-writing
  input CWL files, providing more flexibility for future usage.",2018-05-04T10:07:41Z,chapmanb
343972f5c644332319c979698330f8cb5e598e0e,chapmanb,chapmanb@50mail.com,"VarDict: avoid calling SVs with vardict-perl

Improve runtimes for small variant calling and avoid large events that
span outside of target regions, resulting in VCF merge issues.",2018-05-03T14:50:07Z,chapmanb
105b89475b766b30f88b762c6a00e2a76b190934,chapmanb,chapmanb@50mail.com,"VEP: support for older database builds; D rerio

Fixes #2389",2018-05-03T10:17:58Z,chapmanb
377f062602aef128b2825a875307d26095bb0808,chapmanb,chapmanb@50mail.com,"CWL: increase Cromwell local database connection timeout

Avoids timeout issues on shared filesystems when loading the restart
metadata database.",2018-05-03T09:36:49Z,chapmanb
faa777228a8a0c60d312972fffddf3cde6c8b0a4,chapmanb,chapmanb@50mail.com,CWL: Torque support for Cromwell,2018-05-02T09:10:38Z,chapmanb
22809be36a6005f63ce51e679cef971907a51863,roryk,rory.kirchner@gmail.com,"disambiguate removes nuisance reads.

The text made it seem like we only continue with reads
confidently aligned to only the desired genome. In reality
we remove reads that are confidently aligned to only the nuisance
genome.",2018-05-01T20:28:37Z,roryk
2e7a7756752e629e27ee8439161d9796b152b76a,roryk,rory.kirchner@gmail.com,"Allow arbitrary genomes for ChIP-seq.

Thanks to @evchambers for pointing out the issue.

Fixes #2385.",2018-05-01T16:51:04Z,roryk
0da936d1f585e708c76903b13810ee7bfc120941,chapmanb,chapmanb@50mail.com,QC: avoid checks for isfile on directory files,2018-05-01T13:53:38Z,chapmanb
4b56712a217aa4c57dfbe35940012b136171487b,chapmanb,chapmanb@50mail.com,"QC: avoid finding temporary files in work directories

Fixes #2386",2018-05-01T13:50:23Z,chapmanb
e4fc3fef2440c4c8cf76dbe621d17d22d8a56c62,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:add mirge to memory usage configuration.

thanks to @mshadbolt
github.com/bcbio/bcbio-nextgen/issues/2379",2018-05-01T13:34:31Z,lpantano
085acd04b2511936b3f9ad10e67f3476e59be3e5,chapmanb,chapmanb@50mail.com,CWL: support for PBSPro HPC in Cromwell,2018-05-01T09:40:15Z,chapmanb
4b94a0af4b2ee7e9246b714f470691bcc539fe5e,chapmanb,chapmanb@50mail.com,"manta: remove unneeded tweaks to runtimes

Fixed runtime issues via IO resolution on system so back off some of the more
aggressive changes.",2018-05-01T09:39:15Z,chapmanb
5643e04d6ec85d16276adbf26084dc7fd9b68780,chapmanb,chapmanb@50mail.com,"snpEff: cap memory usage to avoid >32bit segfaults

Avoids excessive memory specifications on larger machines that can lead
to core dumps.",2018-05-01T09:38:37Z,chapmanb
7f7e71fdff15d69cfe057d46cef6357e77d094fc,chapmanb,chapmanb@50mail.com,"CWL: support for SGE with Cromwell, generalized SLURM

Initial support for SGE running with CWL, including specifications of pename.
Generalize SLURM support adding the ability to specify accounts.",2018-04-30T09:42:31Z,chapmanb
9621bec6395efb0b6adeec96eb1104c5fd76e5b3,chapmanb,chapmanb@50mail.com,CWL: handle cached output from Cromwell with `value` set,2018-04-30T09:41:57Z,chapmanb
fb12a3e057d10a9f251a04b73579188eabb0b06d,chapmanb,chapmanb@50mail.com,"CWL: avoid Cromwell warning messages on local runs

Defines CWL attributes that Cromwell warns about to make run logs less noisy.",2018-04-30T09:41:14Z,chapmanb
bc51a4d56e1b9a1742f383bd93d2ff4dbdc3b4af,chapmanb,chapmanb@50mail.com,TitanCNA: fix typo for plot preparation,2018-04-29T15:28:19Z,chapmanb
ab23ae4d4753603d22bf3b5f0d3f5f8c829f6ff1,chapmanb,chapmanb@50mail.com,"CWL: support Cromwell disk-based workflow restarts

Creates standard file-based Cromwell database for a project, allowing restarts
of a project. Improves creation on non-Docker CWL to avoid re-creating
non-changed input files for re-use.",2018-04-29T09:34:57Z,chapmanb
b8df41070866f7beaaf4d2d9149830d268e12e3b,chapmanb,chapmanb@50mail.com,"SV: streamlined manta runs for noisy data

Removes remote chimeric read lookup to investigate if it improves
runtimes (https://github.com/Illumina/manta/issues/130#issuecomment-385037151)",2018-04-28T10:29:00Z,chapmanb
a7f44b25902419d2538a165704db29b5dc9d1410,chapmanb,chapmanb@50mail.com,"SV: fix plot upload for TitanCNA and Bubbletree

Thanks to @pdiakumis",2018-04-28T10:15:43Z,chapmanb
34c922998e49118a5b82be01d673545ebe44adab,chapmanb,chapmanb@50mail.com,"QC: avoid concurrent writes when updating read stats

Provides simple file locking around updates to the shared file of read
statistics to avoid concurrent writes causing corrupted files. Hopefully
still a short term fix until move to CWL and separate file creation. Fixes #2371",2018-04-28T09:57:09Z,chapmanb
b9bc5cc34dbedaf49ff41ca6249d49b3bb74e67a,chapmanb,chapmanb@50mail.com,Simple GEMINI annotation for mm10 #2382,2018-04-27T17:15:28Z,chapmanb
31817de22dea32a87c01c2b406858c6ec35773a0,Lorena Pantano,lorena.pantano@gmail.com,sRNA:Fix missing samples when running miRge. @mshadbolt,2018-04-27T13:41:14Z,lpantano
14b54cb6ea2333289b92c9aba864ab80d35561e0,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2381 from vladsaveliev/viral

Viral content: calculate coverage completeness instead of read counts",2018-04-27T09:52:22Z,chapmanb
7f78921347d788bcc1fefd78e0bcc16474ca8dc2,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2380 from vladsaveliev/tools_off_coverage_qc

Add `coverage_qc` to `tools_off`",2018-04-27T09:49:18Z,chapmanb
42a3be52223f6e3d4b9618356a52a13e5fa2467e,vladsaveliev,vladislav.sav@gmail.com,Viral content: calculate coverage completeness instead of read counts,2018-04-27T05:48:50Z,vladsavelyev
9c3c05e552edeca1bfc686512b16907c91f354eb,vladsaveliev,vladislav.sav@gmail.com,"tools_off ""coverage_qc"": add to docs and HISTORY",2018-04-27T05:46:28Z,vladsavelyev
88350e434b69ce0fae80725b723e6d4aa8f24dae,vladsaveliev,vladislav.sav@gmail.com,"tools_off option: ""coverage_qc"" to skip samtools stats and picard",2018-04-27T05:42:40Z,vladsavelyev
62353585c7857bc28dca86ac213614154618e33c,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:Fix error when lib is not set up for mirge.

mirge needs to be installed manually and
-lib needs to be set up to run mirge:
https://bcbio-nextgen.readthedocs.io/en/latest/contents/pipelines.html#smallrna-seq
thanks: @mshadbolt
https://github.com/bcbio/bcbio-nextgen/issues/2379",2018-04-26T11:47:20Z,lpantano
1083b6768511c20c5d006b0a49758fc6d3bb2167,Lorena Pantano,lorena.pantano@gmail.com,"sRNA: run atropos once with optional parameters.

https://github.com/bcbio/bcbio-nextgen/issues/2339

Thanks to @ahsen1402",2018-04-25T17:44:58Z,lpantano
4f34f93a059579f5dc6ff0cf8ee536606d66fe76,chapmanb,chapmanb@50mail.com,"CWL: avoid output align and snpEff from SV calls

Removes issues with snpEff databases being unpacked as part of SV
calling. These are no longer needed for downstream analysis.",2018-04-25T09:24:01Z,chapmanb
e5307f4aaeb1f9dce67b7a32c4f34d03d47e3f2b,chapmanb,chapmanb@50mail.com,"CWL: pass through original input file for precalled

Avoids copying over input which can cause issues on systems
that don't stage down all files.",2018-04-25T09:13:15Z,chapmanb
35cfc324d8fa9acec5a0c4b51de20de917129a46,chapmanb,chapmanb@50mail.com,"CWL: cromwell HPC submission fixes

Use `cpu` for getting core usage from runtime. Always skip turning on
memory assessment since it also causes main process to stall on HPC
submission runs.",2018-04-25T09:12:07Z,chapmanb
8fb2386ecd79d8721d3fb1863440f084baeb14fa,chapmanb,chapmanb@50mail.com,"CWL: initial Cromwell support for SLURM

Provides framework for HPC schedulers on Cromwell, including creation of
configuration inputs and setting command line options.",2018-04-24T10:27:07Z,chapmanb
bedec68df854f1f776a97a6c7dfab84b8bca1f49,chapmanb,chapmanb@50mail.com,CWL: initial support for running locally via Cromwell,2018-04-23T10:39:11Z,chapmanb
9fe7b38a5f41301df9ef2be60ce92a0d5babcf4f,chapmanb,chapmanb@50mail.com,"OptiType: fixes for file copying as part of run finalization

Adds HLA test with minimal input data from extracting HLA fastqs.",2018-04-22T10:53:52Z,chapmanb
c66d8badc8894d02bdaa31b1cb9c5a6c61553633,chapmanb,chapmanb@50mail.com,"strelka2: stratify by all intervals rather than per chromosome

strelka2 validations show that overall stratification by blocks, rather than
per chromosome, helps improve SNP sensitivity:

https://github.com/bcbio/bcbio_validations/tree/master/deepvariant#deepvariant-v06-release-strelka2-stratification-and-initial-gatk-cnn",2018-04-22T10:49:38Z,chapmanb
83fe2b0ee553fb99329e95dbcd859cdacfc1a98b,chapmanb,chapmanb@50mail.com,GATK4 CNN: generalize code for testing tensor types,2018-04-21T10:01:28Z,chapmanb
dfbcee0339e9bd0147eff2f8ef921824f7e84dc5,chapmanb,chapmanb@50mail.com,CWL: ensure hapmap and indels available for GATK CNN filtering,2018-04-21T10:00:49Z,chapmanb
43554b7b992987d4ea00e91a651a9b55056c9d04,chapmanb,chapmanb@50mail.com,SV: manta -- increase minimum size with polyx for slow runtimes,2018-04-21T09:59:36Z,chapmanb
0a3434afcc596ac5c248a50fac9d0b42d9a7ef53,chapmanb,chapmanb@50mail.com,CWL: include cbc solver in docker image,2018-04-21T09:58:52Z,chapmanb
3ad87b9e6f8c1b8e2539a5fe9e659d64951a8803,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:BAM files, samtools and qualimap metrics for all samples.",2018-04-20T16:56:44Z,lpantano
e12b91a64166351a6e3c4f4908f91e59255ed125,chapmanb,chapmanb@50mail.com,"Lumpy: re-enable annotation for all run types

Previous workaround is no longer necessary with fixes to snpEff and removal
of noisy breakends with smoove.",2018-04-20T09:53:27Z,chapmanb
f63ca398ca517441801c2947beb686fe2035d1bf,chapmanb,chapmanb@50mail.com,"CWL: pass and unpack snpEff to structural variant calling

Enables post calling annotation of events with effects",2018-04-20T09:51:27Z,chapmanb
e5c1bf5c59dce8454768d325732ddee9a19524b4,chapmanb,chapmanb@50mail.com,CWL: ensure optitype present in docker images for HLA,2018-04-20T09:48:59Z,chapmanb
2f72f9a62edce29dd3ee8fb65d0983ced8f249d5,Lorena Pantano,lorena.pantano@gmail.com,sRNA:Accept NNNNNNN as adapter to remove during trimming.,2018-04-19T20:14:17Z,lpantano
3a2939c8ea7c076206ac1046190b724d41ce9151,roryk,rory.kirchner@gmail.com,Add preliminary support for iCell8.,2018-04-19T20:08:14Z,roryk
935789f02db615531f8b43da4a06f2340edd8714,chapmanb,chapmanb@50mail.com,"CWL: ensure HLA outputs in current work directory

Do not write directly into staging directory since it is not shared
with the output process.",2018-04-19T04:09:41Z,chapmanb
29747b38c99dbf3dce0b626743f5d3345935eaab,Lorena Pantano,lorena.pantano@gmail.com,sRNA:fix final GTF name for mirna annotation.,2018-04-18T14:27:56Z,lpantano
da8db57dc9c99ccb9779af7ce6e29754365670dc,chapmanb,chapmanb@50mail.com,"manta: avoid calling small indels when filtering polyX

Noisy WGS inputs with polyX issues have excessively long runtimes
for manta calling, primarily due to small indels
(https://github.com/Illumina/manta/issues/107). Increase the minimum size to
reduce the number of events examined and manta runtimes when
exclude_regions: [polyx] set.",2018-04-17T18:56:40Z,chapmanb
13635521f0eecf7c8fcead2fb57daa1260b55169,Lorena Pantano,lorena.pantano@gmail.com,sRNA: add key for 4N protocol as 4N in adapters,2018-04-17T18:51:49Z,lpantano
b6bf58b773c365377073d47eaea8375fffe4e392,chapmanb,chapmanb@50mail.com,"CWL: correctly pass hlacaller to align functions

Turns on HLA extraction into separate fastq files needed for downstream
analysis.",2018-04-17T09:59:08Z,chapmanb
8c8db1545041d3b2442dfd9ff480dfa21b3a4612,chapmanb,chapmanb@50mail.com,"Trimming: add explicit polyg option for 3' NovaSeq trims

No longer have polyG trimming for atropos and fastp on by default, instead
adding if polyx or new polyg specified in adapters.

https://groups.google.com/d/msg/biovalidation/m2ADGlAG214/k98jthQ_AAAJ",2018-04-17T09:48:13Z,chapmanb
438f64d9b1915ee07c3b45062d51bd0b63cb9d99,Lorena Pantano,lorena.pantano@gmail.com,SRA:fix error when GSM doesn't exist in database.,2018-04-16T16:55:20Z,lpantano
2dbc13b4f77ec22b9281f0eda2308bf50de633a6,chapmanb,chapmanb@50mail.com,lumpy: better catch allowed error messages for test runs,2018-04-16T13:12:09Z,chapmanb
4fe08f28b39d3cfc9c451d26dff8d7436994f15a,chapmanb,chapmanb@50mail.com,STAR: enable passing custom options. Fixes #2368,2018-04-16T05:11:10Z,chapmanb
1c0514a90d5fad2ed736520236f38bc9d7567256,chapmanb,chapmanb@50mail.com,"CNVkit: ensure output files in SV work directory

Supports CWL where cnr inputs may be in staged directory instead of working
directory.",2018-04-15T09:42:35Z,chapmanb
b226b384f25e1328c72c8ed28eccf47337009d18,chapmanb,chapmanb@50mail.com,"CWL: fix HLA calling support with record wrapping

Ensures correct parallelism and batching of multiple samples for HLA calling.",2018-04-14T09:55:06Z,chapmanb
1bf3686e08f57f03b13b2cfe16b560f59bb67f4c,chapmanb,chapmanb@50mail.com,"DeepVariant Strelka2 support for custom target/genome

Calculates targeted versus genome metrics per region rather than per sample
to allow use of mixed whole genome and targeted inputs like in chr20 + exome
validation runs.

Improvements for DeepVariant to ensure tabix output indices always present.",2018-04-14T09:53:35Z,chapmanb
949acab511bf2ec51980cc38578db73d6f2d320c,chapmanb,chapmanb@50mail.com,GATK4: correctly check for tools_on for CNN,2018-04-13T12:52:59Z,chapmanb
8703c879378a6abb7740229428fd9ec4d34926db,chapmanb,chapmanb@50mail.com,"GATK4: initial support for CNN based filtering

Framework for using GATK's deep learning CNNs for filtering variants.
Needs testing on real datasets for speed and sensitivity/specificity.",2018-04-13T10:36:23Z,chapmanb
8531d8f6641e1ba7abd67a0ccdd3e20d1eef07ec,chapmanb,chapmanb@50mail.com,"Realign: avoid remarking duplicates

During merging after realignment duplicates are remarked, resulting in different
duplicate numbers and losing existing duplicates in addition to extra work
sorting. Instead we merge as is without re-duplicating, as originally
intended. Fixes #2366",2018-04-12T14:46:33Z,chapmanb
c975c7077a7dc2e345889611b2fc6dc2628b0b66,Lorena Pantano,lorena.pantano@gmail.com,SRA:skip if file not in ftp server.,2018-04-11T17:45:34Z,lpantano
bd03e259877d410045468046a949f6b9724605c5,chapmanb,chapmanb@50mail.com,"variant base recalibration: apply GATK resource requests

Correctly apply GATK resource requests if BaseQualityRecalibratorSpark will
be run, ensuring engine requirements match local java run. Fixes #2359",2018-04-10T13:35:01Z,chapmanb
bdd24661661438649355bf96d255f350a6670888,chapmanb,chapmanb@50mail.com,v1.0.9 release,2018-04-10T09:50:12Z,chapmanb
25168a9127504d91dc280762a4fda0c2fcea1ef5,roryk,rory.kirchner@gmail.com,"Turn on quiet mode during Cufflinks assembly.

Closes #2361. Thanks to @hilu2016 for pointing out the oversight.",2018-04-09T15:25:20Z,roryk
6a4ada05b590e16c792fd927967e4038258571d0,chapmanb,chapmanb@50mail.com,Add SURIVOR to CWL definitiol for validation,2018-04-09T13:50:33Z,chapmanb
03f83bf30e8e59eb3342e0077201b61d5cfb8baa,chapmanb,chapmanb@50mail.com,"SV: use smoove for lumpy variant calling

Replaces custom lumpyexpress and svtyper genotyping with parallelized and
filtered structural variant calling using smoove. Validations show improved
sensitivity, especially to non-deletions, and reduced numbers of spurious
inversions and other complex structural variant types:

https://github.com/bcbio/bcbio_validations/tree/master/NA24385_sv#smoove-validation",2018-04-09T10:04:06Z,chapmanb
318c15918cfd79843261bd9c6b458031419d32f3,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: multicore VarDict

Use multiple cores for VarDict runs to improve runtimes relative to GATK
HaplotypeCaller (which already took advantage of multiple cores).

Also fixes restarts when transcipt_assembler matches a local directory.",2018-04-08T09:59:49Z,chapmanb
0bf5806f44f6c39e7a9c97e833deb7367d16a827,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2358 from matthdsm/master

genomes: bumped Ensembl + version number",2018-04-06T13:09:16Z,chapmanb
429223e352a6e032a48ed7b41809ee3cea9f700a,chapmanb,chapmanb@50mail.com,"Ansible: improve GCP documentation and launch script

Provide details about necessary input files and include automated formatting
of input disks as part of launch process.",2018-04-06T10:04:29Z,chapmanb
9dadaef5e8278d5da459225158061e3251b26c77,Matthias De Smet,matthias.desmet@ugent.be,genomes: bumped Ensembl + version number,2018-04-06T06:28:02Z,matthdsm
9056e960696775c229245d8bcc6b01c3cfd69df6,chapmanb,chapmanb@50mail.com,"Docs: emphasize consistent tumor/normal variantcaller

Fixes #2356",2018-04-05T09:57:35Z,chapmanb
df7ef6bc63cbaa1da5bccf0929f8edf262364e20,chapmanb,chapmanb@50mail.com,CWL: avoid error when analysis not passed to prep_align_inputs,2018-04-04T09:25:11Z,chapmanb
b1c8e2a2ad8f3b77817347bef54c67282fc3feef,chapmanb,chapmanb@50mail.com,GATK: fix python 2/3 compatible error capture,2018-04-02T15:08:07Z,chapmanb
a148a5fa244da9fe081321cafc175e038b79d7b0,chapmanb,chapmanb@50mail.com,"BED cleanup, use standard python instead of pythonpy

Tries to report cleaner error messages without as much command line magic.
https://groups.google.com/d/msg/biovalidation/lEg8j8-ZLpU/gyd10zpUBAAJ",2018-04-02T14:09:21Z,chapmanb
706ef4c91594f06d7ac098827f976190c8e75f9a,chapmanb,chapmanb@50mail.com,"SV validation: make use of genotypes

Require genotypes for calls to feed into validations, ensuring consistent
comparsions between methods that select output variants based on non-ref/no-call
genotypes.",2018-04-02T09:51:04Z,chapmanb
f8e925835c9f20762708cc7da65b48d29c6997c8,chapmanb,chapmanb@50mail.com,"manta break-point-inspector: provide scaled memory

Ensure we pass memory specifications to BPI. Thanks to @ohofmann",2018-03-31T01:46:53Z,chapmanb
a5616e9ad747a05296317d332a3b80c81a837996,chapmanb,chapmanb@50mail.com,"SV validate: improve selection of merge sizes

Avoid having no overlap when truth set contains lots of small regions, like
the GiaB NA24385 validation set",2018-03-30T19:41:33Z,chapmanb
fad8715de4015ddf728f6d58c06ea6a67a05c1a6,chapmanb,chapmanb@50mail.com,SV validation: fix for FP counting,2018-03-29T20:15:48Z,chapmanb
ec653f61e0210dbba508f08b4dd2ac1b62afe0a8,chapmanb,chapmanb@50mail.com,"SV validation: use SURVIVOR merge

Replaces ad-hoc custom validation code for structural variant validation with
use of SURVIVOR merge, which flexibly handles multiple input types and
normalizes and combines calls within ranges.",2018-03-29T15:45:30Z,chapmanb
5ba6ca2dc9c0aaca648306ff021660463f1229da,chapmanb,chapmanb@50mail.com,"peddy: more flexibly catch ""not enough data"" errors

find errors when IndexError is not the last line:

https://groups.google.com/d/msg/biovalidation/lEg8j8-ZLpU/wJTB5hI8AwAJ",2018-03-28T18:14:25Z,chapmanb
cb1ad8d73e00dea2d135dc3f6cb87793d6447b1f,roryk,rory.kirchner@gmail.com,"Don't run UMI consensus for single-cell RNA-seq.

We can provide our own transform here, which was triggering
this check.",2018-03-28T17:23:48Z,roryk
0c12f78d55943bc0207f257aafe4479989289b76,chapmanb,chapmanb@50mail.com,Avoid creating fake grabix index if already exists,2018-03-28T12:12:44Z,chapmanb
9a6754e1ad4f07df5f9e7e8052aeefa62127069e,chapmanb,chapmanb@50mail.com,CWL: add logging output for cwltool runs for debug,2018-03-28T11:48:40Z,chapmanb
ffef0130cc16dbdccefa7a196d6ae6097bf163a9,chapmanb,chapmanb@50mail.com,Filtering messages to debug instead of info file,2018-03-28T11:48:19Z,chapmanb
76ec167b96232bf9c624c1e2615f6f62ecb77e58,chapmanb,chapmanb@50mail.com,"CWL: properly point to pre-grabix inputs in Docker

Thanks to @geoffjentry",2018-03-27T18:13:42Z,chapmanb
ae12f8115e830187ed240cf925c1a7e2506ded48,chapmanb,chapmanb@50mail.com,"Fix space separated input BEDs

Thanks to @ssaif",2018-03-27T14:58:13Z,chapmanb
31d8ff937f436241d3281de9383c7f320b78a3fe,chapmanb,chapmanb@50mail.com,SV: correctly fill in shorthand VCF validation files,2018-03-27T14:42:01Z,chapmanb
47826d978814fcd95f017e0ce94505c0560db7e7,chapmanb,chapmanb@50mail.com,Fix circular import during FreeBayes runs,2018-03-27T11:13:13Z,chapmanb
a49bcaa3ac269436f34e5e2425293af28cabd7f0,chapmanb,chapmanb@50mail.com,"CWL: add SV validation to workflow

Generalize validation combination and plotting functionality and make
available to CWL structural variant runs.",2018-03-27T09:57:31Z,chapmanb
519f9bc1806c2bc24c7ced1445fd1b0b03155a70,chapmanb,chapmanb@50mail.com,"VarScan: remove problematic SpvFilter

This helps with removing germline false positives but unfortunately will also
flag good quality high frequency variants in pure cell lines. Fixes #2345",2018-03-26T09:58:13Z,chapmanb
776ef06a8732b976428d1d354219d7d72978dd46,chapmanb,chapmanb@50mail.com,manta: fix for typo,2018-03-26T09:57:44Z,chapmanb
92fbb4d805b901310f17da856399d808bef557f0,chapmanb,chapmanb@50mail.com,Travis: avoid creating .cache due to permission errors,2018-03-26T01:39:18Z,chapmanb
0e2ef9220de334e0a5b5fcf35b8d935773fa8067,chapmanb,chapmanb@50mail.com,Travis: avoid creating .cache due to permission errors,2018-03-25T19:17:44Z,chapmanb
17971c48a75b6d7ee798678931bca748ed397177,chapmanb,chapmanb@50mail.com,"CWL: QC allocate single samples over joint batches

Avoids combining joint and multiple single sample VCFs when allocating to
QC steps.",2018-03-25T18:49:19Z,chapmanb
4b3c36097cb28c836f8adb97cda40adae06b433b,chapmanb,chapmanb@50mail.com,"mosdepth: back compatible with runs from pre 0.2.2

Pick up existing dist files from pre-mosdepth 0.2.2 releases. Thanks to
@ohofmann",2018-03-25T18:47:22Z,chapmanb
0c56d115eb51825e622ea872b61c125cb13a41db,chapmanb,chapmanb@50mail.com,"bcftools: support for sample:sub-field requirement in 1.7

https://github.com/samtools/bcftools/issues/757",2018-03-24T20:03:32Z,chapmanb
0a93cd9197b68c15a1441222ee5e2e7b46467827,chapmanb,chapmanb@50mail.com,mosdepth: support for changed dist names in 0.2.2,2018-03-24T20:03:00Z,chapmanb
5c921638e018b70a17b09a477429ea924039254c,chapmanb,chapmanb@50mail.com,sv_regions update target for 8c83cc116f17e0264af5bc32c108bc2027ab183e,2018-03-24T11:07:57Z,chapmanb
17aec84de40abb5621bc39a8bb2c544e677eec07,chapmanb,chapmanb@50mail.com,"Docs: add example for adjusting fgbio options

Thanks to @lbeltrame",2018-03-24T10:09:35Z,chapmanb
8c83cc116f17e0264af5bc32c108bc2027ab183e,chapmanb,chapmanb@50mail.com,"BED prep: avoid svregions race condition without seq2c

svregions was previously pre-prepped only when seq2c was part of configuration.
Thanks to @ohofmann",2018-03-24T10:08:41Z,chapmanb
8a76c9e546cb79621707082fd763bd643e0e9652,chapmanb,chapmanb@50mail.com,Avoid confusing error with empty BED test case,2018-03-23T18:28:09Z,chapmanb
55fb64cbbedf25edf986f5561ffb916e747587e0,Lorena Pantano,lorena.pantano@gmail.com,sRNA:better logging and miRge support.,2018-03-23T18:25:47Z,lpantano
c5afaee0538229af03f741a809bd48f9a57be18a,chapmanb,chapmanb@50mail.com,"GATK4: add useful error message if UCSC 2bit missing

Fixes #2344",2018-03-23T18:00:00Z,chapmanb
d89dc32e6ddab571c7e33312b088e4a314e5aa07,chapmanb,chapmanb@50mail.com,"exclude_regions: add altcontigs as target

Replaces custom `tools_on: [noalt_calling]` with `exclude_regions: [altcontigs]`
to provide consistent configuration with other exclusion approaches. The
old approach is still back compatible but undocumented and discouraged.",2018-03-23T10:02:07Z,chapmanb
150bdfa850a285d2eac6ba612a2283351e6b0d99,chapmanb,chapmanb@50mail.com,"atropos: avoid races with cached adapters

Thanks to @ohofmann",2018-03-22T16:46:03Z,chapmanb
9ac2c8df3ac1e48640fdfc149448079416b2f473,chapmanb,chapmanb@50mail.com,Doc: Fix mismatch parentheses in DNAnexus CWL app info,2018-03-20T18:09:11Z,chapmanb
189908b8a12da55b5edd7917b0f822aac94a7f84,chapmanb,chapmanb@50mail.com,"install: specifically require conda>4.4 for only-deps

Fixes #2340",2018-03-20T10:43:18Z,chapmanb
c026bbd36881f323b96b581802609e188ccae695,roryk,rory.kirchner@gmail.com,"Fix for Salmon with fast-rnaseq pipeline with no installed genome.

Fixes #2338. Thanks to @wenbinwei for opening up the issue.",2018-03-19T17:22:20Z,roryk
5bcd143151ca13b71898f9f7c0974c05db0674ac,chapmanb,chapmanb@50mail.com,"exclude_regions: include lookups for missing callers

Fix issues with mutect, vardict and structural calling where we don't pass
the items to look up exclude_regions.",2018-03-17T22:30:39Z,chapmanb
0aed7833be2727ee94a726039ef089176a6222fa,chapmanb,chapmanb@50mail.com,"CWL: add exclude regions to variant/SV runs

Allows exclusions of polyX, LCR and blacklist regions",2018-03-17T18:06:17Z,chapmanb
e33fa65a0069760737132e9750131c2073e73e4b,chapmanb,chapmanb@50mail.com,"Repeats: add support for removing polyX regions

Allows removal of polyX regions from target BED files during small and
structural variant calling, with support for human genomes pending
installs.",2018-03-17T10:03:21Z,chapmanb
1e0e90fc4b63852bd5ea4e0cc074bef41eca492c,chapmanb,chapmanb@50mail.com,"Centralize use of highdepth regions for SV, VarDict, FreeBayes

This improves the clarity and code around removing highdepth regions for
improving small variant and structural runtimes and results. Avoids redundant
calls and correctly document where it happens by default.",2018-03-16T09:55:36Z,chapmanb
9ec600cbc210b422fce2c0b1edd1ca452434550b,chapmanb,chapmanb@50mail.com,"coverage: avoid race condition with BED prep

Ensures we use pre-prepared BED files to avoid potential race conditions
when running over multiple machines. Thanks to Tristan Lubinski",2018-03-16T09:47:39Z,chapmanb
59dd08ec1cc9d8ff824ad77521ee095c470355aa,chapmanb,chapmanb@50mail.com,"CWL: fix assignment of VCF/BAMs to samples

Ensure we iterate though all choices for misassigned input BAMs and VCFs.",2018-03-16T00:35:40Z,chapmanb
57ca723ffdd8506e96a0fdce983abe8306af0f5c,chapmanb,chapmanb@50mail.com,"smallRNA: additional fix for no trim QC

Fixes forgotten import in 761257d1442fcac037b851e0859312ba937e7a29
Fixes #2334
Fixes #2335
Fixes #2311",2018-03-16T00:27:16Z,chapmanb
761257d1442fcac037b851e0859312ba937e7a29,chapmanb,chapmanb@50mail.com,"smallRNA: avoid atropos QC error with no trim

Fixes #2334",2018-03-15T13:27:25Z,chapmanb
17d8bb0623888a55a0c1b7ba52f1dd0f9d4dc5b4,chapmanb,chapmanb@50mail.com,"Add `exclude_regions` target to generalize region avoidance

Moves current `remove_lcr` target into a standard category called
`exclude_regions`. The old configuration value is still valid and back
compatible but no longer documented. All previous filtering behavior is
also back compatible but with increased ability to adjust in the future.

`exclude_regions` will include other targets for high depth, alt and polyX
exclusion during variant calling.

Generalizes code for removal of regions to avoid duplication.",2018-03-15T10:05:28Z,chapmanb
37b69efcc5b2b3713b8d5cd207cece4cb343380d,chapmanb,chapmanb@50mail.com,CWL: fix for qc_to_rec with no batches,2018-03-14T14:48:47Z,chapmanb
ebdeb2b63fab3052d7897ca50b81e2b91bae9eea,chapmanb,chapmanb@50mail.com,"CWL: move to file naming for QC allocation

Avoids needing files present and downloaded during qc_to_rec, with the
downside of relying on naming to allocate to QC samples. This avoids
space and download time bottlenecks in qc_to_rec when scaling up to larger
sample runs.",2018-03-14T05:10:26Z,chapmanb
c7c1b9a127072447b27c2999abcd67731a73d834,roryk,rory.kirchner@gmail.com,Upload RNA-seq variant index files.,2018-03-13T19:26:33Z,roryk
7dfb97c3efd95ea83fcdc2dd9957e68b6e9a8aba,chapmanb,chapmanb@50mail.com,"CWL: avoid heavy vc_rec object causing space issues

Removes large files from vc_rec: alignment BAMs, unneeded reference indices and
associated files. This avoids space issues on summarize_vc for systems that
download input files.",2018-03-13T10:20:17Z,chapmanb
8160571b312011b3ed3bc9dbbd00c6c471a6e94d,chapmanb,chapmanb@50mail.com,"RNA-seq: multiple cores for atropos trimming

- Allocates multiple cores for trimming since we have atropos multicore support.
  Fixes #2332
- Fixes for some broken RNA-seq tests",2018-03-13T10:14:58Z,chapmanb
11be7038db83f79d973177a214f1d0caf7d49a85,roryk,rory.kirchner@gmail.com,"--out -> --output. Fixes kraken.

Thanks to @choosehappy for the great bug report and the fix.

Fixes #2326.",2018-03-12T21:52:28Z,roryk
1fd74f9f427153525ade72c0f65d2f0c2465f537,roryk,rory.kirchner@gmail.com,Add vardict to RNA-seq variant calling resources.,2018-03-12T21:52:28Z,roryk
2d9d9420144948e1e9d49e5c4a4e4c45bf129c13,chapmanb,chapmanb@50mail.com,Remove debugging line,2018-03-12T18:42:18Z,chapmanb
f0c81086cbaf8f3050ca8e06d0bce6d08555ed0e,chapmanb,chapmanb@50mail.com,"CWL RNA-seq: add expression_caller default

Fixes #2328",2018-03-12T14:09:49Z,chapmanb
2ceeaa90534231489944e55c42e8c819c95664d6,chapmanb,chapmanb@50mail.com,"GATK4: improve GenotypeGVCFs speed with new-qual

Swaps to use improved speed in GATK4's new quality calculator. Fixes #2315",2018-03-12T13:50:00Z,chapmanb
aecdd31bc2b254d6f649b574044e89b96bf1ac56,chapmanb,chapmanb@50mail.com,"CNVkit: include background cnn in final directory

Fixes #2318",2018-03-12T10:31:19Z,chapmanb
1514961ded3f67b0f408d0b9c4e06ec064186585,chapmanb,chapmanb@50mail.com,Tests: avoid docker run error without background CNN,2018-03-11T10:40:48Z,chapmanb
39ca7b8161621cc4d29293d7e6c433e18a0a307d,chapmanb,chapmanb@50mail.com,Tests: polyX trimming and pre-built background CNNs,2018-03-11T01:24:08Z,chapmanb
028dd10f7240140c2aa4c17d7f24dc8d1fdb4270,chapmanb,chapmanb@50mail.com,"Trim: anchored, less aggressive polyX trimming

- Atropos: move away from aggressive --overlap 3 to --overlap 8 to avoid
  trimming very small matches to adapter
- Atropos: anchor polyX trimming to 3' ends of reads instead of cutting
  from middle of reads
- fastp: only enable polyX trimming if specified in adapters",2018-03-10T11:19:51Z,chapmanb
ad737968668b70e3a54e0ff56be7f566d9478266,chapmanb,chapmanb@50mail.com,"Install: avoid missing libgomp during upgrade

Fixes #2324",2018-03-09T20:28:37Z,chapmanb
5d67e672bc245cd2fdbae5b01a3fac83798e7bd8,chapmanb,chapmanb@50mail.com,Docs: generalize example applet script with template,2018-03-09T20:06:27Z,chapmanb
6bec00364e1a75d8725c60f6263f7e3d018145f7,chapmanb,chapmanb@50mail.com,Trim: use multiple threads for atropos bgzip output,2018-03-09T15:15:20Z,chapmanb
112d2550fffbfbad108ef3094563c0081714db57,chapmanb,chapmanb@50mail.com,Docs: point to bcbio organization repository,2018-03-09T11:17:56Z,chapmanb
077095e3c5da10e577ae21707bf93d49261fe7f0,chapmanb,chapmanb@50mail.com,"QC: correctly calculate VCF stats for inputs without PASS

Handles pre-computed inputs that use '.' instead of PASS in filter column.
Also fixes usage for gVCF inputs specified via tools_on in CWL.",2018-03-08T11:03:59Z,chapmanb
75eae7a46d7998ff9f013c64d92851da36d26f6a,chapmanb,chapmanb@50mail.com,"CWL: ensure VCFs allocated only to samples of interest

Avoid allocating to wrong samples when joint/pooled calling.",2018-03-08T11:02:58Z,chapmanb
d3af634d92a0339defb086335f27c933f3996214,chapmanb,chapmanb@50mail.com,"MuTect2: avoid errors with GATK3 missing samples

Fixes #2309",2018-03-07T20:53:11Z,chapmanb
3556ceb8c11fd44af63bd1046cf688d1458e3b9c,Lorena Pantano,lorena.pantano@gmail.com,CHIP:fix index generation after filtering,2018-03-07T18:12:12Z,lpantano
6d3f79cc94540f9ead0cfdaae564e3bbf0732ac9,Lorena Pantano,lorena.pantano@gmail.com,CHIP:fix typo in function,2018-03-07T15:45:02Z,lpantano
d4af35bc14a6a845c19a91a3294addc28dcb0a52,chapmanb,chapmanb@50mail.com,"Docker: improve build runtimes

Try to help with hub.docker timeouts with build fixes for
MultiQC/MultiQC_bcbio#20",2018-03-07T15:43:10Z,chapmanb
42def3b49c6304109ce4386306b1ca4154571c21,Lorena Pantano,lorena.pantano@gmail.com,DATA:add small RNA resources to hg38,2018-03-07T15:27:41Z,lpantano
3e6ee720659c0c7877ea3a3ca2ef72da8c1c0b8e,chapmanb,chapmanb@50mail.com,"CWL: qc_to_rec download for sample assignment

Requires download of files for qc_to_rec since we use them to correctly
assign BAM and VCFs to samples. Clean up checking code.",2018-03-07T14:09:22Z,chapmanb
9719db8a54f6aa4cfcb51d8775f17d590dcad93d,chapmanb,chapmanb@50mail.com,CWL docs: running DNAnexus applet via the command line,2018-03-07T13:13:19Z,chapmanb
a367dd81df5019ec7dc127c64438d577a7b148c0,chapmanb,chapmanb@50mail.com,"CWL: assign complex list inputs to samples

Ensure VCF and BAM files get associated with the proper samples when preparing
QC records from lists on multiple platforms. Fixes issues with incorrect
sorting on DNAnexus.",2018-03-06T15:24:56Z,chapmanb
ad33c99969c423510a624df4b792e150529a2727,chapmanb,chapmanb@50mail.com,"CWL: compatible types for noalign, vrn_file template

- Ensures noalign has compatible types for downstream runners like DNAnexus
- Fix typo for specifying input variation files in templates",2018-03-06T11:02:01Z,chapmanb
a62a2763acd4c344e2ad03cf30bd76327e80fc80,chapmanb,chapmanb@50mail.com,Install: ensure up to date conda before using --only-deps,2018-03-06T03:08:45Z,chapmanb
2d4fb9faba5d6a916a931490dedae2d2d12322a3,chapmanb,chapmanb@50mail.com,"Linting: check for mispelled top level keys

Avoids issues with extra keys not matching expected inputs. Fixes #2310",2018-03-05T16:45:56Z,chapmanb
f8369d0dd8b557fff4c9d258f135937e6c513ca0,chapmanb,chapmanb@50mail.com,"Docs: add example of preparing RNA-seq transcripts

https://groups.google.com/d/msg/biovalidation/XUcS7e5Yga8/ReFNBCl5AQAJ",2018-03-05T15:46:22Z,chapmanb
8be8f9cffe54d5090b229fa7f7e44a0262e49d09,chapmanb,chapmanb@50mail.com,fastp: enable trimming of smaller polyG stretches,2018-03-05T11:23:21Z,chapmanb
f1aad91bfd419cac5b58cab0cc45ba6d6a77b405,chapmanb,chapmanb@50mail.com,"Set pybedtools tempdir globally for variant calling

Avoid intermittent uses of `/tmp`, fixes #2294",2018-03-04T17:02:41Z,chapmanb
2e05f77424de5640a64e9640df9a0506bd22d0a1,chapmanb,chapmanb@50mail.com,"snpeff: only return major version for DB lookups

Fixes incorrect lookups for download. Fixes #2303",2018-03-04T16:17:54Z,chapmanb
8e2859ed80d501008e27fab493bf0f1871e922d5,Lorena Pantano,lorena.pantano@gmail.com,CHIP:use align_bam for QC metrics. Simplify keys in data dict.,2018-03-02T20:17:49Z,lpantano
59c72b7638d2dbe6e636278aac8512968412be62,chapmanb,chapmanb@50mail.com,"CWL: fixes for no align/vc pipelines

- Copy no-work alignment BAM to output directory since symlinks don't resolve
- Handle boolean type passing to sub-workflows, avoiding validation
  errors with cwltool.",2018-03-02T16:24:40Z,chapmanb
7552dc2d82022e4cc59d734ec9c2add3c538125b,Lorena Pantano,lorena.pantano@gmail.com,SRNA:turn on trim_reads if adapter is in config file,2018-03-02T14:37:49Z,lpantano
100638e96d014181efc742b140af577033bbe25a,Lorena Pantano,lorena.pantano@gmail.com,"CHIP:add bigwig files and organize code for cleaning bams

Now the filtering of the bam files happens inside the function
clean_chipseq_alignment, together with the bigwig conversion.
This way all the files go to upload folder for each
sample, chip and input without fancy code.

cc:@roryk, in case I break something",2018-03-01T20:56:24Z,lpantano
00281e188c04a6bad541d58713975de0d4475ad1,chapmanb,chapmanb@50mail.com,Improve resolution times for conda package installs,2018-03-01T15:27:01Z,chapmanb
64eeb0924fd375b4e7a1de6e77343246fb79ab8e,chapmanb,chapmanb@50mail.com,Avoid quiet in conda install to prevent Travis timeouts,2018-03-01T14:46:20Z,chapmanb
18ecd203fbbf28e572eab0cf0912290e8e2cde11,chapmanb,chapmanb@50mail.com,Travis: try to improve runtime for solving environment,2018-03-01T11:21:16Z,chapmanb
ef191744422efbebfa6570c2b9fd090273079163,chapmanb,chapmanb@50mail.com,"CWL: ensure samtools stats files passed to MultiQC

Also tries to start debugging what is going wrong with stalled Travis conda
install.",2018-03-01T10:59:31Z,chapmanb
2e3f867852d420f77473777dd8100bf3746c629f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2297 from naumenko-sa/master

A fix for SV validation plot",2018-03-01T10:58:14Z,chapmanb
8543985d5424ed67ef568f27ad28bf60f64c0426,naumenko-sa,evolgenomicslab@gmail.com,Fixes yticks labels for SV validation plot,2018-03-01T00:45:38Z,naumenko-sa
ec6af0572ac1c0e6ce08ec241808298126b997ff,naumenko-sa,evolgenomicslab@gmail.com,"Fixes yticks labels for SV validation plot: previously for 5 callers only 4 labels were plotted
	modified:   bcbio/structural/validate.py",2018-03-01T00:37:20Z,naumenko-sa
5ee25d91824977ab4905b094f1ffe5288d3e7a01,naumenko-sa,evolgenomicslab@gmail.com,Fixes tick labels positions on SV validation plot,2018-03-01T00:25:24Z,naumenko-sa
b86e277d666796f189869ab0e2ae0f51872557ae,Lorena Pantano,lorena.pantano@gmail.com,CHIP:Fix missing macs2 folder in final,2018-02-28T17:58:11Z,lpantano
d9eb99a96b0b8a175b3f5a963927b98c57de6827,roryk,rory.kirchner@gmail.com,"Fix typo for minimum_barcode_depth default.

From 100k to 10k",2018-02-28T15:39:18Z,roryk
6678383900cdc036ebab8b42d54d40c6ce7be8e9,roryk,rory.kirchner@gmail.com,"Update RNA-seq template with inline options.

Thanks to @skanwal for pointing out this is confusing for
onboarding new users.",2018-02-28T15:34:27Z,roryk
d19bd94a533225af8c4b94f6c9bb3fa1b11a367c,chapmanb,chapmanb@50mail.com,CWL: provide feedback when tarring inputs #2281,2018-02-28T12:58:03Z,chapmanb
50091863694d1fc6ef64f11267a3beb889f8b1aa,chapmanb,chapmanb@50mail.com,CWL: ensure pre-called VCFs included in QC output,2018-02-28T12:40:25Z,chapmanb
10942fa1ae3393b1bf1791857dc154a075440811,chapmanb,chapmanb@50mail.com,Docs: pointer at SV prioritization paper,2018-02-27T14:19:46Z,chapmanb
faffa2a5ba56defc93377c6cd704d2adb953b5d1,chapmanb,chapmanb@50mail.com,"TitanCNA: allow pre-called vrn_files as inputs

Cleans up pipeline to handle pre-aligned BAMs (passed as `files`) and
pre-called VCFs (passed as `vrn_file`) into a TitanCNA/CNVkit only
run. Fixes #2260",2018-02-27T11:17:20Z,chapmanb
60d2d1d1bd21d68900760a66b04d64320e787b83,chapmanb,chapmanb@50mail.com,Docs: point pre-aligned BAMs at faster bam_clean targets,2018-02-27T10:50:47Z,chapmanb
ab7ed775defcdf9429af2eeaadd3825ba1357085,chapmanb,chapmanb@50mail.com,"CNVkit: allow pre-built reference background cnn

Use pre-built reference CNN files for CNVkit normalization, allowing
pre-calculated inputs with:
```
algorithm:
  background:
    cnv_reference: /path/to/background.cnn
```
Fixes #2269",2018-02-26T10:59:58Z,chapmanb
fe3c5acb168485f31970517a0d5ccfa8490c776c,chapmanb,chapmanb@50mail.com,"Trim: support for fastp trimming

Work to improve input trimming speeds. fastp does not yet support bgzip
output so is not compatible with alignment splitting.",2018-02-25T10:32:55Z,chapmanb
715e2eab3f074cea2d974ebf662db6b093e1f0ac,chapmanb,chapmanb@50mail.com,"Skip initial sanity check for GATK < 3.6

Avoids Java 7 sanity check for older versions of GATK which is
increasingly unlikely and users will probably already have the correct
setup. Avoid slow startup times due to GATK version checking. Fixes",2018-02-24T10:12:58Z,chapmanb
85fb3d107bd6d9beab63aa7054da52b963249d8d,roryk,rory.kirchner@gmail.com,"Let `family_id` override `batch`.

Thanks to @ohofmann and @chapmanb for the discussion.",2018-02-23T21:57:16Z,roryk
d597178d941f6b4879eeaaf796fd6c55049760de,chapmanb,chapmanb@50mail.com,"Trim: support for polyG and polyX atropos trimming

- First steps in exploring general quality and low complexity trimming in
  variant calling to improve alignment and variant calling runtimes
- Add NextSeq/NovaSeq polyG cleanup option to atropos trims
- Add polyX target for removing any problematic adapter",2018-02-23T11:02:55Z,chapmanb
2763100c0e14c4c790d4a735c5dbad5fea88a47a,chapmanb,chapmanb@50mail.com,"CWL: pass effects to postprocess_variants

Allows turning off snpEff annotations. Thanks to @tfmorris",2018-02-22T21:04:40Z,chapmanb
755daf9d0f61463408777d0e1eb1daa6451b9e22,chapmanb,chapmanb@50mail.com,"align prep: skip grabix if no split alignments

Avoids extra grabix step if we have bgzipped inputs but don't need the index
for running split alignments.",2018-02-22T11:25:29Z,chapmanb
c3f7b9fc7404760982e3844715a4cdf57d99d232,chapmanb,chapmanb@50mail.com,"Fixes for noalt_calling without variant_regions

Correctly remove alt contigs from parallel regions (and thus variant_regions)
for WGS runs without pre-associated variant regions. Also cleans up
callable calculation process with modernized approaches. Thanks to @ohofmann.",2018-02-21T16:59:53Z,chapmanb
f82641634da49b6a0d13e86d71b84fbb9b4b8c57,chapmanb,chapmanb@50mail.com,Travis: increase timeout for install; slow downloads,2018-02-21T13:56:06Z,chapmanb
39f466a60de118dfbfbccd1c0b9e46ece9ac3c45,chapmanb,chapmanb@50mail.com,"CNVkit: initial target for adding reference data

Work in progress to support pre-computed background reference data for CNVkit
(#2269). Generalizes the background configuration parameter to allow dictionary
input with a `cnvkit_reference` target. Configuration name may change and not
yet actually hooked into CNVkit.",2018-02-21T10:45:51Z,chapmanb
abc7790dafa739dd204cb5030c14f1907143ced7,roryk,rory.kirchner@gmail.com,"Allow full PED specification in the metadata.

This adds maternal_id, paternal_id and ethnicity which were
missing as valid fields. Adds documentation describing how
to set these fields in the metadata. Thanks to @ohofmann for
the suggestion.

Fixes a missing comma in the MultiQC modules designation,
which was leading to peddy not being run.",2018-02-21T02:16:56Z,roryk
04e397f2aa9e90df6ab64fce920d571ab8c091f5,chapmanb,chapmanb@50mail.com,MuTect2: numpy import for AF calculations,2018-02-20T19:51:59Z,chapmanb
72e6ca797a4ca86ee0dbf99acc769d88589be970,chapmanb,chapmanb@50mail.com,strelka2: skip AF calculations on gVCF records,2018-02-20T15:53:51Z,chapmanb
6b15b54e7bbbae8f1ac965ff4ebcd272aa49cbfd,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2279 from vladsaveliev/minaf2

Strelka2 and Mutect2 MinAF check: use np.all to check multiallelic",2018-02-20T14:56:27Z,chapmanb
8a7767747b4609517b539c366552ea893215352a,vladsaveliev,vladislav.sav@gmail.com,Strelka2 and Mutect2 MinAF check: use np.all to check multiallelic,2018-02-20T02:30:06Z,vladsavelyev
024ae2f2d145b683e6b8ed935b5da24d44c8f542,chapmanb,chapmanb@50mail.com,"CNVkit: add specified gender to gainloss

Thanks to Alison Meynert",2018-02-19T14:56:48Z,chapmanb
2f4ab708a4c37c576a2a73e127946090d0d4ca2c,chapmanb,chapmanb@50mail.com,mutect2: return file on re-runs (#2276),2018-02-19T11:33:20Z,chapmanb
12c1edcf876fe7caabba4beb8452ef2260743d70,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2276 from vladsaveliev/minaf

Apply min_allele_fraction for Strelka2 and MuTect2 calls",2018-02-19T11:32:00Z,chapmanb
8f88968f14af972911b40308802b19dc96b9995f,chapmanb,chapmanb@50mail.com,"Docs: update SGE pename examples for multicore

https://groups.google.com/d/msgid/biovalidation/b4d65d07-960f-4908-9425-0ad374f6d0c0%40googlegroups.com",2018-02-19T11:16:08Z,chapmanb
6dfeb27cf36a96d9d09f28d5511ff15abe9512b9,vladsaveliev,vladislav.sav@gmail.com,Strelka2 AF calc: silent div by zero and replace AF=inf with AF=.0,2018-02-19T04:55:30Z,vladsavelyev
4c8578b291ac1552270bee327a9dc2dbbb69690d,vladsaveliev,vladislav.sav@gmail.com,Strelka2 AF refactoring: calc DP from AD for germline; avoid try-except,2018-02-18T13:09:24Z,vladsavelyev
1244bfd988efdf1c76d89c8762b274daea5cb91b,vladsaveliev,vladislav.sav@gmail.com,"Strelka2 and MuTect2: apply min_allele_fraction threshold
- Add Strelka2 FORMAT/AF field
- Add MinAF to FILTER in Strelka2 and Mutect2
- Simplify normalize.py:_find_existing_effects code
- Expose _add_filter and _remove_filter helpers into vcfutils",2018-02-18T13:09:24Z,vladsavelyev
439b2941a6cfbb0be258923e737e31b5d47612b3,chapmanb,chapmanb@50mail.com,"CWL: support no alignment input runs

Avoids running alignment sub-workflow entirely if alignment and cleaning not
used for a pre-prepared BAM input.",2018-02-18T11:29:58Z,chapmanb
5e3e041f5b8df3aab7a4d3a98875c797d47f5d07,chapmanb,chapmanb@50mail.com,"mosdepth: per-base reporting `tools_on: [coverage_perbase]`

Adds option to perform per-base reporting during mosdepth evaluation of
callable regions. Uploads callable and per-base (if enabled) files to the
final directory. Fixes #2272",2018-02-17T11:20:54Z,chapmanb
cf8758a09fc0ecf15c96c7bc32f598a69ff3166a,chapmanb,chapmanb@50mail.com,"CNVkit: handle non-gene annotated inputs

Avoids problems when input SV region files do not have gene information.
Fixes #2271",2018-02-16T11:09:54Z,chapmanb
63404dc1b3522c58bd322d270366564bdc7f76c5,chapmanb,chapmanb@50mail.com,"mark_duplicates: default to false for aligner: false

Swaps default to be smarter when aligner: false set and avoid doing extra
de-duplication. Most users expectation is that pre-aligned inputs are
de-duplicated and ready to feed into variantcalling/sv analysis.",2018-02-16T10:44:54Z,chapmanb
568ae82772167eafe28f4ce3a7177fd8bd57e927,roryk,rory.kirchner@gmail.com,Never call on alts when doing RNA-seq variant calling.,2018-02-15T22:19:11Z,roryk
7faf4854365f5b41e404f955fd6aac338afe01f2,roryk,rory.kirchner@gmail.com,Enable kallisto memoization for bulk RNA-seq runs.,2018-02-15T22:19:11Z,roryk
39cc1b6f2bbc8d80309b2c26db1baf4a5f620561,chapmanb,chapmanb@50mail.com,"Templates: modernize recommendations

Avoid setting defaults in variant templates and update recommendations for
alignment only calling and GATK4.",2018-02-15T19:09:01Z,chapmanb
0079a0466fad8aa1d6754f920d89e50d7d482c09,chapmanb,chapmanb@50mail.com,"BQSR: add spark workarounds to BaseRecalibratorSpark

Fixes #2252",2018-02-15T12:32:28Z,chapmanb
889bdc9b5147199060f9f150542b6a048cf1eb0d,chapmanb,chapmanb@50mail.com,"BQSR: fix Spark timeout issues; quality binning

- Avoid Spark timeout errors by ensuring communication on localhost and
  increasing timeout seconds to avoid interrupts during busy compute. Fixes
  #2252
- Bin quality scores from GATK4 to match pipeline standardization
  recommendations.",2018-02-15T10:59:25Z,chapmanb
9164cd92e843edd774d1f389f08a6340468880f8,chapmanb,chapmanb@50mail.com,CNVkit: avoid unknown genders to diagram,2018-02-14T18:43:16Z,chapmanb
4f198f4a861b7fec4d4c2d91f52e9b7406e27b9f,chapmanb,chapmanb@50mail.com,"CNVkit: avoid male check, pass gender #2267",2018-02-14T18:14:26Z,chapmanb
972da699b378222995d70c4561508049afd14caa,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2268 from etal/patch-2

cnvkit diagram: Fix chrX display for male samples",2018-02-14T18:13:29Z,chapmanb
9c6fcbe1a6f66ba6fd141fde5ff44130ac5c0f4a,Eric Talevich,etal@users.noreply.github.com,"cnvkit diagram: Fix chrX display for male samples

Per issue #2267 and following up on f008e6341d207867ec0a7d4ff3d75a27269f92ad, the `--male-reference` isn't needed here, but the `--sample-sex` option can still be useful, matching the `cnvkit.py call` usage.",2018-02-14T17:04:54Z,etal
ae16564e20042ba11c562bb05e44af3a0b1e61bb,chapmanb,chapmanb@50mail.com,Docs: add pointer for custom snpEff builds,2018-02-14T12:33:00Z,chapmanb
4489a2128a2774a1d29144989b8b6e7067c189d4,chapmanb,chapmanb@50mail.com,"GATK3: back compatibility for indel realignment

Fixes #2264",2018-02-14T10:37:05Z,chapmanb
0de9af30f3f542b4d7edd89f114a05df14ab30c3,chapmanb,chapmanb@50mail.com,manta: support noalt_calling,2018-02-13T02:07:07Z,chapmanb
78170588e4bd1146c174cb8c1eb9d74d080dd45e,chapmanb,chapmanb@50mail.com,RNA-seq variant: typo in vardict prep,2018-02-13T01:51:02Z,chapmanb
ca2b9cfd15720ac1c21e4cf8e3e2bc37792ac0e9,chapmanb,chapmanb@50mail.com,"TitanCNA: skip Rplots if not present

Thanks to Peter Diakumis",2018-02-12T14:51:30Z,chapmanb
6f995007f13c9ab0030469f972948a104b136f90,chapmanb,chapmanb@50mail.com,"RNA-seq variant: correct temp file usage

Correctly use local temporary directories for variant BED cleanup
to avoid permissions errors. Thanks to Suraj Menon",2018-02-12T14:43:41Z,chapmanb
7233bf7e8ba782226d8bd32570ec4c86acb2d2fb,chapmanb,chapmanb@50mail.com,"Python3: more explicit about input tuple, fix test",2018-02-12T14:23:22Z,chapmanb
09afd51abd0eb806b8eacb7664323f65c3eb6623,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2262 from smoe/Python3_incompatibilities

Small adjustments for Python3",2018-02-12T14:21:28Z,chapmanb
a4b236d87ca573f0e8e6d4e50d453402e25cd8f6,Steffen Moeller,moeller@debian.org,Added () and explicit use of arrays as parameter,2018-02-12T11:11:12Z,smoe
18954004a02be559f8f74ec0043869a8152132bd,chapmanb,chapmanb@50mail.com,Tests: modernize devel and RNA-seq variant calling,2018-02-11T11:14:15Z,chapmanb
1ba467b399b9582ae064d3ddba1cd19c520b2084,chapmanb,chapmanb@50mail.com,TitanCNA: provide conversion to VCF output,2018-02-10T10:54:51Z,chapmanb
f8a9dd15bf9541ec7f087652df118a2783f84885,chapmanb,chapmanb@50mail.com,"Tests: swap to GATK4 germline, TitanCNA SV",2018-02-09T18:30:07Z,chapmanb
764e52851aee0a2bdc041e1972cec47de194d0a4,chapmanb,chapmanb@50mail.com,"GATK4: support GatherVcfs with tools_off: [gatk4]

tools_off: [gatk4] applies to variant calling, BQSR and other
algorithmic steps, while we want to use GATK4 consistently for VCF
merging and management, replacing the older gatk-framework.
This fixes merging for the tools_off case. Fixes #2258. Fixes #2257",2018-02-08T14:43:26Z,chapmanb
06302193cde7e6cdbd2c05f4387ad9bd9c7e9ee2,chapmanb,chapmanb@50mail.com,"CNVkit: handle mixed cnvkit, no cnvkit projects

Correctly avoid calling on samples not included in projects when
have mixed usage of CNVkit. Fixes #2254",2018-02-08T11:17:59Z,chapmanb
cadefab83777909616ee029e4474a6b7fcfb2a6f,chapmanb,chapmanb@50mail.com,Doc: adding snpEff databases to custom genomes,2018-02-07T14:10:11Z,chapmanb
cdd4bb16518c20d7dbdde0114a8e890ba1cdbe1d,chapmanb,chapmanb@50mail.com,"BAM clean: bai indices for extra contig removal

Ensures input BAMs have bai indices using a local symlink to avoid
potential permission errors in the initial directory.",2018-02-06T10:46:37Z,chapmanb
29d2b35fdd03611ea96484e067e5316b2027bde7,chapmanb,chapmanb@50mail.com,"Tests: avoid import errors on raw GitHub clone

Adds version.py file if missing to avoid errors when setting up
tests. Thanks to Tristan Lubinski.",2018-02-05T19:16:27Z,chapmanb
4391bb53ebd21b7cc33fe6f964576cc78737183a,Lorena Pantano,lorena.pantano@gmail.com,sRNA:avoid filling path for expression_caller option,2018-02-05T16:12:46Z,lpantano
df123927d940e9fd28953f8ea169cef51a864be8,chapmanb,chapmanb@50mail.com,v1.0.8 release,2018-02-05T10:50:26Z,chapmanb
5a22c0f2f24440767e2d69da54cc217557cbcee1,chapmanb,chapmanb@50mail.com,Remove unused test conda requirements file,2018-02-05T10:42:03Z,chapmanb
174a15fc115abb1546421ae533a05ddf595c65dc,chapmanb,chapmanb@50mail.com,"oncofuse: skip analysis if junction file missing

Thanks to Ivan De Dios

https://groups.google.com/d/msgid/biovalidation/72b8219b-471c-4811-8b81-0fd50d24c456%40googlegroups.com",2018-02-03T20:49:19Z,chapmanb
718f480f335c9cf67f837136cfbe7fe590c0c06e,chapmanb,chapmanb@50mail.com,"CWL: version pins and updated tools

Remove gatk-framework and pin tools required for version conflicts,
mirroring fixes in cloudbiolinux.",2018-02-03T11:25:40Z,chapmanb
7bc4e23a10a92e902578defa8e64956406d72518,chapmanb,chapmanb@50mail.com,"Docs: improve description of bcbio_system

Avoid overemphasizing editing of bcbio_system in favor of sample
specific resources. #2248",2018-02-03T11:15:14Z,chapmanb
cabb45ca3909c2f44ad907b64ff8386e582f4dcd,Lorena Pantano,lorena.pantano@gmail.com,"sRNA: Fix unasigned variable error if trim_reads disabled

https://github.com/chapmanb/bcbio-nextgen/issues/2250
Thanks @mshadbolt",2018-02-02T23:13:36Z,lpantano
eccd59ff7b4d00efb23b9957b3463c2ae3e0837e,chapmanb,chapmanb@50mail.com,"RNA-seq variant: remove subset to standard chroms

After debugging, turned out to be unrelated to issue #2249",2018-02-02T18:27:21Z,chapmanb
7477a1ef9c7df66ffe740d67cc702121cb11a447,chapmanb,chapmanb@50mail.com,"install: make nomkl an option for install

Do not require nomkl but add an option to use it if disk space
reduction is needed. Fixes #2246",2018-02-02T16:50:35Z,chapmanb
941f843a3dd772081afd61a9b112e1054a9001dd,chapmanb,chapmanb@50mail.com,"GATK4: use plain VCFs for HaplotypeCallerSpark

HaplotypeCallerSpark does not support bgzipped outputs and raises
an error in 4.0.1.0. Correctly write and bgzip and ensure
better error handling.",2018-02-02T11:12:34Z,chapmanb
125f327e32eeb4054867e316e33fdffdc3bad741,chapmanb,chapmanb@50mail.com,"VQSR: truth sensitivity argument for GATK4

Thanks to @ohofmann",2018-02-02T01:02:08Z,chapmanb
025df41bcbbf77c1ca8e7da04d47aee91db4faaf,Lorena Pantano,lorena.pantano@gmail.com,sRNA:fix times argument in trimming,2018-02-01T21:08:11Z,lpantano
c9dce8c010580602408885d3bbece98be7f7ee5c,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:skip dnapi if trim_read: false

thanks to @mshadbolt

github.com/chapmanb/bcbio-nextgen/issues/2247",2018-02-01T21:05:49Z,lpantano
37bebdfafda6334f4e52729a10093c582f6924d3,chapmanb,chapmanb@50mail.com,"RNA-seq: support variant_regions and noalt_calling

Allows limiting variant calling to specific regions or avoiding
calling on non-standard chromosomes (1-22,X,Y,MT). Helps with
runtimes with rRNAs in GL* chromosomes. Thanks to @ohofmann
and @vladsaveliev",2018-02-01T11:27:13Z,chapmanb
b2a03fc6b660e2efce6cf3dc47ecaccdae317161,chapmanb,chapmanb@50mail.com,"GEMINI: separate symlinked effects decomposition

Follow up to
https://github.com/chapmanb/bcbio-nextgen/commit/c575ab3f8012f83cfc490be0c766cb4ec634e7f6
which also names the symlinks correct for effects and no effects.
Fixes #2225",2018-01-31T20:07:20Z,chapmanb
584bdbb8809faedf134ed2f97d66a1208559ad32,chapmanb,chapmanb@50mail.com,"GATK4: replace usage of gatk-framework

Removes the older GATK3-based gatk-framework usage, replacing with
equivalent GATK4 and Picard commands. This keeps VCF support current
and avoids maintaining and downloading the older framework code.",2018-01-31T14:02:10Z,chapmanb
cd31ae63b71ec0e98d305f4530d3e51cd9a1dd9c,chapmanb,chapmanb@50mail.com,"GATK4: fix login issue with Spark and Docker

Docker containers get run as an external user ID which might not
be present in the internal container /etc/passwd, causing login
errors when running Spark. This checks for this case and allows
adding the user to avoid the issue.",2018-01-31T10:35:49Z,chapmanb
73fece6597c6ccb824ad8ef6765c4af92ae1ac70,chapmanb,chapmanb@50mail.com,"RNA-seq vardict variant: ensure bgzip index

https://groups.google.com/d/msgid/biovalidation/d27fcd5c-842b-4a2b-989e-d185c3c53338%40googlegroups.com",2018-01-31T01:54:42Z,chapmanb
5ae786416ef2ebc6d0b2df3ef89a8ffa5070b86e,Lorena Pantano,lorena.pantano@gmail.com,Fix typo in atropos log parsing,2018-01-30T20:31:33Z,lpantano
a8e669c8dd247de4d6d598fa76dbc8efc50f4fa3,chapmanb,chapmanb@50mail.com,"RNA-seq variant: only annotate standard chroms

Avoids vcfanno errors on non-standard chromosomes. Fixes #2135
https://groups.google.com/d/msgid/biovalidation/dce89a1e-50fb-439c-9aeb-d69a030ac0b0%40googlegroups.com.",2018-01-30T11:22:36Z,chapmanb
68b89144fbd50ff02bf07b6959f23cb488e9a0db,chapmanb,chapmanb@50mail.com,"ensemble: limit effects cleaning to annotated VCFs

Avoids issues with empty or `effects: false` input VCFs.

Thanks to Ivan De Dios
https://groups.google.com/d/msgid/biovalidation/fb4bbf96-4c1f-4d34-9a9c-73e966439276%40googlegroups.com.",2018-01-29T11:00:14Z,chapmanb
dc5100fefbbed50f743c19d17d0eca619869bdb7,chapmanb,chapmanb@50mail.com,"CNVkit: latest devel support in segmetrics

segmetrics code requires metrics from each category",2018-01-29T10:59:35Z,chapmanb
a6cbc9f36207f6f5ce5d9675617c7cfca48371c8,chapmanb,chapmanb@50mail.com,RNA-seq variant: pass through annotated filtered VCF,2018-01-28T11:03:35Z,chapmanb
d79ef858b63469fd1ef9e5476dfbce32fb0f85e8,chapmanb,chapmanb@50mail.com,"Docs: supported genomes for oncofuse, ericscript

Fixes #2239",2018-01-28T10:42:34Z,chapmanb
4425e165f9f85026729a87e4829166ba9ed2ea83,chapmanb,chapmanb@50mail.com,"RNAseq: correctly assign joint called VCFs

Ensure joint called VCF placed in final project directory and individual
sample gVCFs in sample directories. Fixes #2238. #2239",2018-01-28T10:40:46Z,chapmanb
40a616c802fcdd0c7ea3a62f377c1bff046cb692,chapmanb,chapmanb@50mail.com,MuTect2 GEMINI skip: link to GitHub issue,2018-01-27T11:29:40Z,chapmanb
8003b4604c828225e2db3cd82e9f7e69a135329a,chapmanb,chapmanb@50mail.com,"Docs: simplify and modernize tumor normal example

Avoids using new non-default options and manually installed callers
like MuTect to improve initial experience. Thanks to @ohofmann",2018-01-27T11:15:13Z,chapmanb
a7819abb9a8d78761e376ab48bf04777a3aa1a8c,chapmanb,chapmanb@50mail.com,"CWL: ensure mark duplicates in work directory

Avoids issues for only mark duplicate workflows where alignment inputs
are in staging directory.",2018-01-27T10:42:25Z,chapmanb
c0411548362929e33dff7af217524aaff9b7e886,chapmanb,chapmanb@50mail.com,"align: scale cores for non-split alignment sorting

Avoids memory issues on restricted machines for whole genome runs where
bwa + bamsormadup result in memory overuse on 4Gb/core machines.",2018-01-27T10:41:23Z,chapmanb
c575ab3f8012f83cfc490be0c766cb4ec634e7f6,chapmanb,chapmanb@50mail.com,"GEMINI: separate decomposition from ensemble

Separate two types of decomposition:

- ensemble prep with removal of previous effects definitions
- GEMINI prep that retains effects

Avoids issues when using both simultaneously. Fixes #2225",2018-01-26T21:23:33Z,chapmanb
093d84f3747d71f09a2c0de318ea164848e53d57,chapmanb,chapmanb@50mail.com,Docs: link to presentation with Park lab,2018-01-26T11:27:51Z,chapmanb
1943ce12606cbd22de17440da4c131bd1d510e86,roryk,rory.kirchner@gmail.com,Add missing work directory creation.,2018-01-25T23:02:30Z,roryk
46dea8540a3239daae6659869f6d13b92fb97877,Lorena Pantano,lorena.pantano@gmail.com,sRNA:Improve metrics,2018-01-25T16:16:47Z,lpantano
e0b1c6fb214efda08b16a8128b38b969a108c986,chapmanb,chapmanb@50mail.com,"GEMINI: skip database creation of MuTect2

MuTect2 output contains non-diploid calls for multiallelic low
frequency calls. These cause database creation to fail so we skip
for now, but do create annotated VCFs with vcfanno for direct use.
Fixes #2231",2018-01-25T10:49:08Z,chapmanb
4cd4c272119a42c6e98e2c2e8a3aeb3bb4a087ee,Lorena Pantano,lorena.pantano@gmail.com,Add mirtop annotation,2018-01-24T20:21:08Z,lpantano
c672c2c3f0fff17a21b9714cad231c81ffcec255,chapmanb,chapmanb@50mail.com,"RNA-seq variant calling: improve GATK4 integration

- Full integration with GATK 4.0 allowing use of Spark multicore
  calling on parallel multi-machine runs. Fixes #2229 Fixes #2189
- Correctly uses full path for call output. Fixes #2233
- Uses GATK4 tools for filtering and preparation steps, removing
  GATK3/gatk-framework requirement for forward compatibility.",2018-01-24T13:00:33Z,chapmanb
3eefadd102296f65d6b9ea5736c2ece91475ffae,chapmanb,chapmanb@50mail.com,"GATK: better identify incomplete GenomicsDB runs

Identify more partially finished runs for removal on bcbio re-runs.
Fixes #2232",2018-01-24T10:40:15Z,chapmanb
73c6c32e59f3c0c1fdc1bcfa6703cd8e4107e3e7,chapmanb,chapmanb@50mail.com,"CWL: ensure we don't flag no download accidentally

Avoid having zero indirMin specifications if a step that needs download
doesn't have any pre-existing input files we know sizes for. Fixes
MultiQC download issues.",2018-01-24T10:37:46Z,chapmanb
1c9c4c67f51d0a27f6fd5b13f6cc6e92381a4964,chapmanb,chapmanb@50mail.com,"noalt_calling: avoids non standard chromosomes

Avoids using non-standard chromosomes in region analysis so these
get skipped during variant calling. Tries to improve slow runtimes
on alternative chromosomes and improve evenness of parallelization.
Thanks to @vladsaveliev and @ohofmann.",2018-01-23T17:06:27Z,chapmanb
9c43ba804faea13bd61b974c556dc4ef0ddea99a,chapmanb,chapmanb@50mail.com,"GATK: fix no read regions to HaplotypeCallerSpark

Handles issue where HaplotypeCallerSpark fails on regions
without any reads (https://github.com/broadinstitute/gatk/issues/4234),
writing an empty VCF.",2018-01-23T15:33:31Z,chapmanb
72a55ac3abedc3c358e48fc1ed7717b6d74c5019,chapmanb,chapmanb@50mail.com,"CWL: avoid bai/tbi indices if not present

Generalizes lookup of secondary file existence and only add to CWL
when present. Includes lookups for both bai and tbi indices which
were previous assumed. Thanks to @tfmorris",2018-01-22T16:26:35Z,chapmanb
0fa5df5ab8a67b362376a0342385b5702b5e23c9,chapmanb,chapmanb@50mail.com,GATK4: update VQSR arguments for 4.0.0.0,2018-01-22T14:43:59Z,chapmanb
d027e0c5ee728020b0099b880a3b112bdf24b848,chapmanb,chapmanb@50mail.com,delly: support 0.7.8; calls all svtypes together,2018-01-22T14:43:02Z,chapmanb
ffbb0bcd5b68eb698ccaaacd28ce6a2074638315,chapmanb,chapmanb@50mail.com,Travis: avoid bunny pinning with new release,2018-01-22T14:39:31Z,chapmanb
5ceaec7e1241510c61604f627fc23dd2c5701a57,chapmanb,chapmanb@50mail.com,Arvados: generalize script summarizing runtimes,2018-01-22T10:56:53Z,chapmanb
0fb5cc1be2ed55f919ede9ce52c8a1b71e084200,chapmanb,chapmanb@50mail.com,"install: fix old version, libquadmath.so

- Avoid resolving old versions of bcbio. ipython-cluster helper with
  conda 4.4.
- Try to work around missing libquadmath.so when updating from
  libgcc 5.x to 7.x, since libquadmath.so moved to libgcc-ng

Thanks to @vladsaveliev @ohofmann @scatreux",2018-01-21T21:24:07Z,chapmanb
9aef0f904fec0a5fa8a7c54506677e2683b65e2f,chapmanb,chapmanb@50mail.com,"Ensure correct java used for picard FixVcfHeader

Fixes #2228",2018-01-21T18:11:45Z,chapmanb
305935c919f995cba30a39579ff7dce03984164c,chapmanb,chapmanb@50mail.com,"CWL: initial support for funnel + bunny

Provides a runtime target for testing funnel and bunny using funnel
at the TES executor and bunny for runtime jobs. Not yet working
on test datasets due to command line quoting but in place for
testing and improvement. Thanks to everyone for discussions at Codefest.",2018-01-21T11:04:07Z,chapmanb
2e5c85b48cb1a3c4e559a18890e1f3cc80875ad0,chapmanb,chapmanb@50mail.com,Ansible: ensure update to get latest simplejson,2018-01-20T10:50:05Z,chapmanb
9ff4f97acc7f7c85d1527d9a544235bc99454474,chapmanb,chapmanb@50mail.com,CWL: correctly name bunny log file,2018-01-20T10:49:47Z,chapmanb
62115cf613de561f4c011227f4806cd004c5ac69,chapmanb,chapmanb@50mail.com,"sort: use bcbio defined temporary directory

Avoids issues where global TMPDIR is full or not accessible.
Fixes #2226",2018-01-19T15:27:41Z,chapmanb
4ecb6ad3bcabb6ee90c90bcb68910e7c688fe6d4,chapmanb,chapmanb@50mail.com,"CWL: identify steps not requiring file access

Specifically flag steps in the process that rearrange inputs and do
not require file access by specifying the custom indirMin parameter
to zero. This allows DNAnexus dx-cwl to skip pre-fetching of files
improving runtimes on these steps.",2018-01-19T10:40:26Z,chapmanb
a9ff19c61d967a98fc252f37eb46d116191d5cdc,chapmanb,chapmanb@50mail.com,"GATK4: fix for plain text bgzip output

Correctly relabel out_file as well for bgzipping",2018-01-19T02:15:23Z,chapmanb
6dc338788026b5bc707b5200ef43c849d656d343,chapmanb,chapmanb@50mail.com,"GATK4: HaplotypeCallerSpark workarounds

- Work around issues in 4.0.0.0 with plain text output for
  empty regions: broadinstitute/gatk#4197
- documents GenomicsDB issues with longer path names
  broadinstitute/gatk#4160",2018-01-18T10:31:56Z,chapmanb
113ab514bd6ebe5bcafd6fd7e5c284a43bec246d,roryk,rory.kirchner@gmail.com,Fix typo.,2018-01-17T17:52:40Z,roryk
7fa4fb68a864f83623698b7e804c2cef75937bf1,chapmanb,chapmanb@50mail.com,peddy: only return output files that exist,2018-01-16T14:50:32Z,chapmanb
a815b02058bc819c1b3219a3278f45545c42ea7f,chapmanb,chapmanb@50mail.com,"CWL: enable tagging of Docker/containers

Provides ability to lookup or specify a specific container tag to
add to generated CWL output. This pins CWL to a container version
to synchronize CWL and Docker tools/code.
Thanks to Bogdan Gavrilovic @bogdang989",2018-01-16T11:38:03Z,chapmanb
962cb18c44bb9a9449b0cf92a0c088e1d283b611,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2221 from geetduggal/master

Add a prefix for the variant regions to avoid filename output clobbering",2018-01-16T02:08:17Z,chapmanb
25117a2026adacd905df02f2c5ceb3949cee07e0,Geet Duggal,geetduggal@gmail.com,Update sample.py,2018-01-15T23:14:08Z,geetduggal
0e176c39a3200a038671a780ac73c4eb3bc2f740,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2218 from vladsaveliev/bpi_fix

Fix manta+bpi for ""germline"" samples",2018-01-15T11:38:35Z,chapmanb
c12062263930202e473d6c69e8bb1aa9769970eb,vladsaveliev,vladislav.sav@gmail.com,"Fix manta+bpi for ""germline"" samples",2018-01-15T11:03:58Z,vladsavelyev
6b0eb3ddffcedb599de04ae8f36836d57eb53413,chapmanb,chapmanb@50mail.com,"COSMIC: document update script usage

Fixes chapmanb/cloudbiolinux#262",2018-01-14T16:42:06Z,chapmanb
5b20243414c38ad1fa45fd0afa9ef0f76c78bd80,chapmanb,chapmanb@50mail.com,"Improve runtime of add_contig_to_header

The python based annotation approach is not quick and can hold up
many piped commands. This swaps over to use bcftools with the downside
of needing to write a temporary header file to disk.",2018-01-14T16:40:54Z,chapmanb
a15e6eee3ddff1195c86a38d5a3aa0bc529609b5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2217 from matthdsm/cosmic_update

made cosmic ref file name more generic, added pointer for hg38, docs",2018-01-14T10:57:50Z,chapmanb
3950dea54f286fbcd34c3fe2488676c720ca57d4,chapmanb,chapmanb@50mail.com,"GATK4: make default for GATK runs in bcbio

We now use GATK4 by default in bcbio for HaplotypeCaller and Base
Quality Score Recalibration. GATK3 is still available via `tools_off:
[gatk4]`.",2018-01-13T11:06:05Z,chapmanb
27c63a6d2eb6d23536832d593934e04676931257,roryk,rory.kirchner@gmail.com,"Prefer custom transcriptome_gtf if specified.

Thanks to @marypiper for bringing up the issue and supplying
some test data which helped identify the issue.",2018-01-12T19:14:49Z,roryk
79d96545293c84cbe20f50672ebf472cef36b6c4,chapmanb,chapmanb@50mail.com,GATK4: Re-enable multicore calling for CWL testing,2018-01-12T10:48:40Z,chapmanb
97adabec3738435521c5bc8ba632e0f23fac76d1,chapmanb,chapmanb@50mail.com,"GATK 4.0 support: adjust command line parameters

Changes command line arguments to match 4.0 release changes, providing
back compatibility with GATK 3.x (but not the older GATK 4 betas).
Fixes #2213",2018-01-12T10:42:39Z,chapmanb
7b3e1f4119c0164e46b4b30a02062c3a842dd493,Matthias De Smet,matthias.desmet@ugent.be,"made cosmic ref file name more generic, added pointer for hg38, docs",2018-01-12T07:44:38Z,matthdsm
6cd6f13f40781766da24b14bfc425ba99a95655d,chapmanb,chapmanb@50mail.com,"gVCF: improve clarity and logic of filter skips

Thanks to @tfmorris",2018-01-11T18:45:57Z,chapmanb
a2e42e71be01920396a3d8345075ac105623adcb,chapmanb,chapmanb@50mail.com,"gVCF: fix filter for GATK/sentieon without joint

Handles correctly specifying attributes for simple gVCF filtering
when not following up with joint calls. Avoids missing metrics
in both gVCFs. Thanks to @tfmorris",2018-01-11T10:59:09Z,chapmanb
dfbdd89221251e5dc07e25aade58432276fec2d6,chapmanb,chapmanb@50mail.com,"UMI prep: single core to maintain fastq order

Fixes OpenGene/fastp#23",2018-01-11T10:50:03Z,chapmanb
96b35f1231e911cbf6002a416738d111a5b22636,chapmanb,chapmanb@50mail.com,QC: additional small sample error cases for peddy,2018-01-10T11:21:46Z,chapmanb
82ab9d89ce24862e4de9f09f59991e2acbdd32bf,chapmanb,chapmanb@50mail.com,Travis: update code in bcbio-rnaseq container,2018-01-09T14:56:38Z,chapmanb
ffba78f3ea34ffbb3888b829b5e8355576242cf7,chapmanb,chapmanb@50mail.com,"QC: remove debugging checks for duplicate runs

Re-enables QC on RNA-seq",2018-01-09T14:12:29Z,chapmanb
9623c22126da1b648410311484fd76b48c7282e8,chapmanb,chapmanb@50mail.com,"QC: improve read counting with hts-nim-tools

Replaces custom samtools view, working around BED limitations, with
count-reads from hts-nim-tools",2018-01-09T10:54:48Z,chapmanb
4c8af41fe9bcb45b5017a3bf433db260cb932243,chapmanb,chapmanb@50mail.com,"CWL: expression tool; framework for no alignment

- Adds support for generating expression tools based on manipulation
  using only javascript.
- Adds framework to do no alignment inputs by making use of
  expression tools. This would skip allocation steps for prep
  and alignment. Not yet turned on pending widespread testing
  and support for expression tools.",2018-01-08T19:35:15Z,chapmanb
9807ba974d40a34d17e398442f75f1279219a368,chapmanb,chapmanb@50mail.com,"QC: move samtools stats calculation to post-align

Avoids double calculations of statistics in samtools and coverage QC
modules.",2018-01-08T18:59:34Z,chapmanb
d5c894579f94122f99c263075c7088d3f0b63282,chapmanb,chapmanb@50mail.com,"CWL: limit files passed to MultiQC

Avoid passing in align BAM and other large files to MultiQC runs
to avoid disk space issues and unnecessary work for systems like
DNAnexus that stage files.",2018-01-08T17:07:45Z,chapmanb
6dbadcf6e83d51b238697d6235f57d1b8839ed90,chapmanb,chapmanb@50mail.com,"CWL: variant input to QC for multiple samples

- Fix issues with nesting of inputs, which gets complicated because
  of merging with other non-arrayed inputs. Allows explicit nesting
  and unnesting of these when reconstituting from the command line.
- Reference VCFs for individual samples, not just batches
- Ensures consistent VCF ordering with samples",2018-01-08T10:57:58Z,chapmanb
d7c81425a4d61f188cfff362f25caa2f8e296ba7,chapmanb,chapmanb@50mail.com,"CWL: support peddy as part of QC steps

Pass single sample inputs to peddy as part of QC steps during
CWL runs. To do:

- support for hg38
- flexible approach to pass in background, including current samples,
  for comparisons",2018-01-07T10:40:02Z,chapmanb
de7779faf43d1ab6724181f0a464523e410e4070,chapmanb,chapmanb@50mail.com,"CWL: ensure variant calls feed to QC

Explicitly pass variant calls if available in workflow and allow
them as inputs to variants QC, staying back compatible with previous
approach.",2018-01-07T10:37:00Z,chapmanb
647db60d9c242f46fc7b219869803bf2d24d4fc2,chapmanb,chapmanb@50mail.com,v1.0.7 release,2018-01-06T10:40:07Z,chapmanb
ba71ce7eb3281224a46f938d7288f8a3060c387d,roryk,rory.kirchner@gmail.com,Add missing relatedness metrics from peddy.,2018-01-05T18:21:45Z,roryk
c5b60bc8b65839e56cdf6679410801a51109f7f2,chapmanb,chapmanb@50mail.com,"UMI: use fastp instead of umis for R1/R2/R3 prep

Swaps to use the C based, multi-threaded fastp tool for preparing
UMIs in headers from UMIs present in external files. This provides
~2x speedup over python based UMIs on initial benchmarking but is
dependent on file IO speeds.

bioconda package for fastp and automated install is coming with
1.0.7 release.

cc @roryk for review",2018-01-05T14:37:49Z,chapmanb
8cdbe9872094bad686ff81b3dee5c59c4c6fb59c,chapmanb,chapmanb@50mail.com,"QC: fix duplicated outputs with shared normals

- Ensure we use independent summary QC dictionary for QC outputs,
  avoiding bug when shared. Fixes #2208
- Ensure peddy output is consistently a nested single sample.",2018-01-05T11:22:59Z,chapmanb
94590aa8bff507fe2e0bef584572a4682b2dd64b,chapmanb,chapmanb@50mail.com,"TitanCNA: better detection of too small inputs

Require at least two hets for trying to run. Avoids errors with
test cases.",2018-01-05T03:00:35Z,chapmanb
81b77a09048eecccd26461c27a04f257d55003aa,chapmanb,chapmanb@50mail.com,Avoid circular dependencies from direct validate import,2018-01-04T13:33:33Z,chapmanb
5cf60b6822ccd31929220d567f1bbee382845602,chapmanb,chapmanb@50mail.com,"joint calling: handle sample-only gVCFs

Avoid errors if we're doing single sample gVCF and VCF output",2018-01-04T10:53:03Z,chapmanb
bd0072d1926fb4ab24259beca455a4600f0de1bc,chapmanb,chapmanb@50mail.com,Travis: avoid error if no docker containers to remove,2018-01-02T19:36:54Z,chapmanb
5b423e97a6f00a52c6f73a746738043f60267c3b,chapmanb,chapmanb@50mail.com,"CWL RNA-seq: test with Toil runner

Toil is correctly mounting into Docker instances while bunny appears to
be currently having issues.",2018-01-02T18:54:35Z,chapmanb
dac3fc42789a4c34c8066d7f74272047e79a9e24,chapmanb,chapmanb@50mail.com,"CWL RNA-seq: additional tools, GTF dbs

- Pass GTF database in as associated index file. If missing, create
  a memory database by default when we don't have permissions to write
  to GTF staging directory.
- Add missing tools from bcbio-rnaseq Docker image after testing.",2018-01-02T15:47:06Z,chapmanb
be07e26f869f5b228a00156b6f47894546470cbf,chapmanb,chapmanb@50mail.com,"STAR: readFilesCommand -> process substitution

On shared filesystems that don't support FIFO STAR will produce empty
outputs (alexdobin/STAR#143). Work around this by replacing with
process substitution. Fixes #2203.

cc @roryk for review",2018-01-02T11:08:51Z,chapmanb
ea27ed0bf3d9c2d7a09fe95af86ef8e2e944119c,chapmanb,chapmanb@50mail.com,"RNA-seq: name sorting memory usage and output

- Avoid memory usage maxing out at exact specification to prevent
  memory issues on restricted systems like SLURM (fixes #2204).
- Move memory to Mb instead of Gb on sorting to provide more
  specific bounds.
- Ensure we write in output directories, not relative to input BAM,
  which prevents issues on non-shared CWL filesystem runs.",2018-01-02T10:46:04Z,chapmanb
46705e992c79be15b178506c869a9e5fbdf2d597,chapmanb,chapmanb@50mail.com,"Travis: add CWL RNA-seq tests

Grab bcbio-rnaseq Docker image and run RNA-seq workflow as part
of standard tests",2018-01-01T14:46:33Z,chapmanb
2316b168b64cedb38f5de5773683b099ae36d698,chapmanb,chapmanb@50mail.com,Travis: certificate location fix for Arvados,2018-01-01T13:35:48Z,chapmanb
717831f7c86e682183e515882497885728ddce0d,chapmanb,chapmanb@50mail.com,"Travis: avoid environmental variable matrix, single run",2018-01-01T11:42:56Z,chapmanb
10f91a748476f1597786715b2c61c5230eca74fe,chapmanb,chapmanb@50mail.com," Travis: automated test for Arvados integration

 Automated tests supporting external file store integration",2018-01-01T11:13:02Z,chapmanb
27df9071c0e442aa4c93ef143a317e4d7da490a9,chapmanb,chapmanb@50mail.com,"Travis: automated test for Arvados integration

Automated tests supporting external file store integration.",2018-01-01T11:06:36Z,chapmanb
da0ef8a52e70244272e26f9426f67909d5b98287,chapmanb,chapmanb@50mail.com,"CWL: updated RNA-seq with salmon/kallisto support

Modernizes RNA-seq CWL support to match the changes to CWL generation
and the RNA-seq pipeline.

- Alignment and quantitation with a single caller for now,
  supporting salmon, kallisto and sailfish.
- Replaces separate fast RNA-seq pipeline with single option where
  we can turn on and off alignment via input configuration.",2017-12-31T11:01:19Z,chapmanb
5545cecfbec396a4c72420c5763b826db84dd6fc,chapmanb,chapmanb@50mail.com,"QC: fixes for improved CWL support

- Allow work or align bam as inputs
- Capture non-directory based quantifications
- Avoid problematic Qualimap files with spaces and parentheses that
  confuse some runners when staging.",2017-12-31T02:31:53Z,chapmanb
845ab1d99ef10207e5c55c157dd195d3ab1f3e60,chapmanb,chapmanb@50mail.com,"CWL: explicit input staging disk estimates

CWL disk estimates are not meant to include file requirements for
staging but some platforms like DNAnexus rely on them. This provides
a separate dx:InputResourceRequirement with the staging requirements
that dx-cwl and other tools could use for disk estimation.",2017-12-30T11:01:35Z,chapmanb
6e9d3f3b632e716c3427e9b3d5f29a2f5f1045af,chapmanb,chapmanb@50mail.com,"install: gnomad as separate datatarget install

Avoid issues with including as part of GEMINI
(#2171, chapmanb/cloudbiolinux#254)",2017-12-29T20:15:07Z,chapmanb
1ff6eca15de40423d1dcbf185d2ee1a34068fa99,chapmanb,chapmanb@50mail.com,"BubbleTree: handle out of order CNVkit cns files

Use header to avoid needing specific ordering. Fixes #2180",2017-12-28T11:05:42Z,chapmanb
9666908c82e9742d4165ab9ee7db80a76ceb2b24,chapmanb,chapmanb@50mail.com,"peddy: fixes for multi-batch and no variant cases

Handles complex tumor/normal setups.",2017-12-27T11:19:16Z,chapmanb
62b19030fd69dfffdec15963b02ea9db558a352b,chapmanb,chapmanb@50mail.com,"CWL: avoid merge_split_alignment for non-split run

Optimize CWL generation to avoid disk allocation heavy
merge_split_alignment step if we're not splitting runs. Improves
runtimes for alignment only steps by avoid allocation.",2017-12-27T11:04:43Z,chapmanb
a1d7185dedd0ac863f57f216843b1e28b2c66a4b,roryk,rory.kirchner@gmail.com,Handle cases with multiple/no batches during peddy run.,2017-12-26T20:39:41Z,roryk
af34e4ea443555ae1b84e7d34cf615728d32f63a,roryk,rory.kirchner@gmail.com,Add peddy HTML file to upload.,2017-12-26T20:14:48Z,roryk
6b1ce6a2085099daafa4e3d805fb2edd53aea265,chapmanb,chapmanb@50mail.com,"Doc: usage of multiqc to tweak read count display

Provides a standard example based on helpful feedback from
Melissa Zahralban-Steele.",2017-12-26T15:12:20Z,chapmanb
008da573114b41a1763db57cddf46a05237e0936,chapmanb,chapmanb@50mail.com,"ensemble: remove effects when normalizing

This sets up inputs for re-annotation and avoids issues with
pre-existing CSQ tags. #2196",2017-12-26T13:00:24Z,chapmanb
fe4f145eb0ea74fe7365f11182557d72b054e537,chapmanb,chapmanb@50mail.com,RNA-seq: Remove unneeded fusion_method tests,2017-12-26T11:54:12Z,chapmanb
597eaf53b078d92716573bb4477864fd2a6a98ef,chapmanb,chapmanb@50mail.com,"RNA-seq: ensure fusion mode for STAR/TopHat

Avoids checks which include deprecated fusion_mode and only use
generalized `fusion_caller`. Fixes #2195",2017-12-26T10:30:28Z,chapmanb
c276b41ace3bdd0d170e3101b3f44f15c8d9cebc,chapmanb,chapmanb@50mail.com,peddy: handle sample cases without batches,2017-12-24T11:05:28Z,chapmanb
dfb89252b57e01412c3232f28dfb5e977869cec0,chapmanb,chapmanb@50mail.com,"RNA-seq: make de-duplication optional for hisat2

Enable adding in de-duplication with `mark_duplicates: true` if desired
but provides back-compatible default of no deduplication. Thanks to
@cbrueffer.

https://github.com/chapmanb/bcbio-nextgen/commit/24b73b02da75725b43819c77a18871601c69f49b#commitcomment-26423984",2017-12-24T10:17:37Z,chapmanb
a4ee2f3a67b98e521bb82d8e014021b6af1019ae,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2200 from cbrueffer/citations

Add citation information for TopHat2 and HISAT alignment.",2017-12-24T10:15:27Z,chapmanb
c751e8ab43fca31e1d88311f7d6c82c6165293a7,chapmanb,chapmanb@50mail.com,"CHiP-seq: pass filtered BAMs to upload directory

Include these for comparisons to ChIP-seq output in addition to standard
BAMs.

General cleanup of ChIP-seq with support for failing edge cases and
unit test usage.

Thanks to Luca Beltrame
https://groups.google.com/d/msg/biovalidation/OHotDmOWJQQ/4S_XyDGGBwAJ",2017-12-23T10:50:18Z,chapmanb
46bab9b79d079319d54f7f43bbea15d147801d92,Christian Brueffer,christian@brueffer.io,Add citation information for TopHat2 and HISAT alignment.,2017-12-22T21:00:36Z,cbrueffer
c05deb6191efa07e155e8af148d6882352c3c705,chapmanb,chapmanb@50mail.com,"seq2c: pass mapping_reads to upload directory

Thanks to @ssaif",2017-12-22T20:10:39Z,chapmanb
afb4f8eabdc060a032c42ebbec8ab5a1d0cf6906,chapmanb,chapmanb@50mail.com,"peddy: support for edge cases based on tests

- Skip if not human
- Work inside transactional directory
- Catch errors if missing overlap with 1kg sites file
- Avoid issues with non-matching VCFs (pre-aligned inputs for
  validation)

cc @roryk for review",2017-12-22T16:18:28Z,chapmanb
4eb2f91155cb49049fc01bf11cf273e0522a5a0a,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2193 from matthdsm/ensembl_91

ensembl 91: updated genome resources",2017-12-22T11:24:31Z,chapmanb
631e95ba8c719fe43e40163c49eeedf639077f09,chapmanb,chapmanb@50mail.com,"ensemble: follow use_filtered for normalization

Allows keeping of filtered variants if configured in ensemble.
Speculative work for #2196",2017-12-22T11:20:02Z,chapmanb
f60dd6c5b00854dad0f40a41b6acbfacf1a6c0eb,roryk,rory.kirchner@gmail.com,"Add support for peddy.

https://github.com/brentp/peddy

Integrates with MultiQC, but it looks like the MultiQC module
doesn't report the ancestral PCA and some of the other checks
in the full peddy report.",2017-12-21T22:41:28Z,roryk
56219c9ed30559b22bc89e6888062446d8bef370,roryk,rory.kirchner@gmail.com,Add finished message to bcbio_setup_genome.py.,2017-12-21T19:13:16Z,roryk
83d1da570f094732687445e251a9af3b68e63730,chapmanb,chapmanb@50mail.com,"CWL: improve disk allocation based on DNAnexus run

Improves how we request space based on testing on DNAnexus with
constrained space requirements.",2017-12-21T15:35:58Z,chapmanb
c97da58ac9e10bda14c7981232aa6d22a7eb28db,chapmanb,chapmanb@50mail.com,"CWL: fix issues with BAM only pass through

With BAM-only pass through (no alignment), avoid symlinks with CWL
which do not resolve. Either pass original file if index present
or copy.",2017-12-21T15:29:35Z,chapmanb
1d7725810cf34ed60745cd6ba01081f002e8e107,chapmanb,chapmanb@50mail.com,"Default to empty string for analysis

Avoids errors when analysis type not present in CWL environments.",2017-12-21T14:33:42Z,chapmanb
24b73b02da75725b43819c77a18871601c69f49b,chapmanb,chapmanb@50mail.com,"hisat2: support inclusion in variant pipelines

- Handle split inputs with hisat2
- Correctly sort and de-duplicate during hisat2 runs
- Do not do de-duplication for small RNA and RNA-seq pipelines with
  hisat2, matching previous behavior

Fixes #2188",2017-12-21T10:55:11Z,chapmanb
63ffe7f979070b86a9b81b5720a82d93e8c557af,Matthias De Smet,matthias.desmet@ugent.be,bumped genome config versions,2017-12-20T08:11:50Z,matthdsm
754c7d4c7e2dc7c76f96a6a4cf7be2636be2baa9,chapmanb,chapmanb@50mail.com,"DeepVariant: edge case fixes based on testing

- Need raw BED, not bed.gz inputs for --regions
- Handle empty outputs from regions with no candidates",2017-12-19T16:55:35Z,chapmanb
b9253a78962b4c82e3402b1ce1c7f7a488859ddb,Matthias De Smet,matthias.desmet@ugent.be,ensembl 91: updated genome resources,2017-12-19T14:16:07Z,matthdsm
ac26b48ee3f02dec62c85e8e0842bb01e70c7b75,chapmanb,chapmanb@50mail.com,"DeepVariant: initial integration work

Preliminary work adding DeepVariant for germline variant calling.",2017-12-19T11:06:06Z,chapmanb
b86fbf35648392c0976894a827b43fed62d2a464,chapmanb,chapmanb@50mail.com,CWL: improve documentation on DNAnexus + App,2017-12-18T18:25:07Z,chapmanb
216f6c12c89f0f4f191e35d77b74c4a6b8c0eb0b,chapmanb,chapmanb@50mail.com,"mosdepth: ensure input BED files sorted

Avoids out of order sort issues. Thanks to @ssaif",2017-12-18T17:14:17Z,chapmanb
6257e8a8e1dc334a3396c57e6a593514ba6b4cbe,chapmanb,chapmanb@50mail.com,"CWL: Improvements for joint calling runs

- Include enough disk space allocation for `to_rec` functions based
  on larger sample size testing.
- Ensure allocation of cores to `prep_samples` to take advantage of
  multicore BAM or fastq conversion.
- Avoid running joint calling finalization without batches, just
  produce gVCF.",2017-12-18T10:59:18Z,chapmanb
06f0adc99ddda6cf765736cfca64bf0c7c7f1155,chapmanb,chapmanb@50mail.com,"CNV: use variant_regions if sv_regions missing

Follows sample approach as other SV callers, using variant_regions
if sv_regions not specified, instead of falling back to
transcripts. #2171",2017-12-17T18:21:52Z,chapmanb
6b71d30ca89910028503217f90f7fcefb2b2bae9,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2186 from vladsaveliev/bpi

Add Break Point Inspector for Manta calls filtering",2017-12-17T11:03:51Z,chapmanb
eba6ba3b68cc25ccfe8461e113d80be4d01c646a,chapmanb,chapmanb@50mail.com,"Disambiguate: revert to restore back-compatibility

Disambiguate reorganization included as part of the ericscript
integration (#2146). This named disambiguation outputs in a human
specific manner and was non-compatible with older runs. Fixes #2172",2017-12-17T10:58:16Z,chapmanb
1e1dc7a6a42585d3c07e6b66ebbf051728096e96,chapmanb,chapmanb@50mail.com,Memory: ensure outputs converted to integer,2017-12-17T00:44:49Z,chapmanb
bbdc6a8a02c6661bce552b05188f9997958e8795,vladsaveliev,vladislav.sav@gmail.com,Add Break Point Inspector for Manta calls filtering,2017-12-16T12:59:06Z,vladsavelyev
b4067d7eff2738e8568853f7db09e6c5f4701c2d,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2184 from cbrueffer/resources

Accept non-integer memory amounts (e.g. 7.6G).",2017-12-16T11:43:53Z,chapmanb
f07f3a26a2df717cfd2174e6bc55bc88cb4b09b8,chapmanb,chapmanb@50mail.com,"UMI: handle cases with only R1 or R2 tags

Provides standard UMIs, not duplex, when tags only present on a
single read. Thanks to Ivan De Dios

https://groups.google.com/d/msgid/biovalidation/e00a2a42-53cb-484a-89be-cb1b9f2ea490%40googlegroups.com",2017-12-16T11:17:20Z,chapmanb
67db27a6c39e8ef705a83241c8cb9fd7855e8302,chapmanb,chapmanb@50mail.com,"CWL: support minimap2 alignments missing indices

Avoids check for index files for aligners since minimap2 does not
require these and can create one on the fly.",2017-12-16T10:31:20Z,chapmanb
3cbe0e22efa82ab9763b69b0ddf65cc1929a6e78,chapmanb,chapmanb@50mail.com,CNVkit: do not pass unknown gender,2017-12-15T14:47:36Z,chapmanb
c0c6c6ff31c63082c68a09cf4041d2e5bbb12126,Christian Brueffer,christian@brueffer.io,Accept non-integer memory amounts (e.g. 7.6G).,2017-12-15T11:54:01Z,cbrueffer
f008e6341d207867ec0a7d4ff3d75a27269f92ad,chapmanb,chapmanb@50mail.com,"CNVkit: improve handling of gender and variants

Thanks to code reviews from @etal:

- Only specifies gender for consistent batches
- Avoid use of male-reference flag
- Avoids problematic mutect2 VCF inputs

https://github.com/chapmanb/bcbio-nextgen/commit/b2ccb0230f6fdd79bfb3e9830246a751d7af4fff#commitcomment-26279335
https://github.com/chapmanb/bcbio-nextgen/commit/76bfdc1a9666ec927375d9eeac345fe0d0c490cb#commitcomment-26279467
https://github.com/chapmanb/bcbio-nextgen/commit/1a0e217c8a4d3cee10fa890fb3cfd4db5034281d#commitcomment-26279752",2017-12-15T11:15:48Z,chapmanb
64dfc64649df2d5e5dca33e453a47472a1854533,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2183 from etolpygo/minorfix

fix print statements so that there is no error in python3",2017-12-15T10:32:13Z,chapmanb
376af1d98d154a7d532d2a895a9caab3f93f251c,Elena Tolpygo Cranley,elena.cranley@ucsf.edu,fix print statements so that there is no error in python3,2017-12-15T02:55:54Z,N/A
153cd456d0a46f01bbce879819375a4f7990eed7,roryk,rory.kirchner@gmail.com,"Fix transcript_assembler documentation.

Fixes #2173. Thanks to @NeillGibson for pointing out the issue.",2017-12-14T16:10:29Z,roryk
cfe27d78d701b88d4ac5dafd78b29d3f9bd4054c,chapmanb,chapmanb@50mail.com,"CWL: skip assertion for present aligner indices

Handles pre-aligned BAMs which do not need indices",2017-12-14T02:00:38Z,chapmanb
6b62ddc9d04d2c405a1ecda0c2b940dc8766ac2f,roryk,rory.kirchner@gmail.com,"Fix for hisat2 on unspliced transcriptomes.

The splice sites file is empty if there are no splices in
the transcriptome, which causes hisat2 to crash. This fixes
that.",2017-12-13T19:22:45Z,roryk
0aa2f8a021f78bd03bab60c20598f4aa5c556371,chapmanb,chapmanb@50mail.com,Arvados CWL: summarize runtimes for bcbio runs,2017-12-13T10:34:54Z,chapmanb
ee2355dee5c7e757df19dcda6ef849efd7cc27a8,chapmanb,chapmanb@50mail.com,"CWL: ensure network access for sentieon processes

Allows contacting external licensing servers",2017-12-12T14:16:56Z,chapmanb
70cbf03fd633ac3e5fdf3ee29e68ceb83e28a029,chapmanb,chapmanb@50mail.com,"sentieon: improved lookup and errors for license

Try to avoid not finding license information and get more clues for
debugging if missing.",2017-12-11T15:55:47Z,chapmanb
a992bb45880fe07776f7ef1b3a902cd59ca00d11,chapmanb,chapmanb@50mail.com,sentieon: ensure retrieval of bwa indices on run,2017-12-11T11:02:53Z,chapmanb
e7065b482a79fabda94434cd027f8e9e53b66f7e,chapmanb,chapmanb@50mail.com,Correct reference to NA24385 HiSeq X10/10x config. Thanks to @ohofmann,2017-12-11T10:54:45Z,chapmanb
d310d11d75fd69b6074d7e70435431ab8966470a,chapmanb,chapmanb@50mail.com,"remove_extracontigs: avoid long commandline

Pass reference file and generate new reference contig instead of passing
long pre-computed inputs.",2017-12-10T15:52:49Z,chapmanb
e811138b0ebca74a3534e712bf378db1117a0e06,chapmanb,chapmanb@50mail.com,"pre-aligned BAMs: remove_extracontigs flexibility

Allow `bam_clean: remove_extracontigs` to work under more cases where
pre-aligned BAMs have consistent ordering for standard chromosomes
but different extra chromosomes. Avoids need for making custom reference
genome so compatible with CWL runs.",2017-12-10T11:13:41Z,chapmanb
9dfa29413b46492fdd5317a950446841cbbb2b71,chapmanb,chapmanb@50mail.com,"Avoid bgzip/grabix for non-align split runs

Skips additional processing required for bgzipping and grabix indexing
when not needed for splitting samples. Aimed at reducing overhead
with faster alignment methods (sentieon bwa, minimap2). Compatible
with CWL runs by making fake grabix index as needed.",2017-12-10T11:05:00Z,chapmanb
63b133e14c9fcba1f61d00b1a563258086c8a94c,chapmanb,chapmanb@50mail.com,"CWL: allow sentieon bwa for remote files

Ensure we correctly lookup aliases, like bwa for sentieon bwa, when
retrieving remote indices.",2017-12-09T10:51:58Z,chapmanb
99df14d4be9181ad918ffdf5256e06b31dc386bf,chapmanb,chapmanb@50mail.com,"CWL: pre-aligned BAM and mixed BAM/fastq inputs

- Allow pre-aligned input BAMs with bam_clean enabled.
- Avoid index issues with mixed fastq and BAM inputs. CWL can not
  represent optional file indices so need to leave out of secondaryFiles",2017-12-09T10:40:17Z,chapmanb
1053b82a993e17df986adac2722993da25de4ef1,chapmanb,chapmanb@50mail.com,Update --threads arg for latest extra-sv-reads,2017-12-08T14:54:16Z,chapmanb
6278a252927816893723d440e6d1266dc7b48d77,chapmanb,chapmanb@50mail.com,"seq2c: avoid dropping initial output with CNVkit

Also cleans up seq2c call additional to be more general and assign
to the correct output. Thanks to @ssaif",2017-12-07T19:39:49Z,chapmanb
0b8a5cef36be6360ee3061c2b1894294d3a845df,chapmanb,chapmanb@50mail.com,"Coverage: skip QC for non-calculated targets

Thanks to @ssaif",2017-12-07T15:12:30Z,chapmanb
b0165aba92b73f6cda57dc1829c7a7fd88d0225f,chapmanb,chapmanb@50mail.com,CWL: avoid single element items for arrays,2017-12-07T14:45:13Z,chapmanb
f9e0c0e3944ac9e03d1c22033ecbebdb098ccb96,chapmanb,chapmanb@50mail.com,"CWL: handle empty lists and improved scatter

- Ensure empty lists registered as potential output type for things
  like genome_context and tools_on.
- Avoid scattering standard inputs within steps, only for records and
  workflows.",2017-12-07T14:40:44Z,chapmanb
6dd2c78494b7586bd65c77d7c7ab9f48cc8c823c,chapmanb,chapmanb@50mail.com,"CWL: RNA-seq support work in progress

- sailfish: check and create indices if not existing. Supports isolated
  CWL runs without shared filesystems.
- Avoid needing quality format in CWL specification
- Ensure QC works on work_bam or align_bam inputs",2017-12-07T10:01:53Z,chapmanb
997492bfca69842f5818a4a893d2a340c3568806,roryk,rory.kirchner@gmail.com,"Remove duplicate when merging assemblies.

Fixes #2168. Thanks to @mmoisse for reporting on this
issue.",2017-12-06T14:46:53Z,roryk
3bb3e68d871d8107151f7468ae77498aae47e141,chapmanb,chapmanb@50mail.com,"SV: do not skip CNVkit inclusion with lumpy_usecnv

Assigns CNVkit to the right stage (initial or standard) based on
configuration without avoiding inclusion. Fixes dropping results
and subsequent skipping of bubbletree. Fixes #1229",2017-12-06T14:40:04Z,chapmanb
40d24a3bf85455563ea67600e6b7de9e7a6bed7b,chapmanb,chapmanb@50mail.com,"CNVkit: out of order cns files and small genomes

- More flexible lookup of headers when CNVkit cns file is not in
  standard order. Fixes #2171
- Avoid contig size separation problems when plotting on small
  genomes.",2017-12-06T13:05:24Z,chapmanb
e15f3707bea664cf123a6a1e0a533209e6507119,chapmanb,chapmanb@50mail.com,"CWL: lookup suffixes for remote files

Handle finding fai, bai, tbi and other indices for files present
on remote systems.",2017-12-05T10:57:38Z,chapmanb
2d57fa8fbc27127de69a0dc5224af3f514fb39f6,chapmanb,chapmanb@50mail.com,"callable: create nblock and regions in transaction

Avoids potentially creating partially finished outputs.
Thanks to @ssaif",2017-12-04T19:48:50Z,chapmanb
6b518ac0a42b7167568e9fdb12f14654e15cd2d8,chapmanb,chapmanb@50mail.com,Docs: improve documentation for DNAnexus CWL,2017-12-04T18:19:08Z,chapmanb
dad633e074e3d5f0920b2eb269f90966317691ee,Lorena Pantano,lorena.pantano@gmail.com,"TEMPLATE:support separators in command line. Thanks @mmoisse

https://github.com/chapmanb/bcbio-nextgen/issues/2170#issuecomment-348418783",2017-12-04T15:25:44Z,lpantano
91a76b9695f91a6b10c4f8feb2b992dabbaf5c2c,chapmanb,chapmanb@50mail.com,"CWL: progress on RNA-seq pipeline support

- Building CWL: handle multiple single record scatters
  by ensuring nesting and scattering of inputs
- Detect indices in hisat2 alignment directories
- Running CWL: handle single non-nested records with both records and
  variables.
- Clean both CWL and non-CWL inputs to individual data objects with
  different levels of nesting.",2017-12-04T11:09:30Z,chapmanb
560fb6a926b5009c7819354b2fd0cd2880fd5deb,chapmanb,chapmanb@50mail.com,"CWL: workflows with pre-calculated variants

Allows including externally computed variant calls into pipeline
runs for validation alongside bcbio runs.",2017-12-02T10:52:08Z,chapmanb
60ecdfd34f7b4238434e3ae3f706f3b4d6333ecf,chapmanb,chapmanb@50mail.com,Docs: Arvados CWL use UUIDs instead of portable data hashes,2017-12-01T20:52:32Z,chapmanb
6db8301f4133f5ed4c8cf484a5fe21a520b7ff02,chapmanb,chapmanb@50mail.com,"CNVkit: drop low coverage normalized tumor regions

Avoids zero coverage noisy regions in tumor samples with single or
no normals. Thanks to @choosehappy and @etal. Fixes #2171",2017-12-01T11:31:43Z,chapmanb
ed5e4a8ea3c964e0b62276df920fd2fa13032339,chapmanb,chapmanb@50mail.com,"Ensure correct sorting of subset variant BED files

BEDtools intersect can create out of order output files if a region
BED intersects a callable regions. This avoids this by explicitly
sorting in reference order following the intersect.",2017-11-30T15:46:11Z,chapmanb
5b174a750ec95d55715fccb53dc17fecb491f218,chapmanb,chapmanb@50mail.com,"CWL: consistent callable regions sorting

When using vrn_file inputs ensure we have consistent output sorting
of callable regions matching the inputs. This ensures the correct
callable region files get associated with samples.

For `vrn_file` only inputs assign to a batch with another sample
to ensure consistent validation regions.",2017-11-30T15:43:53Z,chapmanb
f70e5d4e46016c6395b905306d4f38bf675d451a,chapmanb,chapmanb@50mail.com,"CWL: keep cache hint for Arvados variant calling

Provide improved caching and runtimes for Arvados runs by
caching BAM files on run machines.",2017-11-30T10:23:25Z,chapmanb
99027903141b5358d671df7017323ab24f5db6bc,chapmanb,chapmanb@50mail.com,Validation: NA24385 10x dataset with small variant and SVs,2017-11-29T19:26:03Z,chapmanb
9929380c1e16d71bd2dbba5e6b279f81195fa820,chapmanb,chapmanb@50mail.com,Validation: HCC2218 point to standard directory,2017-11-29T17:25:40Z,chapmanb
9a8dd6e3d505128fda0c1d3da22276b6ad0befda,chapmanb,chapmanb@50mail.com,Validation: config and prep script for HCC2218,2017-11-29T17:17:16Z,chapmanb
bf46f5027b8cc73cb95d4872cb31aea8c44598d7,chapmanb,chapmanb@50mail.com,"bedtools: provide additional temporary checkpoints

Add intermediate `saveas` outputs for chained pybedtools commands which
can cause IO piping issues under heavy load.",2017-11-29T10:39:47Z,chapmanb
22ed6f41ead55467ff562a3df83bb3fa25b90194,chapmanb,chapmanb@50mail.com,Docs: NA24385 and NA24631 validations,2017-11-29T03:00:22Z,chapmanb
a468398a90474574bcf2378c627ca2f395eb4da5,chapmanb,chapmanb@50mail.com,Better debugging for multi-sample failures,2017-11-28T11:08:08Z,chapmanb
e22ee22eef812e54b5cff1d11d1634a6dd80321f,chapmanb,chapmanb@50mail.com,"TitanCNA: associate outputs from selected solution

- Corrects application of selectSolution.R to include plots and all outputs.
- Associate metrics of interest: purity/ploidy from optimal solution.
- Pass along CNV seg-specific TitanCNA format calls.

Still need to add conversion of TitanCNA output to VCF.",2017-11-28T11:05:51Z,chapmanb
34223777ae4306c0439bdbadf3ba7c632a878a0a,Lorena Pantano,lorena.pantano@gmail.com,SRA:change URL to work with current NCBI ftp,2017-11-27T18:36:15Z,lpantano
bdcb5f76ea6d7d40fe4dce195c75cd0d4548b83a,Lorena Pantano,lorena.pantano@gmail.com,"SAMPLES:add warning when paired file are being splitted

Sometimes is difficult to make sure we are doing a good job,
in theory only one separator is used for each sample to
guess the 1/2 paired files. Added a warning when
multiple separators have been seen during the process.

thanks @mmoisse

https://github.com/chapmanb/bcbio-nextgen/issues/2170#issuecomment-347213681",2017-11-27T15:36:42Z,lpantano
89597970bddba1e8d78a7aed5a62a48e19c5a4eb,chapmanb,chapmanb@50mail.com,"CWL: better handle complex null cases

- Avoids confusing null nesting with null/string at multiple levels
  in arrays
- Handle comparisons of identical record names from multiple inputs.",2017-11-27T11:12:36Z,chapmanb
04be010260e5a87e090f8eb7f6217cff12f18396,chapmanb,chapmanb@50mail.com,"CWL: generalize retriever usage for file lookups

Better integrate retrieval from remote resources, allowing lookup
of secondary files. This helps handle cases where optional indices
like fastq gbi files are either present or missing.",2017-11-27T11:10:31Z,chapmanb
60f3d1e38b927b6307ebc7a38c3821ace17adf78,chapmanb,chapmanb@50mail.com,"CWL: provide better total disk space estimates

Avoid double counting requests on platforms that treat tmpdir and outdir
separately, like Arvados. Allocates space to both for capturing
same overall usage in a different way.",2017-11-27T11:08:50Z,chapmanb
71e747d52f61eeaf5dda450f9408cdf7eee3e45c,chapmanb,chapmanb@50mail.com,Index build targets for minimap2,2017-11-26T14:55:31Z,chapmanb
5547507fd6dad2efa4d14702f1d84ac5899447a8,chapmanb,chapmanb@50mail.com,"alignment: initial support for minimap2

Allows using minimap2 for variant calling workflows. minimap2 validated
well in latest truth set from Heng Li and Broad
(https://www.biorxiv.org/content/early/2017/11/22/223297) and reported
to be 3x faster than bwa.

Still needs validation and benchmarking on truth sets, especially
structural variant calling but available for doing validation runs.",2017-11-26T11:14:37Z,chapmanb
16f17377c0e48d2a4a8853fd7edd0bae2c1d9710,chapmanb,chapmanb@50mail.com,CWL: fix grading summary for single batch,2017-11-25T11:22:01Z,chapmanb
00d41fd1bc4cd2531598ddb52cd2e432d8f9739b,chapmanb,chapmanb@50mail.com,VEP: provide data path to loftee plugin #2158,2017-11-25T10:59:20Z,chapmanb
d8c5ff6616ebc48ab38c3cb2294c2ac8a4fd56f9,chapmanb,chapmanb@50mail.com,Docker: mysql no longer included with UCSC tools,2017-11-25T10:46:11Z,chapmanb
58caffb0302ac05adf7b69eaa8ca924e2bd5a266,chapmanb,chapmanb@50mail.com,"CWL: align prep bug with copied input

Ensure out_file correctly passed when input fastq data is bgzipped
and copied.",2017-11-25T00:51:04Z,chapmanb
42a0b45f70c5430ba464dd25e584f23e26879ac1,chapmanb,chapmanb@50mail.com,"CWL: handling of pre-called variation inputs

- Allow merging of multiple vrn_file inputs (records + pre-existing)
- Avoid bgzipped remote variation file inputs
- Combine validation outputs to capture multiple batches",2017-11-24T17:01:14Z,chapmanb
7b22162a541c95abe8898cf6f9121c7873073e1a,chapmanb,chapmanb@50mail.com,"CWL: work in progress support for pre-called VCFs

Generalize checks and assertions to enable use of pre-called VCFs
for validation alongside standard runs. Currently handles alignment
and callability steps, next to progress to validation and
variant handling.",2017-11-24T10:59:22Z,chapmanb
05fc3c9efb3fef5e617f9e3e1192c648805d3dd5,chapmanb,chapmanb@50mail.com,CWL: script for preparing CWL genome directories,2017-11-23T11:31:11Z,chapmanb
10d2bd412fd7a241914da2323179f941966352c0,chapmanb,chapmanb@50mail.com,Doc: ensemble normalization improvements from Vlad,2017-11-23T11:30:46Z,chapmanb
dc3b326997c991a521cfc0a42c208a3a12308670,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2169 from vladsaveliev/ensemble_ma

Normalize calls before ensemble",2017-11-23T11:17:07Z,chapmanb
5a1b5cbfe75251e07aee20d3333037035b5610d2,vladsaveliev,vladislav.sav@gmail.com,Ensemble SNV calling: normalize VCF before calling,2017-11-23T00:57:27Z,vladsavelyev
a9775d721db483fd371099a0f7b42f18970854cd,vladsaveliev,vladislav.sav@gmail.com,VCF normalization: add biallelic decomposition,2017-11-23T00:56:59Z,vladsavelyev
b294afe8cf4179a5f6c725c350d5988cdb8c1f90,roryk,rory.kirchner@gmail.com,"Explicitly updat assembled_gtf rather than try to update it in place.

First shot at resolving #2168. Thanks to @mmoisse for the
bug report.",2017-11-22T20:06:48Z,roryk
5540897083a51155da3c1be155a9935f7d057376,roryk,rory.kirchner@gmail.com,"Only run CPAT on compatible GTFs.

Thanks to @NeillGibson for reporting this issue.

Fixes #2166.",2017-11-22T18:05:02Z,roryk
578267906a22d53781712cfe5fba81feaed17dc9,roryk,rory.kirchner@gmail.com,name sort bwa mem transcriptome alignments from bwa.,2017-11-22T18:05:02Z,roryk
8672a6ee94328d404f89f2a3b0088df8dcb92455,Lorena Pantano,lorena.pantano@gmail.com,QC:accept GTF without exon_number for qualimap,2017-11-22T17:16:14Z,lpantano
d790863fe298c0f85840787a9ab754256b41a587,roryk,rory.kirchner@gmail.com,"Force STAR unique MAPQ to be 60, not 255.

Cufflinks needs the 255 style mapping quality, so prior to running
Cufflinks we set the MAPQ for reads with a MAPQ of 60 to
255.

Thanks to @chapmanb and @NeillGibson for bringing up the
issue and suggesting the fix.

Closes #2163.",2017-11-22T15:11:42Z,roryk
264898eabfdd309e1845dd2de8ffc05748c341fb,roryk,rory.kirchner@gmail.com,Properly skip ericscript if database is missing.,2017-11-21T19:06:13Z,roryk
2876b8a889489ca8a265d5f2af490c6ea1d0f34c,chapmanb,chapmanb@50mail.com,Coverage: fix typo in checking for binning,2017-11-21T16:33:21Z,chapmanb
ebb2e74a7a193be6d2cf3e6e214b6a2923ea1248,chapmanb,chapmanb@50mail.com,"Coverage: fixes for skipping coverage assessment

Correctly skip coverage and return original items if not running CNV
callers.",2017-11-21T15:55:26Z,chapmanb
6874f0154294bdd06c38da8a57e9e37baec0d4d8,chapmanb,chapmanb@50mail.com,"Remove GATK read backed phasing support

GATK4 removes ReadBackedPhasing and now recommend using phasing in
GATK HaplotypeCaller:

https://gatkforums.broadinstitute.org/gatk/discussion/45/purpose-and-operation-of-read-backed-phasing

This removes the older functionality which was causing problems. Fixes #2158",2017-11-20T18:19:44Z,chapmanb
4b95ee31e33f4e1b5440f3c1b28c6115ed2f2021,chapmanb,chapmanb@50mail.com,"Fix bug with GATK Haplotype RNA-seq variant calls

Split collapsed samples for GATK HaplotypeCaller joint calling back
into individual samples. Fixes #2162",2017-11-20T16:58:40Z,chapmanb
89ea2294036ccade92e02ee7992a5dcabde6d4ab,chapmanb,chapmanb@50mail.com,"CNV: avoid duplicate bins when adding gene names

bedtools closest creates duplicate lines when finding equally spaced
features. This chooses the first gene name, avoiding the duplication.
Fixes #2158",2017-11-20T06:02:14Z,chapmanb
e563cf245a02ffbbb589162cdd2836e44170bf8e,chapmanb,chapmanb@50mail.com,"SV: initial support for TitanCNA

Provides wrapper for TitanCNA analysis of tumor/normal somatic CNVs.
Initial implementation needs testing on real samples to select and
pass along final selections. Work in progress for #1876",2017-11-19T10:56:17Z,chapmanb
d909f0f2ca370c0a2a6ba3a5cf71309043318746,chapmanb,chapmanb@50mail.com,Docs: coding ccds regions for hg38 coverage,2017-11-18T20:19:19Z,chapmanb
331133d68e01e7b96198ea26714a51a713b2a25e,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2161 from cure/master

Fix typos.",2017-11-18T10:32:52Z,chapmanb
292b6709ad0acd3c11f6666557a6eeb88a1a466a,Ward Vandewege,wvandewege@veritasgenetics.com,Fix typos.,2017-11-17T20:31:24Z,cure
0a423fed9484254c04e8e4ded1f36de95c951463,chapmanb,chapmanb@50mail.com,"strelka2: avoid nested relative symlinks

Copies output files to avoid symlink issues running with CWL on
Arvados.",2017-11-17T19:07:43Z,chapmanb
0a3fe83a5d46a560ccf51dbd46bd3fded0ad6efe,chapmanb,chapmanb@50mail.com,"GATK: only use jdk_deflater/inflater for 3.8+

Non-intel deflater options not present in earlier versions. Fixes #2158",2017-11-17T15:13:21Z,chapmanb
88704e051a0a3b14fa5617b6d92c9ee155fa94b5,chapmanb,chapmanb@50mail.com,"CWL: add arvados requirements as hints; docs

- Use arvados requirements as hints instead of requirements only
  in arvados environments, making usage more transparent.
- Improve Arvados running docs.",2017-11-17T10:36:00Z,chapmanb
38301f71f35f64725184a5c6306ca828e2191442,chapmanb,chapmanb@50mail.com,"Re-add support for MuTect/old GATK with java7

Automatic path prepending always used the local java 8 install instead
of an external java 7 required for MuTect and old GATK versions. This
avoids using prepended paths for these steps. Fixes #2158",2017-11-16T14:53:37Z,chapmanb
8d0bedc5a4bac840b013001405950bf8cd90cbe8,chapmanb,chapmanb@50mail.com,"VQSR: use JDK inflater for GATK4 and GATK3

Avoids ApplyBSQRSpark compression errors seen with GATK4 on
Docker runs.",2017-11-16T10:49:02Z,chapmanb
6440da5ff7ca51b1270c1b345f316db65da57634,chapmanb,chapmanb@50mail.com,ericscript: remove tests dependent on old structure,2017-11-16T02:09:38Z,chapmanb
efdd0e805e8d6fa46c4cbe00196077a949aba225,roryk,rory.kirchner@gmail.com,Restore EricScriptConfig class since it gets used elsewhere.,2017-11-15T21:22:19Z,roryk
9906511618ed7792b8cc82464df978d5a096fd3f,chapmanb,chapmanb@50mail.com,"CWL: only pass arvados hints to arvados CWL

Other runners like rabix bunny don't like the custom defined
requirements for Aravdos.",2017-11-15T20:53:18Z,chapmanb
acb851e59b3df5814f8d06eafb9fa44b52b412d6,roryk,rory.kirchner@gmail.com,"Fixes to get ericscript working.

1) simplify call to be more bcbio-like
2) properly pass number of threads to ericscript
3) allow manual specification of an ericscript database",2017-11-15T20:34:25Z,roryk
6dfef3d291582e7b10c4e4b15672e0d1f7fe357a,chapmanb,chapmanb@50mail.com,CWL: add arv namespace for arvados extensions,2017-11-15T19:05:08Z,chapmanb
cf8a5c6905e6008b666b484cc7ed5331902451d3,chapmanb,chapmanb@50mail.com,"CWL: require network access for GATK

GATK has problems setting up log4j in Docker containers without
network access. The enables access using the custom arvados requirement
(https://dev.arvados.org/issues/12593).",2017-11-15T18:53:38Z,chapmanb
897f7fc7cd56dec2ede0540245ef170152f4fbbb,chapmanb,chapmanb@50mail.com,"SV: edge case checks for zero target/anti coverage

Fixes #2158",2017-11-15T18:06:37Z,chapmanb
1ed77349fcd448739d42108a17dbeea5953227d5,chapmanb,chapmanb@50mail.com,"CWL: optional SV vrn_file and variantcaller

Normal samples in tumor/normal pairs do not have associated calls.
Avoids issues on runners like Toil that check explicitly.",2017-11-15T10:36:01Z,chapmanb
9faaa89a63b6b9f4fa8c4dc9ff589ae575aad063,roryk,rory.kirchner@gmail.com,"Add example template for inDrop singlecell.

Partially addresses #2153.",2017-11-14T16:58:17Z,roryk
2b4944b0d1f6b2094d6094050290dc9511237757,chapmanb,chapmanb@50mail.com,"CWL: include normalization in SV calling workflow

Adds in sv normalization, structuring steps around records instead
of individual files. Fixes for dealing with records in multiple
forms of nesting and batched SV calling.",2017-11-14T11:02:02Z,chapmanb
472a83594ad7cba9313b67fefbcf9fe4c610981f,chapmanb,chapmanb@50mail.com,"CWL: use linkImports for symlinking with Toil

Avoid copying files during Toil local runs, instead symlinking.
Also changes directory run name to `toil_work` to avoid confusion
with `cwltool_work`.",2017-11-14T11:00:50Z,chapmanb
bf51e24327ccd4100856cb15132ee1fecfc07dad,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2157 from vladsaveliev/dup_qc

Regroup back samples after processing in heterogeneity module",2017-11-14T10:45:43Z,chapmanb
f25a16da9533417c04d82bc453514a1a8b0a51b9,vladsaveliev,vladislav.sav@gmail.com,"Regroup back samples after processing in heterogeneity module
Removes redundant normal sample copies for shared normals. Resolves duplicated QC runs for https://github.com/chapmanb/bcbio-nextgen/issues/2154",2017-11-14T07:45:43Z,vladsavelyev
21e09f24290bef168ff31198c5ad925af6e2af31,chapmanb,chapmanb@50mail.com,"GATK: correctly apply jdk in/deflater for BQSR

Apply to problem PrintReads, not BaseRecalibrator. Fixes #2156",2017-11-14T03:17:11Z,chapmanb
6bdfaf1fd455064da6d7e48af87da29af527770b,chapmanb,chapmanb@50mail.com,"Tests: fix unit tests for ericscript

Avoid calls when ericscript database not present",2017-11-14T01:44:54Z,chapmanb
f58b9dcfe5d1026d2d1a052ab7bc0a5dbc388257,roryk,rory.kirchner@gmail.com,"Display log message if ericscript is enabled, but skipped.",2017-11-13T19:34:14Z,roryk
00669b053018f02c7c82bd8f26045616e8375bd1,roryk,rory.kirchner@gmail.com,Drop standlone running of ericscript.,2017-11-13T19:33:45Z,roryk
36ef001556a63922ed76bee2a2b51f6813ab1d4b,roryk,rory.kirchner@gmail.com,Pass data config to merging function.,2017-11-13T19:05:06Z,roryk
3a277aa942bdb362605b89b26840f638f65160ee,roryk,rory.kirchner@gmail.com,Move ericscript integration to main detect_fusions function.,2017-11-13T18:48:40Z,roryk
fa86a7b96b2b92b65d10771e5a51e4f4c4019bd4,roryk,rory.kirchner@gmail.com,"Look up bamsormadup properly.

Fixes #2155.",2017-11-13T18:48:11Z,roryk
80841a4f2d226ce761982da441742c8429138f0c,roryk,rory.kirchner@gmail.com,Add finished message to ChIP-seq pipeline.,2017-11-13T16:35:41Z,roryk
fa96b94f9971c60ff0a75e25b86fa5a38b6d0be3,roryk,rory.kirchner@gmail.com,Add greylisting of high-input regions for ChIP-seq,2017-11-13T16:35:41Z,roryk
d28afec0138b2aa439473c1041a0b23b5e1bcba1,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2152 from vladsaveliev/multiqc_secondary

MultiQC secondary files: add multiqc_data.json, remove globs",2017-11-13T10:56:17Z,chapmanb
31b793b1ad500d0673206ebe8b99a9fdd0332259,vladsaveliev,vladislav.sav@gmail.com,MultiQC secondary files: check existence,2017-11-13T06:55:47Z,vladsavelyev
89f19f7767fd2cd722fb94b5df46254d4e6b3b4e,vladsaveliev,vladislav.sav@gmail.com,"MultiQC: replace work-rooted paths to final-rooted paths in multiqc_data.json
Makes MegaQC function without `work` directories. Thanks Oliver Hofmann for spotting the issue",2017-11-13T06:22:26Z,vladsavelyev
4850896cf0e9c376c1fc141e584969fc0c7226f9,vladsaveliev,vladislav.sav@gmail.com,"MultiQC secondary files: add multiqc_data.json, remove globs",2017-11-13T02:22:59Z,vladsavelyev
25ca24560dcbb487597a84e28dc70d24f6185e1b,chapmanb,chapmanb@50mail.com,"GATK: avoid intel deflater; fix BCBIO_JAVA_HOME

- Do not use intel deflater for PrintReads, which is causing issues
  with GATK 3.8. Fixes #2145
- Correctly respect BCBIO_JAVA_HOME which was getting lost due to
  changes in GATK wrapper scripts. Fixes #2151",2017-11-12T10:12:52Z,chapmanb
bcb8dba1adfca2ecb62eb5d9c88e76517022fde4,chapmanb,chapmanb@50mail.com,"CNV: handle batched variant only inputs

Avoids cases where a variant only input, without BAM files and target
regions, is the first element in a batch.",2017-11-12T10:11:34Z,chapmanb
1a9e280224d2db8c2ac34bb001727fcce1a54ba8,chapmanb,chapmanb@50mail.com,"CNV: fixes for no background and non-BAM inputs

Also fixes travis tests with latest rabix-bunny runner.",2017-11-11T20:46:53Z,chapmanb
1a0e217c8a4d3cee10fa890fb3cfd4db5034281d,chapmanb,chapmanb@50mail.com,"CNV: general GC and background normalization

Moves CNVkit based GC correction and normalization to background
samples into a general step to allow re-use by other callers. Also
enables future approaches to substitution alternative normalization
approaches.",2017-11-11T19:32:40Z,chapmanb
bc4195f3fda9e882168bbfb1f3623b7e64dea278,chapmanb,chapmanb@50mail.com,CWL: use crunch v2 for Arvados runs,2017-11-10T20:05:22Z,chapmanb
f0aff4790903a8347102f5f5f8d8673c9d381dbc,chapmanb,chapmanb@50mail.com,"Prepend bcbio internal path during parallel runs

Follows #2129 to extend to distributed iPython and CWL runs. Adds
internal bcbio anaconda path if BCBIOPATH not set.",2017-11-10T11:40:38Z,chapmanb
267667b1648c97dc20c9cd051c84289556f96115,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2129 from gberriz/invoke_prepend_bcbiopath

Invoke prepend bcbiopath",2017-11-10T10:46:09Z,chapmanb
659f02c69e46a5cf5b6528c4fbd0d7a9882e14db,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2147 from biocyberman/bugfix

Update pandas sort syntax for integration/rnaseq/test_ericscript.py",2017-11-09T16:39:20Z,chapmanb
3c16ce4404e1f26c039dec378794ba2735c68c57,chapmanb,chapmanb@50mail.com,"vcfanno: only correct decomposed VCF header

Avoid applying s/Number=A/Number=1/ fix for non-decomposed vcfanno
inputs. bcbio applies in multiple cases including where we want
to avoid decomposing.",2017-11-09T16:35:50Z,chapmanb
549333855b60e9c0a8c2d21f5ff3c19af8449085,Lorena Pantano,lorena.pantano@gmail.com,"ChIPSeq:allow resources by sample

https://github.com/chapmanb/bcbio-nextgen/issues/2141
Thanks @apastore",2017-11-09T16:28:58Z,lpantano
bd921e820f9f2b1b1b01a042ad771e60d04f9ede,biocyberman,biocyberman@gmail.com,Update pandas sort syntax for integration/rnaseq/test_ericscript.py,2017-11-09T13:08:24Z,biocyberman
6675aae1daeabd31693ca15e68ab8678c4e34332,chapmanb,chapmanb@50mail.com,"CNV: bins samples with same prep method together

Groups samples for binning based on having the same capture and optional
`prep_method` metadata. Ensures consistent bin sizes. First step
in use of multiple background normals for CNV calling #2127",2017-11-09T11:44:31Z,chapmanb
1baf00254515d0f780e7c616406c258850b2b2c0,chapmanb,chapmanb@50mail.com,"GATK: Only include depth for non-exome VQSR runs

Synchronize with GATK best practices",2017-11-09T11:09:06Z,chapmanb
ec80ce3ceddee2804521b719649b27fed33163b2,chapmanb,chapmanb@50mail.com,"Docs: update ericscript install instructions

We don't need manual steps as it is automatically installed now
and does not require a configuration change.",2017-11-08T20:46:08Z,chapmanb
5ee0592b5db0eb6fad216efee4d6001fa131a22c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2146 from biocyberman/pr1724merged

ericscript updated, no  conflicts",2017-11-08T19:25:19Z,chapmanb
717f38fe5588549d0bb9765039ddff9d49acb4cb,biocyberman,biocyberman@gmail.com,Set correct samtools path for ericscript,2017-11-08T13:52:00Z,biocyberman
fa2361a3996af4022ec6a58fe17c574994d47875,chapmanb,chapmanb@50mail.com,"ericscript: install, test, lookup cleanups

Cleans up @biocyberman branch to finalize changes for integration into
bcbio.

- Avoids changing install script, preferring existing ggd-recipes and
  bioconda env.
- Avoid needs for lookup based variables, operating from install and
  current transcript lookups.
- Clean up tests to load reference resources from global bcbio_system,
  taking advantage of global ericscript hg19 if installed.
- Test updates: Synchronizes with API changes to reduce automatic building of bwa
  indices during runtime. Clean up removed abstractions we don't need to test.",2017-11-08T13:05:09Z,chapmanb
e64bb7559260b5c856b414ea8cce9c2f878982e6,biocyberman,biocyberman@gmail.com,Revert pytest marks on some ericscript files,2017-11-08T13:05:09Z,biocyberman
cdad78ef839599ecf8ceb6ce8fa4e06cedfb6fea,biocyberman,biocyberman@gmail.com,@chapmanb addition for disambiguate's __init__.py,2017-11-08T13:05:09Z,biocyberman
9c890b813b64d55aa601544ee5feea3b379a2903,biocyberman,biocyberman@gmail.com,Make it possible to upgrade bcbio_nextgen from other gitrepo (i.e. forks),2017-11-08T13:05:09Z,biocyberman
3fda5a987d4622aed9499b939aed5cb19e816cca,biocyberman,biocyberman@gmail.com,Clean up install.py to remove custom installation code for ericscript,2017-11-08T13:05:09Z,biocyberman
74bbf7a2f4c8aeac5dda88e1fc28ad223a7ac88b,biocyberman,biocyberman@gmail.com,Revert modification on prun.py,2017-11-08T13:05:09Z,biocyberman
140e06c94a60ebddd7547d2d7509a8e2f75bbe0e,biocyberman,biocyberman@gmail.com,"Clean up Google drive integration

This commit is a splitted up commit, so it does not guarantee that other this
will work if one checkout this.",2017-11-08T13:05:09Z,biocyberman
275aca13ee5cc1ed1c4f24f6ccb42d001dcb26c4,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add conda-forge channel to CondaAPI,2017-11-08T13:05:09Z,N/A
03c864be940b7cde01409b4ea039cbd248c41659,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add __init__ files to test suite,2017-11-08T13:05:09Z,N/A
3f3f847f4f3286863a5f26cd4e21205adb190498,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Remove a breakpoint,2017-11-08T13:05:09Z,N/A
cb0fe4cdaa4bc1463d658f361153a1061bd9bfcc,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Bring back python arguments to shebang,2017-11-08T13:05:09Z,N/A
dfcd3f6be14bb6f6a146b40fbdc902d9e59d7e18,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Revert changes to .gitignore changes,2017-11-08T13:05:09Z,N/A
8ea8ad2d703ed85e7c03f16c6c174a9d80c65f00,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Remove TODO comments,2017-11-08T13:05:09Z,N/A
8462ffe2b7594834a5e6f6d33553f7b9bef99d87,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Update docs to specify ericscript db manually,2017-11-08T13:05:09Z,N/A
1b9d264a16f30e220742d7e51c0c7bdaedfe03a6,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Update google api client version,2017-11-08T13:05:09Z,N/A
f3b77a384b5c5076051a7bd7541dc3986e64a07c,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Fix typos in argparser,2017-11-08T13:05:09Z,N/A
df066a68e2c612a639514106e3cd3e60d982a5e5,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Fix CI build,2017-11-08T13:05:09Z,N/A
2ffffdaa8ac2f699ee8875ec9e3b1100aa624519,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Remove merge confict placeholders,2017-11-08T13:05:09Z,N/A
54004d9763a8fc52c27f595c7b4732308144d982,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Remove unnecessary files,2017-11-08T13:05:09Z,tetianakh
b5c285625575c4a10fa3351d2562a8b3c3cb3307,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Update configuration docs,2017-11-08T13:05:09Z,tetianakh
f861ac7e694494da4e59e08c113f309291b308e6,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Update istallation docs,2017-11-08T13:05:09Z,tetianakh
8525912d9d634e01a0fc94ae09c0614611f90d76,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,test API key,2017-11-08T13:05:09Z,N/A
67202ba4c60417e5f223b03365c45118760aba55,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add docstrings,2017-11-08T13:05:09Z,N/A
6a1688012875b938e51eaf5fb988cc0e85792ed5,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add parallelization by sample,2017-11-08T13:05:09Z,N/A
ad4503a37d046431f5995b994eceb21557ad05b2,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,"Remove redundant pipeline test

Leave only integration tests for EricScript only",2017-11-08T13:05:09Z,N/A
fcfded987e4c18ab623823c3f70757a10be3e1d5,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Fix CI build,2017-11-08T13:05:09Z,N/A
71ea5415f4d752c6445843b23ab1b617b91a5393,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Build bwa index when running ES,2017-11-08T13:05:09Z,N/A
339074be25ebbaf219915e0c31efdd92f0c777b5,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add function to build bwa index for ericscript,2017-11-08T13:05:09Z,N/A
9749d2b66f9c9d08f6236ca7536b5ae15dcf4441,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Extract exdependent fn to build bwa index,2017-11-08T13:05:09Z,N/A
40c79e328a3be9959bc0b6812c19ebe5da42f684,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add fasta and index attrs to ES config,2017-11-08T13:05:09Z,N/A
5dca405a19814bf55f13aa1d2b6445dddedfe5b1,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Upload ES results by sample,2017-11-08T13:05:09Z,N/A
6a6335eedf3e3ee5da80b156692166afdea19346,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Refactor ES integration tests,2017-11-08T13:05:09Z,N/A
e4b4ac18e2f6f69a4d431e035f514f816a7cab78,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Create separate out dir for each sample,2017-11-08T13:05:09Z,N/A
0d133d7d136e357b28628c870163c3786e156772,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Fix EricScript db path in config,2017-11-08T13:05:09Z,N/A
ef275f996ad1b22aae927d648207b62fb87d629f,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Get ES database path from config,2017-11-08T13:05:09Z,N/A
4bbca1e15f4acfa4310b884fce44aa10f5e14a3a,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Refactor getting ES outdir,2017-11-08T13:05:09Z,N/A
72e44984dc330104100a64c07c4cce8b97b9cdd4,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Rename open to open_file in objectstore,2017-11-08T13:05:09Z,N/A
568c9e5b8b5a6289d2021ad4ac93350a509b6fa9,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add data dl for Ericscript,2017-11-08T13:05:08Z,N/A
b02d40352ff6e43cfc66c58bb5c7f59272ae4c05,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add info output after EricScript install,2017-11-08T13:04:27Z,N/A
a5930749a43f8e3d09d30c405ea3e6507cb056b3,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Tests for CondaAPI,2017-11-08T13:04:27Z,N/A
f017c4876a1aaf9fe2aacfe91c16e5274a0a0f9b,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Get EricScript env from config,2017-11-08T13:04:27Z,N/A
4ffec9c6b8305940c3f46d9a5902d0b7d5d3b4be,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Refactor conftest,2017-11-08T13:04:27Z,N/A
9ca6c8f31dda9642aac4181cc9c5181b868adfe5,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add EricScipt installation via toolplus,2017-11-08T13:04:27Z,N/A
0ebe0342c803a4632dec4a4fb72bcb934915a454,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Refactor integration tests,2017-11-08T13:04:27Z,N/A
72ad338615c0f5bbcbd63ced02754cbe6525034b,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Use convert_bam_to_fastq from pipeline.fastq,2017-11-08T13:04:27Z,N/A
ca7fdfc0ce28093a7f10308de146a1179bf8f6a8,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Integration tests for ericscript,2017-11-08T13:04:27Z,N/A
206b5a3cd7164640a46c01d540577778489ecefd,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Unit tests for ericscript,2017-11-08T13:04:27Z,N/A
41df0f4d2963c1c30987de37b87a50f59935f28e,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Remove breakpoint,2017-11-08T13:04:27Z,N/A
409d3aeed9636e9e45ba18fe7a36c0683c0eab15,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Test files,2017-11-08T13:04:27Z,N/A
abd8cdc35bedfc96c3a18fb3a772dcd9860933e0,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Integration with disambiguation,2017-11-08T13:04:27Z,N/A
f091215f5de12e94e4597be3c552745cacdb043f,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Working basic flow,2017-11-08T13:04:27Z,N/A
6875f587a0d1f10d8fdb761fbe4d6c2c3fc461b6,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Upload ericscript output,2017-11-08T13:04:27Z,N/A
1138a6e51dd9375a0323ffa572d118eaa43d86ae,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Wrapper for ericscript... WIP,2017-11-08T13:04:27Z,N/A
bfe9397277956cbddbb1f879249ecc76fc021f4b,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,More tests for rnaseq.detect_fusions,2017-11-08T13:04:27Z,N/A
3bf5bb26fd9afd72c1ae7f3b3d5891aa2f052671,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Select fusion caller from config,2017-11-08T13:04:27Z,N/A
e93e2622c1d6ba50560d9ebe6836792a77de7be6,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Use should_run_fusion from config_utils everywhere,2017-11-08T13:04:27Z,N/A
2e05d21578b217678713c2386de1c9b9512ea270,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Extract common fusion logic into config_utils,2017-11-08T13:04:27Z,N/A
9cd9a159e5e30622c11d021e35836c54bda14a76,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Refactor fusion logic in tophat,2017-11-08T13:04:27Z,N/A
ae26dea08988dff4cfb3f663ee803601a71fc259,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Check for the fusion caller when running STAR,2017-11-08T13:04:27Z,N/A
e05e1a65034538a407d6e587d79f3775a2d110f1,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Don't run tophat fusion if other caller in config,2017-11-08T13:04:27Z,N/A
c5438be683095d4cacaa57b5f4e528ac7a1f5e14,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Test data,2017-11-08T13:04:27Z,N/A
d2b75b33e13c1c4f3d5000bc5edbd0bc074111e3,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Custom disambiguate,2017-11-08T13:04:27Z,N/A
0e815226b074b26f5fac49a1b49a9585321b531e,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add get_fusion_caller into dd,2017-11-08T13:03:18Z,N/A
ca3d9bf0dbcf18ff436cd70e48a4251ead01fe1f,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Clean up code and tests,2017-11-08T13:03:18Z,tetianakh
8671eb04388412471175dc5712262116f8242873,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Get download location,2017-11-08T13:03:18Z,tetianakh
62e953e5d5eb24a1b6f1443e3d95bf56cfe4ccec,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Change _get_filename signature,2017-11-08T13:03:18Z,tetianakh
794f17cfb3deda1b74498b6ac28bbe28ff8f5c37,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Add method to get file name,2017-11-08T13:03:18Z,tetianakh
1d43a1a4a597505bb16aea2081500274e4d6bcc7,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Give tests more descriptive names,2017-11-08T13:03:18Z,tetianakh
57c56fef9004579d72cd52abb5fcf27dc4cb3c8c,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Shuffle functionality between GoogleDrive and GoogleDriveServiceFactory,2017-11-08T13:03:18Z,tetianakh
fe75c727b769812514610caa65fb8a3f723fd827,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Add parse_remote method,2017-11-08T13:03:18Z,tetianakh
ef1b1e2bbf641d47b5f9e14aa137d8f3cc6359fb,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Implement check_resource method,2017-11-08T13:03:18Z,tetianakh
0db4153e67f2c679c798184c153dcc54c04386a5,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Add GoogleDrive class inheriting from StorageManager,2017-11-08T13:03:18Z,tetianakh
f5e727f1f4516c75d911d1243d4129eee8b439ae,Tetiana Khotiaintseva,tetiana.khot@gmail.com,Rename service attribute to _service,2017-11-08T13:03:18Z,tetianakh
ec71cdc01e3bb3aba4cb307d0d8c25cb4d0ae5af,Tetiana Khotiaintseva,tetiana.khot@gmail.com,"Download file from Google Drive by Id

Rename GoogleDrive to GoogleDriveService",2017-11-08T13:03:18Z,tetianakh
08ee6bdddfa7e8718922531ea3cd8754ad983a20,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add credentials authorization step,2017-11-08T13:03:18Z,N/A
57c39ecb34a733dcbc80a54d845b37e59e265193,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Loads media content in chunks,2017-11-08T13:03:18Z,N/A
68705e0f53ffe6bb398a33b4fd2fc8ae02965006,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Loads media content in chunks,2017-11-08T13:03:18Z,N/A
050e981144d35f1c555cc5493917073bd2bae7c2,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Test Downloader executes request,2017-11-08T13:03:18Z,N/A
1dea1f92564b99b260ec81b23aa04d36d94412a7,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add Downloader class,2017-11-08T13:03:18Z,N/A
ff09b1262677abbbcc71cd9057c1e3f93f7174c7,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Can load file by Id,2017-11-08T13:03:18Z,N/A
9d15c4f508e746a772e95c13c73bcea2887b338c,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Creates an API service,2017-11-08T13:03:18Z,N/A
ba5c3ee8a5a18f9d7b2fe110311e83463d31990b,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Build http_auth object from credentials,2017-11-08T13:03:18Z,N/A
25db9110d34760118b47b2bdf637cf6947154c2c,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Test json file with api key is in API service class,2017-11-08T13:03:18Z,N/A
7ce55ef06c81d58764f0bdaa2254fe6c7f472731,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add tests/data/Harvard-inDrop/ to .gitignore,2017-11-08T13:03:18Z,N/A
dafc0167d6ddbd925702d0c72e6afeeff4c50260,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Test the API scope is right,2017-11-08T13:03:18Z,N/A
9ecc870f17b0b78f76ec73bfe3725c2f7a90585a,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add requirements for google api,2017-11-08T13:03:18Z,N/A
81444a03561ebb48a61f0dccb3c1d472d74533d4,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Test data for ericscript,2017-11-08T13:03:18Z,N/A
c05bd2965aeccd8159bd8dcef95679b14bb0aa26,chapmanb,chapmanb@50mail.com,"strelka2: provide het genotypes for complex cases

For edge cases where variants not present in REF/ALTs, we now provide
these as hets. Temporary workaround until we have improved
representation upstream in strelka (Illumina/strelka#16). Thanks
to @ohofmann",2017-11-08T10:30:18Z,chapmanb
e7400cb0ea89e5c97a7ef01d474fa24fec4ebe82,Lorena Pantano,lorena.pantano@gmail.com,sRNA:Improve 3adapter detection,2017-11-07T20:01:14Z,lpantano
269873cce30539cfc49c27e85ade1d1ddd38e28e,chapmanb,chapmanb@50mail.com,CWL: avoid error with unicode metadata Fixes #2144,2017-11-07T16:22:48Z,chapmanb
675365f97e3ef1e3a726e1b1d45b78102bcc1d77,chapmanb,chapmanb@50mail.com,"disambiguate: BAM index for non-split aligns

Avoids downstream errors from mosdepth. Thanks to Vlad Novitsky.",2017-11-07T15:09:15Z,chapmanb
eadb2d0219551ca85b23d4c932c8832ce6c3007a,chapmanb,chapmanb@50mail.com,"dbSNP: remove rs_ids INFO after ID annotation

Avoids complicated merging downstream when different regions may
or may not have rs_ids INFO tags (and thus an INFO line in the VCF
header). Thanks to @vladsaveliev",2017-11-07T01:25:54Z,chapmanb
786fdc5b734501de885d7b4efdb6f2f4f1b7c202,chapmanb,chapmanb@50mail.com,"Standardize dbSNP annotation to use vcfanno

- Applies dbSNP annotations with vcfanno for all variant callers,
  avoiding confusing differences in multiallelic regions with GATK
  dbSNP (https://groups.google.com/d/msg/biovalidation/Q0_Nujj4bPE/8Y_vrDotCwAJ)
- Moves dbSNP annotation to post-processing step instead of at each
  variantcall step.
- Removes GATK custom annotations which are no longer present in GATK4.
- Clean up vcfanno with setid to avoid need for post-annotation vcf step.",2017-11-06T18:09:07Z,chapmanb
0fb237fac78cb16593d810c5ae3cae48737f628a,chapmanb,chapmanb@50mail.com,v1.0.6 release,2017-11-05T10:15:10Z,chapmanb
3e62a48ac2f9bff8392c28b223c074405f2b5026,chapmanb,chapmanb@50mail.com,Add ericscript to datatargets,2017-11-04T16:09:59Z,chapmanb
1c8fc27334b76331b9dbaf62736bf3cdc82b94dd,chapmanb,chapmanb@50mail.com,"joint: proper filters when tools_on: [gvcf] set

Ensures that we apply filters when we're doing both joint calling
and `tools_on: [gvcf]` is set. We now check if a file is a gVCF file
rather than relying on this flag to determine when to apply VCF only
fixes.",2017-11-04T09:31:08Z,chapmanb
b3c5250b6fe2d376fa68db86dc5e8866b72e6757,chapmanb,chapmanb@50mail.com,"SV: annotations with off chromosome transcripts

Handles cases where custom genomes don't match with transcript BED
files.",2017-11-03T10:05:00Z,chapmanb
f22f0fb25e9cd260aa9d2d303c8fe110bf481a83,chapmanb,chapmanb@50mail.com,CNVkit: sample-id instead of symlink workaround,2017-11-03T09:36:06Z,chapmanb
ca63ba75bcfd676cc10ae839817f6d7ad93de150,chapmanb,chapmanb@50mail.com,"Docs: BIG meeting presentation, remove sequencer

Sequencer integration out of date (fixes #2133)",2017-11-02T17:45:06Z,chapmanb
868f12570c477fb7afe3c2388e47848f392eeec0,chapmanb,chapmanb@50mail.com,"ipython: avoid `as` import syntax for svregions

Creates potential lookup errors. Thanks to @vladsaveliev",2017-11-02T00:25:32Z,chapmanb
adb1d1fca0e63bad9a3bf6a6d21333a8836639e0,chapmanb,chapmanb@50mail.com,"scalpel: ensure output VCF has contigs

Requires for picard VCF management #2112",2017-11-01T18:10:39Z,chapmanb
ce3188e39e577c620a1bde2fc95f2a305e2d7bd1,roryk,rory.kirchner@gmail.com,Preliminary support for bwa as ChIP-seq aligner.,2017-11-01T15:36:59Z,roryk
1c4e1e3986016b99dc3b07eb2e76b1d6f0972e07,chapmanb,chapmanb@50mail.com,CWL: avoid duplicate secondaryFiles in output,2017-10-31T18:17:37Z,chapmanb
49796ab1c6d3eee6874d319b613571f68baf343a,chapmanb,chapmanb@50mail.com,Docs: improve Arvados and DNAnexus CWL examples,2017-10-31T14:01:44Z,chapmanb
e580c2771c86a79390a8333659ceb021f62c184c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2132 from vladsaveliev/mosdepth_fix

Coverage thresholds checks",2017-10-31T09:49:10Z,chapmanb
45aa373ec6007b9251cd7dfe6b9e5bb813619271,vladsaveliev,vladislav.sav@gmail.com,"Coverage: fix thresholds check, and remove mosdepth version and aux files existence check",2017-10-30T22:14:27Z,vladsavelyev
47411510a1fb2e4bb1e6dc63947266b7736dbbab,chapmanb,chapmanb@50mail.com,"GATK3 joint: avoid SerialGC for segfault issues

Tries to avoid segfault issues during GATK3 joint calling (#1340)",2017-10-30T17:26:51Z,chapmanb
23d4f2fbed4355f1a7ccfe2150b89ad179aaf9c7,chapmanb,chapmanb@50mail.com,"CNVkit: better handle tumor/normal VCFs

Avoid splitting samples for VCF inputs to CNVkit segmentation and
variant calling. Correctly identify tumor normals and supply to
CNVkit. #2127",2017-10-30T15:46:19Z,chapmanb
4a3041a53b88da937ba338392d3e4cbf45aa5c60,chapmanb,chapmanb@50mail.com,"GATK3 joint: use naive bcftools concat

Avoids issue with bcftools and GATK integer/float conversions since
naive does not reformat the file and is also much faster. Fixes #2120",2017-10-30T14:49:50Z,chapmanb
2bcc4f8025178dfe0c188b54a9f8e756481dc2cf,vladsaveliev,vladislav.sav@gmail.com,"Coverage: check mosdepth version; if it's old, skip uploading thresholds",2017-10-30T03:24:14Z,vladsavelyev
8d42e9e6fb809224c843c7cccb913d6a2261cd9f,vladsaveliev,vladislav.sav@gmail.com,"Coverage: check all auxiliary files existence, rerun when thresholds missing
addresses https://github.com/chapmanb/bcbio-nextgen/issues/2122",2017-10-30T02:12:26Z,vladsavelyev
26ef3b5b5a3faf5df4f90a254206d745ca71e596,chapmanb,chapmanb@50mail.com,"CWL: cache remote retriever lookups

Avoids extra queries to remote servers with files when preparing
CWL using external data sources (DNAnexus, Arvados, SevenBridges).",2017-10-29T09:31:50Z,chapmanb
ed31e9a14af4d420d549578c038aa11e25078c35,chapmanb,chapmanb@50mail.com,"GATK: avoid problem GATK3 FisherStand annotation

Causes issues with some non-GATK callers during annotation.",2017-10-28T18:44:11Z,chapmanb
a264ef8a34e3b3bb3d1570e59ac87c78938b2216,chapmanb,chapmanb@50mail.com,"SV: provide TP/FP/FN files for validations

Expose files with labeled true positives, false positives and false
negatives during validation. Helps with debugging comparisons and
outputs.",2017-10-28T09:43:50Z,chapmanb
9282682838b7472fabc7bfbc4d7e70355bbe5b97,chapmanb,chapmanb@50mail.com,"SV: return tumor/normal VCFs for lumpy

Match return types of manta, delly and WHAM by genotyping together
and returning tumor/normal pairs for lumpy VCFs. Provides consistent
output between SV calling methods.",2017-10-27T18:22:53Z,chapmanb
0d59e5e054b2e771c210da0e0395b6cb973392b8,chapmanb,chapmanb@50mail.com,"Linting: error for somatic/germline with no tumor

Provides a useful error message when configuration specifies somatic
and germline callers but doesn't have a tumor sample to run these.",2017-10-27T09:59:02Z,chapmanb
e3d276e1d5bd13d5d5bd049e3fc195e6dc209637,chapmanb,chapmanb@50mail.com,"Coverage: delay and cache bin size calculations

- Avoids calculating bin sizes unless needed for creating target/anti
  files
- Cache result to prevent calculating multiple times.
- Do not calculate sizes multiple times for the same file.

Thanks to @lbeltrame. Fixes #2130",2017-10-26T15:40:46Z,chapmanb
681f1f9ea3e26ef84674ee20f2a1cd80fc762770,Gabriel F. Berriz,gabriel_berriz@hms.harvard.edu,"invoke bcbio.setpath.prepend_bcbiopath()

...from bcbio_nextgen.py.",2017-10-26T11:45:50Z,gberriz
39c4d17c4ad7535c0409ba7cde3c9c09939c728d,Gabriel F. Berriz,gabriel_berriz@hms.harvard.edu,"bcbio/setpath.py: initial commit

The bcbio/setpath.py module, prepend_bcbiopath, that prepends the
paths mentioned in the BCBIOPATH environment variable (if any) to
PATH.",2017-10-26T11:23:40Z,gberriz
a1b3ee78803613e0d6b4de1ed01b2046a119b8c8,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2126 from vladsaveliev/cov_thresholds

Coverage: add thresholds",2017-10-26T10:43:52Z,chapmanb
89aecbb1f1f321e255db968f4884b14cca5b59a5,vladsaveliev,vladislav.sav@gmail.com,"Coverage: remove _calculate_percentiles, use mosdepth's dist
It also requires multiqc_bcbio changes proposed here: https://github.com/MultiQC/MultiQC_bcbio/pull/16",2017-10-26T02:20:23Z,vladsavelyev
4679e17e7f6d0e6ce4be86a2180288840c4e0274,vladsaveliev,vladislav.sav@gmail.com,Coverage thresholds: fix file upload list,2017-10-25T10:00:22Z,vladsavelyev
2a332f66e51014ab9a76fb36bd87ee777e056fe2,vladsaveliev,vladislav.sav@gmail.com,"Coverage: add thresholds for ""coverage"" BED, reuse centralized mosdepth runs
assumes this changes in mosdepth are released: https://github.com/brentp/mosdepth/issues/17",2017-10-25T10:00:22Z,vladsavelyev
f439469823a34b761cdd0c42d8626c433d4e9b25,chapmanb,chapmanb@50mail.com,Docs: initial details for running on DNAnexus,2017-10-25T09:46:42Z,chapmanb
9a3373159e08897c62c46b161280474bc913323a,chapmanb,chapmanb@50mail.com,"UMI prep: document autopair; single core args

- Document R1/R2/R3 naming for autopair
- Allow specification of core usage for single runs

Fixes #2123",2017-10-24T13:13:51Z,chapmanb
9df7c784c2c7ce973ec8b364cc41fbddd833537f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2121 from biocyberman/bugfix

Ensured VCF file input for metasv.py is not None.",2017-10-24T09:42:39Z,chapmanb
905581b30813226eb1a3dc1390b19a11d635317c,chapmanb,chapmanb@50mail.com,"Docs: location of germline files for somatic runs

Updates location of germline files in latest development for tumor-only
and paired tumor/normal runs.",2017-10-24T09:41:24Z,chapmanb
a6875ab8014edfabac1e352d372a4289b20d2c3b,chapmanb,chapmanb@50mail.com,"GATK4: correctly handle partial GenomicsDB

Since we can't use transactional directories for GenomicsDB generation
this tries to detect and remove partially created outputs from
previous runs.",2017-10-24T09:33:54Z,chapmanb
7a6d33488fce52fed2375c2437424876320901d8,biocyberman,biocyberman@gmail.com,Ensured VCF file input for metasv.py is not None.,2017-10-23T20:19:04Z,biocyberman
d2b5b522f0595ed7a997c5e489b8058a75dd4256,roryk,rory.kirchner@gmail.com,Index the BAM file from Rapmap alignment.,2017-10-23T15:48:19Z,roryk
6c48dff1838382ab3633095c686adf0ed7ad033c,chapmanb,chapmanb@50mail.com,"Use Picard for fixing VCF headers before merging

Avoids GATK gVCF incompatibilities where bcftools truncates floats
(52.0) to integers (52) and GATK complains. Fixes #2120",2017-10-23T15:05:31Z,chapmanb
c662fe10806416d99d245376555789f65c838260,chapmanb,chapmanb@50mail.com,"SV: fixes for generalized coverage; tumor/normal

- CNVkit: ensure file naming supports required for finding sample
  names during fix
- Delly: Avoid post filters for normal sample in tumor/normal pair
- seq2c: Handle bgzipped coverage inputs",2017-10-23T09:33:18Z,chapmanb
71b122c8a6087f45ddf3736f8692de4716cdb6d7,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2119 from biocyberman/bugfix

Fixed missing import of bio.structrural.shared",2017-10-23T09:25:07Z,chapmanb
a03e246107838d858b2b3ee1d33fc319cdc85104,biocyberman,biocyberman@gmail.com,"Fixed missing import of bio.structrural.shared

Line 131 in cnvkit.py calls shared.find_case_control() but `shared` module was
not imported.",2017-10-23T08:22:55Z,biocyberman
61aee7727dd0464b8bd49681e585944f9dc47500,chapmanb,chapmanb@50mail.com,Docs: more markdown typo link fixing,2017-10-22T10:39:17Z,chapmanb
5ae6e480650dcd838eb22392159a237c1c6a4562,chapmanb,chapmanb@50mail.com,Docs: fix typo in NA12878/NA24385 mixture,2017-10-22T10:21:01Z,chapmanb
093b6f42080a358d46e56950c35fd658c84fcec6,chapmanb,chapmanb@50mail.com,Docs: NA12878/NA24385 somatic truth set,2017-10-22T10:13:35Z,chapmanb
ce9333ff8e8c88aa235dc5a830753cd78fb5be6b,chapmanb,chapmanb@50mail.com,"GATK4: turn off HaplotypeCallerSpark

Use multicore HaplotypeCaller runs instead of Spark implementation
pending GATK fixes: broadinstitute/gatk#3725 broadinstitute/gatk#3659",2017-10-21T19:07:57Z,chapmanb
668b1179be3c802a038edb4ec7075ceeb5844792,chapmanb,chapmanb@50mail.com,"SVs: return tumor/normal combined VCFs

For delly, manta and WHAM return combined tumor/normal structural
variant calls instead of sample select tumor calls. Enables
post-filtering approaches outside of bcbio that make use of the normal
information.",2017-10-21T09:55:19Z,chapmanb
55dc4b34dbfebd1ca62f83df15b38616f251bbc7,chapmanb,chapmanb@50mail.com,"strelka2: reverse complement GT specifications

Improves the custom conversion of strelka2's NT and SGT fields into
genotypes. These are sometimes reverse complemented for SNPs.
Fixes #2112

Travis -- re-enable somatic test with improved install times",2017-10-20T14:22:47Z,chapmanb
28c985f817593e9006bb2db716941c73f349aba8,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2116 from vladsaveliev/fix_germline_normal

Fix SV ensemble batching with germline sample (#2111 part 2)",2017-10-20T09:11:58Z,chapmanb
377de6146e13e45b219078f19c729650aa36ba36,vladsaveliev,vladislav.sav@gmail.com,Fix SV ensemble batching with germline sample (#2111 part 2),2017-10-19T23:45:53Z,vladsavelyev
4eb3600ea4c33aafa37863d04ba62f507c43ddba,chapmanb,chapmanb@50mail.com,"Validation: allow multi-sample reference files

https://groups.google.com/d/msgid/biovalidation/d9b975b0-9fd7-4bd6-b96a-988f64e65e36%40googlegroups.com",2017-10-19T16:12:52Z,chapmanb
de17388836d4a23ac4afd286f776e8988db1fb48,chapmanb,chapmanb@50mail.com,"GATK: avoid SerialGC to prevent GATK 3 core dumps

Tries to avoid GKL deflater incompatibilities by skipping use of
SerialGC in GATK3 as well as GATK4 cases that use multiple cores
or memory. Fixes #2114",2017-10-19T14:21:30Z,chapmanb
c554da23d51b40f605ff745c29acd616c9210bd6,chapmanb,chapmanb@50mail.com,"annotate: ensure BED input file matches genome

Avoids issues in #2112",2017-10-19T13:52:59Z,chapmanb
8264ff5550d8003281ccaace9fa870a771d4174c,chapmanb,chapmanb@50mail.com,"CWL: move annotation files to remote retriever

- Enables finding non local transcript BED files.
- travis: tries to reduce test runtime to avoid failures.",2017-10-19T09:38:56Z,chapmanb
30c9c6aa3432b14306341bac4623093f53bda98e,chapmanb,chapmanb@50mail.com,"travis: use latest image; try to fix build timeout

The space issue seems to have resolved (travis-ci/travis-ci#8375) and
hoping swapping to the latest image avoids the current locks and
timeouts we're seeing.",2017-10-18T18:59:06Z,chapmanb
4f6c360375b9ce1f0df133c0f4262ed1366a5004,roryk,rory.kirchner@gmail.com,"Make tx2gene to be CSV format.

Thanks to @lpantano for finding this bug.",2017-10-18T15:58:30Z,roryk
4ae429a6e48828d042b8bca3fd903acba4f86d4a,chapmanb,chapmanb@50mail.com,"strelka2: better debugging of somatic genotypes

Provides additional information to help identify how to resolve
unhandled cases. #2112",2017-10-18T12:30:06Z,chapmanb
3bc43a8ba3e90fd81f644f7fa3df429db2264959,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2111 from vladsaveliev/fix_germline_normal

Fix uploading germline VCFs for normals",2017-10-18T09:35:53Z,chapmanb
e23520a39d92a700c0bde41d5504826580b8c1fe,roryk,rory.kirchner@gmail.com,Fix error message when UMI transform is missing.,2017-10-17T15:36:09Z,roryk
256b39eb59ad49023f93a712b64b1f4675623585,roryk,rory.kirchner@gmail.com,Swap single-cell counting to use fast tag counting.,2017-10-17T15:36:08Z,roryk
bcbd8cc3ad1b97d2905451c59d9d0ad166c0ba39,chapmanb,chapmanb@50mail.com,"Docs: details on human genomes builds 37 and 38

- Document PAR differences between hg19 and GRCh37. Fixes #2107
- Add details and pointers to build 38 distribution.",2017-10-17T14:37:29Z,chapmanb
aafb9aa200bfc4c47875fa8b589d82ba456cd8e8,vladsaveliev,vladislav.sav@gmail.com,Fix uploading germline VCFs for normals,2017-10-17T10:35:09Z,vladsavelyev
ddb2619b19ae0629f537e0be33795ad1e4175c6b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2109 from matthdsm/samtools_idxstats

added idxstats to samtools qc step",2017-10-17T09:38:52Z,chapmanb
4e793d927dfcf8753f8d838c5afc62fb3fa2adfb,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2110 from leiendeckerlu/patch-1

Update HISTORY.md",2017-10-17T09:38:18Z,chapmanb
9ede263b0a2a273bacbd50caa44c714d0ac83043,chapmanb,chapmanb@50mail.com,"Avoid overscheduling single core jobs

Ensures maximum number of jobs for single core runs don't exceed total
specified. This can be slightly higher due to rounding avoiding
in overscheduling. Fixes #2101",2017-10-17T09:30:47Z,chapmanb
997947f3e6980364ea12c129a99e2b185bdbff4e,chapmanb,chapmanb@50mail.com,"Re-bgzip fastq inputs if no `align_split_size`

We require grabix indexes for size estimations downstream even if
not splitting, so ensure gzipped inputs get correctly re-prepared.
Fixes #2106",2017-10-17T01:59:24Z,chapmanb
60b7af861ba2302469bbeee322489bdcfae3277f,chapmanb,chapmanb@50mail.com,"UMI: do not skip with identical lane/sample names

The back-compatibility check can trip up if we don't have any project
information and the lane and sample names are identical. Ensure
we only do back-compat check if we have potentially different names.",2017-10-16T19:17:08Z,chapmanb
e0325e1283440f90e76693892bb29083ac5c3362,leiendeckerlu,lukas.leiendecker@imp.ac.at,"Update HISTORY.md

corrected typo",2017-10-16T15:58:15Z,leiendeckerlu
faa0159c03e44717188e9140fd0cda8d159d02f8,Matthias De Smet,matthias.desmet@ugent.be,added idxstats to samtools qc step,2017-10-16T10:00:23Z,matthdsm
ab216fe4d9458ae489c441f94b9564de362a79b9,chapmanb,chapmanb@50mail.com,"CWL: support for general SV binning and coverage

Ports generic SV/CNV bins and mosdepth usage to CWL pipelines. We
now explicitly generate and pass depth and bin files rather than
creating at different stages of the pipeline.",2017-10-16T09:49:23Z,chapmanb
d10274994633000d5f24174e7d33b824fd441e87,chapmanb,chapmanb@50mail.com,"Upload: fix date/name swap

Fixes bug introduced when generalizing flowcell name and date usage.
Thanks to @vladsaveliev",2017-10-16T09:46:43Z,chapmanb
76bfdc1a9666ec927375d9eeac345fe0d0c490cb,chapmanb,chapmanb@50mail.com,"VarDict: generalize and cleanup -v 50 removal

Improve previous work by more easily allowing specification. Also
fixes current issues with cancer multiple caller test.",2017-10-15T17:58:07Z,chapmanb
ac4639105321bcd016076279c7343b0d2339a7cd,chapmanb,chapmanb@50mail.com,"VarDict: remove `-v 50` as default for deep panels

We previously automatically added `-v 50` to VarDict runs for
samples with >5000x coverage, which helped with standard panels but
was not desired for other deep coverage applications like detection
of low frequency variants in ctDNA. We now require adding this
in resource options if desired for a panel analysis.",2017-10-14T09:37:53Z,chapmanb
4835e0456dbebcf4e33299b555d59961d45bc00d,chapmanb,chapmanb@50mail.com,Doc: fix details on germline outputs #2102,2017-10-13T14:12:11Z,chapmanb
10ffa295a3fb98f024ff88dc97abf1c255dacf31,chapmanb,chapmanb@50mail.com,"CNVkit: rework to use general SV bins

- Use pre-build SV bins as input to CNVkit, also making these generally
  available to other callers (Discussion in #1876).
- Currently, only run general SV building when CNVkit needed and
  bins not already present. Should be back compatible with previous
  runs to prevent extra depth calculation work.",2017-10-13T10:17:28Z,chapmanb
ed25353dca63cca2d7d886c61521b03e349f1bb5,chapmanb,chapmanb@50mail.com,"SV: initial work to refactor bin and coverage

Moves target/anti-target selection, binning and coverage estimation
to a central location in workflow for sharing between CNV calling tools.
Uses mosdepth for depth calculation and CNVkit for binning. Not yet
enabled by default so should not happen on standard runs.

Next steps will be to replace current CNVkit preparation with use of
these shared bins.",2017-10-12T10:21:33Z,chapmanb
7a70b1c68137e027c5ad46dc97ab0245aa3d001c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2096 from vladsaveliev/tumornormal

Clean up MultiQC for germline variants calling",2017-10-11T12:26:20Z,chapmanb
14a10d9a70d03247bea0ff8c47914a222effa3bc,chapmanb,chapmanb@50mail.com,Travis: skip problematic non-CWL test case,2017-10-11T09:43:19Z,chapmanb
589e91aa490128d3f2b823fc39cc3a906211c6d1,chapmanb,chapmanb@50mail.com,"coverage: support named types for SV regions

Adds support for specifying general parameters like (exons, transcripts)
instead of only custom BED file.",2017-10-11T09:22:06Z,chapmanb
767db1e5714dd6426e3ad4bff555d869b94b581c,vladsaveliev,vladsaveliev@me.com,"Germline calling:
- write ""normal"" sample germline calls into the ""normal"" sample results folder, avoid writing ""<sample>-germline"" BAM files and other stats,
- run bcftools twice, once for somatic and once for germline calls, and report them twice in MultiQC
- remove the germline call stats from the General Stats MultiQC table, rather write them into a separate table right above the germline Bcftools section.
address https://github.com/chapmanb/bcbio-nextgen/issues/2081",2017-10-11T04:14:05Z,N/A
ea5e2cb26adc8dd7ff5d1a0c932100c1120fa5e1,chapmanb,chapmanb@50mail.com,"MuTect: include tumor/normal names in empty VCFs

Avoids merge errors with bcftools concat. Fixes #2093",2017-10-10T18:25:29Z,chapmanb
34a0c4e13a4a248290fd684c3cd64a3be7765fc3,chapmanb,chapmanb@50mail.com,"tumor-only: fix for panel detection

Thanks to @ameynert fixes #2095",2017-10-10T10:07:09Z,chapmanb
444689a019ff788f6cd0c661117465d06ad939ad,chapmanb,chapmanb@50mail.com,"coverage: centralize and update to mosdepth 0.1.9

- Supports mosdepth 0.1.9 which includes additional functionality but a
  breaking command line usage change.
- Uses mosdepth quantize instead of custom approach for callability
  calculations, removing BED file manipulation and improving on disk
  file sizes.
- Centralize calculation of coverage metrics with mosdepth to a single
  point in the code, avoiding multiple calls. Uses caching of useful
  files for later coverage needs in QC.
- Should remain back-compatible with old projects with pre-existing
  callable files although there will be some new calculations during
  depth QC with mosdepth on those.

Fixes #2094",2017-10-10T10:03:40Z,chapmanb
2d91bfac6899dbe1335852250063781910d56674,chapmanb,chapmanb@50mail.com,"HLA: skip if missing any input types

Optitype complains if it can't resolve any of the HLA types, avoids
errors on amplicon or targeted data without HLAs:

https://groups.google.com/d/msg/biovalidation/Q0_Nujj4bPE/6XjnJwwqBwAJ",2017-10-09T18:26:53Z,chapmanb
21424f131f09061abef2521b57b8a648ea98eca8,chapmanb,chapmanb@50mail.com,CWL: bump R to 3.4.1 release,2017-10-09T09:39:55Z,chapmanb
c523b1a8e6a7c5ced53644894815c856de506f14,chapmanb,chapmanb@50mail.com,vcfanno: clinvar INFO change for disease name,2017-10-08T09:34:18Z,chapmanb
f8b8cd31e8a5704258db41aaee230af888678e8b,chapmanb,chapmanb@50mail.com,"UMI: latest fgbio with max-reads cutoff

- Support latest version of fgbio, swapping to use FilterConsensusReads
  and moving options there. `--min-consensus-base-quality` is now
  `--min-base-quality`
- Add `--max-reads` option to limit total reads per consensus call
  for very high depth inputs.",2017-10-07T10:05:11Z,chapmanb
aa5b67efb78ba0d92d1b621a581c927206ea77ba,roryk,rory.kirchner@gmail.com,Add transcriptome_gtf to scrnaseq test.,2017-10-06T16:09:58Z,roryk
5f799260c34dcaae7b44d80979e4808702e955a8,roryk,rory.kirchner@gmail.com,Maintain back-compatibility with fusion_mode and fusion_caller.,2017-10-06T16:09:33Z,roryk
78e0cd37fc78913e7ccac2019f990c6bd5011671,roryk,rory.kirchner@gmail.com,Add transcriptome_gtf to pass an optional GTF in for single-cell.,2017-10-06T15:00:22Z,roryk
37e8e2793a1985bf3423a9570d223e750af75612,chapmanb,chapmanb@50mail.com,"Travis: increase timeout for install

Need to improve dependencies for lighterweight install",2017-10-06T11:05:29Z,chapmanb
f3bef1f8e38ee07073ece2acd37a58fc84a383fb,chapmanb,chapmanb@50mail.com,"HLA: skip if no reads available

https://groups.google.com/d/msg/biovalidation/Q0_Nujj4bPE/dPFD_yDSBwAJ",2017-10-06T10:13:24Z,chapmanb
49612a56fc63b0d1a2ef69617b0d2dc21e1b0f4d,chapmanb,chapmanb@50mail.com,Travis: reduce variantcallers to fit runtime,2017-10-05T09:45:30Z,chapmanb
00319a54709749b13d0c81048c7146ff2381efb3,vladsaveliev,vladsaveliev@me.com,"QC: if qualimap is on, skip GC% from fastqc",2017-10-05T04:20:10Z,N/A
b1d36cd6e83ed1769e355bebf0b2c8f7ecd2be7f,chapmanb,chapmanb@50mail.com,Travis: travis_wait for timing out installs,2017-10-04T17:13:28Z,chapmanb
8cb0c83ff078a3eb70aad9759729ddccf93a4341,chapmanb,chapmanb@50mail.com,Travis: remove quiet install to avoid timeouts,2017-10-04T16:52:43Z,chapmanb
f7878e12a660cf40821d36682f9b0449e28513ee,roryk,rory.kirchner@gmail.com,"Add ``fusion_caller`` as a field to configuration.

This deprecates ``fusion_mode`` in favor of turning on
individual fusion callers. Currently supports ``oncofuse`` for
STAR/tophat runs and ``pizzly`` for all runs.

Implements a request from @apastore in #2089.",2017-10-04T16:28:11Z,roryk
ab0748a4acb753d2d9726cb8a722de1f517cf460,roryk,rory.kirchner@gmail.com,"Ensure kallisto is run if fusion mode is on.

Fixes #2089. Thanks to @apastore and @schelhorn for pointing out the
problem.",2017-10-04T13:35:32Z,roryk
f9721051114f7dded00659a9100385db9dc4c434,chapmanb,chapmanb@50mail.com,"VEP: use --pick_allele for canonical reporting

Ensures we have a canonical effect call for every potential allele
at multiallelic positions. Fixes #2085",2017-10-03T13:21:08Z,chapmanb
ca47837798f0f2d86de44441a898a4cc03925f42,chapmanb,chapmanb@50mail.com,"GATK4 Spark: avoid SerialGC/Intel problems

- Using SerialGC causes intermittent issues with the intel deflater
  (broadinstitute/gatk#3605), this swaps off this flag when running
  multicore spark jobs.
- Adds memory usage scaling for multicore HaplotypeCallerSpark
- Uses local temporary directory for spark for speed improvements.",2017-10-03T10:31:11Z,chapmanb
5dc469f8b53194884fff57b460bc82f541837604,chapmanb,chapmanb@50mail.com,"sentieon: joint and multicore support

- Enable gVCF output and joint calling
- Use multiple cores for each step, matching with new CWL multicore
  variantcall support",2017-10-02T09:53:50Z,chapmanb
cb14000bdd0a37b2f4141185557808b28c114517,chapmanb,chapmanb@50mail.com,"CWL: multicore GATK4 HaplotypeCallerSpark

Enables using multicore HaplotypeCallerSpark for CWL germline calling.
Currently enabled for new CWL multicore support for validation to
ensure it works equivalently to single core HaplotypeCaller.",2017-10-02T09:53:50Z,chapmanb
4165e78c453d9c7c47d5e7fc40a3c1ca5602518e,chapmanb,chapmanb@50mail.com,"CWL: pass resources to all jobs

Ensures resource specifications passed to CWL jobs for tweaking
options or supplying parameters like license files for sentieon.",2017-10-02T09:53:50Z,chapmanb
8fb016d83e8377851226d19840766ba4ca465286,roryk,rory.kirchner@gmail.com,"Fix kallisto index memoization.

Thanks to @jefarrar for noticing this problem. Fixes #2086.",2017-10-01T14:52:48Z,roryk
6a4f09f4d406d594ac2eaf847792c2a5152a1fa1,chapmanb,chapmanb@50mail.com,"CWL multicore variantcall + strelka2 jointcall

- Run variantcalling with multiple cores using batches of regions
  together. This allows native support for multicore callers like
  strelka2 and reduces the total number of variant calling jobs
  submitted.
- strelka2 support for gVCF output and joint calling. Currently does
  an extraction and merge of individual variant calls, rather than true
  joint calls.",2017-10-01T09:24:29Z,chapmanb
1e54d7a6e159851b621faf2a0ca0f4a134fefa19,chapmanb,chapmanb@50mail.com,AWS ansible: add Docker container to image,2017-09-30T11:17:53Z,chapmanb
8d3d1f91fbca3e6791eaa7b7e41e886ca52ec5e8,chapmanb,chapmanb@50mail.com,YAML: avoid problem parentheses in sample names,2017-09-29T18:30:58Z,chapmanb
00d72ec774f449f5cf6c886ad6bc65663bc69415,roryk,rory.kirchner@gmail.com,Make pizzly calling transactional.,2017-09-29T15:56:03Z,roryk
6e9fe1061556403bb6303c2c411b88049380bb80,roryk,rory.kirchner@gmail.com,Add filtering of low evidence pizzly fusions.,2017-09-29T15:54:53Z,roryk
90805ee37d9d89fef030c59c1be916858b714e41,roryk,rory.kirchner@gmail.com,Flatten filtered pizzly fusion calls.,2017-09-29T15:54:53Z,roryk
94ab8c13983b8bc40e96c8a1cb5460dd64fd405b,chapmanb,chapmanb@50mail.com,"VEP effects: add --allele_number

Allows differentiation of alleles if they change over time with
`--pick`. Fixes #2085",2017-09-29T09:50:05Z,chapmanb
d5536e78d044a4faa13afbf80b31e1a66483adcb,chapmanb,chapmanb@50mail.com,"ensemble: add samples to empty outputs

Correctly handle ensemble cases with no calls.
https://groups.google.com/d/msg/biovalidation/VWXtlwp7Vyg/xATBkdo8BAAJ",2017-09-29T09:23:03Z,chapmanb
fda4bb63ec95c08d14d5e199d397cf7b7e5a46da,Lorena Pantano,lorena.pantano@gmail.com,"Accept separators in bcbio_prepare_samples.py

Thanks to @phu5ion, that can help when multiple separators are in the
name: like R _ - .

Use --separators R to only use R1 and R2 format.",2017-09-28T14:54:27Z,lpantano
02b2539f5886e3971f6bc32a92c1510d8157d337,chapmanb,chapmanb@50mail.com,travis: avoid intermittent docker rm errors,2017-09-28T13:13:49Z,chapmanb
fdccd128a9e7c9403d3e1f27b7e735ebe9942049,chapmanb,chapmanb@50mail.com,"strelka2: provide standard GT fields for somatic

Translate the SGT and NT INFO fields from strelka2 somatic calls into
a FORMAT GT field. This enables validation with rtg and makes this
generally available for downstream tools that examine genotypes.",2017-09-28T09:45:14Z,chapmanb
52a665e09042a5c6ce86c5b844fc97d0adb2d18f,chapmanb,chapmanb@50mail.com,"Templating: do not set flowcell date automatically

Only sets project names and not dates in template created runs. Keeps
consistency between updates and provides stable CWL output for
read group name values.",2017-09-27T18:55:59Z,chapmanb
4272d9087a6d46c8ea439e0e450a9533880f657d,chapmanb,chapmanb@50mail.com,"Rename read statistics calculation module

Since we no longer use sambamba for read calculation, rename to
reflect functionality.",2017-09-27T11:46:20Z,chapmanb
a1ec26d7dce7a83a279cb846ea8dc985c507afee,chapmanb,chapmanb@50mail.com,"Use single cache file for mapping statistics

Replace the single file per mapping stats with a single global file
that we pass in the data world object. This allows us to re-use these
statistics in CWL where we don't have a shared filesystem to read
older results.",2017-09-27T09:27:20Z,chapmanb
e001896a4dde583ea4c48a2a926faf00b34aa812,roryk,rory.kirchner@gmail.com,Add kmer-size update.,2017-09-26T18:59:57Z,roryk
8e394074f96d465166639b971a8e5f6cf6d39ae0,roryk,rory.kirchner@gmail.com,"Set batch data in RNA-seq YAML file.

Explicitly require gatk-haplotype for RNA-seq variant calling.",2017-09-26T18:58:42Z,roryk
1a58e4896da05f60a275ec925267697d6d7f55cd,roryk,rory.kirchner@gmail.com,Add period on end of error message.,2017-09-26T18:57:59Z,roryk
c73ba93148d094a5c4dfd40be49977310b3e5a83,roryk,rory.kirchner@gmail.com,"Pick better kmer size for RNA-seq reads < 60 basepairs.

Thanks to Max Friesen for bringing up the issue.",2017-09-26T18:57:58Z,roryk
db0d2e43c421a83888cc9e20bf5a7c4036ca2d68,chapmanb,chapmanb@50mail.com,"Use mosdepth for calculation of callable regions

Replaces use of goleft depth and samtools depth, to provide improved
efficiency and memory usage plus a consistent depth calculation approach
throughout the pipeline. Removes passing bare depth file which was not
used downstream. Next steps are consolidating segmentation and depth
calculation for CNV calling (if enabled).",2017-09-26T09:26:00Z,chapmanb
7ec8a710ea4635ab7ba5e52679e704182a8e33f9,chapmanb,chapmanb@50mail.com,"RNA-seq: generalize GATK variant calling

Move to use general GATK variant calling pipeline workflow for
single and joint calling, adding in support for GATK4 (fixes #2080).
Tries to keep RNA-seq and standard variant calling pipelines in sync
with changes. Still needs additional work to support multiple callers
and generalize VarDict.",2017-09-25T10:03:12Z,chapmanb
8fe8b41b07761ed2a76d5cb1efffac97abc711fb,chapmanb,chapmanb@50mail.com,"GATK4: work around for ApplyBQSR failures

Avoids GKL deflater issues (broadinstitute/gatk#3605)",2017-09-24T10:06:07Z,chapmanb
880a1fab093de37d9409f7521c7ffb1892e95e44,chapmanb,chapmanb@50mail.com,"CNVkit: do not skip when running with lumpy_usecnv

Fixes bug in Lumpy/CNVkit integration when using `tools_on:
[lumpy_usecnv]`. Thanks to @lbeltrame

 https://groups.google.com/d/msg/biovalidation/l16jj6JgJCo/W0Q8itIlBAAJ",2017-09-22T15:50:20Z,chapmanb
f964a25ab74a31551273b7e50518f3451c90f473,chapmanb,chapmanb@50mail.com,"CWL: additional variant disk space improvements

Ensure we account for align_bam file in records and post-processed
generated files from BQSR.",2017-09-20T18:59:57Z,chapmanb
785d6b3d2c59c4b67740966ff287aa61525e3d97,roryk,rory.kirchner@gmail.com,Remove extraneous code.,2017-09-20T18:43:16Z,roryk
100d3b15e2b16212e1785cfac27b296a4c57fb4c,chapmanb,chapmanb@50mail.com,"Strelka2: support for somatic calling

Finalize initial integration, adding support for somatic calls and
cleaning up germline calling. Needs validation work before
documenting.",2017-09-20T09:32:45Z,chapmanb
113006d6f548727471c76bb0f4b6e5f9638c5c56,chapmanb,chapmanb@50mail.com,CWL: improve disk space estimates for variant,2017-09-19T18:09:31Z,chapmanb
a857c820e566cda0a24eff5291e8acb5bab7e2cc,chapmanb,chapmanb@50mail.com,"Strelka2: initial implementation, germline calling

Framework for Strelka2 support with initial implementation
for germline calling. Still needs somatic added and validation.",2017-09-19T09:55:17Z,chapmanb
0ded49acdf010582464566007f89a2585bd9f714,chapmanb,chapmanb@50mail.com,"pizzly: avoid explicity h5py dependency, until added to bioconda",2017-09-19T00:25:28Z,chapmanb
cd10da399111f36fb7ab01dcfe94217bc188ef9b,roryk,rory.kirchner@gmail.com,Update with pizzly addition.,2017-09-18T20:31:48Z,roryk
c4cb88352746cd9eca522031e0f3c70dc23e4acd,roryk,rory.kirchner@gmail.com,"Add support for the pizzly RNA-seq fusion caller

https://github.com/pmelsted/pizzly
http://www.biorxiv.org/content/early/2017/07/20/166322

Thanks to @ndaniel and @pmelsted for the tips getting it going and
filtering. Thanks to @bgruening for the help getting the bioconda
package version fixed.",2017-09-18T20:25:22Z,roryk
1e5ae6190f1c0f2ea2721911d60a9f5b3801c186,chapmanb,chapmanb@50mail.com,"CWL: support for DNAnexus file search and prep

Allows referencing DNAnexus projects and folders for retrieving files
in input YAMLs when preparing CWL runs.",2017-09-16T09:47:57Z,chapmanb
107c0618ddc73e07f77d040c3094a364851a6c38,chapmanb,chapmanb@50mail.com,"CWL: improve estimations of disk usage

Provide better generated estimation of disk usage automatically
considering inputs and adding more disk annotations across the
variant calling pipeline.",2017-09-15T10:17:00Z,chapmanb
4066ffbb5c0407f4d74323420534475ca6d4089b,chapmanb,chapmanb@50mail.com,"Travis: use nomkl for install

Saves spaces and avoids incompatibility with recent bcbio-vm bioconda
builds (which need to be fixed to avoid nomkl/mkl incompatibility).",2017-09-15T09:35:34Z,chapmanb
dd31b8fc72125faf462c379713695e8bd79e135d,chapmanb,chapmanb@50mail.com,"Travis: ensure latest bcbio-vm conda version

Dependency issues with arvados result in older version without support
for local inputs. Ensures we have latest for CWL tests.",2017-09-14T14:53:31Z,chapmanb
dff2478af23bef4a88fd22f7be9c6853cd14d031,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2073 from vladsaveliev/master

QC: merge padded bed file",2017-09-14T13:26:06Z,chapmanb
c9077d4627a1da243bd0ea5a1029a12cf86ed3ea,Brad Chapman,chapmanb@fastmail.com,Merge branch 'master' into master,2017-09-14T13:25:43Z,chapmanb
972ee8953d27ac2ab71dfc49fadd01b1d23adda5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2072 from matthdsm/dbNSFP_tweak

removed clinvar from dbNSFP to avoid confusion",2017-09-14T13:17:51Z,chapmanb
ac42b2ab50b4c6eafa7e10eac2c13774806cc50c,chapmanb,chapmanb@50mail.com,"CWL: avoid using --linkImports for Toil

Currently not working due to problems changing file permissions, so
remove until we can explore further.",2017-09-14T09:44:58Z,chapmanb
59e731e9c75b6489a219f46be51af2e05b0fe851,roryk,rory.kirchner@gmail.com,Flexibly look up bedtools executable.,2017-09-13T19:43:28Z,roryk
f08fa1d1ef87cd956f043b30ca3d635b3480c3dc,vladsaveliev,vladsaveliev@me.com,QC: merge padded bed file,2017-09-13T15:45:29Z,N/A
5a03091d70f339f18789d03f4df3e5c2687d0724,roryk,rory.kirchner@gmail.com,Always run Salmon since we use it for downstream QC.,2017-09-13T15:35:26Z,roryk
5cdba7d08f0c835d1fa414346da4680042f42897,roryk,rory.kirchner@gmail.com,Swap to using Salmon rRNA calls for qualimap.,2017-09-13T15:02:19Z,roryk
d802b75a92dff7ca60cc9ff899d48e954d406e85,chapmanb,chapmanb@50mail.com,"Travis: update tests to use bcbio-vc container

Moves to the automated quay.io built container instead of hand built
bcbio/bcbio. Smaller container to avoid space issues and planning to
supplement with RNA-seq container.",2017-09-13T13:53:40Z,chapmanb
d99d92939c04585fe2ab0ccd991812b7442e2c4e,Matthias De Smet,matthias.desmet@ugent.be,removed clinvar from dbNSFP to avoid confusion,2017-09-13T12:04:47Z,matthdsm
09ec60f8ef40ca7398c4a4ef053e3d205f9c5f1a,chapmanb,chapmanb@50mail.com,Allow CRAM compression with bam squeeze installed,2017-09-13T09:25:38Z,chapmanb
8037c132ba994cd70d59279473fe50b083df85a9,chapmanb,chapmanb@50mail.com,"Prioritize: accurately assess if gemini available

Fixes bug where gemini always listed as available (due to passing a list
instead of a single item), causing errors for human runs when not
installed. Thanks to @ssaif",2017-09-12T18:32:35Z,chapmanb
4da78d0d756569c28f4c0f12cedc6dd3189d1cdc,chapmanb,chapmanb@50mail.com,Template: avoid errors if item_md is None,2017-09-12T13:50:57Z,chapmanb
c82884452b81d82090af0411b1038b9c90984773,chapmanb,chapmanb@50mail.com,"CWL: structural variants in variant pipeline

Initial work on adding structural variant calling to the CWL variant
pipeline:

- Reworks definitions to fit in with variant calling pipeline as
  optional step.
- Provides extraction and summarization of output keys.
- Fixes local directory preparation to ensure we have genome
  annotations (also needed for RNA-seq).",2017-09-12T09:47:47Z,chapmanb
8894d46dab3c3a65fe20fe68a91b8dab9fba7d96,chapmanb,chapmanb@50mail.com,v1.0.5 release,2017-09-11T09:51:33Z,chapmanb
38df67fb3849917b79df7e4383c7c128955437f2,chapmanb,chapmanb@50mail.com,Travis: pin py.test to avoid broken 3.2.2,2017-09-11T01:01:59Z,chapmanb
18adb07f21de4dea09d370588342d43235e2dd6c,chapmanb,chapmanb@50mail.com,Travis: explicit path to bcbio installed py.test,2017-09-10T18:06:09Z,chapmanb
9ded0a43b8a9d03b8c1f0d0365fa1f6e5ff1f94e,chapmanb,chapmanb@50mail.com,Travis: put py.test in PATH for test section,2017-09-10T15:46:11Z,chapmanb
e751e524643f4bdd164f6d69c756250f816d3e86,chapmanb,chapmanb@50mail.com,TravisCI: revert to old images with more space,2017-09-10T14:50:47Z,chapmanb
7e58ba79fccb5ce055ef5260f672a5af9f4679ed,chapmanb,chapmanb@50mail.com,"Check BED file coordinates match reference genome

Identifies issues where coordinates are off the end of the reference
contigs, potentially indicating a BED file from the wrong genome
build like hg19 versus hg38.",2017-09-10T10:40:08Z,chapmanb
2f8ab742fa4ef47774da1e3fda7df2f4f75f7bec,chapmanb,chapmanb@50mail.com,"Check for invalid MuTect2 tumor/normal pairs

Handle somatic/germline specifications and provide useful error if
MuTect or MuTect2 get run tumor-only without a panel.",2017-09-10T10:04:39Z,chapmanb
38fe4bd18b888cf6f4f990f709f072f0d7e6709d,chapmanb,chapmanb@50mail.com,CWL: improved cleanup of Toil work directory,2017-09-10T10:03:09Z,chapmanb
f9132722992e3583cb5f08773c737cd5805af496,chapmanb,chapmanb@50mail.com,"CWL: remove Toil temporary directories

Provides a cleaner output directory on completion.",2017-09-09T10:17:39Z,chapmanb
18225054e993da7acd02e597fbc23d39dc66f213,chapmanb,chapmanb@50mail.com,"GATK4: avoid tools_on: [gvcf] when joint-calling

Also removes the no-longer needed cleanup scripts which are now
handled as part of merging.

Fixes #2069",2017-09-08T14:25:43Z,chapmanb
cb19395b4e728a77d4be9052867248f4555a5a20,chapmanb,chapmanb@50mail.com,"Avoid removing tabix indexes, force re-prep

Removing tabix indexes to force re-prep fails on CWL runs where the
input directory in read only. Instead we always re-prep for single
samples to avoid rtg problems with gzipped outputs produced by
GatherVcfs. Fixes #2065",2017-09-08T14:05:26Z,chapmanb
a6676f45cafbe9f0ca24ce798a61c27ede36a36c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2067 from pdiakumis/typoz

Typoz",2017-09-08T09:31:13Z,chapmanb
60aecb73f45e5f453d96cb8a23045211eee8629c,pdiakumis,pdiakumis@unimelb.edu.au,"Minor typos and kallisto license update

See https://github.com/pachterlab/kallisto/commit/0383fae962986ee3e6ec6c92ea263c291ac09a7a",2017-09-08T05:47:48Z,pdiakumis
7762dd088e5329f760169f9d03ce058a95927df1,pdiakumis,pdiakumis@unimelb.edu.au,minor doc typos,2017-09-08T05:46:53Z,pdiakumis
c83503a39956a8efc81bd183a526f4ccc16f2bcf,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2063 from matthdsm/GnomAD

added vcfanno config for GnomAD genome vcf",2017-09-07T13:53:56Z,chapmanb
f2fdaffddc5e83a25bf211055dfd6354dcf90ac6,chapmanb,chapmanb@50mail.com,"Remove sh requirement to avoid glob patching

sh does monkey patching of glob:

https://github.com/amoffat/sh/blob/858adf0c682af4c40e41f34d6926696b7a5d3b12/sh.py#L492

which can cause IPython pickle errors. This removes that last usage of
sh to avoid the imports and changes.

Fixes chapmanb/bcbio-nextgen#2064",2017-09-07T13:47:42Z,chapmanb
20fafd791b0e2c439b4aed490aba4237107bec59,Matthias De Smet,matthias.desmet@ugent.be,fixed copy paste error,2017-09-07T13:20:25Z,matthdsm
cfd3f97839c771707be444f5c9c19591d6f2e7bd,Matthias De Smet,matthias.desmet@ugent.be,adjusted field names to match Ensembl style,2017-09-07T10:39:43Z,matthdsm
bbf477e6aa39d74f17fa49f5a160b882fc9fd7a5,Matthias De Smet,matthias.desmet@ugent.be,added AF for all populations,2017-09-07T06:45:23Z,matthdsm
978a47a8e5bdc170727279c35d1a9a0956ab3462,Matthias De Smet,matthias.desmet@ugent.be,"simplified Gnomad vcfanno config, modified ops to suit vcf format, modified names to reflect genome dataset. Added config for GRCh37, since gemini only provides exome annotations",2017-09-07T06:31:43Z,matthdsm
c45fedfb021f2230433fb8e2c954e30b3b969193,chapmanb,chapmanb@50mail.com,"Prioritization: match population keys to vcfanno

Fixes missing population based filtering with vcfanno only output.
Thanks to @ohofmann",2017-09-07T04:26:36Z,chapmanb
37418559e4edda557263142721ab944c6430a97b,roryk,rory.kirchner@gmail.com,Allow Stringtie and Cufflinks to be run alongside each other.,2017-09-06T17:24:36Z,roryk
8120785034cb3cf3dc22c7b5a279e61b9caadcb1,roryk,rory.kirchner@gmail.com,Allow Salmon to be quantified alongside other callers.,2017-09-06T16:25:46Z,roryk
832ea3aab3626eb5fe910d7f466f426a7011ed7a,roryk,rory.kirchner@gmail.com,Add support for kallisto-based RNA-seq expression calling.,2017-09-06T15:41:43Z,roryk
5d0bf9f442a0b21d9566a2f32d9a7fe6b390bd45,Matthias De Smet,matthias.desmet@ugent.be,added vcfanno config for GnomAD genome vcf,2017-09-06T10:45:23Z,matthdsm
7bb04b9ffe531b3264aa7049f2aed9b4bb1e0c99,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2060 from matthdsm/patch-1

VEP: replaced ExAC with GnomAD",2017-09-06T09:24:11Z,chapmanb
b5b45f2e5ee38c74e57198dbd7353ecdaae3a27d,Matthias De Smet,matthias.desmet@ugent.be,"VEP: replaced ExAC with GnomAD

The `--af_exac` flag had been deprecated in favor of the `--af_gnomad` flags, which includes annotations of all GnomAD exome frequencies. Using the `--af_exac` flag breaks VEP, even though it's still referenced in the docs.
see ensembl/ensembl-vep#76",2017-09-06T05:44:58Z,matthdsm
7ac17642ac4970094207eeaf3ef903bd7ee9d630,chapmanb,chapmanb@50mail.com,"CWL: improve docs to match latest capabilities

- Better document how to run and generate CWL
- update supported and in progress CWL platforms",2017-09-06T00:36:04Z,chapmanb
ae6966e89185fc99a87ee83655a3a94b5fc5edfd,chapmanb,chapmanb@50mail.com,Avoid problems with colons in sample/batch names,2017-09-05T17:52:49Z,chapmanb
d6da8d072a73c394afa2822cacd19f19cebe5b4d,chapmanb,chapmanb@50mail.com,"CWL tools: improve toil logging, add bunny runner

- Adds better naming for toil log outputs, avoiding need for custom log
  file in shell scripts
- Add runner to wrap bunny, providing logging and avoiding root
  owned files in final output.",2017-09-05T17:44:08Z,chapmanb
562c5e6799eead6c99e83ea0a4d90848c6441568,chapmanb,chapmanb@50mail.com,"Docker: mysql-connector-c for UCSC tools

Avoids 2bit generation errors when building genomes with the Docker
images. Thanks to @ruiwanguk",2017-09-04T10:01:59Z,chapmanb
d70eb066999df4348d058314b6758d38f83c6f3a,chapmanb,chapmanb@50mail.com,"Remove additional unused sambamba code

Finalizes work on removing multicore sambamba usage (#1935), which
caused issues on some systems.

Includes small updates for tests and rnaseq variant calling that
caused tests to fail.",2017-09-04T09:59:01Z,chapmanb
8f6d5293a80a2db6927e50593ca3dd16530dfab7,chapmanb,chapmanb@50mail.com,samtools: use multicore for stats QC #1935,2017-09-04T09:57:05Z,chapmanb
ef19ddca81d7c022779c286076ec034595267c27,chapmanb,chapmanb@50mail.com,CWL: correct fix for masked snpEff name,2017-09-04T09:34:08Z,chapmanb
c61e2dc09045f66f6eba36b0cd9763d77da422f4,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2057 from vladsaveliev/kraken

Kraken: do not require BAMs or aligners to run",2017-09-03T10:18:42Z,chapmanb
14a83d85bfbff84ccefebbdd7002fb8932db0092,chapmanb,chapmanb@50mail.com,"atropos: avoid double applying default options

Handles both long and short options specified in resources

https://groups.google.com/d/msg/biovalidation/VWXtlwp7Vyg/Cp6EOJ9ZCgAJ",2017-09-03T10:10:25Z,chapmanb
cce9f75128d8ccb350d7017f95ae5eae1dd298e3,chapmanb,chapmanb@50mail.com,"coverage: re-use existing mosdepth runs

Tries to take advantage of re-use of coverage calculated regions as much
as possible by avoiding extra `cov-` addition cleanings to the same
input file and using the same cleaning process for average and detailed
stats.",2017-09-03T09:52:54Z,chapmanb
14c6fb23625bf341d02d86f324139975d1579a75,chapmanb,chapmanb@50mail.com,"CWL: handle masked snpEff tarballs and directories

Ensures snpeff_db names get unmasked from underscore CWL variables
and that base paths point to correct location relative to database
name. Thanks to Bogdan Gavrilovic.",2017-09-02T11:00:50Z,chapmanb
0db025298367c133e8fad462646acd6a774c42ad,chapmanb,chapmanb@50mail.com,"HLA: use multicore CBC solver for Optitype

- Improves speed and fixes GLPK issuse. Thanks to @lubinkibu
- Pick up pre-prepared HLA fastqs even if inputs files have been cleaned up.",2017-09-02T09:59:39Z,chapmanb
481cf9b8337102ec24fbde267beaa3b19b3df3f2,vladsaveliev,vladsaveliev@me.com,Kraken: do not require BAMs or aligners to run,2017-09-02T00:21:12Z,N/A
e6cc8c0db2cf0da1a940fa6d9c8a0333fdacec3f,chapmanb,chapmanb@50mail.com,"coverage: parallelize samtools view counts

Avoid segfaults with repeated calls. Thanks to Bogdan Gavrilovic.",2017-09-01T15:35:42Z,chapmanb
3ddcfe3369986b2cc26ad2dfc65285bf3aedebcb,chapmanb,chapmanb@50mail.com,"Replace sambamba depth calculations with mosdepth

Uses mosdepth distributions to replace sambamba thresholding for
coverage QC. Because of differences in output, removes the MultiQC
coverage plot of percentile of bins at different coverage thresholds.
We could replace this with a single plot of regions covered by
thresholds using the average coverage BED if the new more detailed
coverage percentage by base plot does not provide enough QC information.
cc @vladsaveliev for a review

In progress work for #1935",2017-09-01T10:14:10Z,chapmanb
3afdadfe99a1a1ad65a027236c3372fa2cb947bd,chapmanb,chapmanb@50mail.com,"CWL: add new dependencies; restrict joint cores

- Updates freebayes version, adds mosdepth
- Use a single core for joint calling to allow increased
  parallelization since it doesn't take advantage of full cores
  and is split by regions.",2017-08-31T10:16:29Z,chapmanb
046e5af14f57c084511e8c60cac9086dc0c228b4,chapmanb,chapmanb@50mail.com,"CWL: fix snpEff config finding with masked dots

Correctly replaces underscores with dots when searching for
snpEff files, to handle masking of dots in CWL variable
names.",2017-08-31T09:55:29Z,chapmanb
db92a7b3278c638f44b51940e342de67d656ee6b,chapmanb,chapmanb@50mail.com,"Replace sambamba view -c with multicore samtools

Iterates over regions in a BEDfile using samtools view -c to avoid
samtools not using bai indices for retrieving slices from BED inputs.
Avoids problems with multicore sambamba view segfaults on some systems.
Work towards resolving #1935
cc @vladsaveliev",2017-08-30T09:52:42Z,chapmanb
c9926358e2a10a30cd52953910637f71a88fb497,chapmanb,chapmanb@50mail.com,"GATK4: support joint calling in beta4 release

Latest GATK4 release fixes issues with MMQ and MCL VCF headers which
caused GenomicsDB import/export to fail during joint calling.",2017-08-30T09:42:08Z,chapmanb
6657da7dbf0fd25c777880b3631b29555985c89f,chapmanb,chapmanb@50mail.com,Bump version numbers to sync with VEP change #2050,2017-08-29T09:48:57Z,chapmanb
0b19514f6ca5822ff122e1ee4ed457d2c41a20e9,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2050 from matthdsm/master

updated vep cache version",2017-08-29T09:47:04Z,chapmanb
f84054e99deecd92e7d60aa108170550cd381bfc,chapmanb,chapmanb@50mail.com,"CWL: avoid dots ('.') in input keys

These cause issues with some CWL runners like bunny and also
WDL, so convert to underscores during preparation.",2017-08-29T09:16:37Z,chapmanb
30908d7d7132723e580563a3cec64501c15a4941,chapmanb,chapmanb@50mail.com,"tabix index fixes from giab joint CWL runs

Handle missing tbi indexes and incompatibilities between GATK tbi
outputs and rtg",2017-08-28T17:17:06Z,chapmanb
8705142f8573ffe81da0096c9be242adca37bb87,chapmanb,chapmanb@50mail.com,"downsampling: default False, add blacklist removal

- Default to no downsampling for now. variantbam downsampling in repeat
  regions introduces large runtime costs. Plan is to re-introduce
  as default when we improve multicore usage.
- Re-add removal of UCSC blacklist regions as default in FreeBayes
  and VarDict. During evaluations of previous approach, this provided
  the most help in avoiding slowdowns. Continue to do this, which
  helps on hg19/GRCh37 runs until we can make downsampling the default
  and test further.",2017-08-28T09:49:05Z,chapmanb
85221a59d3987ead457f23ce02d40b31981c4292,Matthias De Smet,matthias.desmet@ugent.be,updated vep cache version,2017-08-28T08:09:18Z,matthdsm
c69d9509849fd71505b56e12b511257786112930,Ubuntu,ubuntu@ip-10-0-0-49.ec2.internal,CWL: pass job memory specifications to java commands,2017-08-27T09:49:26Z,N/A
072f90f9a803bfde1449ab80c3665fae4515c617,chapmanb,chapmanb@50mail.com,"CWL: avoid symlinks for pre-build bgzip inputs

Symlinks don't work inside CWL or Docker containers with path mappings
but we can use pass throughs of the original file.",2017-08-27T09:34:51Z,chapmanb
f3c5f359680ef685e383a83dd8afaec0d504b48c,chapmanb,chapmanb@50mail.com,MultiQC: small cleanup and documentation #2048,2017-08-26T09:07:20Z,chapmanb
006eab82c27413cd4765e9ef8d23906be5696a6c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2048 from vladsaveliev/multiqc_config

Multiqc config",2017-08-26T09:01:24Z,chapmanb
7dea4349297ca5764c4e57e01fe94a0225636f74,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2047 from vladsaveliev/preseq2

Preseq: add c_curve and support custom options",2017-08-26T08:58:55Z,chapmanb
4d5a24c6494c274137517c8bdc6b1c902c4e6339,vladsaveliev,vladsaveliev@me.com,MultiQC: support custom options through resources,2017-08-25T20:22:48Z,N/A
4697652609a000ccdd73e25d61656c0081b7f326,vladsaveliev,vladsaveliev@me.com,"Preseq: add c_curve and support custom options:
- `c_curve` predicts complexity in lower input experiments. It supports the same resources parameters except `extrap` and `extrap_fraction`. Preseq usage in config now: `algorithm: preseq: c_curve` or `algorithm: preseq: lc_extrap`.
- Now supporting custom preses options, e.g. `resources: preseq: options: [""-D""]`",2017-08-25T19:53:54Z,N/A
513f6bf61fb2216e8f5232819bbfc3e7e8a43f22,vladsaveliev,vladsaveliev@me.com,Upload multiqc_config.yaml to final,2017-08-25T19:46:35Z,N/A
ec1da0130d60c0899ec1e632c0afcf03a583eec6,chapmanb,chapmanb@50mail.com,"Skip gemini database creation if no vcfanno

Avoids trying to create a GEMINI database using the new vcfanno/vcf2db
approach if an organism does not have vcfanno annotation support.

https://groups.google.com/forum/#!msg/biovalidation/VWXtlwp7Vyg/cFIyrMKACAAJ
https://groups.google.com/d/msg/biovalidation/VWXtlwp7Vyg/bPev79gZAgAJ",2017-08-25T19:46:22Z,chapmanb
df18258ef3b25d5a542477e1021126aebd88a0bc,chapmanb,chapmanb@50mail.com,"CWL: improve generating with local ref tarballs

- Allows generation of CWL from a local input directory containing
  tarballs for indices
- Provide better templating support for fastq inputs during generation
  with multiple ways of supplying paired ends (commonprefix or semicolon
  delimited set of inputs)
- Handles linking in gbi index files for fastqs if present",2017-08-25T10:14:11Z,chapmanb
acb9476e50ea8af80f19714648465220720bc925,chapmanb,chapmanb@50mail.com,"Allow overriding java choice with BCBIO_JAVA_HOME

Allows custom configuration of Java to an external non-bcbio version
if running into system specific troubles with openjdk. Fixes #2037",2017-08-24T14:26:57Z,chapmanb
ef0d1fc532d08ebaf1fbfa875f41637827c401ea,chapmanb,chapmanb@50mail.com,"GATK4: Fix joint calling issue with MMQ, MCL

The VCF headers for GATK4 beta3 outputs have incorrect representations
for MMQ, MCL. This causes truncation of inputs to GenomicsDB, resulting
in missing calls during joint gVCF calling. This works around the issue
by fixing the VCF headers during gVCF region merging.

https://github.com/broadinstitute/gatk/issues/3429#issuecomment-324188028",2017-08-24T09:40:02Z,chapmanb
6b3c3a75fa0a5c1cafe2a684d5a41f53fb656736,chapmanb,chapmanb@50mail.com,"GATK: fixes for recalibration and Intel updates

- Avoid falling through into incorrect error if no recalibration
- Add missing import

https://groups.google.com/d/msg/biovalidation/VWXtlwp7Vyg/784p7gR_AQAJ",2017-08-23T11:29:10Z,chapmanb
54983c55c7215eab1f5ca77db30f2a747e78099d,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2042 from vladsaveliev/multiqc_conf

Aggregate MultiQC configuration in one place",2017-08-23T09:22:16Z,chapmanb
62394db38eda3b6475c770198dfeee5bd68429e7,chapmanb,chapmanb@50mail.com,"GATK: check for Intel and no dbSNP recalibration

- Check for Intel chips before enabling HMM AVX optimizations on
  GATK 3.x
- Skip applying recalibration if dbSNP not found for preparing
  the initial table.

https://groups.google.com/d/msg/biovalidation/VWXtlwp7Vyg/-Y8IW7-3AQAJ",2017-08-22T14:11:29Z,chapmanb
dcfb7a24528f0509616f6efb353f5966291e1a8a,chapmanb,chapmanb@50mail.com,"Fix for sort order detection with fake bai files

Fixes issue with pysam reading fake bai files looking to examine sort
order. He now parse the header from the BAM directly. Thanks to
@schelhorn",2017-08-22T13:49:13Z,chapmanb
03a8c1542d0fb29c19a0f176f92e63176334c272,chapmanb,chapmanb@50mail.com,CWL: ensure output BAM files have bai indices,2017-08-22T09:32:28Z,chapmanb
4bc4ea990637df15b2e77e8b85f97e8145b989d3,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2043 from vladsaveliev/master

Add Preseq tool for complexity prediction.",2017-08-21T15:00:11Z,chapmanb
de766f260a7ae0743ab8248ac6b909a7845139f1,chapmanb,chapmanb@50mail.com,Travis: fix argument order for verbose py.test,2017-08-21T13:45:39Z,chapmanb
885c8249af901a5331d70eea6c91559a67bac4b7,chapmanb,chapmanb@50mail.com,Travis: add stdout logging for CWL runs to avoid Travis timeouts,2017-08-21T10:02:53Z,chapmanb
089cb984cae8cfcd8f124f67a487d52a1950ad4b,vladsaveliev,vladsaveliev@me.com,"Add Preseq tool (lc_extrap command) for complexity prediction.
Estimates the yield for future experiment by showing how many additional unique reads are sequenced for increasing total read count.
Turned on by adding `preseq: true` to the `algorithm` section.
Configurable in `resources` section (see the docs).
Exposed in MultiQC, where the molecule numbers are converted to depth of coverage for convenience.",2017-08-20T19:05:02Z,N/A
3fc68f5d8e699838f730f08727058c863b11558a,vladsaveliev,vladsaveliev@me.com,Aggregate MultiQC configuration in one place (https://github.com/MultiQC/MultiQC_bcbio/pull/14),2017-08-20T18:37:00Z,N/A
8b7cd4d0eedd2e43be17e8dbcf07aca69bc234c2,chapmanb,chapmanb@50mail.com,"CWL: fake bai file for name sorted align BAM

CWL requires secondaryFiles to be present if defined. This creates
a fake bai file so they'll get included along with name sorted BAM
outputs when we have split alignments that feed into downstream
merging. Also reworks merging to be smarter about split alignment
cases without duplicate marking and avoid extra sort commands.
Thanks to @geetduggal.",2017-08-20T10:26:51Z,chapmanb
908a704f0c27cde7b2365c636f586fbf4909c4d5,chapmanb,chapmanb@50mail.com,Travis: fixes for boto GCE issue and missing java,2017-08-20T09:30:33Z,chapmanb
d54ff6db29abcb0af96ec8d8ca44ff176ff11bca,chapmanb,chapmanb@50mail.com,Travis: another attempt to remove un-tagged bcbio/bcbio image,2017-08-19T19:22:17Z,chapmanb
d3e772a9c104bf4a9bc05bcc5489d95b6567e54a,chapmanb,chapmanb@50mail.com,Travis: additional work to clean up bcbio/bcbio docker images,2017-08-19T10:32:59Z,chapmanb
2eb15be76360b0ac9e8711cc76e7c29953ae27b5,chapmanb,chapmanb@50mail.com,Travis: ensure bcbio/bcbio image removed,2017-08-19T10:06:49Z,chapmanb
5538f92e4ca7389fb29caed17661db4c3144a844,chapmanb,chapmanb@50mail.com,"Add bcbio CWL tests to TravisCI testing

Provide standardized tests for running bcbio CWL implementations on
Toil and rabix bunny.",2017-08-19T09:32:19Z,chapmanb
9d313fa06b52d0adca83825c07f47a483cdcba18,chapmanb,chapmanb@50mail.com,"Docs: remove details on using dir

This is no longer required with bioconda wrapper scripts.",2017-08-18T18:51:24Z,chapmanb
83e29bbd13966286e3d500ae880c47d648cad381,roryk,rory.kirchner@gmail.com,Add GC bias correction to HISTORY.,2017-08-18T17:05:12Z,roryk
a7e726cd56dc075ca8d43d5c8ed033502a74fb05,Lorena Pantano,lorena.pantano@gmail.com,sRNA:skipt razer3 when it's done.,2017-08-18T17:03:59Z,lpantano
840c1a279eff473e896ee3bb8411900c5dedc31f,roryk,rory.kirchner@gmail.com,"Turn on gcBias by default for Salmon quantification.

https://github.com/salmonteam/SalmonBlogResponse/blob/master/SalmonBlogResponse.md",2017-08-18T17:02:31Z,roryk
a71201a1464e277d00ca71634e6f3f735e43fe37,Lorena Pantano,lorena.pantano@gmail.com,sRNA:skip adapter guessing if trimming already done,2017-08-18T16:45:35Z,lpantano
8d9c4df5f4828d5c78020050663a3d0b33d9b135,chapmanb,chapmanb@50mail.com,"Tests: add CWL targets for test workflows

Provides automated testing of Toil and Bunny runs with test somatic
and germline workflow. First steps towards integrating into Travis
CI testing. Handles download and updates of test_bcbio_cwl files.",2017-08-18T10:04:15Z,chapmanb
7c5a90867f37fa4cfdf533b6261f3d82f44fafcb,chapmanb,chapmanb@50mail.com,"CWL: ensure output workdirs owned by user

When running with Docker use an extra Docker run to chown work
directories and avoid leaving behind root owned files.",2017-08-18T09:55:04Z,chapmanb
479c62acfc733cc2149f59e50238fd672af35b0c,chapmanb,chapmanb@50mail.com,"atropos: avoid using `--aligner insert` algorithm

Causes gzip read errors on run tests:

https://groups.google.com/d/msg/biovalidation/VWXtlwp7Vyg/bOlS7pJsAAAJ",2017-08-17T10:02:02Z,chapmanb
accc0fa57e0f7f3a800f01794d0780909f067a93,chapmanb,chapmanb@50mail.com,"BQSR: scale memory in combination with cores

Avoids out of memory issues when running with multiple cores. Thanks to
@ohofmann",2017-08-17T09:58:51Z,chapmanb
17964faa9b82e92b6649511a8d9ae223e29c18d3,chapmanb,chapmanb@50mail.com,CWL: update tool annotations for downsampling,2017-08-17T09:46:10Z,chapmanb
464211e1745272276d933abb6dce3b7a30f0a22b,chapmanb,chapmanb@50mail.com,"Install: avoid `cannot stat master` message

Removes confusing message when downloading CloudBioLinux.
Fixes #2040",2017-08-16T12:20:41Z,chapmanb
da21d30a2b43de5939819d5acd0568474978ac8d,chapmanb,chapmanb@50mail.com,"platypus: add contig to VCF header

GATK4 GatherVcfs requires contig headers, which are missing in platypus
variant calls.",2017-08-16T09:30:23Z,chapmanb
4af878fb56e541e24710db4b880109fd2304e9ef,chapmanb,chapmanb@50mail.com,"CWL: clean up potentially empty file lists

- HLA: avoid single file output and either list of files, empty
  or null.
- gVCF: allow null outputs, generated by Toil for empty lists.",2017-08-15T09:53:29Z,chapmanb
ba1d308cc98be942bbe14f65ca9c86156e6acbf9,chapmanb,chapmanb@50mail.com,"CWL: avoid unconnected input variables

Only include input variables in workflow that get used downstream.
Avoids confusing unconnected inputs and need to manage them. Help
with DNAnexus support. Thanks to @geetduggal",2017-08-15T09:50:22Z,chapmanb
c92b73ae05d8499f2eb1e44147d113129d08240c,chapmanb,chapmanb@50mail.com,trim: bug fix for atropos custom options,2017-08-15T09:34:08Z,chapmanb
2066fbb192df7720e3fd3f6846f8f9ff22b9b741,chapmanb,chapmanb@50mail.com,"atropos: avoid duplicate input options

Check for custom options specified in YAML and avoid duplicating:
https://groups.google.com/d/msg/biovalidation/VWXtlwp7Vyg/ER3WUm3zAQAJ",2017-08-14T18:32:42Z,chapmanb
8137482e169eb34b3758bbe4c976ef6e17d7f11b,chapmanb,chapmanb@50mail.com,Docs: clarify specification of tumor-only samples,2017-08-14T14:13:39Z,chapmanb
530bd7b7b4502810009fb911d69d954ce48983c3,chapmanb,chapmanb@50mail.com,CWL docs: latest improvements and test setup,2017-08-14T09:57:34Z,chapmanb
eaeff005eed15118ad75a392eb7ebfd637bd7b70,chapmanb,chapmanb@50mail.com,"CWL: finalize support for gVCF joint calling

- Fixed creation of post-processed VCF files after joint calling
- Return both combined VCF and individual sample gVCFs",2017-08-12T10:00:42Z,chapmanb
109bf8d50cfaab48acd77137c44a341050d8224e,chapmanb,chapmanb@50mail.com,"Remove sample split behavior for small batches

Previously we split sample VCFs for small batches for 5 or less samples,
but this was inconsistent and often does not meet the specific needs
of users. Now we avoid splitting altogether and leave
processing of batches up to downstream scripts. Thanks to Moiz
Bootwalla.",2017-08-11T09:54:40Z,chapmanb
521e1320678b327fa6b26591f34c3a80675dc07b,chapmanb,chapmanb@50mail.com,"Ensure tabix indexes for vcfanno and priority VCFs

Fixes missing indexes in output directory. Thanks to @ohofmann",2017-08-11T09:31:08Z,chapmanb
fbd472369e0e75df607fb56b734fe3c5c65e34ca,chapmanb,chapmanb@50mail.com,"GATK4: provide useful error message for realign

Indel realignment is not available for GATK4 since it is inefficient
and generally not needed with realignment-based callers. #2037",2017-08-10T14:21:04Z,chapmanb
05f085c7f39985e6433fe9f8df7d9c228efe37ff,chapmanb,chapmanb@50mail.com,"GATK4: prepare and index VQSR recalibration file

In GATK4 the VariantRecalibrator output is a VCF file that needs
indexing with tabix. Correctly generate and index this.
Thanks to @ohofmann",2017-08-10T10:13:33Z,chapmanb
c15cdbb795ae73444657753b966c19dcb5c4e8c4,chapmanb,chapmanb@50mail.com,"GATK4: fixes for GenomicsDB joint calling

GenomicsDB does not support non-diploid ploidy and moving databases.
These are temporary limitations. Avoid transactional directories until
databases are location independent. Avoid changing ploidy with joint
calling until supported.",2017-08-10T10:00:41Z,chapmanb
84e47d04c19708a9276f7b4be130fe4d2944a8e7,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2039 from ohofmann/patch-1

Update README.rst",2017-08-10T09:37:34Z,chapmanb
51ca55425cb5e3c50c82211191a38404a7affdaf,Oliver Hofmann,ohofmann72@gmail.com,"Update README.rst

Updated affiliation",2017-08-10T09:04:24Z,ohofmann
ec199c3e955512c19c0b82c82a01a72aae16be28,Lorena Pantano,lorena.pantano@gmail.com,sRNA:use threads during atropos cmd,2017-08-09T15:27:32Z,lpantano
d67bbab4c610722cabbb4107603588699c21e105,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2036 from matthdsm/master

fixed faulty column numbers in dbnsfp vcfanno configs",2017-08-09T13:03:56Z,chapmanb
ba89da9dad0302d5c290ce3ef629b264806b5c9b,Matthias De Smet,matthias.desmet@ugent.be,fixed faulty column numbers in dbnsfp vcfanno configs,2017-08-09T12:16:19Z,matthdsm
0ce0f674128fb7e154570d7041fafd0e4e7bc41f,chapmanb,chapmanb@50mail.com,"CWL: initial work on gVCF based joint calling

Provides optional parallel sub-workflow for joint calling from
input gVCFs. Still needs work on gVCF merging and final organization
of merged samples.",2017-08-09T09:31:17Z,chapmanb
9ae5245780bba9faf07455a15b65cb571307da5e,Lorena Pantano,lorena.pantano@gmail.com,sRNA:better adapter prediction,2017-08-08T17:52:08Z,lpantano
a2ab2941cfe442853e3bfd3cbac10088525463f9,chapmanb,chapmanb@50mail.com,"CWL: support recalibration, initial joint calling

- Ensure inputs specified for base quality score recalibration and
  final outputs passed on to subsequent steps.
- Initial steps for joint calling: avoid batching samples at calling
  time if gvcf specified.",2017-08-08T09:55:33Z,chapmanb
f9638fb3672ccd3e85fbf903c999b164d2de2130,chapmanb,chapmanb@50mail.com,"FreeBayes: fix paired file reference on re-runs

Removes a bug from re-factoring annotations. Fixes #2035",2017-08-08T05:48:29Z,chapmanb
a3d6c08f6602e44c1e8b77e4a9d3cbf89ccf0a8e,chapmanb,chapmanb@50mail.com,Fix vcfutils merge for standard case,2017-08-07T16:21:52Z,chapmanb
f2448aa7cc837d12be9c445f8482c886f77d7a72,chapmanb,chapmanb@50mail.com,"Sentieon: match tnhaplotyper output headers with MuTect2

Moves more specific Sentieon headers to the String values
used by MuTect2. Fixes #2033",2017-08-07T16:20:13Z,chapmanb
591379ccc6591829b95cff8cde0e417806757b03,chapmanb,chapmanb@50mail.com,"max-coverage downsampling: providing tuning option

Allows turning off or changing stringency of downsampling with
`maxcov_downsample`.",2017-08-07T10:00:25Z,chapmanb
b36556f0f8c537cb20c89d4c54f1d0d6358de0ab,chapmanb,chapmanb@50mail.com,"CWL: fixes for docker support on test runs

- Copying of output files instead of symlinks, since symlinks don't
  transfer out of Docker containers.
- Ensure GATK fixheader output is in work directory, not original
  staging directory on CWL.
- Avoid extra indexing due to timestamp differences",2017-08-06T09:19:05Z,chapmanb
bff131c80d67ab91bafb64ac9f0f6b402ace78ef,chapmanb,chapmanb@50mail.com,"CWL: use 'null' string for empty sentinel

Provides compatibility with rabix bunny and SevenBridges platform which
do not have GUI inputs for null values.",2017-08-05T09:08:24Z,chapmanb
a8d54d652df6d8562ccc7b8e57484ea10f73d9f7,chapmanb,chapmanb@50mail.com,"CWL: move to a single Docker image for VC analysis

Provides fixes for tests in Docker containers (index checking) and
single bcbio-vc point for all tools in the variant calling pipelines.",2017-08-05T09:07:08Z,chapmanb
e219a9379c041a8fd65074b0a81758f324b4796a,chapmanb,chapmanb@50mail.com,"CWL: generalize VC summary to provide VCF outputs

- Provides summarize_vc function to extract variant calls in addition
  to validations.
- Provide variant calls as outputs of the workflow as first step
  to ensure all important outputs represented.
- Fixes issues during testing with merging and maximum coverage
  downsampling for small inputs.",2017-08-04T09:49:07Z,chapmanb
9223defde2b5fc1ec8ccc6161e336f5c8b6fabf6,Lorena Pantano,lorena.pantano@gmail.com,sRNA:adapt atropos to srna pipeline,2017-08-03T18:50:58Z,lpantano
0000bffd6793b756338a4f2cad621dabe47ee7c4,roryk,rory.kirchner@gmail.com,"Only run qualimap for standard RNA-seq projects.

Thanks to @lpantano for pointing out the issue.",2017-08-03T18:49:06Z,roryk
ba4cd98b753ea93baf2ccac33d814ea6b1d54b6c,roryk,rory.kirchner@gmail.com,Turn on quality control summary for single-cell RNA-seq.,2017-08-03T18:26:07Z,roryk
5744a2c01f14ed650564d7e33f56998ff43ab7d8,roryk,rory.kirchner@gmail.com,"Move transcriptome FASTA files to the final directory.

This lets us know exactly what we quantitated against for a
particular project.",2017-08-03T16:33:10Z,roryk
ad619f5f3b2631982c8e1595ced183f66828dbbd,roryk,rory.kirchner@gmail.com,Remove license admonition for kallisto.,2017-08-03T13:27:56Z,roryk
e0c90ea5a6bc60114a25c9d37087ab77ba9dcc20,chapmanb,chapmanb@50mail.com,"miraligner: ensure local anaconda java used

Reworks java path detection and usage to try and ensure we use
anaconda installed Java 8. Fixes #2029",2017-08-03T10:19:51Z,chapmanb
a27f89b72bfc0d056d033fe1cd5574a2a4b5fcdf,chapmanb,chapmanb@50mail.com,"archive: add option for cram-lossless

Do conversion to CRAM without quality score binning. Thanks to
Alison Meynert.",2017-08-03T09:28:06Z,chapmanb
efdf4b39ba2efafaf652791236aee3d20a5a08a0,roryk,rory.kirchner@gmail.com,"Use gffread instead of gtf_to_fasta to make transcriptome indexes.

Closes #2025. Thanks to Rod Docker (@rdocking) for the great bug
report and finding out the solution.",2017-08-02T16:30:21Z,roryk
135580a1222137cd5b91a6a194396999c1c2cb56,chapmanb,chapmanb@50mail.com,"log: attempt to retrieve IP from domain name

Work around issues on machines with multiple IPs and no valid way
to resolve by initially checking, then falling back to previous
approaches if it's a local reference.",2017-08-02T09:28:14Z,chapmanb
0f2c5ac5075c5ae877bd92ac1d42058b58024493,chapmanb,chapmanb@50mail.com,"CWL docs: conda-forge for bcbio_vm installs

Fixes #2027",2017-08-01T18:57:50Z,chapmanb
da82ffd1c707d9338660f7a995e9222273f5cece,roryk,rory.kirchner@gmail.com,"Add support for bioconda plink.

bioconda plink is 1.90 but the exectuable is named plink2.",2017-08-01T17:54:51Z,roryk
854e4dd31cb3c99d30f4d94617e9510e424b1260,chapmanb,chapmanb@50mail.com,"Use atropos for multicore streaming read trimming

Replaces cutadapt as default read trimmer. atropos
(https://atropos.readthedocs.io/en/latest/) is a drop in
replacement with multithreading and streaming outputs to bgzip. bcbio
implementation uses the same paramters as previous cutadapt approach.

- Removes extra trim and double grabix prep steps for alignment
  pre-trimming, avoiding IPython issues.
- Removes old align_prep_method configuration parameter.",2017-08-01T11:01:39Z,chapmanb
b1dd0eede992c4b5760f0ea75e22b681931f25f7,chapmanb,chapmanb@50mail.com,"samtools multicore BAM indexing

Replaces sambamba indexing with new native samtools multicore indexing,
fixed in 1.5 release (samtools/samtools#687). Avoids intermittent
system specific segfaults with sambamba.",2017-08-01T10:41:17Z,chapmanb
c1186a7f7dbc8297d38b1c4ee547deb06dface15,chapmanb,chapmanb@50mail.com,"GATK4: GenomicsDBImport parallelization

Add multicore reading introduced in beta3 release.",2017-07-30T09:51:06Z,chapmanb
a6e144c2863d3e3e846bb90d6840723efc0d85a7,chapmanb,chapmanb@50mail.com,Prioritization: avoid geneimpacts/cyvcf2 import,2017-07-29T10:01:58Z,chapmanb
a1ab5f23262e3f63f60e5dab7b9b0849dad45c99,chapmanb,chapmanb@50mail.com,"Tumor-only prioritization: use vcfanno

Swap to using vcfanno instead of GEMINI for retrieving metrics for
tumor-only prioritization and germline estimation. Avoids needing
a full GEMINI database for assessment.",2017-07-29T09:27:44Z,chapmanb
af5c53428326c9dbeeab3ba44c2d86568a371962,chapmanb,chapmanb@50mail.com,GATK4 BQSR: ensure twobit indexes installed,2017-07-28T13:20:08Z,chapmanb
38919c0952d9ac72adfdb2ec4ec5ece60c57460e,chapmanb,chapmanb@50mail.com,"GATK4 BQSR: Provide reference target for 2bit

Parallel BQSR in GATK4 requires 2bit formatted genomes. Provide slot
and correct lookup of these in preparation for installing them
as part of bcbio.",2017-07-28T10:12:24Z,chapmanb
f151cbcb0e62213f367931f8465eca089a21489f,chapmanb,chapmanb@50mail.com,"Avoid confusing error message if aligner: true

Avoids a resource calculation error before the code that correctly
identifies and provides a useful error message for this error.
Fixes #2024",2017-07-27T16:47:46Z,chapmanb
e6bc207e1851c4e11d8308fb19901562a0692e51,chapmanb,chapmanb@50mail.com,BQSR: add save diskspace stub for recal BAMs,2017-07-27T13:52:24Z,chapmanb
726b13a35934586e4aacbc93a384db218594034e,chapmanb,chapmanb@50mail.com,"merging: add GATK4 GatherVcfs and fix header issue

- Adds GATK4 GatherVcfs, a new rapid way in GATK to combine VCFs
  similar to bcftools concat --naive. Fixes #2023
- Fixes issues with initial scattered contigs from chrM. These are
  haploid called so don't have PID phasing key/value pairs, causing
  missing header problems. Also fixes #1999 which has key errors
  due to checking for GATK variantcallers, which we no longer need
  to do.",2017-07-27T09:43:45Z,chapmanb
80f57fa956258ba95984078e1d9fefcd872e3567,chapmanb,chapmanb@50mail.com,"Max coverage downsample: move to streaming

Stream to maximum coverage downsampling during merging for align_split
samples or after sorting for non split. Avoids slow runtimes for
separate BAM downsampling. Fixes #2022",2017-07-26T19:55:11Z,chapmanb
a99ce290b7a7480f529b2b9d547e846c6ebd2e90,roryk,rory.kirchner@gmail.com,"Add spike in quantification to the fast RNA-seq pipeline.

Closes #1709. Thanks to @schelhorn for the suggestion.",2017-07-26T18:29:06Z,roryk
dde2bca3bcc72ffdcd224d7b707f7bac993e998f,chapmanb,chapmanb@50mail.com,"GATK4: correctly pass memscale to joint callers

Thanks to @NeillGibson. Fixes #2021",2017-07-26T09:52:58Z,chapmanb
fb6dcfb0770294c6ea3728ae16b480b50f73ca45,chapmanb,chapmanb@50mail.com,"GATK4: support for VQSR and MuTect2 fixes

- Document usage of GATK4 with tools on
- Add support for VQSR, updating to latest command line
- Avoid problematic MuTect2 BaseQualityRankSumTest annotation with
  latest GATK4 beta.2 release.",2017-07-26T04:30:34Z,chapmanb
b15a7b9807aadc396039b2461e697ce1072181ce,chapmanb,chapmanb@50mail.com,"Tests: bump genome tarball to fix space issues

Trying to get TravisCI working again with less space for tests
(no STAR index for mm9).",2017-07-25T18:55:41Z,chapmanb
8a2584b4e40735cf36a6e1c912d4b705edd8562c,roryk,rory.kirchner@gmail.com,"Bump maximum number of splice junctions to 2 million for STAR.

For super deep libraries, the default wasn't inadequate. Thanks
to Manasa Surakala for pointing out the problem.",2017-07-25T16:32:00Z,roryk
97f273564bdc7a8e6d716c18f4ed13d8885d770f,roryk,rory.kirchner@gmail.com,"Remove mm9 STAR index from integration test dependencies.

Each STAR index uses ~1.5 GB, which was mucking up the ability to
do automatic tests.",2017-07-25T16:03:03Z,roryk
ad8914c76b1bfc7692cd6063508b687f4b4218a3,chapmanb,chapmanb@50mail.com,"VarDict: skip QC fail reads, avoid high depth",2017-07-25T08:51:10Z,chapmanb
4ee9156da590a71d745c684af12a1f0694c9739f,roryk,rory.kirchner@gmail.com,Remove errant print statement.,2017-07-24T21:12:23Z,roryk
1505ec222fd34bfd11bd8760a7d0981861356ed4,roryk,rory.kirchner@gmail.com,Support order style STAR indices properly.,2017-07-24T20:41:37Z,roryk
995a15c8a5dfe0eb8abb5b57b2b584dd52ec51cf,roryk,rory.kirchner@gmail.com,Add DropSeq support to single-cell analysis pipeline.,2017-07-24T17:31:04Z,roryk
3723c052b60b2042a24fc4ffc60139e8dd79dec4,roryk,rory.kirchner@gmail.com,Add support STAR genomes without transcripts included.,2017-07-24T17:21:21Z,roryk
110b9b5b320e2467bef821e203cffd8591a0a0c8,roryk,rory.kirchner@gmail.com,Add function to check if a BAM file is empty.,2017-07-24T17:21:21Z,roryk
a5907e31ef766ba94e8981335f1a02c5fb83984a,roryk,rory.kirchner@gmail.com,Set comments to 80 character length.,2017-07-24T17:21:21Z,roryk
12f5560d162241314d7658b08c3a32b27b42e11b,chapmanb,chapmanb@50mail.com,"highdepth: max coverage downsampling with QCfail

Downsample to a maximum coverage across whole genome runs, set at
200 times the average coverage. Downsampled reads in high depth
regions get marked with QC fail instead of removed so they are
still available in output files. This handles both collapsed repeats
and smaller (100-200bp) poly-A regions, both of which collect
incorrect reads and cause large runtimes.",2017-07-24T05:03:52Z,chapmanb
db20e309248ffa4897a6f92ec40d497b768001b5,chapmanb,chapmanb@50mail.com,"highdepth: remove old BED/coverage based approach

Step one for replacing attempts to demarcate high depth regions with
a downsampling based approach that better retrieves small regions.
Avoids needing to pass around highdepth BED files and callers needing
specific implementations.",2017-07-24T04:54:24Z,chapmanb
79ce64525e60e2b40b2fe0fbc5b79708699c50e9,chapmanb,chapmanb@50mail.com,"Link to bcbio slides for BOSC 2017

Also attempt to fix travis builds",2017-07-22T06:01:27Z,chapmanb
233c45834006ab955506a30981e943b07c6a665b,chapmanb,chapmanb@50mail.com,"GATK4: support gVCF based joint calling

Implements the GenomicsDB based gVCF workflow for gVCF joint calling
in GATK4. Thanks to @NeillGibson for suggestions and pointers to the
implementation. Fixes #2012

Requires avoiding faster `bcftools concat --naive` for GATK workflows
since that does not correctly merge different GATK headers. Need to
explore any fast options that first merge headers between runs.",2017-07-21T10:15:26Z,chapmanb
598887371b73fa700211108a045e69c04b4e5002,chapmanb,chapmanb@50mail.com,"germline: remove batch requirement for extracting

Applies germline extraction uniformly across tumor-only samples
making it not dependent on batch. Thanks to @vladsaveliev for
identifying the confusing behavior. #2015",2017-07-21T09:17:19Z,chapmanb
0828447734c28690277d3e26f7d71a8a856bcb7a,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #2017 from cbrueffer/cleanup

Clean up unused imports.",2017-07-21T09:11:09Z,chapmanb
ab2d3d6ec68a387cf2a1c03a933f0b68ae3f969c,Christian Brueffer,christian@brueffer.de,Clean up unused imports.,2017-07-21T08:48:25Z,cbrueffer
ac10a3def98160c3515047a4168493d1343083f4,chapmanb,chapmanb@50mail.com,"Avoid confusing errors when genome fasta missing

Also work on improving disk space usage for travis testing.",2017-07-21T07:33:03Z,chapmanb
3f3b22b7f6976c358eb79cf29501d867ffc362f4,chapmanb,chapmanb@50mail.com,"varscan: ensure contigs present in header

Adds contigs for VarScan which is missing in tumor-only cases.
Fixes #2009",2017-07-20T15:24:12Z,chapmanb
f6c1f1b059837c513f3ddd586449c2c1564e5660,chapmanb,chapmanb@50mail.com,"recalibration: support multicore runs

Separates BQSR from realignment and make BQSR runs multicore. Enables
support for GATK4 and Sentieon multicore recalibration which is faster
than the region based splitting approach. Realignment uses regional
splitting and is now separate, as we anticipate it getting used
less over time.",2017-07-20T09:28:45Z,chapmanb
71001feddd870e020c17f59b8d93df25fb994bf9,roryk,rory.kirchner@gmail.com,Skip building Salmon transcriptome if it is already detected.,2017-07-19T18:14:47Z,roryk
321601ab0a34f3bcbde3df83e38457d5517c1fce,chapmanb,chapmanb@50mail.com,"ensemble: document how it selects calls

Provide details about imperfect bcbio method for selecting ensemble
FORMAT calls. #2006",2017-07-19T16:11:15Z,chapmanb
c9565e188d509ad6b54b300a15eb9a634d8d497f,roryk,rory.kirchner@gmail.com,Fix for detecting paired status of BAM files with a large header.,2017-07-18T22:25:22Z,roryk
68c81d678274bc8fc4dea1fcf7e24ccce5e501c0,chapmanb,chapmanb@50mail.com,"Skip bwakit in hg38 without HLA typing enabled

Testing for hg38 alignment slowdowns due to default bwakit
post-processing.",2017-07-18T13:19:15Z,chapmanb
37e52e8b2556b57cadc748f4a45fbc08f1483203,chapmanb,chapmanb@50mail.com,docker: additional space cleanup to reduce image size,2017-07-18T05:36:28Z,chapmanb
31314b629aa21ad816e3efe3cb41dfd774b776da,chapmanb,chapmanb@50mail.com,"BQSR: support Sentieon recalibration

Add `sentieon` BQSR (QualCal) as an option for running post-alignment
variant quality score recalibration.",2017-07-18T05:21:26Z,chapmanb
9ea0fc53e4a5bddd7989afcbeaeefbb70846996b,chapmanb,chapmanb@50mail.com,docker: additional removal of large packages to reduce size,2017-07-17T20:35:40Z,chapmanb
0870d7e0b2ebf8b98088ec642900d72a5e67eb83,chapmanb,chapmanb@50mail.com,docker: remove mkl and mysql to reduce image size,2017-07-17T12:55:35Z,chapmanb
28c1826583b0339609555d35b207459f0adc7009,chapmanb,chapmanb@50mail.com,"BQSR: GATK4 multicore apply recalibration

Provides a separate target for applying recalibration, using multiple
cores. Supports GATK4's multicore ApplyBQSRSpark. Not yet plugged into
full runs pending testing of separation of recalibration from
realignment.

Also adds travis space debugging information for fixing tests.",2017-07-17T05:44:20Z,chapmanb
eafb1f80c6521bd25874476387e2c1735361b6fc,chapmanb,chapmanb@50mail.com,"BQSR: GATK4 support and modernization

Initial steps in supporting multicore BQSR with GATK4 and Sentieon.
Updates code to be compatible with current usage, removing old
mark duplicates built in functionality.",2017-07-16T05:37:27Z,chapmanb
115548dfd1483709a772303ef7b79e76c20636ae,chapmanb,chapmanb@50mail.com,Travis-CI: debug out of disk failures breaking builds,2017-07-14T15:45:51Z,chapmanb
2c276748badde9a700ab8dc1703a4e0c4e291bea,chapmanb,chapmanb@50mail.com,effects: avoid lookup issues with non-CWL snpEff,2017-07-14T08:24:39Z,chapmanb
b3bee6e157851b6e846bb921df8e2da14f456531,Brad Chapman,chapmanb@fastmail.com,"CWL: unpack additional tarballs for runs

Ensure tarballs unpacked across additional run processes, allowing
testing of other compressed directories.",2017-07-14T07:49:00Z,chapmanb
5507de5af995bcfe568e15a7927bc18f31d2c194,Brad Chapman,chapmanb@fastmail.com,"CWL: ensure fasta directories not compressed

Compressed fasta greatly increases disk and time on runs because
of unpacking in each variant calling process.",2017-07-14T07:45:18Z,chapmanb
68b68f7bf127b2bc356ed435023647a8630a3336,chapmanb,chapmanb@50mail.com,"SV: allow skipping genotyping of Lumpy

Adds `tools_off: [lumpy-genotype]` option to avoid Lumpy genotyping in
the case of slow Lumpy runtimes. Re-organizes documentation of
tools_on and tools_off options.

Fixes #2001",2017-07-13T07:33:20Z,chapmanb
8663bc337c2332f64b0dd46d7c80ccb592673b1b,chapmanb,chapmanb@50mail.com,Fix typo in install update,2017-07-13T07:28:04Z,chapmanb
446b8b6c164a4a91af623047040fc82e5130514b,roryk,rory.kirchner@gmail.com,"Add --no-check-certificate to snpEff downloads.

Thanks to hank123ed on the Biovalidation mailing list.",2017-07-12T14:30:54Z,roryk
be7c79817603a4971c9fcab7219d81f40785cb24,chapmanb,chapmanb@50mail.com,"Remove problem characters from batch names

Thanks to @sluke123",2017-07-11T12:50:45Z,chapmanb
63084643693f5e7b94ba73e2b590e3227fd1790d,chapmanb,chapmanb@50mail.com,"Avoid downloads when preparing CWL files

Corrects previous work to allow downloads. The bug was redefining
`integrations` to support Arvados inputs in the global context.",2017-07-11T08:46:37Z,chapmanb
b4dd29988e4ee47b5eb338aa56dc9d8ddba433bb,chapmanb,chapmanb@50mail.com,"Avoid group lookups for files without align BAMs

Handles vrn_file only edge cases, fixes tests",2017-07-10T09:12:17Z,chapmanb
4a4b8de344a917f9e9ed9ce7272e548978598d6e,chapmanb,chapmanb@50mail.com,"GATK4: support gVCF creation

Avoids using GATK3 specific parameters.",2017-07-10T08:19:48Z,chapmanb
01d57604d155363a64fc15b43a038d64218452fb,chapmanb,chapmanb@50mail.com,"CWL: single file tarballs for complex collections

Avoids using complex secondaryFile representations for directories
of files like aligner indices, RTG and snpEff. Instead create a
tarball of files and pass to jobs as a single file. secondaryFiles
are handled differently across platforms and not supported on WDL, so
provides better portability. Also enables snpEff support for effects
prediction in CWL.",2017-07-10T08:12:11Z,chapmanb
8462682a78798925c2859ea5db5e55103968266b,chapmanb,chapmanb@50mail.com,v1.0.4 release,2017-07-09T09:28:52Z,chapmanb
e02adc878773a938861cc11e4fa5a792ae3a5013,chapmanb,chapmanb@50mail.com,"MultiQC: toggle bcbio insert size column

Provide bcbio insert size only if Qualimap not run to avoid duplicate
columns.",2017-07-08T10:15:00Z,chapmanb
5df3b108b0ae66b2065f7e3f9b13e8ea0e625568,chapmanb,chapmanb@50mail.com,"Allow passing resource options to bamtofastq

Enables skipping validation with `disablevalidation=1` in the case
of problematic inputs",2017-07-07T14:14:54Z,chapmanb
bf0e564c43328e5f545fc9ece27682fd125a3776,roryk,rory.kirchner@gmail.com,"Re-enable converting Salmon output to the Sleuth-ready format.

Thanks to @chapmanb for fixing the R issue.",2017-07-07T14:09:14Z,roryk
ef004b38dc3cac9fd14d9d8207531dd1a1cdc1b5,chapmanb,chapmanb@50mail.com,"Raise error if genome does not support hlacaller

Fixes #1998",2017-07-06T17:55:45Z,chapmanb
9f9246687af48daa0f2ec31e79551e8d0b8180e5,Lorena Pantano,lorena.pantano@gmail.com,add new-summary to hisat2 cl. thanks @ewels,2017-07-06T17:14:58Z,lpantano
99ff6e5a3bd56d751eb80991578cc2ff533f4f45,chapmanb,chapmanb@50mail.com,"CWL: handle non-list archive specifications

Helps with SevenBridges compatibility where empty lists are a problem.",2017-07-06T13:19:37Z,chapmanb
a8f10ca9b15008fdee2fd7696fe5139983e3b52d,chapmanb,chapmanb@50mail.com,Docs: link for variant calling training slides,2017-07-06T10:12:34Z,chapmanb
bcc3f9a3a4f9d587ab2041c657695b3396496b23,chapmanb,chapmanb@50mail.com,"GATK: Add low quality, low frequency filter

Provide filter for problematic low quality and low frequency variants
at the ends of reads. This handles issues with adapter heavy data
like 10x and improves specificity generally on standard non-adapter/UMI
inputs:

https://github.com/bcbio/bcbio_validations/tree/master/gatk4#10x-adapter-trimming--low-frequency-allele-filter
https://github.com/bcbio/bcbio_validations/tree/master/gatk4#low-frequency-allele-filter",2017-07-05T09:50:44Z,chapmanb
50666f05fecf06f76aeff65d198e00882be0cbeb,chapmanb,chapmanb@50mail.com,"CWL: avoid partially trimmed secondaryFiles

Avoids missing secondary files where we have a partial extension match",2017-07-04T16:46:30Z,chapmanb
2c652e72af6e547ce8d3aa23d572021276cf34e9,chapmanb,chapmanb@50mail.com,"CWL: better string sentinel null support

- Normalize missing data during variant validation
- Ensure 'null' and 'none' derivatives all work as sentinels
- Set viral files as None instead of empty list

Seven Bridges CWL compatibility fixes.",2017-07-04T15:21:08Z,chapmanb
3269660a8a1e6adcebed18aec2fe75364d550363,chapmanb,chapmanb@50mail.com,"CWL: directory-based secondary file, null sentinel

- Derive syntax to specify secondary files in the same directory as the
  original file. Uses inline javascript to get directory.
- Allow string values wherever nulls available so you can use ""null""
  or ""none"" string as input.

Work in progress support for Seven Bridges CWL compatibility.",2017-07-04T11:08:48Z,chapmanb
19499c8a8c976229cbf9e4a5a73eb316044f437f,roryk,rory.kirchner@gmail.com,"Add native support for Illumina's SureCell single-cell RNA-seq.

https://www.illumina.com/products/by-type/sequencing-kits/library-prep-kits/surecell-wta-ddseq.html",2017-07-03T21:06:12Z,roryk
b35770ae78afb3e3064a011f293a84b06f1277f2,chapmanb,chapmanb@50mail.com,Platypus: ensure ambiguous bases fixed in ALTs,2017-07-03T09:49:29Z,chapmanb
ca0079bd9de805aed8dda340aa4f0102d1201ad3,roryk,rory.kirchner@gmail.com,Pass the data dict not just the configuration.,2017-07-02T21:59:08Z,roryk
8398e9c9ddba50db0272e9f7ee721e0daa9d2f87,roryk,rory.kirchner@gmail.com,"Allow rapmap to run with just a user supplied transcriptome_fasta.

This skips checks for a gtf_file and a FASTA file, since if we suppled
the transcriptome FASTA file we don't need those.",2017-07-02T20:29:51Z,roryk
6a67b47244f71d74673986fac8f1d9c5fdc7b09f,roryk,rory.kirchner@gmail.com,Remove unused duplicate rapmap module.,2017-07-02T20:29:27Z,roryk
e87464c62bec0aada828c264d1959a26a78720e3,roryk,rory.kirchner@gmail.com,Add support for triple-indexed cells for single-cell RNA-seq.,2017-07-02T20:22:36Z,roryk
319538f153646c028c8fcbb2fd7c322f8672476e,chapmanb,chapmanb@50mail.com,"VarScan: improve FREQ fixes for edge cases

Generalizes fixing of FREQ and handles problem cases for no calls
where number of fields are not consistent. Fixes #1989",2017-07-02T10:31:00Z,chapmanb
9bbf8bb25b943dd1b7973a4017b9f7fca277638f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1995 from matthdsm/simple_vcfanno

simplified dbnsfp vcfanno conf",2017-07-02T09:31:24Z,chapmanb
083f23d907f9b99de2a175eead15ce17a7f95882,chapmanb,chapmanb@50mail.com,"GEMINI: avoid data check for non-hg19/GRCh37

hg38 only runs do not require a special data install. Fixes #1992",2017-06-30T09:52:12Z,chapmanb
0176d0b7a7dc58672c60492ce764c71a24aac53c,chapmanb,chapmanb@50mail.com,"VarScan: fix FREQ for population germline runs

Ensures FREQ fixes in VarScan multisample calling.
Fixes #1989",2017-06-30T09:49:27Z,chapmanb
02860b7d9c402e8ec8f79749167b1761be3d2ff3,Matthias De Smet,matthias.desmet@ugent.be,simplified dbnsfp/dbscsnv vcfanno conf,2017-06-30T06:49:45Z,matthdsm
301e7d9e1cceb6b7364399e212dae4da2d2f1195,chapmanb,chapmanb@50mail.com,"CWL: improve compatibility with SBG/CGC

- Ensures secondary files present for inputs and outputs in definition,
  not yet present in CWL record fields since not supported.
- Avoid bare ""null"" types, add string when null only to allow sentinels.

Thanks to @sivkovic and Bogdan Gavrilovic",2017-06-29T14:19:55Z,chapmanb
1ce00003323f71b403591f33666dad45c2c68a97,chapmanb,chapmanb@50mail.com,"VEP: remove genesplicer from splicesite plugins

Avoids slow unstable runs with GeneSplicer. Fixes
chapmanb/bcbio-nextgen#1993",2017-06-28T13:50:41Z,chapmanb
64f1bb39d7d22c7a8b9d31de7c315db0ff81f2c4,chapmanb,chapmanb@50mail.com,Update history with duplex and GATK4 support,2017-06-28T13:22:22Z,chapmanb
ea008dbca2d40a86d9a3c8f124e44c22502e5c5e,chapmanb,chapmanb@50mail.com,UMI: handle QC for duplex read tags,2017-06-27T14:45:19Z,chapmanb
cfe0f2ba80af00f9ad9f139d1f5250460ad100ab,chapmanb,chapmanb@50mail.com,"samtools: fix ambiguous REF and ALT columns

Avoids non-N ambiguous bases in both samtools REF and ALT columns.
Thanks to Moiz Bootwalla
https://groups.google.com/forum/#!topic/biovalidation/ZsJyq4ao14s",2017-06-26T09:55:34Z,chapmanb
69970b67bf3296a5cf9315eddc20275a48ef04c8,chapmanb,chapmanb@50mail.com,"average coverage: quick calculation for WGS runs

Avoid a full sambamba count for average coverage calculations during
WGS runs since this requires a full BAM read. Provides a rougher
estimate since it doesn't eliminate duplicates.",2017-06-25T09:45:13Z,chapmanb
d56b8cb24996bb25c87d7a4edc2e6fa421013bc1,chapmanb,chapmanb@50mail.com,"Allow restarts with empty input fastq files

Special case that allows removal of input fastqs to save disk space
once alignment finishes.",2017-06-25T09:43:24Z,chapmanb
05d09605dacca033e1d67340a48edb5f8b4fbae9,chapmanb,chapmanb@50mail.com,"GATK4: Add post-call filters for MuTect2

GATK4 splits filtering into a separate step, include to fix FP
issues on benchmarks.",2017-06-24T10:43:07Z,chapmanb
c3e27af5fc67f8c1ebeff8e88c5238b64f223d39,roryk,rory.kirchner@gmail.com,Drop sleuthifying salmon output until we can fix the wasabi bioconda issue.,2017-06-23T18:23:05Z,roryk
4860cb19e5f8a7bdbbf88cbe9402ce5cb86508e0,chapmanb,chapmanb@50mail.com,"fgbio: work around long tmpdir issues

Moves to use global options which do not seem to trigger the problem:
fulcrumgenomics/fgbio#256",2017-06-22T14:09:02Z,chapmanb
4436066116f9bcb22c87d652f92b19a19f3ef1c4,roryk,rory.kirchner@gmail.com,"Fix sleuthifying Salmon output.

Thanks to @mmistry82 for pointing out the oversight.",2017-06-22T13:38:34Z,roryk
48c8c72bad5b7ff6ff60ac893b6c3752b972bb4f,chapmanb,chapmanb@50mail.com,"Move boto and azure imports from non-global

Avoids potential import issues when unneeded, since objectstore is
widely imported in bcbio.",2017-06-22T09:51:30Z,chapmanb
af3734226db7b657d27006ab44d92b1d4ba6a1f7,chapmanb,chapmanb@50mail.com,"GATK4: all variant outputs have tabix indexes

GATK4 does not produce a tabix index for bgzip output when the file
has no variants. This causes errors with some CWL runners like cwltool
which require exact matches. Thanks to @jaeddy",2017-06-22T01:08:27Z,chapmanb
468168f78722fdcb9281bc35c8f1fbccae763662,chapmanb,chapmanb@50mail.com,"CWL: avoid docker merge errors with nested inputs

Docker internal merging only required for GATK3 custom installs in
containers which will soon go away with GATK4 pre-installed.
Fixes errors in GA4GH Docker workflow runs.",2017-06-21T00:44:11Z,chapmanb
06fd9d67f79061f6791d75e5b6f3fb760172f680,chapmanb,chapmanb@50mail.com,"UMI: Pass full fastq name for duplex prep

The previous regex only passed the first part of a name, dropping
secondary tag information already present from bcl2fastq.",2017-06-20T09:05:36Z,chapmanb
d9f4b75433089e82450a8351a8f69eaadd8cd71f,chapmanb,chapmanb@50mail.com,"Handle split re-runs with save_diskspace set

If an analysis with save_diskspace failed after split runs finish
but before merging, re-runs would not pick up expected split sizes.
This fixes to have consistent splitting and merging at all stages.",2017-06-19T09:25:43Z,chapmanb
d7af4dd914be502d8afcc8cc8b697dc35d82b7ca,chapmanb,chapmanb@50mail.com,"GATK4: initial support for MuTect2

Enables MuTect2 tumor/normal somatic calling with GATK4 using
`tools_on: [gatk4]`. Still needs additional validation but included
and undocumented so we can distribute for validation runs.",2017-06-17T09:43:50Z,chapmanb
4c1ae889eaff279c4375aebdd392f154fca3828b,chapmanb,chapmanb@50mail.com,"UMIs: support duplex barcode preparation

Handle preparation of duplex barcodes embedded in reads with
bcbio_fastq_umi_prep.py. Converts these into CELL_ inputs in
fastq name to match single cell usage. Move bcbio fgbio process
for consensus read generation to match this. Document updated
script.",2017-06-16T11:48:43Z,chapmanb
c2b489dd7b5d1b45f4a8aa6afec6b022c394730d,Lorena Pantano,lorena.pantano@gmail.com,Qualimap:remove unicode check. It is removing correct values,2017-06-15T18:25:27Z,lpantano
6633172742910e70c4eff0cdd435857a5d7d2db9,chapmanb,chapmanb@50mail.com,"Add `trim_ends` for removal of fastq ends

Provides a faster approach for doing defined end trimming removing a
specific number of bases from reads. Integrated as part of fastq
preparation for variant calling pipelines so avoids overhead of
a separate cutadapt step. #1971

Also improves multicore usage for bgzipping input fastq files for
additional speed improvements.",2017-06-15T09:30:58Z,chapmanb
725e401eecf8a053764a59c3c99f033a62148371,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1975 from matthdsm/vep-spliceregion

VEP tweaks",2017-06-14T20:06:54Z,chapmanb
4d7734d2e2c7025ca5be3c34653e54e2d4420d71,roryk,rory.kirchner@gmail.com,Add support for SCRB-seq run by the LSP.,2017-06-14T02:24:02Z,roryk
ebc062f903015dd289a797005dcb78933776b137,roryk,rory.kirchner@gmail.com,Fix error message for non-supported single-cell types.,2017-06-14T02:23:36Z,roryk
d4891960db538566f7c92f268cbd08c2abcccb54,roryk,rory.kirchner@gmail.com,"Add barcode files internal to bcbio-nextgen for inDrop sequencing.

This provides support for v2 and v3 of the Harvard inDrop protocol.",2017-06-13T19:49:01Z,roryk
af80cd3166538c04b2b3a02ca4243dc4bef2cf56,chapmanb,chapmanb@50mail.com,"CWL: support GATK4 detection without manifest

CWL does not pass around the manifest file of versions and GATK4
doesn't have a way to get a usable version in alpha releases, so
work around detection problems for now.",2017-06-13T14:36:32Z,chapmanb
a3cd884fa989b75e6a9ed612c599e548b68b6d34,chapmanb,chapmanb@50mail.com,"UMIs: consensus generation from duplex UMIs

Generalizes post-alignment consensus generation to handle duplex
UMIs (tag-tag) in addition to current index methods.",2017-06-13T09:48:16Z,chapmanb
5cd1e0faad780f339545baff5e15c15666f0494a,chapmanb,chapmanb@50mail.com,Fix sentinel typo. Thanks to @heuermh,2017-06-12T17:32:41Z,chapmanb
2c54844ab3a699d073bc0182795adf298f6e507a,Matthias De Smet,matthias.desmet@ugent.be,restored vep_convert_cache command to support new flags,2017-06-12T10:29:50Z,matthdsm
c618ea486b2801c59d413eaa1a234423764eab31,Matthias De Smet,matthias.desmet@ugent.be,added flags to vep cache install command,2017-06-12T10:03:53Z,matthdsm
1864e44375d32aeeb796575b080cf9d6f948accc,Matthias De Smet,matthias.desmet@ugent.be,added support for sliceregion plugin under vep_splicesite_annotations,2017-06-12T09:39:13Z,matthdsm
cf57b09e44776f87468714e12cf0d7e7aef4e807,chapmanb,chapmanb@50mail.com,"Enable adapter trimming for variant pipelines

Includes current cutadapt based trimming as part of variant calling
pipelines. Also adds:

- Passing options to cutadapt through resources
- Re-enabling configuration of minimum read length

Fixes #1971. Fixes #1958.",2017-06-12T09:19:15Z,chapmanb
7f832475a2855b8acd345891ab34648d144c359b,chapmanb,chapmanb@50mail.com,Explicitly set path for bwa size check. Fixes #1973,2017-06-11T11:18:53Z,chapmanb
d8c555477940626b9867f445df9090c84dbb178b,chapmanb,chapmanb@50mail.com,"CWL: support WDL generation with structs

Finalizes generation of work in progress WDL that includes structs.
This is a proposal so not yet supported in WDL/Cromwell but provides
test cases to work on implementation and discussion.",2017-06-11T10:09:04Z,chapmanb
a65ced8de8929707246a18575187af2dba9453ac,Lorena Pantano,lorena.pantano@gmail.com,REMOTE:leave Azure before regular HTTP/FTP objectstore,2017-06-10T14:48:54Z,lpantano
9eb3170616d565703ab5afd9218272991c0ac034,chapmanb,chapmanb@50mail.com,"Get ref_file with standard, not old `sam_ref`",2017-06-10T09:46:48Z,chapmanb
88c216829c4e83079d26be38a4802bf3ccec8fbc,chapmanb,chapmanb@50mail.com,"CWL: move sentinels to command line arguments

Avoid setting sentinel value as options since they're not configured.
This cleans up generated WDL to make inputs/outputs clearer.",2017-06-10T09:45:34Z,chapmanb
696a050a8235f689ded14d3f55fa410afe8b7258,Lorena Pantano,lorena.pantano@gmail.com,Update history,2017-06-09T18:25:41Z,lpantano
02d95713c4c548514e11a6a05b7aa2b76fad99e1,Lorena Pantano,lorena.pantano@gmail.com,Merge remote-tracking branch 'upstream/master' into ready,2017-06-09T18:20:33Z,lpantano
5c7e6de6dd6924015520e0e733aab317bc085b94,Lorena Pantano,lorena.pantano@gmail.com,TEMPLATE:Accept remote input in CSV file,2017-06-09T18:20:00Z,lpantano
9def97caa94a41b605a2267c45f1b31c4e20731b,roryk,rory.kirchner@gmail.com,"Add missing paired parameter to MACS2 for chip-seq.

Thanks to Suraj Menon for pointing out the issue.",2017-06-09T17:08:51Z,roryk
651df3ad892ac265c63d344e472ed8e26278f2fb,Lorena Pantano,lorena.pantano@gmail.com,"Allow download files from FTPs/HTTPs

Regular expression detect URL starting with
HTTP(S) or FTP(S) and ending in fastq(.gz) or bam.

Next step to allow user and password with .wget file",2017-06-09T16:59:25Z,lpantano
0c76a2ddd9ec089d954d092543e30247563ff2b4,chapmanb,chapmanb@50mail.com,"Revert to sambamba multithreaded BAM index

samtools multithreaded index can lose reads on range queries
(samtools/samtools#687). Fixes #1966",2017-06-09T15:46:09Z,chapmanb
a304094f1e0b4713badfb9c099c1f7e87a7330bd,chapmanb,chapmanb@50mail.com,"Correct downloading of files with integrations

Avoid always skipping downloads due to presence of empty integrations
with external tools. Thanks to @lpantano",2017-06-09T13:29:16Z,chapmanb
1564e1e93dfab44d8f2fbf353e5fc110671b7d99,chapmanb,chapmanb@50mail.com,VEP cache: bump resource script versions #1970,2017-06-09T09:39:10Z,chapmanb
d4d61d430745c3fa55b9f4a164591e3fca22214b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1970 from matthdsm/vep89

bumped vep cache versions",2017-06-09T09:36:55Z,chapmanb
a75410eb82719cf810856ec57d6891fe30f70a01,Matthias De Smet,matthias.desmet@ugent.be,bumped vep cache versions,2017-06-09T07:09:38Z,matthdsm
02fe4cc2de38f85fb27d5a20ae31a9bedb4f6ed2,Lorena Pantano,lorena.pantano@gmail.com,sRNA:add resources for GRCh37. [skip ci],2017-06-08T19:25:32Z,lpantano
91cd1bc7576be7d979b1314f4e11ada43a94ce19,chapmanb,chapmanb@50mail.com,"GATK4: latest gatk-launch and no SOR SNP filter

Uses `--javaOptions` command in latest gatk-launch script from Broad
instead of custom solution.

Removes SOR filter for SNPs based on validation testing.",2017-06-07T13:07:54Z,chapmanb
ef7a5eda56d3c08604c889d4f2e64f460bdc5488,Lorena Pantano,lorena.pantano@gmail.com,sRNA:fix how cutadapt removes multiple adapters,2017-06-06T20:18:44Z,lpantano
188e52fe917fb8fcf44a581bd69e947a029daa02,chapmanb,chapmanb@50mail.com,"Sort region based analysis by interval size

Re-orders analyses like variant calling so longer intervals processed
first. This avoids end of analysis core under use when a few slower
running intervals need to finish.",2017-06-06T15:30:08Z,chapmanb
92c28e1ccba3b5091749bb954b6c6b55a98f4e7c,chapmanb,chapmanb@50mail.com,CNVkit: re-enable fixed copy number merging,2017-06-06T15:28:38Z,chapmanb
693c58c576324f7167fbce808bc12a652343bf5b,chapmanb,chapmanb@50mail.com,"Avoid `cat: write error: Broken pipe` messages

Checking for fastq sample sizes involves a `head` on a potentially
large input file to avoid reading the whole file. This results
in a spurious `cat: write error: Broken pipe` which can often
confuse debugging. #1968",2017-06-05T09:29:28Z,chapmanb
842ebf3d305a299653c5ba9e94888e6a119e6933,chapmanb,chapmanb@50mail.com,"GATK4: initial support for HaplotypCaller

Work in progress to support the GATK4 alpha version. Includes currently
undocumented `tools_on: [gatk4]` approach to enable GATK4 testing,
using the bioconda `gatk-launch` script. Supports HaplotypeCaller only.",2017-06-04T18:54:30Z,chapmanb
09f26d7249c7c93df00d32cbc2c87cfb59d247f8,chapmanb,chapmanb@50mail.com,"Avoid running damage filter on no call VCFs

DKFZBiasFilter returns an empty file when run on VCFs without any
variants. The empty file, lacking a VCF header, causes issues
downstream. This skips running it if we don't have variants to
process. Thanks to @ssaif",2017-06-03T09:20:11Z,chapmanb
be88841d5dc0a434f5fa3f67924e6a9158100e6f,chapmanb,chapmanb@50mail.com,"VEP: enable HGVS with compressed reference fasta

Detects presence of a compressed reference fasta file and uses for
VEP to re-enable HGVS (which was unusably slow using the uncompressed
index). #1948",2017-06-01T13:28:53Z,chapmanb
f0ec4cd69c20b999a5f31fd743249b020da6d798,chapmanb,chapmanb@50mail.com,"Avoid grabix race conditions with identical inputs

Runs grabix inside of a transactional directory by symlinking input
file, similar to tabix index approach. Thanks to Andrey Tovchigrechko.
Fixes #1964",2017-06-01T09:12:25Z,chapmanb
f2de0944ff9453d18bc9a89395194268b328a323,chapmanb,chapmanb@50mail.com,"CWL: pass sample callable to validation

Previous used full callable list which contained low/no coverage
regions, resulting in higher false positive rates.",2017-05-30T18:57:04Z,chapmanb
1dba586334b46d3bef0afe8b39373e6e74592969,chapmanb,chapmanb@50mail.com,"coverage: fallback for sambamba segfaults

Provides single threaded fallback when `sambamba depth region` fails.
Works around unpredictable segfaults on some systems. Fixes #1959",2017-05-30T16:56:36Z,chapmanb
dd0ae768eac8e262923f981ff3d0a405a2f1a6df,chapmanb,chapmanb@50mail.com,"Validation checking with new pysam 0.11.2.1

New release of pysam is stricter about retrieving non-existing values
and requires and explicit check. Fixes #1963",2017-05-30T13:19:29Z,chapmanb
e261aeb4948b02c5ecfd122402a3e2edc4d3a847,chapmanb,chapmanb@50mail.com,CWL: handle relative path inputs Fixes #1961,2017-05-29T17:29:08Z,chapmanb
44b8473995cbf2b6778f610a9ed41ff159f2aa36,chapmanb,chapmanb@50mail.com,"CNVkit: skip `--filter cn` to avoid edge cases

Temporarily disable to avoid some empty array problems (etal/cnvkit#217)",2017-05-29T10:21:08Z,chapmanb
b9289a06b72b5914367d68bc0e7b13b82b37a3e4,chapmanb,chapmanb@50mail.com,AWS: document region specification #1929,2017-05-27T09:39:34Z,chapmanb
94ace113d171192c6d4354f7842bceaa2cfb4261,chapmanb,chapmanb@50mail.com,"SV prioritize: use temporary directory for sorting

Avoids using potentially problematic global TMPDIR #1954",2017-05-26T13:19:26Z,chapmanb
60a2decc6ace76676e85b834b93b7d2aaaf448c8,chapmanb,chapmanb@50mail.com,"Swap to multicore samtools BAM indexing

Removes older samtools multicore followed by samtools backup to
simplify process #1935",2017-05-26T10:10:00Z,chapmanb
4f195a54764c1d5205b195a8c2d3391c21f65c48,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1953 from vladsaveliev/master

Seq2C coverage file is not batch-level",2017-05-25T20:56:02Z,chapmanb
06d3bb46d667fbfa1e3b3318bf4f84470b069c1b,roryk,rory.kirchner@gmail.com,"Properly resolve path to gtf_to_fasta.

Fixes #1949. Thanks to @leiendeckerlu for bringing up the issue.",2017-05-25T14:28:50Z,roryk
9c493a43648b011fd6db25022da18978e77ccff8,vladsaveliev,vladsaveliev@me.com,Seq2C coverage file is not batch-level,2017-05-25T14:16:00Z,N/A
25030eb6d98ba58f76a4afd2f55e6695b29401c7,chapmanb,chapmanb@50mail.com,"SV: Avoid gene name unicode issues in plots

Fixes #1951",2017-05-25T10:13:54Z,chapmanb
8b547392100392c20b28abb87ee1e02b6d7abe99,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1950 from vladsaveliev/master

Fix Seq2C for paired samples",2017-05-24T23:43:11Z,chapmanb
06ebb51fdeb9332714a4efd3c917e1be78bb735e,vladsaveliev,vladsaveliev@me.com,Fix Seq2C for paired samples,2017-05-24T22:52:28Z,N/A
4d771bbf9c53fb9c710b1d9580ad96552af5a62f,chapmanb,chapmanb@50mail.com,"Tests: move to use native pytest.mark

The pytest.marks add on is not compatible with changes in pytest 3.1.0.
Fixes currently broken CI tests.",2017-05-24T19:51:04Z,chapmanb
905903335855ca1c0129a73000941ccce35a30f3,chapmanb,chapmanb@50mail.com,"UMI prep: handle R1/R2/R3 at end of file

Strip off extension name to ensure identification. Thanks to @lubinskibu",2017-05-24T16:29:49Z,chapmanb
8c3206f131f9b97715d33141e558e1e38a07ac12,chapmanb,chapmanb@50mail.com,"Include FreeBayes dbSNP and GATK annotated file

bcbio would generate annotated GATK and dbSNP files but not include
them in the merged output file, leaving the annotations behind. This
ensures the annotated files get passed. It also handles the backup
case where we want to annotate with dbSNP and GATK is not present.
Thanks to @semal for reporting. Fixes #1943",2017-05-24T10:25:34Z,chapmanb
0f0728fa543337d757b5a641ba5817d18a788d1f,roryk,rory.kirchner@gmail.com,Handle gzipped FASTA/GTF files during genome generation.,2017-05-23T19:59:14Z,roryk
d1fca75850cdb7998c311810b099308e29a46dfe,chapmanb,chapmanb@50mail.com,"pre-aligned BAMs: remove extra contigs

Provides an additional option for managing pre-aligned BAM files by
removing extra contigs; for human, anything that is not chr1-22,X,Y.
This adjusts both the BAM file and reference genome to make it
compatible with tools like GATK downstream. Thanks to @ohofmann",2017-05-23T09:54:14Z,chapmanb
8d1bb9b4111ca5ac32b79957a31383aff1346fe2,chapmanb,chapmanb@50mail.com,"Fix sambamba based BAM indexing

Resolves issues with CWL runs where BAM file staged after bai file
and has a later timestamp.",2017-05-23T09:44:42Z,chapmanb
3ecdd4e504e8ecc42656daa474effc4c73c51dea,chapmanb,chapmanb@50mail.com,"CWL: make HLA and variant calling pluggable

Adds in initial steps to make the HLA and variant calling parts of the
pipeline pluggable based on the input configurations.",2017-05-22T09:57:15Z,chapmanb
5bcfde79c083d5c34f13f81fe578b4606a7cc80c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1941 from matthdsm/vep_fix

fixes for vcfanno/vcf2db error messages",2017-05-22T09:37:37Z,chapmanb
fe52e00617c8e6b15dab3fe9b389948352d963ba,Matthias De Smet,matthias.desmet@ugent.be,fix for chapmanb/bcbio-nextgen#1942,2017-05-22T07:40:40Z,matthdsm
f9f2cdda488d48a0714f8915c979405686f569c4,Matthias De Smet,matthias.desmet@ugent.be,vcfanno clinvar fix https://github.com/brentp/vcfanno/commit/5fcce8db2aeee016ab927c8ca36a715c02f982f9,2017-05-22T07:26:04Z,matthdsm
98f37946509cf7983796234081bb59f3f32c4425,chapmanb,chapmanb@50mail.com,Fix import vim-typo,2017-05-21T10:03:13Z,chapmanb
9912d30ae393fbdd9c343821c7168ac2072e7a37,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1940 from matthdsm/vep_fix

updated vep cache install command, added fasta flag to defaults",2017-05-21T09:40:15Z,chapmanb
4d4cfb8b5af36cc838712e314908bb59fdedfe81,chapmanb,chapmanb@50mail.com,"Calculation of coverage from contigs in BAM file

Creates an fai file for goleft depth using only contigs present in
pre-aligned BAM files. Additional work on support for pre-aligned BAM
files from 10x missing some contigs in GATK hg19 distribution.
Thanks to @ohofmann",2017-05-21T09:39:46Z,chapmanb
12f1fb932ddfe124a0dc68481560505a1041074a,Matthias De Smet,matthias.desmet@ugent.be,"updated vep cache install command, added fasta flag to defaults",2017-05-19T06:58:14Z,matthdsm
15d361c5f1666f067c2d208b815ea58ec2a0739c,Lorena Pantano,lorena.pantano@gmail.com,sRNA: missing tRNA annotation link in dd,2017-05-18T19:08:07Z,lpantano
40ff94e71a5c7784d8bd535875d800240f75ff9e,Lorena Pantano,lorena.pantano@gmail.com,sRNA: change tRNA annotation to use MINTmap for human,2017-05-18T19:02:56Z,lpantano
1acc263bde54d53a038428e5357d4e1f1be5e2b1,chapmanb,chapmanb@50mail.com,"Skip mitochondrial in pre-aligned BAMs

GATK ordering requirements allow chrM before or after chr1-22,X,Y so
we skip checking for pre-aligned BAMs. Thanks to @ohofmann",2017-05-18T14:20:20Z,chapmanb
8557f039a9c5b07bc6842a1ac6a30f766316026c,chapmanb,chapmanb@50mail.com,"Pre-aligned BAM checks with extra chromosomes

Handles pre-aligned 10x data which has less contigs relative to the
hg19/GRCh37 GATK reference. These should only generate warnings
instead of errors. Thanks to @ohofmann",2017-05-18T09:54:59Z,chapmanb
d5eb2b53ba82ac196988d6e6004eed21576ea9d3,chapmanb,chapmanb@50mail.com,"CWL: improve logging for CWL-based runs

- Do not write to stdout/stderr when running with a CWL based tool.
  Avoids filling up log buffers with rabix bunny.
- Ensure logs are properly closed.",2017-05-18T09:26:58Z,chapmanb
9c584ec3fbec3d75ac159db624240c41c866fe31,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1937 from vladsaveliev/master

Fix cnvkit issue on directory names with dots",2017-05-18T09:18:30Z,chapmanb
de1bfa37d22a466f89346f061209c6c87e6111f1,chapmanb,chapmanb@50mail.com,"VEP: turn off hgvs and fix references to merged

- Turn off HGVS preparation, which makes VEP unusably slow. We need
  to debug the cause of the slowdown and re-enable if possible. #1911
- For merged RefSeq/Ensembl transcripts avoid double specifying
  '_merged' extension.",2017-05-18T09:02:44Z,chapmanb
9f45462a2fbd6263482c5f12cb49969b85017848,vladsaveliev,vladsaveliev@me.com,Fix cnvkit issue on directory names with dots,2017-05-17T23:21:01Z,N/A
90315dbaed203666aa35c14256123dad50eb8034,chapmanb,chapmanb@50mail.com,Bump resource versions for new dbSNP/Ensembl versions,2017-05-17T15:35:29Z,chapmanb
9f07abe4a2a1d708d14958919771eabb9a75261e,chapmanb,chapmanb@50mail.com,CWL: avoid warnings with non-normalized None value,2017-05-17T11:50:39Z,chapmanb
0f4f24ae1cf715d5612a62e1cd9a4fce09b3adcf,chapmanb,chapmanb@50mail.com,"qualimap: avoid errors with non-numerical values

Fixes #1878",2017-05-17T09:14:41Z,chapmanb
b77445591e48132146d62143fca09812f2786111,chapmanb,chapmanb@50mail.com,"sentieon: correctly handle non-BED intervals

Thanks to @lubinskibu",2017-05-17T01:18:41Z,chapmanb
3000f555e693ca91061022aaae856e9492398161,Lorena Pantano,lorena.pantano@gmail.com,"Improve docs for file naming. Thanks @leiendeckerlu

https://github.com/chapmanb/bcbio-nextgen/issues/1399#issuecomment-301852205",2017-05-17T00:50:34Z,lpantano
9573fa3be414c98c822149c52781cb0fe7d89878,chapmanb,chapmanb@50mail.com,"CNVkit: merge adjacent calls with identical copy numbers

Thanks to @etal for suggestion:

https://groups.google.com/d/msg/giab-analysis-team/AbsQQ0ZN1RY/0N-D4GIrAwAJ",2017-05-16T18:40:00Z,chapmanb
9c9b854499c37de2ef16e4e6f7155bc8cefd9426,chapmanb,chapmanb@50mail.com,"Check for invalid svcaller specifications

Avoids confusingly skipping callers. Fixes #1934",2017-05-16T10:15:31Z,chapmanb
1747edbd4cf09dd3b0ede7171724875a4409d415,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1932 from cbrueffer/emptysections

Handle empty resource sections instead of crashing.",2017-05-16T10:08:11Z,chapmanb
7ecc427cb495fb1ebb2344b62d1898ae28397127,Christian Brueffer,christian@brueffer.io,Handle empty resource sections instead of crashing.,2017-05-16T08:37:35Z,cbrueffer
311092f23593ab5c0f7f9a7e55cfb6bab12c2edc,chapmanb,chapmanb@50mail.com,"Remove lxml in qsignature and qualiamp

Replaces with beautifulsoup and standard library xml parsing.
Avoids current problems with icu version compatibility #1878",2017-05-15T09:41:49Z,chapmanb
e820f593189aba57b4ce4979554dc2c6db0ea01f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1931 from matthdsm/master

VEP: fixed typo",2017-05-15T09:18:07Z,chapmanb
8dc77658c0ef58a3e33ce0f9adbc24105c216ba7,Matthias De Smet,matthias.desmet@ugent.be,VEP: fixed typo,2017-05-15T06:35:43Z,matthdsm
a898018929e1ce3ccc3158ee2f186b535e6b1f41,chapmanb,chapmanb@50mail.com,"CWL: avoid extra batching specific step

Return output directly from validation into a record instead of
running an additional step. Simplifies workflow.",2017-05-13T09:21:28Z,chapmanb
59dd65004352461f7e3082b12eb850513dd588a9,chapmanb,chapmanb@50mail.com,"CNVkit: handle cases without allele copy numbers

Avoid failing if we could not use VCF input to infer allele specific
copy numbers. Thanks to @lubinskibu",2017-05-12T15:58:11Z,chapmanb
454bb7e21f97df2765c3a730659792dae7e9d4d0,chapmanb,chapmanb@50mail.com,"CWL: remove old commandline serialization code

Removes hacks for supporting multiple samples, instead parsing from
JSON serialized inputs.",2017-05-12T13:23:38Z,chapmanb
75732c32e745d356bb5fac78de5441359a6861df,chapmanb,chapmanb@50mail.com,"CWL: use json input files for all run arguments

Enables batching and multiple sample inputs without needing special
handling for different runners like cwltool and bunny.",2017-05-12T10:39:55Z,chapmanb
618060b404261f27725450fd2dd10b31326b12ed,chapmanb,chapmanb@50mail.com,"CWL: complex record parsing for all steps

Finalizes reworking on record parsing to use JSON inputs instead
of serializing to the command line. This works for QC and variant
calling as well as alignment, so the whole re-worked pipeline now
runs on cwltool and Toil.

Improves representation of batched records by collapsing the records
themselves, rather than items in the records. This enables more complex
batches and makes debugging outputs easier.",2017-05-12T09:16:04Z,chapmanb
1910822e84ede7f39a28428a7cb7ccb14b013ef4,chapmanb,chapmanb@50mail.com,Fix error message for tumor-only tnscope,2017-05-11T23:31:09Z,chapmanb
8d5eba4df6c79c1b450f7b85ebc467ff38109b94,chapmanb,chapmanb@50mail.com,Add credit for Ensembl vep updates in development,2017-05-11T10:11:25Z,chapmanb
ad8e3542467d7a7b776b01c7dacf34869f2e98ce,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1926 from matthdsm/vep_update

vep update",2017-05-11T10:09:30Z,chapmanb
cf9d53adecf4e683ed4384c2cecf3270036fa8b0,chapmanb,chapmanb@50mail.com,"CWL: re-work complex record parsing, in progress

Initial work on switching complex records to dump and read from JSON
files instead of trying to split into parts and pass on the commandline.
These are initial steps to improve compatibility with non-cwltool
CWL implementations and WDL.

Functionality works for alignment, still in progress for variant
calling and QC. Requires more explicit specifications for merging
records, relying less on non-spec features of cwltool behavior.",2017-05-10T09:16:05Z,chapmanb
7d5cc2599b147bd04fb16165253bb25d4406db91,Matthias De Smet,matthias.desmet@ugent.be,updated genome resources and vcfanno config to point to dbsnp-150,2017-05-09T11:19:11Z,matthdsm
a9bea3f74d6c56c419100af040827ef40bb2d2d8,Matthias De Smet,matthias.desmet@ugent.be,"updated genome configs for vep v88, updated effects.py for vep v88, added vcfanno config for dbNSFP and dbscSNV",2017-05-09T10:17:08Z,matthdsm
7046f0a4ce31283850edceac139719fc619302e2,chapmanb,chapmanb@50mail.com,"Fix htslib pinning, no longer needed with new release",2017-05-08T09:41:44Z,chapmanb
552e5f652100738efe8c0fba5d6c8060d5e1ade0,chapmanb,chapmanb@50mail.com,v1.0.3 release,2017-05-07T09:37:00Z,chapmanb
8a6a70b0334159aab8c193f586e4d227a3d6b248,Lorena Pantano,lorena.pantano@gmail.com,"Merge pull request #1922 from stephenturner/patch-1

update config docs PE auto config",2017-05-06T21:52:16Z,lpantano
f9169c5850fd4a3569b32049cf1fd4a7495b9cfc,chapmanb,chapmanb@50mail.com,"UMI: speed improvements for consensus generation

Uses tips from fulcrumgenomics/fgbio#223 to reduce runtimes to ~2/3
of previous. Use separate threads for IO and avoid unnecessary
compression and sorting. Thanks to @tfenne.",2017-05-06T09:43:21Z,chapmanb
b3020c56457d5d78540974fc180e094092bf4b2d,Stephen Turner,vustephen@gmail.com,"update config docs PE auto config

add documentation on problem with sequentially numbered samples",2017-05-05T16:10:12Z,stephenturner
e87d2ea745a989664c071bd5cddd3ae66faed7c2,roryk,rory.kirchner@gmail.com,Move DEXSeq to be an opt-in expression caller.,2017-05-05T15:48:17Z,roryk
8f709e02a018ac23926a7d6bafd55d3fc44dbc63,chapmanb,chapmanb@50mail.com,UMI: ensure output in with_umis output directory,2017-05-05T14:48:07Z,chapmanb
a7049a16cfaf8910bbda3a3750ddab3a0acb70ff,chapmanb,chapmanb@50mail.com,"UMI autopairing: support R1/R2/I1 naming scheme

Provide additional fixes ensuring correct index selection for I1
cases and still supporting R1/R2/R3.",2017-05-05T14:26:29Z,chapmanb
e909d4d432af6849f34d161fd8f1c655c0f17930,chapmanb,chapmanb@50mail.com,UMI autopairing: support R1/R2/I1 naming scheme,2017-05-05T13:24:57Z,chapmanb
bfb6c4e96c30eed87036971854e887a17dbda332,chapmanb,chapmanb@50mail.com,UMI autopairing: support R1/R2/I1 naming scheme,2017-05-05T13:23:47Z,chapmanb
c96c2bd3b1d1eb747bd74b4887a6fdfebd1aecdf,roryk,rory.kirchner@gmail.com,"Allow non-integer 'counts'.  Remove print statement, add logging message.",2017-05-05T02:43:05Z,roryk
b2cfcdf90385d19f96aa4304921f10deeda9786a,roryk,rory.kirchner@gmail.com,Speed up RNA-seq transcript count combining by ~10x.,2017-05-04T20:32:55Z,roryk
ffac03885b317da6e07643ca381fc467fa7ebc2d,chapmanb,chapmanb@50mail.com,"UMI: pass on metrics about consensus reads

Includes cD and cE for consensus depth and error information in
final aligned BAM file for investigating read support in final
called variants:

https://github.com/fulcrumgenomics/fgbio/blob/fb0d7d3f44b8aa28c49e3b26c5be65e96b9fd4a8/src/main/scala/com/fulcrumgenomics/umi/CallMolecularConsensusReads.scala#L80",2017-05-04T10:08:02Z,chapmanb
41701af3b5be2c4f9f747fc79e2be5212d6454fa,chapmanb,chapmanb@50mail.com,Initial work to prepare 10x SV calls for annotation/prioritization,2017-05-04T09:27:23Z,chapmanb
e632d6482b40cfd79cd011d985873cda0ced1c24,chapmanb,chapmanb@50mail.com,"Additional empty/skip outputs in variantcaller

Allows null, empty lists, string values of None and False
to avoid running variant or sv callers. Thanks to @ssaif and @sluke123",2017-05-03T09:39:54Z,chapmanb
c2853e416839168c717b5c3d49e014f474ed91a9,chapmanb,chapmanb@50mail.com,CWL: Avoid string None in validation output naming,2017-05-03T09:37:41Z,chapmanb
3c612d70ee9aa794d0c0f2e82e195f484c7e8e91,chapmanb,chapmanb@50mail.com,"CWL: enable upload of reference data to Synapse

Support infrastructure for GA4GH DREAM challenge",2017-05-01T09:40:53Z,chapmanb
13dfcb34b9e8c166295147a4f81412dec2be6bab,chapmanb,chapmanb@50mail.com,Add links to Cancer Genomics Cloud slides,2017-04-29T10:19:59Z,chapmanb
e4c337c97a1ce5aaea8738d3616186a971b34b25,roryk,rory.kirchner@gmail.com,"bgzip and index joint variant file before filtering.

Addresses #1908.",2017-04-28T22:09:31Z,roryk
e1bc590fa924f49dd3adb97415354ff97efcf14d,chapmanb,chapmanb@50mail.com,"CWL: integrate with SevenBridges and CGC

Recognize SevenBridges and Cancer Genomics Cloud file references,
allowing creation of CWL and sample JSON with IDs retrieved
from the API. bcbio-vm contains integration and API interoperability.",2017-04-28T09:56:40Z,chapmanb
8bff8eee1d22611ea4260ca5dd5b011c49a4bf6d,chapmanb,chapmanb@50mail.com,"AWS: avoid gof3r error when checking paired BAMs

gof3r prints message due to head command truncating pipe. Ignore
this to avoid raising an error in templating",2017-04-27T17:00:53Z,chapmanb
3d1540ee23beefb1cf34d11c9494c78193c52863,chapmanb,chapmanb@50mail.com,Sentieon: complex environmental variable setups,2017-04-27T10:44:21Z,chapmanb
b1d8db8519db850e2e3cd21931ffafdbdb9a375c,chapmanb,chapmanb@50mail.com,"CWL: output grading CSV, multi-samples with bunny

- Adds grading CSV to generated output for GA4GH execution challenge.
- Support bunny command line generation by adding additional flexibility
  in merging complex record inputs.",2017-04-27T09:27:06Z,chapmanb
713bf7179edcdd39dbc4a25fcb0ebb0e8fa2087d,chapmanb,chapmanb@50mail.com,"VarScan: Remove invalid FREQ '%' in tumor only

Previously this was only removed from tumor/normal pairs. Fixes #1914",2017-04-26T09:23:03Z,chapmanb
26b51f27d0febbade02963dbab03e9bf044d9a0a,chapmanb,chapmanb@50mail.com,"Lumpy: update to latest svtyper with downsampling

svtyper 0.1.4 supports downsampling with `--max_reads` to avoid
slowdowns/hangs on complex regions.",2017-04-26T09:21:53Z,chapmanb
832c38fa10dccee9096dae17ccdd70da52102760,chapmanb,chapmanb@50mail.com,"Install: avoid use of mkl libraries

The mkl distribution is large (500Mb) and bloats bcbio Docker
containers. We don't use many python specific matrix calculations,
so we avoid installing with it.",2017-04-26T09:20:30Z,chapmanb
5148dd57ed905b2fc7a9c47b5c028be4b0e69b0c,chapmanb,chapmanb@50mail.com,"Tests: turn off CWL docker in Travis-CI

Currently we have most tests based around a monolithic bcbio/bcbio
container while CWL uses smaller bcbio images. Disable CWL based
tests to avoid pulling in too many docker images until we can
move to primarily CWL-based tests.",2017-04-26T00:21:44Z,chapmanb
3be5db27f0fc0410ee141df5f5ba8bef3462c4f4,chapmanb,chapmanb@50mail.com,"CWL: finalize smaller variant docker containers

Adds program definitions and bcbio-vc and bcbio-qc targets for variant
caling and quality control, respectively. This finalizes the variant
calling workflow to use smaller automatically built Docker containers
for every step.",2017-04-25T09:23:32Z,chapmanb
61fb3ba376b7318ec0a0417511b69f85934ffabd,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1915 from matthdsm/ESP_AF

updated ESP AF calculation",2017-04-25T00:20:15Z,chapmanb
e9691def26a2c412bcd89763f1c26b462bcb4d90,roryk,rory.kirchner@gmail.com,"Output bgzipped and tabix indexed joint and combined RNA-seq calls.

Thanks to @chapmanb and @PatrickJReed for the suggestions.
Addresses #1908",2017-04-24T18:36:53Z,roryk
8fb4de9106d353ff7e3aa877223330a5b9232049,roryk,rory.kirchner@gmail.com,"Sort STAR-alignments with samtools.

The STAR sorter can blow up with some inputs that samtools seems
to handle well, so here we produce an unsorted BAM file from
STAR and sort it ourselves with samtools.

Thanks to Tao Song and Brad Chapman.",2017-04-24T17:15:46Z,roryk
26d4415eed980a70a3d955b8344f6a057dd33804,chapmanb,chapmanb@50mail.com,"Install: less noisy Miniconda wget

Cleans up build logs.",2017-04-24T14:22:14Z,chapmanb
1ab5a501c0afb07d18db3c65a72f8e1d17a3d9ae,chapmanb,chapmanb@50mail.com,"CWL: use custom tool specific Docker images

Moves docker specifications to tools, allowing custom tools for
individual steps with smaller overall sizes. Currently implemented
with bcbio-base, bcbio-align and to be extended to bcbio-vc and
bcbio-qc.",2017-04-24T14:21:04Z,chapmanb
c8ff9844699589f8cda3235d764d224863474a8a,Matthias De Smet,matthias.desmet@ugent.be,updated ESP AF calculation,2017-04-24T13:58:52Z,matthdsm
7f4fb4c7893e43fd9dc9c10f5f80dc5538ea3162,chapmanb,chapmanb@50mail.com,"install: less verbose wget retrieval

Avoids log length errors in Travis CI",2017-04-23T18:31:15Z,chapmanb
a5aa1aaf64c030402fb92263727c2a2cbcd9c0c2,chapmanb,chapmanb@50mail.com,"SV: handle prioritization input VCFs

bgzips input files if plain VCF, like CNVkit input. Thanks to @ohofmann",2017-04-22T13:27:40Z,chapmanb
3a998f7876309cafc456a17aafca866fc55f8e34,chapmanb,chapmanb@50mail.com,"Install: skip putting tests into bcbio egg

Avoids conflicts with other packages which also accidentally do this
at the top level since `find_packages` behavior changed and will now
identify these.",2017-04-22T09:51:03Z,chapmanb
5871c090ff2bd951c8079fda49a6de1142e046bb,roryk,rory.kirchner@gmail.com,"use .vcf extension for gvcf files in RNA-seq variant calling.

produces bgzipped and tabix indexed VCF files. Hopefully
addresses #1908. Thanks to @chapmanb and @PatrickJReed for
working through the issue.",2017-04-21T18:15:28Z,roryk
0ff8ba07807035b8b83b552e6643827a68ee66e3,chapmanb,chapmanb@50mail.com,"Install: allow custom conda YAML file

Enables bcbio Docker builds with a subset YAML containing only
part specific tools.",2017-04-21T16:16:38Z,chapmanb
c11d2226c540eb7c14aaae57854acfa920e30a3f,chapmanb,chapmanb@50mail.com,"Install: allow code-only install to skip tools

Enables code-only installs on minimal Docker images.",2017-04-20T18:56:14Z,chapmanb
49ee527b72568aa9d3ff03162587a3ada005170c,chapmanb,chapmanb@50mail.com,"Install: specify git hash or tag revision

Enables Docker based builds of code at specific hashes for automated
builds.",2017-04-20T18:39:52Z,chapmanb
cc1e80d280e4b526258cd1c83b7a5eb0f77fb4f8,roryk,rory.kirchner@gmail.com,"Disable wasabi until we can get the bioconda package situation fixed.

Temporary workaround for #1900. Thanks to @rdocking and
@mchimenti.",2017-04-20T17:03:12Z,roryk
bd327828078bea4aa356a4d4efc07392f553b142,chapmanb,chapmanb@50mail.com,"CWL: avoid identical input/output attribute names

Add `_toolinput` suffix when input/output attributes for a tool
collide. Recent cwltool/schema-salad check for this and raise
errors.",2017-04-20T09:38:25Z,chapmanb
c9ce8d710f632ed1c57fd1547046c751623399c0,chapmanb,chapmanb@50mail.com,"Ensure R library imports point to anaconda

Avoid using tooldir install since R installations happen via conda
now instead of custom R installs to tooldir. Prevents accidental
import of other libraries. Thanks to @JoKw #1898",2017-04-19T20:28:44Z,chapmanb
a8c879337cfe92ea27eeb134905163a06f5509d1,chapmanb,chapmanb@50mail.com,"SV prioritization: handle multiple batch tumors

Ensures multiple batch tumors get processed separately during ensemble
and prioritization methods.",2017-04-19T20:27:48Z,chapmanb
f26759b80f65e83015275846b3aa20134afedba2,Lorena Pantano,lorena.pantano@gmail.com,RNA:fix table headers when retrieving rRNA information,2017-04-18T18:10:03Z,lpantano
f796d7771441ffd4b748512b3a323e299f7ad66f,chapmanb,chapmanb@50mail.com,Document keyfile for sentieon license,2017-04-18T09:53:38Z,chapmanb
33de1d9edb7bcc80f3b966c7d45f71b6d12124a0,chapmanb,chapmanb@50mail.com,"sentieon: support bwa and TNscope

Adds 'sentieon-bwa' target replacing standard bwa and TNscope
calling support. Requires sentieon license and handles passing
licensing file/server to jobs.",2017-04-18T09:46:26Z,chapmanb
4c77b47da8b43c9afb4a2bd890673e545a82e6af,chapmanb,chapmanb@50mail.com,"SV: Lumpy genotype after prioritization for genes

Moves Lumpy svtyper after simple_sv_annotation to avoid re-genotyping
entire Lumpy call file in the case of gene lists. This improves
prioritization speeds by avoiding working on large input files. Thanks
to @ohofmann

Also cleans up svtyper usage to avoid need for passing split read
BAM which is no longer used.",2017-04-17T09:27:54Z,chapmanb
1e541108467c1712309d58abcb2497f691e527ac,Lorena Pantano,lorena.pantano@gmail.com,RNA:fix salmon file path to calculate rRNA counts,2017-04-15T12:39:04Z,lpantano
d1ae0aa62f6f950b89adac6f477889cb0a201f4f,chapmanb,chapmanb@50mail.com,"Use bcftool 1.4 naive concat for VCF

Replaces GATK CatVariants with bcftools concat --naive, available in
bcftools 1.4. Used for combining VCFs with identical headers from
regional analysis. Thanks to benchmarking from @NeillGibson, this
provides speed ups for large file VCFs by not unpacking and reading
individual lines. Fixes #1675",2017-04-15T09:59:27Z,chapmanb
b3fab9a0d81e78d84a064eb3cb1cc50a76d11152,chapmanb,chapmanb@50mail.com,"Replace pbgzip with htslib 1.4 multithreaded bgzip

Uses new threading support in latest htslib to replace separate
pbgzip executable.",2017-04-15T09:58:59Z,chapmanb
803c6d8f4c32b0005467c405513ec0d8834d75cd,chapmanb,chapmanb@50mail.com,"Replace pbgzip with htslib 1.4 multithreaded bgzip

Uses new threading support in latest htslib to replace separate
pbgzip executable.",2017-04-15T09:47:46Z,chapmanb
db3a1f2ee8e0921703ce0ab7dbddf40d046e3e17,chapmanb,chapmanb@50mail.com,"Tests: avoid version import errors

Changes bcbio imports to avoid errors when running tests from freshly
cloned repository. pytest imports the local code which doesn't contain
a version file unless you've run `python setup.py install`. This skips
the mandatory input to avoid confusing failures. Fixes #1899",2017-04-13T17:18:49Z,chapmanb
f66da3a440617d4e5e7d634e14a03ea779e04bd7,chapmanb,chapmanb@50mail.com,"Isolate R commands by ignoring R_LIBS

Generalizes code to isolate R commands and adds ability to skip
installs in R_LIBS. Fixes #1898. Thanks to Rama Sompallae.",2017-04-13T15:26:53Z,chapmanb
966f2fe347be6a7217d4ee4b15224ed1f38edf78,chapmanb,chapmanb@50mail.com,"Allow custom options for GATK UnifiedGenotyper

Fixes #1897",2017-04-13T14:19:09Z,chapmanb
5cb6c2b583dfe77d05581ad0ae2647b79cf1796d,chapmanb,chapmanb@50mail.com,"CWL: ensure genome_context is list for single item

Handles cases like hg38 where we only have one context file for
post-validation stratification.",2017-04-12T11:49:51Z,chapmanb
76ca14831e64d6bd7917d7462b0a136935c0b387,chapmanb,chapmanb@50mail.com,"CWL: avoid need for version checking in samtools

Makes version check optional for CWL runs that don't pass
program_versions around.",2017-04-12T11:40:10Z,chapmanb
720d3f2fca7ad28e69795d329f0db1c32dc6a815,roryk,rory.kirchner@gmail.com,Create sleuth output for Salmon analyses with wasabi,2017-04-11T19:49:26Z,roryk
9ca957107e12257ae57970c06130e7051c960469,chapmanb,chapmanb@50mail.com,"CWL: ensure cosmic/dbsnp present as keys

Handles cases where these are not available for a genome build.",2017-04-11T17:43:25Z,chapmanb
1e74c7016504c13f0624b98eb9b14bd63706559b,chapmanb,chapmanb@50mail.com,"CWL: handle uneven multiQC inputs

Fixes problems with multiQC combinations after scattering on bunny.
rabix/bunny#94",2017-04-11T10:44:05Z,chapmanb
970145a274277eb35902b994cd7a6d871d2e0559,chapmanb,chapmanb@50mail.com,"SV: annotate delly output with snpEff effects

Allow delly as input to SV prioritization. Thanks to @ohofmann",2017-04-11T09:50:09Z,chapmanb
753f11ff4f9c768899cd0c1243e67524673cc4cf,roryk,rory.kirchner@gmail.com,Fix RNA-seq variant calling with VarDict.,2017-04-10T17:57:06Z,roryk
accb41992eea88df3dbd4f2b1c8ae58ceeb4c3e0,roryk,rory.kirchner@gmail.com,"Restore td2gene functionality.

Thanks to @jnhutchinson for pointing out the problem.",2017-04-10T17:57:06Z,roryk
b0790713d10842f40d52279f7a539501089773a7,chapmanb,chapmanb@50mail.com,"CWL: ensure algorithm_qc, tools_on/off are lists

Handles differences in list specifications between CWL runners
rabix/bunny#94",2017-04-10T15:40:02Z,chapmanb
ab7f3f330d7310bf71dde6fb6bdcf90b9201e1cc,chapmanb,chapmanb@50mail.com,"Include cwltwool2wdl as part of bcbio scripts

Make it easier to run WDL generation without extra downloads.",2017-04-10T10:32:38Z,chapmanb
47a69a8f99a0ed708170ef8f8188d88200b43736,chapmanb,chapmanb@50mail.com,"CWL: improve allocation for non-multicore jobs

Set maximum cores for steps that don't need multiple cores to improve
resource allocation.",2017-04-09T14:09:44Z,chapmanb
a00d9e667b3e3890816024936c7a99af2e12c2f8,chapmanb,chapmanb@50mail.com,"CWL: ensure bwa indices passed when .alt present

Fixes problem for hg38 where additional indices were not passed
as secondary files when .alt identified as main bwa index.",2017-04-07T18:46:48Z,chapmanb
503d7b59a4d2b8fee2397cd123fddaabb356f29c,chapmanb,chapmanb@50mail.com,CWL: support inputs without variant_regions,2017-04-07T14:03:37Z,chapmanb
82cdd8aeac7d22b04557bd5c505da8880314e3fa,chapmanb,chapmanb@50mail.com,"CWL: clean S3 integrated inputs to JSON

Provides entry point to convert bcbio S3 representations (bucket@region)
to the Toil compatible representation (bucket only, region identified
using boto API lookups).",2017-04-07T10:10:12Z,chapmanb
666642f148e1fd9ad1867e4245a2e96b29faac34,chapmanb,chapmanb@50mail.com,"goleft indexcov: pass gender specification

Underlying issue in goleft should be fixes. Thanks to @ohofmann",2017-04-07T00:23:05Z,chapmanb
5322d7ec68254854e0cfc7479e869264b4de4cb6,chapmanb,chapmanb@50mail.com,"sv_regions: allow special cases for specification

Thanks to Rama Sompallae",2017-04-06T18:22:42Z,chapmanb
a15869e868352ff76760e785964df8cde01b751d,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1888 from cbrueffer/qualimap

In the RNA-seq pipeline skip qualimap_rnaseq if qualimap was turned off.",2017-04-06T15:57:16Z,roryk
8db5c943d1fe3e97485ce33acdb8f8bfd5c10e98,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1889 from cbrueffer/options

Honor additional options for hisat2 and VarDict in the RNA-seq workflow",2017-04-06T15:30:38Z,roryk
4fd2606c25c4ba108d14ad4115432a5c2075c634,Christian Brueffer,christian@brueffer.de,Honor additional options in hisat2 and RNA-seq VarDict.,2017-04-06T11:30:45Z,cbrueffer
4bb4931a15ae7bef63ee45c5a1708abca018951d,Christian Brueffer,christian@brueffer.de,"Make clear that only snpEff is the default effects predictor, not snpEff+VEP.",2017-04-06T11:00:33Z,cbrueffer
c52b54f1e9167d6aa541989a3bce973987f787b2,Christian Brueffer,christian@brueffer.de,In the RNA-seq pipeline skip qualimap_rnaseq if qualimap was turned off.,2017-04-06T10:44:40Z,cbrueffer
edb0128a6f4d9de1fb0085e3c01b0bac716a08c9,chapmanb,chapmanb@50mail.com,"CWL: add remote required resources and file sizes

Provides support for hg38 with S3 remote data collections",2017-04-06T10:02:17Z,chapmanb
7e57a31ae6a2c62f550912ab56bce797a064b071,chapmanb,chapmanb@50mail.com,"CWL: handle multiple sort orders for arguments

bunny sorts input arguments alphabetically, so we need to resolve
into records differently. This works cleanly, except for cases with
null values where we can't unambiguously determine which original
array they came from. rabix/bunny#94",2017-04-06T09:59:05Z,chapmanb
a11463fe56af3b25e85ec761ddde3e3675bb0ce6,chapmanb,chapmanb@50mail.com,CWL: fix typo; avoid downloads of s3 during prep,2017-04-05T09:34:28Z,chapmanb
c238acac9ed9022e80d5a1bca7a0a75506300d43,chapmanb,chapmanb@50mail.com,"CWL: support inputs with S3 references

Avoid trying to download S3 references in input files when preparing
CWL workflows.",2017-04-05T09:14:46Z,chapmanb
23f98e24eed2f91b8927c2aef53e7b3a9cf801f5,chapmanb,chapmanb@50mail.com,"SV: cleanups for flexible VCF validation

Handles non-dict inputs, keeps callable region references for use
and avoid re-running validation analyses when present.",2017-04-04T13:42:27Z,chapmanb
71ba15793104c01fa2d8d3b35833e4c43df9e426,chapmanb,chapmanb@50mail.com,"SV: allow VCF validation truth sets

Enables VCF based validation comparisons in addition to current BED
based binning methods. Comparisons with VCF inputs are more flexible
and can span multiple size and event types. Framework for longer term
support for other SV validation tools to plug into.",2017-04-04T09:56:08Z,chapmanb
10a404f8c1d257ee7fa8ab3f44e59b610949689e,chapmanb,chapmanb@50mail.com,"validation plot: compatibility with 1.5 and 2.0

Generalize adjustments for matplotlib 2.0 to work correctly with
older versions. The version resolved depends on other conda dependencies",2017-04-03T10:28:12Z,chapmanb
6965a87a07fabb8d9e51031076d54c58c817f241,chapmanb,chapmanb@50mail.com,seq2c: provide sorted bgzipped VCF output,2017-04-01T18:34:38Z,chapmanb
03f6cc2b1e1d1b7035f77eb8e2fd5e191827097a,chapmanb,chapmanb@50mail.com,"seq2c: create VCF output files for validation

Switch from BED creation to have compatible output for alternative
validation methods.",2017-04-01T18:21:11Z,chapmanb
d7d787127cf217619bb6a6d1ff99b83694389ce5,Lorena Pantano,lorena.pantano@gmail.com,sRNA:ignore files with no adapters removed,2017-03-31T22:22:33Z,lpantano
9f34dd587f947257fe68dd6384533ef429496936,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:creating BAM file to hairpin with razers3

First step to migrate to miRNA annotation using
aligner + mirTOP plugin for systematic naming",2017-03-31T21:31:41Z,lpantano
3180565fa5d4675a3058f5a0213b31ceacf54c68,chapmanb,chapmanb@50mail.com,seq2c: fix `out` naming overlap for outputs,2017-03-31T10:40:33Z,chapmanb
ae6cd0d0bb022d9087d85ce6da65c14b276a368a,chapmanb,chapmanb@50mail.com,"seq2c: output BED file of calls and validate

- Converts seq2c raw log2 output into BED file of called DUP/DEL.
- Add seq2c and gridss as allowed validation targets.
- Avoids multiple seq2c outputs when running with other callers.",2017-03-31T09:52:30Z,chapmanb
8b38e6d54e0ca6725770a8c52b4e2d80e9d9f03e,chapmanb,chapmanb@50mail.com,"Manta: allow germline sample extraction

Renames variant calls in VCF for Manta germline runs.",2017-03-31T09:36:39Z,chapmanb
983f0cbffcd2a3d5c23dcd860189090702fab554,chapmanb,chapmanb@50mail.com,"seq2c: Allow svclass to set samples as control

Enable custom setting of controls for SV calling separate from
tumor/normal status, specifically useful for seq2c process matched
normals. Thanks to @ssaif and @vladsaveliev",2017-03-30T14:24:54Z,chapmanb
6686cd4085d3c6049259625c92fe685efe984552,chapmanb,chapmanb@50mail.com,"install: add cores option to initial install

Documents usage of cores for install/upgrade and adds as initial
choice #1881",2017-03-30T09:41:54Z,chapmanb
55620c2ed86b5612ab5eedd9c11c318d8c2dce61,chapmanb,chapmanb@50mail.com,"Fix ambiguous lowercase characters in VCF

Thanks to Moiz Bootwalla
https://groups.google.com/d/msg/biovalidation/cSEkbxDhMcM/cPf9uoR1AQAJ",2017-03-29T19:53:46Z,chapmanb
2c02ba4550026edcceb905623220507e350f317c,chapmanb,chapmanb@50mail.com,"WDL: support Array[Object] and hg38

- Provide calculation of Array[Object] items to pre-scatter
  for exposing attributes as a list. Thanks to Christopher Llanwarne.
  http://gatkforums.broadinstitute.org/gatk/discussion/comment/37448#Comment_37448
- Add defaults for required CWL resources like cosmic not present
  in all organisms. Thanks to @geetduggal
- Mask problematic naming in snpEff databases for conversion to WDL.
  Thanks to @geetduggal",2017-03-29T12:30:42Z,chapmanb
f324973667467dea00e015b18da31c033894b549,chapmanb,chapmanb@50mail.com,"samtools: fix ambiguous characters in VCF

Thanks to Moiz Bootwalla
https://groups.google.com/d/msg/biovalidation/cSEkbxDhMcM/cPf9uoR1AQAJ",2017-03-29T01:38:00Z,chapmanb
6fd95d3c998d4c6a5be0acca5b399b2cb9d3c7c6,chapmanb,chapmanb@50mail.com,Ensure latest cwltool from bioconda present; fix typing version problem,2017-03-28T15:22:19Z,chapmanb
9c305097a2a0fddd5fdb03426d565d29fc8bd0a9,chapmanb,chapmanb@50mail.com,"ipython: pass total jobs run, not scaled per core

Avoids underscheduling for multicore cases. Thanks to @ohofmann",2017-03-27T22:37:33Z,chapmanb
ba77a4e8764c783f1f7a1636b8787f7e58d4dab9,chapmanb,chapmanb@50mail.com,"ipython: reduce cases where we downscale jobs

Avoids reducing cores to fit controllers/engines on non-reduced
environments. Thanks to @ohofmann",2017-03-27T14:14:55Z,chapmanb
eb047ef8bcacde603eda4b1b4f7ecd41413cbb06,chapmanb,chapmanb@50mail.com,Toil/AWS: update with details on now working tests,2017-03-27T10:43:11Z,chapmanb
368857b47e0e4cd2790d5e42c7a615daf4e0c030,chapmanb,chapmanb@50mail.com,"WDL: generate separate workflows, use local naming

- sub-workflows now need to occur in separate WDL files and get
  imported into main workflow.
- Rename input variables overlapping with outputs to avoid clashes.",2017-03-25T09:55:10Z,chapmanb
8d0453d8bfe332f505e1421fd35eb8fd09db3f11,Lorena Pantano,lorena.pantano@gmail.com,"Update History

[skip ci]",2017-03-24T19:19:45Z,lpantano
8a79ce1d4f1761adf5749c2417703587ad98bfb6,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:integrate DNApi for de-novo adapter detection

thanks @jnktsj and @kepbod",2017-03-24T19:17:12Z,lpantano
ff99bb295b3cbfdc3cc5e852e8a6f37175cc80c5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1875 from cbrueffer/resources

Allow fractional memory specifications (e.g., 7.6G) in convert_to_bytes()",2017-03-24T18:46:37Z,chapmanb
646e5602260fead2388fcd54bb89a78b45ed31e6,Christian Brueffer,christian@brueffer.de,"Allow fractional memory specifications (e.g., 7.6G) in convert_to_bytes().",2017-03-24T12:59:38Z,cbrueffer
2df9b7d7bca076cf00c20110666f66e040b1d729,chapmanb,chapmanb@50mail.com,"WDL: read outputs with standard library, validate

- Uses standard library functions to read bcbio pipeline outputs.
- Adds post-creation validation with wdltool validate, removing
  deprecated python wdl library usage.",2017-03-24T10:43:55Z,chapmanb
b0d7386ab502dbe2a1e7a3c3d8b8e109a8aa5c81,chapmanb,chapmanb@50mail.com,"WDL: output variables in WDL compatible files

Allows outputs of bcbio to be read by WDL standard variables.",2017-03-24T10:20:29Z,chapmanb
3c3f1bd7af3813369f0ae4dc0e79955e931e73a0,roryk,rory.kirchner@gmail.com,"Remove tidy Sailfish/Salmon files.

It is strictly better to use the untidy files since they will
work with tximport.",2017-03-23T23:33:38Z,roryk
c55b02341388f5c89c3583a3c3fa7346d13c3057,chapmanb,chapmanb@50mail.com,"GATK: use single core for GenotypeGVCFs

Works around bug in GATK 3.7 when parallelized:

https://gatkforums.broadinstitute.org/wdl/discussion/8718/concurrentmodificationexception-in-gatk-3-7-genotypegvcfs

Thanks to Rama Sompallae",2017-03-23T18:11:34Z,chapmanb
1db6cde5d58659acc88daf20397f6c50e0d579d8,chapmanb,chapmanb@50mail.com,"CWL: consistent ordering of aligner indexes

Provides alphabetical ordering of indexes from aligners for secondary
files, fixing Travis issues. Handle alternative file names for
secondary file creation.",2017-03-23T15:07:23Z,chapmanb
c13fd50d50221a62f5b62ca65625fd8effeeba40,chapmanb,chapmanb@50mail.com,"CWL/WDL: variable naming and snap fix

- Captures indexes for SNAP alignment with different base filenames.
- Uses underscore names for sentinel flags since dash spaced variables
  not allowed in WDL.",2017-03-23T14:22:40Z,chapmanb
27988c1caf0af0851efbc87d9868424cd9503191,chapmanb,chapmanb@50mail.com,"CWL: create secondary files for aligner indices

Avoids problems with missing indices during current test docker runs.",2017-03-23T09:35:31Z,chapmanb
66f3ea394af5d5e6976aed0fb53ae6bbcfbf4ae0,chapmanb,chapmanb@50mail.com,Be more flexible with htslib pinning for 1.0.2 support,2017-03-22T14:57:11Z,chapmanb
a421c9de7576a0af5f58d10f133c0f8d154e61a3,chapmanb,chapmanb@50mail.com,Ensure pysam compatible htslib installed with 1.0.2 release,2017-03-22T14:09:03Z,chapmanb
02f373a053e18849543522c826270f2b7fc36fe7,chapmanb,chapmanb@50mail.com,"CWL: use record for alignment sub-workflow scatter

Provides WDL compatibility, moving the last non-record based scatter
into a prepared record object:

- Handles input record with overlapping inputs (`files`), taking
  the first one passed in.
- Allows nested records (records created from records)
- Passes along secondary files associated with bwa, snap and bowtie
  indices through records.",2017-03-22T09:22:59Z,chapmanb
2ce537ff836355e3e62af321af05e173399aa7f5,roryk,rory.kirchner@gmail.com,Add chimeric alignment fix.,2017-03-22T01:46:41Z,roryk
2aad6f3caec7f94625a705371fbeb4d1cbe96346,roryk,rory.kirchner@gmail.com,Fix typo in Salmon disambiguation.,2017-03-22T01:43:35Z,roryk
c7e8059a44ff95e010a540965121edc83009a80d,roryk,rory.kirchner@gmail.com,"Fix chimeric alignments with STAR.

Thanks to Ivan De Dios and Suraj Menon for bringing up the issue.",2017-03-21T21:54:40Z,roryk
b1cb01808a3d6257047dcb0b10e17c91c10bd840,roryk,rory.kirchner@gmail.com,Support passing options to Salmon.,2017-03-21T16:37:41Z,roryk
286cbca2422f0ac05200629604f8b6da6a4ef85d,chapmanb,chapmanb@50mail.com,CWL: ensure all keys present for postprocess_rec,2017-03-20T15:07:17Z,chapmanb
e74863b0ceb3e7354dce41a115db0695c9dcfe6c,chapmanb,chapmanb@50mail.com,"CWL: Pass record to postprocess_alignment

Continues support for WDL conversion by using a scattered record
input to postprocess_alignment instead of individual parallel items.",2017-03-20T14:24:31Z,chapmanb
ad3b90daa829bfa515feac418e25feb2b522c43f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1870 from cbrueffer/varscan

Handle non-string resource options similar to VarDict.",2017-03-20T10:09:45Z,chapmanb
10960a1de5e751695d5c1d31ee7cc24a56e1a59d,chapmanb,chapmanb@50mail.com,"CWL: parallelize alignments using a single record

Work on WDL compatibility, move scattering of alignments by region
to use a single record of files and regions instead of multiple
lists. Generalizes support for records and allows specifying
generated output fields in addition to current support for inferring
them from inputs.",2017-03-20T09:37:44Z,chapmanb
86d02c459490ba021c69812dd052cd72e3adafb0,Christian Brueffer,christian@brueffer.de,Handle non-string resource options similar to VarDict.,2017-03-20T09:26:57Z,cbrueffer
dc5bb49b42fda1b04f1132ccaa5d42df04762382,roryk,rory.kirchner@gmail.com,"Switch to Salmon as the default alignment-free RNA-seq quantifier.

Support for Sailfish instead of Salmon remains by adding Sailfish
to the `expression_caller` algorithm.

Closes #1600.",2017-03-20T01:08:57Z,roryk
c7283b9ef2932b10f5813b3c11947857b2dc1f7d,chapmanb,chapmanb@50mail.com,"dbNSFP: remove fields no longer present in 3.3

Fixes #1869",2017-03-19T09:38:10Z,chapmanb
66dba6dcccdff19b6376ba78e41d0d9041abb53e,chapmanb,chapmanb@50mail.com,template: support dictionary inputs with colons,2017-03-19T09:28:40Z,chapmanb
f63f6ec3eb2fe2345a87198fbca21d4a9709cdf6,chapmanb,chapmanb@50mail.com,VarDict: handle non-string resource options #1862,2017-03-18T18:33:20Z,chapmanb
37862108b060fb6ea905faa539083fe9abe41273,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1862 from cbrueffer/misc

Improve resources example; fix a typo.",2017-03-18T18:31:38Z,chapmanb
e6067be1bfef87710e5e5035c67694a8e75e89a8,chapmanb,chapmanb@50mail.com,"Fix SV final upload for complex batch cases

Handles multi-normal and complex batching cases by avoiding
consolidating by alignment BAM file or sample names during post-SV
calling and QC steps. Name output samples by batch in upload
directory to support complex setups. Thanks to @schelhorn. Fixes #1858",2017-03-18T09:48:55Z,chapmanb
f1d0604b5241d3e72a6c29799a59b7486a118709,chapmanb,chapmanb@50mail.com,"Add absolute paths for files in algorithm lists

Ensures relative local paths within lists get normalized to absolute
paths, avoiding normalizing directories. Specifically helps vcfanno
specification, fixes #1860",2017-03-17T14:13:41Z,chapmanb
7ef440e4a57eeb1be7740d73bd3a49b12e1182ac,chapmanb,chapmanb@50mail.com,Docs: improve wording for germline normal calling,2017-03-17T10:00:40Z,chapmanb
3ebbeecd117b19383230a5c5e00001358de5731b,chapmanb,chapmanb@50mail.com,"Move duplicated safe_to_float into utils

Thanks to @cbrueffer #1859",2017-03-15T12:00:43Z,chapmanb
571275bc88a1961d43ca20c62cf773162008861b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1859 from cbrueffer/varscan

More VarScan improvements",2017-03-15T11:39:12Z,chapmanb
ab45ed2af4eadf2f15b95aba728d976e79585582,chapmanb,chapmanb@50mail.com,"Trim: support skewer and input fasta files

Work on trimming for #1837

- Support fasta files as input to `custom_trim` for cutadapt and skewer
- Avoid extra quality trimming with skewer, pass along log file and
  write temporary fasta files into work directory.",2017-03-15T11:19:34Z,chapmanb
efc599b5d6485fb1716dcab4f44f63b985ac888a,Christian Brueffer,christian@brueffer.de,"Improve resources example; fix a typo.

- Quote options in the example to be safe.  Not an issue here, but
  specifying numeric arguments unquoted can lead to type mismatch
  problems.
- Add one more option to the example to make clear how to specify
  multiple options.",2017-03-15T10:07:36Z,cbrueffer
dde29a4f0780fc08634cbc0a67ca30cc67977a70,Lorena Pantano,lorena.pantano@gmail.com,"CHIPSEQ: fix filtering of bam files

actually remove the regions, not the opposite.",2017-03-14T20:46:53Z,lpantano
e3cff6d4d12aaccb179d3c53079a9a3e127c4edb,Lorena Pantano,lorena.pantano@gmail.com,"CHIPSEQ:remove encode_blackregions

https://github.com/chapmanb/bcbio-nextgen/issues/1831

thanks @apastore",2017-03-14T19:56:01Z,lpantano
b8c203e0648f3739e2bc7b86bc8d684085cf87c3,chapmanb,chapmanb@50mail.com,"CNVkit: move new batch outputs to final directory

Changed naming of outputs to avoid multi-normal batching binning issues
(https://github.com/chapmanb/bcbio-nextgen/commit/db10c16d011eafe0dda9876b14bdcb0c4ea30700#diff-9e05b18dca9a5f29b9b5650ac2f39b32)
resulted in CNVkit outputs not getting passed to downstream programs and
uploaded to the final directory. Thanks to @schelhorn. Fixes #1858",2017-03-14T18:59:16Z,chapmanb
396138973a1fe99e220fdaded2e757ef50cfa2c7,Christian Brueffer,christian@brueffer.de,Add recent VarScan changes to the change log.,2017-03-14T18:33:16Z,cbrueffer
a08db6676ef23f13b23bd86b5087f605f556e1e7,Christian Brueffer,christian@brueffer.de,Whitespace fixes.,2017-03-14T18:25:33Z,cbrueffer
010f5c157582c80c6e0aab61dc609b81896a6a3b,Christian Brueffer,christian@brueffer.de,Add --strand-filter for single sample calling to match the paired case; centralize setting.,2017-03-14T18:21:25Z,cbrueffer
70890f58c3a399176175f360541a0c920e27a995,Christian Brueffer,christian@brueffer.de,Centralize setting of some common paired/single calling options.,2017-03-14T11:43:13Z,cbrueffer
fe675959d3f24f458fc0c2aa65b6440f6414a766,Christian Brueffer,christian@brueffer.de,Apply additional VarScan option set in the config.,2017-03-14T11:38:41Z,cbrueffer
c90eb6f678c9c4b3bf920783314760bda6d11d87,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1857 from cbrueffer/varscan

Some improvements and cleanups in the VarScan support",2017-03-14T10:58:23Z,chapmanb
0b5a6d48aa16efb1448a57e49873ec62576111bb,Christian Brueffer,christian@brueffer.de,"Remove a pointless check, we set varscan_cmd right above it.",2017-03-14T10:26:52Z,cbrueffer
dfb91009021bb2abbe3aef71ce7d96b4a2bfbe86,Christian Brueffer,christian@brueffer.de,Rename _get_varscan_opts to better reflect what it actually does.,2017-03-14T10:26:52Z,cbrueffer
8589d4e13ab27899122143c2598a57b62408ac19,Christian Brueffer,christian@brueffer.de,Pass minimum variant allele fraction through to single-sample varscan calling.,2017-03-14T10:26:37Z,cbrueffer
787e030f5fd59f4fc9758441cced6f799d7b874a,chapmanb,chapmanb@50mail.com,Docs: add information about PBSPro support #1856,2017-03-14T10:01:37Z,chapmanb
13b79e649dc43d7c390565f0614f715147ada8c0,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1855 from cbrueffer/misc

Documentation improvements",2017-03-14T09:57:03Z,chapmanb
b4e52a93db79fa5a55dcffa6d4dab8b159e85624,Christian Brueffer,christian@brueffer.de,Correct mark_duplicates description and fix typos.,2017-03-13T17:49:52Z,cbrueffer
bccb81016898a24d627bf6af124634fa141eaf8d,chapmanb,chapmanb@50mail.com,"CWL: write software requirements for steps

Initial work to support smaller Docker containers for bcbio. Enumerates
tools used in individual steps as input for automatically generating
containers.",2017-03-13T09:43:08Z,chapmanb
cbef7049b6a79e6b12a2f31edf2f07f0e656dd9c,chapmanb,chapmanb@50mail.com,"CWL: combine prep_samples input to a record

WDL parallelization requires a single input record. This collapses
the items parallelized in prep_samples into a single record. First steps
toward improved WDL generation support.",2017-03-13T09:34:23Z,chapmanb
f8eec055d02582a08b63d19dff195f869e0f7f96,chapmanb,chapmanb@50mail.com,"Qualimap: avoid double files in output

Double supplied `genome_results.txt` file in both base and secondary
confuses some CWL analysis engines because of staging the same file
twice. @vladsaveliev -- let me know if this breaks anything.",2017-03-12T16:18:22Z,chapmanb
ffc2aae0183e03927b122bf9b7e7ab7b24d7f112,chapmanb,chapmanb@50mail.com,"Update validation plots to support matplotlib 2.0

Fixes labels and colors for new matplotlib release, which changed
some of the interactions with seaborn for setting styles.",2017-03-12T09:59:43Z,chapmanb
01ffd2d1e052303c6b9919388350d01dd7d91775,chapmanb,chapmanb@50mail.com,Lumpy: remove workaround for older svtyper,2017-03-11T10:30:36Z,chapmanb
879431f45433a3089943890c078a8e47f68b1ee8,chapmanb,chapmanb@50mail.com,"Tests: drop gridss in cancer test

Latest version 1.3.2 runs into Picard SAM Strict validation errors",2017-03-10T21:39:18Z,chapmanb
848aed519d7d3262a55b06f871a546541e583499,chapmanb,chapmanb@50mail.com,"Tests: avoid import errors on bare clone

Move imports into test runs to avoid errors when trying to run
on a freshly cloned bcbio GitHub instance. pytest tries to import from
the local module and will fail since the version.py file did not get
created locally.",2017-03-10T21:08:53Z,chapmanb
b6fbe20800bb4389f064faa9aa07b8b2b6ae70d5,Lorena Pantano,lorena.pantano@gmail.com,"CHIPSEQ:compress bdg files.add CWL compatibility

path files are stored in a dict

https://github.com/chapmanb/bcbio-nextgen/issues/1831
https://github.com/chapmanb/bcbio-nextgen/issues/1817

Thanks @lbeltrame",2017-03-10T18:33:39Z,lpantano
e4eac2950230ffd35471b923300b704288201ebd,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1853 from vladsaveliev/master

Seq2C custom options fix",2017-03-09T15:31:57Z,chapmanb
c4cf4c4eba7421b8e86f1ca7e5f0dcacbff474d7,vladsaveliev,vladsaveliev@me.com,Seq2C custom options fix: avoid control options overriding custom options,2017-03-09T15:17:55Z,N/A
9f49f08edba56c69e217ec80daec43eec0a5860f,chapmanb,chapmanb@50mail.com,seq2c: allow specifying options through resources,2017-03-09T14:16:02Z,chapmanb
4d82bb00d2ebe02ece682a8b03c2f88df1d1dbb4,chapmanb,chapmanb@50mail.com,"Consistent FreeBayes multisample ordering

Ensures FreeBayes somatic and multi-sample calling order is
consistent between subset chromosome regions. Fixes #1848",2017-03-09T10:55:34Z,chapmanb
61736495918279165e95d29c972fcb318c7cbbcd,chapmanb,chapmanb@50mail.com,"bowtie2: allow specifying resource options

Allows testing multi-mappers for amplicon TruSeq analyses #1837",2017-03-08T15:48:55Z,chapmanb
868484265bff70b6949ca5de81f39bca718e1778,chapmanb,chapmanb@50mail.com,"Allow mixed list/string input for somatic/germline

Fixes #1846",2017-03-08T10:34:22Z,chapmanb
9f067974049815ef51dc427842049ded09a8f5f8,chapmanb,chapmanb@50mail.com,"qSignature: fix lxml.etree import

With recent lxml requires explicit import of etree. Fixes #1850
Thanks to @ohofmann",2017-03-08T10:33:14Z,chapmanb
7ce0f06bed727fc7ac127e170a29b77a04ef2058,chapmanb,chapmanb@50mail.com,v1.0.2 release,2017-03-07T11:26:17Z,chapmanb
8d62ee7d611918f6e8a49e95da8a2b7e6adda32f,chapmanb,chapmanb@50mail.com,"Upload: avoid double upload of population VCFs

More carefully manage output and naming of population VCFs with
introduction of vcfanno. population VCFs can be identical to sample VCFs
when we don't split samples and use only annotation and not
decomposition. In that case we only output population level VCF and
avoid samples. When we generate GEMINI databases and decompose
population VCFs we output both. Also fixes naming of output files
to be uniform. Thanks to @vladsaveliev",2017-03-06T10:45:10Z,chapmanb
22fa24660461ca261520169de74481e5dcf43f12,chapmanb,chapmanb@50mail.com,"CNVkit: avoid re-calculation of (anti)targets

Speeds up re-runs with CNVkit by avoiding recalculation because of
BED file re-preparation.",2017-03-06T10:40:23Z,chapmanb
16ed18d739dd2bc01cbc7c108c0966f127b67f8f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1842 from vladsaveliev/master

Qualimap file upload improvements",2017-03-06T10:39:15Z,chapmanb
61d18c57f8f57819781202d91b94a346038d16f2,vladsaveliev,vladsaveliev@me.com,Qualimap: uploading html and images; cwl-style upload for rnaseq version,2017-03-05T22:25:39Z,N/A
fa5b1d87beed2dd91e7e36515df1f63fb088bb22,vladsaveliev,vladsaveliev@me.com,MultiQC upload file list: qualimap plots data files special treatment,2017-03-05T17:42:47Z,N/A
3833ba1c7288219fa35fe72e81e1b9fa09071646,Lorena Pantano,lorena.pantano@gmail.com,RNAseq: fix sailfish index checkpoint,2017-03-05T00:22:31Z,lpantano
42e4c3e50292699b983bd709e2391465431407e2,chapmanb,chapmanb@50mail.com,Validation: clean up plot spacing for two samples,2017-03-04T10:52:39Z,chapmanb
050c61951a6f2408be853a7188360dd8c3a334bb,chapmanb,chapmanb@50mail.com,Examples: use bcbio installed NGv3 for exome,2017-03-04T10:50:06Z,chapmanb
6d452e58006ff568920ebc8d1655b8248d0cbbac,chapmanb,chapmanb@50mail.com,GEMINI: fix typo in supplying gVCF file #1839,2017-03-03T11:06:08Z,chapmanb
33ea9213ad1a9169eb8e6a6c1d67f6d6b52cf438,chapmanb,chapmanb@50mail.com,"Doc: single approach to setting up testing install

Avoids having multiple recommendations for setting up a testing
environment which was confusing. Recommend automated installer
based approaches:

https://groups.google.com/forum/#!topic/biovalidation/hQbV8vsMnzY",2017-03-03T10:45:45Z,chapmanb
3aec22ec4636578aebf29afd4cb2e0d96a6674c6,chapmanb,chapmanb@50mail.com,"SV: avoid GRIDSS disk space usage problems

Do no use less compressed BAMs for temporary fixes. Thanks to @
d-cameron #1829",2017-03-03T10:31:00Z,chapmanb
ec2fe87f1a835dc978ceed37b714fb5affe042b6,chapmanb,chapmanb@50mail.com,Fix typo in GiaB validation change. Thanks to @andreyto,2017-03-02T18:41:04Z,chapmanb
bbca51af7311c7bf604f3abfd6c2cbccf45bd95e,chapmanb,chapmanb@50mail.com,"QC: document metrics vs files dictionary output

Also avoids adding metrics if we have a dictionary of files. #1840",2017-03-02T13:15:54Z,chapmanb
f2cb77b922b98afb3669e1cb49cd8099c168e47c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1840 from vladsaveliev/master

Fix coverage QC metrics for WGS",2017-03-02T13:10:20Z,chapmanb
30283673049daded1766bfaa29818f31116e7987,chapmanb,chapmanb@50mail.com,"SV: initial support for GRIDSS caller

Calling for single sample, paired somatic and pooled cases with
GRIDSS (https://github.com/PapenfussLab/gridss). Uses the top level
gridss.CallVariants target for doing all preparation from aligned
input files. It works on smaller samples but uses a lot of time and
resources on large WGS runs; ideally we'll re-use previous components
from bcbio preparation in the final integration. #1829",2017-03-02T10:40:13Z,chapmanb
37e8f150117d64c8ad88d7361603b130b43efc76,vladsaveliev,vladsaveliev@me.com,Fix coverage QC metrics for WGS,2017-03-01T21:53:02Z,N/A
db10c16d011eafe0dda9876b14bdcb0c4ea30700,chapmanb,chapmanb@50mail.com,"CNVkit: split coverage for multi-tumor normals

Separates coverage calculations by batch for samples where we
share a normal with multiple tumors. Follow up fix to:
124c2b7ebe38147c7a700f20a1005bb2f1ff4ee1
Thanks to @phu5ion",2017-03-01T21:14:02Z,chapmanb
b70f5cfb2499e759083098b16037844b160b48d4,chapmanb,chapmanb@50mail.com,"Validation: use up to date GiaB truth sets

Thanks to Tim Slidel",2017-03-01T19:31:57Z,chapmanb
7767e9918a10190d64dc4291f215765040a0d823,chapmanb,chapmanb@50mail.com,"Allow separate usage of vcfanno and GEMINI

Finalize configuration parameters for vcfanno and GEMINI to allow
separate usage of each. `tools_off: [gemini]` turns off default GEMINI
creation, allowing configuration of vcfanno with
`vcfanno: [gemini, /your/custom/ann.yaml]`. Fixes #1573",2017-03-01T10:39:47Z,chapmanb
124c2b7ebe38147c7a700f20a1005bb2f1ff4ee1,chapmanb,chapmanb@50mail.com,"CNVkit: separate bin estimates for multi-normals

Avoids issue where bin size estimates differ for normals attached
to multiple tumors, by assigning batch information to target/antitarget
BED outputs. Fixes #1116. Thanks to @phu5ion",2017-02-28T16:58:37Z,chapmanb
e4e5e936f172d4dc431d3f1fe7268b6b694982dc,chapmanb,chapmanb@50mail.com,"Use `tools_on: [lumpy_usecnv]` for Lumpy/CNVkit

To feed CNVkit input as prior evidence to Lumpy, explicitly turn on
with `tools_on: [lumpy_usecnv]`. This changes the default, which
always ran CNVkit in a separate stage prior to Lumpy and caused longer
runtimes since they couldn't happen in parallel. Part of larger move
to use a separate explicit recalling step for SV calling instead
of this custom integration.",2017-02-28T10:37:58Z,chapmanb
684c23f24296821ea6229daf350190a6c2c0d617,roryk,rory.kirchner@gmail.com,Add sample_barcodes to the singlecell RNA-seq configuration.,2017-02-27T18:38:14Z,roryk
c083dee2c1abfaa3be49dc94ea1846b39518f6c7,chapmanb,chapmanb@50mail.com,"UMIs: provide lower consensus quality values

Revert consensus back to previous defaults before
https://github.com/fulcrumgenomics/fgbio/commit/81199f0a273073b293dbb09c9405d1e8a0c53b72
Allow configuration for adjustment. Thanks to @mjafin",2017-02-26T18:33:53Z,chapmanb
138fcdbde7d62a9b30798cf1a4109d380957346b,chapmanb,chapmanb@50mail.com,"Template: avoid empty values in CSV lists

Avoids errors from extra ';' separators. Fixes #1830",2017-02-24T10:15:27Z,chapmanb
f0deeddfcc7416bd1d9255b639979ebcaf90f277,chapmanb,chapmanb@50mail.com,"CWL: avoid use of json in sentinels

Confusing escaping of JSON serialized objects in sentinel defaults
can cause issues with runners (rabix/bunny#94). Simplify serialization
to avoid JSON and present runner complications.",2017-02-23T14:08:04Z,chapmanb
29dca15c14f1f5ccd84e8cd1a661732b425ce569,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1827 from apastore/patch-4

Update macs2.py with dm3 genome size",2017-02-23T10:24:19Z,chapmanb
bc6caa20a293b4ebfdf3eb7ae67a9d74a39691d3,Lorena Pantano,lorena.pantano@gmail.com,UPLOAD: restore up_to_date condition,2017-02-23T03:01:06Z,lpantano
60d27844d6b6c9b31bab7962a539acef5340716d,Lorena Pantano,lorena.pantano@gmail.com,"UPLOAD: fix copying an entire folder to upload folder

something happened here: 85c7902e21c41327ce5d1f07cd120ad2580a1ba5

For rnaseq/chipseq and maybe others where
entire folders are copied to final directory
inside each sample (like salmon, sailfish, macs2 ...)
were missing.

Hope this fixes, but it would be good to keep an eye

@chapmanb @roryk",2017-02-23T02:33:53Z,lpantano
21b5e16598bc7d4b13b656f63e0fc123885c58f4,Lorena Pantano,lorena.pantano@gmail.com,fastranseq:Missing import,2017-02-23T02:32:18Z,lpantano
6374c7de62a5994d810d67ee06c661b40095fb1e,apastore,alessandro.pastore@gmail.com,Update macs2.py,2017-02-22T21:37:25Z,apastore
054314eac8c6419b7e87e232914b1e97a7006c2f,chapmanb,chapmanb@50mail.com,"Move lxml to soft imports to avoid icu version

Works around current problems with ICU version pinning in conda-forge:

https://github.com/conda-forge/conda-forge.github.io/issues/326

https://groups.google.com/d/msg/biovalidation/seu4rjkUD9w/N1VSG-nzBgAJ",2017-02-21T01:36:26Z,chapmanb
f7060c9de310cca2fa8024875aa32d60c14b130c,chapmanb,chapmanb@50mail.com,"CWL: uniquify input validation files by checksum

Identical staged files from multiple samples will be in different
directories so make unique via file contents.",2017-02-20T15:00:33Z,chapmanb
6308e8278e6fbdd3f6bbfdc2e3a27496711ebc3b,chapmanb,chapmanb@50mail.com,"Allow arbitrary configuration files for vcfanno

Enables plugging in custom annotation files for running vcfanno on
output variant files. bcbio concatenates multiple files before running,
allowing supplementing the existing gemini annotations with additional
values or replacing the built in annotations. Use:
```
config:
  algorithm:
     vcfanno: [/your/vcfanno.conf]
```
To specify input paths. Fixes #1573",2017-02-20T10:27:44Z,chapmanb
2eb5aa1824c9c0646d1f9b978007804171b5cb1b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1821 from vladsaveliev/master

MultiQC: upload file list into final",2017-02-19T10:38:00Z,chapmanb
c6ccd062e747046ae1a2851d46a87817a78a1bd1,chapmanb,chapmanb@50mail.com,"Reduce VarDict maximum memory usage via BED sizes

Reduces the maximum BED file sizes allowed through VarDict to reduce
memory usage to ~1Gb/core. Fixes AstraZeneca-NGS/VarDictJava#64",2017-02-19T10:32:07Z,chapmanb
d4d4d059080952b82e56e96ee031c9c0e745a9d7,vladsaveliev,vladsaveliev@me.com,MultiQC final file list: make paths relative to upload root (#1708),2017-02-18T21:12:32Z,N/A
6e425c34f2931fa85a90892ea879379c889e1a8f,chapmanb,chapmanb@50mail.com,Docs: update with latest Toil AWS status,2017-02-18T20:10:34Z,chapmanb
30139ab46dfca3552bc47dfa4464e9b7767b92ff,vladsaveliev,vladsaveliev@me.com,"MultiQC: upload file list with paths in ""final"" directory (allows to rerun after ""work"" is removed, #1708)",2017-02-18T16:23:05Z,N/A
85c7902e21c41327ce5d1f07cd120ad2580a1ba5,vladsaveliev,vladsaveliev@me.com,"Upload to filesystem: separate get and update functions, and add a function to get all upload paths",2017-02-18T13:48:10Z,N/A
a6df96038acbbbc0543cc7ce8ed4698aa0d9fd85,chapmanb,chapmanb@50mail.com,"Damage: annotate INFO field instead of FILTER

Move DKFZBiasFilter outputs from FILTER field into an INFO annotation,
DKFZBias. This allows detection of damage artifacts without explicit
filters.",2017-02-17T20:03:46Z,chapmanb
04968862870f0930715059e18ff6b350c809ab07,chapmanb,chapmanb@50mail.com,Add missing import for novoalign runs Fixes #1819,2017-02-17T10:42:29Z,chapmanb
f6fbb7ee50d9e643be07c46b84f38f4258b3e1a0,chapmanb,chapmanb@50mail.com,Update Miniconda refs to point to changed URL,2017-02-16T01:09:52Z,chapmanb
8021e0fc4a6c9b206be25a0d15f6cd870137ca55,chapmanb,chapmanb@50mail.com,AWS CWL: document in-progress Toil work,2017-02-15T10:36:16Z,chapmanb
a49db8e27d0a7499269e50434544c919a55ade60,roryk,rory.kirchner@gmail.com,singlcell rnaseq: Add combined singlecell sparse matrix output.,2017-02-14T19:33:24Z,roryk
fba303431833a915e9a01189c2d53580f953c6f7,chapmanb,chapmanb@50mail.com,"VEP dbNSFP: revert back to vetted annotations

Fixes #1804 issues with spaces in other fields. We can work to slowly
add back in useful fields based on community feedback.",2017-02-14T10:17:05Z,chapmanb
f4af588dfef259d4a79688bad37398105b3f8aa8,roryk,rory.kirchner@gmail.com,Output single-cell RNA-seq counts in MatrixMarket format.,2017-02-14T01:50:40Z,roryk
935457d571fedcfedcf3b7a2c262b12018fecf22,chapmanb,chapmanb@50mail.com,bam_to_wiggle: avoid dependence on bcbio config,2017-02-13T20:00:20Z,chapmanb
fae9e0eb63e7f8ebda519dd807cb2d05c3feb0e5,chapmanb,chapmanb@50mail.com,"CWL: ensure coverage passed to prep_samples

Previously left out, leading to missed coverage preparation and errors
since it's an expected field (or null) from inputs.",2017-02-13T10:18:08Z,chapmanb
9f12e221e1c1013c316f47ae0f38e9323602fe24,chapmanb,chapmanb@50mail.com,"goleft indexcov: finalize MultiQC plots

Prepares output for MultiQC ingestion and handles sex chromosomes
failure cleanly.",2017-02-12T10:41:16Z,chapmanb
792f7e8450922e121d0dcb2846999ea8530c851f,chapmanb,chapmanb@50mail.com,QC: ensure damage filter uses active caller,2017-02-11T21:06:45Z,chapmanb
935f7f5347d6ce97c15ef980dfc9c085b52fddd6,chapmanb,chapmanb@50mail.com,QC: correctly pass VCF file to damage summary,2017-02-11T20:27:29Z,chapmanb
f095e45a3aa673df8885d0a9dfbb0d69c238ef5e,chapmanb,chapmanb@50mail.com,"Fix FreeBayes somatic filters for tumor/normal

New versions of FreeBayes do not provide consistent tumor and normal
ordering in VCF output, resulting in an incorrect somatic filter.
The updated filter automatically determines position of tumor and normal
sample, avoiding the need to hard code this.",2017-02-11T19:49:04Z,chapmanb
eef6220ed516050bcfdeae423fbc52be9d93ad9e,chapmanb,chapmanb@50mail.com,"SV prioritize: move VCF files to upload directory

Puts SV prioritization input files in the final upload directory.
Thanks to @mjafin.",2017-02-11T10:31:18Z,chapmanb
b64eb6dfa6e63a7bf976c13a891d3f7bd00d7195,chapmanb,chapmanb@50mail.com,"QC: add damage filtering to MultiQC

Calculate changes filtered for damage/bias and report in MultiQC.",2017-02-09T16:10:36Z,chapmanb
a003647f58a1c4b8c9bc4566294ef6f05aab26e3,Lorena Pantano,lorena.pantano@gmail.com,"SPIKEIN: change the kmersize index in spikein.py

@vbarrera
cc @roryk, the code is separated from the rnaseq/salmon.py,
mainly because those functions need GTF to generate index and
here we have directly FASTA files. Probably needs to factor a little
bit more code in salmon.py to be used from spikein.py directly.",2017-02-09T15:47:14Z,lpantano
f7b4126909e825b24cf90f001d6c8f5dc096ea77,roryk,rory.kirchner@gmail.com,"Don't make Salmon indexes with a kmer size longe than the read length.

Thanks to @vbarrera for pointing out this problem.",2017-02-09T03:09:13Z,roryk
5aa5d2aad48e6cd1c1f77424b161fed0f3c9b592,chapmanb,chapmanb@50mail.com,"Drop MutationTaster_AAE dbNSFP VEP field

Removes another problematic field with spaces #1804",2017-02-08T16:13:12Z,chapmanb
62cdb22a5ef8053442c74bc9f1a9d8baeac9d18f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1806 from matthdsm/master

VEP: fix for genesplicer plugin",2017-02-08T15:52:26Z,chapmanb
de5c9fe83d49f2a29ddf627893f067264fee8d0a,chapmanb,chapmanb@50mail.com,"Viral detection for variant calling cancer samples

Uses virus sequences from TCGA GDC distribution and provides simple
counts of unmapped reads in MultiQC report. #1575",2017-02-08T14:34:15Z,chapmanb
470751b793f031e1a200743dfd5d00d333f15d48,Matthias De Smet,matthias.desmet@ugent.be,more fixes for genesplicer,2017-02-08T09:48:47Z,matthdsm
3a7358f291c652b188e0f6c46dcb85d90016e56b,Matthias De Smet,matthias.desmet@ugent.be,genesplicer fix,2017-02-08T09:22:53Z,matthdsm
b4722b3542ccccaff5fc982989829378dd5ff2d4,chapmanb,chapmanb@50mail.com,"Ansible AWS: ignore intermittent apt errors

Thanks to @ohofmann",2017-02-08T01:24:21Z,chapmanb
8cfffded61f861cd850a831644935334d8bbe423,chapmanb,chapmanb@50mail.com,"Remove dbNSFP interpro_domain from VEP output

These fields have spaces and are not properly escaped, causing VCF
parsing errors. Fixes #1804",2017-02-07T17:03:23Z,chapmanb
3338c534c41cbc0e6de7bd21757afc904fc39a30,Lorena Pantano,lorena.pantano@gmail.com,"PREP SAMPLES: allow full name comparison

when merging samples it could be the stem of files
are the same, but not the full path. This will give an issue
as it is because we expect all files to have different names.
If paired files are in the same folder, then we can compare
full names and it should work.

No compatible with:

* same file names in different folders
* paired files in different folders

In this case, or rename files, or move paired data to same folder.

Thanks @pengxiao78

https://github.com/chapmanb/bcbio-nextgen/issues/1802",2017-02-07T16:53:04Z,lpantano
1ff89c86f4db4add612e320ca434909966779fa5,chapmanb,chapmanb@50mail.com,"Filter low frequency somatic variant artifacts

Adds `tools_on: [damage_filter]` target that uses DKFZBiasFilter to
filter low frequency artifacts due to DNA damage or PCR bias.
https://github.com/bcbio/bcbio.github.io/blob/master/_posts/2017-01-31-damage-filters.md",2017-02-07T12:37:49Z,chapmanb
0fa588e94f34ff9fc8425fa680546ffcbd7539b5,chapmanb,chapmanb@50mail.com,"Bump versions for genome resources with genesplicer.

Ensures new updates get pulled into installations. #1784",2017-02-05T10:42:49Z,chapmanb
c7c1ad5341201e2b2068bce7f0090309dbfe5adb,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1784 from matthdsm/vep_fix

Fixes for VEP",2017-02-05T10:42:01Z,chapmanb
3c5c68e1285661c5ce1d0eb9f368da2714640502,chapmanb,chapmanb@50mail.com,"UMI: add core restriction to fastq prep script

Better scales fastq UMI preparation script by controlling core usage.
Avoids excessive file I/O on large numbers of input fastq files.",2017-02-04T10:57:40Z,chapmanb
742ebd25a34c5e56e93f57c229ad7e189f608d53,chapmanb,chapmanb@50mail.com,"Coverage: amplicon/capture off-target threshold

IDT panel pull downs have very low off-target values, triggering
incorrect assignment as amplicons. Adjust the threshold from 5%
to 1% to compensate when assigning coverage approach to take.
Fixes AstraZeneca-NGS/Reporting_Suite#111",2017-02-03T13:22:51Z,chapmanb
60662ff2af4b11f825567e5992fda5aa2f21f798,chapmanb,chapmanb@50mail.com,"VarDict: adjust filtering for 1.4.9 release

Latest release avoids double counting overlapping fragments but
requires a slight adjustment in post-call quality score filtering
for low depth reads. This improves sensitivity and specificity in
validations against the DREAM synthetic 4 dataset:

http://imgur.com/a/SF2a8
https://github.com/AstraZeneca-NGS/VarDictJava/issues/60#issuecomment-276657197",2017-02-03T13:18:41Z,chapmanb
472d90a641b44784204afb623f31f5a47a6e41fc,chapmanb,chapmanb@50mail.com,"Docs: details on usage of callable regions

Improves descriptions of standard run processes. Fixes #1801",2017-02-03T11:52:09Z,chapmanb
8be4024caec5e890575d00be6e4a4371cba4e185,chapmanb,chapmanb@50mail.com,"Template: correctly strip .R -R common extensions

Correctly handles initial fastq naming using alternatives to _R1
naming. Thanks to @vbarrera",2017-02-03T01:33:26Z,chapmanb
1b7b4c5a33a772e134043f2cb051a088a53ba016,chapmanb,chapmanb@50mail.com,"vardict germline: output all position variations

Adds `-A` flag to var2vcf_valid.pl which improves sensitivity and
catches tricky cases. Thanks to @gabeng

https://github.com/AstraZeneca-NGS/VarDict/issues/35#issuecomment-276738191",2017-02-02T10:43:47Z,chapmanb
87b677e2aad53ab727324485c3f4a88d74f85810,chapmanb,chapmanb@50mail.com,"QC: skip goleft indexcov for non-genome samples

goleft indexcov does not provide useful metrics for capture or
amplicon samples and can cause errors when coverage is missing from
sex chromosomes. Fixes #1793",2017-02-02T10:30:31Z,chapmanb
98b580b00b626f702ba0e4fbcf7f135955dd0367,roryk,rory.kirchner@gmail.com,"Add more informative error message when umi_type is mis-specified.

Thanks to Suraj Menon for pointing out this poor error message.",2017-02-01T21:12:41Z,roryk
1f406c2d3e037dd564cd831c5c0f351d8e0af877,roryk,rory.kirchner@gmail.com,Fix double uploading of quantification for fast RNA-seq.,2017-02-01T21:12:41Z,roryk
b8f4d65012d347b64582a860e5ab4558c4af9875,chapmanb,chapmanb@50mail.com,"Avoid checking BAM inputs when bgzip files present

Allows removal of inputs after initial successful run without errors.",2017-01-31T10:54:23Z,chapmanb
2b50f09b36b13b5a8838fcb5e591fc0381b74a7a,chapmanb,chapmanb@50mail.com,"VarDict: add contig to header; avoid bcftools msg

Avoids bcftools warnings about contigs in headers by adding directly
to ouput of VCF generation.",2017-01-30T10:33:16Z,chapmanb
bd926f473e9dd4e5074810a59a8caaa28a55d475,chapmanb,chapmanb@50mail.com,"QC: ensure all files enumerated for coverage

Adds covered BED files produced during analysis to outputs for
inclusion with MultiQC and output directory. Thanks to @mjafin and
@vladsaveliev",2017-01-30T10:26:21Z,chapmanb
7a17728cb64af959e1a45a60fc3797c9db94677a,chapmanb,chapmanb@50mail.com,QC: avoid gender errors with indexcov #1793,2017-01-29T22:13:19Z,chapmanb
11aff7c63cfc865f5ffbf81e7c1b0a473f0dd51e,chapmanb,chapmanb@50mail.com,YAML check: avoid errors with window line endings,2017-01-28T14:20:52Z,chapmanb
86dd316e245e9ef7fce5d3cbfd06da9189c33d0b,chapmanb,chapmanb@50mail.com,"Always use multiple core for analysis re-runs

Avoids confusing core behavior with checkpoints on re-starts of analysis
in a previous work directory, for local multicore runs. Parallel
IPython runs still use checkpoints to avoid restarting clusters.
Fixes #1765",2017-01-28T11:28:51Z,chapmanb
9ba15c970d29964123276c9ec489173c87dea02d,chapmanb,chapmanb@50mail.com,"QC: CWL and indexcov fixes

- CWL: handle cases where coverage not available for a sample.
- indexcov: correctly collapse out_files on reruns. Thanks to @mjafin",2017-01-27T19:30:29Z,chapmanb
5df45a5fb92123f7ca5dfb7cfe0a7a465e42087b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1790 from vladsaveliev/master

Fix race condition in coverage QC",2017-01-27T15:06:19Z,chapmanb
6bfefc0b67b806bb82a348817f5e61ad7c1e28c2,vladsaveliev,vladsaveliev@me.com,"Fix race condition in coverage QC (coverage bed preparation, padded bed preparation)",2017-01-27T14:49:05Z,N/A
15d5d4a43bcd163fd1b1c03f6156ae70eb403643,chapmanb,chapmanb@50mail.com,Docs: match `tools_on: vcf2db_expand` naming,2017-01-26T11:03:40Z,chapmanb
dc60623b60f47a5cfce9fe01d1b730eb66416610,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1782 from matthdsm/vcf2db-expand

added expand flag to vcf2db command",2017-01-26T10:57:42Z,chapmanb
5bb78ec3258e8b65c72102b31f90758c1ed0d442,chapmanb,chapmanb@50mail.com,"Alignment prep: skip pre-bgzipped input files

Thanks to grabix files in arq5x/grabix#17, we no longer hang on
Illumina bgzip inputs and can avoid re-preparing fastq inputs
that are already bgzipped.",2017-01-26T10:50:46Z,chapmanb
aae6a563513d348dcb1f4c1cc43ca9499e59a44b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1786 from felciano/patch-1

Fixed missing quote",2017-01-25T18:25:14Z,chapmanb
2cb8ea279da3246b4387b84bda4794445fc0f365,chapmanb,chapmanb@50mail.com,"Ansible: document automated AWS setup + ssh

Add details about new bcbio-vm approach to automate creation of AWS
resources in specific regions and zones. Add documentation on setting
up ssh for automated connections and avoiding host name issues.
Thanks to @ohofmann and @brainstorm",2017-01-25T18:17:28Z,chapmanb
b99a3e92e1ac8cadeac2d18f1359b6bd2cbb864f,Ramon Felciano,felciano@yahoo.com,Fixed missing quote,2017-01-25T17:55:04Z,felciano
1add33cae4bcab6a8031f531b546e37872b77d1b,Matthias De Smet,matthias.desmet@ugent.be,genesplicer: removed all trailing slashes from genome resources,2017-01-25T13:53:34Z,matthdsm
623ece4645692fe4dbee76d8c77cd5ef487a1ecf,Matthias De Smet,matthias.desmet@ugent.be,cleaned up bcbio_system.yaml,2017-01-25T13:52:20Z,matthdsm
9e6f01b624f7b1dc1e37b052c4dbb1083a191406,Matthias De Smet,matthias.desmet@ugent.be,removed --fields flag support from vep args and supporting functions,2017-01-25T13:50:13Z,matthdsm
939c4f185a81743a48122a42a06630e9e76d6850,Matthias De Smet,matthias.desmet@ugent.be,"added vep_splicesite_annotations flag to 'tools_on' to enable maxentscan and genesplicer, updated docs",2017-01-25T13:46:40Z,matthdsm
f488a99b1f651bba092ffd7f49b2e04e4c1c50a5,Matthias De Smet,matthias.desmet@ugent.be,VEP: added missing flags to reflect the --everything approach,2017-01-25T13:43:39Z,matthdsm
e3238e048c4a5ad1a44d8ad9e29e95ab4642abb1,Matthias De Smet,matthias.desmet@ugent.be,"VEP: modified default dbNSFP fields to include all available predictins EXCEPT those already added by VEP, or those that contain population data (most likely also already added by VEP)",2017-01-25T13:41:42Z,matthdsm
88a4b7c074870ca3da9701cbc3257d2b14c474e2,chapmanb,chapmanb@50mail.com,"py3: remove remaining uses of six.iteritems

Removes remaining six shims for iteritems, replacing with .items. Fixes
current bcbio/install.py problem breaking automated travis tests.",2017-01-25T13:24:51Z,chapmanb
99f5c4188d67289683c01984365a8b31473b9266,Matthias De Smet,matthias.desmet@ugent.be,"added vcf2db_expand option to tools_on, added docs",2017-01-25T07:29:56Z,matthdsm
1a41dd20da6ac603b8516917437c96809c489002,roryk,rory.kirchner@gmail.com,"Force samples to be read as strings.

numeric samplenames were not being found because of a type mismatch
when calculating the rRNA percentage.",2017-01-24T21:20:17Z,roryk
8c9a3f213d4bdb0129fb99e54eaec7cefb0c63c0,chapmanb,chapmanb@50mail.com,"Germline: avoid errors with normal-only somatic

Fixes chapmanb/bcbio-nextgen-vm#161",2017-01-24T19:38:33Z,chapmanb
e289a2a174be757f124449e84d4d92fcc4a0f66b,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1783 from brainstorm/ansible_aws_ubuntu_16.10

First successful ubuntu 16.10 aws ansible run",2017-01-24T18:59:53Z,chapmanb
9e1309b038e87691018e6cff5533acdde0bd2147,chapmanb,chapmanb@50mail.com,"QC: run goleft indexcov

Prepares coverage metrics for samples using goleft indexcov and passes
along for incorporation into MultiQC. Next step is to add MultiQC module
to plot.",2017-01-24T16:36:09Z,chapmanb
3b1945f01064314611d6e2cd0947b5d20a5c62cb,chapmanb,chapmanb@50mail.com,"Fixes to support development GEMINI version #1781

- Fix highdepth calculation from callability improvements with goleft
  to avoid cases where we have no highdepth regions.
- Change GEMINI imports to reflect GeminiQuery location",2017-01-24T16:16:16Z,chapmanb
0da8cca28c964dbf6b63e095b7a2ce12501e3895,Roman Valls Guimera,brainstorm@nopcode.org,First successful ubuntu 16.10 aws ansible run,2017-01-24T13:28:19Z,brainstorm
39f3ac87d81b236d37e0555489e0caa98781fab0,Matthias De Smet,matthias.desmet@ugent.be,added expand flag to vcf2db command,2017-01-24T13:26:23Z,matthdsm
1c884894ec272fee569d2715e229c8d483394a48,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1777 from matthdsm/vcf2db-fix

fix for vcf2db warning messages",2017-01-24T11:33:57Z,chapmanb
de960ca2c9e0f7b92f9e25b8e9330bef364d4cdc,chapmanb,chapmanb@50mail.com,"Install: GEMINI only for hg19; Docs: update AWS

- Only run standard GEMINI data install if hg19/GRCh37 specified
  in genomes. Fixes #1778
- Update documentation for ansible AWS approach thanks to feedback
  from @ohofmann and @brainstorm",2017-01-23T16:29:02Z,chapmanb
c653acc1ce089a0c2e8e8195dcf92d58ba3d2721,Lorena Pantano,lorena.pantano@gmail.com,"sRNA: update genome resources for GRCh37

thanks to @ramaniak
https://github.com/lpantano/seqcluster/issues/21#issuecomment-274380762",2017-01-23T15:37:55Z,lpantano
f27f26c945ba415a55b2b8816af651f75f9a8b5f,Matthias De Smet,matthias.desmet@ugent.be,fix for vcf2db warning messages,2017-01-23T11:50:58Z,matthdsm
9d5232684763db34accb6837712bfcf9423c0a02,chapmanb,chapmanb@50mail.com,"callability: default parameters to goleft depth

Avoid passing windows or custom bed files to goleft depth to improve
callability assessment runtimes. We were not using depth files in
downstream processing and need to reassess for CNVkit and other
usage. Thanks to @brentp. Fixes #1731",2017-01-23T10:42:27Z,chapmanb
79fc3c6b4fad8f2916af1786582b6d557a4d3bca,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:add more info messages for debugging

https://github.com/lpantano/seqcluster/issues/21#issuecomment-274280129",2017-01-22T15:07:17Z,lpantano
5defac5c7b46db4be87a0a2d90558029e8e96f1c,chapmanb,chapmanb@50mail.com,"py3 support: items() instead of six.iteritems

Prefer using `items()` instead of six.iteritems. items() isn't an
iterator on py2 but that's not necessary for our uses. Initial work
towards py2/py3 compatible code base with minimal shims.",2017-01-22T11:33:43Z,chapmanb
1e0cfd9936b414bf4ea753d232260c2ae1bc5b5f,chapmanb,chapmanb@50mail.com,"QC: initial work to incorporate goleft indexcov

- Move coverage QC into separate module instead of base `qcsummary.py`.
- Framework for running goleft indexcov but needs fixes to incorporate.",2017-01-22T10:52:17Z,chapmanb
f8e40376ca0837895fe38f5447f24528386b4e87,chapmanb,chapmanb@50mail.com,AWS: improve ansible docs; feedback from @ohofmann,2017-01-21T20:11:53Z,chapmanb
32c5acf36754d8606d26b8364d33583ea228c1f5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1770 from matthdsm/master

cleaned up iRODS upload code, switched upload approach",2017-01-21T10:47:09Z,chapmanb
0a99e4ed12d688ebf5bfe2f921630b4c884576cf,chapmanb,chapmanb@50mail.com,"Ansible AWS: improve documentation and automation

- Automate format, mounting and creation of bcbio work directory on
  new volumes as an initial starting point.
- Improve documentation on setting up AWS and required infrastructure
  for run.

Thanks to @ohofmann",2017-01-20T21:10:20Z,chapmanb
fdf3c50b8c5175b4564f945b7659a1b86b171857,chapmanb,chapmanb@50mail.com,"MultiQC: hide samtools cigar-based error rate

Confusing table value of mismatched / bases based on CIGAR strings",2017-01-20T20:41:35Z,chapmanb
0177acf208cf126b582f57950cfdd54bd4d76b48,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1772 from vladsaveliev/master

Fix vcfanno dbSNP race condition when writing the config file",2017-01-20T14:18:59Z,chapmanb
32dda6dc4e20454c89b399ab2ea500b3ccf665e5,vladsaveliev,vladsaveliev@me.com,Fix vcfanno dbSNP conf writing race condition,2017-01-20T13:41:49Z,N/A
fba34fd879b231c9db64aee8c45df8b7d09ce655,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1751 from mr-c/py3

add remaining py3 compat",2017-01-20T10:35:33Z,chapmanb
3690d90c3fd97c819d6a517ec0a434e63bb3e9a2,chapmanb,chapmanb@50mail.com,"FreeBayes: vt uniq to remove duplicate variants

Avoids duplicate variants after normalization in repeat regions.
Validation at http://imgur.com/ii3cbUF. Fixes #1733",2017-01-20T10:32:01Z,chapmanb
6039e6f386c111f9ec22d4252c311e3fda8a3f13,chapmanb,chapmanb@50mail.com,"MultiQC: ensure local anaconda bin in PATH

Injects git into PATH to avoid errors on systems without it. Fixes #1769",2017-01-19T17:51:38Z,chapmanb
d926c33d35050c1f69e023539ce76ebdb7af5a05,Matthias De Smet,matthias.desmet@ugent.be,"cleaned up iRODS upload code, switched upload approach",2017-01-19T13:13:20Z,matthdsm
09fffb97f53762b8d8ee21ad29b223436b496322,chapmanb,chapmanb@50mail.com,"SV: improve lumpy runs from pre-aligned BAM files

Use extract-sv-reads (https://github.com/hall-lab/extract_sv_reads) to
avoid need for expensive name sort to pull split and discordant reads
from pre-aligned BAM files. Fixes #1738. Fixes #1664. Fixes #1526",2017-01-19T11:27:33Z,chapmanb
9680be90cc2f2266ea6e785e304d5181177a3732,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1763 from matthdsm/master

fixed some typos and missing info in the docs",2017-01-19T10:34:02Z,chapmanb
83f4d09aeede180c0831e78ec9fca501c176fc3f,Matthias De Smet,matthias.desmet@ugent.be,fixed some typos and missing info in the docs,2017-01-19T07:07:10Z,matthdsm
01186f9a913b4030fe95e5983670737c2ea785be,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1762 from vladsaveliev/master

Variant QC upload fix",2017-01-19T00:38:07Z,chapmanb
56ceb26d6d7f074d6e67434804fdbd828b766e0b,vladsaveliev,vladsaveliev@me.com,Variant QC upload fix,2017-01-18T22:39:35Z,N/A
9244f638c5976be8fbc2cc4bf51f58af611c22b1,roryk,rory.kirchner@gmail.com,"Calculate singlecell cellular barcode histogram using known barcodes.

Also add cellular barcode filtering to singlecell integration
test.",2017-01-18T21:51:23Z,roryk
73a7cfe80908d28030c073ddbf700c0db5faf21f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1746 from matthdsm/irods_upload

added iRODS upload module, currently without support for metadata",2017-01-18T18:13:35Z,chapmanb
ce48f7a08b5e40a7ec793fedf2a81bb10ce7c28c,roryk,rory.kirchner@gmail.com,Fix overwriting single-cell RNA-seq counts with barcode histogram.,2017-01-18T17:07:52Z,roryk
c21d0e86bd1ac2347f64545f154c7bc152a90684,chapmanb,chapmanb@50mail.com,"Lumpy: initial support for latest svtyper

Upgrade to latest svtyper release (0.1.1) to provide speed improvements.
Not yet the default in bcbio to maintain back compatibility with last
release. #1753",2017-01-17T14:59:19Z,chapmanb
25ae29cd7859d9b183d33c41b8b84f696b35583c,chapmanb,chapmanb@50mail.com,v1.0.1 release,2017-01-17T10:48:20Z,chapmanb
b1ad5a4cb38f2e42343b1a2e362ef3b83922c345,chapmanb,chapmanb@50mail.com,"Improve annotation speeds for dbSNP and VarDict

Swap to use a vcfanno based lookup pipeline for assigning dbSNP rs_ids
to VarDict calls. Provides major speed-ups over bcftools annotate.
Also ensures rs_id tagged outputs get passed to downstream merges.
Thanks to @gabeng. Fixes #1750",2017-01-17T01:39:55Z,chapmanb
d7694dfc893a94cb4efeb6870de8b45de6556a62,chapmanb,chapmanb@50mail.com,"delly: update to support latest release

- Handles new command line syntax for delly
- Correctly converts bcf output files to VCF, including cleaning
  problem lines that cause GATK processing issues.
- Avoid searching for small indels, which slows down run times.
- Improve parallelization of multicore jobs by avoiding batching
  jobs to send to engines.

Fixes #1745",2017-01-17T01:12:00Z,chapmanb
90a3b166ba4b3ddd5b41e96c7bbcaebc0f9fd520,chapmanb,chapmanb@50mail.com,"GEMINI: avoid creating normalized VCF if off

Avoids work of creating a normalized VCF if database not
created. #1749",2017-01-16T17:49:58Z,chapmanb
7020fcad69d5cad7cefabe1a0f10bc9feff962db,Matthias De Smet,matthias.desmet@ugent.be,updated docs on iRODS,2017-01-16T11:32:01Z,matthdsm
43f9693a3c7ce707ed645ce208227e7783214d4f,Matthias De Smet,matthias.desmet@ugent.be,reordered iget arguments,2017-01-16T11:25:51Z,matthdsm
ac9c3809ecb01733b9f5a27e55992afa0b070ae4,chapmanb,chapmanb@50mail.com,"QC: provide defaults for missing samtools stats

Ensures we have all outputs, like Mapped_paired_reads even for
single end reads to provide consistent reporting. #1752",2017-01-16T11:09:15Z,chapmanb
5fec633e318c932ac63f455613f5fa6151d1fafb,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1752 from vladsaveliev/master

Coverage QC fix for unpaired reads",2017-01-16T10:53:14Z,chapmanb
6ad6b94c033ac1228045e438b31cbbba3c48a438,Matthias De Smet,matthias.desmet@ugent.be,fixed syntax error,2017-01-16T10:37:06Z,matthdsm
00f96d85be6f63997dcb799ab82583215ee26725,Matthias De Smet,matthias.desmet@ugent.be,"changed iRODS upload command, now uploads complete 'final' dir in bulk",2017-01-16T10:35:56Z,matthdsm
df54d6d3f7a7e848e5b593f87cbfdfe826052af9,vladsaveliev,vladsaveliev@me.com,Coverage QC: report avg depth and cov other metrics if reads are unpaired (thanks @sluke123),2017-01-15T21:19:59Z,N/A
277bcbf48365ff9697dbff69ef75591912d7e622,vladsaveliev,vladsaveliev@me.com,Fix work/qc/multiqc folder name,2017-01-15T20:30:55Z,N/A
7c7f7c4a6d3846f1b14f5758c69303a33be2c755,chapmanb,chapmanb@50mail.com,"Qualimap: ensure sort and cleaning of input files

Avoids problems when coverage file is incorrectly sorted. Fixes #1722",2017-01-15T19:54:44Z,chapmanb
78ba5f8edb3f908a595f1cab3ddaf4fe5b7e5528,Michael R. Crusoe,michael.crusoe@gmail.com,add remaining py3 compat,2017-01-15T17:29:59Z,mr-c
f7de07c61706ce04be9f0e9998cef83ac6db2212,chapmanb,chapmanb@50mail.com,"Configuration: validate YAML template inputs

Run yamllint validation on template YAML inputs, ensuring we don't
accidentally lose duplicated keys. Thanks to @vladsaveliev and
@sluke123",2017-01-15T10:44:54Z,chapmanb
f91949a689b14bb3d90a1423a5d799f99751ffcc,roryk,rory.kirchner@gmail.com,"Flatten nested demultiplxed samples into new samples.

The new sample is keyed by Description-index for each sample,
so we keep the lanes separate if they are fed into bcbio separately.

Adds a more complex single cell RNA-seq test case (multiple samples,
multiple indexes) to test out this functionality.",2017-01-14T23:13:01Z,roryk
5021f718af19a6da3cefa87955dc1876b887f456,chapmanb,chapmanb@50mail.com,Docs: formatting/discovery of tools_on/tools_off,2017-01-14T21:06:31Z,chapmanb
2938ac96005349900512a446c441f622097fed54,chapmanb,chapmanb@50mail.com,"GEMINI: tools_on option for vcfanno/vcf2db on hg19

Enables using new workflow for GRCh37/hg19 #1749",2017-01-14T20:59:48Z,chapmanb
83ff6cce76ad772f553be65f05efcd60ef7c7e9b,chapmanb,chapmanb@50mail.com,"VarDict: remove illegal VCF calls with QUAL < 0

Some VarDict edge cases can produce filtered calls with QUAL < 0,
resulting in errors from GATK. Removes the problem calls,
fixes #1704",2017-01-14T11:41:55Z,chapmanb
b67fff75b01c2fc8fff7f019991e658b8cb39561,roryk,rory.kirchner@gmail.com,"Fix chipseq resource logic when peak calling is not requested.

Thanks to @mistrm82 for reporting and testing.",2017-01-13T20:04:29Z,roryk
7cc0c7de77266510eb3ee6c0dbdfa56b24e8a4ab,roryk,rory.kirchner@gmail.com,"Fix typo causing a negative multiplier to be returned.

Thanks to @mistrm82 for pointing out the issue.",2017-01-13T15:54:00Z,roryk
3ed16a83cc60807345812377067c2407a2ccab0c,roryk,rory.kirchner@gmail.com,Restore multiqc fix when there are no files to run.,2017-01-13T15:53:59Z,roryk
a8b18a49359b9f5dad4804c84c0355c09267474c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1748 from matthdsm/patch-2

corrected VEP version",2017-01-13T15:15:16Z,chapmanb
64913cd128792db9211beced624190f9425dd885,Matthias De Smet,matthias.desmet@ugent.be,corrected VEP version,2017-01-13T12:08:11Z,matthdsm
2ba7773e2d4ff2530ff4f3b7a97bcc6d5aec12b9,Matthias De Smet,matthias.desmet@ugent.be,updated docs for iRODS upload,2017-01-13T12:02:14Z,matthdsm
28d2e031d6d6cb49b9b30f978199126c3ff78c56,chapmanb,chapmanb@50mail.com,"Docs: support for generic GEMINI and WHAM update

We now support GEMINI across any organism, with external annotation
support for hg38. #1573",2017-01-13T11:38:52Z,chapmanb
205375a7d95f97c80ebdc97a392365649cfc69f0,Matthias De Smet,matthias.desmet@ugent.be,"added iRODS upload module, currently without support for metadata",2017-01-13T11:35:34Z,matthdsm
86e7be6cc2809270b13971c2f831e2cf83e86c75,chapmanb,chapmanb@50mail.com,"CNVkit: handle estimation output for amplicons

Thanks to @etal and @MIAOKUI. Fixes #1744",2017-01-13T10:59:25Z,chapmanb
5449438375f61cc66754906f188b125e110ca644,chapmanb,chapmanb@50mail.com,UMIs: synchronize with latest streaming BAM fixes,2017-01-12T19:18:48Z,chapmanb
46347ac95e1fb01591254434807b95c1f9887b34,chapmanb,chapmanb@50mail.com,"GEMINI prep: normalization fix and pass only

- Pass `-n` argument to `vt normalize` since it will fail on genomes
  with non-NGATC IUPAC bases, since there will be a conflict between
  the VCF REF base (N), and the reference genome base (R, or some other
  ambiguous base). Thanks to @ohofmann.
- Pass only filtered variants, unless configured otherwise. Keeps
  pass only behavior consistent for new vcfanno/vcf2db workflow.",2017-01-12T17:02:10Z,chapmanb
9cdd7362c6b0436256c4ba030ee0745a23f75001,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1740 from matthdsm/master

dbscSNV: fixed wrong variable name",2017-01-12T11:21:30Z,chapmanb
7e742f94eb372a1e08d2ea06ca9bc95ac62dba6d,Matthias De Smet,matthias.desmet@ugent.be,dbscSNV: fixed wrong variable name,2017-01-12T06:32:38Z,matthdsm
573e4bfbc6af51802c6f1b612de1a72870ab24c7,chapmanb,chapmanb@50mail.com,"Docs: update details on output files

Include information on ready/disc/sr (thanks to @bwubb) and
updated QC and provenance files.",2017-01-11T20:14:57Z,chapmanb
bb98a7bc259ffd34b4a38dba8cae8d1be2163daf,chapmanb,chapmanb@50mail.com,"QC: remove gemini and cleanup MultiQC

- Remove gemini calculation of variant counts, which are not correct
  for het/hom output. Replacing with MultiQC bcftools update.
- Clean up top level MultiQC table removing redundant snpEff count
  information present in bcftools output.
- Order MultiQC modules to emphasize samtools and bcftools calculations.",2017-01-11T10:35:34Z,chapmanb
b6357d220ffde259c3f5b237a8aa58437321c76b,roryk,rory.kirchner@gmail.com,Parallelize fastqtransform.,2017-01-10T21:09:18Z,roryk
3309351a530ae9bac82195f5e00af1a1ea007579,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1734 from matthdsm/master

fixed wrong executable name for maxentscan",2017-01-10T16:54:05Z,chapmanb
ac5890aab096370d41c276d747e6f9eef0bf0867,chapmanb,chapmanb@50mail.com,"GEMINI: vcfanno/vcf2db support for hg38

Fixes from testing with hg38 database loading #1573

- Use max for `an_exac*` attributes to avoid edge cases where
  decomposing variants leads to two identical variations. This results
  in two values in the vcfanno output, where they're labeled as single
  floats.
- Remove 1000 genomes references from hg38
- Check sample names for vcf2db cleanups in QC, and only could passing
  variants.
- Modernize GEMINI database creation code.",2017-01-10T10:41:24Z,chapmanb
520616f75011cd5d168b2bb6ec1ed95a873e58a6,Matthias De Smet,matthias.desmet@ugent.be,fixed wrong executable name for maxentscan,2017-01-10T10:12:46Z,matthdsm
1a4a54e3268de149e2fb81dbd22fd9f268e09bec,chapmanb,chapmanb@50mail.com,"snpEff: auto-scale memory for minimal runs

The new snpEff default of 3g does not provide enough memory for loading
the human database on a single core. Default to 2 times the per-core
memory for small runs to avoid this. Fixes #1730",2017-01-10T01:01:27Z,chapmanb
88be4168bfa427cf35410f875f23e0720d79cb95,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1728 from matthdsm/patch-1

added missing comma to datatarget option list",2017-01-09T16:18:34Z,chapmanb
133a4fba98841e1c700d16fb5e42d5fbdf759f0e,Matthias De Smet,matthias.desmet@ugent.be,added missing comma to datatarget option list,2017-01-09T11:27:05Z,matthdsm
544322aeaa9556dda241a6ce0b3d7a61d9dee28b,chapmanb,chapmanb@50mail.com,"Compatibility with latest umis release

- Dropped `--umi_only` option, now handled by default
- Fix naming of vcfanno output files",2017-01-09T10:42:01Z,chapmanb
682aa9f8326aaaf82a608127efb1c4126e9949ca,chapmanb,chapmanb@50mail.com,"hg38 GEMINI support: vcfanno configuration files

GEMINI vcfanno configuratios for hg38 with dbSNP, Clinvar, ESP and ExAC.
Generalize gemini vcfanno runs to handle both new and old annotation
and database creation processes. #1573",2017-01-08T18:56:57Z,chapmanb
787d04e9c2002c6b31fb9ed38869e1dbc16b8a82,chapmanb,chapmanb@50mail.com,"GEMINI: create vcfanno/vcf2db for non-hg19/GRCh37

Implements vcfanno and vcf2db approach to create GEMINI databases
for all non-hg19/GRCh37 organisms. Previous approach is still maintained
for hg19/GRCh37 until tested further, although all configuration files
are in place to run the vcfanno approach for this as well. #1573",2017-01-07T10:35:46Z,chapmanb
1cc37533e61bbce5a3a2fbce2b3d909f966b2366,chapmanb,chapmanb@50mail.com,"CNVkit: better lower boundary for antitarget

Thanks to @etal: https://github.com/chapmanb/bcbio-nextgen/commit/44e8685e7ec9bd69bc0c7aa9ac9967a224a66f22#commitcomment-20376889",2017-01-06T11:12:55Z,chapmanb
0f9d85acad895603905c44c2de80e24d3e4f0085,chapmanb,chapmanb@50mail.com,"Use local path for vawk/gawk support

First step to fix awk incompatibilities with #1723. Use internally
installed gawk once recipe updated. Also removes noisy debugging logging",2017-01-05T18:40:59Z,chapmanb
44e8685e7ec9bd69bc0c7aa9ac9967a224a66f22,chapmanb,chapmanb@50mail.com,"CNVkit: bin estimation for wgs/amplicon + bounds

Provide improved implementation thanks to feedback from @etal:

- Handle WGS and amplicon outputs for targets
- Provide reasonable bounds on estimation regions for excessive or
  low coverage",2017-01-05T18:08:13Z,chapmanb
13ef069207dbd6fa5f85c09c4ad8de176b74c39e,chapmanb,chapmanb@50mail.com,"Generalize vcfanno for GEMINI support

- Move installation of configuration files to GGD recipe.
- Use new directory structure in data (config/vcfanno) for finding
  annotation types.
- Generalize RADAR to use paths relative to the base data directory
  for an organism.",2017-01-05T11:07:53Z,chapmanb
b67e226c0e49ca329759b324780005b187960360,roryk,rory.kirchner@gmail.com,"Fix uploading single-cell results.

Thanks to @mjafin for the report.",2017-01-04T23:14:20Z,roryk
e537b7243d66f200ac27f8f332c6d71eab60e1a1,roryk,rory.kirchner@gmail.com,Remove debugging code.,2017-01-04T23:14:20Z,roryk
9ba6843cab87581b9b406cb54ae7c7a60faec829,chapmanb,chapmanb@50mail.com,More robust checks for registered GATK #1723,2017-01-04T21:20:38Z,chapmanb
5bfd1014ba043af242150cd3fed31b13751b3a2b,roryk,rory.kirchner@gmail.com,Add complex single-cell test case.,2017-01-04T20:52:16Z,roryk
bccd79b26fc70c4a96f156e148194d0b13469dad,roryk,rory.kirchner@gmail.com,Add support for four-file format for single-cell RNA-seq.,2017-01-04T17:32:57Z,roryk
8d5d6e1f576b14aeea668e06bcd98761d7fe54b0,chapmanb,chapmanb@50mail.com,"CNVkit: remove unneeded percent coverage

Logic now happens inside of CNVkit estimation scripts",2017-01-04T14:09:16Z,chapmanb
c4b5057eae72e2dd98304f562c80d46d291fc922,chapmanb,chapmanb@50mail.com,"CNVkit: estimate target/antitarget sizes from BAM

Uses new estimation script from @etal to choose average sizes
for target/anti-target based on BAM coverage and analysis type (WGS,
amplicon, pull down). #1582",2017-01-04T14:05:17Z,chapmanb
edc5930469d6f50036fbf6fbf8e72bd3fb145c1b,chapmanb,chapmanb@50mail.com,"CNVkit: Allow unsorted BED3 inputs

Handles 3 column BED inputs, potentially unsorted and uncleaned as
inputs to CNVkit. #1722",2017-01-04T13:32:16Z,chapmanb
bdb6d6aee596f29b8fc78f0c48940ea2bead3bd4,roryk,rory.kirchner@gmail.com,Add support for the Harvard indrop v3 UMI transformation.,2017-01-04T02:17:28Z,roryk
14039fdfb4315a9683726fdeafd26bb0968ae40c,chapmanb,chapmanb@50mail.com,"SV: update wham to latest development version

whamg has improved sensitivity, speed and parallelization compared
with previously integrated version. Removes SV genotyping, which is no
longer supported by whamg.",2017-01-03T10:51:18Z,chapmanb
2c8bd7f3949bb76d55c8d09777109acad905740f,chapmanb,chapmanb@50mail.com,"Lumpy: skip CNVkit dups/deletions if missing

Reported in #1664",2017-01-02T20:12:13Z,chapmanb
021ba7677c3605c19f7c53e3cb87daa6d8e3b59c,chapmanb,chapmanb@50mail.com,"CWL: QC work on Qualimap and bcbio metrics

- Work MultiQC setup to have separate functions for retrieving input
  files and preparing metrics.
- Stage input directories into correct structure to ensure consistent
  sample naming for MultiQC and Qualimap.
- Merge metrics across multiple samples in preparation for feeding
  into bcbio metrics and general tables.",2017-01-02T10:34:09Z,chapmanb
94b497dbe575b66e55fc6ba3d29345965e1c3c86,chapmanb,chapmanb@50mail.com,"CWL QC: fix Qualimap graph generation in MultiQC

- Ensure we set genome build correctly for human GC background
- Correct directory for raw data files from Qualimap",2017-01-01T10:08:14Z,chapmanb
a6c03c16ed2ea225a79a6278694788690dbee394,chapmanb,chapmanb@50mail.com,"Docs: recommend pre-installed py.test

Suggest using wrapper script and pre-installed py.test with
dependencies. Fixes #1720",2016-12-31T11:39:54Z,chapmanb
e86ce8ed303a71877c862f89484f9bcd33ee8b76,chapmanb,chapmanb@50mail.com,"CWL: additional improvements to QC integration

- Ensure all files passed to MultiQC, fixing FastQC
- Initial work with Qualimap integration. Now runs cleanly in CWL but
  still needs additional files passed for creation
- Fix areas where passing ""None"" instead of None break coverage QC",2016-12-31T11:22:16Z,chapmanb
9d5a24902a5225b2ab87722d0dbdcbc5cc993d41,chapmanb,chapmanb@50mail.com,"CWL: simplify and hook in parallel QC

Finalize an initial version of parallel, non-hardcoded QC in CWL.
Simplifies the previous work by avoiding a sub-workflow and using
the initial batching/setup step to parallelize by QC as well as
sample. Still needs work to clean up outputs and ensure all files
get passed to MultiQC.",2016-12-30T10:53:42Z,chapmanb
1b904b6d74c9ec6ffbb56c9ea83bfc20ab3a11e0,chapmanb,chapmanb@50mail.com,"CWL: initial work towards parallel QC

Start generalizing QC reporting in CWL to allow parallel runs. Batch
data needed for QC reporting as initial step, prior to splitting by
QC method. Still needs work to merge and finalize individual QC steps.",2016-12-29T10:33:32Z,chapmanb
1104781723746a7236de226868daeed9d19e6c60,chapmanb,chapmanb@50mail.com,Docs: point to new CWL testing repository,2016-12-29T10:29:03Z,chapmanb
f1f860f584ca5380d4586801323ea9c607c89867,chapmanb,chapmanb@50mail.com,"Docs: germline tumor/normal calling

Add detailed example of calling germline variants in tumor/normal cases.
Clean up documentation around variant and cancer calling, providing
better links between resources.",2016-12-28T14:21:31Z,chapmanb
c1e84758e8fefb82a74a5da0ed354224a3c99fb0,chapmanb,chapmanb@50mail.com,"Germline calling for somatic tumor/normal pairs

Provide easy specification of germline calling to complement somatic
variants, via variantcaller:
```
variantcaller:
  somatic: [vardict, varscan, mutect2]
  germline: [freebayes, gatk-haplotype]
```
Enables multiple callers for germline, plus ensemble and SV calling
matching somatic calls. Re-uses alignments, splitting processing
during variant calling.

Removes old attempt at germline for tumor/normal from variant calls,
which often led to false positive germline calls.",2016-12-28T11:04:14Z,chapmanb
ef2d14fe17b2549670895b2d25207f17b8362534,chapmanb,chapmanb@50mail.com,"QC: remove duplicates for WGS unique mapped

Thanks to @vladsaveliev",2016-12-28T03:04:37Z,chapmanb
a8fbe145b260cd725d969ee812401e4fe2a5de21,chapmanb,chapmanb@50mail.com,"QC: skip mapped unique reads for WGS runs

For WGS we don't need precise on-target calculations against detailed
coverage regions, so use total reads instead of doing another
scan of the bam file. cc @vladsaveliev",2016-12-27T10:25:40Z,chapmanb
6ae4583780d0d6b3bae6d0b15c50247fe7d63eff,chapmanb,chapmanb@50mail.com,"CWL: use local ID reference for scatter

- Uses CWL v1.0 scatter references for compatibility with rabix/bunny
- Fix for dbscsnv; missing comma. Thanks to pfpjs",2016-12-27T10:18:30Z,chapmanb
25354f5c9324316ca1f29ad87d9b02b6e64f80a6,chapmanb,chapmanb@50mail.com,"QC: add support for bcftools stats, snpEff

Enable bcftool stats and snpEff plots and general table metrics
by correctly naming output files. Include snpEff csv file in output
needed for MultiQC.",2016-12-26T11:10:50Z,chapmanb
a4287cccfc65fd644f8cf3b4a3d9f621038a70a1,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1711 from vladsaveliev/master

Coverage QC optimisation for WGS",2016-12-26T10:22:42Z,chapmanb
85f2a0c6709b916480e7ac467fa9eb3c580c8431,roryk,rory.kirchner@gmail.com,Add lookup for rapmap specific tuning.,2016-12-26T03:03:32Z,roryk
f0d1559d8f788cce4ee5a580213e31d161a7d884,vladsaveliev,vladsaveliev@me.com,Move multiqc working folder into qc/multiqc,2016-12-25T21:47:21Z,N/A
c628d4b987d478737f9b273ff91ca2f84295cdbc,vladsaveliev,vladsaveliev@me.com,Move sambamba working folder into coverage/sambamba,2016-12-25T21:46:55Z,N/A
acbcdc3e4cec5655d13cb3eb23abbe2789dacfed,vladsaveliev,vladsaveliev@me.com,Coverage QC: parsing samtools stats minor fixes,2016-12-25T21:46:15Z,N/A
f8523edd18d0f09306d16d8501bd3823e452ea50,vladsaveliev,vladsaveliev@me.com,Sambamba number_of_reads skips secondary_alignment,2016-12-25T20:44:10Z,N/A
bd4a343072fd33ac0c603a3cf0c3f7296a6d7e56,vladsaveliev,vladsaveliev@me.com,"Coverage QC: optimize, sync sambamba and samtools stats
1. move working directory to ""coverage""
2. add to default mapped filter: ""not mate_is_unmapped and not secondary_alignment"" to sync with ""samtools stats""
3. use ""samtools stats"" wherever is possible",2016-12-25T20:28:11Z,N/A
4245d7c159c4d0c7de28043ea14135f0d5b4418c,vladsaveliev,vladsaveliev@me.com,Coverage QC: padded trg pct skip in WGS,2016-12-25T20:15:57Z,N/A
13a2d8e96ef33ae292eb5be12dfed2851ca5207b,chapmanb,chapmanb@50mail.com,Clean up unused imports after refactoring,2016-12-25T11:27:42Z,chapmanb
6840595b26c5bf42435481f99ae30499a9550411,chapmanb,chapmanb@50mail.com,"QC: cleanups for priority and variant assessment

- Move variant analysis into separate sub-modules. Removes GATK-based
  approach in favor of using existing bcftools stats and snpEff
  MultiQC modules. Still needs work to finalize.
- Remove previous priority coverage work which was not hooked into
  MultiQC. To be replaced with separate coverage_region_detailed_stats
  on alternative BED files.
- Move multiqc list files into multiqc directory (partial work for
  #1708 and #1710)",2016-12-25T10:53:33Z,chapmanb
4a25071fd886f42273a62d7380833a35b42c6027,chapmanb,chapmanb@50mail.com,CWL: avoid failing with remote resources in YAML,2016-12-23T19:12:42Z,chapmanb
9c10046be7e06fe08b2f87e36b09836cd76ae11b,chapmanb,chapmanb@50mail.com,"CNVkit: improve parallelization single machines

Transfer for using CNVkit parallelization on coverage and segmentation
instead of bcbio native. Enables better core usage and parallelization
on single machine runs since we can re-parallelize with multicore
when calling out to CNVkit. #1695 #1582",2016-12-23T10:48:18Z,chapmanb
d7f28a2e168aa236f029a4e46524cabee23d725c,chapmanb,chapmanb@50mail.com,"snpEff: expand memory for multiple cores

snpEff requires ~6Gb of total memory for running human genomes but
is often run with multiple cores. Currently the 6G/core default
scales down total cores used during the multicore2 run, limiting
cores used for QC and SV calling. This sets a lower limit to make use of
more cores and then scales up memory with core usage to compensate.",2016-12-22T14:16:32Z,chapmanb
f39859223d1d3bb201aa8a1e2c40201ea97a0a4d,chapmanb,chapmanb@50mail.com,"Enable shorthand coverage from capture_regions

Allows shorthand specification of coverage from either
the prioritize or capture_regions directories.",2016-12-22T10:58:27Z,chapmanb
c745c2ea6399fd44ade4e3080552e7caa831de83,chapmanb,chapmanb@50mail.com,fastQC: use original BAM file if not downsampled,2016-12-21T20:38:30Z,chapmanb
062a0232f3022eef5374bcca7da45bc4e0624c83,chapmanb,chapmanb@50mail.com,"QC: improve downsampling using samtools

- Run multithreaded downsampling with samtools instead of sambamba
  which has inconsistent segfaults.
- Fix for fastqtransform to get rid of removed --umi_only option",2016-12-21T19:59:50Z,chapmanb
6fbb880eda758c80b59a0cb56de6052c579ff4ce,chapmanb,chapmanb@50mail.com,"UMIs: support groups of 3 in fastq preparation

combine_pairs now supports up to 4 combined so will have r1, r2, and r3
grouped together. Thanks to @ssaif",2016-12-21T13:05:28Z,chapmanb
a6eff37763adcec728575cf4fbd24e4380611f87,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1707 from vladsaveliev/master

Coverage QC: thresholds for completeness plot and other updates",2016-12-21T10:37:30Z,chapmanb
1f7bf3becba8f0555b8970c78efb727f5913c798,vladsaveliev,vladsaveliev@me.com,"In MultiQC completeness plot, keep only statically defined cutoffs",2016-12-21T01:45:10Z,N/A
5aa25644a957cde82b67ef6b0df19bdcd8fa54d3,vladsaveliev,vladsaveliev@me.com,"Regions detailed coverage QC: add more thresholds, incl. 80% of ave cov
+ sambamba: merge number_of_mapped_reads and number_mapped_reads_on_target
+ refactor cache usage in get_average_coverage",2016-12-21T01:13:01Z,N/A
719d229eb7afd10e0c81ffdc68c0217196d259a6,vladsaveliev,vladsaveliev@me.com,QC: fix metrics with confused pct/rate (100.0-off),2016-12-21T01:13:01Z,N/A
0194bb4e494e17dcda4ed9f55c57cc6cacaa8309,vladsaveliev,vladsaveliev@me.com,Qualimap BamQC: run sed command under file_transaction,2016-12-21T01:13:01Z,N/A
a7e5661d349c5042244b8fae9e0d2fadc673d6e7,vladsaveliev,vladsaveliev@me.com,MultiQC: expose target info only for variant calling pipelines,2016-12-21T01:13:01Z,N/A
c01986a4b97bf618d66af4ae1dcca678e9168ce1,roryk,rory.kirchner@gmail.com,Update HISTORY with cutadapt/scrnaseq changes.,2016-12-20T15:06:09Z,roryk
0c0e7140619f3e9a910036a6412db8a30cc37a85,chapmanb,chapmanb@50mail.com,"GATK 3.7 support: remove stand_emit_conf

GATK 3.7 removed the flag for changing the standard emit confidence in
favor of a single flag: `stand_call_conf`. It also lowered the default
on this to 10.0 from 30.0, so the previous RNA-seq recommendation in
best practices to lower to 20.0 is no longer needed.",2016-12-20T10:52:10Z,chapmanb
e8514db4bc7f3c684a61d595d3c0e8afabf1558a,chapmanb,chapmanb@50mail.com,"VEP: correctly use configured plugin fields

Fixes #1705",2016-12-20T10:43:53Z,chapmanb
fe276e1cb8dff1608086c0de6936fc4758c862b0,chapmanb,chapmanb@50mail.com,"UMI: ensure we don't propagate JAVA_HOME to fgbio

For alignment and post-processing steps, unset JAVA_HOME to ensure
fgbio uses locally installed anaconda java.",2016-12-20T02:58:13Z,chapmanb
fdf03e57976821f41869df3fdb8793a93fda5e27,roryk,rory.kirchner@gmail.com,Add support for barcode error correction for single-cell RNA-seq.,2016-12-20T02:52:41Z,roryk
013eb2d7fcd7ba705a05174584f49e04ce90bded,roryk,rory.kirchner@gmail.com,"Change cutadapt trimming to support the single pass option.

cutadapt 1.8+ can handle the paired files in one go and as a bonus does
some extra sanity checking of the FASTQ files as it goes. We swapped to
use that. A bonus is this speeds up trimming because it only runs
cutadapt once.

Also closes #1700 via https://github.com/bioconda/bioconda-recipes/pull/3252",2016-12-19T21:16:44Z,roryk
95b464577b2e5bf93b86755cadd843e5b7ed6cea,chapmanb,chapmanb@50mail.com,"AWS: region to volume mounting and fix ssh checks

- Alternative approach to avoiding ssh manual checking by setting
  ansible ssh options on launched hosts
- Adds required region argument to ec2_vol mount

Fixes chapmanb/bcbio-nextgen-vm#158",2016-12-19T20:25:36Z,chapmanb
8ff8b5a348f36d13f77ab8147119349586a2fe20,chapmanb,chapmanb@50mail.com,"Ansible EC2: ensure region passed to creation

- Explicitly pass region instead of relying on environmental variable
  during ansible AWS EC2 creation (fixes chapmanb/bcbio-nextgen-vm#158)
- Document region usage.
- Document manual steps required on first EC2 run.",2016-12-19T11:21:03Z,chapmanb
5b81e3eb1cbcc675f90a7fbb204c6bff4a83b1be,chapmanb,chapmanb@50mail.com,ChIP-seq: Support hg38 with macs2,2016-12-18T20:00:27Z,chapmanb
0df2de8733b358dc5aa07fa3069bee9feafe5695,chapmanb,chapmanb@50mail.com,"Manta: clean restarts with transactional directory

Ensure we don't re-run Manta on re-starts by moving checks for output
files before configuration and creation of temporary directories.
Thanks to @schelhorn. Fixes #1697",2016-12-17T10:41:25Z,chapmanb
302ea077e3f56cb3de1d7e39ae6f1a66a2e512fb,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1701 from matthdsm/master

added dbscsnv installer option",2016-12-17T10:37:44Z,chapmanb
667ee8e15529b252cc2d6bcfc0acfd4a5b248c49,chapmanb,chapmanb@50mail.com,"VarDict: ensure anaconda installed java used

Latest vardict-java release requires Java 1.8 which we ship with bcbio.
However, JAVA_HOME could lead to using a different system java. We
unset JAVA_HOME to avoid this issue.",2016-12-17T02:21:51Z,chapmanb
18d37d6cedc630dfe4c439c0afb06dc3d53919f0,Lorena Pantano,lorena.pantano@gmail.com,"docs: add option to analyze nextflex srnaseq data

[ci skip]",2016-12-16T23:12:21Z,lpantano
fc94172fc7257a46589b71d760fc4e2d8ad9d726,chapmanb,chapmanb@50mail.com,"align prep: BAMs with lower compression level

Stored BAMs can have different compression levels, affecting the ratio
of original to fastq outputs. This makes the BAM check more lenient
to support this, enabling usage with Petagene virtual BAMs.",2016-12-16T19:43:02Z,chapmanb
d2665c1f6daf7a17ef13558780433e79a6cccba9,Matthias De Smet,matthias.desmet@ugent.be,added remaining modification for dbscsnv,2016-12-16T18:57:22Z,matthdsm
6e417d1f3bd34e627e6e3cfaed74c66cd8545b06,Matthias De Smet,matthias.desmet@ugent.be,added dbscsnv installer option,2016-12-16T18:55:02Z,matthdsm
75a1bb93f15126c59eda0e79b97bb361a929d931,roryk,rory.kirchner@gmail.com,"Support umis 0.4.0.

Removes the deprecated dual-index option in favor of
autodecting the barcode scheme. Supports up to four input
FASTQ files.",2016-12-16T14:14:07Z,roryk
77b37d593751ea39d969ba43cec4b71a41954ee8,chapmanb,chapmanb@50mail.com,"UMIs: pass options to fgbio consensus generation

Enables adjusting supported UMI edits, minimum reads or mapping quality
with resources flag:
```
   resources:
     fgbio:
       options: [--edits, 2, --min-reads, 3]
```",2016-12-16T11:18:40Z,chapmanb
8a5bb339ac7061755a29bc6a4b8263d5a999d66a,chapmanb,chapmanb@50mail.com,"sambamba: allow backup samtools indexing

sambamba can have intermittent segfaults when doing multithreaded
indexing. Allow backing up to standard samtools indexing when this
occurs. Thanks to @ohofmann

Also fixes lumpy/metasv filtering to point to newly renamed cutoff
based filtering function.",2016-12-16T10:54:46Z,chapmanb
158493ad9bca9f3be32895e676a2eb55d2f661c2,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1694 from matthdsm/master

added genesplicer to config, updated docs for dbscSNV",2016-12-15T14:41:56Z,chapmanb
fc0b5620d199d837de8886cb6ef5083c37286ee5,chapmanb,chapmanb@50mail.com,"Disambiguation: swap to use C++ implementation

Abstract out calling C++ and Python implementations, using C++ for speed
improvements. Thanks to @mjafin. cc @schelhorn -- hopefully this does
not disrupt your usage of disambiguation.",2016-12-15T10:42:17Z,chapmanb
850981ceaa89fd20359f7bdb923525df2106768e,Matthias De Smet,matthias.desmet@ugent.be,updated docs to include dbscSNV option,2016-12-15T10:33:55Z,matthdsm
7478931e493da75f4ac74ba86237dc3e255a449d,Matthias De Smet,matthias.desmet@ugent.be,added genesplicer location to variation resources,2016-12-15T10:33:14Z,matthdsm
9a7fe2407df45656dcab1ff8c92d68edbe5067eb,chapmanb,chapmanb@50mail.com,UMI: document new options and scripts,2016-12-14T18:19:49Z,chapmanb
705c4d036935c29c781d120602eb34d36852fa89,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1690 from matthdsm/master

updated vep cache version",2016-12-14T11:21:50Z,chapmanb
156c375d7f0097aba09445b51ba779b6c497ef05,Matthias De Smet,matthias.desmet@ugent.be,bumped genome config version number,2016-12-14T10:22:54Z,matthdsm
971ec04d1b8b5162812d623d26123ad0a6432981,Matthias De Smet,matthias.desmet@ugent.be,updated vep cache version,2016-12-13T15:32:38Z,matthdsm
fa2e0854c4ab0adad3b8fd3fea30f5441ad42e84,chapmanb,chapmanb@50mail.com,"Docs: cutoff-based soft filtering instead of hard

There were confusing mentions in the code about hard filtering, which
referred to applying a cutoff-based soft filter (as opposed to methods
like VQSR). However, this was confusing in comparing hard (removing
variants) versus soft (flagging variants in the FILTER field) filters.
Fixed the language so it's reflective of what happens. #1684",2016-12-13T14:45:25Z,chapmanb
c3f05969dbcadfeb6ce3eac45f3d6a0e93aa524a,chapmanb,chapmanb@50mail.com,UMIs: Add fastq preparation script to installation,2016-12-13T10:52:51Z,chapmanb
ae32a70b25f14be19019987cc72ebac6a37d70d5,chapmanb,chapmanb@50mail.com,"Examples: fix GiaB mixture configuration

Add missing upload and flowcell name/date information. Thanks to
@ohofmann",2016-12-13T10:30:24Z,chapmanb
e78d3ab5c64f74c09cdf4f4b710cbd80fbea0ce2,chapmanb,chapmanb@50mail.com,"QC: improve memory efficiency for UMI WGS runs

Avoid collecting all UMI counts than processing to be more memory
efficient when preparing QC metrics.",2016-12-12T16:38:50Z,chapmanb
1eafdc25b8a4677f436033e4e90096e2b2bbb6f8,chapmanb,chapmanb@50mail.com,"snpEff: update Ensembl data to match 4.3g release

Updates version of Ensembl databases used with bcbio to match
those required in the snpEff 4.3g configuration.",2016-12-12T16:14:55Z,chapmanb
019bd581acbbe817c6fc5c79892b00a646b25803,chapmanb,chapmanb@50mail.com,"snpEff: canonical_cancer with clinical_reporting

Prefer canonical_cancer effects_transcripts over older
clinical_reporting behavior. Thanks to @mjafin @sluke123",2016-12-12T15:52:45Z,chapmanb
e6eb646f29be194f35b665a151ca948366628cd7,chapmanb,chapmanb@50mail.com,"alignment merging: handle split/non-split samples

Provide additional resiliency and debugging for mixed samples that
have some split and not-split alignments. Thanks to @mjafin",2016-12-12T15:23:45Z,chapmanb
7281e5268b01a628e5197d0d2fc65835722369ce,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1685 from matthdsm/patch-1

fixed affliliations",2016-12-12T15:00:11Z,roryk
5fc6cb9b2da3d057058158e24c6a6470e4e21db9,Matthias De Smet,matthias.desmet@ugent.be,fixed affliliations,2016-12-12T14:59:17Z,matthdsm
79fabe9d552c33314c58da227fa998858ec9c4c2,roryk,rory.kirchner@gmail.com,Add support for 4 file format to single cell handling.,2016-12-12T14:25:48Z,roryk
b72214e503f447f5e9eeead20185bf6d54ec212e,chapmanb,chapmanb@50mail.com,"S3 upload: use awscli instead of gof3r

awscli correctly sets metadata on objects like HTML, making direct
viewing easier. Fixes #1682",2016-12-12T10:30:07Z,chapmanb
ed1ad96a94f0d6335e443b08174538ab3377ad57,roryk,rory.kirchner@gmail.com,"Add support for 4 fastq files per lane.

This lets us potentially use the i5 and i7 reads from Illumina.

@tetianakh this swaps the integration test case to have 5 instead of
4 as the nuisance separator, so we can support 4 files.",2016-12-12T03:02:50Z,roryk
051e9de318203944ee710f505e8aa338d578ba22,chapmanb,chapmanb@50mail.com,"CNVkit: sort and merge input BED files

Handles input BED files that are not correctly sorted as input to
CNVkit",2016-12-11T11:19:16Z,chapmanb
37ff2169deae7e5807fe80cb13f5a9c840913ac1,chapmanb,chapmanb@50mail.com,"CNVkit: ensure we use configured TEMPDIR

Avoids using global temporary directory for file write, which
causes issues on systems with restricted TMPDIRs. Thanks to @ohofmann",2016-12-10T10:31:43Z,chapmanb
40187b6d144d7cdaa29cb25417b55e8460b94ec9,chapmanb,chapmanb@50mail.com,"GEMINI: normalize variants after decomposition

Ensures that complete multiallelic variants are correctly represented
in GEMINI. Thanks to @naumenko-sa. Fixes #1680",2016-12-10T10:00:01Z,chapmanb
766781a8d0da8659b5f5ce67b5730b0d4a94f4cf,chapmanb,chapmanb@50mail.com,"Replace sambamba sort with samtools for samblaster

When running lumpy and requiring samblaster discordant/split reads, use
samtools sort instead of sambamba. sambamba has been running into
segfault issues on some samples. We have a history of switching
back and forth between these:

https://github.com/chapmanb/bcbio-nextgen/commit/c51795493783529ff79e9fd6545fbf15f158e1a5#diff-0ffaa4b4345c3f70bb96c6775c25db1e

but samtools sort has been working cleanly for non-lumpy inputs so
will stick with the simpler pipeline. Thanks to @ohofmann",2016-12-09T18:49:16Z,chapmanb
73e6a6795466c39424b277100f3feb773c17c352,Roman Valls Guimera,brainstorm@nopcode.org,Fix #travisci channel for UMCCR (not WWCRC anymore). Thanks @chapmanb for noticing this,2016-12-09T10:26:20Z,brainstorm
d18538ef54451a13c50fc8af018f5c62c9b8ac74,Lorena Pantano,lorena.pantano@gmail.com,Effects:removing non-ascii characters,2016-12-08T20:26:31Z,lpantano
c2743c61c65751abda7cbd94bc685bed10181507,chapmanb,chapmanb@50mail.com,"Effects: flexible configuration of transcripts

- Add `effects_transcripts` which selects transcript types for
  effects prediction. Allows specification of custom canonical lists
  for snpEff.
- Deprecate and undocument `clinical_reporting` argument. Still works
  as before but prefer using `effects_transcripts`.
- Uncouple VEP `--pick` (specified now by effects_transcript) and
  hgvs (now on by default for human samples). Fixes #1653
- Code cleanup of additions from #1666
- Bug fix for issue introduced with generalized UMI settings. Fixes
  tests.
- Update versions for all genome resource files changed with new VEP
  version 86.",2016-12-08T18:27:41Z,chapmanb
61b08a0efdc94f66d97154fc2a8ba17eb9dc7337,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1679 from stephenturner/patch-3

Update README.rst",2016-12-08T17:33:14Z,roryk
94d56c3abc6b9d8944cce021e6d2feac55fd6f7a,Stephen Turner,vustephen@gmail.com,Update README.rst,2016-12-08T17:32:31Z,stephenturner
1da89b1e00511ace5adf1f9349ecca48c835dc44,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1678 from stephenturner/patch-2

add example fast-rnaseq template",2016-12-08T17:07:56Z,roryk
8ce5fbfef0434d7121b1fb2d3a66eb17dcf7d80a,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1677 from stephenturner/patch-1

document fastrna-seq",2016-12-08T17:07:19Z,roryk
a893d233c73712c8565336c9eb499053ee21ba39,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1666 from matthdsm/vep_plugins

[WIP] add more vep plugins",2016-12-08T16:44:01Z,chapmanb
11cc97aa05aa1342b89a9ffa63bc092e71e92a53,Matthias De Smet,matthias.desmet@ugent.be,added install path for extra vep plugins,2016-12-08T11:04:38Z,matthdsm
8f96378780a963555d8ffadb8f47f4f456acc85f,Stephen Turner,vustephen@gmail.com,add example fast-rnaseq template,2016-12-07T22:12:42Z,stephenturner
eb47c5318249c0949d6847151efb9cc2b3c90cc7,Stephen Turner,vustephen@gmail.com,"document fastrna-seq 

see https://github.com/chapmanb/bcbio-nextgen/issues/1575#issuecomment-265565185",2016-12-07T22:09:40Z,stephenturner
664c8c691ccdbe6d2dceedee6315a5fc3f55fad6,roryk,rory.kirchner@gmail.com,"Fix error caused by an empty algorithm in the config YAML.

Closes #1575. Thanks to @stephenturner for posting about the issue.",2016-12-07T21:25:39Z,roryk
45a705a0118c1c5aa9b04646a79d61c0bb30d4f0,chapmanb,chapmanb@50mail.com,"UMIs: convert directory into name tagged fastqs

Generalized single file conversion to parallelize over a directory
of fastqs.

Generalize fastq conversion script to handle full directories.",2016-12-07T21:04:13Z,chapmanb
49041175b1c16d68ca84ee2bc6a4a7750a0e3411,Matthias De Smet,matthias.desmet@ugent.be,added annotation field names for new plugins,2016-12-07T16:52:17Z,matthdsm
80592800d215fa6c3ffec8c90b17f700dec776a4,Matthias De Smet,matthias.desmet@ugent.be,added for loop to make vep plugins selectable,2016-12-07T16:38:46Z,matthdsm
5753156fab1f6b68ffbe6f7b07fc08d8fb26b87c,Matthias De Smet,matthias.desmet@ugent.be,Merge branch 'vep_plugins' of github.com:matthdsm/bcbio-nextgen into vep_plugins,2016-12-07T12:51:53Z,matthdsm
fbb839242654ac544177265aa8b0fe2b88b176a2,Matthias De Smet,matthias.desmet@ugent.be,"added some fixes to effects.py, edited bcbio_system.yaml with info on new options",2016-12-07T10:59:41Z,matthdsm
c9b6d098a7e0cbc978ac09028412a2cd232f4ecb,Matthias De Smet,matthias.desmet@ugent.be,added example for advanced VEP settings,2016-12-07T10:23:57Z,matthdsm
c7b4a34117c67b99e1546090042760c1af153727,Matthias De Smet,matthias.desmet@ugent.be,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen into vep_plugins,2016-12-07T10:09:38Z,matthdsm
73ab1b8f51c05ed2b6cf9dc4722aa8333fdf1c78,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1668 from tetianakh/fix/copy_all_STAR_output_from_tmp

Copy all star output from tmp to work dir",2016-12-07T00:45:31Z,roryk
c9930dac59aafc1a6e92bd9b0e23b8abebd3c50d,chapmanb,chapmanb@50mail.com,"CNVkit: remove loh plot, integrated in scatter

Fixes #1674",2016-12-06T18:22:42Z,chapmanb
b7e00c1ef48ca25d3857fed3089857bd38fc45b5,chapmanb,chapmanb@50mail.com,"UMI: support tagging of UMI in fastq names

Enables pre-preparation of fastqs with UMIs and streaming addition
of tags to BAM files for downstream consensus generation. Aims to
streamline UMI memory usage for WGS inputs.",2016-12-06T18:07:26Z,chapmanb
078c2cfeb97a98b04aba8c97a32651e2ed852837,chapmanb,chapmanb@50mail.com,"VEP: finalize configuration of dbNSFP fields

- Retrieve resources from `config` key
- Makes inputs from resources a list instead of munged string to
  improve ability to wrap and specify in configuration.
- Remove old approach from genome configuration files.",2016-12-06T10:38:49Z,chapmanb
a40ef8e2fa1c7fa78251bcde21c785abf6a606c0,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1673 from matthdsm/vep-dbnsfp

source alternate dbsnfp fields from bcbio_system.yaml",2016-12-06T10:32:32Z,chapmanb
d09a47ffb54edcb9e9e6aa6ffbcfbbe5e94097b4,chapmanb,chapmanb@50mail.com,"UMIs: convert separate fastq UMIs to paired fastqs

Adds UMIs to read name to created paired fastqs from inputs with
3 fastqs. Simplifies processing and work towards enabling streamed
UMI tagging for WGS runs.",2016-12-06T10:15:49Z,chapmanb
dca797a28895e4d282f5014810fc4d19b1ac3b5a,Matthias De Smet,matthias.desmet@ugent.be,"source alternate dbsnfp fields from bcbio_system.yaml, as discussed in #1665",2016-12-06T07:15:48Z,matthdsm
a39cfddc609908f434c1e947e3e93ea4693cb79b,chapmanb,chapmanb@50mail.com,"Install: keep root run installs isolated

Avoids trying to install system packages when run as root inside
containers. Fixes #1672",2016-12-06T02:15:47Z,chapmanb
7935d703dcde1094951a693de249e8ba44dc86b9,chapmanb,chapmanb@50mail.com,"Travis tests: fix for py.test directory cache

py.test raises an error when running tests inside and outside of Docker
with the same test tree:
```
ImportMismatchError: ('tests.conftest', '/bcbio/tests/conftest.py',
local('/home/travis/build/chapmanb/bcbio-nextgen/tests/conftest.py'))
```
I'm not sure how/where it caches the external and internal locations but
work around the issue by mounting to same directory inside and outside
of Docker.",2016-12-05T10:30:02Z,chapmanb
ebb701d4ac0b45df8370892555f4306e8f3d78ad,chapmanb,chapmanb@50mail.com,"Travis tests: ensure latest bcbio installed

- Makes sure we get bcbio with py.test dependencies
- mount and change into bcbio code directory before running
  in-docker tests",2016-12-04T19:11:30Z,chapmanb
ebdd7c1443c032cbd5d93312a8dcdb60a75e638f,chapmanb,chapmanb@50mail.com,"Ensure conda-forge part of install process

bioconda now depends on python-only conda-forge packages so ensure
we include this to avoid getting older versions of bcbio without
some dependencies listed.",2016-12-04T11:32:08Z,chapmanb
05c6dd137b1fa1b80d8abfb58e48a2a337900f35,chapmanb,chapmanb@50mail.com,"Travis: move to pre-installed py.test dependencies

Synchronize testing and documentation now that py.test installed
by default with bcbio. We no longer need specialized containers
or dependency installs.",2016-12-04T10:39:59Z,chapmanb
660fcc2990bdc0f8d72bb44f0e1befef6f2b2c39,chapmanb,chapmanb@50mail.com,"UMIs: use bamsormadup for input to UMI annotation

Avoids multiple piping step by handling sorting and de-duplication in
one step prior to add UMIs with fgbio. Allows runs on slightly larger
runs because of simplified process.",2016-12-04T10:00:18Z,chapmanb
3749b8c375ffca6849e52e3d87463a9889ffb954,chapmanb,chapmanb@50mail.com,Document pre-install capture region BED files.,2016-12-03T19:02:58Z,chapmanb
724eac6899226f3ea0fcbf2be133a3f0a807b4aa,chapmanb,chapmanb@50mail.com,"sample config: shorthand references to BED files

Allow simplified access in configuration to pre-installed capture_region
BED files. Allows settings like:
```
variant_regions: capture_regions/Exome-IDT_V1
```
in configuration.",2016-12-03T10:28:37Z,chapmanb
b84d33c4e85c7eb1ab59c340153c42832e9bd10b,Lorena Pantano,lorena.pantano@gmail.com,Add list of genomes available,2016-12-02T16:03:02Z,lpantano
18c8614ed4d076c10c2bff67c5c47d15292b0b45,Matthias De Smet,matthias.desmet@ugent.be,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen into vep_plugins,2016-12-02T10:21:51Z,matthdsm
3f4868689a50f5c8ea6e6fa3e4e58207a7f97aa2,chapmanb,chapmanb@50mail.com,"VEP: ensure we get annotation fields for dbNSFP

Supplement to adjustments for allowing configuration of dbNSFP fields,
ensuring that we always have annotations:

- Default to old annotations if fields not present in configuration
- Ensure resource files updated to get new versions with defaults

Fixes #1669",2016-12-02T10:17:25Z,chapmanb
0e354c1a538e2ee0ef75be9dd1f403a1f652b099,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Copy all star output from tmp to work dir,2016-12-01T20:28:09Z,N/A
48050505ecf81276cc7d986db8c71936342e9692,chapmanb,chapmanb@50mail.com,"CNVkit: bootstrapping intervals for WGS runs

Use coarse bootstrapping for WGS to strike a balance between
having bootstrapped metrics and run times. #1657 Thanks to @etal",2016-12-01T19:25:50Z,chapmanb
bf68e0b1f6656bd4ea0b326312df9ba150030244,chapmanb,chapmanb@50mail.com,Improve documentation on core/memory specification,2016-12-01T10:53:36Z,chapmanb
d1011f290724b209a398b96881d4892bb54ac060,roryk,rory.kirchner@gmail.com,"Check if transcriptome FASTA exists before trying to index with Salmon.

Salmon silently hangs forever if the transcriptome FASTA if empty.",2016-11-30T15:19:02Z,roryk
6543edf47dc7b6357affbc6be6bdcdfe8183bdff,chapmanb,chapmanb@50mail.com,"Fix bug with parallel calculation on WGS runs

During switch over to new goleft coverage calculations we passed
the sanitized coverage file (only COVERAGE regions, without NO_COVERAGE
blocks) to region parallelization. This resulting in not finding
no coverage regions and parallel runs only by chromosome. It doesn't
change results but runs will be slower due to less parallelism
and it can trigger memory issues on some callers like VarDict.
Fixes #1662",2016-11-30T14:55:22Z,chapmanb
73714b2173a81a405e4551cfe0bc9e645f93517c,Matthias De Smet,matthias.desmet@ugent.be,bumped vep version to 86,2016-11-30T13:56:58Z,matthdsm
aadbc8111a0955e689b6236cb667a122327111d2,Matthias De Smet,matthias.desmet@ugent.be,Merge branch 'master' into vep_plugins,2016-11-30T13:46:21Z,matthdsm
11b35436189114213c2946b1a0ab35718c07985c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1665 from matthdsm/vep-dbnsfp

made dbNSFP fields modifiable, added dbNSFP for hg38",2016-11-30T13:38:55Z,chapmanb
51de8911fd393055f25f70fca2dd720863912c46,Matthias De Smet,matthias.desmet@ugent.be,"made dbNSFP fields modifiable, added dbNSFP for hg38",2016-11-30T13:25:16Z,matthdsm
da2c0b62586e13a05240f166546571a9e460ce69,Matthias De Smet,matthias.desmet@ugent.be,"added function call for new plugins, added dbscSNV resource for human builds",2016-11-30T13:10:48Z,matthdsm
40211b7a8fb566cb487035ca724b61360ecabcd1,Matthias De Smet,matthias.desmet@ugent.be,added functions to add extra vep plugins,2016-11-30T12:44:25Z,matthdsm
c3eae503daa9d964b976441c391924acb382b5d3,chapmanb,chapmanb@50mail.com,"CNVkit: re-add cn1, cn2 calculation for WGS

WGS runs with `-v` had memory issues during segmentation so we dropped
`-v` from call commands as well. However, this is less problematic
in call and needed for allelic CNVs. Fixes #1657",2016-11-30T01:17:51Z,chapmanb
a7a92748e294547e1404ee4c22a400d049f1dd83,chapmanb,chapmanb@50mail.com,"Fixes for currently failing tests

- Fix my manual MultiQC merge issues
- Avoid integration tests for now to reduce Travis run times",2016-11-29T16:58:31Z,chapmanb
bfde0962541c2071d64aaf8c7372da473b05afdc,chapmanb,chapmanb@50mail.com,Merge branch 'vladsaveliev-master',2016-11-29T10:52:43Z,chapmanb
18d642eb3643ba5f3899d7bb245c81863b87aafa,chapmanb,chapmanb@50mail.com,"Merge branch 'master' of https://github.com/vladsaveliev/bcbio-nextgen into vladsaveliev-master

Fixes conflicts in bcbio/qc/qualimap.py with merge from #1642",2016-11-29T10:51:43Z,chapmanb
fffa9164c39e8ca1ef8c523cdf2a07f6d72cad9f,chapmanb,chapmanb@50mail.com,Docs: history and readme with latest contributions,2016-11-29T10:41:51Z,chapmanb
455a7dff445036565d63f1afb772132c1b0a7147,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1642 from tetianakh/master

Support for workdir on S3",2016-11-29T10:31:26Z,chapmanb
7e7297302de842d899ce632d0ea95dc058ba2985,vladsaveliev,vladsaveliev@me.com,Prepare Seq2C BED only if seq2c is in sv callers list. Require some BED to be provided.,2016-11-28T19:57:47Z,N/A
1aad3461ee96199f0d394cf1262efc93dbdb74d3,vladsaveliev,vladsaveliev@me.com,"QualiMap: sed genome_results instead of symlinking bam to satisfy MultiQC.
MultiQC reads the sample name as the base input BAM file name stored in genome_results.txt. Instead making a BAM symlink specifically for QualiMap (which led to uploading the whole BAM file to the final dir), it's more reasonable to sed the genome_results.txt to substitute the file name.",2016-11-28T19:03:54Z,N/A
9d58e7b57b2b117022fa7310a12449418729d4e1,vladsaveliev,vladsaveliev@me.com,Move Seq2C prep_bed to clean_inputs to avoid concurrency issue.,2016-11-28T19:00:40Z,N/A
fb4a04b63638ba25af80557acab7e3ca1e6edfbd,Lorena Pantano,lorena.pantano@gmail.com,Fix prepare sample script. Thanks @NeillGibson,2016-11-28T15:03:18Z,lpantano
d00e7498191946450f5ed44dad262cc65debd601,chapmanb,chapmanb@50mail.com,"Docs: improve description of capture BED files

Better organize and summarize usage of different capture BED files
for analysis and coverage QC. #1652",2016-11-28T10:55:47Z,chapmanb
da72cdfaae9124bb278fa3d20bfddec4ba5b6b03,Tetiana Khotiainsteva,tetiana.khot@gmail.com,"Merge pull request #3 from tetianakh/feature/work_dir_on_S3

Feature/work dir on s3",2016-11-28T10:17:00Z,tetianakh
fd62489c60018978008f9130a2e2fc8ae807e4fb,chapmanb,chapmanb@50mail.com,"Remove workaround for bamsormadup BAM bin issue

Resolved upstream in biobambam 2.0.62 and pushed as bioconda default
(gt1/biobambam2#35)",2016-11-26T11:36:13Z,chapmanb
c6e25c0c9ca7d3397c619fbdeb33ff1e240f1e12,Lorena Pantano,lorena.pantano@gmail.com,sRNA:fix additional trimming step,2016-11-25T18:12:27Z,lpantano
27a3d6fb3ae52f71fd429dd973e81132131c344a,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Pass config to file_transaction,2016-11-25T18:11:02Z,N/A
f39c7a9a0476317806aa83962deec9fc31099921,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Update documentation about running tests,2016-11-25T15:31:14Z,N/A
d4d8b6fe124490787fc914e8327098016db52e57,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Bring back run_tests.sh,2016-11-25T15:31:14Z,N/A
1f16775d936407177042933d64492affe05d8797,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Bring back base_dir kwarg for tx_tmpdir,2016-11-25T15:31:14Z,N/A
9c4ed0d1f9db86ed35da7bc211cce8cf12448044,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Use cwd as a default temp dir location,2016-11-25T15:31:14Z,N/A
71d0a7bfa864bc8fc313fd9c59027b4fdf0de3d1,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Merge remote-tracking branch 'upstream/master',2016-11-25T15:25:40Z,N/A
9ca2fc02c497610fd1ac996b483d5f6209c86197,chapmanb,chapmanb@50mail.com,"CWL: support latest QC and alignment changes

- Pass file requirements for multiQC preparation
- Allow missing discordant and split read files from alignment
- Synchronize with latest cwltool command line syntax",2016-11-24T10:12:24Z,chapmanb
dcb9b79d8f8b949a477f9114f7a5153092defb2c,Lorena Pantano,lorena.pantano@gmail.com,"Force to get files as single reads with -w template

Some times replicates are named using _N notation and
bcbio will have these as 2nd file for a paired analysis.
Using --force-single we can avoid that if we are sure
we are using single end data.",2016-11-24T00:25:39Z,lpantano
8fa06b40b83741316bb39d64d7ccbaf049388b5e,Lorena Pantano,lorena.pantano@gmail.com,sRNA:remove empty lines from collapsing step,2016-11-23T23:44:55Z,lpantano
dc7bede34936eab04096a6162823d34f26a40933,chapmanb,chapmanb@50mail.com,"Avoid htsjdk warnings from bamsormadup BAM output

Pipes through samtools to avoid warnings on bamsormadup BAM output
generated directly from bwa SAM:
```
ERROR: bin field of BAM record does not equal value
computed based on alignment start and end, and length of sequence to
which read is aligned
```
Detailed report in gt1/biobambam2#35

Thanks to @mjafin, @vladsaveliev and @sluke123",2016-11-23T13:37:58Z,chapmanb
1afa261336381004a5dd1b963d91f84cc4271d28,chapmanb,chapmanb@50mail.com,"FreeBayes: support v1.1.0

1.1.0 validates identically to previously supported version (1.0.2-29)
and is much faster and less memory intensive. This removes a workaround
required for 1.0.2 that 1.1.0 fixes.",2016-11-23T10:30:35Z,chapmanb
2c340b9e073c4dbcc3e3cf9999113e1a42bd6561,chapmanb,chapmanb@50mail.com,v1.0.0 release,2016-11-20T10:52:03Z,chapmanb
354847fbdf9d1fdda2ce15109906d41c1f5b2eb4,chapmanb,chapmanb@50mail.com,"CNVkit: skip metrics and variant inputs for wgs

Fixes memory issues on whole genome runs (fixes etal/cnvkit#162) by
avoiding:

- Passing VCF files to segmentation and call. These are memory intensive
  for large inputs.
- Metrics calculation for removing background, which is expensive
  and less useful for whole genome samples.",2016-11-19T10:49:27Z,chapmanb
cb6a8ebe3ad1955885f7f9b1d9c4a93e1c21314c,chapmanb,chapmanb@50mail.com,"QC: finalize coverage for wgs runs

Avoids sectional calculation for coverage, providing fastest analysis
for large input BAMs.",2016-11-19T10:31:08Z,chapmanb
3e7556be6435611fb50d16c031316197236f8b9a,chapmanb,chapmanb@50mail.com,QC: another bug fix for genome coverage,2016-11-18T20:16:54Z,chapmanb
36b8d901d7ff8338f6f1cc45e01d1d1e28456da5,chapmanb,chapmanb@50mail.com,QC: enable avg_coverage calculation for wgs runs,2016-11-18T20:06:42Z,chapmanb
bf49eea5084f7c242691bbf8f3d5bc7a97ac53ba,chapmanb,chapmanb@50mail.com,"QC: skip offtarget coverage for whole genome runs

Avoid slowdowns from extra coverage calculations on whole genome
runs.",2016-11-18T20:02:01Z,chapmanb
f8027a30db6fcc7113f816332c78ce77f47e2bbf,chapmanb,chapmanb@50mail.com,"coverage: use BAM index for counts when possible

Avoids full BAM scans for queries that are available in index/idxstats",2016-11-18T17:32:59Z,chapmanb
511bf5a2430efff406ac5371de9a93b495cf1868,chapmanb,chapmanb@50mail.com,"Finalize support for parallel salmon_index

Implement run_salmon_index in an analogous way to sailfish support.
cc @roryk",2016-11-18T11:31:11Z,chapmanb
2fdee21915ab4995caa839fc3804f3feb12be4d0,chapmanb,chapmanb@50mail.com,"Installed java for bcbio-variation-recall square

Avoids issues with non-GATK joint calling on systems without java.
Thanks to @ohofmann",2016-11-18T11:08:57Z,chapmanb
f677e93cf65e77ed00a0b3a8c43274912dc825f5,chapmanb,chapmanb@50mail.com,"QC: add downsampling back to FastQC

After more testing on larger files and slower filesystems,
downsampling does provide a big speed improvement.",2016-11-18T01:04:00Z,chapmanb
b34320529b4fa95c7ddc5f09c1db120b6394eb18,chapmanb,chapmanb@50mail.com,"fastqc: skip downsampling before running QC

Downsampling can take as long as full FastQC and is no longer re-used
in multiple places in the QC pipeline.",2016-11-17T01:28:27Z,chapmanb
4c16545dd302640af36437fc75f521e0d31560ce,chapmanb,chapmanb@50mail.com,UMI: ensure umi_bam set for non-paired analyses,2016-11-17T01:13:29Z,chapmanb
68a69182660c2e15b072c4bfbc161bbef48e8eed,chapmanb,chapmanb@50mail.com,UMI: ensure umi_bam set for non-paired analyses,2016-11-17T01:04:33Z,chapmanb
94868c0839a5d1368ad9d42f21167c9e498faf94,chapmanb,chapmanb@50mail.com,"Logging: limit IP address socket connections

Use socket connections for finding logging IP address as a backup
only when gethostbyname does not resolve a valid non-local IP. Avoids
issues on internet restricted systems where we can't access the
network. Thanks to @mjafin",2016-11-16T12:36:19Z,chapmanb
d38edfae95a4283b80e1a3315d76789b48396707,roryk,rory.kirchner@gmail.com,"Only make sailfish indexes once for each unique index.

Thanks to @mjafin for the suggestion.",2016-11-15T22:14:23Z,roryk
fafc12903d856cc353e2e3e6b3e2238d6e598c43,chapmanb,chapmanb@50mail.com,Tests: pairing test for R1/R3 support,2016-11-15T14:20:16Z,chapmanb
b2948b43a1342627b90ff8dd180a9335dbf1402b,chapmanb,chapmanb@50mail.com,"hg38 validation: use pre-installed truth sets

Remove FTP downloads of truth sets in favor of pre-installed",2016-11-15T10:44:23Z,chapmanb
c604e9364e73d3e6c55af352183498630721cf4f,chapmanb,chapmanb@50mail.com,hg38 validation: update to use GiaB 3.3.1,2016-11-14T15:22:28Z,chapmanb
1a4d8a3958d9e81ff29651e7ead742dba54ff1ff,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,"Remove hardcoded endpoint from mount.sh

Reset changes to .gitignore, and add pytest-related dirs.",2016-11-14T11:52:13Z,N/A
b0bc36f1e6c95e23ba7b23df26e970d9991b5c3a,chapmanb,chapmanb@50mail.com,AWS: improve documentation on setting up volumes,2016-11-14T11:37:39Z,chapmanb
5718f940530d9433c6217d1f44239c365d923166,Tetiana Khotiainsteva,tetiana.khot@gmail.com,"Merge pull request #2 from tetianakh/feature/work_dir_on_S3

Feature/work dir on s3",2016-11-13T22:32:53Z,tetianakh
b1202c34056a1adfdffbd16ad33eecae4c5b9654,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Merge remote-tracking branch 'upstream/master' into feature/work_dir_on_S3,2016-11-13T21:27:31Z,N/A
beb4f554d1b98acf6e6b73c7e2319858b5102576,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Add tests for pipelines that work on S3,2016-11-13T21:27:07Z,N/A
340634db40ab8a42c668efcf13370f0aefca57ed,chapmanb,chapmanb@50mail.com,"hg38: Avoid HLA/alt contigs in variant calling

Remove HLA and other alts from coverage calculation and variant calling
since the unusual naming schemes in these break many downstream
programs. This restores the previous behavior that got lost during
conversion to use goleft for coverage estimates. Thanks to @mjafin
and Juan Caballero.",2016-11-13T11:05:30Z,chapmanb
2066d352c6424a13b3e0531b50b38aee1d8d964e,chapmanb,chapmanb@50mail.com,"seq2c: Allow whole genome runs with targeted SVs

Remove sanity checks when using regions with seq2c compatible
target coverage on whole genome runs.",2016-11-12T19:42:34Z,chapmanb
017179dfe57bcccac59175e12a87aabeacd9630c,chapmanb,chapmanb@50mail.com,"Logging: improve resolution of IP addresses

Adds additional method to resolve local (non-loopback IPs) when
setting up IPython-based logging. Thanks to @ohofmann",2016-11-11T14:43:39Z,chapmanb
755874024755039b067e5b71d07ecabaf4e3190f,chapmanb,chapmanb@50mail.com,QC: prepare UMI counts for MultiQC graph,2016-11-11T10:28:09Z,chapmanb
84811366b6e32a1df6c47cce42fd9fe0e5094a1f,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Fix code that doesn't pass tests,2016-11-10T17:40:08Z,N/A
919ecc823327e87a87ee4c4c062555a7317cc3c3,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Merge upstream changes,2016-11-10T16:48:36Z,N/A
72aed92a6e9a477ce9c332e24462db83fcdd147b,chapmanb,chapmanb@50mail.com,"CWL Nextflow: generate inputs/outputs

Basic support for creating process inputs/outputs and refine
todo list",2016-11-10T15:52:57Z,chapmanb
84cdbddea3a40cf0be6549c3baefa997943e4983,chapmanb,chapmanb@50mail.com,"Avoid sambamba view segfaults with multiple cores

Thanks to @ohofmann",2016-11-10T14:57:38Z,chapmanb
fb0821cfc7b7b465b074efb6a04a4b8a80b8b45d,chapmanb,chapmanb@50mail.com,Initial script for CWL to Nextflow conversion,2016-11-10T10:50:25Z,chapmanb
fe6c3b0b0b5c52675d58b2aae19a1f4e38bb3201,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,Scripts to run tests on goofys,2016-11-10T10:34:40Z,N/A
6bfd80c8d22b0360542abb1e0901a181068f392c,chapmanb,chapmanb@50mail.com,"Increase default memory for snpEff to 6g

4g default fails with out of memory errors on human runs.",2016-11-10T01:13:49Z,chapmanb
60a1eb7da34abc74f2180f24ffcd0c0d47f39c64,Lorena Pantano,lorena.pantano@gmail.com,QC:fix variants states for jointcalling.,2016-11-09T20:23:57Z,lpantano
8e2e9a0219e2d6b077a546c57b735f271b4083cc,chapmanb,chapmanb@50mail.com,"Avoid multicore usage with sambamba view -c

Due to reports of intermittent sambamba segfaults with parallel view
during production runs. Thanks to @ohofmann and @lpantano",2016-11-09T09:55:36Z,chapmanb
d4e332aa18675e0e26e32fd37e945ef7928796ac,Lorena Pantano,lorena.pantano@gmail.com,sRNA:fix miraligner version detection,2016-11-08T12:29:02Z,lpantano
d1a69bee8ada1dbd38997f146118e4440a1869a0,chapmanb,chapmanb@50mail.com,"QC: add statistics for UMI consensus

Provide QC module for assessing impact of UMI tagging on consensus
generation. Provides insight into duplication rates and UMI capture
in original reads.",2016-11-08T10:43:14Z,chapmanb
100e622414a6432997a7e1a6bf49106b43f24886,chapmanb,chapmanb@50mail.com,"GATK GenotypeGVCFs: avoid excessive memory usage

Avoid edge cases with many multiple alternative alleles that cause
extreme memory usage. Thanks to @lpantano",2016-11-08T02:33:45Z,chapmanb
5932aff359d9736c9e05fd50c6e58dd12e3fa72f,chapmanb,chapmanb@50mail.com,"template: support R1/R3 pairs in addition to R1/R2

Adds flexibility to template pairing for reads suffixed with R1/R3
instead of R1/R2. This can happen with UMI extraction where R1 = first
read, R2 = UMI and R3 = second read.",2016-11-07T10:31:07Z,chapmanb
be32e1df6e3d17ac7dac0fd435432fe64c735568,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1631 from vladsaveliev/master

Improvements in caching bed files. Fix counting genes.",2016-11-07T10:29:32Z,chapmanb
2a2b568cebbeb6c7c42157f5ba77d9968bcd2bda,vladsaveliev,vladsaveliev@me.com,"Improve caching of clean_file() and add_genes(), counting genes, bed cleaning code in seq2c :
1. Reviewed caching of clean_file() and add_genes() across the pipeline. Making sure that proper prefix like -cov, -svprio, -svregions are provided.
2. Counting genes in MultiQC: if the bed is pre-annotated, count original feature names; if we failed to annotate bed, skip reporting the count. Handle comma-separated names and dots.
3. Reusing clean_file() in seq2c.py, cleaning redundancy from code.
4. Minor fixes and inline comments in bedutils.",2016-11-07T00:41:37Z,N/A
9d701c515a3ba247e1b59825812dfe73cc657a42,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1630 from vladsaveliev/master

Target coverage reporting updates",2016-11-06T11:25:48Z,chapmanb
e376cc54b14b20e54c6edf53505e07c20d52e919,chapmanb,chapmanb@50mail.com,"UMI: avoid setting align_split_size

align_split_size does not currently work with UMIs since we do a
two pass alignment within a single step",2016-11-06T10:05:56Z,chapmanb
c041da4af90ff2056cf367e3fd2b6301dedc89e5,chapmanb,chapmanb@50mail.com,"UMI: use samblaster to avoid bamsormadup segfaults

bamsormadup segfaulting during writes when piped. Not sure about cause
by re-try using previous samblaster approach

```
0  0x0000000000000001 in ?? ()
   from /gpfs/group/ngs/src/bcbio-nextgen/latest-devel/rhel6-x64/anaconda/share/biobambam-2.0.58-0/bin/../lib/libstdc++.so.6
```",2016-11-05T23:33:02Z,chapmanb
636a1c0fb2b24ed1b246f60ce6a5deec0ed2cc54,vladsaveliev,vladsaveliev@me.com,Fix my affiliation in contributors list,2016-11-05T21:59:46Z,N/A
a6f0f1c85db1a77b7b59fdd7f25eee34a7e09ea0,chapmanb,chapmanb@50mail.com,Annotation: BED inputs with track/browser/comments,2016-11-05T18:23:01Z,chapmanb
29c5c9b5c50eb4e5e8b684da831e890d8cfe82ac,vladsaveliev,vladsaveliev@me.com,"Target statistics updates and fixes:
1. Add ""on padded target pct"" metric.
2. Add info about used coverage/vc regions into MultiQC.
3. MultiQC general read stats: reporting all by sambamba for consistency and for keeping a reasonable column order.
4. Simplify over-engineered offtarget save-retrieve code.
5. Fix ""dt = _fix_duplicated_rate(dt)"" in multiqc.py
6. Fix reading qualimap-rnaseq Average_insert_size metric",2016-11-05T18:17:00Z,N/A
3dd8a6c21fd26944059e7519c09159a484d46cab,chapmanb,chapmanb@50mail.com,Prepare samples: skip empty input lines Fixes #1625,2016-11-05T09:51:25Z,chapmanb
98c12fdaa8ce6ab9c6c1fdfb4db39df9c7b548ff,chapmanb,chapmanb@50mail.com,"Temporary directories for gatk-framework calls

Fixes #1627",2016-11-05T09:45:44Z,chapmanb
e1b01779e3311e4304fe6120e3ab909db6ebf466,chapmanb,chapmanb@50mail.com,UMI: use bamsormadup as input to UMI annotation,2016-11-04T14:06:22Z,chapmanb
2d0c506412f7f16529ef081c18944b277f0b598b,Lorena Pantano,lorena.pantano@gmail.com,GENOMES:update srna files in mm10 and rn6,2016-11-04T14:02:12Z,lpantano
b7b5028b678141a286d81495e266d6717191a657,chapmanb,chapmanb@50mail.com,Docs: slides and video from BIG presentation,2016-11-04T10:22:56Z,chapmanb
e4816bdb831f561bf9355a7210c81aa3217a5794,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1617 from vladsaveliev/master

Coverage QC updates",2016-11-03T10:24:09Z,chapmanb
e8d9710c197392c2bce4c7feb29b3f78e887869c,chapmanb,chapmanb@50mail.com,Better docs for GATK Java 1.7 errors #1618,2016-11-02T17:44:18Z,chapmanb
3647bda70fe3e2858cef296a6fa24458f23acbad,vladsaveliev,vladsaveliev@me.com,MultiQC: expose genome and target general information,2016-11-02T05:42:36Z,N/A
1f13cd07f850c7dfd9f0fce12db7e8c75ebcaadb,vladsaveliev,vladsaveliev@me.com,Cov QC: fix offtarget for whole genome,2016-11-02T05:42:36Z,N/A
9b24666343f772ee492fbc10b1d68765cc9544fc,vladsaveliev,vladsaveliev@me.com,Fix sambamba empty query. Use mapped reads for wgs avg coverage.,2016-11-02T05:42:36Z,N/A
4adb9920dbb289b418ff82821700de293c4d4921,vladsaveliev,vladsaveliev@me.com,"Coverage QC:
- prefer ""coverage"" regions for reporting (coverage stats and plots, qualimap);
- reusable sambamba calls;
- reusable functions for avg depth and off target, parametrized by target type.",2016-11-02T05:42:36Z,N/A
58bc1fb8a3faf34195516977dce028757f539fa0,vladsaveliev,vladsaveliev@me.com,"QualiMap and MultiQC fixes:
1. Fix bam and dir names for MultiQC,
2. Cmdl parameters: skip flagged dups, fix -gd,
3. Searching deeper for secondary QC files,
4. MultiQC ignore images and small refactoring.",2016-11-02T05:42:36Z,N/A
b25168f52d9d646a539902e7121c16ac0b818a0c,vladsaveliev,vladsaveliev@me.com,"Coverage QC: report usable rate, fix offtarget rate, fix _median_coverage for targeted and rename to _average_coverage.",2016-11-02T05:42:36Z,N/A
9b98627e2afbcee42c51d2b4f2737d31f9dff33d,chapmanb,chapmanb@50mail.com,"scalpel: use temporary directory for work

Allows setting temporary directory locally to avoid shared
filesystem errors. Fixes #1613",2016-11-01T18:31:52Z,chapmanb
29a50ecf0c0b743bfd2a3a0b9890666f7dc22a2f,chapmanb,chapmanb@50mail.com,"BAM merge: scale cores to match memory requirement

biobambam's bamsormadup does not have memory/core specifications so
can fail on larger input files when running out of memory. This scales
core use to an expected 3.5Gb memory/core to avoid the problem.
Fixes #1618",2016-11-01T17:59:47Z,chapmanb
43f83283258072f1c12d9c57972040674bcc1d7e,chapmanb,chapmanb@50mail.com,Fix typo in bamsormadup tmpfile specification,2016-11-01T16:18:07Z,chapmanb
3236678152971ca30f876123f520007c86d0e62e,chapmanb,chapmanb@50mail.com,UMIs: avoid marking duplicates after consensus,2016-11-01T15:20:46Z,chapmanb
12c75ce258a3c4a0aea2214d45587f3f421987b9,chapmanb,chapmanb@50mail.com,"concat: avoid duplicating input files

Fixes edge case identified by @lpantano where list of files for
concatenation had duplicated files, causing CatVariants to fail.",2016-11-01T14:12:28Z,chapmanb
ec19cf99d4a2ca565d42ebbe8d5ca9ecf0c5ef8b,chapmanb,chapmanb@50mail.com,"Simplified de-dup skipping split/discordant reads

When split and discordant reads are not needed for SV calling with
Lumpy, use simplified de-duplication with bamsormadup. Tries to
avoid intermittent failures with samblaster pipes that include
multiple sub-pipes for sorting of the extra outputs. Fixes #1619",2016-11-01T09:40:06Z,chapmanb
af4701be303bd64ccb47b107d9be36cd606d278d,chapmanb,chapmanb@50mail.com,"Allow low frequency calling for mitochondrial

Improves detection of low level heteroplasmy when specifically searching
for that with higher MT ploidy settings. Thanks to Moiz Bootwalla

https://groups.google.com/d/msg/biovalidation/4kMH5rkypuU/0yUsp104AAAJ",2016-10-30T10:01:05Z,chapmanb
4708de9cde3e079c936e78f283a34518e1e01fa2,Lorena Pantano,lorena.pantano@gmail.com,"CHIP: fix multiplayer when no caller is done.

thanks @mistrm82",2016-10-28T15:52:30Z,lpantano
5f5d824c40635e9d27ef2a3d9a7217c0325d90fa,chapmanb,chapmanb@50mail.com,"Docs: update exome validation example

- Make easier to download with single wget/bash command
- Use bcbio installed Genome in a Bottle instead of old validation
  materials",2016-10-27T10:01:22Z,chapmanb
69466737c2cce4af1731c21507e4f63bfd84f66b,chapmanb,chapmanb@50mail.com,"UMI: move UMI grouping to consensus calling pipe

UMI grouping removes reads that won't contribute to consensus so
post-UMI assignment is a better point for retaining BAMs for downstream
analysis. Assigns assiditional memory to AnnotateBamWithUmis to work
around memory issues.",2016-10-26T17:32:43Z,chapmanb
4d30787e84982c613e8360ec076d2d8dcb9c6c5a,chapmanb,chapmanb@50mail.com,"UMI: memory and non-paired end fixes

- Handle non-paired end UMIs which should not go through grouping
  and consensus calling
- Assign additional memory for UMI and UMI group assignment",2016-10-26T12:42:54Z,chapmanb
8bd09ad9c5c55c3993db480b2f09a7174c58baa9,chapmanb,chapmanb@50mail.com,UMIs: Fix multicore memory scaling for fgbio,2016-10-25T18:01:24Z,chapmanb
238957ba44a57765072f7e1e3d0fb7134969f7ad,chapmanb,chapmanb@50mail.com,UMIs: pass scaled Java resource usage to fgbio,2016-10-25T17:49:35Z,chapmanb
327a9166ee03f23782cbca0084fa17a8ccc35c30,chapmanb,chapmanb@50mail.com,"UMI: create consensus reads and re-align

Uses grouped variants from UMI inputs for creation of consensus reads,
realigning these and then proceeding with the rest of the standard
variant calling pipeline.",2016-10-25T09:49:24Z,chapmanb
17a0612da4de95fadb65239e027aef9a0ecb493c,chapmanb,chapmanb@50mail.com,Effects and GEMINI creation for precalled VCFs,2016-10-24T13:32:09Z,chapmanb
e1172c2ba9d40521abe7555fb85bd59441b085e6,chapmanb,chapmanb@50mail.com,"UMIs: initial support for annotating and grouping

Provides a sorted, de-duplicated BAM output with UMI tags added and
grouped. Initial steps: still need to support consensus building and
re-alignment of consensus reads.",2016-10-24T09:47:41Z,chapmanb
8367c573a89f628b6f7c61d895b7b6643c69cee4,chapmanb,chapmanb@50mail.com,Add test case for variant calling with UMIs,2016-10-24T09:37:41Z,chapmanb
46697ba0e70a390465c62796335bc90c7505184a,chapmanb,chapmanb@50mail.com,Docs: CWL v1.0 support in bcbio and WDL work,2016-10-23T09:51:51Z,chapmanb
840167047bd636cbd23177b8f9f1f1574e3685ee,chapmanb,chapmanb@50mail.com,"Docs: improve description of hacking on code

References to virtualenv confused users looking to develop against
bcbio. Avoid replicating text and refer to coding section to avoid
installation confusion.",2016-10-23T00:35:31Z,chapmanb
94e61a9ee7ac814dac6909ad7c6e510dc3ab3c49,chapmanb,chapmanb@50mail.com,Validate: also add context to call true positives,2016-10-21T18:32:14Z,chapmanb
e0ac05396309ac816c46cbc85b862c941de3b046,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:allow run cutadapt after adpter trimming with custom options

There are some other library preparation that need
an extra step in the trimming step, where some nucleotides
should be removed from 5' and 3'.",2016-10-21T17:50:33Z,lpantano
3352af6528b1862c4c4b81698a206d6f8b5a7c14,Tetiana Khotiainsteva,tatiana.khot@gmail.com,"Merge pull request #1 from tetianakh/feature/work_dir_on_S3

Feature/work dir on s3",2016-10-20T12:55:34Z,tetianakh
1c166018c4716683b0d9caabecba519d5771d53a,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,"Fix check for workdir in command line args

Fixes the failing `bcbio_nextgen.py version` command.",2016-10-20T11:18:22Z,N/A
5f6a572fd7632a4d933762988cc691ab397f4e6c,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,"Split test suite into unit and integration

Split test suite into unit tests (isolated, no
external dependencies) and integration tests (require
installation of tools and/or data)

Separate tests executed though bcbio_vm.py from
tests executed with bcbio_nextgen.py.

Use pytest to run tests.

Run all possible tests with travis CI inside
bcbio/bcbio:dev docker container, which is
built with Dockerfile_dev.

Add coverage reports to Travis CI builds, separately
for unit and integration tests.

Bring back gz files that got ignored by git.

Mark cwl_local test as failing.

Remove bash scripts for running tests, as they are
no longer used by CI.",2016-10-20T11:05:39Z,N/A
79419286cf14eaaad75837b15588412ec65c3b88,Tetiana Khotiaintseva,tetiana.khotiaintseva@ardigen.com,"Addjust to allow workdir on S3

Add possibility to run integration tests in a
specified workdir.

Use file transactions in rnaseq pipelines
Use file transactions in rnaseq.assemble_transcripts
Use wasabi in a file transaction.
Use file transaction for STAR alignment.
Use MultiQC in a file transaction
Use tophat-recondition in a file transaction.
Use GATK in a file transaction.
Put qualimap_rnaseq inside a file_transaction.

Check if an original file exists before creating a symlink
in utils.symlink_plus.

Check if the list of files for multiqc is empty
before running the multiqc command.
Fix ValueError message in multiqc.py.

Refactor transaction.py
Change default tmp dir location to /tmp/bcbcio

Don't remove fastq files in alignprep if kraken is to be used in qc.
Kraken requires those files from data['files'] as input.
If they're overriden or removed, kraken fails.",2016-10-20T11:05:19Z,N/A
4a002cc639b09f8aca9a8f200b66c7b87fe314ce,chapmanb,chapmanb@50mail.com,Docs: small cleanups for AWS ansible based runs,2016-10-19T01:14:10Z,chapmanb
d97d28adcf2268a9252649feb3feb2f43ac25ed2,chapmanb,chapmanb@50mail.com,"ploidy: allow specification of special cases

Allows adjustment of ploidy for mitochondrial, female and male calling
if defaults do not work via a dictionary setting for ploidy:

   ploidy:
      default: 2
      mitochondrial: 1
      female: 2
      male: 1

Thanks to Moiz Bootwalla
https://groups.google.com/forum/#!topic/biovalidation/4kMH5rkypuU",2016-10-18T09:29:13Z,chapmanb
1ff4b5bef6cbcf7e659bc5a9322cba495594dd2c,chapmanb,chapmanb@50mail.com,"CWL: support multi-sample validation runs

Correctly parse and handle outputs from validation runs with
multiple samples or callers.",2016-10-17T14:41:12Z,chapmanb
311a2b56251d991b65dd15e964e7f15c70958f22,chapmanb,chapmanb@50mail.com,"CNVkit: small panel and large population support

- Use smaller target regions, instead of haar, for segmentation on
  deep small panels
- Estimate noise of samples and remove noisy samples in larger
  population calling.",2016-10-17T10:09:11Z,chapmanb
d4031dadb446e945999cf7bb7eb137df1d2bf18c,chapmanb,chapmanb@50mail.com,"Loading of genome_context from remote resources

Enables retrieval of BED validation files from remote resources like
Arvados Keep.",2016-10-15T19:12:13Z,chapmanb
3eaca3faa1ce8e0367589e955386d019a568218d,chapmanb,chapmanb@50mail.com,"WDL: work_bam-plus keys to use underscores

Move to underscores for work_bam_plus identifiers for compatibility
with WDL parsers.",2016-10-15T09:48:14Z,chapmanb
cd2b579d5180a62a9dedc47342e7573db0bff75a,chapmanb,chapmanb@50mail.com,"WDL compatibility: use underscore for dash

Swaps over underscores for dashes in small RNA-seq data file variable
names. Provides compatibility with WDL which prefers these over
dashes for variable names. cc @lpantano",2016-10-14T09:57:07Z,chapmanb
bb05279959a15ff982374f78e1b8f3d1eaf8018c,chapmanb,chapmanb@50mail.com,"WDL: Add placeholder for reading variable outputs

Adds general idea for reading outputs from standard CWL json files
and initial work on validating WDL output.",2016-10-14T09:42:38Z,chapmanb
d60a2c6ec2a1cc6b55fcefdc78c05964d93aae50,chapmanb,chapmanb@50mail.com,"Amplicon/pulldown: lower offtarget thresh

Well behaving exome probe sets have better than 10% off-target reads
so get detected as amplicons.",2016-10-14T09:41:11Z,chapmanb
cd8822f521f681cb601eaecdc8c5b0c3a1bef421,Lorena Pantano,lorena.pantano@gmail.com,"QC: Fix numbers for gemini queries

I wasn't catching the output, so it was always 0.",2016-10-13T16:49:34Z,lpantano
f6a0ff8940f096e15cbf282b66f1142d0e7e93d8,chapmanb,chapmanb@50mail.com,"WDL: add scatter parallelization from CWL

Convert CWL dotmatrix scattering into WDL scatter, reorganizing
calls to use the scattered inputs.",2016-10-13T09:53:15Z,chapmanb
4088e9fd93e1c6af4172582b93180c09088cfe57,chapmanb,chapmanb@50mail.com,"Allow passing all variants into GEMINI database

Add tools_on: [gemini_allvariants] configuration option to allow
passing all variants, including soft filtered, into created GEMINI
databases. Thanks to Moiz Bootwalla:

https://groups.google.com/d/msg/biovalidation/VW6X9a62noA/wMPmxypMBQAJ",2016-10-12T19:53:19Z,chapmanb
c230f9ffcc8a89263c700900e4724d3922b6d5a4,chapmanb,chapmanb@50mail.com,"WDL: unpack objects and add CPU/mem resources

Passes along CPU, memory and Docker requirements to WDL. Also handles
unpacking individual values in record objects during runs.",2016-10-12T09:36:48Z,chapmanb
67d398654dbc5c28b4ceca0ccf130bd3636d2f4e,chapmanb,chapmanb@50mail.com,"WDL: put inputs and outputs in workflows

Connect chaining of tasks by including inputs/outputs in workflow
definitions, remapping from CWL.",2016-10-11T09:45:49Z,chapmanb
2f8343b6ae252a353461c4bda20be8ed0a303ef6,chapmanb,chapmanb@50mail.com,WDL: avoid writing empty default,2016-10-10T09:31:01Z,chapmanb
e4c1a48297cc73282cc5f604223b215452da7d41,chapmanb,chapmanb@50mail.com,CWL: empty plot list if no validation present,2016-10-10T09:30:24Z,chapmanb
6f2fc742b4a258e49406c4b44cdd065cbc329d07,chapmanb,chapmanb@50mail.com,"CWL: missing genome_context for variantcalling

Ensure genome_context is a list even when missing to avoid CWL
errors on validating output.",2016-10-09T09:56:58Z,chapmanb
d3540d5e416eb9d2b371a37d77e54f3b79fecf76,chapmanb,chapmanb@50mail.com,"Examples: NA12878/NA24385 cancer-like mixture

Add preparation, configuration and documentation on running the
NA12878/NA24385 mixture cancer-like analysis, now hosted on
Genome in a Bottle.",2016-10-09T09:43:45Z,chapmanb
0a656c30f76b65be5af9acb168e2adea5322ca32,chapmanb,chapmanb@50mail.com,"validation: prefer variant level when present

Avoids missing validations when running in non-CWL mode",2016-10-08T09:13:22Z,chapmanb
05a4dfcff7c6e93576432d01777b002229297be3,chapmanb,chapmanb@50mail.com,"Handle additional options for variantcaller: false

Avoids errors when specified as a list (variantcaller: [false])",2016-10-08T09:12:24Z,chapmanb
5414555da1173ca17d312359dc6109812dcf6562,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1588 from raonyguimaraes/master

Fixing Links",2016-10-07T10:05:34Z,chapmanb
a72db6cac37ea1882dce0f261de3ae7692c4f14b,chapmanb,chapmanb@50mail.com,"coverage: increase depth window assessment

The initial approach of assessing depth in 10bp increments produces
giant files of depth (>100Gb for exome regions). This won't work so we
need to revisit the approach. Increasing window size now until we
can reinvestigate.",2016-10-06T09:52:04Z,chapmanb
596e902998bf0e417646ad5c64074d1f39152d4f,chapmanb,chapmanb@50mail.com,"callable: code cleanup following goleft migration

Removes unused code after moving coverage assessment to goleft #1549",2016-10-06T09:49:59Z,chapmanb
3dee1c2e1ba2a8413f2a6fca69c7ca46f99c70d7,chapmanb,chapmanb@50mail.com,"Coverage: use goleft for calculation of coverage

Swaps to use goleft for coverage estimation including production
of a standard coverage file with 10bp resolution for downstream use
by other tools (#1549, #1583). Remaining work to do:

- Cleanup unused code after change
- Use pre-calculated coverage bins for CNVkit, seq2c and QC reporting",2016-10-05T11:14:33Z,chapmanb
8a7e2cdb8ac889cd197179bbc094c6983cfe9310,chapmanb,chapmanb@50mail.com,QC: handle single non-list variantcaller,2016-10-05T01:26:59Z,chapmanb
41e54fccf2e7091a1759e72b1f5229cb2129eaba,Lorena Pantano,lorena.pantano@gmail.com,"QC:fixing file used for variant stats

Thanks again @ohofmann. Hopefully this time it works.
Specifically telling used ensemble when it exists. Or first
caller otherwise.",2016-10-04T19:57:15Z,lpantano
3a3bcc19ba11e16e91a2ae8d4cc4918006967f70,roryk,rory.kirchner@gmail.com,Add spikein quantification to upload directory.,2016-10-04T19:03:45Z,roryk
9b019912e6d3a8ce580f1f63bbb4f15c51a1a574,roryk,rory.kirchner@gmail.com,"Add on-the-fly spikein quantification to RNA-seq pipeline.

Update documentation for the new `spikein_fasta` option.

Thanks to @lpantano for implementing and testing the spikein code.
She tested it against hg19 with and without aligning to the
genome/spikeins at the same time, and the counts match almost exactly,
so it is valid to do this separately.

Thanks to @saboswell for the spikein suggestion.

Closes #1575.",2016-10-04T18:25:56Z,roryk
35546c748dd213d0bc993feb8a3bf6bfa1abf7c0,Lorena Pantano,lorena.pantano@gmail.com,sRNA:Improve the way to get miraligner version,2016-10-04T14:05:37Z,lpantano
4a850293e548b7e938423fd23c1f371d4e124acc,Raony GuimarÃ£es,raonyguimaraes@gmail.com,"Fixing Links

I corrected some of the links that were broken.",2016-10-04T13:45:28Z,raonyguimaraes
588876c64f3f9a673bfec37c54f7fd03f4ee1455,roryk,rory.kirchner@gmail.com,Update rn6 resources with transcriptome section.,2016-10-04T13:41:53Z,roryk
e1baf12641455bad4b2651c06c39f0d8d4631c68,chapmanb,chapmanb@50mail.com,"highdepth: handle bgzipped input files

Some installed highdepth BED files are now bgzipped, so be sure
we handle these correctly and avoid writing binary output. #1543",2016-10-03T20:23:08Z,chapmanb
4bee488f9213062f31e1475ac017caef8bfaba9f,roryk,rory.kirchner@gmail.com,"If missing, make splicesites file for hisat2.",2016-10-03T17:43:53Z,roryk
9a7d48aa33f266e71ab7a5aa51f30939077d3bb3,Lorena Pantano,lorena.pantano@gmail.com,RNA: fix return value if not spikein fasta files,2016-10-03T17:02:17Z,lpantano
1d9f9f930fb46db7a8a54390e3d811c1f4389c4d,Lorena Pantano,lorena.pantano@gmail.com,Skip multiqc if file is empty,2016-10-03T16:10:30Z,lpantano
06ec764f257fc14acdac4d726d2df53c6ec545ed,chapmanb,chapmanb@50mail.com,"WDL: add support for sub-workflows

Allow resolution of sub-workflows in WDL conversion and add additional
notes about mapping approaches.",2016-10-03T15:04:53Z,chapmanb
286cf84b762ac15c54507536bc9e301647fe7349,chapmanb,chapmanb@50mail.com,"WDL generation: support for task output

Handles translation of tool to task with inputs and commands
generated. Does not yet handle outputs, need to research best
ways to retrieve from JSON style output files that CWL uses.",2016-10-03T10:33:19Z,chapmanb
e8045a03de2a28cc562500c95cda7dfd1ec3e05b,chapmanb,chapmanb@50mail.com,"Tumor-only prioritization: add tools_off option

Allow turning off tumor-only prioritization with external data
sources. Thanks to @bwubb",2016-10-01T18:10:43Z,chapmanb
89a7bcd493637228d55496707880b504c56cc14c,chapmanb,chapmanb@50mail.com,"CRAM: skip bam squeeze quality binning if it fails

bam squeeze fails inconsistently, this catches the errors and falls
back to only doing reference compression with quality binning.
Fixes #1578",2016-10-01T09:34:42Z,chapmanb
2882b4978fa990ca12ebe2aa7fdf27356d8abffc,chapmanb,chapmanb@50mail.com,VEP: correctly output HGVS values #1571,2016-09-30T14:08:05Z,chapmanb
7497dd95da7db6d490e8dc3c7072e56b66000775,Lorena Pantano,lorena.pantano@gmail.com,sRNA: adapt kmer to small values in spikein quant,2016-09-29T18:04:54Z,lpantano
d3f1003de3e1898328ff1aa1e4e837d7014c4645,chapmanb,chapmanb@50mail.com,"Scalpel: remove highdepth regions

Avoids sdbm errors with highdepth regions on whole genome runs.
Fixes #1543",2016-09-29T17:56:06Z,chapmanb
b3b411f0660b216921f37289345abe75c6f5b089,Lorena Pantano,lorena.pantano@gmail.com,"sRNA:adding spikein quant onthe fly

First apporach to quantify using salmon a fasta file with spikein
sequences. Only added to smallRNA-seq for now.
Still need to parse the combined file to get a
matrix of counts.",2016-09-29T17:20:48Z,lpantano
90bee8dafb12105e79c54870a75d611d8c5147c7,chapmanb,chapmanb@50mail.com,validation: no dups in stratification annotation,2016-09-29T09:20:57Z,chapmanb
9bc962bf6d19edf8b120cbc2ebcbafde24d6284d,Lorena Pantano,lorena.pantano@gmail.com,"QC:remove duplicate from the coverage calculation

As well, use ensemble VCF file when it exists.
Only problem with that is that the germline file hasn't a ensemble file,
so it will use the first that it founds for now.
Thanks @ohofmann",2016-09-28T20:02:33Z,lpantano
b597ca35a416907cbd8eedfa63fb9eb149454d54,roryk,rory.kirchner@gmail.com,"Add fast RNA-seq configuration options to docs.

As a follow up to #1575.",2016-09-28T17:03:05Z,roryk
e8a3d596f7cc2456426141c550c56fe61b1f4e70,roryk,rory.kirchner@gmail.com,"Be a nice github API user.

They want us to explictly set user-agent to be our application
name: https://developer.github.com/v3/#user-agent-required",2016-09-28T14:44:40Z,roryk
65b979312cd661451d0cca3f34c2aa6c9643ca4f,roryk,rory.kirchner@gmail.com,Remove debugging statement.,2016-09-28T14:13:15Z,roryk
68431f76c083f545e2e951d8b57fb8704c688455,roryk,rory.kirchner@gmail.com,Swap vcfanno lookup to use the requests library.,2016-09-28T13:41:54Z,roryk
eb0980067305c1d954e2db77cfd354cd3faec205,chapmanb,chapmanb@50mail.com,"Avoid re-creating transcript BED file

When the user doesn't have permission to convert a GTF to BED file in
the base directory, avoid re-creating it in the local directory.
Fixes #1579",2016-09-28T13:34:08Z,chapmanb
24ab9519e3f56601c4542b91fc4e00942211136d,chapmanb,chapmanb@50mail.com,"Presentations: Broad, teaching and BOSC links",2016-09-28T10:08:51Z,chapmanb
f91a5e8de3203a9f7a48130ab1a4b44a529234d4,chapmanb,chapmanb@50mail.com,Docs: how to change logging directory location,2016-09-27T15:06:42Z,chapmanb
536acff6c772a574bae84462365de703daa04a9b,chapmanb,chapmanb@50mail.com,"VEP: add support for HGVS with clinical_reporting

Work in progress for testing on larger runs: #1571",2016-09-27T09:35:12Z,chapmanb
07051d147e6ad92e15f2f83fb861d2c13b12dcc0,chapmanb,chapmanb@50mail.com,"Avoid getting older program versions from brew

Now that we install everything with conda packages, avoid potentially
pulling in old versions for things like snpEff from older brew
installs. #1561",2016-09-26T09:48:55Z,chapmanb
ac8fe2cf4a1e77d9d2a159012e3d0d50e06fa382,chapmanb,chapmanb@50mail.com,CWL: exploratory work converting to WDL,2016-09-26T09:35:12Z,chapmanb
293a563b1f656ad9fdc031ebe06060124144a2cc,chapmanb,chapmanb@50mail.com,"validation: annotate only BED files with names

Avoid vcfanno index errors on BED files with chrom, start, end and
no name value to extract.",2016-09-24T09:27:56Z,chapmanb
7a1fef1c4b16c72f176e77fc06f130cc35c2d244,chapmanb,chapmanb@50mail.com,"Fix kraken when save_diskspace turned on

save_diskspace removes prepped fastq files, so this saves the location
of the original files allowing kraken to access those for QC.
Fixes #1558",2016-09-23T10:09:34Z,chapmanb
47126f2d68b8b9ac7cd7adbfb0abdeb56a37cd04,chapmanb,chapmanb@50mail.com,"Better error message for not finding conda install

Tries to provide better clues for debugging install problems #1570",2016-09-23T01:40:04Z,chapmanb
689c594a344343a1947a8e9195e051a8541e45b7,chapmanb,chapmanb@50mail.com,"Limit GATK GenotypeGVCF cores; avoid memory issues

Larger number of cores provide out of bound memory usage for
reasonable sized inputs. Fixes #1565",2016-09-22T17:48:54Z,chapmanb
c7fb6ead93f7a8b24cb4b85633a8466f66d52184,chapmanb,chapmanb@50mail.com,"Provide proper parallelization for multi-sample QC

Correctly provides more machines for multi-sample jobs during structural
variation QC. Since QC is now parallelized this can take
advantage of more machines even in the absence of SV callers. #1556",2016-09-22T17:07:29Z,chapmanb
cb2139e81f343a4fe4439cb247434aecb457cf77,Lorena Pantano,lorena.pantano@gmail.com,CHIP:fixing jobs number for atac-seq protocol,2016-09-22T13:43:54Z,lpantano
167048359a100307e4c53c5d655deb62bb611297,chapmanb,chapmanb@50mail.com,"CWL: support for latest cwltool/schema-salad

Places secondaryFile annotations at top level of types. This seems
to be the new supported location for nested array types.",2016-09-22T09:27:56Z,chapmanb
1380abecd81f5cb4da0c220b17a9f49806b72944,Lorena Pantano,lorena.pantano@gmail.com,"SETUP:fix command to create custom miRNA databases.

thanks @naumenko-sa",2016-09-21T20:32:22Z,lpantano
d139e5de34c3a1490094fbc35047fe9a3fbd91f5,chapmanb,chapmanb@50mail.com,"battenberg: ensure local R used for runs

Fixes issues with resolving Rscript. Thanks to @ohofmann",2016-09-20T17:54:52Z,chapmanb
3e9607c05703fd1fbfc814e3c33766418aa44cac,roryk,rory.kirchner@gmail.com,"Skip rRNA calculation if Sailfish wasn't run

Closes #1562.

Thanks to @mjafin for the report.",2016-09-20T15:18:15Z,roryk
510367397c12949822dd04be5e2a6f992a4bcb9f,roryk,rory.kirchner@gmail.com,"Skip sailfish if using pre-aligned BAM files.

Closes #1562. Thanks to @mjafin and @csardas.",2016-09-20T02:34:41Z,roryk
9406168ae14b9e4997fc847d26be0a268becca78,roryk,rory.kirchner@gmail.com,Skip running Oncofuse on prealigned BAM files.,2016-09-20T01:09:15Z,roryk
d5bf8f3e2fc549ef369f81587b483cae156349c8,roryk,rory.kirchner@gmail.com,Skip trimming if using prealigned BAM files.,2016-09-20T01:08:32Z,roryk
8e113cb29dc4110d19de86c24e701f735c095b3a,roryk,rory.kirchner@gmail.com,"Make STAR alignment directory-transactional.

Partially addresses #1437.",2016-09-19T22:58:55Z,roryk
a110f068a47851e88b2bac155cee22fb155aa196,chapmanb,chapmanb@50mail.com,"CWL: Expose context annotated validation TP/FP/FNs

Exposes true/false positive/negative VCFs from validation throuwh CWL
allowing use from downstream applications. Includes annotation
with genome context through CWL inputs.",2016-09-19T14:37:47Z,chapmanb
7ed448ca1bc66900781ebaaa3ce3b7d57c40cf4d,chapmanb,chapmanb@50mail.com,"Validation: store context input files in data

Stores required BED files for assessing validation variant context
in the main data dictionary, allowing passing to CWL workflows.",2016-09-19T14:31:44Z,chapmanb
50135a2f9f6132e11b766eeb5faafcdd88e31df9,chapmanb,chapmanb@50mail.com,"MuliQC: handle CWL pfiles inputs

In CWL these are single defined files not lists or dictionaries so
handle this case.",2016-09-18T22:32:40Z,chapmanb
e33c56506b587da00ea9f6450c4f47276b7ddf0c,chapmanb,chapmanb@50mail.com,Update resources to match new bgzipped BED files,2016-09-18T14:30:20Z,chapmanb
65618fe63e6f065b7b8f036d94e19da8d6e833e1,chapmanb,chapmanb@50mail.com,"Validation: improve annotation with genome context

Provide summarized 'genome_context' key/value with all overlapping
variant annotations. Update genome data with test example.",2016-09-18T14:28:52Z,chapmanb
f30428a1f88745dba870dd462717d8eb8dbd655d,Lorena Pantano,lorena.pantano@gmail.com,Update config docs with new chipseq values,2016-09-16T20:17:49Z,lpantano
b2ecc6d07b7fef22f7aea3a75b9545ed6cf63bac,Lorena Pantano,lorena.pantano@gmail.com,Update History,2016-09-16T20:17:14Z,lpantano
01f1d62d4b7283c3119923baa10eb2208226586e,Lorena Pantano,lorena.pantano@gmail.com,"CHIP:add ATAC-seq support

Workaround peakcallers parameter type.
As well, ignore input to be used as chip.",2016-09-16T19:42:19Z,lpantano
af4730ec5d7f94e8c72016c320e061bedeb834f3,chapmanb,chapmanb@50mail.com,"Validation: framework for post-run annotation

Annoates true/false positive/negative files with GA4GH and other
problem region BED files to help identify causes of discordance
and performance on easier regions.",2016-09-16T09:36:30Z,chapmanb
8d70322180ce5b9919a40b26642c92a67515f137,Lorena Pantano,lorena.pantano@gmail.com,QC:ignore bcftool results,2016-09-15T14:24:55Z,lpantano
d8c49e6e5d42a54e3a8fbf343d9e8853bae64e25,Lorena Pantano,lorena.pantano@gmail.com,QC: include all file in multiqc,2016-09-15T14:10:45Z,lpantano
3cc9c6d300cb39e19ac86e36efcf6c7931489d60,Lorena Pantano,lorena.pantano@gmail.com,"QC:use all the files for multiqc step

Trying to avoid missing values in the report when
analizing high number of samples.",2016-09-15T13:55:48Z,lpantano
94dfe6a6438bca25425258be27752284827276c3,chapmanb,chapmanb@50mail.com,"Coverage: remove older problem_region_dir config

Start work towards annotating coverage and validations using
bcbio's pre-installed directory of annotation. Removes older
approach of downloading separately and placing a directory
in configuration file to avoid confusion.",2016-09-15T09:07:28Z,chapmanb
cb39c1edf395f7da1c241010fc833fe512fa74ac,roryk,rory.kirchner@gmail.com,Fix for bcbio-nextgen-vm not passing the local_controller option.,2016-09-14T21:59:34Z,roryk
611cc1dc092461974468c3151680e89dcf7d277f,roryk,rory.kirchner@gmail.com,Update HISTORY with local_controller option.,2016-09-14T21:00:14Z,roryk
b560ed376c5889bb75ba4c86e3c136ab65f6179a,roryk,rory.kirchner@gmail.com,"Add local_controller option.

This allows for the controller to be run alongside the main bcbio process. This
avoids situations described in #1555, where schedulers are set up to give you
an entire node for every job and we were forcing folks to use up a whole node
with just the controller process.

Closes #1555. Thanks for @brentp and @schelhorn for suggesting the
fix.",2016-09-14T19:31:33Z,roryk
7e4539b7ac122b1753c6677c1650215766089e5a,chapmanb,chapmanb@50mail.com,"CNV Prioritization: handle bgzipped BED inputs

Thanks to @ohofmann",2016-09-14T17:37:56Z,chapmanb
3050565568354f6e4a319a611a4f8ee020b4f0c0,chapmanb,chapmanb@50mail.com,"CNV prioritization: only filter genes if present

Avoids error when no gene names available for prioritization. Thanks
to @ohofmann",2016-09-14T14:55:38Z,chapmanb
09fd4e6da9787c2f3752e1397c31db95883b27de,chapmanb,chapmanb@50mail.com,bzip2 inputs to variant calling. Fixes #1554,2016-09-14T09:32:24Z,chapmanb
a8559f9919a6a46ee57bd647bf6b52f8832aa58f,chapmanb,chapmanb@50mail.com,Callability: edge case with no alignments #1549,2016-09-13T18:20:58Z,chapmanb
5e6d09ee0c46f22a8cb27b07903c7db9853281dd,chapmanb,chapmanb@50mail.com,"Coverage: calucate with python including highdepth

Use custom python script from @brentp instead of awk/bedtools to
collapse into callable regions from samtools depth. Include
identification of highdepth windows in same process to avoid extra
work. Fixes #1549",2016-09-13T09:38:55Z,chapmanb
03857b46f75e73b1225b541bd4b26487e3aab385,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1551 from lbeltrame/fix-nameerror-missing-items

Fix NameError on Mutect2 missing batches error",2016-09-12T09:34:03Z,chapmanb
540c556154ed7b987aff19893bae27ce901759d0,Luca Beltrame,luca.beltrame@marionegri.it,"Fix NameError on Mutect2 missing batches error

The code was likely copy-pasted from somewhere else, but lacked
the ""items"" parameter, therefore any error there would raise a NameError
because of an undefined variable.

This patch simply adds the ""items"" parameter, and changes the user of
the function accordingly.",2016-09-12T07:48:21Z,lbeltrame
30c43ebbf8548f6439559ed993c29d37924a27b0,chapmanb,chapmanb@50mail.com,"Use samtools depth instead for depth calculations

Replaces bedtools genomecov calculation. Provides a 6x speedup over
previous approach in initial benchmarking. Also allows piping directly
into groupby coverage, avoiding disk IO for the intermediate files.
Thanks to Brent Pedersen. Fixes #1549",2016-09-11T09:28:55Z,chapmanb
d049306a38ba3b6b700e3368df2a0ca845ed2edc,Lorena Pantano,lorena.pantano@gmail.com,SRNA:skip if version cannot be addressed.,2016-09-09T20:34:04Z,lpantano
83ca0a65afdc2f954eb3db029f50beef18b35fcc,chapmanb,chapmanb@50mail.com,"CWL SV: support lumpy by passing split/discordants

Pass split and discordant reads from alignment and merging to Lumpy
and ensure we correctly find them from data dictionary.",2016-09-09T16:45:04Z,chapmanb
b4f7bf2441da328c542abbebb1aed86b21f836e7,chapmanb,chapmanb@50mail.com,"CNVkit: use spread for prioritization

Tuning of CNVkit prioritization based on truth sets. Use confidence
interval spread to identify likely true positives. Handle new
naming for CI in latest CNVkit development version.",2016-09-09T08:06:07Z,chapmanb
e194f57fcc058be9c2fddc7cd8284bd5b92fde3a,roryk,rory.kirchner@gmail.com,"Run RNA-editing annotation on final call file.

For GATK calling, this is on the final joint file. For
Vardict, it is on the individual variant files.",2016-09-08T01:11:12Z,roryk
c5cb56e9ce887ab2494cfa3cd3aae9178c170d63,roryk,rory.kirchner@gmail.com,bgzip vcfanno annotated variant files.,2016-09-08T01:09:35Z,roryk
51314774e000a247e6c825df125b00dce0318e38,roryk,rory.kirchner@gmail.com,"Add fallback to being on path.

For environments where the code is in one place and the installed
programs are in another, gatk-framework wasn't being picked up.",2016-09-08T01:07:56Z,roryk
3c58161ed9e056e2010f00cb49a1a0879d732ec1,chapmanb,chapmanb@50mail.com,"CWL: summarized plots of variant validation

Requires reading packed output records and different validation
storage format compared to standard workflows.",2016-09-07T12:54:57Z,chapmanb
c69c8f414a284f387ba87d2af66fd48dc775b624,chapmanb,chapmanb@50mail.com,"CWL: support post processing of parallel records

Add initial support for additional analysis of vc_rec, which is a list
of variant call information for all of the samples along with validation
data. This requires extracting attributes from a list of vc_recs.
Includes workarounds for poor serialization to JSON.",2016-09-06T05:09:33Z,chapmanb
d6df144c14e280ad9a3bb4a4c40f6db11cc55ff8,chapmanb,chapmanb@50mail.com,"qSignature: ensure jvm memory passed correctly

Thanks to @ohofmann",2016-09-05T13:07:56Z,chapmanb
eb3c173b828e70e3c453cc77560de045b59ce317,chapmanb,chapmanb@50mail.com,Handle svcaller specified as a single item,2016-09-05T07:16:21Z,chapmanb
97751f1df0a11b609420a07a93adcb5347e7c498,chapmanb,chapmanb@50mail.com,"CWL SV: initial support for manta

Include integration of standard SV callers like manta with CWL.
Still needs work for complex setups like Lumpy with split and paired
reads and for initial callers like CNVkit or ensemble methods like
prioritization.",2016-09-05T05:09:16Z,chapmanb
ea73ef38067c1dcfc2d3a7e047a09354bcb54d4a,chapmanb,chapmanb@50mail.com,"Generalize gene annotation to allow external use

Extracts non-bcbio parts of BED file gene annotation for use from
external scripts.",2016-09-04T12:11:55Z,chapmanb
6668b6daca1707be4bacfcf26f03af94b6c82551,chapmanb,chapmanb@50mail.com,Upload: raise useful error if dir missing #1540,2016-09-03T14:52:55Z,chapmanb
5ce3904a346b610d6124016745515be2e30cde94,chapmanb,chapmanb@50mail.com,"S3 upload: create buckets in non us-east-1 regions

Passes location parameter to create bucket to avoid
IllegalLocationConstraintException. We need to specify region both
on connecting and when creating. Fixes #1540",2016-09-03T14:27:18Z,chapmanb
706dbef90eed379439b3dc945c888d27dfe89937,chapmanb,chapmanb@50mail.com,"Manual specification of machine mem and cores

Allow use of resources to manually specify total machine memory and
cores. This is useful for cases where bcbio does not automatically
determine the correct resources, like heterogeneous cluster or
restricted environments with less available memory.
Thanks to Juan Caballero.",2016-09-03T06:48:50Z,chapmanb
379f5eacc94ab42d58e14db29e5545911b2e04c7,chapmanb,chapmanb@50mail.com,"Docs: Improve details about diagnosing failures

Clarify approaches for diagnosing failures in bcbio and add additional
debugging tips often suggested in issues and on mailing list.",2016-09-03T06:13:28Z,chapmanb
6196e330179a6d60770af86aad111df4467755e1,chapmanb,chapmanb@50mail.com,CWL: ensure tools_off passed to variant calling,2016-09-02T05:44:13Z,chapmanb
8fd95a6733ead2f82a62c6065681f044b26224b1,chapmanb,chapmanb@50mail.com,"Teaching example: swap varscan for mutect

Avoid using MuTect since it's not installed by default. Thanks to
@lbetrame #1532",2016-09-01T07:08:02Z,chapmanb
ffc630c57ae646e466c1fa5e1d79a2b8b670bda1,chapmanb,chapmanb@50mail.com,"VQSR: output R plots and allow tools_on

Adds option to generate R-based plots for VQSR, and allows use
of tools_on to force trying recalibration. Thanks to Zhengqiu Cai.",2016-09-01T06:10:12Z,chapmanb
f9af4959da38f13051c84700f651c0f794168c58,roryk,rory.kirchner@gmail.com,"Add RNA-seq variant filtering.

Suggested by @naumenko-sa in #1502. Follows the Broad suggestions,
dumping variants appearing in clusters, dumping variants with
a large strand bias and poor quality by depth.

https://software.broadinstitute.org/gatk/guide/article?id=3891",2016-08-30T04:36:15Z,roryk
a28ddabf8572d8b2dd93388241da5bc0c958b8ee,chapmanb,chapmanb@50mail.com,"Avoid additional calls for ipython unless needed

Continue to work around ipython import errors on OSX so we can use
bcbio as a library without it.",2016-08-28T21:31:05Z,chapmanb
e57d6cd14881fe87b0156c2bd3c50121703bbf99,chapmanb,chapmanb@50mail.com,"Bury zeromq import until needed to avoid OSX error

OSX currently erroring out when run on OSX due to zeromq package errors.
Since zmq import not required unless using ipython, this avoids it on
start to try and work around issue.",2016-08-28T20:51:14Z,chapmanb
e16ed9860b7a4cd8f83d5f692a8bc2a9245da89e,chapmanb,chapmanb@50mail.com,"Avoid errors with batches containing duplicates

Duplicate batch names for tumor/normals could result in normals
specified multiple times on the command line. Fixes #1534",2016-08-27T16:41:22Z,chapmanb
b89c1c045d0ab16c189f6871b90ad013062c26ab,chapmanb,chapmanb@50mail.com,Travis tests: clean up old bcbio before re-install,2016-08-27T15:32:05Z,chapmanb
3274fb143b741127d6bc07d4a4c7ab42b136246a,chapmanb,chapmanb@50mail.com,CWL: fix variant pipelines without validation,2016-08-27T13:36:48Z,chapmanb
44b7ecfe1d5e09dadd3016b89c2c9049f478ad97,chapmanb,chapmanb@50mail.com,"GATK: remove setlocale errors during version check

Version checks would fail on Docker systems with incorrect locale
settings due to warning messages. This removes these to avoid
issues with GATK version checks.",2016-08-27T07:28:37Z,chapmanb
9992ffd1c6340ec5bdb2c42fb98d70e08b66b444,Lorena Pantano,lorena.pantano@gmail.com,"QC:add rnaseq metric to allow back-compatibility with bcbio.rnaseq

for people using bcbio devel and bcbio.rnaseq stable.",2016-08-26T18:55:17Z,lpantano
baa898587fd1770dd87886d8141ef1a6ea7b021a,Lorena Pantano,lorena.pantano@gmail.com,"QC: use only samtools metrics

There is ambiguity in rnaseq mappingg rate stats,
so removing confusing metrics and leaving samtools stats as
the gold standard to show.

thanks @marypiper, @roryk",2016-08-26T18:48:13Z,lpantano
e94dab0a30ad9e5b3af8354df387f893824057ac,Lorena Pantano,lorena.pantano@gmail.com,SRA:allow single end samples.,2016-08-26T17:29:37Z,lpantano
506cdc409c7224757cd9313ed4248a8acadc8967,chapmanb,chapmanb@50mail.com,"CNVkit: fix GATK output to be pyVCF compatible

GATK filtered with bcftools will end up with VCF header lines with
escaped quotes, like: \""snp\"". pyVCF does not correctly handle these
causing failures when feeding them to CNVkit for calculating allele
frequencies. This fixes these lines to avoid the issue with
post-filtering sed commands.",2016-08-26T10:21:26Z,chapmanb
9db08894aa392cefc16e1250b217cb696acea4e4,chapmanb,chapmanb@50mail.com,"GATK: continue to filter duplicates for pre-aligned

Avoids skipping DuplicateReadFilter for pre-aligned inputs (that
presumably have been pre-duplicated) when calling with GATK
and MuTect2. Thanks to @scatreux",2016-08-25T15:55:36Z,chapmanb
b251041fe72c00437f4a51b5e5524b5dc53ef05e,chapmanb,chapmanb@50mail.com,"CWL: initial basic skeleton for SV calling

- Extract out general portions of CWL support from variant calling.
- Generalize SV calling to better support CWL and standard workflows
  side by side.
- Provide skeleton for SV calling as separate workflow. This is a
  starting point for full small variant and structural variant calling.",2016-08-25T10:09:40Z,chapmanb
80a301a894c6f024bdf1ec5beff1a2fcbce4e833,chapmanb,chapmanb@50mail.com,"SV: Fixes for Lumpy/CNVkit integration

- Correctly maintain all samples/batches when we have complex
  overlapping batches (single and batched samples).
- Handle cases where we only have Lumpy calling; do not fail looking for
  other SVs.",2016-08-24T17:02:26Z,chapmanb
1d946d90f26ff50b65a6726832112db4b277cafa,roryk,rory.kirchner@gmail.com,"Switch single-cell test to use Rapmap.

kallisto support works but requires a manual intervention to get
going.

Addresses an issue in #1524.",2016-08-23T14:58:03Z,roryk
caae6742cc0ede525587deefe62cff257503af73,roryk,rory.kirchner@gmail.com,Fix typo.,2016-08-22T14:31:54Z,roryk
6f5fbeb29b1b40e56e44d5c21f823057a3f873a4,chapmanb,chapmanb@50mail.com,Lumpy: pass CNVkit depth arguments to lumpyexpress #1483,2016-08-22T09:47:50Z,chapmanb
f7681599582bdd8945452aac01abc467843908cd,chapmanb,chapmanb@50mail.com,"Lumpy: initial work to integrate CNVkit calls

Ensure CNVkit calls happen prior to other callers, allowing CNV calls
to feed into Lumpy. Prepare CNVkit calls as bedpe from cns files
and provide as prior_evidenece to lumpyexpress.

Still to do:

- Ensure correct setting of breakpoint size when converting to bedpe
- Pass calls to lumpyexpress -- do deletions and duplications get
- combined?

cc @brentp Work in progress for #1483",2016-08-21T09:52:46Z,chapmanb
7ba0626e16306878635bcc2616afbdb5be22c77d,roryk,rory.kirchner@gmail.com,"Initial RNA-seq CWL implementation.

Work in progress. Currently performs alignment, featureCounts counting,
Sailfish quantitation and multiqc qc.",2016-08-19T21:51:05Z,roryk
5df08986f251096722553621fa1c14ccaaab1db4,roryk,rory.kirchner@gmail.com,Add note about kallisto to single-cell pipeline description.,2016-08-19T16:48:52Z,roryk
d0504b770588bc5292ff1a9d1a8d36fac0e642db,chapmanb,chapmanb@50mail.com,"Transaction: avoid race conditions

Transactional size checks can fail when multiple processes are
creating and validing the same file and it gets moved in one process
while the other still needs to check. This skips the final check in
those cases to avoid failing out entirely. Thanks to @ssaif",2016-08-19T16:41:19Z,chapmanb
727f534711bd8fbafdf5384d8ef2c12ed8d40c1e,chapmanb,chapmanb@50mail.com,Galaxy integration: ignore potential unicode characters,2016-08-19T15:40:16Z,chapmanb
04626d52d481ae11200a46a8dfae0c6d6961fb35,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1521 from cbrueffer/tophat

Tophat fixes",2016-08-18T17:06:48Z,roryk
b4ed60c3517c1c42f2f07196c3a5d4bee08a1172,Christian Brueffer,christian@brueffer.de,Fix path to hg38 and hg38-noalt TopHat transcriptome indexes.,2016-08-18T16:38:38Z,cbrueffer
dacae3df2ab119ed1d7932fb6bbf21366518f264,Christian Brueffer,christian@brueffer.de,Fix spelling of my name.,2016-08-18T16:38:38Z,cbrueffer
b91ddbb46596b5b72949e048b6dc272e3f0d1763,Christian Brueffer,christian@brueffer.de,"TopHat: continue with the merged file, instead of the stock mapped one.

Up until now, due to the wrong variable being used, the code would
continue with the mapped file instead of the merged (mapped + unmapped)
one.  This can be verified by ""samtools flagstat"" on the BAM file in the
final output directory showing no unmapped reads.",2016-08-18T16:38:01Z,cbrueffer
b8f6c55282c2dfdb3549005618e72f567cf3ad31,chapmanb,chapmanb@50mail.com,"Cloud: Azure ansible script and docs

Provide working Azure ansible script and skeleton documentation
for running on GCE and Azure. Still need to expand those sections
with full details. #1519",2016-08-18T15:39:59Z,chapmanb
96d258501f721657f97592f64b41516c131032cd,chapmanb,chapmanb@50mail.com,"CNVkit: revert change to parallelization

Creates worse parallel behavior on multi-machine runs and does
not help on single core. Bad idea.",2016-08-18T13:58:51Z,chapmanb
247ac1689291011a0d529bc25a753a34d98707d0,chapmanb,chapmanb@50mail.com,"CNVkit: fix parallelism for coverage calculations

Do not pass CNVkit as option for parallelizing coverage since defaults
will result in taking multiple cores. We want to use single cores
for each job making use of total available cores on a machine.",2016-08-18T10:40:33Z,chapmanb
a89af866d98e67edc4b75dcee808e79c3609e0bd,roryk,rory.kirchner@gmail.com,Update history with editing and Tophat changes.,2016-08-17T14:06:47Z,roryk
e3016e872aaf706042cdef442bde73d8d5a11fe1,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1516 from cbrueffer/tophat

When running TopHat, use TopHat-Recondition to fix the unmapped.bam file.",2016-08-17T13:57:49Z,roryk
4b836f1fd523344b25a40b30701b3c695c8dffdd,chapmanb,chapmanb@50mail.com,Ensure parallel GEMINI uses bcbio installed tools #1508,2016-08-17T13:32:10Z,chapmanb
20a1ae8f48191f6610fb6199316eaf79496077b0,roryk,rory.kirchner@gmail.com,"Add support for vcfanno.

Tags editing events by overlapping with RADAR coordinates and adding a possible_edit flag for
SNPs that overlap the known editing events.

Closes #1502. Thanks to Sergey Naumenko for the suggestion.",2016-08-17T12:50:39Z,roryk
232d8040cc756e736c889a6f38e60ae247ca92b0,chapmanb,chapmanb@50mail.com,"bcbio_system: easier to adjust defaults

Improve defaults for bcbio_system.yaml on installations to make them
easier to adjust to match the machine by making better use of
default and avoiding redundant specifications. Improves ability to
work with new installs on bare machines like cloud implementations.",2016-08-17T09:41:45Z,chapmanb
1aa458d3b3a77a57bcdcf7530669877d16f3fdb7,Christian Brueffer,christian@brueffer.de,"Use TopHat-Recondition to fix the unmapped.bam file.

Currently the ""missing 0x8 bit"" problem that unmapped.bam files have
is fixed using a home-grown solution.  Instead, use TopHat-Recondition,
which fixes this problem as well as two additional problem classes.

The issues are described in detail here:
Homepage:        https://github.com/cbrueffer/tophat-recondition
Publication DOI: 10.1186/s12859-016-1058-x",2016-08-16T17:13:35Z,cbrueffer
c3a2a8a4cce2e99a612728ac46dbfd9974da66a8,chapmanb,chapmanb@50mail.com,"Cloud: in progress documentation for AWS runs

Start work to describe a simplified process for running bcbio on cloud
providers. Add AWS description and general rationale.",2016-08-16T14:52:32Z,chapmanb
ee61e9c8118e76eff5c9a1f8a3f66f7005e037d5,chapmanb,chapmanb@50mail.com,"Ansible script for running analyses on GCE

Supplements current work to write up approaches for running bcbio
in multiple environments with launch script for Google Compute.",2016-08-16T10:19:00Z,chapmanb
cfe05456312d0fbb08907d2d78c5186e47c7b4e7,roryk,rory.kirchner@gmail.com,"Add GRCh37 rna editing vcfanno files.

These vcfanno files  enable calling SNPs overlapping RADAR edit sites as
possible editing events.",2016-08-16T01:35:07Z,roryk
14803dcb12df6f9be93615609ff8f671cdd84b5f,Lorena Pantano,lorena.pantano@gmail.com,"PROVENANCE:skip manifest file if it is empty

cc: @chapmanb, We removed gatk from toolplus-packages.yaml (it was empty),
and bcbio gives an error because it tries to iterate through a NoneType
object. I hope this doesn't affect anything else.",2016-08-15T19:57:43Z,lpantano
935ff28603fe4073ce5c41ec7add1a1abe616554,chapmanb,chapmanb@50mail.com,"Ansible: manage bcbio on single AWS instance

Start of work to provide a simplified workflow for multiple cloud
vendors (AWS, GCE, Azure) to run bcbio on single machine instances.",2016-08-15T09:41:34Z,chapmanb
8aa8f0c796356730147b5353e61d3a93e75cd3d9,chapmanb,chapmanb@50mail.com,"CNV: prioritize calls and soft-filter using CIs

Provide a `-priority.tsv` file for CNVkit containing calls in genes
of interest along with soft-filters based on confidence intervals. We
pass calls with tighter confidence intervals (less noise). Will tune
the thresholds for CI passing based on known calls to improve
specificity.",2016-08-13T10:04:43Z,chapmanb
3a5741dcc5794b7d2cbeade8b6279c110a78f8b1,chapmanb,chapmanb@50mail.com,"Re-enable save_diskspace option for alignments

Optional `save_diskspace` improves disk usage on fixed disk
systems, especially cloud-based runs. It removes align_prep fastqs and
split alignments from the work directory after they finish and merge
into the final BAM. This reduces disk space ~2x the original fastq file
size at the cost of needing a re-run from scratch for new alignments.",2016-08-12T09:46:44Z,chapmanb
31e246d4b5617a6a4f79cc8a89837d73a70b22f0,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1512 from cbrueffer/misc

Remove unused list _out_fnames.",2016-08-11T14:52:21Z,roryk
336f5f8c818f06078f72c84d3a018c8ba1aa3e77,Christian Brueffer,christian@brueffer.de,Remove unused list _out_fnames.,2016-08-11T14:25:52Z,cbrueffer
fa8ab8b09f72b59d2830090a3643f6f4fc001b58,roryk,rory.kirchner@gmail.com,"Use BAM file intermediates for Tophat alignments.

Thanks to @cbrueffer for the suggestion. Closes #1511.",2016-08-11T13:10:42Z,roryk
cab885aa5aed92754679cf2fe5b61e7384607497,roryk,rory.kirchner@gmail.com,Add function to annotate a VCF file with vcfanno.,2016-08-11T12:47:52Z,roryk
44cd4516904340aa3b91f7e3f3173a20cc95edda,chapmanb,chapmanb@50mail.com,"CNVkit: VCF segmentation for paired samples

- Pass tumor/normal VCF for segmentation using VCFs on somatic paired
  samples. Thanks to @ohofmann
- Cleanly handle runs which generate no segmentation blocks -- primarily
  fixes test or failed samples.",2016-08-11T10:00:41Z,chapmanb
29eff1a1a3dea50c9f67f670840d97c8cc59f440,Lorena Pantano,lorena.pantano@gmail.com,"SAMPLES:use run function for wget SRA files

typos",2016-08-10T17:49:47Z,lpantano
76dd60ceebd52cf3b1d49b2c199a461878ef5c7b,chapmanb,chapmanb@50mail.com,"GATK: don't assume gatk bioconda wrapper present

Avoids confusing errors if bioconda `gatk` wrapper not available on
a machine. Thanks to @bwubb",2016-08-10T17:26:47Z,chapmanb
28a43a5aa3bba0b84ea0ef2eafa9937f74700eb3,Lorena Pantano,lorena.pantano@gmail.com,Adapt chipseq to atacseq,2016-08-10T15:27:47Z,lpantano
d7d4c60d6ba6e8987f58bc03013d661070f3190a,chapmanb,chapmanb@50mail.com,"CNVkit: better confidence interval bootstrapping

Reduce total bootstraps for faster runs and set lower alpha within
bounds of bootstrap.",2016-08-10T11:41:46Z,chapmanb
2f009f970b8e0dbaa31a71fd9d784fb7ddfe331b,chapmanb,chapmanb@50mail.com,"Validation: config and download for GiaB samples

Include example processing with multiple samples for validations",2016-08-10T09:20:04Z,chapmanb
84020251c395d2650aaf260e57e9b7f49522e46d,Lorena Pantano,lorena.pantano@gmail.com,SRA:clean sra comments,2016-08-09T17:34:10Z,lpantano
cb8056df917ad2f5d5ed4a115c20efce8f32f676,Lorena Pantano,lorena.pantano@gmail.com,SAMPLES:allow GSM values as files in bcbio_prepare_samples.py,2016-08-09T17:31:57Z,lpantano
4322028b30777d06254a8c8bb2b3f563cd238c52,Lorena Pantano,lorena.pantano@gmail.com,QC:Add seqcluster to stats for future multiqc report,2016-08-08T17:07:49Z,lpantano
2878622d5721ce688c0191c12a0b9aac4794fd96,chapmanb,chapmanb@50mail.com,Picard: avoid incompatible Java 7 with JAVA_HOME,2016-08-08T10:32:11Z,chapmanb
709c7e19f7056710af9793a2a8cb444dc660312a,chapmanb,chapmanb@50mail.com,"CNVkit: small segmentation, clonal calls, CIs

- Provide haar based segmentation in smaller target regions like panels
  where it seems to improve resolution.
- Only do clonal calling on germline samples based on recommendations
- Add better confidence interval bootstraps for assessing calls",2016-08-07T09:55:19Z,chapmanb
ca180a8d5b42257b399d0c16d4cff4dbce3b21fd,chapmanb,chapmanb@50mail.com,Transaction: fix typo in size check,2016-08-06T10:30:58Z,chapmanb
1cec985adadd562d8cba035d9d04e3b7a53e7435,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1500 from cbrueffer/misc

Minor documentation improvements.",2016-08-06T10:07:27Z,chapmanb
ac6981de44134fe21d4ef31b81b6ee4c7f4ba208,chapmanb,chapmanb@50mail.com,"Transaction: correctly calculate directory sizes

Calculate size of all files in directories passed as part of
transactions. Thanks to @schelhorn. Fixes #1435",2016-08-06T09:54:52Z,chapmanb
d05f91e30db016a359d49ef1a01bc6ac4eeb5a93,Lorena Pantano,lorena.pantano@gmail.com,BEDTUTILS: improve code style,2016-08-05T19:05:37Z,lpantano
0977ee21167d800549c4845453accb2e447c8dbb,Lorena Pantano,lorena.pantano@gmail.com,QC:Allow set up memory for qsignature,2016-08-05T19:04:38Z,lpantano
091a96cd05ae6bbfb4f498f88b9745e0326351e4,chapmanb,chapmanb@50mail.com,QC: Skip samples with + character. Thanks bwubb,2016-08-05T19:02:46Z,chapmanb
9ca689b5e85b19dc8e7343b9c5e2a692e79bab34,chapmanb,chapmanb@50mail.com,"GATK 3.6: run recalibration without realignment

Fixes #1497. Thanks to @parlar",2016-08-05T14:26:52Z,chapmanb
7efd3fd0d18b04205711063d0fe85965854bd703,roryk,rory.kirchner@gmail.com,"Find anaconda installed sambamba in the is_paired call.

Fixes #1501.",2016-08-05T14:24:13Z,roryk
db732b8715deba391b2c40fa4e080508abb65ab0,Christian Brueffer,christian@brueffer.de,"Minor documentation improvements.

- Typo fix.
- Join lines to avoid unwanted vertical whitespace in the output.
- Mark up gvcf like the other options.",2016-08-05T13:25:38Z,cbrueffer
6bbbc7c0f6772969ccf5ef9f51e8b570b9022142,chapmanb,chapmanb@50mail.com,"GATK: unset JAVA_HOME when running Java 8 code

Avoids issues reported by @bwubb when running GATK pipelines with
JAVA_HOME set. Requires use of internal anaconda install Java, but
meant to avoid frustration trying to get external Java setting
correct.",2016-08-05T10:23:58Z,chapmanb
bce63b38df4ec47982483c7bd38ac72a31f86ab5,chapmanb,chapmanb@50mail.com,"java: simplify version checks to only use PATH

Thanks to @bwubb:
https://groups.google.com/forum/#!topic/biovalidation/NskVZlJrcTk",2016-08-04T17:06:00Z,chapmanb
b2ccb0230f6fdd79bfb3e9830246a751d7af4fff,chapmanb,chapmanb@50mail.com,"CNVkit: batch analyses, variants for allele ploidy

- Re-works preparation of samples to allow running on batches with
  single samples as inputs and the remainder as background. Improves
  over flat background used for these cases.
- Use small variant VCFs as inputs to segmentation and calling, allowing
  improved resolution and calculation of allele specific copy number
  changes.",2016-08-03T09:34:26Z,chapmanb
489ab2be69a56c59bc2fd67302501cf39a1b8fb2,chapmanb,chapmanb@50mail.com,"Escape '+' sample names causing GEMINI problems

https://groups.google.com/d/msg/biovalidation/NskVZlJrcTk/wvutMPX8BgAJ
Thanks to @bwubb",2016-08-02T19:16:35Z,chapmanb
4d25e647aaea31b0b9e561fb6825b5080e70a0f5,chapmanb,chapmanb@50mail.com,"SV: small cleanups for CNVkit work

- Upload CNVkit call files with b-allele frequencies
- Cleanup naming and extraction of background to feed to runs",2016-08-02T09:51:12Z,chapmanb
914e368f8eaedbfc909c3410d28569fc7f70f90e,Lorena Pantano,lorena.pantano@gmail.com,MAIN: add sambamba as resource to calculate memory in variant calling.,2016-08-01T15:02:28Z,lpantano
32fc8d5ce26d1515dd4bcddab4c8f4979ecfbdf6,chapmanb,chapmanb@50mail.com,"Change variantcaller default to no calling

Not specifying variantcaller now does not small SNP/indel calling,
removing the old default of running GATK UnifiedGenotyper. This makes
doing SV-only calling more straightforward.",2016-08-01T09:59:53Z,chapmanb
d77812d4fc518eef9b14f8abda01ced18f647926,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1495 from cbrueffer/misc

Import and exception handling cleanups",2016-07-31T09:52:35Z,chapmanb
13253cd982d70419751d684de3b2d714edf96672,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1491 from cbrueffer/gemini

GEMINI supports only human genome build hg19/GRCh37 for now.",2016-07-31T09:50:52Z,chapmanb
04430df012a347206c32599be844075750b3dd20,chapmanb,chapmanb@50mail.com,"Check external Java version for MuTect, GATK < 3.6

Provide useful error message if Java 1.7 not present for
callers like MuTect and GATK < 3.6 that require it. Fixes #1492",2016-07-31T09:49:12Z,chapmanb
27b5ccb9e0ea91751e35b61a3502c413586f08ac,chapmanb,chapmanb@50mail.com,"CWL: run support for Toil with no containers

Ensure that environmental variable retain argument does not swallow
other required arguments by placing last",2016-07-30T09:51:14Z,chapmanb
b3e4ba3107763b085b8117c633a428e45b020d04,Christian Brueffer,christian@brueffer.de,"Remove unused imports, found by PyFlakes.

Imports required for backwards compatibility and those used in
commented out code were left alone.",2016-07-29T12:37:28Z,cbrueffer
801c78a3e58049b5da2f40742d49ebf597557580,Christian Brueffer,christian@brueffer.de,"Prefer assigning exceptions with ""as"".",2016-07-29T12:37:28Z,cbrueffer
fd128e99a1eb5f6037e8bceb08c53eded0f7fa7d,chapmanb,chapmanb@50mail.com,"CWL: generate v1.0 compatible outputs

Use new ID naming in draft-3/v1.0 with cleaner syntax: no '#' before
IDs and IDs are automatically namespaced based on step names. Also
removes additional tags in outputs changed between specs. Improves
compatibility with non-cwltool runners supporting v1.0",2016-07-29T09:40:32Z,chapmanb
18fa83f97d060334f47e9cd1be944525b2e3a63a,chapmanb,chapmanb@50mail.com,"CWL: update tool running support

cwltool -- isolate outputs in work temporary directories
toil -- add support for new ability to disable caching with batches",2016-07-28T19:12:47Z,chapmanb
b3291be089591a204a43224ed88757a9d4477c43,roryk,rory.kirchner@gmail.com,Upload entire Sailfish directory for fastrnaseq CWL.,2016-07-28T14:01:34Z,roryk
fe6916fe9e60df4bde0b396e00089c4f5210496e,roryk,rory.kirchner@gmail.com,Add missing positional_umi field as allowed field.,2016-07-28T14:01:34Z,roryk
4955ce7d7e92795003b2e1495e27c75bd7ef7a41,chapmanb,chapmanb@50mail.com,"Docker: minimize system dependencies in container

Simplify Docker container creation to avoid need for build system,
Java based system packages and X11 libraries. Attempt to reduce
overall container size now that we ship Java 8 as a conda package.",2016-07-28T09:40:45Z,chapmanb
33a9ed580bfd375f61137b7486acb6f572ac6928,roryk,rory.kirchner@gmail.com,Add positional UMI fix.,2016-07-27T19:25:54Z,roryk
8a5525385de6d7dcb9bcd58d1ed3a99b43146d40,roryk,rory.kirchner@gmail.com,Add positional_umi option to turn off positional based UMI counting.,2016-07-27T19:22:58Z,roryk
2191fc3060c8656a3d5d4f3efd551cbcac80401f,Christian Brueffer,christian@brueffer.de,GEMINI supports only human genome build hg19/GRCh37 for now.,2016-07-27T12:34:00Z,cbrueffer
a87b6b47b4903acfcecce8f626c67006ddfc75eb,roryk,rory.kirchner@gmail.com,Remove dead code.,2016-07-26T00:50:50Z,roryk
355b0f4ee1dc8ff0a1ddd6a8fd7213eaa92701bd,roryk,rory.kirchner@gmail.com,"First steps for CWL-able fast RNA-seq.

Added helper function to datadict to pull the keys out for
a given field rather than having to retype them.",2016-07-26T00:50:50Z,roryk
9a42c2eed8e553eed2f738e44bfb0f93f9586540,roryk,rory.kirchner@gmail.com,"Prep salmon for CWL work.

1) handle CWL datadict passing
2) handle FASTQ files with a .txt extension",2016-07-26T00:50:50Z,roryk
f1c43c25162022b1aad889f1e013800e3db29dd4,roryk,rory.kirchner@gmail.com,"Move WorldWatcher initialization to its own function.

Add watcher to fast RNA-seq pipeline.",2016-07-26T00:50:50Z,roryk
334b8836d502d59c396db6a72141045d145b65bc,chapmanb,chapmanb@50mail.com,"GATK 3.6: fix handling of fresh installs

Fixes bioconda-based GATK installs without previous directory structure.
Correctly handles versioning from bioconda and lack of specifically
defined jar directory.",2016-07-25T19:08:36Z,chapmanb
5ca177062b451beb1a952c4e6bbe1230731f5c42,chapmanb,chapmanb@50mail.com,"Validation: support for no reference file passed

Avoid need for reference file when preparing input interval BEDs to
allow more minimal validations. Thanks to @lijiayong",2016-07-25T17:21:17Z,chapmanb
a543f5cf9a9d6bd9db381908af3856cff0a467ba,roryk,rory.kirchner@gmail.com,"Output nicer error message when metadata and template file are swapped.

Thanks to @ssaif for bringing up the issue.",2016-07-25T13:53:03Z,roryk
dbd2cc8c9421710dcd046e1a5bdfae7f33aced99,chapmanb,chapmanb@50mail.com,Docs: remove font requirements; bundled with Java,2016-07-25T09:50:36Z,chapmanb
0db0477b39231e635efadae46f655f6bb904146f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1488 from cbrueffer/docs

Minor documentation fixes",2016-07-24T09:52:59Z,chapmanb
bcab2e2f0681e0333c1ac24182940fe3680b6d4a,chapmanb,chapmanb@50mail.com,"FastQC: document fonts and provide better errors

- Ensure we error out if FastQC fails due to font issues
- Document font requirements for anaconda installed Java on
  minimal systems like AWS",2016-07-24T09:44:35Z,chapmanb
363480aa750482e0013a6bfcb0ef7f10b7603c56,chapmanb,chapmanb@50mail.com,Useful error message if template CSV/YAML swapped,2016-07-22T17:55:43Z,chapmanb
0d3f5a3ece06221aa895a60b19fcf48c572fb70d,Christian Brueffer,christian@brueffer.de,Add tophat2 and hisat2 to the list of available aligner options.,2016-07-22T13:47:58Z,cbrueffer
20ee15913cc72dc4812dbb1fb38d0836165947a3,Christian Brueffer,christian@brueffer.de,Fix documentation typos and language.,2016-07-22T13:47:43Z,cbrueffer
537e232316637592b31dcb896995ebf9d6d4748c,chapmanb,chapmanb@50mail.com,"Enable PED style 1/2 specification for phenotype

Also documents usage of PED files. Fixes #1482",2016-07-22T10:15:37Z,chapmanb
545a41be44072522ee304c55c9f3d4f56d2eceff,chapmanb,chapmanb@50mail.com,"Handle bgzip of small input BAM files

smaller input files don't pass the sanity check ratios so we adjust
slightly to enable these",2016-07-22T09:53:33Z,chapmanb
669347867e848bcd12626a6919c6199de8ab7c26,roryk,rory.kirchner@gmail.com,Swap CWL tests to use bcbio_vm.py.,2016-07-21T19:27:30Z,roryk
f4b1d15650ee6f020175776dd9ebf6a965361fd4,roryk,rory.kirchner@gmail.com,Add proper path to the test bcbio_system.yaml file.,2016-07-21T17:41:18Z,roryk
ba3eabef5f10371f3a12659e1feb2cdf32b8b39c,roryk,rory.kirchner@gmail.com,Add instruction to link cwltool to get the integration tests to run.,2016-07-21T17:24:49Z,roryk
521399affcc6dc89e7d8e4e20ef47433d7d0fa36,chapmanb,chapmanb@50mail.com,"CWL: Toil SLURM/SGE support; stage in shared dirs

Ensures Toil CWL runs stage files in a local shared directory instead
of local `/tmp` allowing them to be accessed across the cluster.",2016-07-21T09:38:41Z,chapmanb
02fe5913ce6016295b3c52b796470e77d88cdff1,chapmanb,chapmanb@50mail.com,"CWL: enable tool runs without containers

Fixes path manipulation for non-container runs with bcbio installed
locally. Puts the bcbio-vm addition at the end of the path to
avoid overwriting and ensure no-container arguments are correctly
parsed on command line.",2016-07-20T10:08:09Z,chapmanb
6b772bb9034d964fe114706807adc61dadddf19f,chapmanb,chapmanb@50mail.com,Unspecified gender with CNVkit in generalized code,2016-07-20T10:07:30Z,chapmanb
6b37bdbeb8140daf2ea0d51b3b6e4b216e15827b,chapmanb,chapmanb@50mail.com,"Allow PED based gender specifications (1=male, 2=female). Fixes #1482",2016-07-20T09:36:12Z,chapmanb
75698443e016b374ecc16df6a7288150f198c20d,Lorena Pantano,lorena.pantano@gmail.com,Test ATAC pipeline,2016-07-19T16:18:27Z,lpantano
5417c45a2005cb643a25ac1f082a5233eef3419f,Lorena Pantano,lorena.pantano@gmail.com,"chipseq:Update import in cleaning bam file fn

thanks @LMannarino",2016-07-19T14:40:48Z,lpantano
5fef3e5a5425ab71abb4c3b8a36a2273c9947b2e,Lorena Pantano,lorena.pantano@gmail.com,Chipseq: Add warning when aligner is false,2016-07-19T14:08:42Z,lpantano
581cba026646bbddd3eaa879be131318199a1f58,Lorena Pantano,lorena.pantano@gmail.com,Chipseq:don't do cleaning if aligner is false,2016-07-19T14:04:14Z,lpantano
a0e24d48edeb5bffbaa191570b3634f43254fb5a,Lorena Pantano,lorena.pantano@gmail.com,"Chipseq:Allow BAM file as input

ref https://github.com/chapmanb/bcbio-nextgen/issues/1481

thanks @LMannarino @lbeltrame",2016-07-19T14:00:55Z,lpantano
07f492cf149635dda755c655397de09fdba53903,chapmanb,chapmanb@50mail.com,Update tests to use snpEff 4.3 databases,2016-07-19T08:40:08Z,chapmanb
5a1daa9427ae76376949ce6cfbc934007db2d74f,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1478 from cbrueffer/misc

Fix various issues flagged by PyFlakes.",2016-07-19T02:16:43Z,roryk
8c719c68366915c96d4bd1c0108d75f1605f81e0,Christian Brueffer,christian@brueffer.de,"Fix various issues flagged by PyFlakes.

These are mostly accesses to undefined variables.  I have changed these
to what seems to make sense from my reading of the code, however I have
not tested them!",2016-07-18T21:27:31Z,cbrueffer
f6676bbf6ba173c68af79fa925d8efd7293d925f,Lorena Pantano,lorena.pantano@gmail.com,SRNA:move nicely to java 8,2016-07-18T20:02:42Z,lpantano
ece6f88de710d1d3d91ae420c0748b9250939291,chapmanb,chapmanb@50mail.com,v0.9.9 release,2016-07-18T09:57:48Z,chapmanb
ae7b95f65234c556393fa3a24e644cbd83e60ecb,Lorena Pantano,lorena.pantano@gmail.com,"Catch mirdeep2 error until better handeling

There are some errors, that actually are not
relevant but break the pipeline.",2016-07-17T22:02:52Z,lpantano
8680abf94a298638c85d66adfafa744b0f7d119c,chapmanb,chapmanb@50mail.com,"GATK 3.6 support using anaconda installed java

Preparatory work for new release, switching GATK to use the bioconda
`gatk` package and using Java version installed with anaconda instead
of external. Pre GATK 3.6 versions require use of external Java 7. For
GATK 3.6 support requires switch to gatk-framework 3.6, happening in
parallel with new stable release.",2016-07-17T13:16:17Z,chapmanb
8fa5bb2328ab389e464629fa02157d085ed98b22,chapmanb,chapmanb@50mail.com,"MuTect2: Avoid feeding dbSNP and COSMIC to calling

It's not yet clear how well using known resources will help in first
line variant calling. In some cases this may help but is not easily
generalizable to when it improves versus hinders. For now, require
dbSNP and other known filters after primary calling.",2016-07-16T13:14:30Z,chapmanb
fb9b88d927721eaa647cd2cba0d6f8bcb45b9428,chapmanb,chapmanb@50mail.com,"Upload: Add tools_off option for alignment BAMs

Avoid uploading alignment and disambiguation BAMs to save time/space
if not needed with `tools_off: [upload_alignment]`. Fixes #1466",2016-07-16T10:01:09Z,chapmanb
dc728e8b6128d7f8d171d9914fbe63e51b909e63,chapmanb,chapmanb@50mail.com,"Skip svprioritize coverage if gene list provided

Avoid trying to calculate svprioritize based coverage estimations when
gene list passed instead of BED. Fixes #1475. Longer term we could look
up gene coordinates in transcript BED file if re-introducing this
behavior with gene lists only is useful.",2016-07-15T17:21:33Z,chapmanb
51f0c1f69e3827dab53b9ddaf9675c4f98827e93,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1476 from cbrueffer/misc

More contextlib fixes and changes to disambiguation to make the read flags more clear.",2016-07-15T15:51:46Z,roryk
1885a640f5c7fb066d72f6043eb3232b0df011b8,Christian Brueffer,christian@brueffer.de,"Utilize Pysam's API to check read flags.

The reads are already Pysam AlignedSegment objects, so no need to
hand-roll the checks.",2016-07-15T13:42:18Z,cbrueffer
5311fc95a6ae647237337bc9594a51442d6e0788,Christian Brueffer,christian@brueffer.de,"Use ""with"" to safely open files.",2016-07-15T13:42:12Z,cbrueffer
eb6f1b695a2b63441262a3a2a1e1529cdd894741,chapmanb,chapmanb@50mail.com,Update hg19/GRCh37 with reference to new dbSNP 147 Fixes #1471,2016-07-14T15:02:12Z,chapmanb
d4835df010882533405a295fa97bdfa1a748762f,Roman Valls GuimerÃ ,brainstorm@users.noreply.github.com,"Add pwd to match with test_bcbio_cwl paths

Otherwise I get confused every time I copy & paste that cmdline ;)",2016-07-14T15:01:12Z,brainstorm
fbf82432b635cbf9fa1eefaae3d34ce600ec5f0a,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1472 from cbrueffer/misc

Improve documentation spelling and consistency.",2016-07-14T14:27:33Z,roryk
6b54731d6813287f69c422cc6fcfa01c19bb4870,Christian Brueffer,christian@brueffer.de,"Add myself as a contributor, as suggested by @roryk.",2016-07-14T14:01:33Z,cbrueffer
6a01764a24abd2afd8606bc964a475c192eef9c8,Christian Brueffer,christian@brueffer.de,Fix typos; consistently capitalize BED and FASTQ when referring to the formats.,2016-07-14T14:01:23Z,cbrueffer
67962c0fb830cadaa481fa26f66ef63274eccbf5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1468 from matthdsm/patch-1

Added gene_phenotype flag to VEP analysis",2016-07-13T19:24:23Z,chapmanb
bb7342ca6a6f45e4226fe7e083bba9331b682167,chapmanb,chapmanb@50mail.com,"Correctly point to GGD installed dbNSFP

hg19/GRCh37 genome references did not correctly reference new GGD
installed dbNSFP which does have version information. Fixes #1464",2016-07-13T19:15:16Z,chapmanb
77300fc36bd5b93251b4ab10fabd94ed2e512449,chapmanb,chapmanb@50mail.com,"Avoid using empty file headers in vcf merge

Merging with empty files with blank VCF headers can result in output
VCF files without any header information. Fixes #1199",2016-07-13T18:30:50Z,chapmanb
4cd740b1a84ae47e877926d2a060895561903a6e,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1469 from vladsaveliev/master

Seq2C annotation clean-up",2016-07-13T15:34:30Z,chapmanb
b6a48d440b4ed686123e5f1c25fe1725ed25c31b,vladsaveliev,vladsaveliev@me.com,"Seq2C BED preparation:
- annotation with 0 max-distance for bedtools.closest
- splitting comma-separated gene names",2016-07-13T13:57:50Z,N/A
522f37d9e5181007182dfa66449707f2e664283c,vladsaveliev,vladsaveliev@me.com,GTF to BED: make coords 0-based,2016-07-13T13:57:24Z,N/A
48ea50a3e29874a275515ae850814a4e478b05cf,matthdsm,matthias.desmet@ugent.be,"Added extra dbNSFP fields

added some more interesting fields for vep annotations",2016-07-13T13:26:47Z,matthdsm
717583ec8aabf8f56ea4a57699f9e3508e7e839f,matthdsm,matthias.desmet@ugent.be,"Added gene_phenotype flag to VEP analysis

Added gene_phenotype flag to VEP analysis, as this info is valuable in a diagnostics settings",2016-07-13T12:38:34Z,matthdsm
63f023ecdab6635f1313cba546a2d0a9b23fd339,chapmanb,chapmanb@50mail.com,"CRAM: remove read name compression in bam squeeze

`--readName` results in excessive memory usage for larger BAM files.
Thanks to @schelhorn. Fixes #1372",2016-07-13T09:41:15Z,chapmanb
51e5d1364908aa14b34c2fe926204f33e72b5476,chapmanb,chapmanb@50mail.com,SV prioritize: use default panel if no gene list,2016-07-11T20:30:06Z,chapmanb
da04a9a879a8b4fa5abcd929a3574f84a4776db2,chapmanb,chapmanb@50mail.com,"Additional improvements to svprioritize

- Skip bcbio.prioritize if we have gene list and use snpEff annotations
  directly.
- Add lookup to reference az-cancer-panel gene list name specifically
  in svprioritize, plus documentation.
- Make az-cancer-panel usage more clear since not meant as hard-coded
  only back-compatible for previous az300 lists.

cc @mjafin @schelhorn",2016-07-11T20:25:27Z,chapmanb
1212c86e74e224b6ca7633df9ec5cd89f3812108,chapmanb,chapmanb@50mail.com,"Update SV prioritization to use snpEff 4.3

Uses new functionality in snpEff 4.3 plus corresponding prioritization
improvements in simple_sv_annotation thanks to @mjafin",2016-07-11T16:40:12Z,chapmanb
559c4f7bbe306a30dd5cb6b04ba23f0093f982c8,chapmanb,chapmanb@50mail.com,"CWL: handle record creation for multi-sample batch

Correctly assign variant files and validations to
batches with multiple samples.",2016-07-10T09:22:02Z,chapmanb
abfa4b323af5d70cf3fde7e7c77308c2646b6216,Lorena Pantano,lorena.pantano@gmail.com,QC:Add cutadapt to small rna-seq pipeline,2016-07-07T20:37:59Z,lpantano
482059b7353c317849bd415217e5db0b11c8864d,Lorena Pantano,lorena.pantano@gmail.com,"CONFIG:fix typo in small rnaseq pipeline template

[skip ci]",2016-07-07T20:16:45Z,lpantano
c522bfeb327907994cd5aba137211f1e94ecd462,Lorena Pantano,lorena.pantano@gmail.com,QC:add miRNA metrics to report,2016-07-07T18:38:12Z,lpantano
c1e41f3a2a744d4b4dc08f9a8c7a7ae990796a4f,Lorena Pantano,lorena.pantano@gmail.com,QC:Fix duplicated reads for RNAseq,2016-07-07T18:37:08Z,lpantano
6510bd04db9bb831296408adfb6547af497f4874,chapmanb,chapmanb@50mail.com,"CWL: Toil no longer supports --disableSharedCache

- Latest Toil removes the shared cache functionality so disabling it
  is no longer required. Thanks to @brainstorm.
- Explicitly reference JobStore as file type to differentiate from
  possible use of aws or azure stores.",2016-07-07T10:52:55Z,chapmanb
f70a9d68666a44cf1e4bcbb9c1051d0511f4818d,chapmanb,chapmanb@50mail.com,Remove Zv9 genome in favor of GRCz10. Fixes #1461,2016-07-07T10:20:47Z,chapmanb
db6b961e47cd5475a97bb23f39a8a107bdc1843f,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1459 from cbrueffer/misc

Remove closing() usage around Pysam Samfile() and Fastafile().",2016-07-06T20:17:03Z,roryk
d740dd2fa63904ea693a3839b11e8c16bc5b32c3,Christian Brueffer,christian@brueffer.de,"Remove closing() usage around Pysam Samfile() and Fastafile().

Pysam has implemented the context manager interface for quite a while
now, so the closing() calls are redundant.",2016-07-06T19:47:44Z,cbrueffer
3c92791309051cddf79146eec767e12129c563a9,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1457 from cbrueffer/misc

Cleanups in the Tophat wrapper",2016-07-06T17:51:36Z,roryk
8b7a7a3581e32d49415f288b9e1595d80477cafa,Christian Brueffer,christian@brueffer.de,"Context manager and other cleanups in the TopHat wrapper.

- Pysam Samfile() implements the context manager interface, no need for closing().
- Use ""with"" to open SAM/BAM files.
- Clarify the comment about unmapped.bam bugs, they are not restricted to TopHat 2.0.9.",2016-07-06T17:14:33Z,cbrueffer
4f51227613662de7649f4ab1fc6501f413ebe23c,Lorena Pantano,lorena.pantano@gmail.com,QC: fix value in clean_file fn,2016-07-06T13:33:40Z,lpantano
3ff9ed2fd5228b9124a8240e0a81818ad52cc90a,Lorena Pantano,lorena.pantano@gmail.com,"QC: convert to ascii bedfiles in coverage analysis

thanks to @ohofmann. To support JSON code in one column
and be happy with sambamba",2016-07-06T13:31:14Z,lpantano
80f2e64250c4e12e7209105d9fe71cf079f73423,chapmanb,chapmanb@50mail.com,"CWL: enable validation with minimal inputs

Avoid need for genome_build when running validation to make
compare_to_rm easier to interface with. Initial preparation for
CWL-izing validation plots.",2016-07-06T10:52:31Z,chapmanb
17e027578b88ad7e55e23878fc66e9202d692cc6,chapmanb,chapmanb@50mail.com,"CWL: use full path to input file and json

Avoids problems with changing directory when running Toil. Thanks to
@brainstorm",2016-07-05T23:17:32Z,chapmanb
4f7cad0919e0103b75800d5ced87fc53bbec56ba,roryk,rory.kirchner@gmail.com,"Add code to convert kallisto output to a more standard format.

Converted to a N equivalence classes by M cells matrix, with
the values counts per equivalence class per cell.",2016-07-05T17:48:23Z,roryk
68374c16d66cdeea9dbce620dc29d375e3009070,roryk,rory.kirchner@gmail.com,"Add function to get list of sequence names from a FASTA file.

Refactor to be simpler.",2016-07-05T15:36:34Z,roryk
a3df26aa67db2e1a5e905e4c5e24e4833b16198d,roryk,rory.kirchner@gmail.com,Update HISTORY with vardict RNA-seq naming fix.,2016-07-05T15:06:19Z,roryk
6b7d567a45ee149f7666778fa69d428cc143e52f,Lorena Pantano,lorena.pantano@gmail.com,QC: fix name in trimming reports,2016-07-05T14:48:10Z,lpantano
cd2c757bf79f3c7a1fd2ccf61d3ef3d5b5a776bf,chapmanb,chapmanb@50mail.com,CWL docs: Fix typos and section organization,2016-07-05T09:53:45Z,chapmanb
64c1f885dbfaf4ac76b080cd0603fe7e7f111ade,roryk,rory.kirchner@gmail.com,"Name vardict variant files properly.

Fixes #1455. Thanks to @csardas for raising the issue.",2016-07-05T03:43:58Z,roryk
bc7d036e41e4d1097bccaa72014cc8d8851403a0,roryk,rory.kirchner@gmail.com,Add user defined UMI transform via umi_type.,2016-07-04T20:46:16Z,roryk
50a74111254366fe9db1640e70fa6edb6c5aa009,chapmanb,chapmanb@50mail.com,"CWL: update documentation on integrated runs

Include current status of installation and recommended methods using
bcbio_vm wrappers.",2016-07-04T18:39:32Z,chapmanb
eb282afb8a38b151cd3780b26906b237c8047ef8,chapmanb,chapmanb@50mail.com,Fix accidental double paste of kallisto_singlecell,2016-07-04T18:04:41Z,chapmanb
491d3bcda71dcf41d3aeb38c5fb357c9b9506f2f,roryk,rory.kirchner@gmail.com,Update HISTORY with new single-cell RNA-seq options.,2016-07-04T16:09:08Z,roryk
f58ceac57b2da238207afe5823672690cb8785af,roryk,rory.kirchner@gmail.com,Add missing kallisto file.,2016-07-04T16:03:40Z,roryk
3210200ebffe3e8eae93ffead04788fc5d8c5e9b,roryk,rory.kirchner@gmail.com,"Add kallisto as option for single-cell RNA-seq.

Also adds better documentation for the singlecell options:

``transcriptome_fasta``: file of sequences to quantitate against
``singlecell_quantifier``: which quantifier to use, supports rapmap and
kallisto.",2016-07-04T15:08:48Z,roryk
1ccf093e7af67378529fe9d8cbd2ff3881223be1,chapmanb,chapmanb@50mail.com,"CWL: finalize runs for toil, cwltool, arvados

Provide easier run environments for tools using versions installed
with bcbio-vm. Simplifies shell script writing for running these.",2016-07-04T09:56:27Z,chapmanb
e2269d88b1f6019132d5de295f83a23cb2ee24df,chapmanb,chapmanb@50mail.com,"CWL: skeleton code to wrap external tools

Initial framework to make it easier to run bcbio generated CWL
with supported tools",2016-07-03T10:12:48Z,chapmanb
88d1a34d28487f4626ab73d3380d9f1d1c1fb076,chapmanb,chapmanb@50mail.com,"template: copy PED files to final config directory

Makes output self-contained for future editing and adjustment.
Thanks to @ohofmann",2016-07-02T10:37:32Z,chapmanb
847b3e37d67b6485a841360fdb17b9b975abcd43,Lorena Pantano,lorena.pantano@gmail.com,QC: Get disambiguation in metrics file,2016-07-01T18:02:31Z,lpantano
0d6913cc271f96b1c33e37217a46ddbe9e6a6cbb,Lorena Pantano,lorena.pantano@gmail.com,"Set TMPDIR in multiqc command line.

A way to tell multiqc where to create its tmp files.

thanks to @ohofmann",2016-07-01T15:42:35Z,lpantano
b2cd7233a0243247138441cdef2270ec0814afbf,chapmanb,chapmanb@50mail.com,"prioritization: new snpEff/simple_sv_annotation

Changes from @mjafin to support new SV annotation in snpEff 4.3 and
subsequent changes in simple_sv_annotation",2016-07-01T14:13:59Z,chapmanb
a4e5f00a1cf778eeeada662bb967c4cbd1ae3ae8,chapmanb,chapmanb@50mail.com,Docker: fix for non-CWL runs,2016-07-01T10:32:56Z,chapmanb
96412b21e0d4033199a0fb9d0a9c78526db5c6c3,chapmanb,chapmanb@50mail.com,"CWL: place variant and validation output in record

Enables use of variant/validation sub-workflow output in downstream
steps by combining into a CWL record that includes the description
and associated metadata.

Generally enables re-combining records, removing the implicit
association between records and batching.",2016-07-01T09:59:41Z,chapmanb
3ef345fa099d5c3be2f55a03f7cdd446c9b77ebb,roryk,rory.kirchner@gmail.com,"Fix fusion calling with Tophat2.

Closes #1451.

Thanks to @csardas for raising the issue.",2016-06-30T12:43:24Z,roryk
b63c60c1746d4bb755373d5c717052252b1afb56,chapmanb,chapmanb@50mail.com,"VarScan: handle lines with missing somatic status

Thanks to Moiz Bootwalla
https://groups.google.com/forum/#!topic/biovalidation/zlXYYhjabZk",2016-06-30T10:05:05Z,chapmanb
d789d090bb6d59b93e2d2b7d5ca5b2472c462aab,chapmanb,chapmanb@50mail.com,"CWL: ensure files passed to cyvcf2 are strings

Latest cyvcf2 (0.4.0) complains with passed unicode. Fixes #1449",2016-06-29T18:06:14Z,chapmanb
02f3e475e065057d01173850a9f290d78ab8f9d8,chapmanb,chapmanb@50mail.com,"Support short references with ACMG56 genes

Thanks to @ohofmann",2016-06-29T12:00:39Z,chapmanb
072695dab5f88a7628ef0749da16744d080a1087,chapmanb,chapmanb@50mail.com,"Seq2C: use SV BED regions for calling + docs

Thanks to @vladsaveliev",2016-06-29T11:57:32Z,chapmanb
4cd9ffb6e6f8ca23225f36ae72ea268aa476044b,chapmanb,chapmanb@50mail.com,"Seq2C: finalization and testing for CNV calling

- Batch all samples in a project together for calling
- Annotate BED files with gene names if 3 column BED
- Output BED files in transactional directories
- Write BED files to work directories instead of original folder
  to handle integration on CWL platforms.

Thanks to @vladsaveliev",2016-06-29T09:35:08Z,chapmanb
877e448a62d97b876cccf397183e2eae41584bab,chapmanb,chapmanb@50mail.com,"tumor-only: check for bgzip filter CSV on re-runs

Avoid slow down when re-running projects with tumor-only prioritization
since bgzip file produced after generating initial CSV. Thanks to
@schelhorn. Fixes #1446",2016-06-28T09:43:49Z,chapmanb
e10e0063be02a55a573e6ba16dbcf13f1d4e58c6,chapmanb,chapmanb@50mail.com,"CWL: Fix edge case in HLA merging

Fixes error when we have incorrect hla files passed through as part
of hla key reworking in CWL. Thanks to @tetron",2016-06-28T09:39:41Z,chapmanb
27c0f2fa25ecd4b574d0678034dc9d3d5b02a28d,chapmanb,chapmanb@50mail.com,"Only pass -drf option in recent GATK (3.5+)

Avoid errors on older GATK versions. Thanks to @scatreux",2016-06-28T02:51:38Z,chapmanb
882547b5db9f3678c5ecdcc997f3a0994b1fac9b,chapmanb,chapmanb@50mail.com,"Change recalibrate and realign defaults to false

Back incompatible change to defaults to make new GATK recommendations
and long-standing suggestion in bcbio. recalibration can be useful
in cases of poor input qualities but is slow so requires setting
it manually as needed. realignment is generally not useful with
realigning caller.",2016-06-27T13:41:48Z,chapmanb
8a2640d4e6916729f76b1d7bb59d4342026fb2ff,chapmanb,chapmanb@50mail.com,"Use conda installed java, supporting 1.8

Support Java 8 installed with bioconda in the next release. Remaining
known tools to migrate:

- miraligner -- specifically checks and requires 1.7 (@lpantano)
- MuTect/GATK -- separate PR near release date",2016-06-27T09:39:38Z,chapmanb
28cbe0cae3e8e736601a71fce4485d37b140905c,chapmanb,chapmanb@50mail.com,"BubbleTree: improve heterogeneity for tumor-only

Allow wider range of ExAC associated variant allele frequencies
to improve predictions of heterogeneity. Validated with comparisons
against TCGA ABSOLUTE and ESTIMATE predictions.",2016-06-26T09:45:04Z,chapmanb
89fff6d0f18f871f71c5cb35a244353da5f5b579,chapmanb,chapmanb@50mail.com,"BAM merge: incorporate quickcheck on file validity

Incorporate improvements from @schelhorn to provide more robust
BAM file merging. Uses quickcheck to ensure validity of BAM files
before and after processing and transfer. Refactors functions to be
more adjustable in the future. Fixes #1435",2016-06-25T10:11:40Z,chapmanb
57a84eb0c4a09c98ec831185d0cd5d020c527ce3,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1444 from vladsaveliev/master

Seq2C integration",2016-06-24T09:48:15Z,chapmanb
47ef05331b5fae4b0189def68fbcaf5ec025fbf7,vladsaveliev,vladsaveliev@me.com,"Seq2C integration:
- splitting calls by sample
- uploading calls and cov to final
- BED file cleaning
- off filters for sambamba call
- some refactoring",2016-06-24T00:08:26Z,N/A
73e9c9698ba2110bacd4081d1e7eee9698d734c2,vladsaveliev,vladsaveliev@me.com,Add Seq2C cohort-level normalization/calling scripts,2016-06-24T00:08:26Z,N/A
d2f80791541d1908b61aaacc20d053d67dcaf540,vladsaveliev,vladsaveliev@me.com,Seq2C: calculating coverages using sambamba,2016-06-24T00:08:26Z,N/A
054ecee3166af559535a90087163958372172100,vladsaveliev,vladsaveliev@me.com,Add IntelliJ files to .gitignore,2016-06-24T00:08:26Z,N/A
69bb98ac8abb3ab68ab320410ef584df696124d3,Lorena Pantano,lorena.pantano@gmail.com,"QC:re-organizing and cleaning variants metrics

I added bcftools to get variants stats and add `normal`
samples to table from now own. This will be calculated always.
Coverage from VCF file only if `coverage:` is in YAML file.
I cleaned gemini fn to get stats by sample not database.
QC files are moved all under QC/SAMPLE where I think have
more sense.

Need to work on multiqc to update these metrics there.

Let me know if you get problems after this.
cc: @chapmanb, @roryk, @ohofmann, @mjafin",2016-06-23T20:09:59Z,lpantano
f2ea55bf8dab17658e6d313b24d34ef3dcd29471,Lorena Pantano,lorena.pantano@gmail.com,"SRNASEQ:skip trimming if adapter is not found

thanks @chapmanb",2016-06-23T16:27:14Z,lpantano
85ee38f2e26b16ce1fb70f749142978f436c4211,chapmanb,chapmanb@50mail.com,"Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen

ry,",2016-06-23T14:38:37Z,chapmanb
f056b780c04c0434d92a0b97e3f3c61e7f26600b,chapmanb,chapmanb@50mail.com,gVCF: skip slow ploidy filtering if on,2016-06-23T14:37:30Z,chapmanb
2d351e4f5fd0a31c9d80c7ea2b41bdd2eea8534c,Lorena Pantano,lorena.pantano@gmail.com,"QC:Fix featureCounts naming if hisat2 used

thanks @mjafin and @roryk",2016-06-23T14:14:33Z,lpantano
95717bb7afd3cfe68a60d0c63f35d13176ada4c5,chapmanb,chapmanb@50mail.com,CVNkit: skip LoH calculation if cns empty #1441,2016-06-22T17:40:29Z,chapmanb
cb66df3210b52cc3da880a2f16d2070ad0544fe3,Lorena Pantano,lorena.pantano@gmail.com,"Merge pull request #1439 from a113n/patch-4

Fix for error when Kraken is enabled",2016-06-22T17:07:35Z,lpantano
937981ce15cfe883db59ccf80ee91f7a4af3c324,chapmanb,chapmanb@50mail.com,"Ensure temporary pybedtools directory for LCRs

Explicitly define temporary directory usage to avoid issues with
larger temporary files. Fixes #1438",2016-06-22T17:01:00Z,chapmanb
8ec17caf8f387845f26727a98e45841e1d90cc34,a113n,allenyuchishing@gmail.com,"Fix for error when Kraken is enabled

When kraken is enabled, variable 'm' contains a list of species and contamination percentage, which would screw up the Pandas DataFrame conversion at line 187.",2016-06-21T14:51:24Z,a113n
8d8513864c847c44571860f0ce7494d548c7989f,chapmanb,chapmanb@50mail.com,"GATK: ensure memory scaling for BaseRecalibrator

Scale memory usage along with cores when running BaseRecalibrator.
Fixes #1428",2016-06-21T14:43:45Z,chapmanb
c1e3467509c24fd52a369d0985dccd5c319ab5a5,chapmanb,chapmanb@50mail.com,"install: add options for cloudbiolinux download

The CloudBioLinux GitHub download unpacks as master or
cloudbiolinux-master depending on the machine. Handle both
cases. Thanks to @pfujita",2016-06-21T01:52:32Z,chapmanb
4c9eea75befce3b8a25ceee7c0233ec9c2c506da,chapmanb,chapmanb@50mail.com,"Clean problem '#' character in sample description

This causes problems with VarDict analysis. Thanks to @bwubb",2016-06-21T01:21:03Z,chapmanb
661a5ea698e52b4b9835f1071e0cb053af86915d,Lorena Pantano,lorena.pantano@gmail.com,QC:better structure for variants qc metrics,2016-06-20T21:36:29Z,lpantano
060f4eef1e3a6eedb875d466f34a871117d427be,chapmanb,chapmanb@50mail.com,"Avoid partial transfers from file transactions

Transfers files from transactional steps with a temporary file
extension, avoiding cases where a failure caused partial transfers.
Thanks to @schelhorn for code in #1435",2016-06-20T17:40:58Z,chapmanb
45aae27966a9493c198d550ec2ea160812a7b8b1,chapmanb,chapmanb@50mail.com,"CNVkit: Correctly identify target/antitarget BEDs

Allow non-CNVkit type BED files with seq2c without missing labels
for target and antitarget.",2016-06-20T17:30:11Z,chapmanb
491c7be741d2abbf2aa29407cf80568dbcd13445,chapmanb,chapmanb@50mail.com,"SV: initial work on Seq2C integration

Framework for integrating Seq2C, a exon/gene based copy number caller
for cohorts. Provides an initial SV calling step by samples for doing
coverage calculations, followed by a cohort based step for calling.
Not yet completed, needs assessment of usage of CNVkit log2 ratio
calculations. Thanks to @vladsaveliev",2016-06-20T09:56:21Z,chapmanb
403220a1e519c94ea0a72ee1e098b86937d310ed,roryk,rory.kirchner@gmail.com,Add rRNA rate to the metrics that MultiQC_bcbio can see.,2016-06-17T19:23:36Z,roryk
be2124563cd762e316cf06931cbeac6916f7085f,chapmanb,chapmanb@50mail.com,"VarDict: ensure ambiguous bases removed from ALT

Large insertions can have non-N ambiguous bases. This converts
these to Ns. Thanks to @ohofmann",2016-06-17T17:21:15Z,chapmanb
7af00d255f5a3c2d82fa025369d898f88864d924,chapmanb,chapmanb@50mail.com,"AWS: ensure GTF information in place for STAR

Building STAR indices requires knowing about genome resources GTF
files, which aren't yet in place when starting. Thanks to Gabriel
Valbuena.",2016-06-17T16:47:52Z,chapmanb
5468a1c51b60ded2f3f64c53fb3882defaa4d894,chapmanb,chapmanb@50mail.com,"Ensure callable regions always in align directory

Avoids cases where we double calculate callable regions using
pre-aligned BAMs. Thanks to @scatreux. Also handles CWL inputs
to avoid writing to temporary directories.",2016-06-17T14:43:10Z,chapmanb
4c2480c32bc6833b0ade41aa518b9b650196c3bc,Lorena Pantano,lorena.pantano@gmail.com,"srnaseq: store name files in data structure.

Trying to move to a more compatible CWL code.",2016-06-16T19:59:32Z,lpantano
2d02e771bfdd20fd6d3131086112f3347101eb28,chapmanb,chapmanb@50mail.com,"Support for FreeBayes 1.0.2.29

- Use --strict-vcf to avoid Integer/Float problems for genotype quality
  (samtools/bcftools#420)
- Remove FMT/DPR since bcftools does not like outputs annotated as A for
  REF/ALT (chapmanb/bcbio-nextgen#1334)
- Removes needs for /dev/null stderr redirection since
  FreeBayes includes contig lines.
- Fixes gVCF reference allele problems. Thanks to @lijiayong",2016-06-16T10:03:01Z,chapmanb
2bd527aa7ab5be4fdf9ef6812eb205ee86119286,chapmanb,chapmanb@50mail.com,"Fix batch retrieval for ensemble calls

Avoids problems where batch is not set and defaults to null,
defaulting to sample description as intended. Thanks to @bwubb.",2016-06-15T11:58:40Z,chapmanb
11d44699bc48bc0b164b41481611b8590c0054fb,chapmanb,chapmanb@50mail.com,"Support germline and somatic calling from Sentieon

Supports haplotyper and tnhaplotyper (HaplotypeCaller and MuTect2-like).
Require a software license from Sentieon and binaries not distributed
with bcbio currently.

http://imgur.com/a/lo4Xi
http://sentieon.com
https://peerj.com/preprints/1672/",2016-06-15T09:16:43Z,chapmanb
8b6df4f2241e1be515e7f5ce6b839a1e1472901a,roryk,rory.kirchner@gmail.com,"Add genome resources before figuring out which QC tools to run.

Thanks to @lpantano for helping me figure out what was going on!",2016-06-14T16:01:35Z,roryk
6b96ca80ea83b5a0935b68af7154fe6e457b7c26,chapmanb,chapmanb@50mail.com,"CWL: Fixes for whole genome variant runs

- Ensure we run postprocess steps on whole genome runs for CWL, now
  that we no longer pass variantcaller information to these steps.
  Thanks to @lijiayong
- High depth calculations in work directory, not in BAM directory.
- Better handling of cases where we have some validation regions
  and some not.
- Enable merging of FreeBayes whole genome gVCF files that
  GATK CatVariants chokes on.",2016-06-14T15:39:06Z,chapmanb
fcf944842626418989122beac59bc1bb728ba54e,roryk,rory.kirchner@gmail.com,Add ability to pass custom transcriptome FASTA file to fast RNA-seq pipeline.,2016-06-14T14:10:40Z,roryk
d833f0a97b19185bcd23b0f5a584158bf3769676,chapmanb,chapmanb@50mail.com,"Fix for generic TUMOR/NORMAL names

Provides a single location during annotation and VCF preparation
to replace generic TUMOR/NORMAL names with actual sample names
in VCF files. Replaces custom Mutect2 piped approach.",2016-06-14T09:56:05Z,chapmanb
cb0fa7cafa9150b96e03c74f0e7d5542d9e863df,chapmanb,chapmanb@50mail.com,"Add SAMPLE/PEDIGREE tags to tumor/normal VCFs

- Improves ability to filter files post-bcbio by annotating tumor
  and germline samples by ID. Thanks to @ohofmann and @brainstorm
- Generalize annotation to provide a single point for application
  following analysis.",2016-06-14T09:03:46Z,chapmanb
bde8ce867b09b45833a1bb333e4bb604650e2e46,Lorena Pantano,lorena.pantano@gmail.com,QC: add message if GTF not compatible with qualimap,2016-06-13T21:10:52Z,lpantano
9a66f126d5ec3daff486e4580770e04331ab7823,chapmanb,chapmanb@50mail.com,"Covert disambiguate input into list for sailfish

Avoids naming issues with single organism specification not as a list.
Thanks to @mjafin",2016-06-13T10:01:42Z,chapmanb
fdf29ba0c18d94983f198271ca2ce3ef3d56207a,roryk,rory.kirchner@gmail.com,"Fix divide by zero error if no transcripts are detected.

Thanks to Ashley Doane for bringing up the issue.",2016-06-11T21:35:23Z,roryk
f2047f8f7098622b33170d338adbd4904df88e10,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2016-06-11T19:44:12Z,roryk
dfe386aa9d76366f16d471bb8dc64ae53bd030c8,Lorena Pantano,lorena.pantano@gmail.com,"Add option to use more tools in srnaseq pipeline

From now on to turn on trna, mirdeep2 and seqcluster
the option expression_caller should be in the YAML file:
https://github.com/chapmanb/bcbio-nextgen/blob/master/config/templates/illumina-srnaseq.yaml

cc: @naumenko-sa, @hmkim",2016-06-10T14:18:15Z,lpantano
305eb45a84a601ef9190ff69ff147c89d415e260,Rory Kichner,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2016-06-10T11:57:44Z,roryk
93a8a956d792c87c78a971f9bb81611bb2819e80,chapmanb,chapmanb@50mail.com,"gVCF: do not collapse BED regions differing by 1

We previously merged gVCF trusted regions that were 1bp apart
to work around positions where FreeBayes and Platypus appear to leave
a single base between two trusted bases, but this risks merging
positions where we don't have full trust. Thanks to @lijiayong",2016-06-10T09:38:07Z,chapmanb
8562e8dbe9e6c13deb729f39e900e92dc8c539e3,Lorena Pantano,lorena.pantano@gmail.com,"QC: Allow qc to work with fastq for small rnaseq pipeline

I am using full fastq since they are small for the smallrna-seq
pipeline. Nede to remove the condition the align file ends in BAM
file.

put again work_bam endswith BAM condition

Thanks @naumenko-sa",2016-06-09T13:41:56Z,lpantano
d3d670a99dab7c63aacbc01959ec75f5b1d6d48e,chapmanb,chapmanb@50mail.com,"CWL: ensure split region passed to alignment

- Fixes issue where alignments did not get align_split resulting in
  full alignments run on each section. Thanks to @lijiayong.
- Clean up CWL generation to remove `noinputs` argument which is no
  longer needed with explicit specification of all information.
- Fix for FreeBayes to allow running tumor checks on gVCF output.",2016-06-09T09:35:16Z,chapmanb
2936fb3cbbd3d6fc2332fcaca6306a77fa743065,Lorena Pantano,lorena.pantano@gmail.com,"Update TAIR10 genome to avoid mirdeep2

Skip this until clear idea what is going on.
https://github.com/chapmanb/bcbio-nextgen/issues/1421

Fix version",2016-06-08T19:26:48Z,lpantano
32851e4cb7ab23ef518eb08288ebb6ec445c380b,roryk,rory.kirchner@gmail.com,"Skip oncofuse with warning if the aligner is not supported.

Thanks to @ssaif for pointing out the issue.",2016-06-07T20:02:23Z,roryk
7d74ec6fa83be6eb9418a14ea0828acf24d508fc,Lorena Pantano,lorena.pantano@gmail.com,"QC: give better debug during coverage reporting

@pfpjs",2016-06-07T17:28:57Z,lpantano
5a566f35fbfdf72c148eac5e96a292aed2219136,chapmanb,chapmanb@50mail.com,Bubbletree: expose checking for germline by ExAC,2016-06-05T23:19:11Z,chapmanb
e2cbd893ec0eca952c177e850c4da17b9b134fcd,chapmanb,chapmanb@50mail.com,"variantcaller: false when re-running qsignature

Do not require variantcaller to be set on re-runs. Thanks to @mjafin and
Sally Luke",2016-06-05T18:20:50Z,chapmanb
28064c5acfc881c932aaa2a2eb5fab144fd8044b,chapmanb,chapmanb@50mail.com,"HLA: improve resiliency to problem HLA files

During CWL runs None/null files can get passed in different ways. This
ensures that we skip hla typing if files matching our expected naming
are not found. Thanks to @lijiayong",2016-06-05T18:07:52Z,chapmanb
3130d51875a83d14a7504419313b198c6b55c373,roryk,rory.kirchner@gmail.com,"Use the oncofuse wrapper properly.

Thanks to @apastore for pointing it out.

Addresses #1418.",2016-06-05T01:47:55Z,roryk
08dc97c3a9cdf4dc8e097deede19efdde838e162,Lorena Pantano,lorena.pantano@gmail.com,"DATA: Update TAIR10 genome

https://github.com/chapmanb/bcbio-nextgen/issues/1416
Thanks @naumenko-sa",2016-06-03T19:46:07Z,lpantano
ecd9b8afeac4eb2c3845912f9279c672236abd86,Lorena Pantano,lorena.pantano@gmail.com,"QC: fix missing average coverage

Thanks @ohofmann",2016-06-03T18:04:46Z,lpantano
61245fff3776c3f8544e8d4b7e4ea83e7684533b,chapmanb,chapmanb@50mail.com,"Heterogeneity: allow tumor-only use of bubbletree

Improve use of BubbleTree contamination estimation in tumor-only
cases by incorporating external ExAC annotations made with vcfanno.
Allows selection of normal het background using these annotations to
identify germline calls.",2016-06-02T09:30:00Z,chapmanb
652c41f395dca98655dafdc8b9659292023a92c4,Lorena Pantano,lorena.pantano@gmail.com,STAR: ignore GTF if srnaseq pipeline,2016-06-01T18:18:34Z,lpantano
8741d1208987acb3927bef5b9b275f0a172ed678,Lorena Pantano,lorena.pantano@gmail.com,"QC:Change coverage priority depth to use sambamba

It should be easy to debug now since the command go
to the log, I tried to make output the same. Possible problems with
memory.

@chapmanb,@roryk,@ohofmann",2016-06-01T17:09:41Z,lpantano
b4ecdee79994ada46ec4233913f537f2a2df244d,chapmanb,chapmanb@50mail.com,"toolplus: don't overwrite existing config keyvals

When adding jar locations for GATK and MuTect, leave existing
key value specifications in place. Fixes #1411",2016-05-31T09:40:30Z,chapmanb
e9bdcbae7ecbb4c5818f06e87e1efa8de8f24965,roryk,rory.kirchner@gmail.com,"Add more helpful error message when two samples are named
exactly the same.

For example: data1/SRR566986.fastq.gz and data2/SRR566986.fastq.gz resolve to
the same stem, although they are under different directories. bcbio can't
handle this during the templating step, because it doesn't know which one to
assign to the samplename in the CSV file.

Thanks to @ssaif for pinging us about the error and providing a reproducible
example.",2016-05-30T20:26:00Z,roryk
e1577fa3dbccf017bc657ad4e812343439854145,roryk,rory.kirchner@gmail.com,Make template workflow use script logger.,2016-05-30T20:25:43Z,roryk
5b5dd341a2d461bd19b2d9b3c530ab01012c6577,roryk,rory.kirchner@gmail.com,"Add logger for scripts.

This allows bcbio log messages inside of called functions to get displayed when
running `bcbio_setup_genome.py`, `bcbio_prepare_samples.py`, `bcbio_nextgen.py -w
template ...`, etc.",2016-05-30T20:24:28Z,roryk
51225b546985abb6111e42fd2d6bf1b2aef6a27c,chapmanb,chapmanb@50mail.com,"Install: avoid top level fabric requirement

Attempt to speed up start time by limiting fabric import to when doing
a data upgrade.",2016-05-30T09:47:08Z,chapmanb
21621042042e53bac05286337f451f076839fbee,roryk,rory.kirchner@gmail.com,Add more recommendations to RNA-seq documentation.,2016-05-27T13:32:56Z,roryk
24d46d108c744dc2a0983384006e25dfd0e7d786,chapmanb,chapmanb@50mail.com,"CWL: another fix to support snpEff indexes

Correctly extract files instead of snpEff directory in CWL sample
information.",2016-05-27T09:38:08Z,chapmanb
e3c5b302b9702689e45c886130cc96efb00c731d,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1405 from pansapiens/bugfix/objectstore-read-api

Make size optional for objectstore file-like objects",2016-05-27T09:36:37Z,chapmanb
420e8d6a53ed3164ba3bd71a30915a669199db16,Andrew Perry,ajperry@pansapiens.com,"Make size optional for objectstore file-like objects, better duck-typing the standard library file-like object.",2016-05-27T02:27:02Z,pansapiens
ab433215a4293c4b3e6f80a4490edf6120c9a5f1,chapmanb,chapmanb@50mail.com,"CWL: handle snpEff index cases

Handle more complicated representation cases when converting to
CWL directory of files. Deals with snpEff inputs where we have
a directory and list of files.",2016-05-26T17:17:46Z,chapmanb
b79577256f16adeb7d0534743ffd0ecb121dd354,chapmanb,chapmanb@50mail.com,"CWL: represent aligner indices with secondaryFiles

Provides explicit staging for tools like toil that might not assign a
group of files to the same directory. Using secondaryFiles ensures
all genome indices staged in the same place so aligners can pick
them up.",2016-05-26T16:50:33Z,chapmanb
dc97c5c6efd0d1a2500041ba1b2ebeb45c0551bf,Lorena Pantano,lorena.pantano@gmail.com,"Update hg38 resources

Upgrade genome version",2016-05-26T14:37:17Z,lpantano
ec82236aab90cbef9e28383beb0b73ea1740fd34,chapmanb,chapmanb@50mail.com,"gVCF: extract callable regions from input file

Extract callable region information directly from input file, rather
than external calculation of callability, using gvcf_regions.py tool.",2016-05-26T09:50:50Z,chapmanb
55c0f32406b8dc09f659557df95e081c1faa7aaa,chapmanb,chapmanb@50mail.com,"bam_clean fixrg: ensure correct header

Remove extra RGs from header when replacing with samtools addreplacerg
which avoids triggering downstream sanity checks in bcbio",2016-05-25T18:16:04Z,chapmanb
cfdf43c19340e8daa00d541a5c5d977b2f563196,Lorena Pantano,lorena.pantano@gmail.com,"QC: update current picard file.

cc: Thanks @chapmanb",2016-05-25T13:02:46Z,lpantano
b0a47649195735d3dc51756d26bea0ba7843467a,chapmanb,chapmanb@50mail.com,bam_clean: cleaner file extension for fixrg,2016-05-25T12:17:29Z,chapmanb
7f32d1e4d61078a28b6d8e85dc8a04399ace5ef7,chapmanb,chapmanb@50mail.com,"bam_clean: fixrg to adjust pre-aligned BAM RGs

A lighterweight bam_clean target that only fixes read groups on
input BAMs and does not do any other manipulation of ordering
or reads. This should help for well-formed inputs that only need
a fixed read group.",2016-05-25T12:01:36Z,chapmanb
8cdd88b2399f850276d5e01e57bf6adda7ae1ff6,chapmanb,chapmanb@50mail.com,"QC: parallelize runs by individual programs

- Enables parallelization by sample and program, allowing better
  use of resources during QC
- Adds in empty qc/picard.py, which seems to be missing from
  latest check in -- cc @lpantano",2016-05-25T09:53:38Z,chapmanb
c382f68a1ea8c3518b8248afbfa5af65e2c316d0,chapmanb,chapmanb@50mail.com,"CWL: always set validate and validate_regions

CWL batching requires all outputs present (and nil if unset), but the
previously set None defaults do not pass any command line arguments to
the batch command so they're not included in the output. Thanks
to @sguthrie",2016-05-25T01:58:18Z,chapmanb
9507d00ea45b9992b691fdaed32be2327055d912,Lorena Pantano,lorena.pantano@gmail.com,Ignore if multiqc doesn't detect any QC file to parse,2016-05-24T19:27:47Z,lpantano
82e1682179f6af00148be9860a8c2cff49ae63cf,Lorena Pantano,lorena.pantano@gmail.com,Use all the memory if samples get more than 1 core,2016-05-24T19:27:19Z,lpantano
9b6fa1c1dc5f257de37b8a2b1ca974289395dedb,Lorena Pantano,lorena.pantano@gmail.com,Add picard function as an option to get QC metrics,2016-05-24T19:26:55Z,lpantano
072ee1c0df1afa9f8df1ca5f3ea49b6a1891aa41,chapmanb,chapmanb@50mail.com,"QC: allow specifying coverage with shorthand

Enable specifying coverage BED file from list of BED files pre-installed
along with bcbio.",2016-05-24T13:55:01Z,chapmanb
32dbf5db98f5f01725cb3560ce4caf7c2a5ba8d9,Lorena Pantano,lorena.pantano@gmail.com,"Remove samtools from srnaseq QC

Remove print",2016-05-24T13:39:27Z,lpantano
0df458370f79a71bac92cf0d1f423a6b25ea07b4,chapmanb,chapmanb@50mail.com,"Platypus: avoid filtering reference blocks

Platypus references blocks are 1 base outside variant_regions,
resulting in blocks getting lost when doing post-filtering and
regional exclusion. We avoid this by skipping the region limit
when outputting gVCF.",2016-05-24T10:37:35Z,chapmanb
31d9dae9c058d49477a8258c65d2812c871fea00,chapmanb,chapmanb@50mail.com,"Platypus: reintroduce gVCF calling

gVCF calling accidentally removed when updating quality filtering",2016-05-23T19:12:27Z,chapmanb
cdf343ddee1cb5c87c68d9aacde327b3a9a798f9,chapmanb,chapmanb@50mail.com,"Upload: provide better debugging for path problems

Provide a more useful error message if an upload path does not
correspond to a file #1303",2016-05-23T13:51:51Z,chapmanb
c34b1c40f625d0b3c7698c1b91de731cc6cac244,chapmanb,chapmanb@50mail.com,"CWL: downsample for QC inside work directory

downsampling assumed access to original input directory which is
not correct for CWL runs where the BAM file is in a read-only
directory. Thanks to @sguthrie",2016-05-23T09:57:15Z,chapmanb
9a1b428f4100a9c247087555790d0462a321070f,Lorena Pantano,lorena.pantano@gmail.com,"Update tools off docs.

[skip ci]",2016-05-22T22:58:37Z,lpantano
996d7cb480424ec094b5c39db0ca65a06eec7e04,chapmanb,chapmanb@50mail.com,"CWL: support batch and phenotype specifications

Ensure metadata passed to variation batching and calling now that
we need to explicitly define all process inputs.",2016-05-22T09:55:53Z,chapmanb
e95731256292a4d4e5f281cfa4db7dda26d70a36,Lorena Pantano,lorena.pantano@gmail.com,Allow None values in srnaseq metadata,2016-05-21T22:09:37Z,lpantano
d3cfb48d5ea1eaf072faa99305026342b9d92d9f,chapmanb,chapmanb@50mail.com,"QC: refactor analyses into separate modules

Split quality control into separate modules, making it
easier to contribute new integrations. Another step to
parallelized pluggable QC.",2016-05-21T09:28:15Z,chapmanb
1740331cf2ce37e146f88666b00c5394027ea2b0,chapmanb,chapmanb@50mail.com,"QC: separate identification of components from run

Split out logic for identifying QC components to run from the actual
run. This cleans up the representation and allows move toward
parallelization of individual steps in QC for each sample.",2016-05-20T15:11:37Z,chapmanb
43073c86b700ede63d4386333115b712cf07dd98,chapmanb,chapmanb@50mail.com,v0.9.8 release,2016-05-20T09:52:20Z,chapmanb
f332a11a27f61cdfdf24982fae613318b7197031,chapmanb,chapmanb@50mail.com,"Explicitly set nomap_ variables to defaults

Avoid issues with unset nomap and later integer conversion.
Thanks to @mjafin.",2016-05-19T18:26:12Z,chapmanb
1d52908c514b21bf5a848a503bf1733a2ea902fb,chapmanb,chapmanb@50mail.com,"Remove in-progress call to generalized QC

Mixed up branches bug. Thanks to @sguthrie",2016-05-19T18:09:20Z,chapmanb
c1a5b2517db420ad7054206a6dc84331c19cd260,chapmanb,chapmanb@50mail.com,"Skip callable calcs on hg38 alts if not aligning

Correctly skip callability calculations on hg38 when we're not
aligning and don't have bwa indices linked. It removes the
standard alleles (_alt, _decoy, HLA). Thanks to @mjafin.",2016-05-19T18:04:39Z,chapmanb
899bf16364d650d9b48b15bd824b10c657df3042,chapmanb,chapmanb@50mail.com,"CWL: add defaults for additional algorithm params

Avoids CWL generation issues with unspecified algorithm inputs.
Thanks to @sguthrie.",2016-05-19T17:09:23Z,chapmanb
7cc427286f077e270b9d21e132dd72cf775ab127,Lorena Pantano,lorena.pantano@gmail.com,"Add better logging during bcbio sample merging.

https://github.com/chapmanb/bcbio-nextgen/issues/1399
thanks @pengxiao78",2016-05-19T15:31:29Z,lpantano
494bb77394bc8294c82d039fc9b0765450689017,chapmanb,chapmanb@50mail.com,"CWL: fixes for new checks in cwltool

- Ensure cwlVersion included in workflows
- Simplify run specification
- Place secondary files outside of inputBinding",2016-05-19T09:48:18Z,chapmanb
3fb47cae73d3a3269870a830fa6667480dac0c55,Lorena Pantano,lorena.pantano@gmail.com,"Correctly detect seqcluster in tools_off

https://github.com/chapmanb/bcbio-nextgen/issues/1395",2016-05-18T16:19:31Z,lpantano
dff571a8a01b1228e3f547c04fde40a7d2c89d8f,chapmanb,chapmanb@50mail.com,"scalpel: correctly change default sample name

scalpel uses 'sample' for the sample name when running analyses
on a single sample. Correctly translate this into the expected
sample name. Fixes #1199",2016-05-18T14:03:45Z,chapmanb
e08eef6948725d77f815e0cfe96c0d509d31a447,chapmanb,chapmanb@50mail.com,"CWL: ensure tools_on passed to variant calling

Allow turning on gVCF calling as part of CWL workflows. Correctly
handle converting single or empty values into a list during
batching.",2016-05-18T12:15:43Z,chapmanb
007eeff2da1a42df01a21d0b342ab7391888c70e,chapmanb,chapmanb@50mail.com,"CWL: explicitly define all tool inputs

Removes the implicit assumption that non-file variables will get
passed to all steps, requiring the bcbio defs to list all inputs
needed at each point. This improves re-usability with CWL runners
like Arvados since tool inputs only change when specific input
parameters are different (in the past tools like alignment would get
extraneous information, like `variantcaller`, which could result
in an alignment not being re-used even though it was identical).",2016-05-18T09:17:57Z,chapmanb
135ff8046a4e8637f7ab7b5ec4eea9258ac2b0fb,Lorena Pantano,lorena.pantano@gmail.com,"Index final BAM file in chipseq

https://github.com/chapmanb/bcbio-nextgen/issues/1396
thanks @apastore",2016-05-17T13:24:40Z,lpantano
70161dfda70571643d9cfeed500cc52e35201f97,chapmanb,chapmanb@50mail.com,"GATK GVCF: set GQ banding

Improve gVCF file sizes through improved banding by GQ. There are no
solid GATK recommendations but use general approach of smaller
bands at lower GQ and larger at high values.",2016-05-17T09:38:52Z,chapmanb
81837675a3c6e8f638fd04631a242faed6529835,Lorena Pantano,lorena.pantano@gmail.com,"Fix mirbase hairpin key

Thanks to @naumenko-sa",2016-05-16T18:16:50Z,lpantano
87ca6b7fdcc8c93eb4387d20c5b0fa358be41a0f,Lorena Pantano,lorena.pantano@gmail.com,"Skip seqcluster using tool_off

https://github.com/chapmanb/bcbio-nextgen/issues/1395
thanks to @naumenko-sa",2016-05-16T17:55:35Z,lpantano
df4ad42f195491ec765e034271e768c57724b754,chapmanb,chapmanb@50mail.com,"GATK: eliminate duplicate filter for amplicons

Remove the default DuplicateRead filter for GATK tools when
analyzing amplicon data or with `mark_duplicates: false`. Thanks to
@kevjp. Fixes #1394",2016-05-16T15:12:43Z,chapmanb
1571868eca2fdd564029e5f467a82fce9c3455e1,chapmanb,chapmanb@50mail.com,"VarScan: avoid grep failure with all 0 output

Avoids grep returning a 1 exit code when an input is all empty bases
and gets filtered out. grep returns a 1 in this case (no output)
which causes the pipe to fail. Instead we now pass through an empty
result and allow VarScan to continue. Thanks to @hyong2000. Fixes #1199",2016-05-16T13:59:40Z,chapmanb
7cce92282293973bc4e68dd30afd6aa740866338,chapmanb,chapmanb@50mail.com,"Variant call samples with heterogeneous coverage

When we have different coverage profiles for batch of samples processed
together, bcbio would pick the coverage/variant_regions for the
first sample and use for processing. This leads to order dependence
and unexpected behavior when calling exome and WGS samples together
(#1326). To handle this case, we explicitly pick the sample with the
most genome coverage in a batch (or tumor in a paired somatic analysis)
and use this coverage/variant_regions for calling. In the case of
combining exome and WGS calls, exomes will have no calls in WGS only
regions.",2016-05-16T09:38:48Z,chapmanb
ef7ce3c8f4d891cab262993c74692369ec81c5e4,chapmanb,chapmanb@50mail.com,"Docker support: create external bcbio_nextgen.yaml

External bcbio_nextgen.yaml file was not created on bcbio_vm.py
docker based installs due to checks. Loosen these to correctly
create. Thanks to @geetduggal",2016-05-13T19:29:55Z,chapmanb
ede8d2790ddce1cfbb757d14465841e5804a660e,chapmanb,chapmanb@50mail.com,"CWL: use new QC approach for coverage reports

- Removes calls to specialized coverage target which is no longer
  used.
- Fixes URL to plink to avoid extra merge (Fixes #1390)",2016-05-13T09:40:47Z,chapmanb
0894d5189ef5f96b99cf4b49890cb2b1f0073d95,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1389 from dbolser-ebi/patch-1

Fixed a link in plink_to_vcf.py description",2016-05-13T09:39:17Z,chapmanb
ff66fbee1b0ff2ad2bb26f3d3943a42488a22113,Dan Bolser,dbolser@ebi.ac.uk,Fixed a link in plink_to_vcf.py description,2016-05-13T08:28:17Z,N/A
88bc6360245bc28247d0e5797dbba0b72314159c,roryk,rory.kirchner@gmail.com,Use the configuration tmpdir when running multiqc.,2016-05-12T18:35:04Z,roryk
a5e4134094010d2f8486bad7c3695f01dc14c604,chapmanb,chapmanb@50mail.com,"Provide better errors for incorrect *.loc files

Add a more useful error message if we can't find reference files
due to incorrect paths in tool-data/*.loc files. Thanks to @lbeltrame.
Fixes #1370",2016-05-12T13:36:11Z,chapmanb
697f13cdc1de35b02be561b0a92be439e54d5a4c,chapmanb,chapmanb@50mail.com,"GATK joint calling: correctly set smaller batches

Correct logic for setting batch sizes for merging, handling
smaller input requests. Thanks to @scatreux.",2016-05-12T03:07:57Z,chapmanb
0d5354a72ca8f060a07e4bfc6c5b85f8c429882a,Lorena Pantano,lorena.pantano@gmail.com,Remove folder for multiqc command,2016-05-11T15:36:21Z,lpantano
ab9102fb09295e38c94704fead8ff776520525bb,chapmanb,chapmanb@50mail.com,"Tests: update to latest bcbio code externally

Ensure that test code uses latest bcbio code so the container and
external environments match.",2016-05-11T09:54:45Z,chapmanb
5e38ef28d2f310ea8b6350be69d9feef429e4300,chapmanb,chapmanb@50mail.com,"CWL: allow runs without validation VCFs

Enables null validation results when we don't have a validation target.",2016-05-11T09:29:22Z,chapmanb
233c6c841a3c9df74cca4813bdcc7a5aab03627b,Lorena Pantano,lorena.pantano@gmail.com,Add coverage output to final folder,2016-05-10T23:32:33Z,lpantano
beded6e973940044f48f308b43f4d0daf15ab554,Lorena Pantano,lorena.pantano@gmail.com,Add sample information to coverage table again.,2016-05-10T23:24:52Z,lpantano
bc1044dad5d01294a93ba3c9ee4f63748e2b202c,Lorena Pantano,lorena.pantano@gmail.com,"Re-organize coverage report code

Now it fits with bcbio qcsummary function, and
everything is in the same place.
Plus, all outputs are following the base/secondary structure
as needed to migrate to CWL.

Fix naming and clean old fn",2016-05-10T23:19:57Z,lpantano
2f8376a3235d43567c0350f458387f06eb3dc424,chapmanb,chapmanb@50mail.com,"Platypus: use default parameters for filtering

After doing additional cross validations with targeted data
(https://github.com/bcbio/icr142-validation) and NA24385 whole
genome data (on chr20: http://i.imgur.com/szSo5M6.png), avoid using
tuned Platypus parameters and revert back to defaults. Tuned parameters
provide improvements for SNPs with bwa but increase false discovery rate
which is the major advantage of Platypus for users.",2016-05-10T09:53:01Z,chapmanb
f365684e398b7af35b737005fce687517fabfd35,roryk,rory.kirchner@gmail.com,"Use full path to miRNA GTF file.

Fixes #1381.

Thanks to @naumenko-sa for filing the bug and testing the proposed
fix.",2016-05-09T16:55:56Z,roryk
5ca1d3b1b1701f3dff3afde1f3ecec4f31b06e3a,chapmanb,chapmanb@50mail.com,"Docker build: ensure tooldir specified

Allow initial install of tools when updating to development version.",2016-05-09T16:00:23Z,chapmanb
a38ed10c89ad623762be5fe8d3bcc589107efebe,chapmanb,chapmanb@50mail.com,"GATK gVCF output: allow filtering without merge

Outputting gVCF from GATK is tricky since it treats it as an
intermediate format. CombineVaiants will not handle gVCF and
CombineGVCF removes genotyping calls. This applies hard filters directly
to gVCF without splitting by SNPs and indels which avoids this
problem.",2016-05-09T15:35:30Z,chapmanb
a91bfa396c48c48d2e0154633b374366d470a95b,Lorena Pantano,lorena.pantano@gmail.com,"Fix name in featureCounts log to get correct multiqc stats

Fix typos",2016-05-09T14:33:06Z,lpantano
47236b5f01c671e74a7a2b78bfa544cc64536c12,chapmanb,chapmanb@50mail.com,"Add tools_on: [gvcf] to force gVCF output

Provides a tools_on switch to enable gVCF output and pass through of
gVCF to validation and final output directory. Useful for applications
that make use of the reference calls and gVCF downstream of bcbio.",2016-05-09T09:31:32Z,chapmanb
123832fa7498b2b44131165dc332af731e29d57a,chapmanb,chapmanb@50mail.com,QC: avoid passing along transactional directories,2016-05-07T18:36:36Z,chapmanb
2a2e73d9b944768fbc0915e1f2521ac3986c3088,chapmanb,chapmanb@50mail.com,"Template: allow PED file inputs for tumor/normal

Improves support for PED file inputs to templating thanks to
suggestions from @ohofmann:

- Pass in tumor and normal phenotypes directly.
- Check when setting batch information to avoid using undefined/unknown
  for batches.",2016-05-06T15:27:39Z,chapmanb
bd21c69b7ee54b5c8e972037c5aacba57f3da7a8,chapmanb,chapmanb@50mail.com,"Do not swallow stderror when checking read length

Avoids getting rid of potentially useful error messages. #1383",2016-05-06T13:27:30Z,chapmanb
14072687ac52b664682a5e987471637aa4c15508,chapmanb,chapmanb@50mail.com,SNAP: remove streaming workaround; new version fixes,2016-05-06T10:05:59Z,chapmanb
e65107fa20df7eade123008bb2d7580a5cfd022b,chapmanb,chapmanb@50mail.com,"QC: temporary workaround for large sample sizes

Avoid running MulitQC on larger input sample sizes as this will
create too long commandlines (#1380). Temporary workaround until
we can add support for ingesting these inputs as files in multiqc.",2016-05-05T18:27:32Z,chapmanb
c7bc13fa0779716ec1f554dbcffe358819cc942e,Lorena Pantano,lorena.pantano@gmail.com,"Try to avoid problems with ""."" in variant summary stats

Still having different problems related to the NA [.] character.
It seems something related to dropna when the column is set up
to int64

http://stackoverflow.com/questions/21287624/pandas-dataframe-column-type-conversion

Not super sure whether this solves the problem @ohofmann has, but ...",2016-05-05T17:28:08Z,lpantano
fc478b0e48ebde9cf3c4e340b64d588f2ec69d0c,chapmanb,chapmanb@50mail.com,Update hg38 resource files for dbSNP 147,2016-05-05T13:30:44Z,chapmanb
2734827fe7787d56c86d683c58d4ca74dca23f0f,chapmanb,chapmanb@50mail.com,"CRAM: use 8-bin compression with bamUtil

For CRAM support, use bamUtil squeeze to provide additional output
compression by removing read names and 8-bin combining. Explicitly
reference internal samtools and bamUtils to avoid corrupt output.
Fixes #1372",2016-05-05T13:23:34Z,chapmanb
76d210e6f33b46234f699aa3f0985db04475b299,chapmanb,chapmanb@50mail.com,"Install: ensure we set default data targets

On initial installs when missing configuration file we skip setting
default datatargets, resulting in non-installation of variation and
other data. Thanks to @ohofmann",2016-05-04T15:00:44Z,chapmanb
854031fc444c73ce4834bf41413345964aed4bba,chapmanb,chapmanb@50mail.com,"coverage QC: skip empty CG and depth rows

Identify non float (CG) and integer (depth) values marked with "".""
and skip these for percentile calculations. Thanks to @ohofmann",2016-05-04T09:52:20Z,chapmanb
44048a95eece3237dcc151916fa2b3295a3360fa,chapmanb,chapmanb@50mail.com,"SV: do not run snpEff on lumpy if no svprioritize

Work around bugs in snpEff pcingola/SnpEff#137 by skipping effects
prediction for lumpy if svprioritize is not specified.",2016-05-03T16:06:38Z,chapmanb
e25a9b882ae7409f48bbd7d98b6c370b11bcc67e,Lorena Pantano,lorena.pantano@gmail.com,"Fix type of depth/CG format in case is empty (coverage)

We are calculating the quantiles one by one,
so we don't need and array, just a single value.",2016-05-02T15:20:06Z,lpantano
8fcf7bba4446e9ceb8dd9a6f7af64d8869dc655b,chapmanb,chapmanb@50mail.com,"QC: edge case for empty coverage without CG

Thanks to @ohofmann for problem example",2016-05-01T21:07:12Z,chapmanb
07fe4145c50af9d2141e75780aa69a24df07f817,chapmanb,chapmanb@50mail.com,"Log location of bcbio system YAML file used

Help with debugging issues on bcbio_system.yaml retrieval.
Thanks to @mjafin.",2016-04-30T09:35:53Z,chapmanb
232d09be72bc4a17bfce90464f879a950fc43665,chapmanb,chapmanb@50mail.com,"Utility script converts ICR142 to VCF

Takes the ICR142 (http://f1000research.com/articles/5-386/v1) validation
series and converts into a set of VCF and BED files for running
sample analysis with bcbio.",2016-04-29T10:34:23Z,chapmanb
e19d5cd5b91d14709c2fb771a890ec18f90b66dc,chapmanb,chapmanb@50mail.com,"Validation: only report FPs in assessment regions

For FP only checks, where we know a region has no validated variants,
ensure that we subset the original calls to only the region of
interest if called with a buffer region.",2016-04-29T09:50:52Z,chapmanb
2716be09b98a1d40166e78c8ed0702b93293f462,Lorena Pantano,lorena.pantano@gmail.com,Create mirdeep2 PDF to have a nice output (srnaseq),2016-04-28T18:22:07Z,lpantano
74b8187204a2a3cec3cf4c5dfd62f4e82b5ee060,Lorena Pantano,lorena.pantano@gmail.com,"Add tdrmapper output to final folder (srnaseq)

thanks to @AurelieMLB",2016-04-28T18:11:32Z,lpantano
7343d7a338702f7c3f9affee6bcc4f6931fe4d1f,roryk,rory.kirchner@gmail.com,"Add version provenance for sailfish, salmon and hisat2.

Thanks to @mjafin for the poke.",2016-04-28T14:51:17Z,roryk
ec3bbb3e05867b8a2702aaf1d5da02dc7c52e030,chapmanb,chapmanb@50mail.com,Doc: add link to NGS course teaching materials,2016-04-28T13:40:40Z,chapmanb
adaf7c6257b65eda433b44e0b453359d67b4ccb9,chapmanb,chapmanb@50mail.com,"Validation: handle empty truth sets

Allows validation in cases where we don't have expected variants in a
region and anything that appears is a false positive.",2016-04-27T15:23:02Z,chapmanb
fd6da2f8b6cc35f77cf3a3f0d6640ff42f5f4edd,chapmanb,chapmanb@50mail.com,"CWL: handle missing HLA inputs

Correctly ignore analysis with HLA inputs set to None. Thanks to
@guillermo-carrasco.",2016-04-27T14:00:52Z,chapmanb
f4e06b18a98db70d20cf5575aad95bd67e88c0c6,chapmanb,chapmanb@50mail.com,"Fix install of mutect jar via toolplus

When a mutect line was not present in the original resource
configuration, the directory was not written to update bcbio_system.yaml
when installing via toolplus. Fixes #1363",2016-04-27T10:00:25Z,chapmanb
372336572cb98060d3fbdaf09ff723dbb4cb8620,chapmanb,chapmanb@50mail.com,"Do not fail checks due to whitespace

Make yaml checking more lenient to avoid failures due to whitespace
issues. Fixes #1369",2016-04-27T09:30:23Z,chapmanb
da3efb8a3274c56777b4e7029c0b7dc2f89be986,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2016-04-27T01:23:07Z,roryk
26d57ca5d30a2bd79eeded497b702f319557457f,roryk,rory.kirchner@gmail.com,"Remove trailing whitespace.

Fixes #1369.",2016-04-27T01:22:44Z,roryk
cab497c41499d7b74a3befd7481b9e5720d09b9a,chapmanb,chapmanb@50mail.com,"Edge case for high depth variant filter

Handle empty VCF cases where we have no variants with depth set
for filtering on",2016-04-26T13:49:42Z,chapmanb
0c14fb52863503a1932e3600cc47789482530715,chapmanb,chapmanb@50mail.com,"Skip scalpel indel calling on mitochondrial chrom

Avoids issues with reference loading on smaller chromosomes (#1237).
Fixes #1362",2016-04-26T10:16:43Z,chapmanb
204e87164b6a19eae86c2c18863deabd8ab79552,chapmanb,chapmanb@50mail.com,"Clean up problem characters in descriptions

Correctly handle additional shell characters in sample descriptions.
Fixes #1360",2016-04-25T09:39:50Z,chapmanb
448f1a18cb8d2a2a4748346c3be32d23d9df8e87,Lorena Pantano,lorena.pantano@gmail.com,Fix typo in java warning due to version in srnaseq pipeline.,2016-04-24T23:04:48Z,lpantano
6db671174d190612dda1db3a64cfd6d610b2c21a,Lorena Pantano,lorena.pantano@gmail.com,"Check java version before running miraligner.

Only working wit java 1.7. Give warning in log files
to make easier find the problem.
Working in  a solution meanwhile.
Thanks @hmkim
https://github.com/chapmanb/bcbio-nextgen/issues/1357",2016-04-24T23:00:28Z,lpantano
155d62e532705088a95e69a557c8dc7cbbc40fcb,chapmanb,chapmanb@50mail.com,"Do not use samblaster with lots of contigs

Avoid use of samblaster when reference genome has more than 32768
contigs, the maximum supported. Fixes #1356",2016-04-24T10:27:52Z,chapmanb
a414a2ecfb573bc14a3a321f451ec7c240b1c5e0,chapmanb,chapmanb@50mail.com,validation: initial support for running hap.py,2016-04-24T10:09:16Z,chapmanb
42cde9c4e1e314b53f49566656b2352e069fa69d,chapmanb,chapmanb@50mail.com,"Allow missing bcbio_system file for bcbio-vm runs

Do not require an installed system bcbio_system.yaml file when running
with bcbio_vm, allowing for minimal installations to run CWL preparation
and AWS launch. Thanks to @sguthrie and Jiayong Li.",2016-04-23T10:16:24Z,chapmanb
0214baf0e4a3e554edbdd08ea4f5813e0d7d0a91,chapmanb,chapmanb@50mail.com,"Improve checks for read groups on prealigned input

Raise an error if input files have multiple read groups and the
read groups don't match. Previously we only issued a warning. Fixes
chapmanb/bcbio-nextgen-vm#150",2016-04-23T10:08:34Z,chapmanb
12081a9d8ee99b02848309d3167d6716a9932397,roryk,rory.kirchner@gmail.com,Fix for making kmer size odd.,2016-04-21T13:45:55Z,roryk
d6f2703b1016517a95e0dbceaef4dc2841eadb6a,roryk,rory.kirchner@gmail.com,Ensure Sailfish kmer size is odd.,2016-04-21T12:54:32Z,roryk
878017be86fdf81e551a70a5b991135c9366faa3,chapmanb,chapmanb@50mail.com,"Galaxy loc file parsing: handle misformed lines

Avoid failing on Galaxy location file lines with less than expected
fields. Fixes #1354",2016-04-21T10:03:37Z,chapmanb
1faf9b8b4d23845bf85392ed9b00da443cb8ff98,chapmanb,chapmanb@50mail.com,"Calculate high depth after assigning coverage

Move calculation of high depth regions to after coverage assignments.
Previously if coverage was not pre-assigned high depth calculation
would get skipped. Thanks to @NeillGibson Fixes #1281",2016-04-21T09:37:20Z,chapmanb
3940f097f6d8c4d35363db2756569364485fb6ac,roryk,rory.kirchner@gmail.com,"Sailfish fix for short reads.

Sailfish needs a kmer size <= the read size, so for
read lengths < 30, use read_length - 5 as the kmer size
instead of 25.",2016-04-21T01:35:42Z,roryk
a64f765b5c661b7ed673851307b0caf23d2cfbf0,roryk,rory.kirchner@gmail.com,Do not overwrite Sailfsh index after quantifying.,2016-04-20T19:33:13Z,roryk
3600bf1df91afa28769366047e1422af11305239,chapmanb,chapmanb@50mail.com,"Provide better debugging of failed high depth runs

Help assist with #1281",2016-04-20T17:25:54Z,chapmanb
13a059701fd625a22641b1698153dfaf296dcdcf,chapmanb,chapmanb@50mail.com,"Memory default adjustments based on feedback

- Increase prioritize default to 4g. Thanks to @ssaif
- Reduce qualimap to 4g. Thanks to @naumenko-sa. Fixes #1349",2016-04-20T14:49:06Z,chapmanb
981572496edd3d72febeedf65c0ebbc311237c47,chapmanb,chapmanb@50mail.com,"Configuration: check for single algorithm keyvals

Sanity check and resolve items in sample YAML algorithm section that
should be a single item. Allows specifying as a list with 1 value.
Thanks to @ohofmann",2016-04-20T10:25:04Z,chapmanb
102deafefa7fa02c00aa8b1977a70af77071d615,chapmanb,chapmanb@50mail.com,"Ensure locale set to standard

Avoids decimal encoding issues in different locales (commas versus
periods). Sets the locale for standard runs, Docker runs, and
IPython calls. Fixes #1348",2016-04-20T09:53:04Z,chapmanb
35f8e5bbd947056bb793fb4f60f90cf94967fc65,roryk,rory.kirchner@gmail.com,Add logging message to combining counts.,2016-04-19T17:11:13Z,roryk
77de81e9cb57bc902ed425c217b0fda3dfd3c024,chapmanb,chapmanb@50mail.com,"Parallel alignment, test and example fixes

- Ensure we do parallel alignment and use all available machines
  for automatic align_split_size choices. Thanks to @ohofmann
- Provide test data for single cell RNA-seq test and skip for now
  until umis package installed. Thanks to @roryk.
- Fix validation region usage for 10x whole genome example. Thanks to
  @geetduggal",2016-04-19T15:37:53Z,chapmanb
8b1d1df4e046d78e256d1a7835c0db3abaf048de,chapmanb,chapmanb@50mail.com,"HLA typing: fix for file-based and align split

- Fixes standard OptiType runs where we enumerate files instead
  of directories. Thanks to @mjafin.
- Handle running HLA typing on split samples -- merge split
  fastqs into single file prior to processing.",2016-04-19T11:51:57Z,chapmanb
57a1ef1ed715aedca02f901f1defbf645e04a12f,chapmanb,chapmanb@50mail.com,"Enable passing memory to bcbio-prioritize

Avoid memory errors with larger prioritization inputs. Thanks to
@ssaif",2016-04-19T02:57:21Z,chapmanb
9ae71252bdbff02c25b950072fc72329d24ed4a9,chapmanb,chapmanb@50mail.com,multiQC edge case: no inputs generated,2016-04-19T01:39:12Z,chapmanb
1885a3a70a7c7c7e4c37a55b1dcfa83a89f058d4,Lorena Pantano,lorena.pantano@gmail.com,Remove duplicated parameter. Thanks to @hmkim and @chapmanb.,2016-04-18T14:21:38Z,lpantano
2fa32209770a8612d03aaf3135e98edd8dcf3560,chapmanb,chapmanb@50mail.com,"qsignature: compatibility with file-based output

Ensure qsignature uses the new representation of a base file and
secondary files for qc output for compatbility with CWL output.
Fixes #1344 Fixes #1345",2016-04-18T10:26:57Z,chapmanb
9fcce9f83c19c34e71444762ac56e963d0a9f250,chapmanb,chapmanb@50mail.com,"Move structural variant calling to single step

Avoids initial/standard steps in SV calling and moves to a single
step to improve parallelism and porting to CWL. Eventually will move
prior to variant calling to enable use of SV and heterogeneity results
in improving small variant calls.",2016-04-18T10:02:40Z,chapmanb
4689e0bc40768b5b8a4a8c3ceadadfce80aa3164,chapmanb,chapmanb@50mail.com,"Documentation: BED file prep and joint calling

- Provide hints and approaches to converting input BED files
  to the correct chromosome naming schemes. Fixes #1341
- Provide better documentation about when to use joint calling.",2016-04-17T10:00:23Z,chapmanb
5d0be388258d530528338388638a9ca9d685100e,chapmanb,chapmanb@50mail.com,"Improve BAM merging and sort for large inputs

Switch to bamcat instead of bammerge for feeding into bamsormadup
to avoid memory issues with large numbers of big input files. Thanks to
@gt1 #971",2016-04-16T09:33:49Z,chapmanb
fc1d5ca32e0d518b863f341a4a2cf2ce863e5a3f,Lorena Pantano,lorena.pantano@gmail.com,"Avoid error if DP is not in VCF file. #1339

Some callers won't have the DP in the final VCF,
then the variant_summary fails. Ignore all those cases
where ""."" is given, and only calculate quantiles if
there are numeric values in the colum.
Thanks to @lbeltrame.",2016-04-15T17:51:56Z,lpantano
1e23d67adc54308c6b2dc47e485f0d77b2ccecaa,chapmanb,chapmanb@50mail.com,Simplify back compatible requirements.txt #1337,2016-04-15T11:33:52Z,chapmanb
276505cc597dc46717501a528d6f0937257a9a18,chapmanb,chapmanb@50mail.com,"CWL: Add multiqc output to variant workflow

- Include multiqc summary in CWL output
- Handle multiqc inputs coming from CWL
- Try to avoid ipython_docker run issues with duplicated multiqc
  section",2016-04-14T23:57:45Z,chapmanb
e7c542e4e43bb451054468641f9802b9e1c73540,Lorena Pantano,lorena.pantano@gmail.com,Remove unused code for srnaseq.,2016-04-14T20:19:04Z,lpantano
d9401e0756d020721befd4c8c0571c77f69c159b,chapmanb,chapmanb@50mail.com,"multiQC: enumerated input and output files

Avoid local directory assumptions with multiQC processing and
explicitly set inputs based on previous QC runs. Enumerate
output files for plugging into CWL. Still requires enumeration
of files for coverage_report and htseq-count when porting
RNA-seq workflows.",2016-04-14T10:10:40Z,chapmanb
9b5d4ade76d6808d6dcbd6e1ab3135de8928c282,chapmanb,chapmanb@50mail.com,"CWL: re-enable QC reporting with fastqc/coverage

With explicit file enumeration we can now run QC metrics within CWL
without relying on directory import. Initial steps towards supporting
multiQC output.",2016-04-14T09:54:03Z,chapmanb
3b87a3931cbca43c5cd4989b1f5da6084a545908,Lorena Pantano,lorena.pantano@gmail.com,Fix duplicated reads metric in rnaseq.,2016-04-13T22:13:14Z,lpantano
1df1ea24e3a4ba0c413bbe84817734699a39713f,Lorena Pantano,lorena.pantano@gmail.com,"Use proteinID for genbank files as gene ID

this will avoid duplicate gene IDs for bacterial and viral
genomes when converting from genbank to GTF and FASTA files.",2016-04-13T22:10:35Z,lpantano
1196b5add7a3ad01dcc994f2f0cbfb4bbdc62faa,chapmanb,chapmanb@50mail.com,"ensemble: allow inclusion of filtered calls

Adds a `use_filtered` configuration parameter to allow use of
filtered calls in ensemble output. Fixes #1329",2016-04-13T19:57:12Z,chapmanb
e8dafa79bc9115e27bd13f7046fb8b6224d64ee2,chapmanb,chapmanb@50mail.com,"Quality control: enumerate generated files

Initial steps towards supporting quality control analyses with CWL.
Enumerate the output files in quality control runs so they can be
explicitly linked into CWL workflows.",2016-04-13T19:01:36Z,chapmanb
340efcaeb3ed13bb12f15ea5d0c4591ce4ae6c25,Lorena Pantano,lorena.pantano@gmail.com,"Use yamllint to detect wrong YAML files

Mainly for duplicated keys. In the case of
details, bcbio will only consider the samples
after the last details. pyyaml doesn't check for that.
Thanks @chapmanb to find the package.
Thanks @rkhetani to find the problem.",2016-04-13T18:32:46Z,lpantano
503b18009c10eecdfa97e2af569cd15a20734173,chapmanb,chapmanb@50mail.com,"Ensure development upgrade gets conda dependencies

Do an upgrade to the latest conda dependencies when running with
`-u development`. Supports @lpantano for library additions with
better YAML checking.",2016-04-13T09:58:19Z,chapmanb
3023f2d0ee6369613e6c6f1641f70d57671c4814,chapmanb,chapmanb@50mail.com,"Callable region selection for different batches

Avoid using -u flag to bedtools intersect which creates an order
dependence on selection of regions for batches. Enables use of
very different (capture vs whole genome) samples in a single batch.
Fixes #1326",2016-04-13T09:44:35Z,chapmanb
a39c5e62ec3f28c0b95b0efb855b4c2c69f0fe0f,chapmanb,chapmanb@50mail.com,"Move to samtools for generating CRAM files

Avoids problems with cramtools 3.0 and fixes #1321. samtools does not
do 8-bin quality binning but otherwise equivalent to current CRAM
generation workflow.",2016-04-12T16:57:18Z,chapmanb
51f5b275673edb9383717f394ad4040b3d476053,Lorena Pantano,lorena.pantano@gmail.com,"Fix Insert size calculation for RNA-seq

We ignore 0 and spliced reads to get the median
of the insert size. For rest to pipeline, we use the
value in samtools stats file.

Ignore zeros in the fragment size field.",2016-04-12T14:42:24Z,lpantano
9e262cadb22acd1dbdb7ed1b668d2a401a72f79f,chapmanb,chapmanb@50mail.com,"Ensure gzipped files are bgzipped

We more aggressively grabix index with automatic setting of
align_split_size so should only skip converting to bgzipped if
align_split_size set to false. Fixes #1325",2016-04-12T13:23:50Z,chapmanb
1036ccc3353d0ab5cfb537ffe5cc6cc5bd91d331,chapmanb,chapmanb@50mail.com,"Remove merge_bamprep option

Continue to simplify and improve options by removing the rarely used and
confusing merge_bamprep option. We now do merging automatically if
a pipeline has GATK realignment",2016-04-12T10:11:47Z,chapmanb
603940c792f5e5a996caa74a768fa7d56db29835,chapmanb,chapmanb@50mail.com,"CRAM support cleanup: remove quality_bin

Remove support for quality binning inputs which was not plugged into
current preparation infrastructure and only used previously for
testing quality binning so not likely to be generally useful #1321",2016-04-11T19:46:20Z,chapmanb
b68a9e721893e1e08f1be41048664f02857dce0a,Lorena Pantano,lorena.pantano@gmail.com,clean old qc values that we don't use anymore.,2016-04-11T15:35:14Z,lpantano
86c28ff96e0fabac1cc0bc9b73e2e2c88f6696d8,chapmanb,chapmanb@50mail.com,"Automatically set align_split_size based on inputs

Checks input files sizes and sets align_split_size to improve processing
speeds of larger files while avoiding creating larger number of
splits. Helps manage memory at both alignment and merging in an
automatic way. Thanks to @ohofmann",2016-04-11T10:00:28Z,chapmanb
11ce43d8c39a730a10a637217ceb7760d5f12b23,roryk,rory.kirchner@gmail.com,Add fast RNA-seq documentation.,2016-04-09T13:41:05Z,roryk
a643acdb9772b0050fa96cce6eaf8b7437df9cc5,Lorena Pantano,lorena.pantano@gmail.com,"Start portability to multiqc.

Change qc output name files to match
pattern in multiqc for bcbio files.
Change name in cutadapt log to get
samples with the same name in multiqc
report.",2016-04-09T00:11:07Z,lpantano
acc6d0cc7e53f9555b2d0a67219bbeabecea9d7d,chapmanb,chapmanb@50mail.com,CWL: ensure Docker installed GATK merged into system configuration,2016-04-08T17:01:17Z,chapmanb
7c348c0e5d7012e51659b631c38e71742d7e74c0,roryk,rory.kirchner@gmail.com,Add function to pull the longest transcript from a GTF file.,2016-04-08T01:43:40Z,roryk
3c2d656941376ca2e79d6f514c9f48b320b50bcd,roryk,rory.kirchner@gmail.com,"Add optional transcriptome_fasta file to single cell analyses.

Look up barcode depth by proper name.",2016-04-08T01:43:39Z,roryk
6b56434c2e5dd690b9dc464939045df688a8dfc8,chapmanb,chapmanb@50mail.com,"CWL: estimate disk usage requirements from inputs

Specifies a minimum amount of temporary storage required for disk
usage intensive processes. Fixes issues when running on cloud nodes
and the amount of disk space is the limiting factor in choosing
node types.",2016-04-07T18:16:11Z,chapmanb
770d4d6f7c351aab207f51b343464604d8e0f229,chapmanb,chapmanb@50mail.com,"Issue fixes: scalpel, platypus, coverage

- scalpel: Pass TMPDIR to ensure internal Perl libraries use
  configurable temp directory instead of global. Thanks to @razZ0r.
  Fixes #1311
- platypus: Allow passing in configurable options for parameter
  setting and avoid overwriting with defaults if set. Thanks to
  Vincent Funari.
- Use sorted for bedtools coverage to reduce memory usage.
  Thanks to @schelhorn. Fixes #1316",2016-04-07T14:57:28Z,chapmanb
e03fc63d6574506dda05a7dc117ad97b40725a5e,chapmanb,chapmanb@50mail.com,Allow adding GATK/MuTect jars in Docker containers,2016-04-07T09:55:50Z,chapmanb
046affbfdd960632ba4b67ee23b40c9908eaca48,chapmanb,chapmanb@50mail.com,SNAP: switch back to sponge workaround for buffering issues,2016-04-06T10:06:27Z,chapmanb
e9774f15c25f6ff8b7368e4c05f00d5a1d6a479f,chapmanb,chapmanb@50mail.com,Correctly handle bgzipped inputs for variant_regions when doing sanity checks,2016-04-05T17:27:03Z,chapmanb
63343e24e30083763942ff3f85e7423af7c75af5,Lorena Pantano,lorena.pantano@gmail.com,"Clean UCSC headers from bed files in coverage report.

Issue #1299
Thanks @lbeltrame",2016-04-05T14:37:57Z,lpantano
a7b36562ac8c76e825b1e0a932426f0117e176e2,Lorena Pantano,lorena.pantano@gmail.com,Better way to copy multiqc to final folder.,2016-04-05T14:11:57Z,lpantano
2b3bdcbe368b6206cc1223859ce25ff2b5768931,Lorena Pantano,lorena.pantano@gmail.com,"MultiQC runs buy default now.

Add folder to final dir. #1307, @schelhorn
Create individual metric files that will be parsed
by multiQC in the future. @ewels",2016-04-05T13:51:47Z,lpantano
e4ed0d338bd98bdb53c43feee77e220945eea969,chapmanb,chapmanb@50mail.com,"Add --no-partial-obsrvations to FreeBayes

Improves discrimination of heterozygote/homozygote calls:
https://github.com/ekg/freebayes/issues/234#issuecomment-205331765",2016-04-05T10:06:00Z,chapmanb
690039c3bf23564cdc0dbf56321eaeb368ed47f8,chapmanb,chapmanb@50mail.com,coverage estimation: handle edge case with no mapped reads,2016-04-04T10:45:46Z,chapmanb
61451ca60e54cb3e2e61a563a85fa2e42a81c525,chapmanb,chapmanb@50mail.com,"Allow tuning of rtg memory via standard config

Provides ability to adjust rtg memory usage to avoid issues with too
little memory. Fixes #1298",2016-04-02T12:46:52Z,chapmanb
87c80cefcb43c9a55ff035a8d1fe4e836d44f22c,chapmanb,chapmanb@50mail.com,"Documentation and usability fixes based on issues

- Provide useful error message if S3 key not found for opening files
  (chapmanb/bcbio-nextgen-vm#144)
- Document process to require a minimum number of cores for the
  controller.",2016-04-01T10:15:15Z,chapmanb
e18c1302337b8099f929c4c9272915134d8f1a69,chapmanb,chapmanb@50mail.com,"Do not downscale memory for GATK recal/realign

Workaround to decrease memory for concurrent Java processes no longer
required for recent Java parameter changes and causes issues with
lower memory specifications. Thanks to @lbetrame. Fixes #1295",2016-03-31T13:38:44Z,chapmanb
b765624cd1ef79eef371ff946a1968a060a63ab0,chapmanb,chapmanb@50mail.com,SNAP: better workaround for streaming inputs to SNAP alignment with stdbuf,2016-03-31T13:37:17Z,chapmanb
856f8e721fd79106c7002d13b9dfcca24500e442,chapmanb,chapmanb@50mail.com,Install: avoid caching conda requirements file. Thanks to @mjafin,2016-03-31T09:53:05Z,chapmanb
430b13b8b286ea6950bb47770e883f728cfc1238,chapmanb,chapmanb@50mail.com,"snap-aligner: handle additional complex cases

- handle paired end reads without /1 and /2 ends
- Use mbuffer to avoid buffering issues passing to SNAP which
  works cleaner than sponge writing to disk. Need to add mbuffer
  conda package",2016-03-30T23:34:15Z,chapmanb
158201967625ad69b9ed19d9150340ce4f8202fc,Lorena Pantano,lorena.pantano@gmail.com,"Workaround if name files have spaces. #1293

Thanks to @lbeltrame",2016-03-30T22:26:46Z,lpantano
13b804a80a415b376105b78cda850f65b0cd9ea8,Lorena Pantano,lorena.pantano@gmail.com,"Add citations page

The idea is to give people the BIB format and
list all tools/data used in each pipeline
to the credict they deserve.
[ci skip]",2016-03-30T22:10:45Z,lpantano
c67ae2707591a7506472541a6cc13ddd6c819bff,Lorena Pantano,lorena.pantano@gmail.com,"Add small RNAseq pipeline output.

[ci skip]",2016-03-30T21:30:33Z,lpantano
441ed03b7ac34e03b922de00d33234be5756fafc,Lorena Pantano,lorena.pantano@gmail.com,Update mm10 genome resources.,2016-03-30T21:15:37Z,lpantano
8906c8ab19e3a5603a7b9f8bc5ca9ec48842c7dd,chapmanb,chapmanb@50mail.com,"Explicit sort of callable regions after groupby

Prevents out of order callable regions seen in edge cases",2016-03-30T18:18:17Z,chapmanb
cda3fa9383f01801dfeaed30d3c047ba848a54b6,chapmanb,chapmanb@50mail.com,Document memory setting as per-core. Fixes #1292,2016-03-30T10:28:13Z,chapmanb
2fc29acffbbcbe157f28c32b886da22d2823d0fe,roryk,rory.kirchner@gmail.com,Remove unused import.,2016-03-29T14:21:20Z,roryk
c6f577d198e62a8d37cfac518d955e28393446b3,chapmanb,chapmanb@50mail.com,v0.9.7 release,2016-03-29T09:47:41Z,chapmanb
52cda3ec665c9e41fa3ac1f478782cee6f77a1d7,chapmanb,chapmanb@50mail.com,validation plot: allow pre-sorting by callers,2016-03-29T00:47:53Z,chapmanb
b3c4822897ee380cffa32c2dfff94fe6e6b9998f,chapmanb,chapmanb@50mail.com,Ensure precalled inputs get prepped in unique filename directory,2016-03-28T17:36:38Z,chapmanb
a511f485fe4a2462395339a3ba9b130184f1515e,roryk,rory.kirchner@gmail.com,Add Sailfish/Salmon directory upload change to HISTORY.,2016-03-28T17:15:44Z,roryk
1d2bb9cb633935234ec79b7722e7a3fc12e15617,roryk,rory.kirchner@gmail.com,Create project summary file when running fast RNA-seq.,2016-03-28T16:28:42Z,roryk
01c04cb5817fb5a8e871812ac767578a28f7e98b,roryk,rory.kirchner@gmail.com,Put Sailfish and Salmon upload files in sample/salmon and sample/sailfish.,2016-03-28T03:59:02Z,roryk
448c375f595eebfc5e7a0c74cd1d19532b5f9d78,roryk,rory.kirchner@gmail.com,Add Salmon directories to output folder when running fast RNA-seq.,2016-03-27T20:11:42Z,roryk
489af9cde877a1413f76c3adde4e9f59c67f189d,chapmanb,chapmanb@50mail.com,"Battenberg: move plot, contamination and subclone outputs into final directory",2016-03-27T17:03:01Z,chapmanb
bf3a0877bd68727a9c8832d11e991afb8716039b,roryk,rory.kirchner@gmail.com,"Fix Salmon memoization.

Also drop using --useVBOpt until the next version is out, it
can cause segfaults.",2016-03-27T14:34:30Z,roryk
0b90ae7d58d7d9757d1100affc850403becdd64d,chapmanb,chapmanb@50mail.com,"CNVkit: do not pass old R site-library, no longer needed with conda R libraries",2016-03-26T23:18:50Z,chapmanb
937d6659faf288b49b89075737e3d22fcef8b10a,chapmanb,chapmanb@50mail.com,"Documentation: core and resource specifications

- Provide advice on how to set core usage for single machine and
  multiple machine runs. Fixes #1286
- Examples of setting resources in the sample YAML file.",2016-03-26T09:30:00Z,chapmanb
48085361361aff111a6f70dc4889cb1c52e148ba,roryk,rory.kirchner@gmail.com,"Fixes for NCBI GFF3 files.

ID isn't unique, which is awesome so instead use the gene field
as the gene name. Some entries are missing the transcript_id,
so use the gene_id for those. biotype is missing for some
entries, so produce a sane default.",2016-03-25T17:24:05Z,roryk
229bbdb82895aacb9f95a8f897080310dad6ee10,Lorena Pantano,lorena.pantano@gmail.com,Run coverage only for variant calling pipelines.,2016-03-25T17:11:09Z,lpantano
2bf050112916ceaaf2cc75941b91791fcc4f2dd7,chapmanb,chapmanb@50mail.com,"Reporting: do not run coverage summary by default

Coverage summary generation via Rscript and pandoc currently fails in
several cases, leading to scary looking error messages. We'll avoid
running for now and re-enable as part of general work to improve
coverage. Also remove documentation on installing pandoc since we
include that via conda.",2016-03-25T15:35:55Z,chapmanb
12fc6c503cc57c128fca47341ff995870b9eabd5,roryk,rory.kirchner@gmail.com,"Restore RNA-seq sample uploading.

Thanks to @mjafin for pointing out the bug.",2016-03-24T18:49:57Z,roryk
8f3ebbfacadb848a37c872e925cc300908090786,chapmanb,chapmanb@50mail.com,"CWL: allow runs without variant_regions

Allow empty variant_regions inputs for whole genome calling. This
emulates standard bcbio behavior and assigns callable_regions if not
present.",2016-03-24T17:58:12Z,chapmanb
e29c69a4607d2c7b8a606d0d632a00ee8f27f0f6,roryk,rory.kirchner@gmail.com,"If using split barcodes, add the appropriate option to the transform.",2016-03-23T20:17:48Z,roryk
16f9e56f727ee13efdde91f5138f3d467f2140a7,roryk,rory.kirchner@gmail.com,Look up cellular_barcode entry properly in the world dict.,2016-03-23T20:17:46Z,roryk
1fcf54db9b5b81dab1714e522e04e8a9e7a0fc63,chapmanb,chapmanb@50mail.com,Docs: link to talks at Channing and Curoverse,2016-03-23T14:50:24Z,chapmanb
e7ce8386263b7679bbe4db70a5a858714e07de69,roryk,rory.kirchner@gmail.com,Swap samtools/sambamba calls in postalign to use the lookup function.,2016-03-22T21:31:00Z,roryk
729670d33a679d9ab71758fc86a39d598165da56,roryk,rory.kirchner@gmail.com,Add comment to show entire workflow.,2016-03-22T21:25:09Z,roryk
b6e246585fa46b4a08ba18d40454f3f8a6cf0c25,roryk,rory.kirchner@gmail.com,Prefer bcbio_system program locations over all.,2016-03-22T21:24:01Z,roryk
80deb4b7a2018786e6f3bad48821cf720ac0fd2e,roryk,rory.kirchner@gmail.com,Switch bare samtools calls to use the config_utils lookup function.,2016-03-22T21:21:23Z,roryk
749eec7022efc7075d9fb99ce002b32dc737f973,roryk,rory.kirchner@gmail.com,"Prefer bcbio install locations for binaries.

Fixes #1285 (hopefully). Thanks to @tombair for the heads up.",2016-03-22T21:21:23Z,roryk
d29957c213b953caeb4634cb38a7085cace7a6d2,Lorena Pantano,lorena.pantano@gmail.com,"Add output files for RNAseq pipeline

[skip ci]",2016-03-22T17:31:33Z,lpantano
9dac70f0e8ee43a7f4097e608189285b24bac27e,Lorena Pantano,lorena.pantano@gmail.com,"Fix mac2 error when -g is set by user.

Fix typo.",2016-03-22T16:30:52Z,lpantano
2e043a9a07840e87525566b88f1bf232464b8054,roryk,rory.kirchner@gmail.com,Add support for Harvard-inDrop version 2 barcoding scheme.,2016-03-22T16:19:38Z,roryk
b820ca74e3e38b30038d81cd69f7ed7c93ca4f2b,chapmanb,chapmanb@50mail.com,Docker: new error logging when not CWL driven,2016-03-22T14:46:10Z,chapmanb
b351face0b35d1ab6585f9728d69e9965f69c205,chapmanb,chapmanb@50mail.com,"CWL: log exceptions during Docker runs to file

Adds exceptions during Docker runfn commands to a file to capture
any error outputs in case of failures.",2016-03-22T14:12:49Z,chapmanb
902472de90ac58928dda1012a3d4eb6cdd9c2dcc,Lorena Pantano,lorena.pantano@gmail.com,"Use genome size parameter for macs2 command

If the species is not mouse or human,
user needs to give the -g SIZE with the
resources macs2 options in the yaml file",2016-03-22T14:11:47Z,lpantano
ac7f68451f24903c4f15f49b3b39c3a220760341,chapmanb,chapmanb@50mail.com,"Start of work to simplify bcbio_system file

Try to reduce options in bcbio_system file to make it more
straightforward to edit by hand.",2016-03-21T23:52:00Z,chapmanb
01e8a7e2f7513896ed6909d3861b8768e2d579f4,Lorena Pantano,lorena.pantano@gmail.com,"Fix typo in error macs2 message

[skip ci]",2016-03-21T20:06:08Z,lpantano
6f94c8277e286948bdbe490972c13c887c784b01,roryk,rory.kirchner@gmail.com,Refile single-cell RNA-seq under correct header.,2016-03-21T18:19:43Z,roryk
05c46bdc29084be2b80758c63e75f3e1c9ae1f63,Lorena Pantano,lorena.pantano@gmail.com,Fix name for genbank conversion script.,2016-03-20T23:30:49Z,lpantano
2378f1ee5a15bda8124ccb6760b9aaeebb15940c,chapmanb,chapmanb@50mail.com,"Arvados: docs on multiple inputs and sample config

- Allow specification of multiple input Keep collections containing
  data.
- Enable specifying input collections in sample YAML config.",2016-03-19T19:39:30Z,chapmanb
e98cde239a6b604506f73cc5223e486869b33265,chapmanb,chapmanb@50mail.com,"CWL: document and generalize workflow generation

Move CWL workflow definitions into separate namespace and explicitly
separate variant definitions from mechanisms used to create CWL.
Document variables and targets for writing workflows. Work to
enable additional CWL pipelines (cc @roryk).",2016-03-19T16:07:00Z,chapmanb
118d939daf8c1b7b38750f682c68dc89057b23ef,chapmanb,chapmanb@50mail.com,"CWL: Improve specification of workflows

- Remove extra javascript creation that is no longer necessary since
  we create ready to ingest JSON on completion of runs.
- Simplify workflow specification as preparation for move to
  generalized functions.
- Provide pretty printed JSON output to help with debugging.",2016-03-19T12:28:21Z,chapmanb
46d192e91cc802207a3db4bc648ec0163fdc1132,chapmanb,chapmanb@50mail.com,"CWL output JSON creation: javascript -> python

Move creation of output JSON for CWL from custom javascript to bcbio
python. We now directly dump the correct CWL for ingestion, avoiding
needing potentially large and complex javascript parsing which can
stress out default runtimes.",2016-03-19T09:22:54Z,chapmanb
5e80976017cdc6f5c322cddb1f535b85eef5c1ef,chapmanb,chapmanb@50mail.com,"Ensure VCF outputs from joint/batch have indexes

Older GATK versions did not produce tabix indexes with bgzipped VCFs.
Ensure they are always present. Thanks to @scatreux.",2016-03-18T17:58:02Z,chapmanb
4896317324609ba1130444472733df46f1163df1,roryk,rory.kirchner@gmail.com,Add single-cell RNA-seq specific configuration documentation.,2016-03-18T17:45:20Z,roryk
2edc99765f7e19aab29bc5c26b094c7862d778cc,roryk,rory.kirchner@gmail.com,Add -vardict to RNA-seq VCF files called with vardict.,2016-03-18T17:13:10Z,roryk
a429ae656489fc188436f7069ebe762b7c2e826f,Lorena Pantano,lorena.pantano@gmail.com,"Fix chip-seq steps in docs and improve template.

Thanks to @mistrm82",2016-03-18T16:47:35Z,lpantano
6185f0126b8b59bd59d0a7e16354f496b15b04d5,roryk,rory.kirchner@gmail.com,Add high-level overview of single-cell RNA-seq pipeline to documentation.,2016-03-18T16:35:20Z,roryk
778fddb997c821e80a3bef065677cfb7d1258560,roryk,rory.kirchner@gmail.com,Add support for CEL-seq for singlecell analysis.,2016-03-18T14:48:57Z,roryk
3285f64b33bf3a78951543a980b4e647092f3e43,chapmanb,chapmanb@50mail.com,"bowtie and bowtie2 follow standard practices

Migrate bowtie and bowtie2 to handle split input alignments, bgzipped
inputs, and produce sorted, de-duplicated BAM files. This allows use in
additional standard pipelines. Fixes #1274",2016-03-18T09:52:33Z,chapmanb
5b51b2b762e172fa9788086c60b968ee9e5b888a,chapmanb,chapmanb@50mail.com,Raise helpful error if genome_build not specified. Fixes #1277,2016-03-18T09:48:55Z,chapmanb
de2b180cd0f0f44dfc6fbf3053d974da03ac0d7e,Lorena Pantano,lorena.pantano@gmail.com,Update report creation for srna.,2016-03-17T19:02:26Z,lpantano
eeb642bf5548a2010a9ffaa3a40636715dc867d5,roryk,rory.kirchner@gmail.com,Update with blurb about fast RNA-seq and single-cell work.,2016-03-17T18:48:16Z,roryk
f34362eb7da2fa4b1557093a2a92e9f430a27248,roryk,rory.kirchner@gmail.com,"Abstract RapMap alignment and index creation.

Switch to using the quasiindex and quasimapping algorithms.",2016-03-17T18:40:33Z,roryk
473d3879eeabef1be6ada4d5cf9247055e38b908,roryk,rory.kirchner@gmail.com,Generatize RapMap index creation.,2016-03-17T16:46:45Z,roryk
309eab3b3a7b11a3319accb4faf5e1376e81144e,roryk,rory.kirchner@gmail.com,Call non-private create_combined_fasta function.,2016-03-17T16:46:45Z,roryk
fb121961fff61b6d0abdc7e4650f88cb5225f6ae,chapmanb,chapmanb@50mail.com,Sample configuration for DREAM synthetic 4 challenge validation (cc @scatreux),2016-03-17T16:26:38Z,chapmanb
98d0832ff4be38a7ace2f8fe23b385233f607e60,Lorena Pantano,lorena.pantano@gmail.com,"Add multiqc option to docummentation.

Fix new line.",2016-03-17T13:31:56Z,lpantano
f6f0ffa454b7537b854cf8b4bb7c4c8c5fed3258,chapmanb,chapmanb@50mail.com,"Validation and FreeBayes edge cases

Fix issues with problematic cyvcf parsing of validation files for ROC
values and FreeBayes outputs missing GLs.",2016-03-17T09:52:52Z,chapmanb
10543783e273ca3c04acc7ac72dae7fd3a589c24,roryk,rory.kirchner@gmail.com,"Add initial implementation of a single cell RNA-seq pipeline

Handles pulling cellular barcodes and UMI out of the reads and
aligning with RapMap using the umis repository:

https://github.com/vals/umis",2016-03-17T01:00:03Z,roryk
e5e0e083c68f84e3535297d7d743bc099251b194,Lorena Pantano,lorena.pantano@gmail.com,"Fix quality format value in bowtie1 #1273.

Thanks to @LMannarino @lbeltrame",2016-03-16T21:16:32Z,lpantano
8bc30e48a1084d34e0c775838590387e836899b7,chapmanb,chapmanb@50mail.com,"CWL: Move documentation into main

Migrate the CWL documentation to re-structured text and include with
other documentation for read the docs. Improve description and progress
of current integrations.",2016-03-16T13:30:38Z,chapmanb
fa6fd6b3b5a8505a6d810e3f0c46827374a9d5a8,Lorena Pantano,lorena.pantano@gmail.com,Fix header in combine.sf sailfish file. #1272. Thanks @schelhorn.,2016-03-15T14:37:02Z,lpantano
0a1ce99a486f290d3d925dcdfe5d1a6c61b7418f,Lorena Pantano,lorena.pantano@gmail.com,Get metrics before render report.,2016-03-15T14:28:40Z,lpantano
5709d77475edf14f8652bd84e96a5c26cb1ed547,Lorena Pantano,lorena.pantano@gmail.com,"Adapt log outputs to multiqc format.

Migrating to report all QC metrix with
multiqc: github.com/ewels/MultiQC

Update History.",2016-03-15T14:17:36Z,lpantano
58046905baef003272e9bb841894fae60900edb3,Lorena Pantano,lorena.pantano@gmail.com,"Simpler fastq merging fn.

Fix bug when only one fastq file.
It was link as GZ gile type, giving
an error downstream in bcbio.",2016-03-15T14:17:23Z,lpantano
e1b16e3d7fc0b9a72938dc8f520e36eebc66920c,chapmanb,chapmanb@50mail.com,CWL: Improve documentation for running on Arvados,2016-03-15T13:32:33Z,chapmanb
2dac347f7b5d037b2dc472b30ace5b97f5c6eea3,chapmanb,chapmanb@50mail.com,"CWL: Arvados Keep integration for files and refs

Document and finalize full process for running on Arvados with upload
of input and reference data in Keep stores. Provides a project-based
workflow with re-use of jobs and no-need for automatic uploading
as part of the run.",2016-03-15T09:33:46Z,chapmanb
7412fca28f8789c15d558a0b5718d3a9315f3dc7,roryk,rory.kirchner@gmail.com,Add missing fast RNA-seq test template.,2016-03-14T19:12:02Z,roryk
f1fc64c38827093a380aabd9c78b22600190b907,chapmanb,chapmanb@50mail.com,"Arvados CWL: Find Keep references in sample YAML

Fill in keep references in sample YAML files. Looks in configured
keep store for specified files missing locally.",2016-03-14T13:58:19Z,chapmanb
b4a98d31d1883d4efc064f85d2604c7a50c0d372,chapmanb,chapmanb@50mail.com,"indelcaller: Document and check only a single item

Add documentation and a check that indelcaller is a single value
to avoid confusing lack of output when specified as a list.
Thanks to @razZ0r. Fixes #992",2016-03-14T10:18:28Z,chapmanb
31874a99d590bc5f895f75e91919cb3d678d4ce1,chapmanb,chapmanb@50mail.com,"Arvados: integrated tools in template and CWL gen

Provide a generic mechanisms to inject integrated tools into template
creation and CWL generation without changing previous approach. Allows
bcbio-vm to include Arvados retrieval of files from Keep.",2016-03-14T10:00:00Z,chapmanb
5a903b4eaec018c4c99e963abeb3c6b155bb72c7,chapmanb,chapmanb@50mail.com,"CWL docs: pipeline diagram, conda, arvados support",2016-03-11T11:06:24Z,chapmanb
34f6904f8db6d11d8d87a24f1f5cd471541a3e57,Lorena Pantano,lorena.pantano@gmail.com,"Add multiqc as another tool to summarize qc metrics

Thanks to @guillermo-carrasco to discover it. Right now needs to be
in tools_on parameter to run. Will summarize bam files,
fastqc and qualimap.",2016-03-10T21:19:45Z,lpantano
1a83914bc17724cf2e0910d16e802047a2444356,chapmanb,chapmanb@50mail.com,"CWL: skip directories without defined indices

Avoids errors on genome resources and other directories using in bcbio
without explicit supported indices. Enables slow incoporation of
new index directories as files in CWL output. Thanks to @sguthrie",2016-03-10T10:54:31Z,chapmanb
b5957c9108e556711d466b51bd8d1629ae5d6624,chapmanb,chapmanb@50mail.com,"Avoid filtering small regions when merging BEDs

Enables calling on tiny regions while still avoiding initial error
with FreeBayes. Thanks to Tristan Lubinski and @mjafin",2016-03-10T10:52:10Z,chapmanb
a2f564d94cc212f5ae1200584e6067f663764314,chapmanb,chapmanb@50mail.com,"Do not remove qt: avoid conda recursive uninstall

Avoids removal of all packages that depend on qt (including bcbio)
as part of attempt to save space. Latest conda version recursively
uninstalls.",2016-03-09T19:43:48Z,chapmanb
ee18f80c8ad3a66f3297e70fd4ba4a4b6e133753,chapmanb,chapmanb@50mail.com,"CWL: maintain order of dictionaries in JSON output

To maintain a consistent order when serializing dictionaries for runs,
ensure json.dump has `sort_keys` set to True, and avoid use of
JSON.stringify in CWL. This enables better re-use of pipelines since
inputs will remain identical between runs. Thanks to @tetron.",2016-03-09T10:33:46Z,chapmanb
35a3b737c4833271ff96eba1f629fcd53bd0dce5,roryk,rory.kirchner@gmail.com,Add upload files for fast RNA-seq pipeline.,2016-03-09T02:30:31Z,roryk
cc391033ab23721003cc521fec3963cd8b3638a6,roryk,rory.kirchner@gmail.com,Use Salmon directly instead of rapmap + salmon.,2016-03-09T02:29:55Z,roryk
76d84bc039bd5296d1c43f03e40d7b226362f83a,roryk,rory.kirchner@gmail.com,Add bootstraps to Salmon.,2016-03-08T21:13:08Z,roryk
af761efdc4fdbcc3769272fbb363518ad9819ddb,roryk,rory.kirchner@gmail.com,Add support for Salmon.,2016-03-08T21:04:34Z,roryk
856be4de137f8da18cb75b2f6d380367907b76f1,roryk,rory.kirchner@gmail.com,Remove unused code.,2016-03-08T21:04:06Z,roryk
f926044ad618358394a3d297a0cae0b0fb2957b3,roryk,rory.kirchner@gmail.com,Add beginning of fast RNA-seq pipeline using RapMap and Salmon.,2016-03-08T19:56:52Z,roryk
7ae399f38a68fb7b10f94e5e8c6ded64f9973f5f,roryk,rory.kirchner@gmail.com,Fix for not generating bootstraps for single-end samples.,2016-03-08T16:08:27Z,roryk
a8ad4f80247486ec5a09c4d5f8d48124b13fb46f,chapmanb,chapmanb@50mail.com,"CWL: correctly specify files in rtg directories

CWL needs explicit paths to files not directories, so the loose
definition of rtg indexes by specifying directories did not work
when moving to arvados-cwl-runner. We now explicitly specify rtg files
using `mainIndex` and associated files as `secondaryFiles`.",2016-03-08T14:49:57Z,chapmanb
9ac2eb96ea237dfe0a7cca66fb712aedbb814f14,chapmanb,chapmanb@50mail.com,"SNAP aligner: paired reads with spaces in names

SNAP takes the first part of read names with spaces, removing the
trailing /1 /2 paired specifiers and causing interleaved fastq
reading to fail. Uses awk to fix this. Also pushes streamed reads
into sponge buffer to avoid stream buffering issues where SNAP only
inputs part of a line and fails.",2016-03-08T10:23:24Z,chapmanb
99e83f01f5a7f26644f2f228414798a304301f00,roryk,rory.kirchner@gmail.com,"Always realign to disambiguate the transcriptome file.

Fixes #1171.",2016-03-08T05:37:47Z,roryk
8b7b160a0bab0a70a0e3f5f9a2965eb0660df665,chapmanb,chapmanb@50mail.com,Avoid HGVS errors with snpEff 4.2 and manta. Fixes #1205,2016-03-07T19:03:59Z,chapmanb
e2b5cbf2346b36347932543ce25f3ead17c3e12f,chapmanb,chapmanb@50mail.com,"Only use confg tempdir at top level for local runs

When running on cluster systems avoid setting tempdir to the configured
temporary directory, which might only exist on compute nodes.
Fixes #1262",2016-03-07T15:19:06Z,chapmanb
081848e8d13850df075e56aab0f08cff7f2613d1,chapmanb,chapmanb@50mail.com,FreeBayes: ensure genotype quality (GQ) always present. Thanks to @mjafin,2016-03-07T15:18:21Z,chapmanb
e747767c092292f1481880bc8486a3d45ead9ec2,chapmanb,chapmanb@50mail.com,"FreeBayes: adjust post-filters to support gVCF

Initial work on supporting gVCF output from FreeBayes (#1134). Avoids
filtering reference outputs which get a QUAL of 0 in output. Removes
use of vcffilter and replace with bcftools.",2016-03-06T10:54:15Z,chapmanb
94294ff97f0d75280dccd1af9eb0ca4cb33cd6e0,chapmanb,chapmanb@50mail.com,Skip snpEff database if snpEff not installed,2016-03-04T15:27:03Z,chapmanb
160dc292da059794f0d9585e32d657f51274df76,chapmanb,chapmanb@50mail.com,rtg vcfeval: ensure enough memory used and scale by cores available,2016-03-04T11:46:48Z,chapmanb
c629e18f18fc00ee5e289c7becf6e472f37ed7fe,chapmanb,chapmanb@50mail.com,"Use new ANN annotations with snpEff

GEMINI now supports ANN, so replace all usage of the older EFF
annotations.",2016-03-04T10:38:07Z,chapmanb
4ed26001ec91ae9862fe12f8b0bcf1c04377cb5a,chapmanb,chapmanb@50mail.com,"Retrieve data versions from non-standard installs

When galaxy paths in bcbio point to non-automated locations we were
not correctly retrieving the data version files and getting errors.
This pulls from the specified locations and provides clean skipping
if files not found. Thanks to @mjafin",2016-03-03T10:20:55Z,chapmanb
8b6c02d17ed3fc9d99c6afd6ec95a657c8f33cee,chapmanb,chapmanb@50mail.com,Avoid unicode issues with input BED files. Fixes #1247,2016-03-03T01:50:12Z,chapmanb
e4d4d697f183c52fd46d43ea240fbbb9e9d93918,Lorena Pantano,lorena.pantano@gmail.com,"Make sure to give an integer to ipythoncluster

Mainly pipeline affected for now chipseq.
I need to reduce the number of jobs to half of the samples,
so will divide by a float and need to convert to integer after
that.",2016-03-02T22:05:09Z,lpantano
b93b054da81cb95243144bb0273ea07a3720c58c,Lorena Pantano,lorena.pantano@gmail.com,"Check if priority file exists. Thanks to @xbioinfo,@roryk

The right way should be to check if this is a folder
and there are bed files inside and merge all of them
before do the priority coverage. This is a quick fix.",2016-03-02T20:24:08Z,lpantano
993045f6984ce4f25348ce65deb5a5575b6f7588,Lorena Pantano,lorena.pantano@gmail.com,Pass number of jobs as integer in chipseq pipeline.,2016-03-02T17:31:37Z,lpantano
8327189889b85c9367898d24b846a9b45caf6f06,chapmanb,chapmanb@50mail.com,"Finalize and document support for MuTect2

- Cleans up MuTect2 output to include sample names.
- Handle detection of tumor LOD (TLOD) INFO scores for ROC plots during
  validation.
- Supports extraction of germline variants without failures (although
  MuTect2 reports minimal germline variants).
- Validation against the DREAM synthetic 4 dataset (http://imgur.com/CLqJlNF)

Thanks to Alessandro (@apastore). Fixes #1214",2016-03-02T14:24:34Z,chapmanb
a2381a98f7943b6a1d3a94c03b9aef938b4e48ed,chapmanb,chapmanb@50mail.com,"Avoid extra symlinks when not using phasing

Phasing use is uncommon so we check for it and avoid an extra step of
symlinks to simplify variant output.",2016-03-02T14:21:54Z,chapmanb
d100a88bd9363269ec8d11f999b3b37ab5590d2d,roryk,rory.kirchner@gmail.com,Be a good pserson and only import what we need from fabric.,2016-03-01T21:21:34Z,roryk
fd214c7c9350319440633cd167924845dd87c8ea,roryk,rory.kirchner@gmail.com,"Add --cores option to bcbio_nextgen upgrade.

This lets indexers take multiple cores if the index has to be
created instead of downloaded.",2016-03-01T21:15:49Z,roryk
3d154d8a6350ff023fdf759a1fceb3fa2dca734f,chapmanb,chapmanb@50mail.com,"Use sample description for BAM read group IDs

Replace using lane index numbers to create unique RG IDs to allow
re-analysis of alignment files from bcbio in different contexts.
After testing on WGS samples, does not inflate BAM size nor have a
noticeable effect on variant calling speed when decompressing. Fixes #1198",2016-03-01T14:14:03Z,chapmanb
ffd7ad3f202751433b5dba73aa45b6b82581ab23,chapmanb,chapmanb@50mail.com,"Limit ploidyfix to female-only batches

ploidyfix now only removes chromosome Y on batches with all female
samples. This avoids confusion and extra work when present in
non-gender specified inputs.",2016-03-01T11:15:15Z,chapmanb
3ea80af5461b0a4b5ca19423703f3dcaf6fdf966,chapmanb,chapmanb@50mail.com,"Skip prep when gzip inputs need no processing

Avoids doing bgzip of inputs when files are fastq gzipped and do not
require splitting or format conversion. This saves disk space and
processing time when everything is pre-prepared. Thanks to @mjafin.",2016-03-01T10:03:58Z,chapmanb
77f9a4ca3a915b86a52a9a7666e07f837b743c54,Lorena,lorena.pantano@gmail.com,Use full path for sambamba in coverage.,2016-02-29T20:43:27Z,lpantano
c5b2ccde818bde8b97aa8d903e2da7a002bde613,chapmanb,chapmanb@50mail.com,"Use sample description for alignment file names

Uses `description` instead of lane flowcell information to name
work directory alignment inputs. This makes re-runs more stable
when using template since fc_name information can change. Written
to be back-compatible with re-runs on older work directories.",2016-02-29T18:26:23Z,chapmanb
5169c47c561d1278f16d4744ccec7cb025770c3f,chapmanb,chapmanb@50mail.com,Battenberg: correctly retrieve ignore file on re-runs,2016-02-29T15:25:06Z,chapmanb
a18165bf3f2cdac974b06871779f223e462135c2,chapmanb,chapmanb@50mail.com,"Include data versions in final outputs

Prepare `data_versions.csv` which contains version information for all
databases installed by GGD recipes. Complements `programs.txt` file
with versions of programs used.",2016-02-29T11:07:03Z,chapmanb
75a707624d79545f3bba873f16d7c3db944efece,chapmanb,chapmanb@50mail.com,Handle plotting of samples with single metrics or variant types and groups. Thanks to @ohofmann,2016-02-28T20:14:31Z,chapmanb
85dbbbca2066f16898b667de4910d8060b246974,chapmanb,chapmanb@50mail.com,"CWL: update to a variant based pipeline for tests

Removes some steps (QC, HLA typing) for an initial focus around
a variant calling and validation workflow.",2016-02-28T10:30:19Z,chapmanb
d17540b37ea7489c3b10f4d30fd4a405161eb6fd,chapmanb,chapmanb@50mail.com,Install: Do not check certificate to avoid Miniconda download issues,2016-02-27T20:35:55Z,chapmanb
922f4c439042678b2ce5778c3ccb721d712dbab1,chapmanb,chapmanb@50mail.com,"CWL: support SNAP alignment in bcbio/CWL runs

Enable arbitrary aligner inputs to CWL specifications, allowing use
of aligners other than bwa. Test and support SNAP in CWL.

Allow optional keywords to avoid errors if coverage or variant_regions
not present in the CWL.",2016-02-27T10:33:48Z,chapmanb
9dae3af44a076a0fd81f699295b716d008a7c9c6,chapmanb,chapmanb@50mail.com,"Bring SNAP aligner integration up to date

Integrate with new installed SNAP (now called snap-aligner) and
implement general piping into snap. This now supports split alignments
by piping grabix input to snap-aligner directly. Output post-processing
is also done by piping into external tools.",2016-02-26T11:18:19Z,chapmanb
e9975180f38a1eda0236886566ad4027575e903f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1246 from apastore/patch-2

fix the  No such file or directory error",2016-02-26T11:03:31Z,chapmanb
dc8d4772f42e4424616683f78cc628ca9b266a43,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1245 from apastore/patch-1

bioconda for private bcbio installation",2016-02-26T10:53:29Z,chapmanb
9a9b3af114cb34a64cc47cf75cd0139f5fd1b10e,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1244 from bcosc/master

Typo in Multiple files per sample parameters list",2016-02-26T10:52:50Z,chapmanb
1717085f49d78ed38fd035db80ee57f721673370,apastore,alessandro.pastore@gmail.com,"fix the  No such file or directory error 

install a local / private bcbio run in No such file or directory error (e.g.
 /bin/bash: bcbio/anaconda/envs/bioconda/bin/cutadapt: No such file or directory)",2016-02-26T00:28:42Z,apastore
56f9489ce78c03b64a1f3633b5cd6d4b2a004b68,Bryan Cosca,bcosc@curoverse.com,Typo in Multiple files per sample parameters list,2016-02-25T16:44:52Z,bcosc
a08ee09f53bca9db85a6ad7395be9314a213a7d9,apastore,alessandro.pastore@gmail.com,bioconda for private bcbio installation,2016-02-25T15:59:24Z,apastore
2e36feae95fb2248fa88d8a7c9d645c074efa89d,chapmanb,chapmanb@50mail.com,"CWL: support variant validation

Adds the ability to compare variant calls to truth sets using rtg
vcfeval. Handles defining and linking in rtg indices as well as
fixing edge cases regarding region specification.",2016-02-25T10:55:29Z,chapmanb
b44e561e8d65fc869679498df8669595373c1e77,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1240 from mjafin/patch-4

Ignore AS tag if not present",2016-02-24T10:31:33Z,chapmanb
973a511a693e0d6e9ac81ca7b490dd92cf897f0f,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Ignore AS tag if not present

Symptom of bwakit on ALT alignments",2016-02-23T16:39:17Z,mjafin
571538e0b59b3ad059b0561da48d711680b1943e,Lorena,lorena.pantano@gmail.com,"Force make trimmed directory. Thanks @lbeltrame.

It seems that if the temporary
directory is defined, it could lead
to error during trimming since the
trimmed directory will be created
only for file_transaction.",2016-02-23T15:11:51Z,lpantano
d88af1d502b4357928d4a0ed0c2c440f310b4f4e,chapmanb,chapmanb@50mail.com,"Add and document --datatarget option for data sets

Provide a single entry point, `--datatarget` for installing data
sub-sets or larger data files. This replaces partial support for this
in `--toolplus`. We now prefer GGD recipes for install of data and
data installs work by adjusting these annotations.

VEP is no longer installed by default to avoid long cache preparation
times for human samples. Enables installation of battenberg data
targets.",2016-02-23T14:09:23Z,chapmanb
ab96356762ec1037560af9ceb38ce4dd10b38c85,Lorena Pantano,lorena.pantano@gmail.com,Fix names for miRNA count file in final folder.,2016-02-22T19:25:15Z,lpantano
d6931fabbc8fa5e172a139de23dbf21e3675d159,chapmanb,chapmanb@50mail.com,"Skip alt and smaller contigs on scalpel

Scalpel appears to have problems with reference resolution on smaller
contigs. The avoids calling on them to work around the issue.
Fixes #1237

Unset PERL5LIB to avoid pulling in external libraries built with
different perl (#1194)",2016-02-22T16:34:11Z,chapmanb
489c3753f239c58f43ddf5ceecd91168cb7b5642,Lorena,lorena.pantano@gmail.com,"Print warning if sample in CSV hasn't any file. Thanks @lbeltrame.

During configuration it can happen that a sample
in the CSV file isn't present in any files
given to bcbio. Now we print a warning. Related issue #1079",2016-02-19T20:17:26Z,lpantano
4a4c30862113d648d5d7322b750218d057993a1c,Lorena Pantano,lorena.pantano@gmail.com,Fix multiplier for chipseq calling. Thanks to @mistrm8,2016-02-19T17:01:18Z,lpantano
f98dec603f50b1a5dcfe352d5d41facc6a95aebc,chapmanb,chapmanb@50mail.com,"CWL: update documentation, include sample tarball

Document latest improvements for variant calling and improve running
and generating documentation to make CWL bcbio easier to test with a
self-contained download.",2016-02-18T15:52:03Z,chapmanb
90980dae2fcbf088520993fc242be3f3c151bab4,chapmanb,chapmanb@50mail.com,Fix TravisCI failure: samples without variant_regions,2016-02-18T11:12:11Z,chapmanb
bc2bf724be224f13a402de9dd2f560781d967eb4,chapmanb,chapmanb@50mail.com,"CWL: filtering and post-processing of variants

Provides post-merge processing of variant calls, including filtering.
We do not yet support snpEff annotation -- requires
annotation files to get passed through CWL.

Required changes to cyvcf2 output writing since the Writer segfaults
in the Docker container (but not outside of Docker, so difficult to
diagnose).",2016-02-18T10:43:59Z,chapmanb
d08d661f15275e84974b0d064301c9efaa81ed1f,chapmanb,chapmanb@50mail.com,"Update genome resources of Arabidopsis and Yeast

Point to correct new snpEff databases in v4.2. Fixes #1228",2016-02-17T11:04:59Z,chapmanb
c3c6b780ac87c6f5efd0755c1d0426f922bc16a2,chapmanb,chapmanb@50mail.com,"CWL: merge parallel variant call runs into VCF

Handles post-merging of a split parallel run into a single VCF
to pass to downstream annotation, filtering and validation. Requires
flexible ways of combining samples when we have a mix of data objects
and parallel parts (ie. a tumor/normal sample plus multiple regions with
VCFs). Initial work started on post-concatenation filtering.",2016-02-17T10:39:18Z,chapmanb
487d30b365bc4234c65170647676151d1293b5d8,roryk,rory.kirchner@gmail.com,"Search for oncofuse executable instead of the JAR.

Fixes #1227. Thanks to @sluke123 for posting about the issue.",2016-02-16T14:29:02Z,roryk
3532fb666aa011dd2cbdae1e75044c627dfb2b2e,chapmanb,chapmanb@50mail.com,"Enable specification of normal-only runs

Avoid not passing along variant files to final directory when
only normal phenotype in a batch. Thanks to @ohofmann",2016-02-15T11:32:48Z,chapmanb
faddda3401d6e1f85feca3815ce52070694202d1,chapmanb,chapmanb@50mail.com,"CWL: Parallel variant calling by region

Support parallel calls within a sample batch and parallel region
in sub-workflows. Correctly assign .fai and .dict indices as
secondaryFiles for fasta reference so they are present during
calling.",2016-02-15T10:37:42Z,chapmanb
73b19a2e621fe07a8328dd67c9af0c36bca6a05a,chapmanb,chapmanb@50mail.com,Bump version used in Docker container,2016-02-14T11:07:42Z,chapmanb
bc8a35f61b9697f2c0b12b2930d5b4c6c671275a,chapmanb,chapmanb@50mail.com,"Lazy import of matplotlib libraries

Adds LazyImport mechanisms from NIPY and uses it to avoid loading
matplotlib modules until needed. This avoids the matplotlib startup
overhead and warning messages when not using matplotlib. Large
scale lazy import schemes like demandimport were not compatible
with matplotlib and caused confusing import errors. This comment
also makes me nervous: https://github.com/rgaete/puml/blob/3ce3af362482dce217a1bce791802b75462567c6/doc/misc/hg_extensions/hgactivity-2.0/activity/__init__.py#L36
Fixes #668",2016-02-14T10:53:29Z,chapmanb
80ec3ea525bc17078d4e0281171026a6a68af8cf,chapmanb,chapmanb@50mail.com,"Perl install issues: avoid setting PERL5LIB

Do not try to set PERL5LIB since Perl installs are now handled by
conda. This avoids injecting Perl libraries compiled with different
compilers, causing `undefined symbol: Perl_Istack_sp_ptr` errors.",2016-02-13T10:49:49Z,chapmanb
3a8e81ba206ad52f15c75194bb50b8b17836f837,chapmanb,chapmanb@50mail.com,"CWL: update to match changes to prep_samples

prep_samples now requires fasta information to check BED file inputs.",2016-02-13T10:12:36Z,chapmanb
478cfc2675fa6107cb477f821cc42c51354c6ace,chapmanb,chapmanb@50mail.com,"Download CloudBioLinux with tarball instead of git

Tries to avoid git clone errors. Thanks to Ivan De Dios",2016-02-13T10:11:06Z,chapmanb
98b274f022b5dffb85fece32e5e728b59d3a697c,chapmanb,chapmanb@50mail.com,v0.9.6 release,2016-02-12T10:41:56Z,chapmanb
8cfbc4e4d1771282fe37c900599ab608f1cda644,chapmanb,chapmanb@50mail.com,"Correctly specify BED file for Platypus

Fix bug where we weren't correctly specifying BED regions since
latest Platypus version 0.8.1 skips over files not ending with"".txt"" or
"".bed"". Fixes #1223",2016-02-11T18:37:04Z,chapmanb
2f68cede3e4b7a8f3bf478fd8b589b09ed82f4d2,chapmanb,chapmanb@50mail.com,"Add check for BED mismatches with reference genome

Explicitly checks for BED file contigs that aren't found in the
reference genome, raising a helpful error. Meant to avoid confusing
downstream problems. Fixes #1224",2016-02-11T18:13:36Z,chapmanb
84bb3a33725d80323583c4080a1b60c82cd390b3,chapmanb,chapmanb@50mail.com,"CWL: batching of variant calls by callable regions

With fixes to cwltool (common-workflow-language/cwltool#40) we can
rearrange files into batches. Allows setup for variant calling by
passing callable region files and using this to split variant calls.",2016-02-11T16:02:57Z,chapmanb
7c3392044b280f04073e51ddd3ea2d856e4a8991,Lorena,lorena.pantano@gmail.com,Use full BAM for qsignature_full. Thanks @ohofmann.,2016-02-11T14:04:33Z,lpantano
539d98f51332ae2dad7d7b60d3f98e2159368643,Lorena Pantano,lorena.pantano@gmail.com,Add script for genebank conversion to FASTA and GTF.,2016-02-10T19:50:01Z,lpantano
25af8f4e329a414341401da5c3fc1274f5998acb,chapmanb,chapmanb@50mail.com,"CWL: process batched inputs in parallel

Takes batched inputs into a sub-workflow individually as a first
step for parallelization. Does not yet handle a real run as we
need to fix issues with file
passing (common-workflow-language/cwltool#36) to allow BAMs and
alignment regions as inputs to the record.",2016-02-10T10:10:38Z,chapmanb
7fa971fa25db23670e5fb93c719c4890e04b62d1,Lorena,lorena.pantano@gmail.com,Add seqcluster report to final directory.,2016-02-09T19:43:13Z,lpantano
97194718be22ff2da6170ca8a484f46d46379039,Lorena,lorena.pantano@gmail.com,Fix logic to do novel miRNA quantification,2016-02-09T19:36:38Z,lpantano
3dec798ba145de0fef00dc923cab8cd195fe63b6,Lorena,lorena.pantano@gmail.com,Add strand parameter to qualimap. Thanks to @zahrahaider,2016-02-09T19:01:58Z,lpantano
d678ee28db4061c376d7e0114dadb56d6a576563,roryk,rory.kirchner@gmail.com,Remove unused imports.,2016-02-09T16:36:31Z,roryk
31563d2f60075e592c4d9558273453c76996798a,roryk,rory.kirchner@gmail.com,"Search for the picard executable, not the directory.

Closes #1218.

Thanks to @parlar and @TakashiKoyama for posting about the issue.",2016-02-09T16:34:54Z,roryk
f68ed497875065c47e7ee8734e699511a58a6de2,Lorena,lorena.pantano@gmail.com,Use conda perl for mirdeep2,2016-02-09T15:51:22Z,lpantano
7b23266a0314f28a72748be1139ede26713f0d80,Lorena,lorena.pantano@gmail.com,Give better names to srnaseq annotation files.,2016-02-08T16:52:42Z,lpantano
6c3c062011f249c34c5c2e832254a038cc23517e,chapmanb,chapmanb@50mail.com,"Battenberg: add gender information to script call

Initial work on synchronizing Battenberg with latest release. Includes
passing gender information to script which is now required.",2016-02-08T10:34:46Z,chapmanb
52ac6852cad55a93cd88d72369dc722e0ab9881b,chapmanb,chapmanb@50mail.com,Update snpEff database references for version 4.2,2016-02-07T10:56:21Z,chapmanb
5e62c6b449cb20df84cfe587892afe2646971801,chapmanb,chapmanb@50mail.com,"CWL: batch into records for variant calling

Initial steps towards support of variant calling. Add
`batch_for_variantcall` which takes all samples and groups into
batches (populations, tumor/normal) in preparation for variant
analysis. We represent batches as a CWL record with each key having
multiple values for the samples within a batch. Each record can be
independently processed by a sub-workflow for parallelization.",2016-02-06T10:37:33Z,chapmanb
c4fa92e74f2b9d7a43d13b3b08175f2aebb698fe,Lorena,lorena.pantano@gmail.com,Skip miRNA analysis if there is no annotation.,2016-02-05T21:55:00Z,lpantano
41f0c6b2a2a4c695ff786041b0c7c60691e139f7,Lorena Pantano,lorena.pantano@gmail.com,Allow mirdeep2 run if there is no known mirnas.,2016-02-05T21:50:33Z,lpantano
427919498e03e65962106f3437e73290248c60fc,Lorena Pantano,lorena.pantano@gmail.com,Fix when to remove header from sailfish file.,2016-02-04T22:01:26Z,lpantano
0a911c60ae0f7d9961e423972d7b5c6667d8f3f9,Lorena Pantano,lorena.pantano@gmail.com,Quantify rRNA from sailfish to get information from multi-mapped reads.,2016-02-04T22:00:13Z,lpantano
ede01bdd095e222e4fed374fff7902eb6c37db90,Lorena Pantano,lorena.pantano@gmail.com,Fix combined.sf to have only one header. Convert to int TPMs values.,2016-02-04T21:43:50Z,lpantano
f18f71f234cfbd1db64cf770324f634e9919afbb,roryk,rory.kirchner@gmail.com,"Quantitate rRNA using the Sailfish counts.

Thanks to @lpantano for pointing out this would be better.",2016-02-04T16:29:58Z,roryk
e5e136b2c1ed206c25aed3af7e7d2da7ee921805,roryk,rory.kirchner@gmail.com,Remove extra header row from tidy Sailfish output.,2016-02-04T16:06:49Z,roryk
ca773c6280d101d5ce4c31eb3258314e5cd39035,Lorena Pantano,lorena.pantano@gmail.com,Fix tRNA reference file path for sRNAseq.,2016-02-04T15:54:28Z,lpantano
5ec1aeed0bf8e90cb38f20983dfdc08bdf9fc865,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1212 from apastore/master

Master",2016-02-04T14:29:51Z,chapmanb
7e21581c6ce898aae62a552ac658ff095a5c92c6,chapmanb,chapmanb@50mail.com,"CWL: Specify resource usage for tools

- Pull resource requests from bcbio_system.yaml file and put
  ResourceRequirement in CWL specification.
- Pass runtime information from CWL to bcbio to make use of
  multiple cores and set memory based on system.
- Other misc updates: docs for cloud installation with bioconda
  and bump tests to require snpEff 4.2 databases.",2016-02-04T10:48:17Z,chapmanb
b1a1aeb61a490bb3acf88ee8e09c92a425b81e9a,Lorena,lorena.pantano@gmail.com,Skip mirbase annoation if not available.,2016-02-03T20:29:05Z,lpantano
ff320b99dc8aebc18562ffae9bdbab968b03ee5c,chapmanb,chapmanb@50mail.com,"Add global CNVkit scatter plot.

- Allows comparison of CNVkit output to other tools.
- Also fix file check issue on re-runs of priority coverage calculations.",2016-02-03T20:24:36Z,chapmanb
47a8736530850063560ec2b22237130d3e513483,apastore,alessandro@alexbook.local,"mutect2 fix

fix cosmic and missing _sample_name in MuTect2",2016-02-03T17:23:09Z,N/A
f09d5baf79fea109b34227188ab65b0fe27598ea,apastore,alessandro@alexbook.local,Merge remote-tracking branch 'chapmanb/master',2016-02-03T16:41:43Z,N/A
467f5aabd69cc4f66d86d4a838545a1e45254c3a,Lorena,lorena.pantano@gmail.com,"Add sample name to trimmed file.

If files have the same name, but in different paths
it will get all the same name inside trimming folder.
It happens if same sample was sequenced many times
and you are lazy like me to change the names.",2016-02-03T16:24:28Z,lpantano
fb3bbf4602167ef13348075d3238153c1be8836c,chapmanb,chapmanb@50mail.com,Tag variants decomposed with vcfallelicprimitives. Fixes #1209,2016-02-03T10:29:12Z,chapmanb
247d8a2d7d35ece9d3fcfed8755fa3ead04d0484,chapmanb,chapmanb@50mail.com,Handle bed.gz files as input to coverage calculations. Thanks to @ohofmann,2016-02-02T23:15:08Z,chapmanb
b66a485e0d772957bcee33ebefdde8ad77bbcbf4,roryk,rory.kirchner@gmail.com,Remove cruft from RNA-seq directory.,2016-02-02T15:58:41Z,roryk
cd70881a8804d4b0654275eb0bf8d27527504853,Lorena,lorena.pantano@gmail.com,Fix qsignature_full. Thanks to @ohofmann.,2016-02-02T12:46:25Z,lpantano
455b889fa76e8210afd6009232513f8c378ea2b9,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1206 from brainstorm/master

Better looking collectl plots. Fix Y axis for network plots to easily compare.",2016-02-02T11:22:17Z,chapmanb
0c46a672773e0b777b69a5a4f223882ac27b3ab1,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1207 from apastore/master

mutect2",2016-02-02T11:20:51Z,chapmanb
ea1ff1cdc803f39ff322ba2749ae8ae3a7663c3d,apastore,alessandro@alexbook.local,Merge remote-tracking branch 'chapmanb/master',2016-02-01T22:50:41Z,N/A
ff6ba72db8f527c816ceede9fd15581ce4adb3e6,Roman Valls Guimera,brainstorm@nopcode.org,"No grey background for plots, fixed Y axis to 2000 to reflect VarScan network spikes over the others. Thanks @chapmanb",2016-02-01T21:39:36Z,brainstorm
fb260a08a16e48ea2c5a1005ff931e6acc9e3fb4,chapmanb,chapmanb@50mail.com,"CNVkit plotting: create priority BED locally

Avoid trying to create priority BED for CNVkit scatter plotting
in original system directory. Thanks to @ohofmann",2016-02-01T18:53:07Z,chapmanb
654b695e105cc37ef1d803ee653be0c11edd4360,apastore,alessandro@alexbook.local,"mutect2

variation fix",2016-02-01T17:55:36Z,N/A
a07ad6bdd5236157b59f59ad07c905e2ad534f48,apastore,alessandro@alexbook.local,"mutect2

add Mutect 2 support to bcbio variation2",2016-02-01T17:23:25Z,N/A
81e67d1c536049935a8fcaea96e878bf8e7ddd9f,Lorena,lorena.pantano@gmail.com,Use bcbio perl for tRNA mapping.,2016-02-01T16:29:27Z,lpantano
b9883b23c6eca275d2feaec8a030d6305b5ae8fc,Roman Valls Guimera,brainstorm@nopcode.org,"Pimp up the collectl plots a bit, fix Y axis for network plots for easy comparison. Thanks to @lpantano for the matplotlib datetime fix.",2016-02-01T16:13:30Z,brainstorm
fcdaeaea02663d5048835affc7cd1a6a88d1c91c,chapmanb,chapmanb@50mail.com,"Docs: improve description of code development

Describe using bcbio_python, installing within current anaconda
directory and submitting pull requests #1203",2016-01-31T20:02:17Z,chapmanb
2f6cf331aa33f0d0059e81db814b8cd5aced74c7,chapmanb,chapmanb@50mail.com,"install: avoid certificate check with wget

Avoids errors on older wget versions that can't follow github
certificate redirects",2016-01-29T11:05:51Z,chapmanb
9658a7b7b0282e0083d20ef77cc53553cb11d9ef,Lorena,lorena.pantano@gmail.com,Better input file checks in bcbio_prepare_samples.py,2016-01-28T23:47:36Z,lpantano
e88b81fb8ef5fa0d8f127b32a549594ae0da2740,chapmanb,chapmanb@50mail.com,"Pindel: update to parameters in Pindel-C paper

Exact parameters not reported, but add the -C option and
report additional events within the size range:
http://www.nature.com/nm/journal/vaop/ncurrent/full/nm.4002.html",2016-01-28T16:38:16Z,chapmanb
2435617e70c0b80b2c5bf91d78a00a67b40bae65,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1204 from brainstorm/graph_serialize_doc

Reverse order of xaxis and calculate deltas accordingly.",2016-01-28T11:16:52Z,chapmanb
1544733f764e0a891db8954be0abedf39843aac5,chapmanb,chapmanb@50mail.com,"CWL: re-enable quality control analysis

Updates QC steps with new parallelization approach. Now have entire
previously working pipeline functional with generalized inputs.",2016-01-28T10:44:10Z,chapmanb
494f312a11cfb8ac10320954539be2d65cc06a9c,Roman Valls Guimera,brainstorm@nopcode.org,Reverse order of xaxis and calculate deltas accordingly. Thanks @guillermo-carrasco,2016-01-27T21:21:37Z,brainstorm
bebb929082aa5402fd73259f10ac5e86df7a5811,chapmanb,chapmanb@50mail.com,"Unify priority regions and fix CNVkit BED output

- Only use svprioritize for priority regions instead of the undocumented
  priority_regions. Avoids two duplicated confusing options.
- Move svprioritize regions to CNVkit plots.
- Avoid outputs of BED and BEDgraph cnr plots for CNVkit which are
  not used and provide confusion compared to calls.

Thanks to @ohofmann for suggestions.",2016-01-27T14:33:26Z,chapmanb
c19a7196bca296a8087164a8e075807b39fabdd4,chapmanb,chapmanb@50mail.com,"CWL: re-enable all sample analysis for callability

Allow combining all samples for calculations of cross-sample
callability. Improves approach we take for defining location of
input binding to be more understandable.",2016-01-27T10:47:58Z,chapmanb
e845d1e91894773a9f2a67167ac7a7f36c1e514d,chapmanb,chapmanb@50mail.com,Improve sanity check for matching sample/population VCFs. Thanks to @rkhetani,2016-01-26T13:47:08Z,chapmanb
bd11ea40f21237f0db35bfb39ee6ec239d2b4507,chapmanb,chapmanb@50mail.com,"CWL: simplify specification of parallel regions

Current tuple of input/output/baseline was too confusing and obscuring
commands that were happening. Trying to simplify this by having a
single name and then having the generation of CWL and processing
operate on these.",2016-01-26T11:32:45Z,chapmanb
15cbe66083a563b0d28c5e9ffe23dc446d088a0d,chapmanb,chapmanb@50mail.com,"Skip validation if input file is empty

RTG can fail on totally empty input files. Fixes #1183",2016-01-26T11:03:55Z,chapmanb
31238ec389d5ce8dfc228c873da35c7f8ff0f24e,chapmanb,chapmanb@50mail.com,"VarScan: avoid failures with empty mpileup

mpileups would trigger a silent failure from grep, resulting in
failed jobs without any error messages. Add ifne check in front
to avoid this and continue. Fixes #1199",2016-01-26T10:52:22Z,chapmanb
2e88a91f9c0a71a490dcfb040836d9ea2f44ba33,Lorena Pantano,lorena.pantano@gmail.com,"Fix checking trim_reads parameter

functions in datadict will look for trim_reads
under config:algorithm:trim_reads, but at the
point is checked here the parameters are directly
under algorithm:trim_reads, so every time was
skipping the trimming step.",2016-01-25T20:01:32Z,lpantano
7ed41be577c3e720d89c26b6d2e7d850d8ed4848,chapmanb,chapmanb@50mail.com,"Avoid validation errors with empty VCF inputs

Skips checking for ROC quality metrics if fail is empty due to pysam
errors. Fixes #1183",2016-01-25T15:19:52Z,chapmanb
884da40fd24604670b9fd3794d878e1bd6f5eb68,Rory Kirchner,rory.kirchner@gmail.com,Update README.rst,2016-01-25T14:47:30Z,roryk
ebf037528cd858b27125e66b0b7e8ebdad034a7c,Rory Kirchner,rory.kirchner@gmail.com,Add Vlad Saveliev to contributors.,2016-01-25T14:47:07Z,roryk
bdef8ae37c9c58e6fe4cf21f796f1368c437a76c,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1201 from vladsaveliev/patch-1

Fix fastq downsampling.",2016-01-25T14:44:17Z,roryk
094eeda94d7679dc34e08fd89353684e885583f8,vladsaveliev,vladsaveliev@me.com,"Fix fastq downsampling.

If the first element of rand_records is high, there is a chance that it will move to the end in the first iteration of the while loop, and write only 1 read. The rest N-1 readlines will return an empty line.",2016-01-25T14:29:13Z,N/A
8c35f5362b73e498501a911f22012de51cbf6a26,chapmanb,chapmanb@50mail.com,"CWL: re-add callability and HLA typing

Add sample-based parallelization following split alignment, re-enables
functionality temporarily removed while working on sub-workflows.",2016-01-24T11:07:47Z,chapmanb
a83f5a5f0fdb1041df03b321db0f8fcde5b17539,roryk,rory.kirchner@gmail.com,"Produce tx2genes.csv file.

This is part of switching over to running only Sailfish by
default and skipping alignment.

tx2genes.csv is used to create gene-level summaries of
the transcript-level counts.",2016-01-24T02:12:20Z,roryk
c60ef87c94acbe40d1fcbf41acad4be09622b4e5,chapmanb,chapmanb@50mail.com,Update CWL documentation with latest changes,2016-01-23T11:04:10Z,chapmanb
35ca0e7a2b03e6addc58e25fab810bf1b4354e02,chapmanb,chapmanb@50mail.com,"CWL: fully functional parallel split alignment

Split workflow manages taking an individual sample, indexing input
files, splitting into chunks, aligning chunks in parallel, then
merging back into a single sample.",2016-01-23T10:23:06Z,chapmanb
48dcbc1072b55f064733e84d822bae56acd2b8a9,roryk,rory.kirchner@gmail.com,Delete unused complexity function and unused import.,2016-01-23T03:16:56Z,roryk
7e956753864ee161b51b604a118faa88709efe9e,chapmanb,chapmanb@50mail.com,Provide better debugging on failed VCF file parsing #1183,2016-01-22T20:32:38Z,chapmanb
52156f1aa6167b870e4387d1976efbd104d2c30c,chapmanb,chapmanb@50mail.com,"CWL: add BAM merging to alignment split

Handles merging of BAM and HLA fastq files from a CWL sub-workflow
splitting samples. Needs a bit of work to handle prepared files for
output but alignment split and merge nearly functional.",2016-01-22T10:15:08Z,chapmanb
1194d2e2794efa5b705c57acc27a91dc3f855874,roryk,rory.kirchner@gmail.com,"Add supported RNA-seq variant callers to documentation.

Noticed it was missing due to #1195. Thanks to @zahrahaider for
bringing it up.",2016-01-21T15:22:56Z,roryk
a8d164f878947ca8fbfe18dc985507c607e29a2e,chapmanb,chapmanb@50mail.com,Docker: cd out of removed directory,2016-01-21T11:50:25Z,chapmanb
a87be1097a535f907b403b7cf977827f5c1b6f33,chapmanb,chapmanb@50mail.com,"docker: system packages supporting Arvados

Enables running using bcbio Docker images in Arvados without extra
additions. Thanks to @tomclegg.",2016-01-21T10:59:27Z,chapmanb
f377b652c4bed529c3bec5354c82274d0ae2a176,Lorena,lorena.pantano@gmail.com,"Use splitext_plus at -w template command.

I don't know if this happens always but
when using only-metadata to create the config
It was skipping all inputs because in case
of *fasta.gz files, it was looking for *fasta
in the samplename column.",2016-01-20T15:55:49Z,lpantano
2698cc1a1040dbcc857e8c4e187d384918f5b410,chapmanb,chapmanb@50mail.com,Handle 23/chrX/X conversions from plink. Thanks to Cristian Valencia.,2016-01-20T14:36:40Z,chapmanb
e76d808bed191c3f8a331bcbc330351af1ea0c60,chapmanb,chapmanb@50mail.com,Utility script to convert RTG coverage files to BED regions of callability,2016-01-20T13:48:48Z,chapmanb
eabdfb71fde5e197b281572c115c5593dade92e1,Lorena,lorena.pantano@gmail.com,"Run qsignature in chr21 slicing bam and vcf file.

Thanks to @ohofmann for debug and test this idea.",2016-01-19T19:30:34Z,lpantano
1ba4d6e16c2a64c9202d552df00b817075c20ef3,chapmanb,chapmanb@50mail.com,Document 'validate_batch' metadata. Thanks to @ohofmann,2016-01-19T19:23:56Z,chapmanb
eca821eb2a2b6593b6b7ae99baccff840761766d,roryk,rory.kirchner@gmail.com,"Explicitly set hisat2 index location.

Thanks to @mjafin for figuring out the issue.",2016-01-19T17:34:55Z,roryk
4e9567ddf49ebedd729435d351d3bea5eee3ddc8,chapmanb,chapmanb@50mail.com,"CWL sub-workflows: parallel alignment split runs

Correctly scatter split alignments and pass to multiple process
alignment runs. Handle inputs from CWL internally in bcbio runs.
Need more general mechanisms to specify parallelization types so
we can handle subsequent merge step.",2016-01-19T11:06:23Z,chapmanb
6c98b1a1ec13579760512065a3d2c86777651a1a,roryk,rory.kirchner@gmail.com,Bump ipython-cluster-helper version requirement to 0.5.0.,2016-01-18T16:57:51Z,roryk
0b5c25b81ee2d8c95ddbefcbb0733f979e20d4ca,chapmanb,chapmanb@50mail.com,"CWL sub-workflows: indices and scatter targets

- Limit scatter targets when inputs come from the top level single
  sample in a workflow, instead of an arrayed set of input samples.
  The scatter target changes from input to current context.
- Ensure gbi and other indices passed along in sub-workflows which
  are not as nested as external.",2016-01-18T16:41:12Z,chapmanb
627ae105b7b3cee1fc842b097815c630a01b8abb,chapmanb,chapmanb@50mail.com,"CWL: progress towards supporting sub-workflows

In progress work to support alignment splitting with sub-workflows.
Puts the alignment portion of a sample into a separate workflow that
works on a single sample, parallelizing by alignment splitting and
then merging back into a single BAM.",2016-01-18T10:32:05Z,chapmanb
8cd14ed098b70b81801e337e798235e288c58384,chapmanb,chapmanb@50mail.com,"Correctly handle non-integer sex and phenotypes

Passing integers for phenotypes or sex would lead to errors where
bcbio assumes strings. Thanks to @rkhetani",2016-01-16T10:43:58Z,chapmanb
abc0fdebf3c03eef48eff20d0e78e41c7038d456,chapmanb,chapmanb@50mail.com,"Correctly fail on problems checking BAM paired ends

The code for checking if a BAM file had paired end reads would silently
fail if there were issues with finding sambamba or BAM file problems.
This design was due to needing to avoid pipe close errors from
sambamba/samtools since we only take the head of the file. However,
if the check failed, it would make a file look single ended leading
to loss of paired reads.

This works around this by correctly defining pipefail and resetting
the pipe signals subprocess uses to avoid erroring out. Now with
manually checking the returncode we work correctly. Fixes #1189",2016-01-16T10:34:02Z,chapmanb
f5afa679d71e17ade8e79502e57a489dd2901d85,chapmanb,chapmanb@50mail.com,"CWL: generalize parallelization approaches

Allow specification of parallelization inputs/outputs for steps.
Progress towards alignment splitting and variation batching.",2016-01-15T11:02:53Z,chapmanb
2ae61d3cadf34ffdb15db1cb56027d7657a6a7b4,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1184 from chapmanb/graph_serialize_doc

Add serialize functionality example usage and plotting.",2016-01-15T10:25:13Z,chapmanb
fee0bed374fa064b6df9652e86359fe9fbb84c75,Roman Valls Guimera,brainstorm@nopcode.org,Add serialize functionality example usage and plotting.,2016-01-14T14:30:18Z,brainstorm
a85fe1f08bbd14bef10e35142c694af935137119,chapmanb,chapmanb@50mail.com,"CWL: initial steps for alignment parallelization

Ensure grabix indexes passed along with nested fastq files. Requires
a second inputBinding for the nested files which we ignore relative
to the top level, but brings in mounting for the grabix indexes
to Docker.",2016-01-14T11:18:58Z,chapmanb
81ca387d06b2d64701cbe63f3e68d196974c6f4f,Rory Kirchner,rory.kirchner@gmail.com,"Check both stderr and stdout for the -@ option.

samtools 1.3 with just the samtools sort option doesn't return
the help, it needs the -h.  Thanks to @lpantano for figuring out
what the error was.",2016-01-13T18:47:31Z,roryk
eb2e3305f3c001e6d3c79abad2d2213c5958b56a,chapmanb,chapmanb@50mail.com,"Ensure single unsorted BAM files get merged

Handles align_split_size cases where the size is bigger than available
reads and we only create one partition. Correctly does the post
align sort and merge. Thanks to @guillermo-carrasco",2016-01-12T14:42:17Z,chapmanb
a61ebb0d8a614f8a73695308c24bf483be237c40,chapmanb,chapmanb@50mail.com,Use bioconda instead of bcbio channel for travis tests,2016-01-12T11:34:15Z,chapmanb
415c5a52be6063c52484d80d2ae5795226829334,chapmanb,chapmanb@50mail.com,"Remove empty lines in BED files when pre-processing

Avoids errors looking for incorrect BED files. Fixes #1177",2016-01-12T11:11:30Z,chapmanb
3ba8b084a02ed110f126e8487621416256e4ad5c,chapmanb,chapmanb@50mail.com,"Default to using parallel bgzip for fastq prep

New versions of pbgzip are stable in our tests and provides a big
speedup for preparing indexed fastq files for alignment. Thanks
to @guillermo-carrasco",2016-01-12T11:04:08Z,chapmanb
34d10ce6ff219b17c290ddaffc643865af7db34a,roryk,rory.kirchner@gmail.com,"Skip whitespace in sample description file.

Thanks to @mikecroucher and @ssamberkar for spotting the issue.

Partially addresses mikecroucher/bcbio_examples#1.",2016-01-11T15:08:11Z,roryk
5ddd0d8336d8573e26a36b90edab9e0f3853d384,roryk,rory.kirchner@gmail.com,Fix whitespace issue and errant print statement.,2016-01-10T17:00:18Z,roryk
ccc5e1a2035003ac686e1ac6045f65ab93dd184b,roryk,rory.kirchner@gmail.com,"Only run stringtie --merge if gffcompare is installed.

The bare --merge doesn't add the class_codes, so we'll keep using
cuffmerge for this step.",2016-01-10T16:58:52Z,roryk
82e992b1058e4c566072899867bca59781b14134,roryk,rory.kirchner@gmail.com,Add function to detect if a program is installed or not.,2016-01-10T16:58:26Z,roryk
38cbc11d72bed6ea2eb30ed4871cb4994f186ce2,chapmanb,chapmanb@50mail.com,"Fix for bcftools 1.3 subset for GATK 3.3+

GATK 3.3+ produces physical phasing information (PGT, PID in format
fields) which is not always present. In some cases, CatVariants can
produces a VCF file missing these header definitions. This results
in errors during bcftools subsetting with version 1.3, which is more
stringent on header information presence.",2016-01-10T11:17:14Z,chapmanb
c8e2d377dd58162a98f94bf47a7855f1e7e89479,chapmanb,chapmanb@50mail.com,"Do not extract samples from larger pooled variants

Avoids slow runtime and unnecessary extraction of samples for larger
variant calling batches (fixes #1175). Thanks to @NeillGibson.",2016-01-10T10:38:59Z,chapmanb
f59a92ebd3b46e23e95880e69c486573e1107a2c,chapmanb,chapmanb@50mail.com,"Ensure merged BED file updates if original changes

Avoids confusing bugs when adjusting input BED files. Thanks to
@rkhetani",2016-01-08T17:50:32Z,chapmanb
826f0b2cc8699490c944492b4a029295926529c5,roryk,rory.kirchner@gmail.com,Remove unused variables.,2016-01-08T15:05:21Z,roryk
29ecd90e54492a35fbce95727ee9feb504a5f04d,Rory Kirchner,rory.kirchner@gmail.com,Turn on stringtie assembly only if requested.,2016-01-08T07:23:27Z,roryk
0341084296be9704e264957e6d7071c02f3f45ff,chapmanb,chapmanb@50mail.com,"Correctly extract templates from S3/objectstores

Fixes issue with using templates stored in S3. Thanks to Bryan Downie.",2016-01-07T11:19:10Z,chapmanb
36a053ee86b8e4619edd6593b716dec75191bda5,chapmanb,chapmanb@50mail.com,"Enable multicore pbgzip if specified in tools_on

Correctly assigns cores to make use of pbgzip if present in `tools_on:
[pbgzip]`. Previously we only gave each pbgzip process per fastq a
single core, this now assigns all available cores. Improves speed of
fastq preparation.",2016-01-07T10:40:48Z,chapmanb
036613fd2bc9b1ccf8ebb729ac8d4e5e262d7690,chapmanb,chapmanb@50mail.com,Fix for std-genotype: ensure gt_vcf added in both cases,2016-01-06T17:13:46Z,chapmanb
1941471f45ea639934a69cc2ed8fef15d80075c1,chapmanb,chapmanb@50mail.com,"tools_on option to enable breakend genotyping

Allows breakend genotyping in cases where it can help with improving
call reliability on a global scale, at the cost of increased run time.",2016-01-06T15:51:54Z,chapmanb
c08aba166f4e5c2a75e43ee4a77b5830862a1cda,chapmanb,chapmanb@50mail.com,"Configurable approaches to prep alignment splits

- Adds a configuration option to explore alternatives to our current
  bgzip/grabix preparation for fastqs to see if we can improve speed.
- Add indexing option with rtg SDF files, which improves speed at the
  cost of a 3x larger disk footprint.",2016-01-06T10:35:58Z,chapmanb
5da92ae3191636e40e2baa22227abdd7485b9046,chapmanb,chapmanb@50mail.com,"Migration bcbio-variation to conda shell program

Remove requirement for custom install of bcbio-variation, instead
using a shell script installed by conda. Update documentation for
MuTect and GATK installs. Removes last requirements for non-conda
installs.",2016-01-05T10:31:06Z,chapmanb
35d6871f7bd403ea60ae5c50fb6dd9a22bc97afb,roryk,rory.kirchner@gmail.com,Add support for new stringtie --merge option.,2016-01-05T05:01:25Z,roryk
a6698a06826a15fcb51359095f774add8d770d19,roryk,rory.kirchner@gmail.com,Look up stringtie path via config_utils.,2016-01-05T02:51:28Z,roryk
4a99753a3bb79b8941d7475d2b8bf7810e4d1415,chapmanb,chapmanb@50mail.com,"Improve description of CWL/bcbio integration

Highlight what bcbio does and what CWL-compatible tools do in a less
confusing way. Thanks to @ohofmann",2016-01-04T15:37:43Z,chapmanb
c042fdd583d6d85df54c6d55e0515e42be18cbfa,chapmanb,chapmanb@50mail.com,CWL: update documentation on current status,2016-01-03T18:59:36Z,chapmanb
17fad5aed3a4be0f5a383479c860b96c666afcbc,chapmanb,chapmanb@50mail.com,"CWL: work towards align split support + Docker

- Provide align_split as a string to allow passing to next steps
  in CWL.
- Update dockerfile to include up to date pandoc for
  QC generation.",2016-01-03T15:56:22Z,chapmanb
5cfbc9324fc38a20b2f8c6470df8a3746b54072c,chapmanb,chapmanb@50mail.com,"CWL: add QC reports; generalize sample unpacking

Add creation of HTML QC report to bcbio CWL workflow. Clean up
code that handles multiple ways of passing samples through CWL and
IPython into utils functionality.",2016-01-02T20:07:35Z,chapmanb
589a9934a2f3f127610a83d5e2766f68e35f7341,chapmanb,chapmanb@50mail.com,"Automatic creation of coverage reports

Moves creation of coverage reports to a separate isolated parallel
call to make it usable through CWL. Adds in creation of coverage
reports with Rmarkdown and pandoc if present, skipping if not found.
Undate documentation on system requirements.",2016-01-02T10:25:05Z,chapmanb
5b879c36a30e3b41ba69abfa359e8190a5680598,roryk,rory.kirchner@gmail.com,Add libary type fix.,2016-01-01T19:14:15Z,roryk
5caa6068100452f1dbae1d8437c1c4a57fc53c0c,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1172 from dezzan/master

Cufflinks assembling should take library type into count.",2016-01-01T19:12:48Z,roryk
abc5f9e9f53f51d7f46a39393523aca6ff0fb9f9,chapmanb,chapmanb@50mail.com,"CWL: enable grouping of samples

Implement simultaneous sample parallelization and all-sample grouping
in variant calling workflow. combine_sample_regions now handles all
samples together, grouping into batches internally. Provides
initial steps towards high level batching and more complex
parallelization with CWL.",2016-01-01T13:46:53Z,chapmanb
04d90b9619a92fcaec3444f984f003239b6c662a,chapmanb,chapmanb@50mail.com,"CWL: define workflow outputs; generalize parallelization

- Explicitly define outputs of workflows, copying into output directory.
- Initial work to generalize parallelization to support steps that
  work with all samples combined. Changes input binding to potentially
  have multiple samples output instead of a single one.",2015-12-31T10:24:11Z,chapmanb
d0854dd6c0206523033f395e2978c15fcbf4d9c2,dezzan,dezzan@yandex.ru,Cufflinks assembling should take library type into count.,2015-12-31T07:19:44Z,dezzan
892c0f448afae7a22c930eefa9d07e9a5ff994db,roryk,rory.kirchner@gmail.com,"Add paper supporting using Sailfish.

Thanks to @mikelove for sharing it with us.",2015-12-30T16:45:28Z,roryk
fe5d6e02ed6be44c68e3e63d6531c72ffcb609d5,chapmanb,chapmanb@50mail.com,"CWL: add QC and coverage reporting steps

Wraps quality control and coverage reporting outputs as a first
step to generating full coverage and QC reports through CWL runs.",2015-12-30T14:55:50Z,chapmanb
c3d4c82ee44564ae39da08fb8232d2ddd557c92f,chapmanb,chapmanb@50mail.com,"conda-based installation for python dependencies

Avoids need for pip and a requirements file, instead using conda
packages with bcbio deployments in bioconda.",2015-12-30T10:30:27Z,chapmanb
8ef93101ac4a2c9b3d9d4d42c6fb7515c6ce8d83,roryk,rory.kirchner@gmail.com,Find cpat via the config_utils.get_program method.,2015-12-29T20:53:15Z,roryk
bd2c0cea0ddba9c8b73bb938d8efc5651cdd9de6,roryk,rory.kirchner@gmail.com,Produce warning instead of failing if CPAT is not installed.,2015-12-29T20:53:14Z,roryk
22dac4ab3ef9c8c34ca2c127a997dabf0f7d7a8d,roryk,rory.kirchner@gmail.com,"Add fallback to find conda-installed programs.

Walks back to the root dir of the bcbio_system config
to try to find the systemwide anaconda directory.",2015-12-29T20:53:12Z,roryk
e2651fcc9817276b882f1672b072184004e7f887,chapmanb,chapmanb@50mail.com,"Fix coverage and HLA issues with running tests

- QC coverage calculation returned a file (instead of a data object)
  on reruns when the file already exists.
- HLA upload logic failed if no HLA typing done.",2015-12-29T19:26:16Z,chapmanb
2898dbf79c802f4aeada09287eb396b03f930221,chapmanb,chapmanb@50mail.com,"CWL: enable HLA typing in bcbio CWL workflow

Reworks HLA typing logic to explicitly specify extracted fastq files
instead of assuming directory structure. Cleans up edge cases with
mapping missing files or empty arrays in bcbio world object to CWL.",2015-12-29T18:39:16Z,chapmanb
375e2e033490d58d3521dfb5b11fda9acec9192d,chapmanb,chapmanb@50mail.com,"CWL: pass indexes along with BAM and bgzip files

Ensure BAM bai indices and bgzipped/tabix indexed VCFs have
index files stored and linked for each step.",2015-12-29T10:15:56Z,chapmanb
a8c21229598c53e0037d50464258bdb99840bc0f,roryk,rory.kirchner@gmail.com,Rewrite RNA-seq description.,2015-12-29T03:00:22Z,roryk
eb30f01bfe3ffc502bab017f120c60ee9ca93bd9,chapmanb,chapmanb@50mail.com,"Use conda installed picard shell excutable

Removes dependence on CloudBioLinux custom java installation for
Picard functionality, allowing us to remove it on the next
bcbio release.",2015-12-28T19:39:21Z,chapmanb
e5ac2210ec715d9089c2a98d454e1d76a1534ac4,chapmanb,chapmanb@50mail.com,"CWL support: 4 step pipeline with callability

Increase supported CWL functionality, handling post-processing
callability calculation for parallelizing variant calling. Provides
fixes for pipeline steps that assume a shared filesystem and initial
steps moving to support picard with the command line integrated bash
script instead of custom jar files.",2015-12-28T16:01:36Z,chapmanb
701ec0c08587d962d4aa405b3b075bbd727c631b,chapmanb,chapmanb@50mail.com,"CWL support: full two step workflow with outputs

- Enable retrieval of output files and configuration changes from
  the bcbio world object directly.
- Add retrieval functions to simplify definitions of workflows and
  inputs/outputs.
- Both align prep and alignment have full retrieval of output files
  and ready for subsequent steps.",2015-12-27T11:16:33Z,chapmanb
f0155bfd9e516484715736606abf1d9af33abdcd,roryk,rory.kirchner@gmail.com,"Skip RNA-seq Qualimap if the GTF-file is not compatible.

Qualimap needs an Ensembl-formatted GTF file, but we don't produce
that http://qualimap.bioinfo.cipf.es/doc_html/analysis.html#rna-seq-qc,
has information about it.

I posted an issue up on the mailing list here:

https://groups.google.com/forum/?hl=en#!topic/qualimap/3EGtIdgojNc

We can reformat the GTF if possible or at least do a better job
determining which formats will work once they get back to me.",2015-12-26T18:48:37Z,roryk
e9db447be0d164c1502a7c0a4ddfc26cdbd17f37,chapmanb,chapmanb@50mail.com,"CWL: fix inspection of changed files and world

Makes it easier to identify and annotate changes at each step
for marking up CWL generation.",2015-12-26T11:09:56Z,chapmanb
43401924dd0a59746dd709c8f42c269c7361f7c7,roryk,rory.kirchner@gmail.com,"Strip comments from priority BED file before running.

Add separate priority BED file to the tests with a comment on top
for a test case.
Thanks to @ohofmann for reporting the issue.",2015-12-25T18:55:44Z,roryk
4bbbbe7e8d65d25dfeab3ced05c760c241cfda84,Rory Kirchner,rory.kirchner@gmail.com,Add function to clean comments from a BED file.,2015-12-25T18:55:44Z,roryk
054ca2aaafc1288d9e3e74d0d091382213339ea0,chapmanb,chapmanb@50mail.com,Allow periods in contig names with new checks. #1160. Thanks to @dezzan,2015-12-25T03:40:30Z,chapmanb
fa1c4157dabcd3bb5c7bea9052d8c4dff3a4ce43,Lorena Pantano,lorena.pantano@gmail.com,Fix path for mirna count data.,2015-12-24T19:45:45Z,lpantano
26bbbad3294db0fb118427ac26f6413015c51bca,chapmanb,chapmanb@50mail.com,"Explicitly disallow problem characters in contigs

Only allow letters, digits, underscores, dashes and HLA supporting
characters (':' and '*') in contig names, raising an error otherwise.
bcbio_setup_genome now fixes these by converting to underscores.
Fixes #1160",2015-12-24T19:35:59Z,chapmanb
932bc935c6ae49563919c963331dde81eed8b74a,roryk,rory.kirchner@gmail.com,Add Cufflinks and Stringtie to bcbio_system.yaml file.,2015-12-24T18:31:34Z,roryk
ec545617b17d1c972604de8624024206a2135888,chapmanb,chapmanb@50mail.com,"Provide two step variant workflow with CWL

Run the start of a CWL variant calling workflow -- alignment
preparation (bgzip) and alignment. Removes many previous hacks and
generalizes to provide better representations and flow through the
process.",2015-12-23T20:54:36Z,chapmanb
c127db64a7d4aeeb809cdf2a40a8835f7481d6c7,chapmanb,chapmanb@50mail.com,"OptiType HLA: type all of A/B/C together

Concatenate A, B and C alleles together to perform simultaneous
typing. Required for pooled typing to avoid non-informative
results with a single common type of the target and multiple
off-target.",2015-12-23T11:00:01Z,chapmanb
e81f3940db27652e6a5c6dc42232a65a8a1538d4,roryk,rory.kirchner@gmail.com,Fix typo.,2015-12-23T09:30:51Z,roryk
44a4b5088dd5687d23ca1d49b3ab0aaf69de3f87,Rory Kirchner,rory.kirchner@gmail.com,"Enable Stringtie transcriptome assembly.

As part of this work, this commit also allows multiple transcriptome
assemblers to be run on the same sample. The output from all
assemblers is merged together at the end with Cuffmerge.

This also deprecates the `assemble_transcriptome` option and
replaces it with a `transcript_assembler` option, which takes
a list of assemblers to run. (Supports `cufflinks` and `stringtie`
with this commit).",2015-12-23T09:26:08Z,roryk
cc505cf28909ac78ff4f15281cbf6ffac646f813,Rory Kirchner,rory.kirchner@gmail.com,upload assembly only if transcript assembly is on.,2015-12-23T08:38:49Z,roryk
4bc14fe732f9b7061b450b531ece62dd2016289a,roryk,rory.kirchner@gmail.com,Re-enable stringtie expression estimation.,2015-12-22T20:15:13Z,roryk
00271bca6f6c0b7a18fe89bb53b30ae560b052c1,chapmanb,chapmanb@50mail.com,"Support pooled HLA typing with optitype options

Use `resources` to pass the `--enumerate N` flag to optitype
which resolves more than a single HLA allele. This is useful
for cases of pooled samples which multiple HLAs. cc @mjafin.",2015-12-22T16:29:43Z,chapmanb
f410dbf10953de606a2ac06b51f41a0061834d87,roryk,rory.kirchner@gmail.com,"Add hisat2 to the installable aligners.

Thanks to @walkingrandomly.",2015-12-21T17:12:55Z,roryk
81a3b2d84ffbe6de8e041eae6a54cd2838732cc4,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1170 from a113n/patch-3

Fix typo in gatkfilter.py",2015-12-21T10:38:27Z,chapmanb
a510adc70c5161aa3854f2fb6c35e4c4cd491665,chapmanb,chapmanb@50mail.com,"Move common workflow language inspection to module

Cleans up main pipeline and writes output to files for easier
inspection, in preparation for feeding this into CWL preparation.",2015-12-21T01:54:53Z,chapmanb
9d6e9af47d9531eb8777b7d2505e01bc950bce40,a113n,allenyuchishing@gmail.com,"Fix typo in gatkfilter.py

The typo caused the following error:

```python
Traceback (most recent call last):
  File ""/usr/local/bin/bcbio_nextgen.py"", line 226, in <module>
    main(**kwargs)
  File ""/usr/local/bin/bcbio_nextgen.py"", line 43, in main
    run_main(**kwargs)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/pipeline/main.py"", line 39, in run_main
    fc_dir, run_info_yaml)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/pipeline/main.py"", line 82, in _run_toplevel
    for xs in pipeline.run(config, run_info_yaml, parallel, dirs, samples):
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/pipeline/main.py"", line 241, in run
    samples = run_parallel(""postprocess_variants"", samples)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/distributed/multi.py"", line 28, in run_parallel
    return run_multicore(fn, items, config, parallel=parallel)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/distributed/multi.py"", line 86, in run_multicore
    for data in joblib.Parallel(parallel[""num_jobs""])(joblib.delayed(fn)(x) for x in items):
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/joblib/parallel.py"", line 657, in __call__
    self.dispatch(function, args, kwargs)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/joblib/parallel.py"", line 404, in dispatch
    job = ImmediateApply(func, args, kwargs)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/joblib/parallel.py"", line 142, in __init__
    self.results = func(*args, **kwargs)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/utils.py"", line 51, in wrapper
    return apply(f, *args, **kwargs)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/distributed/multitasks.py"", line 90, in postprocess_variants
    return variation.postprocess_variants(*args)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/pipeline/variation.py"", line 26, in postprocess_variants
    data)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/variation/genotype.py"", line 31, in variant_filtration
    return gatkfilter.run(call_file, ref_file, vrn_files, data)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/variation/gatkfilter.py"", line 22, in run
    vfilter.gatk_snp_hard)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/variation/gatkfilter.py"", line 187, in _variant_filtration
    sensitivities[filter_type], filter_type, data)
  File ""/usr/local/share/bcbio-nextgen/anaconda/lib/python2.7/site-packages/bcbio/variation/gatkfilter.py"", line 61, in _apply_vqsr
    ops += [""--ts_filter_level"", sensitivity_cutoff]
UnboundLocalError: local variable 'ops' referenced before assignment
```
The proposed fix was verified to fix the error.",2015-12-20T15:27:30Z,a113n
6362e7464932ba048dfa4fcc3e04c29e95dea509,Lorena,lorena.pantano@gmail.com,"Re-orginize chip-seq pipeline.

Move all post-processing bam functions together,
create one parallel env for peakcalling,
and add one parallel env for QC.
Add macs2 to system config file, and
multipier jobs by the number of samples
that have input sample, the only ones
that can be used in peakcalling step.",2015-12-19T00:44:28Z,lpantano
e42956257865931a5d1dd2630b851fce557d0ab8,roryk,rory.kirchner@gmail.com,"Add sleuthifying the Sailfish output.

Thanks to @blahah for helping debug an issue in the Rscript call.",2015-12-18T22:16:29Z,roryk
f16e804247a2f7b4630617cf177f7f72eab795c1,Lorena Pantano,lorena.pantano@gmail.com,"Merge pull request #1166 from mistrm82/master

changed the template for chip-seq analysis",2015-12-18T15:03:47Z,lpantano
e3b003518fe547addb35f2c7fc0b7a316dff50eb,Meeta Mistry,meeta.mistry@gmail.com,Update illumina-chipseq.yaml,2015-12-17T21:23:57Z,mistrm82
e90d57d43898750a2f730f4b1972d9eaa013dded,Meeta Mistry,meeta.mistry@gmail.com,Update configuration.rst,2015-12-17T21:22:28Z,mistrm82
700f67b60e40e825acc44a15ef1c5fb3895b2104,Meeta Mistry,meeta.mistry@gmail.com,typos,2015-12-17T19:54:06Z,mistrm82
c8ec5ff333e9b13a1d0d9d98da26ac0b9b6e1d94,Meeta Mistry,meeta.mistry@gmail.com,edits to chip-seq section of config file,2015-12-17T19:52:50Z,mistrm82
eed4365c7aa65d9a314d1a244069de657e91f96f,Meeta Mistry,meeta.mistry@gmail.com,changed the template for chip-seq analysis,2015-12-17T19:39:06Z,mistrm82
57e4cf8fefb3be5774098c03dd264e241adf3f10,Rory Kirchner,rory.kirchner@gmail.com,"Unify sRNAseq and RNA-seq sample preparation.

This also makes trimming optional for RNA-seq. Removing
`trim_reads` from the project YAML file will skip trimming.

Addresses #1140.",2015-12-17T19:14:31Z,roryk
624fd4f59dc7246f9424a6aa4b04ebfd5e6a1286,roryk,rory.kirchner@gmail.com,Remove unused AbstractPipeline.,2015-12-17T18:26:19Z,roryk
ee2bea6f44b63e107f117beef35dd66c533ab18c,Lorena,lorena.pantano@gmail.com,Add back peakcalling after 6aad5ed.,2015-12-17T18:12:21Z,lpantano
6aad5edad2e20cde42eb704d40e5c816fb0f814d,roryk,rory.kirchner@gmail.com,"Move analysis type dispatching to a simple dict lookup.

bcbio-nextgen is written in a mostly-functional style and this
was not in line with that style.",2015-12-17T17:47:07Z,roryk
30db17760b4eee977b139f136db672b570602ad6,roryk,rory.kirchner@gmail.com,"Remove separate Sailfish pipeline.

Sailfish is run by default now, no need for this extra code.",2015-12-17T17:07:05Z,roryk
6200e8161eff3dceeb6903a434b8c98fd9bfab71,Lorena Pantano,lorena.pantano@gmail.com,Fix typo in chip-seq documentation,2015-12-17T15:45:15Z,lpantano
c0ae4ea4245cae28caf72ccc1187e70137dde7bc,Lorena,lorena.pantano@gmail.com,Fix macs2 output name. Generalize upload for peak callers.,2015-12-17T15:27:22Z,lpantano
6eda4793a94d89a49024ccd40cc862033214f05f,chapmanb,chapmanb@50mail.com,"Germline: more vardict categories + somatic filter

- Include all VarDict categories into Germline/Somatic determination.
- Add `Somatic` filter for somatic variants in germline thanks
  to new header addition code in cyvcf2.",2015-12-17T11:00:12Z,chapmanb
c9f38b93702ff523f4e17de079471386036fc9b0,chapmanb,chapmanb@50mail.com,"Update validation to support latest rtg vcfeval

- During validation, report truth counts relative to initial truth set
  representation so counts are consistent. Thanks to @kevjp.
- Pick best metrics for plotting ROC scores based on VCF inputs.
  Thanks to @Lenbok and @scatreux:

  https://github.com/chapmanb/bcbio-nextgen/commit/a538cecd86c0000d17d3f9d4f8ac9d2da04f9884#commitcomment-14539249",2015-12-17T10:23:12Z,chapmanb
a759a2f22e1ae5a93ea1a42adbcdcba112895006,roryk,rory.kirchner@gmail.com,"Set CPU cores via an option in bcbio_setup_genome.py

This lets multithreading play nice with the cluster schedulers.",2015-12-16T20:57:55Z,roryk
e1a3e65b4dc0fe589321af0067eb4ffb53a09e3d,Lorena,lorena.pantano@gmail.com,"Add macs2 to chip-seq pipeline.

See configuration in docs to set up
correctly the analysis. It will use
phenotype and batch from metadata
to pair chip/input samples.",2015-12-16T19:21:26Z,lpantano
1c23e7f6358cc81c3412255179cbc47e466c0bd8,Lorena,lorena.pantano@gmail.com,"Add functions to run peak callers like macs2

Working process, it is not part of the chipseq pipeline yet.
Just adding functions to allow this in the future.",2015-12-16T17:20:10Z,lpantano
b6fa84d09e6d6443a03d24c2286950f51339719b,roryk,rory.kirchner@gmail.com,"Add Sailfish to the bcbio_system.yaml file.

Addresses #1132. Thanks to @schelhorn for pointing it out.",2015-12-15T19:16:54Z,roryk
2ab2e1948d64a852cd5c21d70539910d84163e71,Lorena,lorena.pantano@gmail.com,"Do fastqc with unfiltered bam file in chip-seq pipeline.

Otherwise we don't get unmapped reads in the stats.
Thanks to @sjhosui.",2015-12-15T19:11:38Z,lpantano
4c187b518c683a392c0eeaa564c879c886257df1,chapmanb,chapmanb@50mail.com,Add missing germline file with implementation code,2015-12-15T19:08:48Z,chapmanb
4f96c8ae9927d00291058557fed5c454d3a0ad85,chapmanb,chapmanb@50mail.com,"Prepare germline calls for cancer pipelines

Creates a separate -germline.vcf.gz output file with germline calls
to complement the existing somatic call output. These are useful for
assessing pre-existing mutations. Thanks to @mjafin and all of the
discussion on the biovalidation list:
https://groups.google.com/forum/#!topic/biovalidation/U24WV-ScCDI",2015-12-15T18:44:56Z,chapmanb
f4e22c9157937016a54f56b8aa6137127a6bb0dd,chapmanb,chapmanb@50mail.com,Remove outdated/confusing values in default bcbio_system,2015-12-15T11:15:29Z,chapmanb
1a580878e1a6dc86400ce754231a5c3f24a76100,Lorena,lorena.pantano@gmail.com,Complete docs for small RNA-seq pipeline.,2015-12-14T20:46:12Z,lpantano
c914192b44e49d49bb97ac7aa24de695bbcd67e5,Lorena,lorena.pantano@gmail.com,"Collapse mirdeep2 results into one file.

Add these files to final folder.
Standarized miraligner command to work with any database.
Add move_safe function returning the target file. It
will avoid moving if target file exists or is the same.

Fix typo",2015-12-14T17:27:53Z,lpantano
dc8db17ff54d6b7d94493691d5a71568ac7e8278,Lorena,lorena.pantano@gmail.com,Adding to docs how to run full qualimap analysis.,2015-12-14T15:29:04Z,lpantano
b7679cecc19ed52dd8fa5d8913f5df4fb7280a4d,Lorena,lorena.pantano@gmail.com,"Add option to run qualimap in full bam file. Thanks to @NeillGibson

Features requested in #1147 and #1148.
As well add code to add custom options using
resources:
  qualimap:
    options: [...]",2015-12-14T15:19:24Z,lpantano
c1971232714d599551fae39afd3e79e9c382361e,chapmanb,chapmanb@50mail.com,"pip install: use global SSL, falling back to conda

More flexible use of SSL certificates with conda. We first try to
use the global one, only falling back to the conda installed SSL if
the global fails. This fixes #1156, where we need to use the global
SSL due to firewall restrictions.",2015-12-14T11:05:40Z,chapmanb
254bf6ddb4a005bff748a975cc07c42ef9c62c53,chapmanb,chapmanb@50mail.com,"Update instructions for conda-based install

Update required dependency list now that we're shipping more pre-built
binaries with conda. Removes Ruby and library dependencies.

Remove `--sudo` flag, instead encouraging installs into non-root
directories or using sudo outside of bcbio.",2015-12-14T10:18:24Z,chapmanb
8ab5938eda919e14a6c6c7e8179db64f41e4c463,chapmanb,chapmanb@50mail.com,"v0.9.5 Dockerfile build

Includes reduced library dependencies to match new conda-based
build.",2015-12-14T00:16:22Z,chapmanb
1f39359944083b4f5ae1b346a5e37e5437a681b5,chapmanb,chapmanb@50mail.com,v0.9.5 release,2015-12-12T15:10:04Z,chapmanb
14761b17bdc2c48e5f7eb7533a3b8218d5a36309,chapmanb,chapmanb@50mail.com,"Bump to Ensembl VEP v83 databases

Matches latest variant effect predictor, which has a 2x speed up
over previous versions.",2015-12-12T11:05:45Z,chapmanb
c4411ba55e2b59017d05c575f59a5123fee001d7,Lorena,lorena.pantano@gmail.com,Update history for small RNAseq pipeline.,2015-12-11T18:28:25Z,lpantano
fe4cbc33d44d8f08b38f0875ac762e928f121b80,chapmanb,chapmanb@50mail.com,Heterogeneity upload: be more defensive if files missing,2015-12-11T16:51:03Z,chapmanb
50608bc232a00fcb9f2d3322f161950d602f1b81,chapmanb,chapmanb@50mail.com,"Filter VarDict with poor mapping quality support

These trigger low frequency false positives in testing.

Soft imports for pandas and statsmodels for bcbio-vm support.",2015-12-11T10:51:42Z,chapmanb
ca365534ece41932427b9494a84dd419768e5a25,Lorena,lorena.pantano@gmail.com,Add perl_lib path to mirdeep2 command.,2015-12-10T22:52:11Z,lpantano
3f4fced6a406479c01f1aa0bd13f9cbb67a31822,Lorena,lorena.pantano@gmail.com,"Calculate total variants for non-human genomes.

Variants stats come from gemini database.
For non-human genomes we miss that. Will run
as well when gemini is off.
Using bcftools to get basic stats and add
total variants to summary file.",2015-12-10T20:24:39Z,lpantano
34e7e719f080ba080bcd898bc90c0585c111fc79,chapmanb,chapmanb@50mail.com,"Allow forcing bwa mem for smaller reads

By default we use bwa aln for reads less than 70bp and bwa mem
otherwise. With `tools_on: [bwa-mem]`, bcbio uses bwa mem
independent of read size. Thanks to @mjafin.",2015-12-10T18:52:50Z,chapmanb
9db7a2ccc8abec6c5bfa23ed5444543e20f3011f,chapmanb,chapmanb@50mail.com,"Use conda installed Perl, remove external dependency

Uses perl installed with conda, allowing move to conda installation
of perl packages and removing an external dependency. Allows
more reliable installation and use of Perl-based tools in bcbio.",2015-12-10T14:17:45Z,chapmanb
f3eb757f7f107803d4809ab4ce20df6d3931c0e5,roryk,rory.kirchner@gmail.com,"Cleanup experimental section.

Move coverage information out of experimental.

Drop reference to Chanjo.

Move expression_caller to the RNA-seq section.",2015-12-10T13:46:34Z,roryk
8960b8872614e00865d3e5f92955ba5b41909572,Rory Kirchner,rory.kirchner@gmail.com,"Unify coverage and coverage_experimental.

More code cleanup work.",2015-12-10T13:41:19Z,roryk
adf9cfb72f3d60c361c48e2fec69256a7d49adb8,roryk,rory.kirchner@gmail.com,Gardening: weeding unused imports.,2015-12-10T13:28:04Z,roryk
193270c7f44148291eb8662dae8975e537ca5878,roryk,rory.kirchner@gmail.com,Add appropriate props.,2015-12-10T13:25:27Z,roryk
d54ae6d9253c2ffab840876948fb364618160e69,roryk,rory.kirchner@gmail.com,"Remove RNA-SeQC from docs.

Also replace Cufflinks with Sailfish.",2015-12-10T12:56:34Z,roryk
504c20d4eb59646b2648481d6c914b6bfc42f8e1,roryk,rory.kirchner@gmail.com,Rip out dead RNA-SeQC code.,2015-12-10T12:55:52Z,roryk
cfd0eea13e4d1be518d28f9d88d79703e4c1d1bf,Rory Kirchner,rory.kirchner@gmail.com,Add priority gene coverage to integraton tests.,2015-12-10T04:27:25Z,roryk
a7b76cb0a2755b3d6a9514311592e038996c5ba7,Rory Kirchner,rory.kirchner@gmail.com,Output priority gene coverage summary in increments of 10.,2015-12-10T04:24:53Z,roryk
a15421e1c4331a9b80618ee6603ab14bdb48e978,chapmanb,chapmanb@50mail.com,"Correctly reset cores and memory for last resort sort

Does a single core sort to avoid duplicating failed sambamba sort.
Thanks to @schelhorn. Fixes #1145",2015-12-10T02:41:34Z,chapmanb
30414427f524be4d33f0324230b08710e8ac2b2a,Lorena,lorena.pantano@gmail.com,Use anaconda mirdeep2.,2015-12-09T23:00:53Z,lpantano
4c57c0666e77b442013cb658a750b40afc466ea6,chapmanb,chapmanb@50mail.com,"Correctly check for GEMINI data with new install

The new installer always adds the GEMINI conda python libraries, but only
downloads the data if requested. This updates the checks for GEMINI to
look for data instead of the executable. Thanks to @lpantano",2015-12-09T11:49:15Z,chapmanb
af2c4ee315542a48b570e03880de261163b2681c,roryk,rory.kirchner@gmail.com,"Add note about disambiguate needing an aligner to be set.

Partially addresses #1141.
Thanks to @bwubb for pointing out the confusion.",2015-12-09T04:20:55Z,roryk
1fc0903e501461e654ccd149e473ece498fc6933,Lorena,lorena.pantano@gmail.com,Get new bcbreport with fixed coverage files.,2015-12-08T21:09:57Z,lpantano
ec04f8e95e5ee396a3ab6e2f94b03d124d15dbbf,Lorena,lorena.pantano@gmail.com,Bump report package to get new coverage outputs.,2015-12-08T20:43:42Z,lpantano
7483dba2150826bffeb864e4ad281426f8e3232f,Lorena,lorena.pantano@gmail.com,"Bump coverage limit for coverage report.

Add regions that have more than this limit
after sambamba command otherwise we miss them.",2015-12-08T20:28:25Z,lpantano
d016c91e8a13f41f6eee4a120c04bee402235c2c,Lorena,lorena.pantano@gmail.com,"Add quantification of novel miRNAs.

Organize the small RNA-seq pipeline to do the annotation
of specific small RNA all together after miRDeep2 analysis.",2015-12-08T15:30:42Z,lpantano
05735466c545f2b47287a066e7542de8d14045a0,Lorena,lorena.pantano@gmail.com,Improve error message if fastq is empty.,2015-12-08T15:30:10Z,lpantano
348912e331ec43dac1f10b97a1a1efb83a84c35f,Lorena,lorena.pantano@gmail.com,Fix missing variable for new seqcluster.,2015-12-07T21:17:45Z,lpantano
71f39ae3246af3937cc0da2b2e6faa8f04e48420,Lorena,lorena.pantano@gmail.com,Add species name to nobel miRNAs.,2015-12-07T00:12:41Z,lpantano
0aa03340a634a1b03bf00fa1d7e1b082178e8bab,roryk,rory.kirchner@gmail.com,Deal with potentially duplicated transcripts when running Sailfish.,2015-12-06T19:37:08Z,roryk
e9b7ff41503ea8ab2eb54e49dadfc6e7aab2d3e4,chapmanb,chapmanb@50mail.com,Update CRAM indexing to use samtools instead of scramble/cram_index,2015-12-06T15:09:08Z,chapmanb
3ebf71ae44ac8d1403e581d5af9f2967db7fc24c,chapmanb,chapmanb@50mail.com,"Update GEMINI install to conda. Fixes #1136

The GEMINI python library is now installed by default using conda.
We install the data directory in the standard place if requested
with `--toolplus data` as before.",2015-12-05T14:52:06Z,chapmanb
8173456dd6c45bd2509846f40dc5f12ad693a258,roryk,rory.kirchner@gmail.com,Update the Sailfish disambiguaton and STAR fusion changes.,2015-12-04T20:50:04Z,roryk
f0e037440006abab84d4b1036935f15152af722d,roryk,rory.kirchner@gmail.com,"Update STAR fusion calling parameters.

Thanks to @felixschlesinger for suggestions in #1132.",2015-12-04T20:49:40Z,roryk
8676bbe044b6b45f2c01fa91cd3883bac326cd1b,chapmanb,chapmanb@50mail.com,"No high depth lumpy flltering on non-genome inputs

Avoids running high depth checks and creating filters on inputs
that are not whole genome. Amplicon and exome inputs have more spikey
coverage which is not appropriate for this filter. Thanks to @mjafin.",2015-12-04T18:56:35Z,chapmanb
a13ca5311284ceb342933a3f9893259d8f42fb65,Lorena,lorena.pantano@gmail.com,"Check if ensembl aliases has _vep_ in the name.

Line with ensembl name in *-resources.yaml can
break genome updates if _vep_ is not part of the name.
Add raise error with message to give a clue what
genome to fix.",2015-12-04T16:10:12Z,lpantano
3e93cdc593783dbfbde2b27272e3eda8d922a54d,Lorena,lorena.pantano@gmail.com,Not run quantmode for small RNA-seq.,2015-12-04T15:09:22Z,lpantano
eff12ed2ba7b3121fc0039a277704335531e8c19,Lorena,lorena.pantano@gmail.com,Fix test for small RNA-seq.,2015-12-04T15:08:47Z,lpantano
57f6648291ef471217e018dd486062d877d76a37,chapmanb,chapmanb@50mail.com,Move BubbleTree heterogeneity outputs to final directory,2015-12-04T10:28:17Z,chapmanb
467c8c5c2d89dffd47532aaf65ad82e38e05af25,roryk,rory.kirchner@gmail.com,"Handle disambiguation with Sailfish.

This is an attempt to address #1132. If this turns
out to be poor we can do the more complicated
strategy of regenerating FASTQ files from the
disambiguated BAM files and re-quantitating. Thanks
to @schelhorn for raising the issue.

This commit also eliminate temporary directory issues that occur when
using tempfile. Thanks to @mjafin and @chapmanb for discussion about it.",2015-12-04T03:30:59Z,roryk
82706538658d28d31ac174f676fb96cc79c334c6,Rory Kirchner,rory.kirchner@gmail.com,"Allow re-calling the disambigutation split function.

Calling this on an already-disambiguated sample previously overwrote the results.",2015-12-04T02:43:58Z,roryk
254adb48d2352776ac19e4e7ca150dc495bac95e,Rory Kirchner,rory.kirchner@gmail.com,Fix typo running Sailfish with SE data.,2015-12-04T02:07:45Z,roryk
5d466c13e1c98a6fc893b43d257d2b966ea4ac00,roryk,rory.kirchner@gmail.com,"Index sailfish in parallel.

Closes #1130. Thanks to @parlar.",2015-12-03T21:33:04Z,roryk
4a79fbda134cd120d50cc7f11585711d3c599d9d,Lorena,lorena.pantano@gmail.com,Fix QC for small rna-seq. Introduced bug in 543abdfb1,2015-12-03T19:02:02Z,lpantano
e07ac7b2df8c034d75bd343b99cf9450ae5e1378,Lorena,lorena.pantano@gmail.com,"Update docs with new supported options for small rna-seq.

Fix typo in rnaseq parameters for bowtie2.",2015-12-03T18:58:07Z,lpantano
6894731b0da3a8a1c64c1e3eb493d89eb56f7840,Lorena,lorena.pantano@gmail.com,Add align specific tests for small rna-seq.,2015-12-03T18:56:17Z,lpantano
543abdfb1d3c7189c2570219a0a6c7e7b60ad53f,Lorena,lorena.pantano@gmail.com,Fix QC for small rna-seq when bowtie used.,2015-12-03T18:56:09Z,lpantano
3db644309dd2dcb70d276538d4e88d1c88a24cc0,Lorena,lorena.pantano@gmail.com,Support bowtie* for small rna-seq pipeline.,2015-12-03T18:55:58Z,lpantano
aec9a86cdc072f4f36ce60d255a5f7b3daed0b90,chapmanb,chapmanb@50mail.com,Fix #1101 scalpel calling for single sample inputs,2015-12-03T11:41:29Z,chapmanb
e8c586a6f73dd0a3750615d2555bc98429a26174,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1131 from alexandrucoman/fix/blob-handle

Fix the BlobHandle read file issue",2015-12-03T11:14:38Z,chapmanb
27cb66ed73bc3305457c9c980073cf078f6d5ffc,chapmanb,chapmanb@50mail.com,"log directory and intron size collapse fixes, thanks to @mjafin

- No longer use confusing log directory specified in global resource
  file, which is the source of many bugs. Log in the local work
  directory. This resulted in missing moves of bcbio logs into
  the final directory when resources -> log -> dir was incorrectly set.
- Use 100kb for intron sizes for collapsing exons in transcripts, to
  handle genes like EML4 with larger introns.",2015-12-03T01:56:52Z,chapmanb
3c83cf5ef07c5b58c5d949c5f506f20f6ca09339,Lorena,lorena.pantano@gmail.com,Add mirdeep2 to sRNA-seq pipeline.,2015-12-02T19:20:36Z,lpantano
f60e261d32abfc5508cd63a0c5def17889611ec0,Alexandru Coman,acoman@cloudbasesolutions.com,"Fix the BlobHandle read file issue

The current version of the BlobHandle doesn't act properly when
a user tries to read a file from Azure Blob chunk by chunk.",2015-12-02T14:21:06Z,alexcoman
ed2ba4406432b878054a0800a0afceb610cc6b0f,chapmanb,chapmanb@50mail.com,"BubbleTree: allow runs with tumor-only data

Ensure samples passed through to heterogeneity analysis, scale ratios
to match BubbleTree expectations, and handle new CNVkit output.",2015-12-02T10:20:23Z,chapmanb
ee5d8e33ca6f278012955f20a042147b5e978072,chapmanb,chapmanb@50mail.com,"manta: resolve config script to original location

When using symlinks manta cannot find the default config.ini file
and resulting run workflow script is missing parameters. Thanks
to @mjafin",2015-12-01T17:17:33Z,chapmanb
87ec19b907ba91e76dba58b0f71bee6bc44f7e42,roryk,rory.kirchner@gmail.com,Remove unused import.,2015-12-01T16:09:39Z,roryk
42a6e13be28daabd29fd9c398a9a43687e3e4ea8,chapmanb,chapmanb@50mail.com,"Document HLA typing and SV prioritization

Begin preparation for next release by documenting available options
for HLA typing and structural variant prioritization in known
regions of interest.",2015-12-01T10:38:16Z,chapmanb
c733fc50e28f7a4642867e1e03e0243d04f1f4c7,chapmanb,chapmanb@50mail.com,"Avoid loading GTF database unless needed

Tries to work around sqlite3 connection errors in #1123 if
the BED file was pre-created during installation.",2015-11-30T20:03:10Z,chapmanb
b3cac5247ee8c77af6a493c507ee8da736021364,roryk,rory.kirchner@gmail.com,Use tmpdir from configuration YAML for Sailfish.,2015-11-30T19:37:21Z,roryk
4e11eac3ed399719a66ffc5b0e8eaff821d58314,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1128 from mjafin/master

Hisat2 to use Tophat disambiguation algorithm",2015-11-30T17:32:22Z,roryk
52201b94600c111af88b87c48c4ae5247cc08abe,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1127 from mjafin/patch-2

skip variant calling if no caller is specified",2015-11-30T17:32:13Z,roryk
004c00b829d2365eb69b1396af78e0cd9c8e71c7,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #1126 from mjafin/patch-3

return None in get_vardict_command() when no variant caller is specified",2015-11-30T17:31:36Z,roryk
b85ab80513424e1e1ff7c526b25bee5d3bcfaa1b,Lorena,lorena.pantano@gmail.com,Remove tdrmapper for bcbio conda.,2015-11-30T15:45:12Z,lpantano
b5e0336de19c8f5f16bb05cac2d42612fc756467,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Hisat2 to use Tophat disambiguation algorithm,2015-11-30T13:29:00Z,N/A
6e05be0a73d19bd2a1d83d30e39a10a8fb5ac87b,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update vardict.py

To return `None` in `get_vardict_command()` when no variant caller is specified",2015-11-30T12:53:47Z,mjafin
7ea3981b29724418a6dbfe1117dd06884280fb4e,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update rnaseq.py

to not break if no variant caller is specified",2015-11-30T12:53:17Z,mjafin
d86d23da2664b3701c3243170953dec2558c0ffa,chapmanb,chapmanb@50mail.com,Discourage use of root/sudo during installation #1120 #1123,2015-11-30T11:11:55Z,chapmanb
cd4ad1cfeea6be8129565dae7019f50e5c63701b,chapmanb,chapmanb@50mail.com,Do not require aliases section in genome resources Fixes #1125,2015-11-30T10:45:14Z,chapmanb
25a141cfc81bc1d57bb6ca062dc30beb81dc0c66,chapmanb,chapmanb@50mail.com,"SV prioritization: better report breakends

Report IDs and MATEIDs for breakends in prioritized tsv file
to make it easier to find pairs.",2015-11-29T20:39:07Z,chapmanb
997fa28989f6a881f13ee3347109349ae38df307,chapmanb,chapmanb@50mail.com,BubbleTree: initial approach for estimation without normal samples,2015-11-29T14:23:01Z,chapmanb
745ef963ae99f7e6188b3469a54372a0c20ea899,chapmanb,chapmanb@50mail.com,"Limit RTG memory usage by limiting threads

- Ensure standard memory usage behavior on larger machines. Thanks
  to @Lenbok for memory estimation.
- Do not yet change vcf-score-field for ROC creation but document
  discussion. @scatreux preferred a single metric for comparisons
  across multiple callers (QUAL) but @Lenbok suggested caller
  specific fields
  (https://github.com/chapmanb/bcbio-nextgen/commit/a538cecd86c0000d17d3f9d4f8ac9d2da04f9884#commitcomment-14601753)",2015-11-29T11:33:17Z,chapmanb
9b3e9e167cc26be203d0731c45ea13e318718567,chapmanb,chapmanb@50mail.com,"BubbleTree: subset to CNV region pass variants

- Only include calls in regions assessed for CNV calling to reduce
  inputs and keep consistency.
- Do not include variants filtered for quality (rather than germline
  status).
- Add ploidy and sample names to plots.",2015-11-28T20:57:40Z,chapmanb
5ac3e0e3257035452f3540df4729f4b8b765b537,roryk,rory.kirchner@gmail.com,"Add initial support for RNA-seq variant calling with vardict.

Needs to 1) be tested on something that actually produces
variants 2) be squared off and cleaned and 3) have edit events
flagged via annotation with the DARNED and RADAR databases.",2015-11-28T18:46:37Z,roryk
cf508a1da56f6aca3511b23b9a24bdad62d62c10,Rory Kirchner,rory.kirchner@gmail.com,Find vardict command in list of commands or string.,2015-11-28T16:49:29Z,roryk
589d61d371be68c93cdf0a59617e74ef5d9c1040,chapmanb,chapmanb@50mail.com,"BubbleTree: add bubble and track plots

Works through issues with data format incompatibilities
from vignette to setup both types of plots on standard runs",2015-11-28T09:47:15Z,chapmanb
63bce60317854f20539d5486d7b8552ce9013fb2,roryk,rory.kirchner@gmail.com,Ignore installed srna test data.,2015-11-27T21:27:12Z,roryk
5903b3939f63d180b738e11f3c6b609553572856,roryk,rory.kirchner@gmail.com,Cleanup whitespace.,2015-11-27T20:54:15Z,roryk
e1ad917691fef6a0cd6eafb4902717e63b875326,roryk,rory.kirchner@gmail.com,Update history with Sailfish and hg38 RNA-seq work.,2015-11-27T20:02:16Z,roryk
683883c6282dc11112bae043281b672fae517ad1,Rory Kirchner,rory.kirchner@gmail.com,"Add Sailfish as the default non-count expression estimator.

This moves Cufflinks to an opt-in expression caller via the expression_caller entry
in the configuration and adds Sailfish as the default caller.

Sailfish expression values are added via four files. The first is the
Sailfish directory which can be used with Sleuth. The second is a
tidy combined.sf file that has all of the TPM calls for all transcripts
in all samples in tidy format. combined.isoform.sf.tpm has isoform-level
TPM in a matrix format and combined.gene.sf.tpm has gene-level
TPM.",2015-11-27T19:58:19Z,roryk
0f5c1de1f9aafc84c522c95cb4c67712c74e75f9,roryk,rory.kirchner@gmail.com,Add transcript_to_gene.,2015-11-27T18:29:45Z,roryk
075e955c46ba4f98264a5e04ceeb772af892c531,roryk,rory.kirchner@gmail.com,"Remove duplicated biotype_lookup_fn.

Use the private version.",2015-11-27T18:29:45Z,roryk
9c2b17a7b18b560a70afb4526701155030ed7ef7,chapmanb,chapmanb@50mail.com,BubbleTree: use CNV segmentation to define heterogeneity blocks,2015-11-27T17:53:57Z,chapmanb
f7cdf3f7114c7a58ac3b22356f5db510914cc551,chapmanb,chapmanb@50mail.com,"Instrumentation to find changed world and files

Initial work to enumerate files and configuration changing at each step
of a bcbio run. This is a first step towards writing a file of changes
we can use as inputs to CWL workflows.",2015-11-27T10:08:45Z,chapmanb
bc48aebe2462b88ce008817458d8f9c590086300,roryk,rory.kirchner@gmail.com,Add hisat2-specific memory requirements to alignment step.,2015-11-26T16:09:36Z,roryk
bea95b51d9f28fd21bc8b60f8f1b985f1bc7d9b2,Lorena,lorena.pantano@gmail.com,Bump bcbreport version.,2015-11-26T15:55:54Z,lpantano
ce542813eead58b749df88162bca7b73d144ea8e,Lorena,lorena.pantano@gmail.com,Fix multiple sample in GC coverage. thanks to @lbeltrame.,2015-11-26T15:54:33Z,lpantano
bb3d3342484d726a4339f9a84f1f6bf2f2c4ec2f,roryk,rory.kirchner@gmail.com,If genome(s) are specified then only upgrade those.,2015-11-26T13:32:05Z,roryk
88ed903cd045a5ca85f9368a62742ac3772a8a09,chapmanb,chapmanb@50mail.com,Sort simplified priority VCF by reference to handle breakend resolution logic,2015-11-25T20:49:58Z,chapmanb
50c30dbd0dedbb9c9fe9cebf6737ab19f744437c,chapmanb,chapmanb@50mail.com,Bump versions of new hg38 resources files with rnaseq data. cc @roryk,2015-11-25T20:34:32Z,chapmanb
aa9c66f784eb40c70defe0bc9d6752484f1de5fd,roryk,rory.kirchner@gmail.com,Add RNAseq to hg38 and hg38-noalt resources.,2015-11-25T18:22:08Z,roryk
e4d520b23a4868b8d92f83a3bc0ac11894cd2dbc,chapmanb,chapmanb@50mail.com,"Avoid merge of multiple same position Lumpy calls

Using GATK CombineVariants results in Lumpy breakend calls with the same
coordinates being merged, losing the mate connections. This switches to
use bcftools concat instead since complex merging is not needed, and
avoids pulling these positions together. Thanks to @ohofmann.",2015-11-25T16:33:16Z,chapmanb
2ffb4868d670ba2e74feafe35b5a56d71e11ee0c,chapmanb,chapmanb@50mail.com,"Annotate end regions for large SV events

During prioritization, simple_sv_annotation can now annotate END_GENE,
which gives insight on second partners for fusions or other large
events. Thanks to @mjafin",2015-11-25T13:47:07Z,chapmanb
0958405e07428dae036239636cb0b060b8390bce,Lorena,lorena.pantano@gmail.com,Add tdrmapper to srna-seq bcbio pipeline.,2015-11-24T19:11:35Z,lpantano
5068b6336ca6ee8064479585269c9d19ad5c1a9d,chapmanb,chapmanb@50mail.com,"Improve Lumpy filters for small calls

Filters smaller calls without split read evidence which contribute to
false positives during prioritization.",2015-11-24T15:28:38Z,chapmanb
f47a5e6a29f0aa818ee4e2fffb8f1b9f83930ff8,chapmanb,chapmanb@50mail.com,"Improvements for structural variant prioritization

- Genotype breakend calls passing Lumpy prioritization.
- Only pass non-reference calls through prioritization -- improves
  accuracy for Lumpy calls.
- Avoid filtering variant regions when combining outputs unless
  specifically requested.

Thanks to @mjafin",2015-11-23T11:01:11Z,chapmanb
b0c87cc0f0a82ed63783e23d7e4aa17588c7b16c,chapmanb,chapmanb@50mail.com,BubbleTree: clean up CSV output results,2015-11-23T02:04:23Z,chapmanb
85d3cf91c805cbc8fe152a28e86f954ccf0589f7,chapmanb,chapmanb@50mail.com,Update BubbleTree to run with latest Bioconductor version,2015-11-21T11:21:03Z,chapmanb
fba31eb42a658b04793dee05adfa992325e626e3,roryk,rory.kirchner@gmail.com,Remove temporary file.,2015-11-20T15:03:51Z,roryk
61f4dabea2c74fb52db40475ca17eb535eeb30d4,chapmanb,chapmanb@50mail.com,Ensure PATH set for Rscript with cpat. Thanks to @mjafin.,2015-11-19T12:36:45Z,chapmanb
978f79682ff690250f4ff8f836242670644fb8f7,chapmanb,chapmanb@50mail.com,Add links for presentation at CSHL course,2015-11-18T14:35:59Z,chapmanb
a144d09a01c11e76d265dce3fe93bb430f702502,chapmanb,chapmanb@50mail.com,"Lumpy: avoid excessive filtering of large events

The current rule overly filtered large fusion events with a lot of
support. This relaxes the useful split read filter to those large
events with less total support. Thanks to @mjafin.",2015-11-18T12:01:15Z,chapmanb
427bf228eaeb711d92df645f0167a075c3d08b32,chapmanb,chapmanb@50mail.com,Provide useful error for missing aligner indices. Thanks to @ohofmann,2015-11-18T12:00:07Z,chapmanb
700bbfb9581de18aa029e84861ede08faaf032da,chapmanb,chapmanb@50mail.com,"Documentation for CSHL teaching course

Provides walk through of pre-run input configuration and outputs
for a cancer tumor/normal synthetic 3 sample, with SNPs, indels
structural variants, HLAs, SV prioritization and build 38 runs.",2015-11-17T10:46:58Z,chapmanb
a90ed0a9bca021e9bb1028c6bb16e67848ff7c69,chapmanb,chapmanb@50mail.com,"Ensure VarDict uses conda installed Rscript

Fixes errors on systems without a global R installation, which masked
the issue previously.",2015-11-17T10:21:28Z,chapmanb
283712da210bef36a8b3cb903a0e4c7d35b5a4aa,chapmanb,chapmanb@50mail.com,"Use cyvcf2 for calculating read depth. Fixes #1107

Switch to a faster VCF parser for calculating read depth to avoid
long running parses with pyvcf.",2015-11-17T01:53:41Z,chapmanb
e478e089245ebdd5b32696901fa03ac5bb61755a,chapmanb,chapmanb@50mail.com,Add configuration files and download script for minimal synthetic 3 teaching example,2015-11-16T18:11:37Z,chapmanb
439e6e649584fd0f8140027ad3091ed2993735e7,chapmanb,chapmanb@50mail.com,Move HLA calls into final output directory,2015-11-16T17:14:16Z,chapmanb
1cf261a0b722d5d3a3d18be69ceb6543f43c0586,chapmanb,chapmanb@50mail.com,"hg38: syn3 truth set and SV exclude files

- Adds SV ignore regions from biodata for hg38 structural variant
  calling.
- Documents synthetic 3 crossmapped truth set",2015-11-16T15:13:57Z,chapmanb
6530d0e5c78291d326b12143b170febc48d4d061,chapmanb,chapmanb@50mail.com,"Additional default memory for RTG validation

Previous memory limitations were too low for whole genome validations,
updated to a workable memory limit. Thanks to @guillermo-carrasco and
@ohofmann",2015-11-16T10:58:42Z,chapmanb
33ed7bb69e3ed0da81cebe5b23cab4363f761a67,Lorena,lorena.pantano@gmail.com,Change srnaseq report template name.,2015-11-16T01:54:33Z,lpantano
4899eb9c37e2da26df389127cbe849b4799eeaa4,chapmanb,chapmanb@50mail.com,Improve reporting and genotyping of OptiType comparisons,2015-11-15T11:25:03Z,chapmanb
fe5e466a966afb60a9fe4375cad505b046dc74cf,chapmanb,chapmanb@50mail.com,"HLA typing with OptiType

Support HLA typing using OptiType with (`hlacaller: optitype`). Provides
good resolution of HLA types, including deep sequenced regions.",2015-11-15T10:44:32Z,chapmanb
74168a415d5381494dcbf05870dad0dc9cd16c91,roryk,rory.kirchner@gmail.com,Update with RNA-seq work since 0.9.4.,2015-11-15T02:23:54Z,roryk
2dea7b3e9c0d627c028f2e7d147f5124f2438d26,roryk,rory.kirchner@gmail.com,"Make eXpress optional.

Add to expression_caller to turn eXpress on.",2015-11-15T02:18:25Z,roryk
60a0f3c4f8ec658f8c34d6bc77b23a90f47b45d6,chapmanb,chapmanb@50mail.com,"FreeBayes: do not call if no BED regions available

When filtering out high depth/repeat regions to improve runtime, avoid
calling when the resulting file is empty. FreeBayes complains about
an empty BED file, so we instead write an empty VCF. Thanks to
@guillermo-carrasco.",2015-11-13T14:59:07Z,chapmanb
ebcc54f025e3c494386e02ef1ad721190c602b31,chapmanb,chapmanb@50mail.com,"FreeBayes high depth regions, CNVkit 0.7.3 compat

- Avoid calling in high depth regions, including ENCODE blacklist
  regions, with FreeBayes. Tries to work around long calling times
  in centromeres with latest FreeBayes release (Thanks to
  @ohofmann and @guillermo-carrasco).
- Update CNVKit to move away from deprecated `genome2access.py`
  approach in latest release",2015-11-12T11:37:33Z,chapmanb
62cdb76c2199d0aea82167bfd1183be46bf3e63a,chapmanb,chapmanb@50mail.com,"Pre-installed SV prioritization targets

Allow use of known genes of interest (cancer/az300,
cancer/az300-with-fusion, cancer/civic) for structural variant
prioritization. These are pre-installed for hg19 and GRCh37.",2015-11-12T10:18:47Z,chapmanb
b008ee26cd22e0de1aa447c33e266e65cb9caf89,roryk,rory.kirchner@gmail.com,"Add DEXSeq to bcbio_system.yaml.

We'll be dropping eXpress soon, so this will insure the right
resources get added when running DEXSeq.",2015-11-12T00:08:11Z,roryk
a538cecd86c0000d17d3f9d4f8ac9d2da04f9884,chapmanb,chapmanb@50mail.com,"rtg and variant counting validation improvements

- When counting variant summary from tps/fps/fns, use explicit include
  and exclude types for SNPs versus others to potentially avoid
  miscounting in reports (cc @kevjp)
- Pass memory constraints for rtg vcfeval to avoid overusing memory
  or stack.",2015-11-11T17:43:40Z,chapmanb
2257f5ef59ffb55367d213bb106e4142b82668a5,chapmanb,chapmanb@50mail.com,"CWL: use Scatter/Gather, handle temp directory

Improvements from work at Bio in Docker hackathon for CWL support in
bcbio. We now actually run one section of a bcbio pipeline without
any cheating. Improvements include:

- Use scatter/gather for correctly distributing jobs across samples.
  Thanks to @tetron and @boysha for help.
- Co-ordinate the CWL representation with expectations for the
  bcbio world object.
- In align_prep automatically set local work directory to temporary
  directory to avoid need for global shared directory.

Next steps are explicitly defining changes at each step and doing
further interrogation of bcbio activity for generalizing.",2015-11-11T09:55:54Z,chapmanb
3fd7d3fa2b117b61a20c09e4888a2c8338b69a40,roryk,rory.kirchner@gmail.com,Fix for rRNA rate not being able to be converted to YAML.,2015-11-11T02:35:29Z,roryk
e0c8edffacbd21475c37bd4e42992b46ec3df463,chapmanb,chapmanb@50mail.com,Check for empty coverage edge case in new pandas,2015-11-10T09:38:36Z,chapmanb
acd79b47715347e1b8074515e16c9e1c5a01b6d9,roryk,rory.kirchner@gmail.com,"Fix count-based rRNA calculation.

gffutils returns attributes as lists by default, so this delists
them. The proper rows are extracted from non-indexed count-files
as well.",2015-11-09T20:17:27Z,roryk
7393dfec9b1f6a5a9b6fcb6e736b10243cc02edc,Lorena,lorena.pantano@gmail.com,Fix parameter for miraligner in srnaseq.,2015-11-09T00:37:58Z,lpantano
487123467e6bbb4a223f33e530a730c3f8ef2f35,chapmanb,chapmanb@50mail.com,"Allow partially overlapping batches. Fixes #1102

Removes assumptions of single batches, or tumor batches with
multiple associated normals, in downstream processing. Enables more
complex batch setups.",2015-11-08T13:49:17Z,chapmanb
1c50528c27f5d2a21454b3d5deb5da88a29a6c18,chapmanb,chapmanb@50mail.com,Return fastq file if already gzipped. Small fix for https://github.com/chapmanb/bcbio-nextgen/commit/347b2f2e0e3c7aa55549b84eceab2dbf5f440973,2015-11-08T01:06:27Z,chapmanb
65407226ff6492182bd4ddf77de8bb6409ab51fb,roryk,rory.kirchner@gmail.com,Update docstring to match what function is doing.,2015-11-07T16:51:56Z,roryk
347b2f2e0e3c7aa55549b84eceab2dbf5f440973,roryk,rory.kirchner@gmail.com,"Handle bzipped2 FASTQ files as input.

Some tools can handle bzipped files, others can't. So we convert
the bzipped files to bgzipped files before continuing.",2015-11-07T16:49:14Z,roryk
c7708ed7fa30bbfb22e63dffea06cd464f489c86,Rory Kirchner,rory.kirchner@gmail.com,Add variantcalling and fusion calling to STAR test,2015-11-06T15:37:45Z,roryk
1caecb792ad0659e5f0e80ed4e642f8ac94fd9dd,Rory Kirchner,rory.kirchner@gmail.com,"Fix STAR not aligning to the transcriptome.

I just removed the check for the broken versions of STAR since everything
from 2.4.0i and up should work fine.

Also add the transcriptome alignments to the files that are uploaded.
Fixes #1099. Thanks to @kuikuisven for noticing the issue.",2015-11-06T15:26:02Z,roryk
aa53b47f6115d3a3748b8de463ffc57b12af9ae2,chapmanb,chapmanb@50mail.com,Slides for BIG and Bio in Docker meetings,2015-11-05T14:58:25Z,chapmanb
4dbf92b8e4cff1e816b8467338aa1c0202623372,chapmanb,chapmanb@50mail.com,"Initial structural variant prioritization

Supports preparation of a simplified tab separated file of structural
variants in biological regions of interest. The `svprioritize` algorithm
argument in a BED file of regions to focus on. Initial version for
testing and documentation will follow. Thanks to @mjafin",2015-11-05T10:49:04Z,chapmanb
a5e786b9b1f080bf32e3548b220968e4cb294e78,Lorena,lorena.pantano@gmail.com,Add report to final directory. Thanks @lbeltrame.,2015-11-04T14:40:10Z,lpantano
7a08c00b50953e7c15f54ca862df3d5074436584,chapmanb,chapmanb@50mail.com,"Create a single layer Dockerfile for hub.docker

Enable push/pull from hub.docker, and potential automated builds, by
creating the image as a single layer. Reduces total space for retrieval
and storage to similar to flattened gzip approach.",2015-11-04T10:25:27Z,chapmanb
40fb5ba683e2913bd4c9145f7ab899fca643b43d,Lorena,lorena.pantano@gmail.com,Add dexseq annotation file to help with limma DE analysis.,2015-11-03T16:30:15Z,lpantano
43c9dc30bf120e346515a419eb130790bea7a3fc,chapmanb,chapmanb@50mail.com,"CWL preparation: skip our hacky provenance steps

Calling for program information fails on systems without a full
bcbio installs. Thanks to @brainstorm",2015-11-03T15:02:04Z,chapmanb
32e2b24bc898ec65dae341aea81969ea6081cf24,chapmanb,chapmanb@50mail.com,"Allow passing options to GATK VQSR

Enables `resource: option` specifications for `gatk_apply_recalibration`
and `gatk_variant_recalibrator` to define specific tranches and
annotations for filtering. Thanks to @scatreux",2015-11-03T10:20:39Z,chapmanb
24e665672bba25e481c9efd883bbe37b1f166f80,chapmanb,chapmanb@50mail.com,"Allow use of VEP on non-human analyses (fixes #1092)

Only apply human specific annotations like PolyPhen, SIFT, dbNSFP
and Loftee when running a human analysis.",2015-11-03T10:02:41Z,chapmanb
89bf020a3d99795026b8062a8a495eb6b5c3f6a1,chapmanb,chapmanb@50mail.com,"Avoid callability assessment on smaller contigs

Smaller chromosomes (less than 1 million bp by default) do not benefit
from splitting by callability, so this saves bedtools compute and
disk IO processing on those, focusing on larger chromosomes. Setting
`variant_regions` overrides this. Provides helpful reduction in
processing for #1088",2015-11-02T09:17:24Z,chapmanb
ec0debc6747d959d57f10c64b962af1334e78c7f,chapmanb,chapmanb@50mail.com,Sort validation plots by order of original input samples,2015-11-01T10:25:04Z,chapmanb
b84221ba041bba81fe0de5e053d6cd02332a3a04,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1089 from mdeboth/master

Added missing comma between rn5 & canFam3",2015-11-01T09:32:09Z,chapmanb
1985599dee191542d6d1d2ddef15ec5f32caffe2,Matt De Both,mdeboth@tgen.org,Added missing comma between rn5 & canFam3,2015-11-01T04:51:25Z,mdeboth
25f6be7e0fa9ce8e62efa10a705b3a5e47c3179e,Lorena,lorena.pantano@gmail.com,Help inside srnaseq template yaml.,2015-10-31T20:22:05Z,lpantano
740ccc14a772a001a0846a3dde7c2615babce024,Rory Kirchner,rory.kirchner@gmail.com,Return NA if no rRNA transcripts are annotated.,2015-10-31T16:10:01Z,roryk
6483829ad16e3c9b9e3a4587f4a217d9fab3cc61,chapmanb,chapmanb@50mail.com,HLA documentation and fixes thanks to comments from @heuermh,2015-10-30T19:11:25Z,chapmanb
5fae2e769dbc445cf2b5aba05832c43405ae5edb,Lorena,lorena.pantano@gmail.com,Avoid error when empty mirbase file.,2015-10-30T18:20:41Z,lpantano
26d750267bc7336c3437c497c22d5b88e3b9cb6e,chapmanb,chapmanb@50mail.com,"CWL runs: flat inputs to nested world structure

Finalizes passing flat CWL output to bcbio by normalizing back into
nested world objects. Add skeleton test cases for local and Docker
test cases. Still needs to handle parallel multiple sample inputs
and non-shared directory structure.",2015-10-30T17:35:46Z,chapmanb
16180a46097c2eef5b4900dd4ed995a21656dd33,chapmanb,chapmanb@50mail.com,"CWL: update with latest status and approaches

Document current state of CWL support -- generated by bcbio and
flattening world object to CWL structure. Document running and
next todo steps, in prep for CWL hackathon next week.",2015-10-30T17:30:22Z,chapmanb
2db341f67c0ea32353f7e32d4b0b467cc32e434d,chapmanb,chapmanb@50mail.com,"Support proxies with Ensembl VEP data download

Uses wget, which respects proxies, to pre-download VEP data, avoiding
the internal VEP NET::Ftp. Fixes #1080",2015-10-30T13:22:13Z,chapmanb
4114d0f9d990cb9860395575bbcdf97f299b8c74,chapmanb,chapmanb@50mail.com,"Group HLA reporting by pre-defined p-groups

Uses the HLA protein (P) codes nomenclature to group results into
blocks with identical antigen binding domains:

http://hla.alleles.org/alleles/p_groups.html

Thanks to @heuermh and Steve Mack",2015-10-30T09:27:51Z,chapmanb
b981edb226f126f3a9ce861e71fc79feff64abf4,Rory Kirchner,rory.kirchner@gmail.com,Calculate rRNA percentage from the counts.,2015-10-30T06:56:01Z,roryk
1adc1e25407b0ba94c7020bcc10a4a817afc25a4,roryk,rory.kirchner@gmail.com,Add function to find genes and transcripts with rRNA biotypes.,2015-10-30T06:49:29Z,roryk
70b287a9f8c18fe0eaff6d9cffd979acf53a45e6,Rory Kirchner,rory.kirchner@gmail.com,"Add STAR fusion gene calls to BAM file.

Thanks to @mjafin for pointing out they aren't merged in.",2015-10-29T16:55:57Z,roryk
812fe847d3acbba8ff6931368366e8a30beadc4e,chapmanb,chapmanb@50mail.com,mm10: update resources for new location of LCR file,2015-10-29T09:46:31Z,chapmanb
fa4dcf843e1eadbce624d82ffcba50ec86656c06,Lorena,lorena.pantano@gmail.com,Fix undefined variable in hisat2 function.,2015-10-28T21:34:07Z,lpantano
bd472d01f65f93292d467643f995f72cd62bd45f,Lorena,lorena.pantano@gmail.com,Update coverage report.,2015-10-28T21:14:04Z,lpantano
b6fc26652a5f44410f89d7d36f6bac7023ebe8ad,Lorena,lorena.pantano@gmail.com,Remove duplicated samples in coverage report. Thanks @lbeltrame,2015-10-28T20:55:14Z,lpantano
3d9ae4cdca601aebcad71576a2faf9183c1bc4e2,chapmanb,chapmanb@50mail.com,"VarDict: do not call in ENCODE blacklist regions

Avoids long run times with VarDict on whole genomes due
to collapsed repeats near centromeres. Thanks to @alexeigurevich.",2015-10-28T11:31:35Z,chapmanb
22837747a5f1d889f65593b2281303805c47aeb6,chapmanb,chapmanb@50mail.com,"Update hg19/GRCh37 resources to use new repeats

- Adds new encode_blacklist regions for filtering out high depth
  regions that cause issues with VarDict.
- Updates LCR and repeats to use new generalized GGD download.",2015-10-28T00:50:45Z,chapmanb
d68f9164ec09c199700e819386064855806c15c0,roryk,rory.kirchner@gmail.com,Fix to allow for specifying the genome directory.,2015-10-27T22:20:06Z,roryk
9d9091f1d6ef965619e690bf1a4f2373f725e906,Lorena,lorena.pantano@gmail.com,Add counts to final folder in srnaseq.,2015-10-27T19:10:45Z,lpantano
a5a753f5275d73a035718d10c98994922c75fa33,chapmanb,chapmanb@50mail.com,Update MetaSV parameters for latest development version #1078,2015-10-26T10:21:27Z,chapmanb
91ddd1b379e10f561293d7425d08001c0fae619a,chapmanb,chapmanb@50mail.com,"CWL: minimal output with valid keys and paths

Work towards a minimal example. Now CWL and inputs generated by CWL
pass validation and submit to bcbio. Needs support to handle flattened
approach in bcbio itself.",2015-10-26T09:43:50Z,chapmanb
9b6309137dda43bdb0e263adf06e615b4ba2c393,chapmanb,chapmanb@50mail.com,"CWL: autogenerate input json and top level CWL

- Add autogeneration of input json values for bcbio runs, flattening
  the world object and annotating with Avro types.
- Start work on pre-generating the top level CWL for running tasks.",2015-10-25T09:50:53Z,chapmanb
c23c75af6c8fe693558fbd7c97a56925c52b37c2,chapmanb,chapmanb@50mail.com,"CWL generation: automatically generate CWL output

Start moving hand generated CWL into small bcbio specific functions
for making automatically.",2015-10-24T09:47:57Z,chapmanb
a76d1f00e7dce953e09f2eb05179399d9b56760a,chapmanb,chapmanb@50mail.com,"Put fastqc temp files inside local tmp directory

By default fastqc uses the global `/tmp` directory which can cause
issues if this directory is full or non-writeable.",2015-10-24T09:09:37Z,chapmanb
6e97f849236d3f32d1a8274e7f74ec8c62212600,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1076 from guillermo-carrasco/master

Use sample name for fastqc reports",2015-10-23T17:22:06Z,chapmanb
2329e2a8bd41ca97dadc59e8d00a98b81c8aa53e,Guillermo Carrasco,guille.ch.88@gmail.com,Use sample name for fastqc reports,2015-10-23T12:59:42Z,guillermo-carrasco
c67bc827a3e471e0b8db6713a3d87d9334722f49,chapmanb,chapmanb@50mail.com,SV validation: find paths to globally installed truth sets,2015-10-23T10:10:59Z,chapmanb
44c2aaf9affb79bf7f2ac7c85bae1b605e7f667d,chapmanb,chapmanb@50mail.com,"Improve VarScan precision for somatic calling

Remove high frequency low probability (SPV) variants. False positives
dominate these results. Working on improve overall precision of VarScan.",2015-10-23T09:38:01Z,chapmanb
57cc11c292e2e8d47bdf20e3572cc541a32c20ab,chapmanb,chapmanb@50mail.com,"More robust calculation of median coverage

Catch errors when we can't calculate coverage on samples and avoid
trying to estimate high depth regions. Thanks to @ssaif",2015-10-22T10:18:05Z,chapmanb
2d8eac01068a6b8f04c9ec2cbd968933f0480736,chapmanb,chapmanb@50mail.com,"Automated download of rtg indexes on cloud runs

This includes pre-built rtg indices in the data preparation step to
enable validation for runs on cloud resources. Thanks to
@guillermo-carrasco.",2015-10-22T09:24:06Z,chapmanb
10d744630f6392b5f537aea1df14c4907d15fdcd,chapmanb,chapmanb@50mail.com,"Speed improvements for lumpy genotyping

- Skip genotyping of breakends. In difficult samples these can be
  extensive and contribute to huge run times. Other caller types do get
  genotyped, them combined with the raw breakend output.
- Move to latest svtyper, which includes 8x speedups.",2015-10-21T18:02:41Z,chapmanb
4aec0f655da488a4b1b10c428d5bb612a14620ff,chapmanb,chapmanb@50mail.com,HLA bwakit calling: provide typing and consistency by HLA protein,2015-10-21T11:58:49Z,chapmanb
7a5dcf8ec8bba750ed079cbfc7f88ae4d7cb639a,chapmanb,chapmanb@50mail.com,bwakit HLA calls: first pass at annotated report with truth calls,2015-10-21T08:51:26Z,chapmanb
50883e987ae6773a2c2f09ca9eb7af3cd0a9c917,roryk,rory.kirchner@gmail.com,"Fix trimming message.

Thanks to @mjafin for catching it. Closes #1069.",2015-10-20T20:47:09Z,roryk
34f89e482f60dea82cda75078bd9f1bab68ad538,chapmanb,chapmanb@50mail.com,"lumpy: avoid running svtyper on exclusion regions

High depth regions can end up in Lumpy calls despite the exclusion tag
resulting in long run times for svtyper. This removes them prior to
genotyping to avoid this. Thanks to @mjafin.",2015-10-20T15:50:55Z,chapmanb
e97c9aaf3858da0af90bb6f5ad1a18fa7ab020a3,chapmanb,chapmanb@50mail.com,"Initial framework for HLA calling with skeleton bwakit calls

- Provides parallelization and configuration points for running HLA
  callers after alignment using HLA alts generated by hg38.
- Skeleton implementation of calling with bwakit/run-HLA.",2015-10-20T09:16:56Z,chapmanb
1d8d0507ce1b9961f9b958151d226e220ce51257,Lorena,lorena.pantano@gmail.com,Add commented option to sranseq test.,2015-10-19T18:33:13Z,lpantano
0f32d5f6673472be70d7d3a88312df48d00538db,Lorena,lorena.pantano@gmail.com,Allow hisat2 to srnaseq pipeline.,2015-10-19T18:32:21Z,lpantano
b51c233db2077f123fedbdf9e90ef3cf97c5f87d,roryk,rory.kirchner@gmail.com,"Take into account environment size when calculating ARG_MAX.

http://www.in-ulm.de/~mascheck/various/argmax/ has some
discussion about it.

Hopefully addresses #1061.",2015-10-19T15:19:20Z,roryk
3753779923000bdf578168a9bd80c239471d4054,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1065 from mjafin/vardict_paired_germline

Vardict paired germline",2015-10-19T14:18:16Z,chapmanb
86a0c98b3386b6db402ab04cffdf14a3442c402e,chapmanb,chapmanb@50mail.com,"Fixes for generalized varscan

- Change quote characters for bcftools filter to avoid creating illegal
  escaped FILTER output that bcftools view will fail on.
- Add ambiguous base to 'N' change for REF column as well since VarScan
  can output problem REF alleles with non-N ambiguous alleles that cause
  failures with GATK.",2015-10-19T13:41:14Z,chapmanb
b098e92760f2e64692d4f44c8b05dccf5280ccbb,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Added a more detailed description of turning off vardict paired filtering,2015-10-19T13:31:58Z,N/A
b8955ceb186f4272202cc9658073aa559d6b8321,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Modified VarDict to skip any filtering of germline variants in paired analysis when specifying tools_off for vardict_somatic_filter,2015-10-19T13:20:50Z,N/A
6139947e35dcf33113f28133454422fc9bd3db99,chapmanb,chapmanb@50mail.com,"varscan: catch issues with binary unparsable FREQ output, converting to 0.0 frequencies",2015-10-19T09:17:03Z,chapmanb
42c6bbc29ed28861f5fbdf74b48f048ac2d7300e,chapmanb,chapmanb@50mail.com,"Re-work VarScan: 2.4.0 + piping + consistency

- Provide consistent filtering and fixing of VarScan output between
  paired and single sample mode. Fixes #1062
- Update to VarScan 2.4.0 support using shell script installation
  through conda to avoid need to find jar file.
- Pipe mpileup commands directly into VarScan to avoid need to hit
  filesystem. Uses moreutils ifne to avoid issues with empty input
  mpileup files. 2.4.0 also handles empty inputs better.
- Updates test data to include hisat2 data and support for test.",2015-10-18T10:37:03Z,chapmanb
c90039c41ee1ce8ca74604eded1020ff357644f8,roryk,rory.kirchner@gmail.com,Set hisat2 test to expected failure until test data is uploaded.,2015-10-18T04:05:32Z,roryk
cec807b76ad07876661ff895cdd187bb376d834e,roryk,rory.kirchner@gmail.com,"preliminary hisat2 support added for RNA-seq.

Currently evaluating this as a way to move to hg38 for RNA-seq.
Thanks to @mjafin, @bioinfo, @schelhorn and @chapmanb for motivating
doing this.

Closes #1029. Partially addresses #817 for RNA-seq.",2015-10-18T03:55:34Z,roryk
7eac73a5d9b2e5184ec4cabc77c7a67e50e814e8,chapmanb,chapmanb@50mail.com,"Start on reboot of common workflow language support

Moves preparation logic for CWL output of the initial test CWL script
and into bcbio_nextgen, with an interface through bcbio_vm. The initial
preparation from bcbio YAML to CWL is not a good target for running
in CWL since the input file requires access to the filesystem and
relative paths. The outputs produced by `bcbio_vm.py cwl` will be CWL
files for actual runs.",2015-10-17T09:43:13Z,chapmanb
97e28c0923ef406da35de10c4e3d2dd83334f3ab,Guillermo Carrasco,guille.ch.88@gmail.com,Remove last os.rename. Fixes #1047,2015-10-17T08:44:28Z,guillermo-carrasco
dea1aaec2a7ce1bdbd237bebf83307c93b9e260c,roryk,rory.kirchner@gmail.com,Add hisat2 as an available index.,2015-10-17T02:35:25Z,roryk
382a4ff8bbb89112612830b34f8db57dcf4823ae,Guillermo Carrasco,guille.ch.88@gmail.com,Install minimal image. Thanks @brainstorm for the pointer,2015-10-16T10:56:17Z,guillermo-carrasco
5eb4d7940f3eec9ec0f5f6a27a1b5de025432e76,Guillermo Carrasco,guille.ch.88@gmail.com,Assign empty list instead of None if the algorithm section list is empty. Thanks @chapmanb,2015-10-16T09:45:59Z,guillermo-carrasco
90c47cf0d218848d117b54b91b8c5f5e78cdf31d,Guillermo Carrasco,guille.ch.88@gmail.com,Fix formatting error,2015-10-16T09:28:14Z,guillermo-carrasco
34552602d6188faa582e2a985c3a8a937c7b7f09,roryk,rory.kirchner@gmail.com,Allow bcbio_setup_genome to use bioconda installed binaries.,2015-10-15T22:48:58Z,roryk
6709c570789d33ae809d4acd26e7b4ee2e88111b,Lorena,lorena.pantano@gmail.com,Fix duplicated STAR cmd when no gzip files.,2015-10-15T20:05:33Z,lpantano
3be71bda8c6b77f08737913542892d76b115c867,Lorena,lorena.pantano@gmail.com,Catch error when file has only header. Thanks @guillermo-carrasco,2015-10-15T19:56:10Z,lpantano
a788d42dc8064f32d2065649c4571f72066fe08f,roryk,rory.kirchner@gmail.com,"Add support for on-the-fly STAR splice junction indexing.

Now we can generate the index just once for each genome,
and create the splice junction indices on the fly. This
also allows for the overlap to be tailored to the read length.",2015-10-15T18:23:28Z,roryk
5ba51f119573f886e98f45b3411e81ae72534ac2,roryk,rory.kirchner@gmail.com,"Add function to estimate maximum read length in a FASTQ file.

Also allow the average read length estimator to take gzipped files.",2015-10-15T18:22:39Z,roryk
5782871836e6575007d615a107f02ab9c73eb4e6,roryk,rory.kirchner@gmail.com,Support bioconda-installed programs.,2015-10-15T18:21:29Z,roryk
edf70ac8b21c068f8f3a0a0b3728fc8592d25326,Lorena,lorena.pantano@gmail.com,Fix typo in data frame with coverage information,2015-10-15T15:18:51Z,lpantano
d8e1f508754d20c29ec1df67422989716e419925,Lorena,lorena.pantano@gmail.com,"Change FASTQC output file name

Avoid coverage report in YAML file if file is not read properly.",2015-10-15T14:17:46Z,lpantano
8eccd9035cff5a03885cf601ac72c9278b91ac16,chapmanb,chapmanb@50mail.com,Annotate ensemble calls with supporting callers. Fixes #1018,2015-10-15T10:25:47Z,chapmanb
ba8370211b1624ebb8fb181e302da63db69028f3,roryk,rory.kirchner@gmail.com,Make sailfish upload directory compatible with sleuth.,2015-10-15T05:49:42Z,roryk
06ebee7c0377b337ec9274c818544f540451f0fe,roryk,rory.kirchner@gmail.com,Check for empty dataframe properly.,2015-10-15T04:58:03Z,roryk
b2edb31c10e62b64244f25027fa43c5806446a76,Lorena,lorena.pantano@gmail.com,Move coverage report inside qcsummary.,2015-10-14T17:23:38Z,lpantano
fbc4d0bb459883fce6d337fb002e84964e96e822,Lorena,lorena.pantano@gmail.com,Add average reads per region to yaml file. thanks @lbeltrame,2015-10-14T17:23:34Z,lpantano
f48b71fab76d8425a8552de1e7179f9f6d06f3a2,chapmanb,chapmanb@50mail.com,Fix typo in slurm update,2015-10-14T16:18:15Z,chapmanb
c6fb67c54aabb1db6bc7b56c60ac111978c9233f,chapmanb,chapmanb@50mail.com,"slurm memory fixes for small AWS clusters

On smaller clusters, typically on AWS, bcbio will try to overschedule
memory due to the presence of the bcbio and iPython controller jobs
on the small number of nodes. Because those jobs are present, larger
engine jobs cannot get scheduled. This reduces memory targets for
these systems to work around the problem. Thanks to @guillermo-carrasco",2015-10-14T16:09:03Z,chapmanb
3e58a0adad0ad69167a04c77c208b320d7f26db0,Lorena,lorena.pantano@gmail.com,Merge remote-tracking branch 'upstream/master' into ready,2015-10-14T14:13:46Z,lpantano
31eb30da9ac806bc68cf682f943e5df999da805f,Lorena,lorena.pantano@gmail.com,Add offtarget pct. Avoid kraken in sranseq.,2015-10-14T14:12:01Z,lpantano
c8b4d4a1a607480e9a8591005f2fc582cc1fbc8d,chapmanb,chapmanb@50mail.com,"Avoid progressbars for conda installs

Remove progressbars which can fail on some installations
(thanks to @mjafin).",2015-10-14T13:52:15Z,chapmanb
838522e53895ec99491b19c1e3188a2103632318,chapmanb,chapmanb@50mail.com,v0.9.4 release,2015-10-14T12:19:24Z,chapmanb
c76f81c56b3f0dbf4f303edb649cc60a376ff0b8,roryk,rory.kirchner@gmail.com,Add Sailfish to upload directory,2015-10-14T03:59:28Z,roryk
c92792f808f13e06af2f69ccb5567226107799b4,roryk,rory.kirchner@gmail.com,Run Sailfish bootstraps for use with Sleuth.,2015-10-14T03:33:42Z,roryk
50508d5dba852b65d5bceb37d93c443e65677cb4,roryk,rory.kirchner@gmail.com,Remove unused import.,2015-10-13T20:22:36Z,roryk
a73f663540568516d2c94de7232acae4f5f6449c,roryk,rory.kirchner@gmail.com,Remove unnecessary line.,2015-10-13T20:20:25Z,roryk
749434e4e180ef78b18942c0a8e65b4c66c35517,roryk,rory.kirchner@gmail.com,Create a tidy sailfish quantitation file.,2015-10-13T20:20:06Z,roryk
16364f71437b535a58b956f1ccfd0a8890d420fe,roryk,rory.kirchner@gmail.com,Add option to return lists to partition.,2015-10-13T20:19:34Z,roryk
b26e32dcc1510de828f732250dabe989cc1956dc,Rory Kirchner,rory.kirchner@gmail.com,Add memoization to Sailfish.,2015-10-13T18:20:13Z,roryk
51babfcaa8c71e3a05c563320517af413e85c651,roryk,rory.kirchner@gmail.com,Unify RNA-seq integration tests.,2015-10-13T16:24:32Z,roryk
45f3c76b17407a6d62988c7fca0446f66743273d,chapmanb,chapmanb@50mail.com,"Avoid race condition re-indexing during bamprep

This avoids potential BAM re-indexing in parallel during bam preparation
steps if a shared filesystem has out of date timestamps. Thanks
to @guillermo-carrasco.",2015-10-13T10:23:54Z,chapmanb
571575edf7277dacac5281a0b8edeee2171f3494,chapmanb,chapmanb@50mail.com,"Convert scalpel filters back to precise defaults

- Updates Scalpel/MuTect integration to re-run filters without re-doing
  calling, which makes testing on multiple parameters reasonable.
- Revert back to Scalpel defaults. Using scalpel-export, even with same
  parameters as the default, introduces extra false positives. We could
  not find parameters to improve sensitivity without a corresponding
  loss of precision: http://imgur.com/a/7Dzd3",2015-10-13T09:58:42Z,chapmanb
02e2119a42d62fe1a2977f094838b76d7c3043fc,chapmanb,chapmanb@50mail.com,"Update scalpel to support new version: 0.5.1

- Handles new command line naming for latest Scalpel release (0.5.1)
- Increases sensitivity on lower frequency somatic variants by tweaking
  filtering paramters. Needs additional work to improve precision.",2015-10-12T09:38:46Z,chapmanb
73816c20f0401b66786b637548881b4a0c22bbeb,chapmanb,chapmanb@50mail.com,Support lumpy re-runs with pre-bgzipped background files,2015-10-12T09:37:18Z,chapmanb
804f1325e75d360ad134408ade9b9678ed6967bd,chapmanb,chapmanb@50mail.com,"Avoid need to set LD_LIBRARY_PATH and PERL5LIB

Aims to make installation easier by only needing to adjust PATH
specification.

- LD_LIBRARY_PATH for bamtools now handled by conda installations of
  bamtools requiring tools.
- Set PERL5LIB when running Perl programs in bcbio instead of requiring
  a global setting.",2015-10-11T09:02:16Z,chapmanb
4f21f685e3f60324a5ecc0168bddd7db35870cda,chapmanb,chapmanb@50mail.com,Correctly label supplemental indel callers like scalpel in validation plots,2015-10-10T10:25:05Z,chapmanb
efe7288ee7796c0523bdeda4a0375bf35d464d51,chapmanb,chapmanb@50mail.com,Use community bioconda repository for dependencies,2015-10-10T09:46:59Z,chapmanb
b85b44124b71e193c123299121dc489956cc6a24,chapmanb,chapmanb@50mail.com,"Use pre-installed truth sets for validations

Enables use of Genome in a Bottle, Platinum Genomes and DREAM validation
data sets from sample analyses using pre-installed truth sets with
standard naming. Document available truth sets with genome support.

Thanks to @BioInfo, @scatreux.",2015-10-10T08:53:10Z,chapmanb
dcbc97917b6a0c596aa156a16d4a0c84dc961fe6,chapmanb,chapmanb@50mail.com,"Unit test fixes with GATK 3.4 framework upgrade

- Fixes required options in CombineVariants for moving to GATK 3.4
  framework #1057
- Handle bgzip inputs to variant validation with renaming.
- Default to use QUAL scores for variant calling for any
  cases where we can (cc @scatreux)
- Avoid CWL tests on standard quick test runs.",2015-10-09T19:24:47Z,chapmanb
c46458bb0f5c54760f61394d9f96cad263c5f51d,chapmanb,chapmanb@50mail.com,"Bug fixes: new pybedtools, mutect and BED changes

- New pybedtools returns unicode for regions, which causes issues
  with pysam. Convert these to strings. Thanks to @scatreux.
- Correctly find mutect (as opposed to MuTect) jars, fixing typo
  in jar retrieval. Thanks to @guillermo-carrasco.
- Re-run BED bgzip prep if initial BED files change for regions",2015-10-09T17:28:52Z,chapmanb
f1fb0ce91d07950a141fbf765c9eef3230c2f3ee,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1056 from guillermo-carrasco/master

How to build the docs locally",2015-10-09T14:32:30Z,chapmanb
bb07ebfad5b5ae6f225367e68721e75217f37625,Lorena,lorena.pantano@gmail.com,Fix config variable at sranseq trimming.,2015-10-09T14:10:08Z,lpantano
1becd2db8cf8ccdc28436460b68407b217b28713,Lorena,lorena.pantano@gmail.com,Skip trimming if trim_reads: false in sranseq. thanks @a113n,2015-10-09T14:08:06Z,lpantano
6b7e16d1ac27c6a87189d854b0091250cefa7cf7,Guillermo Carrasco,guille.ch.88@gmail.com,How to build the docs locally,2015-10-09T11:25:43Z,guillermo-carrasco
36ecd8f7178ac07d2dd7b7ac41f2de83b50936d8,Roman Valls GuimerÃ ,brainstorm@users.noreply.github.com,"Merge pull request #1053 from brainstorm/cwl

Basic CWL no-container test",2015-10-09T09:58:43Z,brainstorm
902f7cd5fdff22cf77531b0e721564abab8a232b,Guillermo Carrasco,guille.ch.88@gmail.com,Don't use RTD theme by default,2015-10-08T19:50:51Z,guillermo-carrasco
acd03f4da2c7e52b496febde078268f9d42aef6e,chapmanb,chapmanb@50mail.com,"Quality score fixes for rtg vcfeval ROC curves.

- Turn on quality scores for MuTect by default.
- Flexibly pass quality scores to RTG vcfeval ROC curves, handling
  MuTect and non-GATK cases. Thanks to @scatreux.
- Drop read the docs/sphinx requirements. Sorry @guillermo-carrasco
  I didn't realize this required so many downstream packages. It's
  too much to put into every install.",2015-10-08T19:01:00Z,chapmanb
0ccd82dbdc57261fe712a864a509209bee56aea6,Lorena,lorena.pantano@gmail.com,Add sranseq to mm10 genome.,2015-10-08T15:55:59Z,lpantano
3b7112be3d64e3989f04522ff04fd05e2c28d7ee,Guillermo Carrasco,guille.ch.88@gmail.com,Fix brocken bullet point,2015-10-08T15:11:38Z,guillermo-carrasco
4dd233f5640740009b101a6a5c30a5ca458e0b41,Roman Valls Guimera,brainstorm@nopcode.org,Merge branch 'cwl' of github.com:brainstorm/bcbio-nextgen into cwl,2015-10-08T13:33:14Z,brainstorm
06de1e66b7f38f0b548d61a4e2597af5c6afc07c,Roman Valls Guimera,brainstorm@nopcode.org,"Refer to the run_info-bam.yaml from the testsuite, thanks @guillermo-carrasco",2015-10-08T13:32:48Z,brainstorm
8dfe70927a6897715a5bda3a63ca8118f35bc375,Roman Valls Guimera,roman@lifesum.com,Pass env variables via cmdline since preserve-env is not supported in the spec yet [ci skip],2015-10-08T13:12:58Z,N/A
811b49173e792bf4f50d30846e52e026d88d5f4f,Roman Valls Guimera,roman@lifesum.com,Add Slack TravisCI notifications towards #github channel at WWCRC,2015-10-08T08:50:54Z,N/A
ec52f8d5e916434dbed64df7ec236f0212fdea15,Roman Valls Guimera,roman@lifesum.com,Merge branch 'cwl' of github.com:brainstorm/bcbio-nextgen into cwl,2015-10-08T08:46:15Z,N/A
e9cb8088029d0c5f9380f75ee128a4a3f910d7d2,Roman Valls Guimera,brainstorm@nopcode.org,"Leave out CWL tests on TravisCI for now, thanks @chapmanb",2015-10-08T08:30:53Z,brainstorm
d468eb5db85327c9418e77cb0943e89f1641753d,chapmanb,chapmanb@50mail.com,"Revert Scalpel updates and add VarDict bai index fixes

Inadvertent check-in of in-progress Scalpel work instead of VarDict
work.",2015-10-07T15:54:03Z,chapmanb
b96b24337d01202895660f26b634831cc70a93d5,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1054 from guillermo-carrasco/docs

Some docs amendments",2015-10-07T11:50:35Z,chapmanb
f8b97609401acd9965d63cd21876f2eb7821a751,chapmanb,chapmanb@50mail.com,"Avoid bai race conditions in variant calling

Checking for out of date bai indexes during parallelized variant calling
can cause race conditions on parallel systems where index timestamps
are wrong. This moves the bai checking, which should be present,
upstream to non-parallel regions. Thanks to @ohofmann",2015-10-07T09:51:26Z,chapmanb
4a919b3c2180015eb0f34d79acd93412226115d0,Guillermo Carrasco,guille.ch.88@gmail.com,Reviewing the docs,2015-10-06T14:34:10Z,guillermo-carrasco
183d157054a140d5f90f11171e05c6ea34f67eb1,Guillermo Carrasco,guille.ch.88@gmail.com,Use RTD theme for better testing before pushing,2015-10-06T12:22:19Z,guillermo-carrasco
42375addd115cf5855c5436c1e716563c8b099f9,Roman Valls Guimera,roman@lifesum.com,Disable docker tests for now,2015-10-06T11:36:14Z,N/A
3cd8ef67c4fa6e60d760dd37aeffe9ac7b76a0dc,Roman Valls Guimera,brainstorm@nopcode.org,Get rid of full paths by passing PATH and HOME env variables to cwl-runner,2015-10-06T10:48:10Z,brainstorm
1ac43d16948754128a500e8f8ec3235044e85829,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1051 from guillermo-carrasco/docs

Update some ambiguous part of AWS docs",2015-10-06T09:55:00Z,chapmanb
5b4946877bc24fd10525232ec9d2d54ba582e471,Guillermo Carrasco,guille.ch.88@gmail.com,Don't symlink the global config file,2015-10-06T09:53:13Z,guillermo-carrasco
7199b84f4ac83090d6b488c6813a5133311e71c3,chapmanb,chapmanb@50mail.com,"VarDict: Improve low frequency detection and update var2vcf

- Moves to new VarDict perl var2vcf script which changes the behavior of
  the -M flag.
- Improves sensitivity and precision of VarDict detection on low
  frequency mutations. Tunes filters based on the DREAM synthetic 4
  dataset. More details on new approach and results are in progress:

  https://github.com/bcbio/bcbio.github.io/blob/master/_posts/2015-10-05-vardict-filtering.md",2015-10-06T09:45:10Z,chapmanb
bc0e9a1dd7819fee38cba5f45d4393189b669bfa,Roman Valls Guimera,roman@lifesum.com,Run CWL tests inside docker,2015-10-06T07:18:58Z,N/A
2f49151c34a53f4d6f33a82475c79f38a97ad8dc,Roman Valls Guimera,roman@lifesum.com,Run with docker on TravisCI. Thanks @guillermo-carrasco,2015-10-06T06:40:19Z,N/A
d2fbf4fdc3020f89c4223a6f853c1be8f424efea,Roman Valls Guimera,roman@lifesum.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen into cwl,2015-10-06T05:59:44Z,N/A
44b94835c43ccf03f25831e3fcc2c62d500dbda9,Roman Valls Guimera,roman@lifesum.com,Add cwl attribute tag on nosetests for run_tests.sh cwl to run those,2015-10-05T20:34:52Z,N/A
6f2a14275662b80356070a3c1a7357f16831f657,Roman Valls Guimera,roman@lifesum.com,Failing test for CWL with no-container first,2015-10-05T20:29:40Z,N/A
0f22e24b0a194c02911a313cb9b825a30b279dfb,Roman Valls Guimera,roman@lifesum.com,"Absolute path on baseCommand, otherwise bcbio_nextgen.py is not found. Should system_config_prep be defined in testinput-args.json if it is an output?",2015-10-05T14:18:26Z,N/A
71e4dfcc6d19e7f928606bdc2a74f2a3da48866b,Guillermo Carrasco,guille.ch.88@gmail.com,Update some ambiguous part of AWS docs,2015-10-05T12:24:34Z,guillermo-carrasco
c0c5d354b43d2ac06c5a7321756c9f12f1ea5948,chapmanb,chapmanb@50mail.com,"Pipeline docs: up to date suggestions

Inspired by questions from @bwubb on biovalidation mailing list
(https://groups.google.com/forum/#!topic/biovalidation/VRQxDHcR_Fc)",2015-10-05T09:40:47Z,chapmanb
6511b4a7ca5657cf81247a2b222020064a20396a,chapmanb,chapmanb@50mail.com,"Re-enable effect prediction for structural variants

HGVS isssues fixed in snpEff 4.1l, pushed to homebrew-science.

This reverts commit 09417a5636791d8572cd0fa16c31680c3c3df5fc.

cc @mjafin",2015-10-04T09:32:14Z,chapmanb
1a4ef395a02ee93cd3eb0c1d0e5bbe417f5448df,roryk,rory.kirchner@gmail.com,Fix missing import.,2015-10-03T16:02:48Z,roryk
09417a5636791d8572cd0fa16c31680c3c3df5fc,chapmanb,chapmanb@50mail.com,"Disable effect prediction for structural variants

Currently running into snpEff errors when calculating effects
(pcingola/SnpEff#96). cc @mjafin",2015-10-03T10:22:23Z,chapmanb
68f6b66a5efd4a1469123db4f79b1a212fc0a3d7,roryk,rory.kirchner@gmail.com,"Use shutil.move instead of os.rename.

@schelhorn has a nice explanation about why in #1047.

Closes #1047.",2015-10-03T05:19:41Z,roryk
a364f55cc95e458ee25b6e1455a2bc7337a6a2fa,roryk,rory.kirchner@gmail.com,Add samtools to qcsummary as a requirement.,2015-10-03T04:16:12Z,roryk
5779edb731cf5a1adab9b5b2621c6342745034cd,roryk,rory.kirchner@gmail.com,Count duplicates with sambamba instead of Picard.,2015-10-03T00:41:34Z,roryk
7c0e14f6636f1b8ca00775299c84d53433c93014,chapmanb,chapmanb@50mail.com,"Handle empty data-frame edge case in metric merge

Avoid doing a rbind and merge if there are no metrics available.
Thanks to Severine Catreux.",2015-10-02T23:56:39Z,chapmanb
189e9a7fdddf810dc6d227a5161af5b68a2f9e28,roryk,rory.kirchner@gmail.com,Update with quality change work.,2015-10-02T20:58:47Z,roryk
efc7208b50a2e2739d8de8e2970d31c374519503,roryk,rory.kirchner@gmail.com,"Expand quality format range detection.

Moleculo reads and reads coming from prealigned files can
have quality values > 40. The Sanger and Illumina formats
can officially handle higher quality values though they
are not usually produced from raw reads.

We expanded the quality format range to detect those. We
dropped separate detection for Sanger/Illumina 1.8+ since they
are basically the same.

Thanks to @lpantano for noticing this issue.",2015-10-02T17:20:19Z,roryk
5c2b9ee4e7e416ac5a3a585f69ffef9b75076389,roryk,rory.kirchner@gmail.com,Update with RNA-seq work.,2015-10-02T16:45:24Z,roryk
e168a41bd9e4ce9effeac0c916b4966a074e8123,chapmanb,chapmanb@50mail.com,"Correctly parse template arguments on commandline

The hideous backward compatible parsing of input arguments would cause
issues with templates when they had less than 3 arguments:
--only-metadata didn't get detected and passed on to the sub-command.
Thanks to @alexeigurevich and @ssaif",2015-10-02T14:18:40Z,chapmanb
217cf2ffeb0a1780cec2538d13c94fbd0d15a606,Roman Valls GuimerÃ ,brainstorm@users.noreply.github.com,"Merge pull request #1045 from guillermo-carrasco/collectl

Fix: Get hostname from local runs",2015-10-02T09:40:27Z,brainstorm
7602a3089f2bbd34581c63f17bda1236e021c4c6,chapmanb,chapmanb@50mail.com,"Annotate structural variant VCF calls with snpEff

Provides baseline inputs for feeding into downstream simplification
and summarization tools. Uses new snpEff standardized ANN notation,
and hopefully we can move small variants to use this as well once
GEMINI switches over. Thanks to @mjafin.",2015-10-02T09:26:14Z,chapmanb
274d76ff6a035effe02a3b67006ef95d9e6dde41,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1046 from travc/master

Package name typo fix in docs",2015-10-02T09:12:22Z,chapmanb
63eb26ba46502fa1b3e691e7c81a36809dc288e9,Travis Collier,travcollier@gmail.com,typo fix,2015-10-02T08:27:54Z,travc
21f767ac3e07c3b077bd955aaed05ef1814809f1,Travis Collier,travcollier@gmail.com,"Package name typo fix

`libperl-devel` doesn't exist on ubuntu (at least for 14.04), should be `libperl-dev`",2015-10-02T08:24:04Z,travc
2156bfe0e9f6255fbf22f73e0eb01a80fc1ffa6e,chapmanb,chapmanb@50mail.com,"Move external python-based packages to --tools

Packages we don't import in bcbio and call only via the command line are
now installed via --tools using the standard conda packaging approach.
This avoids needing to keep dependencies up to date in the requirements.",2015-10-01T15:22:42Z,chapmanb
ac7fc67c582f230e75c98aca4bd6edbed4d3e2d6,Guillermo Carrasco,guille.ch.88@gmail.com,Comment the Timing conditional,2015-10-01T13:54:43Z,guillermo-carrasco
f10ffb8a82ca7510978f688eb8933cfb3fdb551d,Guillermo Carrasco,guille.ch.88@gmail.com,Use keyword Timing to get a list of nodes,2015-10-01T13:51:37Z,guillermo-carrasco
6fae1db99d6e47be98321b23d120abe0376bbf3b,Guillermo Carrasco,guille.ch.88@gmail.com,Normalize dates to YY:MM:DD for comparison,2015-10-01T09:30:24Z,guillermo-carrasco
86ca9f7daf6525518721f5cbe895aa7d23565e0f,chapmanb,chapmanb@50mail.com,Index pre-aligned BAM inputs with no processing. Thanks to Severine Catreux.,2015-09-30T18:58:13Z,chapmanb
e543e3bae1d03c39087acb0268e717d63c55ea2a,chapmanb,chapmanb@50mail.com,"Avoid issues with R_HOME warning and CNVkit

Having R_HOME set and running CNVkit with a different R results in a
warning message:
```
WARNING: ignoring environment value of R_HOME
```
which causes segmentation parsing to fail since it includes this
message. This fix removes use of R_HOME when using our local Rscript
in bcbio. Thanks to Alexey Gurevich.",2015-09-30T17:03:33Z,chapmanb
91b90471645e1b96cdc8118043e50632407cedd8,chapmanb,chapmanb@50mail.com,Leave coverage_depth_max in allowed keys for back-compatibility,2015-09-30T16:04:20Z,chapmanb
747185b8ab5c1469f7827fea2a172002d66bde65,Lorena,lorena.pantano@gmail.com,Remove unused deps in srnaseq.,2015-09-30T13:59:01Z,lpantano
57a2f8cf24b5e0718e347e82112cd7824641e701,Rory Kirchner,rory.kirchner@gmail.com,Fix readthedocs link.,2015-09-30T13:13:59Z,roryk
48b114692798956d38835cbf4b48edf6c7010801,Rory Kirchner,rory.kirchner@gmail.com,Fix broken pipeline link.,2015-09-30T12:56:50Z,roryk
aa3edb45dcdb1723d924ba626fd218ceebdf3c7b,Rory Kirchner,rory.kirchner@gmail.com,Fix typo.,2015-09-30T12:55:15Z,roryk
dab865a728bb56f353c188a1f69578c7a3ca5046,chapmanb,chapmanb@50mail.com,"Drop coverage_depth_max parameter, which did not work

Downsampling is no longer supported in the recent GATK 3.4, making
the coverage_depth_max parameter not useful in any practical cases.
It never worked well for restricting memory on non GATK callers due
to limitations in PrintReads downsampling and needed workarounds
for higher depth cancer calling. Fixes #1043",2015-09-30T12:37:06Z,chapmanb
390bd81f262ba0df16a87cc29a5ab4ef55218327,Roman Valls GuimerÃ ,brainstorm@users.noreply.github.com,"Merge pull request #1044 from brainstorm/collectl_plots

Serialize graph info from before mangling/plotting for third party plotting libs",2015-09-30T12:11:53Z,brainstorm
4cd81c8586897ec75734406dd3e6b9200f0a6673,chapmanb,chapmanb@50mail.com,Drop unused cyvcf requirement chapmanb/bcbio-nextgen-vm#119,2015-09-30T12:03:58Z,chapmanb
ec30897b704ce3697ee32aabb9145b54f169c596,Roman Valls Guimera,brainstorm@nopcode.org,Serialize graph info from before mangling/plotting in order to easily call generate_graphs later on.,2015-09-30T10:11:06Z,brainstorm
f474c75f7dd2e3cea7b16944fd844b5a129dfc89,chapmanb,chapmanb@50mail.com,"Set java.io.tmpdir for snpEff

Avoids filling up temporary space in global `/tmp` directories.
Thanks to @ohofmann",2015-09-30T09:30:33Z,chapmanb
99ab688efe4bd23a8dbcb880c64036ed3da9dba0,roryk,rory.kirchner@gmail.com,"Add bamtools to RNA-seq quality metrics.

Thanks to @schelhorn for the suggestion and the code.
Closes #1028.",2015-09-29T16:51:47Z,roryk
68f6d34e6b51df953f87fc9ef32d8401ca120f20,roryk,rory.kirchner@gmail.com,"Properly skip creating the transcriptome FASTA file.

Thanks to @schelhorn for the fix. Second in a trio of
commits for #1028.",2015-09-29T16:51:47Z,roryk
9455cffbe62504a68461f2dba7616a89be06904e,Rory Kirchner,rory.kirchner@gmail.com,"Name-sort the transcriptome BAM file.

This works around having to stick eXpress in the multithreaded
quantitation, since it is not multithreaded. Thanks to
@schelhorn for the fix.

Addresses part of #1028.",2015-09-29T16:51:47Z,roryk
5db84a5fbe87b3fbf22e1be28fc4c1578dbbe9ac,roryk,rory.kirchner@gmail.com,Upgrade cutadapt to 1.8.3.,2015-09-29T15:56:45Z,roryk
f122ba62062880ed693c67fb92f2ffb558f566b0,chapmanb,chapmanb@50mail.com,Pass FreeBayes options before inputs BAMs. Fixes #1040,2015-09-29T10:23:29Z,chapmanb
c53d65f8e25df496b33dd12fe75d821caee070ad,chapmanb,chapmanb@50mail.com,"Support setting LB and PU read group tags (fixes #1032)

Allows additional configuration in setting read groups, including
setting library and platform unit through metadata. Improve
documentation:

https://bcbio-nextgen.readthedocs.org/en/latest/contents/configuration.html#sample-information",2015-09-29T10:03:29Z,chapmanb
76695ee74c5104807691f9bfe53fcac7ff7f70ef,chapmanb,chapmanb@50mail.com,"Handle empty file edge case for coverage

Fixes broken `./run_tests.sh devel` unit test.",2015-09-29T09:41:39Z,chapmanb
94b6dd7b15323b1bccddd73cdf285140d066c5b4,Roman Valls GuimerÃ ,brainstorm@users.noreply.github.com,"Merge pull request #1041 from brainstorm/collectl_plots

Hotfix: Collectl plots indexed by string, not host",2015-09-29T07:16:12Z,brainstorm
38fe47d2ad6be2ee0c442474c6d054cf62afd0c6,Roman Valls Guimera,brainstorm@nopcode.org,"Hotfix: index by host, not string :/",2015-09-29T07:13:24Z,brainstorm
5e7dd74be154f23536825eee8bdd64376d6f5ab7,roryk,rory.kirchner@gmail.com,"Add skewer support.

Enable by adding ""skewer"" to `tools_on`. Skewer is much faster than
cutadapt but doesn't have polyA trimming support. This way we can
enable it experimentally for now and replace cutadapt if it seems like
it does fine.",2015-09-29T03:04:52Z,roryk
2a3d9f4e2804626af52565b70bc7fd92b59d4aa9,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1039 from brainstorm/collectl_plots

Collectl plots",2015-09-29T00:09:56Z,chapmanb
2c5bfbcb91f548d0d926a44d49132057a81463a7,Roman Valls Guimera,brainstorm@nopcode.org,Pickle it,2015-09-28T21:20:45Z,brainstorm
01237ffd99b7830bc3562dad9191b416dfb53f4c,Guillermo Carrasco,guille.ch.88@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2015-09-28T20:14:10Z,guillermo-carrasco
1c00fa916b33b9ae9ce671ac4597adabe0286acd,Guillermo Carrasco,guille.ch.88@gmail.com,127.0.0.1 --> 127.0.1.1 in .travis.yml for ipython to work,2015-09-28T20:13:39Z,guillermo-carrasco
43809cfe619633b18167d1c511858f46136b2fec,Lorena,lorena.pantano@gmail.com,Fix pybedtool deps in coverage report,2015-09-28T20:12:11Z,lpantano
faf6a9de03400f32c9524aa7cfc654f62b178a5a,roryk,rory.kirchner@gmail.com,"Remove unit tests.

Dropping these since we aren't adding to or running them.",2015-09-28T20:01:53Z,roryk
1117541fdfc506b4f7a478fc252432fb8341a56f,Lorena,lorena.pantano@gmail.com,"Replace bedtools by sambamba in coverage report

Bump version of bcbreport to work with sambamba.
Put coverage report inside last parallel env in main.py",2015-09-28T19:35:44Z,lpantano
b494571bacde062b1ec0f0baeb2a444cfe438f7e,Roman Valls Guimera,brainstorm@nopcode.org,Moving pickling outside of main,2015-09-28T15:58:45Z,brainstorm
185401407230ccc8bd747d2effc896e320cce178,chapmanb,chapmanb@50mail.com,"Ensure identical sort order of BEDs and genomes

Avoids errors when annotating BED files using inputs sorted with -V,
which can place random chromosomes next to standard chr1-22. This
enforces a consistent sort order for all inputs, including the genome
files. Thanks to @mjafin for debugging and code.",2015-09-28T15:43:55Z,chapmanb
4c35c512657af7a5e4d9e44faa99c67128350892,Roman Valls Guimera,brainstorm@nopcode.org,Add structure to serialized multi-host pickle,2015-09-28T13:17:22Z,brainstorm
3ef3f06932a9c18b26c25e1c2d5c8099eee1031e,Guillermo Carrasco,guille.ch.88@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2015-09-28T11:21:08Z,guillermo-carrasco
2bee114c3522a537690304ff49607be17c3ce6e0,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1037 from brainstorm/master

Serialize at graph pre-plot stage",2015-09-28T10:12:44Z,chapmanb
6110e340b339a23df6c676f03e079f62de80d913,chapmanb,chapmanb@50mail.com,"Copy pre-called VCF inputs into work directory

Avoids symlinking, which fails on Docker runs where the original
symlinked files do not get mounted into the Docker filesystem.
Thanks to @guillermo-carrasco.",2015-09-28T10:03:56Z,chapmanb
5713ea5e8880cd1f67ef2f9051fafcf368dc590d,chapmanb,chapmanb@50mail.com,"Add BAM index when running without alignment

Fixes issue when using `align: false`. Thanks to Stephan Pabinger.",2015-09-28T09:30:56Z,chapmanb
93f803f0f774e94b2a61fe8059de25131dfca0d7,Guillermo Carrasco,guille.ch.88@gmail.com,Execute ipython cluster tests as well,2015-09-28T09:28:10Z,guillermo-carrasco
169da567d0265133d085f67ca701960afa924c28,Roman Valls Guimera,brainstorm@nopcode.org,Show plots by default if running in an ipython notebook,2015-09-28T07:34:26Z,brainstorm
65154e355f9c3b16446160240bf740cb1adec124,roryk,rory.kirchner@gmail.com,Restore GATK fixed version from Brad.,2015-09-28T02:34:52Z,roryk
2182e5c204dbd19512814abc666ce8503de40c30,roryk,rory.kirchner@gmail.com,Restore Lorena's GATK fix.,2015-09-28T02:12:22Z,roryk
70622bfaac2cd8b2b5b24049f8e9b886c8449fc9,roryk,rory.kirchner@gmail.com,Fix typo.,2015-09-28T00:42:09Z,roryk
0e70b301248c1acb4675832c6173dd10bc40e961,roryk,rory.kirchner@gmail.com,"Calculate coverage across priority regions.

We will do some work twice, but those allows for the coverage
regions and the priority regions to be decoupled.",2015-09-27T21:51:37Z,roryk
409db93d5eb8fa5d7462b067cd8f7c69820a8b6d,roryk,rory.kirchner@gmail.com,Allow get_program to just take the 'data' dict.,2015-09-27T21:51:12Z,roryk
97ddffbc25967d0490bbe82b61eae19ae1e82cb4,chapmanb,chapmanb@50mail.com,Add Travis build status thanks to @guillermo-carrasco,2015-09-27T13:42:27Z,chapmanb
c4b740962818c316c3fe808527fe8c2257ce2a9e,chapmanb,chapmanb@50mail.com,v0.9.3 release,2015-09-27T13:32:33Z,chapmanb
1ea099a50b9c9b2ae9a1f84919517ce7e8151c81,Guillermo Carrasco,guille.ch.88@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2015-09-26T16:03:37Z,guillermo-carrasco
5eb348f29d20a300cdd39a4a575cd63fd0a485f9,chapmanb,chapmanb@50mail.com,"Allow manta SV analysis on hg38

Skip HLA contigs for hg38 analysis. They contain problematic names with
colons which confused processing ranges (HLA:1:1:50-100) and we don't
expect useful SV calls in these regions.",2015-09-26T09:12:46Z,chapmanb
705020d6b446f412979543de4db0d5313ca79f2c,Guillermo Carrasco,guille.ch.88@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-09-26T08:50:10Z,guillermo-carrasco
bf6185d1edc6be491219c059747fbd4b00aae49e,roryk,rory.kirchner@gmail.com,Drop unused dependencies.,2015-09-25T20:29:10Z,roryk
0736ce156a3b25dae437042ff2f13c48d8eed907,roryk,rory.kirchner@gmail.com,"Slightly modernize ChIP-seq code.

Switch to filtering out reads with sambamba since it is threaded
and is faster than doing it through pysam.

Swap to using the datadict abstraction.

Add a multimapper to the ChIP-seq integration tests so we can
ensure the filtering is working.",2015-09-25T20:25:46Z,roryk
767181dca58f1db7400434eaf8fba7c1cebc284c,roryk,rory.kirchner@gmail.com,"Fix chipseq unique alignment cleaning.

This was not getting run properly when running with IPython.
Thanks to @ssaif for noticing the issue.",2015-09-25T17:48:46Z,roryk
d1813c596a1e9ae46f931dd00ea8996e788ee814,chapmanb,chapmanb@50mail.com,"Skip GATK usage if not present for coverage

Generalizes checking for GATK and the jar before running non-MIT
licensed GATK code, then applies to coverage report generation
with annotation of GC content.",2015-09-25T16:57:57Z,chapmanb
cf290d0036a5d5e9a27e4573a7e7ae5dde493e2c,Lorena,lorena.pantano@gmail.com,Call gatk using broad class during coverage report,2015-09-25T16:41:13Z,lpantano
b37a48fa90963a44b7c1ec51417a55a089b64b50,Lorena,lorena.pantano@gmail.com,Annotate depth variant during coverage report.,2015-09-25T16:16:43Z,lpantano
ae2f9f75aa358298282267fa96a621adb83e7a18,Lorena,lorena.pantano@gmail.com,Run only GC stats if coverage is in yaml file(#1034). Thanks @kevjp,2015-09-25T15:37:39Z,lpantano
15b0c4b6da876b0893f859efd1e8f26bbc4664b3,roryk,rory.kirchner@gmail.com,Generate priority region only per-base coverage files.,2015-09-25T14:11:20Z,roryk
4bcc429afc543b3239acc835d2b58dfc0a71ed44,Guillermo Carrasco,guille.ch.88@gmail.com,Update code in the container before running the tests,2015-09-25T13:27:05Z,guillermo-carrasco
a108a7d583be46b8e66191e6ab6a90165184eb0d,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1027 from guillermo-carrasco/master

Add .travis.yml file for travis integration",2015-09-25T09:49:02Z,chapmanb
89f57b758f3f74537185dd819900952b7f451dff,chapmanb,chapmanb@50mail.com,"Fixes for somatic and SV calling on hg38

- Pass `-n` option to vt normalize to avoid failing when hg38 reference
  genome has a non-N ambiguous bases and callers convert to N to match
  VCF spec.
- Add -nonamecheck to bedtools for additional cases to avoid failures
  with hg38 HLA allele naming.",2015-09-25T09:46:12Z,chapmanb
f99614930b736ee519db944f5d63cd4c6bbcea9c,Roman Valls Guimera,brainstorm@nopcode.org,Serialize at pre-plot stage,2015-09-24T22:04:45Z,brainstorm
6de60b619532c88dc5dd76400b9bde9593353ed0,roryk,rory.kirchner@gmail.com,Pruning dead code.,2015-09-24T16:50:11Z,roryk
90698c182ad2f9e3f1428eea815dba4235368bf7,chapmanb,chapmanb@50mail.com,"Unit test fixes for new coverage work

Handles edge cases in the current test suite with missing BAM
files or no summary information.",2015-09-24T16:38:21Z,chapmanb
83f0b7fff437b610d4032088f1ca9c1c2ff0190c,Lorena,lorena.pantano@gmail.com,Add report for clusters for srnaseq,2015-09-24T15:23:45Z,lpantano
8b61a16f6385c165e3b1ff91560c282e4a9f0e58,chapmanb,chapmanb@50mail.com,"Correctly apply BQSR by using GATK full

BQSR does not correctly apply using the open source GATK framework
PrintReads, silently ignoring the option. Thanks to Severine Catreux.",2015-09-24T14:50:02Z,chapmanb
27efc75d07045af837342528a21b173320262929,chapmanb,chapmanb@50mail.com,"Improve coverage calculation when testing 38

- Remove small analysis blocks by increasing default size to 250 and
  explicitly filtering any smaller nblocks. Avoids issues around larger
  homozygous deletions. Fixes #1026.

- Pass -nonamecheck to bedtools when intersecting blocks, instead of
  using the pybedtools operator.add convenience function which does not
  have nonamecheck set and will fail on 38. Fixes #1002.

- Move coverage checking out of pybedtools into an explicit commandline
  call to bedtools with awk and run. Provides easier debugging of memory
  issues in bedtools v2.25.0.

- For CNVkit, skip resolution of WGS calls to transcripts if transcript
  files are not present.",2015-09-24T09:52:06Z,chapmanb
3ebca5cd817e93d7022aaa05f6c028d177500812,roryk,rory.kirchner@gmail.com,"Unify coverage options under `coverage`.

Deprecate coverage_experimental and report. Report is now
generated if a BED file is set as coverage.

Also sped up report generation by parallelizing the GATK call
to calculate GC and depth.

Drop Chanjo from requirements.txt since it is not being used.",2015-09-24T04:48:39Z,roryk
0c27603282e8271b7435121a71875db4a547d7eb,roryk,rory.kirchner@gmail.com,Remove original coverage code.,2015-09-24T03:06:07Z,roryk
581dfd3190ccfabf43e6aebdedd1f022aa146b0e,roryk,rory.kirchner@gmail.com,Add default bedtools if not specified in the system file.,2015-09-24T03:06:07Z,roryk
797cceddd71b5b234c366c7f394c7d52b1a5434c,chapmanb,chapmanb@50mail.com,"Avoid race-conditions in BAM indexing

The BAM index check during callability processing can cause race
conditions on some shared filesystems where timestamps are out of date.
The check will think that the BAI file is old and try to re-index
in parallel, which can cause missing index errors as it gets re-created.
Since the index is be pre-prepared upstream this removes the
check here to avoid the problem.",2015-09-24T00:58:27Z,chapmanb
284c06375da292fd55a59c5a1d1c0a78236e1011,Lorena,lorena.pantano@gmail.com,Bump bcbio report version,2015-09-23T13:54:13Z,lpantano
155b95b950d2dc961b223e90108c49c43201d795,chapmanb,chapmanb@50mail.com,Links to recent presentations in documentation,2015-09-23T13:48:17Z,chapmanb
610dd25cbdd780e008e0f54f628c90d558c00fb8,Guillermo Carrasco,guille.ch.88@gmail.com,Add .travis.yml file for travis integration,2015-09-23T10:47:01Z,guillermo-carrasco
ff62b1e37c0273745c177cc74fc55ec927ddab5f,chapmanb,chapmanb@50mail.com,"Ensure gene file annotation sorted consistently

Depending on the preparation of the gene file, it may have different
chromosome sortings (chr1, chr10 versus chr1, chr2) which cause
bedtools failures. This ensures both have the same sort approach.",2015-09-23T01:48:06Z,chapmanb
db0034eb2233187bdf1e11e3cff244cdbb4a88ed,roryk,rory.kirchner@gmail.com,Removed trailing blank lines which causes errors.,2015-09-23T00:27:24Z,roryk
db6397b2b1b25defca465f3a86d95852c41cbb07,Lorena,lorena.pantano@gmail.com,Improve docstring for smallRNA-seq pipeline,2015-09-22T19:12:45Z,lpantano
bf1885222d96b9f4d565285e4a1d16ed445073e4,Lorena,lorena.pantano@gmail.com,"Parsing coverage region inside bcbio

Moving to do all calculation inside bcbio instead of
inside the Rmd template.",2015-09-22T17:41:23Z,lpantano
8ab1528a837ba83cf0fbbae5dbb230775203791b,chapmanb,chapmanb@50mail.com,Correctly handle multicore sorting errors (fixes #1022),2015-09-22T09:58:22Z,chapmanb
f715ed00640e4f4a7da49d516fc1c80967b7862c,chapmanb,chapmanb@50mail.com,"Improve Lumpy and MetaSV post-call filters

More lenient filters for small and large events based on
testing the DREAM synthetic 4 tuned parameters on the
NA12878 germline dataset: http://imgur.com/a/Gajsg",2015-09-22T09:40:11Z,chapmanb
78dab9814479199ea4c040e8ddf986b3611aadf3,chapmanb,chapmanb@50mail.com,"Validation plotting fixes and generalization

- Fix bug in indexing plots with only a single group
  (thanks to @ohofmann).
- Ensure non-labelled plots have same dimensions as those with labels.
- Generalize groups and categories depending on numbers of samples
  and callers to provide nice caller comparisons in addition to the
  current sample comparisons.",2015-09-21T14:19:14Z,chapmanb
b3464b65cc36dcd7cca9066fe56fc1ddde4aa20c,chapmanb,chapmanb@50mail.com,"Use rtg vcfeval for validation comparisons

Swaps the default comparison approach during validation to Real Time
Genomics vcfeval, instead of bcbio.variation. vcfeval is faster,
provides resolution of difficult closely spaced variants, and is a
community project that is part of the GA4GH benchmarking team.
You can still use the old method with the undocumented `validate_method:
bcbio.variation`.",2015-09-21T10:27:56Z,chapmanb
06e4c7bef64e72b9dcc88d0dc20cd1d3e7e5f953,chapmanb,chapmanb@50mail.com,"Provide hg19/GRCh37 chrom renaming for validation

Handles automatic chromosome renaming for validation resource inputs,
handling hg19 runs with GRCh37 resources (and vice versa). This
removes the need to manually specify `validate_genome_build`.
This removes requirement for bcbio.variation to handle this case.",2015-09-21T09:46:35Z,chapmanb
da7f71e28669f83bc25261654784363f7cbaec67,chapmanb,chapmanb@50mail.com,"Edge case fixes for SV validation

- Do not remove manta calls that have a sample/format FT field with PASS
  (instead of an empty FT field).
- Handle edge case of empty/missing SV calls.",2015-09-21T09:02:19Z,chapmanb
af3dbfac38315333d5efbab139426e255b67a581,chapmanb,chapmanb@50mail.com,Swap structural.ensemble reference to use new convert module. Thanks to @mjafin.,2015-09-21T08:57:16Z,chapmanb
94318e1c9ba6c1133b75b0cd20d0552dcaf38752,roryk,rory.kirchner@gmail.com,"Remove Tophat read cleaning.

This was fixed in 2.0.10.
https://ccb.jhu.edu/software/tophat/index.shtml",2015-09-21T01:44:20Z,roryk
fcde47e35c0e5c769c61a07be81f29bdc43be83b,roryk,rory.kirchner@gmail.com,"Return proper output for transcriptome assembly.

This was broken by this fix: 060b72b03b95b8.",2015-09-21T01:44:20Z,roryk
78e20d2cd193d5ac23c06565e1145c5dfc784f53,roryk,rory.kirchner@gmail.com,Bump minimum memory for Tophat to account sorting.,2015-09-21T01:44:19Z,roryk
02bfd4decac3193f18572a6547eb83084774314b,chapmanb,chapmanb@50mail.com,manta: update configuration if install version changes. Thanks to Miika Ahdesmaki.,2015-09-21T00:55:58Z,chapmanb
f096a88430f60377b82ab8f9a843f9eb2610e1e4,chapmanb,chapmanb@50mail.com,lumpy: run background filter only with matched normal,2015-09-21T00:30:33Z,chapmanb
a1db590349a743e44809d6e8801cf4eaa2112c9b,chapmanb,chapmanb@50mail.com,"Provide version sort for un to date coreutils

Recent versions of GNU coreutils sort provide -V/--version-sort, which
does natural sorting of numbers in text so that it will correctly
sort chr1, chr2, instead of chr1, chr10, chr2. This checks for
support in the current sort and uses it if available. This also
works around a bug in coreutils 8.22 (fixes #1017)",2015-09-20T09:21:17Z,chapmanb
0f6cdd2a8e4db4576c1e3d4de0b97e704a5224ce,chapmanb,chapmanb@50mail.com,"Generalized parallel ensemble calling

Replaces old overlap-based ensemble calling with a new pluggable
approach allowing any number of ensemble callers. We currently
support MetaSV. This removes the old ensemble method. The new
methods parallelize by sample. Validation was re-written to not
require old overlap based ensemble calling.",2015-09-20T09:03:09Z,chapmanb
36f0929d5885fe916a04abce9460812178107c29,chapmanb,chapmanb@50mail.com,Remove partial smash integration preparing for switch to rtg,2015-09-19T08:52:43Z,chapmanb
517754d5a17a4efd923ddb2ab04402cfbabdc036,chapmanb,chapmanb@50mail.com,"Use local Rscript installed with conda packages

Preferentially use Rscript version installed with conda. This removes
the requirement for external installation of R and avoids issues
with alternative versions of R.",2015-09-19T08:48:34Z,chapmanb
f80385e0292b62b3cde23e3127e7339797bb05aa,chapmanb,chapmanb@50mail.com,Do no limit parallel resources if cores are not set. Avoids scaling memory for non-core constrained jobs,2015-09-18T18:23:43Z,chapmanb
fa90250826990bbc1c2ff063ab52f452da33b833,chapmanb,chapmanb@50mail.com,validation plot: provide flexibility for test inputs,2015-09-18T18:23:43Z,chapmanb
683aa88c6929fd481eabb190a5e8d3ca7285b6bf,Lorena,lorena.pantano@gmail.com,Add example report for smallRNA-seq,2015-09-18T14:20:30Z,lpantano
be56d4ccfefdc133b6db0a9e5ecd194885475b54,chapmanb,chapmanb@50mail.com,"Improve SV parallelization with multiple callers

Enables using more available cores (if allocated with -n) when
there are multiple SV callers, instead of limiting jobs to the number of
samples.",2015-09-18T09:38:31Z,chapmanb
b9303a8a62cfc13e2cac5084e917364706939deb,chapmanb,chapmanb@50mail.com,"Manta: updates for 0.28.0

The new Manta release enables pooled variant and tumor-only calling,
along with correct handling of names in output VCF files.",2015-09-18T09:36:55Z,chapmanb
07eb8a08e383e73f5687efbd48562f47354e86f0,roryk,rory.kirchner@gmail.com,"Add brief documentation for ChIP-seq.

Thanks to @ssaif and @chapmanb for pointing out the documentation
is missing.",2015-09-18T00:18:08Z,roryk
eba5ddf13d135f8d6feb25dbb5f1f1ea67263519,Lorena,lorena.pantano@gmail.com,fix typo in hg19 resources,2015-09-17T20:38:44Z,lpantano
60895c3439f49ddd069fcef9b7b3d0c73c47526f,chapmanb,chapmanb@50mail.com,"Improve lumpy filtering for tumor/normal cases

Add general subtractive filtering to use for lumpy in tumor/normal.
Relax loss of calls without split read evidence which cause too much
loss of sensitivity on non-DREAM validation data (GiaB).",2015-09-17T17:53:01Z,chapmanb
216ea88cbc32b1c829983cae1596b1c250f323c0,chapmanb,chapmanb@50mail.com,"Enable docker tests to run without system install

Fixes issue where we could not correctly find the test data files
in cases where we have no system install and just the local test
data. Enables running on Travis CI without a full data install.
Thanks to @guillermo-carrasco.",2015-09-17T13:33:02Z,chapmanb
5ea43bed15d22d99a7ecb658616a8bdffdd0a2ce,roryk,rory.kirchner@gmail.com,Update with featureCount fixes and test_run deprecation.,2015-09-17T00:47:09Z,roryk
5d6c53eb5f1db5b8cc109a6d906a88353f41294a,roryk,rory.kirchner@gmail.com,"Remove test_run option.

This was only supported in a subset of the pathways
and not used much so we removed it.",2015-09-17T00:46:28Z,roryk
2835c1be93a2d95c83d9e6451d99a87e4961d73c,Lorena,lorena.pantano@gmail.com,Fix annotation parameter in seqcluster,2015-09-16T19:17:42Z,lpantano
5c1a18f5660767df647a48f802aad8144fbed4e6,Lorena,lorena.pantano@gmail.com,Change seqcluster to command line to keep logs,2015-09-16T18:56:46Z,lpantano
8b566c164cd95d219a90cc1a792f026a802bfaed,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1020 from brainstorm/master

Add logfile and timestamp timeframe limit when processing/pulling collectl raw files",2015-09-16T16:56:31Z,chapmanb
2974a2182423421b30680918e228c95b6ba33fa1,Lorena Pantano,lorena.pantano@gmail.com,Update cutadapt link in docs,2015-09-16T16:18:35Z,lpantano
f92e19bbc8e5ab3fad569e70288c4c1d1a0c5931,Roman Valls Guimera,brainstorm@nopcode.org,Add within-log-timeframe plotting limit for fetching and processing collectl raw files. Clarify docs about this new default behavior.,2015-09-16T14:23:21Z,brainstorm
e1aa7824ba5aeb1c94da42e1bbe9fa681388f104,chapmanb,chapmanb@50mail.com,Update documentation links to bcb.io,2015-09-16T09:28:54Z,chapmanb
ef1ddf17cf5c22c17356a93be1254a31084aafd9,roryk,rory.kirchner@gmail.com,"Harden featureCounts for sorted BAM files.

featureCounts needs all of the pairs of an alignment to
be next to each other, sometimes samtools or other sorters
won't put the pairs in exact order.

featureCounts can't handle streaming with <() so this has to
go through a temporary file.",2015-09-16T02:38:42Z,roryk
efa86dab279464cd5a385f67c45354eef9aea7cd,roryk,rory.kirchner@gmail.com,"Add streaming filtering of a BAM file.

Uses it to make a function to return only the primary
alignments from a BAM file.",2015-09-16T02:38:42Z,roryk
2c0e83dd0a2491d34754569bb021c0e35fe93f46,chapmanb,chapmanb@50mail.com,"Improve resource usage for WHAM

- Enable reading resource information for configured structural
  variant callers (in `svcaller`) when setting up resources.
- Avoid using more than a single core for WHAM processes.
- Set default memory for WHAM at 3.5Gb/core to avoid memory issues.",2015-09-15T17:52:19Z,chapmanb
9c0238d777b5dbccbc3b10066af6f0ba0670341b,Roman Valls Guimera,brainstorm@nopcode.org,"Update docs, cleanup comments and remove local cluster conditional code",2015-09-15T17:28:17Z,brainstorm
0bce4e16686bc061801cbb814281f4a7b08abe25,Roman Valls Guimera,brainstorm@nopcode.org,Process collectl files that fall within the bcbio.log sampling timeframe,2015-09-15T16:13:05Z,brainstorm
9fc515d828bcf953050f7dbd2e728cf0410bf239,roryk,rory.kirchner@gmail.com,Replace specific path with a current one.,2015-09-15T15:24:31Z,roryk
2d932e9437b6e5924d3f7a178abbb8303f5cd43d,roryk,rory.kirchner@gmail.com,"Add instructions for local installation.

Thanks to @ohofmann for troubleshooting this and writing this up.",2015-09-15T15:17:40Z,roryk
82b63147d1ebcced713e428868baa09c29f7ebbb,chapmanb,chapmanb@50mail.com,"Fix compatbility with bedtools groupby in v2.25.0

The new bedtools release only parses short parameter names and not
longer ones (arq5x/bedtools2#300). This works around it by using
the short choices, which is back and forward compatible.",2015-09-15T14:18:55Z,chapmanb
b82d372de5aa20bf4a34a25788d2bfd695e89510,roryk,rory.kirchner@gmail.com,"queryname sort the BAM file before running featureCounts

See #1013 for some caveats. I bugged Wen for a fix for not
handling samtools/sambamba queryname files here:

https://groups.google.com/forum/#!topic/subread/ZYBhkybL904",2015-09-14T19:49:19Z,roryk
3766fe400d23862d756dc4ce4c4efd976c99c457,chapmanb,chapmanb@50mail.com,"Avoid incorrect alt alleles from bcftools view -a

In complicated cases from FreeBayes with large numbers of duplicate
alleles, bcftools can fail and produce an empty alternative allele
(and incorrect genotype), resulting in errors downstream. This
strips off those problem cases.",2015-09-14T16:39:51Z,chapmanb
a97f3dd9aba6f062cb79dac8f8e1ce3ae198cc4c,chapmanb,chapmanb@50mail.com,MetaSV filtering: improve filtering to use less assembly and padding for improved speed,2015-09-13T17:37:16Z,chapmanb
49da25c51f23c56d8c18f9babc8983f51a53baba,chapmanb,chapmanb@50mail.com,Filter MetaSV output using reassembly information from breakend resolution to improve precision,2015-09-13T09:58:19Z,chapmanb
74ffc7d359cd7ff5091e30bce0565a2c24110860,chapmanb,chapmanb@50mail.com,"Improve lumpy filtering, removing false positivies for small and large events without split read evidence",2015-09-13T09:54:27Z,chapmanb
55f105412a307dd89f0512b7efcb218903cf2e3f,Roman Valls Guimera,brainstorm@nopcode.org,Does not generate duplicate axis error but Overflows when trying to drop duplicates,2015-09-12T15:12:27Z,brainstorm
dbdd380dfe2dc1bc4a1774c3c363b6de91013943,chapmanb,chapmanb@50mail.com,"Pass memory to sambamba and samtools sort

Improves performance during disambiguation and RNA-seq. Thanks to
Sven-Eric Schelhorn. Fixes #1010",2015-09-12T09:53:37Z,chapmanb
e8bbe1bc89b3bc3b6db20e10045e516ef2a8b0d0,Roman Valls Guimera,brainstorm@nopcode.org,Refine regex for matching nodes,2015-09-11T11:04:17Z,brainstorm
e185260507d3a03061d234ab9409b42a10db5ea9,chapmanb,chapmanb@50mail.com,"Improve metrics display for validation plot

Use consistent axes between FNR and FDR for the same variant type
and color variant types to make difference in axes clearer.",2015-09-11T09:25:45Z,chapmanb
79ffdf9e696a1b1df10fb7861bc4df02b378230a,chapmanb,chapmanb@50mail.com,Update provenance/programs.txt tool list. Thanks to @bioinfo,2015-09-10T09:57:26Z,chapmanb
410d8f0e45b49b066f16352f11ca960aabe0ae7b,roryk,rory.kirchner@gmail.com,"Allow problem_dir to have nested directories.

This makes it easier to make custom sets of problem regions.",2015-09-10T00:38:20Z,roryk
6302c41658ca6c9b779f4c23e2c45331fb5ec84e,roryk,rory.kirchner@gmail.com,Fix missing data variable.,2015-09-10T00:38:20Z,roryk
097d28b7fbcfe96d674438b8b1e3ade36cad20c6,chapmanb,chapmanb@50mail.com,"Grabix and circular import fixes

- Always perform re-bgzip to work around issues with Illumina bgzipped
  output causing grabix to hang during indexing.
- Avoid circular import from rnaseq report module",2015-09-09T19:56:05Z,chapmanb
603fc4148f3c286806f35eac4180bc7aec56cc1b,chapmanb,chapmanb@50mail.com,"Sumlink pre-bgzipped files into work directory

Avoids grabix indexing in original input directory which requires
write permissions.",2015-09-09T19:31:42Z,chapmanb
16eba830d343d421ba1493f2e101d18cdc9b62de,chapmanb,chapmanb@50mail.com,"Handle problem edge cases at starts of chromosomes

CNVkit events at the end of chromosomes can start with 0, which
creates invalid BED causing downstream failures. This checks
for that edge case.",2015-09-09T18:37:12Z,chapmanb
32fe1b20c7995bf7157f334f3b2f6fdeec608a97,chapmanb,chapmanb@50mail.com,ensemble-svs: Additional check for empty file,2015-09-09T17:46:45Z,chapmanb
ee68a0a9347f6c1254bac2f5e9f6ed468e91f4e7,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #1007 from brainstorm/master

""Local"" cluster changes for graph/collectl (on bcbio-nextgen collectl part)",2015-09-09T09:14:52Z,chapmanb
10dbc92dce10c099d683fa0c54b8b99aa96a59ef,roryk,rory.kirchner@gmail.com,"Add yeast reference information.

Thanks to @matted for this old pull request.",2015-09-09T01:36:25Z,roryk
e8483043f7ba24f95aacc3c8007fea28014281d2,roryk,rory.kirchner@gmail.com,"Add samtools as a resource requirement to the RNA-seq aligner

Fixes #1006 but only in technicality, the issue of not scaling
automatically during streaming still exists, but has an
easy workaround. Thanks to @schlelhorn for the suggestion.",2015-09-09T01:31:50Z,roryk
26348c9096bdeea0bf43a613dc065349b6be54a7,Rory Kirchner,rory.kirchner@gmail.com,"Fix coverage not running if priority_regions are not set.

Thank to deber1980 on the biovalidation mailing list
for finding and posting about the bug.",2015-09-09T01:08:30Z,roryk
da61d57be9387f05d56605e936fee82f6a77beaa,roryk,rory.kirchner@gmail.com,Add coverage to the ensemble calling test.,2015-09-09T01:05:56Z,roryk
c124a8f79cc57dadb11cc15a2e41262b63152576,roryk,rory.kirchner@gmail.com,"Cleanup BED files after minimizing.

Return a sorted BED file and also a file with a .bed extension,
since some tools use the extension to figure out what type
of file it is (like tabix, etc).",2015-09-09T01:04:35Z,roryk
e52d1629aef2fc8c70f71cdb6bb1470a9b888d98,lpantano,lorena.pantano@gmail.com,Fix error when no metadata for small RNAseq report,2015-09-08T20:09:23Z,lpantano
75907df15759d5db4348ba1a650c0f81da0c1978,Roman Valls Guimera,brainstorm@nopcode.org,"Undo steps check, thanks @chapmanb",2015-09-08T14:50:35Z,brainstorm
466879ec60e5ca87e9cd9b548a4bec0069e3879d,Roman Valls Guimera,brainstorm@nopcode.org,Include information about the local nodes into the hardware dataframe,2015-09-08T14:43:56Z,brainstorm
8a94a91b91cb045275ef30d59ab0613e740e458f,Rory Kirchner,rory.kirchner@gmail.com,"Allow Sailfish quantitation to work in parallel

Thanks to @schelhorn for the suggestion.",2015-09-08T14:11:51Z,roryk
bdd4484bd46ec484b241e6f16e6c3780671507df,chapmanb,chapmanb@50mail.com,"Support GEMINI 0.17.0 without --no-bcolz option

No bcolz indexing is now the default. Fixes #1005",2015-09-08T09:50:27Z,chapmanb
2508b8792f36e3f7936e5fa51120e672fd96c2ab,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #994 from guillermo-carrasco/master

Save zipped reports for fastqc",2015-09-08T09:42:25Z,chapmanb
71815611b9d038f17f2a7cf4776e180b364eea91,chapmanb,chapmanb@50mail.com,"Improve FDR/FNR based validation plots

Improves spacing and display of FNR and FDR based validation plots as
a generic alternative, without special scaling/zeroing, for showing
differences between methods.",2015-09-08T09:22:29Z,chapmanb
837444f025f6f3c717554749729d773a8e55ce13,chapmanb,chapmanb@50mail.com,"Push tumor-only samples to VarScan germline caling

VarScan currently complains on tumor-only inputs, as it doesn't have
a tumor only mode. This shifts these over to germline single sample
calling so we at least have output. Fixes #1003",2015-09-08T01:04:10Z,chapmanb
73eb579e923a18f048f74d265717b06a2a062356,chapmanb,chapmanb@50mail.com,"Handle intersection of BED files under load

BEDtools failed when running intersect and accessing the same file
from multiple processes. This avoids issues by copying locally
and handling failures.",2015-09-07T18:10:19Z,chapmanb
3ba04297ce67f7f05c0b8b99887fa003aab20d44,Roman Valls Guimera,brainstorm@nopcode.org,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-09-07T17:03:09Z,brainstorm
7cbb7ab9b3423ed5591a3d140c1726d5bd6f6cd2,Roman Valls Guimera,brainstorm@nopcode.org,"Parsing bcbio logs for local hosts, thanks @chapmanb for the steps cleanup comment. It does not fix the ValueError/len(data) yet though.",2015-09-07T17:02:06Z,brainstorm
6595638108c5b30384ed38fb8981614dea5f0d7f,chapmanb,chapmanb@50mail.com,"Allow removal of LCR regions in rtg validation

Ensures use of LCR regions for rtg validation when also subsetting
against a reference material BED file.",2015-09-07T10:18:36Z,chapmanb
8c035bb5c7f489744c148db2baf8b88e196799b2,chapmanb,chapmanb@50mail.com,"Validation plot with FNR and FDR

Initial version of validation plots using FNR and FDR instead of
separated concordant/discordants to avoid current downsides to plots",2015-09-07T09:32:46Z,chapmanb
e9d15646fea61b8ca8270eb4fb1c246af2eaf12f,Guillermo Carrasco,guille.ch.88@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-09-07T08:50:52Z,guillermo-carrasco
a4daab39bc4d16b0fa31ae39621cd22e7294d858,Lorena,lorena.pantano@gmail.com,Use fastqc parsed files for report,2015-09-06T15:16:13Z,lpantano
e0ad4147febd98638285d18a58eb41ea042bb117,chapmanb,chapmanb@50mail.com,"Skeleton for FDR/FNR based validation plots

Prepare hg38 validation for improved classification based plots.
Includes new hg38 configuration file with new metrics for plots:

- validate_batch for grouping plots together
- validate_sample for providing sample names for plots",2015-09-06T08:51:28Z,chapmanb
66b1e86cd3420293e25d5904152671f4843963fe,chapmanb,chapmanb@50mail.com,"Enable rtg vcfeval as a validation method

Use Real Time Genomics vcfeval, from rtg-tools, for performing
validation comparisons. Prepares output for feeding into simplified
plotting.",2015-09-06T08:47:36Z,chapmanb
6e7441a9edc6987e0854b4e16f49b664a9bf176b,chapmanb,chapmanb@50mail.com," Provide rtg target for use with Real Time Genomics tools

Supports genome indices needed for rtg vcfeval",2015-09-05T08:40:24Z,chapmanb
1edd53f1167c889c604647861c455879afb37069,roryk,rory.kirchner@gmail.com,Look up expression_caller in the dictionary properly.,2015-09-05T07:45:28Z,roryk
e56252e0e4b6c8a23d2f508c5bf4aba67533368c,Rory Kirchner,rory.kirchner@gmail.com,Add expression_caller to list of allowed algorithm keys.,2015-09-05T07:12:01Z,roryk
0e22b8c1c9b1346783477dee3798add682423fd6,roryk,rory.kirchner@gmail.com,"Sailfish support.

Exists as an optional feature for now.",2015-09-05T07:07:09Z,roryk
d6cf485254f0c1ae4d70e99afce9d4102bed644f,roryk,rory.kirchner@gmail.com,"Adds expression_callers flag, to turn on single callers.

Just supports sailfish for now.",2015-09-05T07:06:44Z,roryk
060b72b03b95b87d3a0afb1f5dae82d464ac8255,roryk,rory.kirchner@gmail.com,"Make file_transaction more robust when working with directories.

If the original directory already existed, file_transaction would
move it to be nested, so

safe = tx/foo
orig = foo/

would end up with a directory foo/foo. This fixes that by removing
the orig foo/ if both safe and orig are directories.",2015-09-05T06:15:01Z,roryk
a735f8edf628f658c35e2b61bf1c906719cbb9c4,Lorena,lorena.pantano@gmail.com,Add report to small RNAseq,2015-09-04T22:03:00Z,lpantano
c5ebb08e98d1f5c9cb6c08e59e29c705b2571350,Lorena,lorena.pantano@gmail.com,Add metadata to small RNAseq test sample,2015-09-04T22:02:57Z,lpantano
f739f163479cd8ff7d674dca1069d442c5fa80ff,chapmanb,chapmanb@50mail.com,"Allow use of CNVkit on disambiguated inputs

Fixes a bug which calculating the cnr and cns names for disambiguated
input BAM files which have complicated extensions. Thanks to @mjafin.",2015-09-04T16:48:34Z,chapmanb
9e6fa622ac5018bee7e4b5de53f7eee65d88247b,chapmanb,chapmanb@50mail.com,"Fix svcaller issue with tumor + multiple normals

When specifying a svcaller and not an ""early"" svcaller like the CNV
callers (CNVkit, Battenberg), samples with complicated batching
like a single tumor and multiple normals would lose samples. This
correctly passes along the batches in this case to avoid the problem.
Thanks to @mjafin.",2015-09-04T16:42:47Z,chapmanb
9114a392ce844e06878ee943a9d0f789eddb3a85,Roman Valls Guimera,brainstorm@nopcode.org,Get local nodes from bcbio logs,2015-09-04T16:42:13Z,brainstorm
f20ef41acad0dc62e52c806e75dfea3cf2a34ecd,Roman Valls Guimera,brainstorm@nopcode.org,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-09-04T16:41:42Z,brainstorm
45b479ee3fbd5c81c38002b98d9ab2d1d432394f,chapmanb,chapmanb@50mail.com,Generalize group size for batching gVCFs prior to joint calling. Thanks to @scatreux.,2015-09-04T09:55:45Z,chapmanb
88d313b787e0720b87c200ac6423f6cc661c6b37,Roman Valls Guimera,brainstorm@nopcode.org,Give a hint on the exception itself,2015-09-03T18:39:07Z,brainstorm
51e0e39898c11ebfbc2f3ac358567364d097b3d6,Roman Valls Guimera,brainstorm@nopcode.org,"Checks when steps turns into a list, perhaps truncated collectl file, raise exception on len(0)",2015-09-03T18:34:30Z,brainstorm
38d47fb4deb4491740c493f0b8c8b7c23ebf36f7,Roman Valls Guimera,brainstorm@nopcode.org,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-09-03T18:32:45Z,brainstorm
d344fe2c51b69b6367cfe9ef1fef732294b79afd,chapmanb,chapmanb@50mail.com,Adjust mapping quality (MQ) filter for GATK SNP hard filters to improve sensitivity http://imgur.com/a/oHRVB,2015-09-03T09:17:46Z,chapmanb
b9509420ec0500e03c69e9bf2ffb303b139a711c,chapmanb,chapmanb@50mail.com,Enable WHAM input to MetaSV,2015-09-02T13:18:04Z,chapmanb
cfe6eb863d70dd2e26a94118d435877cbed52fee,Guillermo Carrasco,guille.ch.88@gmail.com,Save zipped reports for fastqc. Fixes #792,2015-09-02T11:48:31Z,guillermo-carrasco
63610caa99c28dfba1d988955e91b406343f97aa,chapmanb,chapmanb@50mail.com,"Enable tools_off for GATK VQSR

Variant Quality Score Recalibration (VQSR) can fail intermittently
for whole genome samples, leading to inconsistent results in comparisons.
This forces hard filtering for all build 38 validations.",2015-09-02T09:20:41Z,chapmanb
866028cec7211bf1d92698d04140b20859ae6fe3,roryk,rory.kirchner@gmail.com,Document the transcriptome_align option.,2015-09-02T01:14:29Z,roryk
94ac45b323ef9f5dec39d25d97affabbbe82cddd,chapmanb,chapmanb@50mail.com,WHAM: remove INV workaround after validating latest updates,2015-09-01T15:34:53Z,chapmanb
4517a301dbbb2aa12613ff68e6e1a4fded36a80c,chapmanb,chapmanb@50mail.com,v0.9.2 release,2015-09-01T09:35:59Z,chapmanb
40166b645e0521e56369dbfcda9183be1bd5c8c1,Lorena,lorena.pantano@gmail.com,Bump bcbreport. Change header of coverage files.,2015-08-31T14:18:43Z,lpantano
0ac1a0b6152faf635a41762c38bbb2e2970762e2,Roman Valls Guimera,brainstorm@nopcode.org,Something is wrong with collectl parsing,2015-08-30T14:57:24Z,brainstorm
26efccbf5968201af9cb12f5ea16b36f32cf3e52,chapmanb,chapmanb@50mail.com,Doc requirements file for readthedocs,2015-08-30T10:51:53Z,chapmanb
858b9e72f126e9c1d389c53672acf470f7bdf656,chapmanb,chapmanb@50mail.com,Document alternative regions in GATK jar specification. Fixes chapmanb/bcbio-nextgen-vm#109,2015-08-30T10:14:35Z,chapmanb
9d20e3e91de239058c7408cf8dbaa2b9e0481262,chapmanb,chapmanb@50mail.com,Configuration files and documentation for hg38 validation,2015-08-29T18:38:32Z,chapmanb
96fcb0deaa4199e351e4ea511f6a72c311abf6df,chapmanb,chapmanb@50mail.com,"Bring hmmlearn use up to date with latest version.

- model.fit no longer takes a nested list
- Handle empty heterogeneity block regions which occur in testing",2015-08-29T09:32:18Z,chapmanb
5dd6563fbe5dd766217e825ead269382e98f9bd0,chapmanb,chapmanb@50mail.com,Check for errors in tumor/normal mutect calling early (fixes #985),2015-08-28T09:34:48Z,chapmanb
17dfae5ae986b3262cf654f9e7b31ce1bd104f0d,chapmanb,chapmanb@50mail.com,Additional documentation on libcurl requirements. Thanks to Peter Waltman and  Adam Huffman (#984).,2015-08-28T08:52:20Z,chapmanb
6ee9422e107530c2eeb7bfc3430960f73548cbbf,chapmanb,chapmanb@50mail.com,"WHAM: support genotyping of VCF calls

Adds genotyping of VCF calls and post filtering of tumor/normal or
case/control outputs via the background. Currently skip post-filtering
of inversion calls since those are entirely removed by this step.",2015-08-27T10:21:54Z,chapmanb
f557b58f0fb65cc0154eda61e45d6b99e2346457,chapmanb,chapmanb@50mail.com,"CNVkit: improve parallelization and WGS calling

- Improve parallelization of coverage calling by splitting BED input and
  merging coverage calculations. Allows use of more cores than BAM
  files.
- Small adjustments to attempt to improve WGS calls with better
  segmentation.",2015-08-27T09:38:45Z,chapmanb
71161b8667b58bfd8601ec7d0e8b8c6964a4d619,Rory Kirchner,rory.kirchner@gmail.com,Add ability to turn Cufflinks off via tools_off.,2015-08-27T05:14:18Z,roryk
088fa1c1f904cd9646be8398dbfec1cc44ac2eb9,chapmanb,chapmanb@50mail.com,Cleanup core calculation for pbgzip,2015-08-26T12:25:15Z,chapmanb
ed2ab3d345f30b21b4413a9a596a18ec33d07146,chapmanb,chapmanb@50mail.com,"WHAM: provide VCF output, currently without genotyping",2015-08-26T11:39:42Z,chapmanb
4e737b861d54458dce3f197a2f266837bfdc3288,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #982 from guillermo-carrasco/master

Re-enable support for pbgzip",2015-08-26T11:35:52Z,chapmanb
89c51c8c78b3cdf90ccf51917efe7b94236ac462,Guillermo Carrasco,guille.ch.88@gmail.com,How to enable pbgzip,2015-08-26T10:01:02Z,guillermo-carrasco
1b0ae1d1586064cd6031f4b6b5671cfcdab56577,Guillermo Carrasco,guille.ch.88@gmail.com,Require pbgzip to be on the tools_on section.,2015-08-26T09:55:20Z,guillermo-carrasco
dc85525e0b1e1d69aa925ea25a8b89e5ebcfb820,Guillermo Carrasco,guille.ch.88@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-08-26T09:54:43Z,guillermo-carrasco
9e25468b87078161d81222233f33877f39c19ab4,chapmanb,chapmanb@50mail.com,"Parallelize cutadapt for multicore runs

Avoid trying to use multiple cores for the cutadapt step, pulled
in by default `num_cores`. This allows samples to run in parallel
at this step on multicore runs. Fixes chapmanb/bcbio-nextgen-vm#107",2015-08-25T19:21:51Z,chapmanb
2a534704af57780d40a2b7301271da841cfde998,chapmanb,chapmanb@50mail.com,"Bug fixes for GEMINI and QC metrics parsing

- Skip bcolz indexing on GEMINI database files, which can cause errors
  and will off by default in the next version.
- Handle non-float characters when parsing metrics, handling '?'
  characters from Qualimap.",2015-08-25T19:01:58Z,chapmanb
3aa566e4d71ac78e310dbd9890f8c257d4ddcee1,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #983 from Lobage/master

Update seqc.csv",2015-08-25T16:24:41Z,roryk
7ee08cb706a053ecb0b8f22ce5e9b2888084ba6a,Guillermo Carrasco,guille.ch.88@gmail.com,Re-enable support for pbgzip,2015-08-25T14:16:51Z,guillermo-carrasco
aabab96a22fb2eadcefe382df4d27f7f4153a9c0,Lorena,lorena.pantano@gmail.com,"Change minimum expression for analysis with seqcluster

This only affect smallRNA-seq pipeline. Only sequences
that appear at least twice will be considered.",2015-08-24T23:48:28Z,lpantano
1c9753fec343b9791716205fa23d124e153b1084,chapmanb,chapmanb@50mail.com,"manta: restart cleanly; wham: handle tumor-only

- Remove manta workspace directory for unfinished runs to prevent
  errors when it ends at a non-restartable place due to a failure.
- Correctly handle tumor-only inputs to WHAM by not passing
  background bams.

Thanks to @ohofmann",2015-08-24T19:19:08Z,chapmanb
8c8645a476b0bcf94908d7c384997560ef644290,Lorena,lorena.pantano@gmail.com,Use sample name for coverage files. Thanks @ohofmann,2015-08-24T18:53:41Z,lpantano
6e76ce111d641c1eec0c4faf8a2da44e6defc328,Lorena,lorena.pantano@gmail.com,"Catch error when kraken database isn't installed. thanks @ohofmann

Add kraken installation docs",2015-08-24T17:18:48Z,lpantano
33efc3c54b224f9e53101b86cb5e15f921431b8d,chapmanb,chapmanb@50mail.com,"Bubbletree: select potential LOH regions as inputs

Updates the assessed bubbletree regions of allele frequencies based on
blocks of heterogeneity in the normal sample. These are potential loss
of heterozygosity (LOH) regions in the tumor. This benchmarks better on
WGS pancreatic samples and works for more samples where the previous
approach failed.",2015-08-24T09:26:18Z,chapmanb
83a537111ee114c0f342ae87c77b93d2eaa61621,chapmanb,chapmanb@50mail.com,"Handle empty BED file edge cases for coverage

Fixes issues with unit tests where coverage_bed or priority_bed
were empty/None.",2015-08-22T10:20:24Z,chapmanb
1bc8072ef52b17d7f0105a98db240508df2ef7b5,chapmanb,chapmanb@50mail.com,Run disambiguate merge extras in parallel over samples. Fix #979,2015-08-22T09:36:43Z,chapmanb
b1321fe00162bf54e4a4e78e97c215e419081c45,roryk,rory.kirchner@gmail.com,Get header from the BED file rather than constructing out own.,2015-08-21T18:35:27Z,roryk
229fcc542a3be1b96359124ca8ba98e64a9dd285,roryk,rory.kirchner@gmail.com,Remove dead code.,2015-08-21T17:02:52Z,roryk
006bac85af6be24d8009485fd7b389b4b57b84c1,roryk,rory.kirchner@gmail.com,"Fix for coverage_stats dropping same-named but distinct regions.

Thanks to @lpantano for figuring out the issue.",2015-08-21T16:56:26Z,roryk
bfb167b193a3db5c8b7f3c669181d46ae79e6157,roryk,rory.kirchner@gmail.com,Switch to using the robust chunker.,2015-08-21T16:52:13Z,roryk
59a4e6e1eeec67b10d7234feae16c500612ddeb4,roryk,rory.kirchner@gmail.com,"Added robust_partition_all.

This is to address this issue https://github.com/daler/pybedtools/issues/88
when using a BedTool as an iterator. Thanks to @daler for figuring out
the problem and showing example workaround code.",2015-08-21T16:52:13Z,roryk
a46153373b83e2909b46a8e7bbd474888e768d8c,roryk,rory.kirchner@gmail.com,Speed increase: Refactor coverage to go by batch.,2015-08-21T16:52:13Z,roryk
3751633b2fa27756ba52ebdead12c94344da7a9d,roryk,rory.kirchner@gmail.com,Add function to estimate maximum command length.,2015-08-21T16:52:13Z,roryk
746420daec76bf605f0da57902bb60b2cb17c87d,roryk,rory.kirchner@gmail.com,Return None if no bed file exists to be opened.,2015-08-21T16:52:13Z,roryk
f689e2b2962ee5316f1df26ade18ae30df47d44d,Lorena,lorena.pantano@gmail.com,Add some docs for smallRNA-seq,2015-08-20T21:20:51Z,lpantano
d54fc459a9feb7e3df3e5748e6617b34a6f88ff8,roryk,rory.kirchner@gmail.com,"Fix for Chanjo not accepting non-minimal BED files.

Chanjo needs BED files, not just files that have an initial
three columns in the BED format. This trims down
BED-like files to the three necessary columns before loading
into Chanjo.

Thanks to @ohofmann for finding the error and @lpantano for
debugging it.",2015-08-20T15:51:11Z,roryk
218b2cc413ca7e25aed7d88d7803b5d7be3232a8,chapmanb,chapmanb@50mail.com,"CNVkit: subset calls to those with external support

Allow selection of CNVkit calls that are supported by a second caller --
MetaSV, Manta or Lumpy. This helps reduce false positives to provide
refined calls for input to downstream heterogeneity estimation
programs like THetA and BubbleTree.",2015-08-20T09:46:35Z,chapmanb
a67bc3d7519a0dc67b6ddd3d88e2cd3433824f2b,chapmanb,chapmanb@50mail.com,"WHAM: use latest update with graph-based calling

Updates WHAM to use the latest development code which re-works variant
calling to use a graph-based approach. This provides improved
sensitivity and specificity in validations: http://imgur.com/a/Gajsg",2015-08-20T09:02:11Z,chapmanb
cc3e6811c5533c5ed350e4f17cf6e37b6a63c935,lpantano,lorena.pantano@gmail.com,Fix fastqc taking fastq files for small-RNA,2015-08-20T02:40:14Z,lpantano
17f4923da7cca7861547cf69246c344b0b2856c3,lpantano,lorena.pantano@gmail.com,Skip steps if already done for smallRNA-seq,2015-08-20T02:40:02Z,lpantano
ca9df4f95d9a5801e01ecb4c93a34658c993f139,lpantano,lorena.pantano@gmail.com,Fix how to pass args in single core steps in smallRNA-seq,2015-08-20T02:39:48Z,lpantano
b56f67667b2f1394d95827aeb8ae5db092a06935,roryk,rory.kirchner@gmail.com,Bump ipython-cluster-helper version.,2015-08-19T20:14:00Z,roryk
0ab2e977734dfdf1f4d852bf1ff03c003da2dfde,roryk,rory.kirchner@gmail.com,Add RNA-seq parameter section.,2015-08-19T16:35:36Z,roryk
36aed0b063ac8973f8eeefe2f97bcf888843b44f,chapmanb,chapmanb@50mail.com,"lumpy: genotype before filters, consistent work_dir

- Fixes issue where genotyping loses FILTER information in header
  by delaying filtering until after genotyping.
- Place Lumpy work directory in consistent location for tumor/normal
  pairs.",2015-08-19T10:09:26Z,chapmanb
0244d85ea8ad41cd17bc2af03c71432ca77045f6,chapmanb,chapmanb@50mail.com,"CNVkit: use VCF as default and improve validation

Make VCF the default output format for CNVkit to match other SV callers,
and incorporate MetaSV ensemble results to pick calls for validation in
NA12878 and DREAM comparisons.",2015-08-19T08:47:54Z,chapmanb
69f2aead03925a9584ff2533ae3efb25a6a4176c,Lorena,lorena.pantano@gmail.com,Add seqcluster to conda packages,2015-08-18T21:02:58Z,lpantano
14474047eb9a5c13a64421164f6e8625b2a4dcbc,chapmanb,chapmanb@50mail.com,"lumpy: move sorting to use vt

Avoid issues with bcbio.variation and sorting with hg19 using vt sort
with addition of header sequence to VCF to ensure correct order.",2015-08-18T19:51:22Z,chapmanb
7f34b5c8001b3408d1dca7bc4a66ba1b6fc997af,chapmanb,chapmanb@50mail.com,"CNVkit: improved parallelization with split calls

- Splits CNVkit processing into individual calls instead of using the batch
  command.
- Perform sub commands in parallel using bcbio multiprocesing.
- Enable adjustments of p-value thresholds for segmentation for whole
  genome analyses.",2015-08-18T09:14:52Z,chapmanb
c898d6e513c66b96f3e7522ce1a4b7afed5f78ec,chapmanb,chapmanb@50mail.com,Upgrade ipython-cluster-helper via conda as well as pip #978,2015-08-18T08:13:46Z,chapmanb
e91f1951ea04a872bb33057782579593c1909933,chapmanb,chapmanb@50mail.com,docs: using pre-aligned input BAMs,2015-08-17T17:53:30Z,chapmanb
5e58d193fa47b29a113021e847310b949604335d,chapmanb,chapmanb@50mail.com,"SV validation for Lumpy with SVtyper

- Ensure sorting of SVtyper output by position
- Restrict validations to events > 100bp for fair comparisons between
  methods. Thanks to @lh3",2015-08-17T10:00:41Z,chapmanb
1a3e5f11748d09a559c9897fef224309824d9dcf,chapmanb,chapmanb@50mail.com,Avoid unsafe string comparisons with 'is' Fixes #977,2015-08-17T09:11:42Z,chapmanb
c3e20b8c4baad46e938776ec30eb6490c217f793,chapmanb,chapmanb@50mail.com,"Fix bug in queryname sorting for split alignments

Split alignments forced specifying the input order sorting as queryname
which works properly for bammerge but not for disambiguate scripts.
Properly sort in real queryname ordering. Fixes #976",2015-08-17T02:55:03Z,chapmanb
af33ddc6003f9ca3edcd963c6a5b97bfc257045c,chapmanb,chapmanb@50mail.com,"Add mate tag information from samblaster, used by SVtyper",2015-08-16T18:28:23Z,chapmanb
d71dcb61d6085f56234c328d7e679d2c2abab158,chapmanb,chapmanb@50mail.com,Genotype Lumpy structural variant calls with SVtyper,2015-08-16T08:24:30Z,chapmanb
ce3e999d676787cfa8a2c15a3b1da6cb766e60f6,chapmanb,chapmanb@50mail.com,"Support IPython 4.0 with ipyparallel

- Updates conda and requirements to pull in ipyparallel only, which
  includes required IPython and jupyter requirements.
- Some resiliency to old versions of IPython.",2015-08-15T09:33:35Z,chapmanb
b3ce7fdf304f25e533474f04d2d44a899520691f,roryk,rory.kirchner@gmail.com,"Soft import and msgpack disabling for IPython 4.0.

Defaults to the old versions if IPython < 4.0 is available.
msgpack is disabled in 4.0 for now, there is an issue with
the serialization.",2015-08-15T02:54:19Z,roryk
6a9585e45a864f198f90cdc6a4b7f05a2a48a337,chapmanb,chapmanb@50mail.com,Require ipython < 4.0 until we move to new import structure,2015-08-14T22:10:04Z,chapmanb
f3f62b8d259cbea3bd644c8f6caa44393c248d95,Lorena,lorena.pantano@gmail.com,Bump bcbreport version to have some new plots.,2015-08-14T19:24:12Z,lpantano
2fb9f1a8d8ca11df54ab4000f82da9edadb0fd63,chapmanb,chapmanb@50mail.com,"Improve CNVkit and THetA integration

- THetA: only estimate n2 results and skip attempts to calculate n3
  which can be time consuming. Goal is to measure tumor/normal estimates
  with THetA only for CNVkit.
- Remove filtering approach for CNVkit outputs that did not work.",2015-08-14T08:29:09Z,chapmanb
feb3821fa4f77f93f0e2c60fd5cd8c7b5cbaf768,Lorena,lorena.pantano@gmail.com,fix error when vcf not in data,2015-08-13T22:21:30Z,lpantano
fc9996316fccccc8aeda5b0d44b88d0217adb070,Lorena,lorena.pantano@gmail.com,"Adding automatic report for variant calling pipeline

We are working in a automatic report (`report: true`)
in R that will summarize qc metrics for all samples,
coverage regions if `coverage_experimental` has a bed file,
and variants coverage if vcf file exists. This feature is totally
unstable now, so sorry about any problem.",2015-08-13T21:46:57Z,lpantano
c1298a6b6f40e767348c5aab9810a3c9cf3136c0,chapmanb,chapmanb@50mail.com,"Remove extra FreeBayes alleles without calls

FreeBayes can leave extra trailing alleles without calls, which get
removed in secondary vcfallelicprimatives steps without correctly
adjusting the genotype fields. This results in incorrect AO and other
fields, causing issues with downstream GEMINI processing.

https://groups.google.com/d/msg/freebayes/yJ7tP49Lpz0/5clSXxtCGAAJ",2015-08-13T17:34:19Z,chapmanb
aedbbb42d0ddd7c66fda63719c172455a23358fe,chapmanb,chapmanb@50mail.com,Calculate and pass insert size statistics to MetaSV,2015-08-13T09:53:27Z,chapmanb
586602401ddbd9eb69968f26597e45f536b55604,Lorena,lorena.pantano@gmail.com,be happy with BAM files from other pipelines,2015-08-12T21:27:52Z,lpantano
841d62b184d1a8794f6f5a2f0700759777f3c1ae,chapmanb,chapmanb@50mail.com,"Useful error message when missing callable_regions

No callable regions indicates bcbio could find a set of callable
regions to parallelize on. This indicates an issue with the alignment,
so provide a more useful error message #972",2015-08-12T20:21:42Z,chapmanb
fdb2677339c928c85e141b0e6c0f789905d0aac2,chapmanb,chapmanb@50mail.com,Handle lowercase mutect jar inputs (fixes #970),2015-08-12T08:42:49Z,chapmanb
24f8b82e90dc291824b0a112a5de1d3665032dfa,chapmanb,chapmanb@50mail.com,"Correct output for bam and vcf indexes in final folder

Fixes bug introduced in CNVkit support where extensions for indexes
like .bam.bai would end up with ""-bam.bai"" at the end of files in the
final folder. Fixes #261.",2015-08-12T08:41:30Z,chapmanb
461344d3c9a5a40e2179b2d4a855ab68e7da42d3,Lorena,lorena.pantano@gmail.com,organize folders and process. Help with srna resources.,2015-08-11T17:48:28Z,lpantano
80997d08d376a1d29d10eecac5efca0332706a4c,chapmanb,chapmanb@50mail.com,"Enable specifying GEMINI options in resources

Allows custom setting of '--annotation-dir' to avoid issues with shared
filesystems. Fixes #966",2015-08-11T15:52:29Z,chapmanb
fd6cc0e8b8950fafc312834aff7f93684d9ab59f,chapmanb,chapmanb@50mail.com,"Handle empty coverage BED files and simplify Dockerfile

- Skip running chanjo with empty BED files, fixing issues with unit tests.
- We no longer require site_perl setting for PERL5LIB in Dockerfile.",2015-08-11T08:55:15Z,chapmanb
fb67267777782f7cbaa570395576a9c179f669a1,chapmanb,chapmanb@50mail.com,"Pre-index BAM file prior to callable calculation

Avoids race conditions when BAM index is out of date with BAM due
to filesystem timestampl issues.",2015-08-11T08:39:04Z,chapmanb
8cd4395deaf894c69c6b46cac34c0de872e1caa4,chapmanb,chapmanb@50mail.com,"Make seqcluster requirement soft (cc @lpantano)

- Do not require seqcluster if not running the small RNA pipeline.
- Preparation for adding seqcluster as a soft dependency of bcbio
  and checking issues with circular requirements.",2015-08-11T01:48:15Z,chapmanb
eaaa22bfdac46c5bed9371666112a1a12ee21ea6,Lorena,lorena.pantano@gmail.com,fix typo in ipython task,2015-08-10T20:23:49Z,lpantano
69ac48b81c7ad88b71df76104043b6b805d75e79,Lorena,lorena.pantano@gmail.com,fix test genome version,2015-08-10T19:39:45Z,lpantano
095d3e39724551d327c547e0dbbe86dff79589ac,Lorena,lorena.pantano@gmail.com,"Add small RNA pipeline to the framework

will add to docs when is more stable",2015-08-10T19:31:28Z,lpantano
6c841619dd2823974845106acf3cd9e93702bc9a,chapmanb,chapmanb@50mail.com,Bump test data with new small RNA thanks to @lpantano,2015-08-10T19:22:59Z,chapmanb
e771181535cdd76105fef527d47c875033b2f36a,roryk,rory.kirchner@gmail.com,Fix extensions being put in the combined count column names.,2015-08-10T17:14:15Z,roryk
b698aac95e99fd88b772fce221fb4cce320d5f3a,roryk,rory.kirchner@gmail.com,"Memoize coverage calculation correctly.

Fixes #965. Thanks to @schelhorn for figuring out what
the issue was.",2015-08-10T13:32:35Z,roryk
3814622a5d9de6fdd94ceebca036919df3586a98,chapmanb,chapmanb@50mail.com,Remove ensemble from validation runs and leave MetaSV work directory for debugging,2015-08-10T08:58:46Z,chapmanb
951ab878a9a145a67b48a1aafcaaafa02e6650fe,chapmanb,chapmanb@50mail.com,"Improve SV validation, avoiding ensemble requirement

Uses raw BED files instead of finalized ensemble calls for validation,
separating filtering and flattening effects of the ensemble method from
the individual caller sensitivities and specificities.",2015-08-09T09:41:46Z,chapmanb
adea76127bf58d80669464a0bdbf4a1180b59d6c,chapmanb,chapmanb@50mail.com,MetaSV: pass temporary work directory and parallelize by cores,2015-08-08T09:37:29Z,chapmanb
08f98889f258a4b53edac4b2f814323f48ff3cd6,chapmanb,chapmanb@50mail.com,Strip out comment lines from BED files when preparing. Thanks to Severine Catreux.,2015-08-07T20:01:26Z,chapmanb
cf5614edee304739f659bf6d351847be697c1464,Lorena,lorena.pantano@gmail.com,allow using parallel functions from outside,2015-08-07T15:39:44Z,lpantano
ecefa2cb25f0df531ccc9c26e76f789088f44e4e,chapmanb,chapmanb@50mail.com,"Initial support for MetaSV ensemble caller

- Add infrastructure to support adding MetaSV calls for Lumpy, Manta
  and CNVkit.
- Untested on real datasets and needs validation work.",2015-08-07T10:26:59Z,chapmanb
d4bc373104efebbb60a624e14b0988a31c76c11f,chapmanb,chapmanb@50mail.com,v0.9.1 release,2015-08-06T10:27:52Z,chapmanb
8da1250a554230b73adf0014989221747f594743,chapmanb,chapmanb@50mail.com,Update NA12878 structural variant calling example with new GiaB truth sets and callers,2015-08-06T09:27:36Z,chapmanb
e5a76d6a0785c933e6a55d4c4fe4d7d0440a0a93,roryk,rory.kirchner@gmail.com,"Add coverage section to genome information.

This has:

1) coverage_problem_dir which has all of the BED files for
the coverage calculation
2) MIG the medically intepretable gene list from Personalis as
a default priorization set.",2015-08-06T01:23:02Z,roryk
7ffc12f802565c591b05512264dec837b1a0917b,roryk,rory.kirchner@gmail.com,"Set default coverage_depth_max to 10,000.

This accidentally got set to be a default None during the refactor.",2015-08-06T00:07:06Z,roryk
a99018c9de54f6a49e924c08751dd63ca63e47ec,Rory Kirchner,rory.kirchner@gmail.com,"Restore original GATK depth behavior.

Partially reverts 91e9f9e2936899, restoring the 500
coverage_depth_max for the GATK.",2015-08-05T19:56:25Z,roryk
71717826b9402f8204a26e7f4d33220760882ae6,Rory Kirchner,rory.kirchner@gmail.com,"Add is_set methods to the datadict.

This is used to check if a variable is set or not in the
global data dictionary, useful for figuring out if a returned
value is a default value or not.",2015-08-05T19:55:16Z,roryk
91e9f9e2936899b3a480e6cca6c5de82319b24d3,roryk,rory.kirchner@gmail.com,"Fix GATK default max coverage to match documentation.

Documentation states the coverage cutoff is 10,000 if none is
specified, but GATK code was treating it as 0.

Coverage stats now use the coverage_depth_min to calculate
completeness.

Refactor manual lookups of coverage_depth_min and coverage_depth_max
to look it up using the datadict calls.",2015-08-05T18:07:57Z,roryk
fd685aeefe2e3375e9fd589edebd5bdf7335ed82,chapmanb,chapmanb@50mail.com,Update test genome data with small RNA. Thanks to @lpantano,2015-08-05T13:10:50Z,chapmanb
7da8dce11705e81fa4d748b7b69d267981268b0b,chapmanb,chapmanb@50mail.com,"Only set gof3r endpoint if non us-east-1 region, avoiding retrieval errors for biodata.",2015-08-05T11:41:27Z,chapmanb
b002952449108b921b6f295cae7d639ddaf48625,chapmanb,chapmanb@50mail.com,Also use samtools and sambamba memory settings for Standard alignment step.,2015-08-05T09:21:31Z,chapmanb
d0337ded256853ceb9972ea6a2ecda1a3d5c41e2,chapmanb,chapmanb@50mail.com,Provide phix resources file for processing sequencing standards (thanks to @ohofmann),2015-08-04T15:25:36Z,chapmanb
f44aa9d927753f818be4f1e3ccc74d56c3e8a8d4,chapmanb,chapmanb@50mail.com,"Support CNVkit VCF preparation

- Adds export of VCF files, not yet making it the default for
  downstream processing without more testing.
- Ensure that segmentation and gainloss files get uploaded to
  final output directory (thanks to @mjafin).",2015-08-04T09:32:56Z,chapmanb
f3a56287ebfd980ac63eb627d2b2ba80c10d6a32,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-08-04T05:05:44Z,roryk
fa982a84b4dece15cd3c5e08bc9ac03104545c0a,roryk,rory.kirchner@gmail.com,"Trigger symlink failover (copy) when exception is thrown.

Attempt to provide a workaround for #958.",2015-08-04T05:03:45Z,roryk
1021b3528e19898da20b92ff6d2d68f49d64bb0c,roryk,rory.kirchner@gmail.com,Fix complexity by starts script to use the datadict.,2015-08-03T22:35:07Z,roryk
4458bad98e60dded1f55075066d52d3d977d2b08,roryk,rory.kirchner@gmail.com,Simplify counting the unique start positions by number of reads.,2015-08-03T22:35:07Z,roryk
820d84ffeee1afcd5abd90732bf8d5ce08790661,roryk,rory.kirchner@gmail.com,Look up cores using the wrapper.,2015-08-03T22:35:06Z,roryk
b9b3e73dc357b61df2fbea587c9af84de008b31b,chapmanb,chapmanb@50mail.com,Bug fixes for sambamba depth (handle header in new versions) and correct library for CentOS SSL (#955),2015-08-03T17:10:50Z,chapmanb
1a10c561024b1d8ab2fa1095d1ed0a89b9a2cb9e,chapmanb,chapmanb@50mail.com,"Handle split disambiguation stats, from @schelhorn, fixes #948",2015-08-03T14:25:22Z,chapmanb
b4ba0bdd9917817c94d163b2ccb47ddb1445220b,chapmanb,chapmanb@50mail.com,"Documentation improvements

- Provide both openssl and libcurl libraries for Ubuntu and
  RedHat/CentOS (fixes #955)
- Reference generic anaconda bcbio repo instead of binstar specific.",2015-08-03T14:14:18Z,chapmanb
c3780e2e08b1a67114145107309188abe16cb3ab,Lorena,lorena.pantano@gmail.com,update docs with qualimap results meaning. Thanks to @schelhorn,2015-08-03T14:10:51Z,lpantano
ec915c146aa56f09ea95ee0989a0d2240648cd0a,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #956 from verdurin/master

Fix package name for OpenSSL library/headers on Red Hat systems",2015-08-03T14:07:41Z,chapmanb
652c3c33ce79c5e4fd7afb25a31dcb647e2b713c,Lorena,lorena.pantano@gmail.com,change qualimap labels in qcsummary,2015-08-03T14:03:28Z,lpantano
8d1273220b55409b16bd416edf04ac35f244ebd6,Adam Huffman,bloch@verdurin.com,Fix package name for OpenSSL library/headers on Red Hat systems,2015-08-03T10:39:39Z,verdurin
aabf6df2e141c8b743bafb8a6e40ab5fb443b2d7,chapmanb,chapmanb@50mail.com,"Docker creation: fix download of pre-built genomes

- Fixes issue with missing genomes by avoiding bug in new code
  added for CWL support.
- Reduces size of Docker image by removing Homebrew git directory.",2015-08-01T09:18:12Z,chapmanb
4bd1a966c9776119b294c85eabdf456234222c51,roryk,rory.kirchner@gmail.com,Change rsem to transcriptome_align in all of the test config files.,2015-08-01T02:08:59Z,roryk
276ac81801acbb87c79727cf2b6e495ca224c7ab,roryk,rory.kirchner@gmail.com,"Change the default coverage cutoff for the completeness metric to 12.

It was previously 4, which is extremely low.",2015-07-31T16:32:00Z,roryk
d0d7def7bb6091e9eba3881dcaf5016f0e735d2d,chapmanb,chapmanb@50mail.com,Support sambamba 0.6.5 depth output which contains headers,2015-07-31T15:58:49Z,chapmanb
a85714ca6865260f1d9f4c58a7689851bdc1e799,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2015-07-31T09:33:05Z,chapmanb
e44ac7d97fdd7850d7a7dbc3d9bbba3ea2d504a5,chapmanb,chapmanb@50mail.com,"Set min_allele_fraction default by each caller

Do not default min_allele_fraction globally so we can skip it in MuTect
if not set. Default in MuTect is equivalent 2% instead of default 10%.
Switching to 2% globally is not a great choice because VarDictJava
slows down at these levels.
Based on validation work: http://imgur.com/a/3VPbq",2015-07-31T09:28:04Z,chapmanb
72473beb0d2a8344cee3d01fc6c05fc82d7f0cfd,roryk,rory.kirchner@gmail.com,"Use disambiguated reads with aligning to the transcriptome.

This also removes the rsem: True flag, replacing it with
transcriptome_align: True. This has the meaning of turning
transcriptome-only aligning on, for use with RSEM and other
downstream tools requiring that. Not many people have
rsem: True turned on, so this deprecation won't affect
very many users so now is the time to do it.

Thanks to @schelhorn for doing all of the heavy lifting for
this patch.

Closes #859.",2015-07-30T21:23:48Z,roryk
52e22159d250b1b2f0a2509fd1b6b8dc06edc004,chapmanb,chapmanb@50mail.com,"manta: Correctly change sample name and select from original VCF for tumor/normal, tumor-only and standard. Fixes #952",2015-07-30T14:07:31Z,chapmanb
d1177207b8d104996a559b311006ee670c651e9f,roryk,rory.kirchner@gmail.com,"Remove incomplete coverage BED file.

Instead we just dump out the entire Chanjo database and let
the use figure out what they want to filter on.

This commit is by itself so we can revert it if it turns out
people were using the incomplete region file.",2015-07-29T19:21:43Z,roryk
8c2d985b0524329acef027ad066dd439453b405d,roryk,rory.kirchner@gmail.com,"Calculate coverage across all regions from the Chanjo database.

The incomplete file is a little bit redundant with this and not
much in use yet so now is probably the time to remove it.

Thanks to @schelhorn for the poke about it. Closes #950.",2015-07-29T18:53:20Z,roryk
bcbfe9f6d8c5c1b6f6f178e1d8134e6153b9fee7,chapmanb,chapmanb@50mail.com,Improve validation plotting -- remove callers without validation approaches and ensure consistent text placement,2015-07-29T17:38:42Z,chapmanb
b1dd8d1732c92c868b9381c916a5a9bd3a890a9b,chapmanb,chapmanb@50mail.com,Correctly prepare SV exclude files by chromosome for Delly. Fixes #947.,2015-07-29T12:50:40Z,chapmanb
c9f72a5a06c84bffb05d0353f8cc4bdff8324cdf,chapmanb,chapmanb@50mail.com,"ensemble SV preparation fixes

- Fix sample naming on manta files and subset to tumor for paired calling.
- Pass along lumpy results even with no-calls to use without genotyping.",2015-07-29T11:36:01Z,chapmanb
d21d339e949d6ae7f0296a3d9cdb403bffd972e9,chapmanb,chapmanb@50mail.com,Pass 'min_allele_fraction' to MuTect as --minimum_mutation_cell_fraction to improve low frequency detection. Thanks to @mpschr,2015-07-29T09:30:40Z,chapmanb
c45b7cfe069e3703ee44c298fa02de46cee3399c,roryk,rory.kirchner@gmail.com,Add proper column names to the annotated missing region BED file.,2015-07-29T00:13:55Z,roryk
ddaeb9850c1f602d35ecf0f8e23e834cae4cbf64,chapmanb,chapmanb@50mail.com,Better document how to specify fastq and BAM files in the template CSV file.,2015-07-28T15:10:19Z,chapmanb
d659c603c639010caa7c5363c8d5b6ec54cd1bc2,chapmanb,chapmanb@50mail.com,"Provide useful error messages for incorrect inputs setting (#908):

- When a somatic batch has multiple tumor samples.
- When VarDict used for pooled non-tumor calling.",2015-07-28T14:04:27Z,chapmanb
eeac5d2dde53d1513e5b0a70c25b72f58105f978,chapmanb,chapmanb@50mail.com,Enable Qualimap using 'tools_on' to avoid long runtimes on test datasets (cc @lpantano @ohofmann),2015-07-28T13:23:52Z,chapmanb
ba725f33f8a9f618f4519282dd4cded9d58c1279,chapmanb,chapmanb@50mail.com,"Update CNVkit integration to support 0.6.x versions:

- Use CNVkit call/export bed to create BED files
- Add support for segmetrics and gainloss in output
- Run on a single core to avoid intermittent multiprocessing issues (Fixes #915)",2015-07-28T08:53:37Z,chapmanb
b73c090307dfd0ff39b70986005312aba7399b3e,chapmanb,chapmanb@50mail.com,Template improvements: handle description inputs with zero padding on left side and write template and original metadata file to output directory. Thanks to @ohofmann.,2015-07-27T10:43:22Z,chapmanb
ccc43d8dabbbdc10841324ad604b2ab3f54a45e3,chapmanb,chapmanb@50mail.com,Use merged BED regions as inputs to qualimap to avoid problems with duplicated/overlapping lines in BED file. Thanks to @mjafin.,2015-07-27T10:16:37Z,chapmanb
94cee20920ebeb6654b537e6ed9ac0570b18d4dc,chapmanb,chapmanb@50mail.com,Continued work on CWL support: provide skeleton implementation to write a CWL workflow from an input world object.,2015-07-27T09:25:32Z,chapmanb
ec74a484683f7b60f28ac0db6b5d91223ebff0ed,chapmanb,chapmanb@50mail.com,"Additional support for Ensembl 81 genomes.

- add new zebrafish build (Zv10)
- Remove Ensembl references for non-supported older builds (Zv9, rn5)
- Update xenTro3 to Ensembl reference to point at the right place",2015-07-25T08:48:27Z,chapmanb
37a362153d99926f1223a251cad29d5abc3ebd4b,chapmanb,chapmanb@50mail.com,"Ensable validation support for manta, avoid filtering to avoid bias between methods",2015-07-25T08:26:22Z,chapmanb
4997b996b54d7d6cb651a7d3b1da99f862469dd3,chapmanb,chapmanb@50mail.com,Update ensembl resources to match new VEP version 81,2015-07-24T14:18:18Z,chapmanb
d85346accff5ca8fb5c6a6554f43d4eb885eef8d,chapmanb,chapmanb@50mail.com,Skip ensemble and validation on initial pass structural variant calling.,2015-07-24T13:42:48Z,chapmanb
211b6f0d5ec15df64bdde06b0932d11b1fdf8ca4,chapmanb,chapmanb@50mail.com,Use physmem instead of totmem on Torque systems for memory estimation. Fixes #943,2015-07-24T09:48:55Z,chapmanb
ab6d724326474851675c5679a166b7d52c21490e,chapmanb,chapmanb@50mail.com,Add support for new Rat (rn6) and chicken (galGal4) genomes.,2015-07-23T16:05:03Z,chapmanb
a01e7bb1c55e1f6c4b4e195fce04e864ad9b1bdf,chapmanb,chapmanb@50mail.com,Initial support for manta structural variant caller.,2015-07-23T09:15:37Z,chapmanb
eb60faabf9248f1a6d1143d9da866b3353ce9c2f,roryk,rory.kirchner@gmail.com,"Add support to annotate incomplete regions.

Given a directory of BED files of known problem regions to annotate
the incomplete regions with.

An example is the GA4GH stratification files: https://drive.google.com/folderview?id=0B7Ao1qqJJDHQUjVIN3liUUZNWjg&usp=sharing#list
files. These have been cleaned up and put here: https://dl.dropboxusercontent.com/u/2822886/ga4gh_tricky_regions.zip.",2015-07-22T19:32:17Z,roryk
018986e5c365400f1190ad01ecd7f8e69c829175,chapmanb,chapmanb@50mail.com,Remove high depth regions from structural variant calling by adding to exclusion file. Avoids false positives with lumpy. Thanks to @mjafin.,2015-07-22T19:03:34Z,chapmanb
b36e7ed762102fed83e33f7917fe23fafe908dbb,roryk,rory.kirchner@gmail.com,Add docs for coverage to experimental section.,2015-07-22T15:49:02Z,roryk
2ac3097401c829806e6d6f556fd757c7ebea086e,roryk,rory.kirchner@gmail.com,Documented the coverage parameter.,2015-07-22T15:47:25Z,roryk
cd3fe7b435f8aa587238a81db780bbe1c3adffe2,roryk,rory.kirchner@gmail.com,Add sample id to the batched missing coverage BED file.,2015-07-22T15:28:58Z,roryk
cb659dfe378e1fbf2cb9c9895897fb514260a276,chapmanb,chapmanb@50mail.com,Bump ipython-cluster-helper requirement #943,2015-07-22T14:22:23Z,chapmanb
60b9dead38d728ed4022401769b40452721f00d1,chapmanb,chapmanb@50mail.com,Adjust fixing of BAM headers to handle novoalign case where we need to replace unsorted with queryname instead of creating the header. Fixes #938,2015-07-21T08:47:09Z,chapmanb
687bbc86598ad5a98de9b9f4a820773ffe2bda9d,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #942 from funnell/novoalign-cmd-fix

replace samtools placeholder with path in novoalign cmd",2015-07-21T08:09:44Z,chapmanb
e1e0bacf27c540bf05e6257013fa893a38c95179,Tyler Funnell,tyler.funnell@gmail.com,replace samtools placeholder with path in novoalign cmd,2015-07-20T20:28:28Z,funnell
3cf352e6e9a6311cb7a7d26f600f99cd0626a465,chapmanb,chapmanb@50mail.com,Better continuation of data retrieval jobs for examples,2015-07-20T09:40:49Z,chapmanb
76a622303681752e56aecf2f868e7637a1ed1bdb,chapmanb,chapmanb@50mail.com,Enable python 2.6 compatibility by removing poorly introduced check_output. Thanks to @ohofmann.,2015-07-19T23:28:28Z,chapmanb
bc24ef18e25876cfc8361f566f8e504c98774c8c,chapmanb,chapmanb@50mail.com,Update hg38 resources to include low complexity regions.,2015-07-18T05:15:45Z,chapmanb
91fd62b6dd7a5539ec50dba7dd318afa3b4530c1,chapmanb,chapmanb@50mail.com,Do not filter structural variants by variant_regions when filtering. Thanks to @mjafin #927,2015-07-18T04:13:53Z,chapmanb
ba7dd7bfc7d7a2e6bc788da4612bbbc7c0549bab,chapmanb,chapmanb@50mail.com,Fix typo in bam.remove function,2015-07-17T05:58:07Z,chapmanb
c249e977f86194c56c7492a248d3ce8d5b2dd1d4,roryk,rory.kirchner@gmail.com,"Remove extra picard_dir argument in prepare_tx_gff call.

Fixes #935.",2015-07-16T17:46:38Z,roryk
4b4640781bc9d19bc6e170e12f5c3632216bae70,chapmanb,chapmanb@50mail.com,Ensure output lumpy-sv file sorted by chromosome and position. Thanks to @mjafin #927,2015-07-16T10:48:01Z,chapmanb
9b6dc704752200380d2f8efa76d2c0fd1541f119,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #934 from mjafin/master

Relax lumpy exclude regions",2015-07-16T05:15:53Z,chapmanb
fa20703fdc4e567280c9e495ea2c2479cc05c900,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-07-15T13:31:33Z,N/A
8dc93a06c74753e76ebd5f2cb4b734d543f1d6c6,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Remove bed from exclude regions for lumpy,2015-07-15T13:31:22Z,N/A
cd2bfc649a3164a1cce003fdfdeac2a34fe4892a,chapmanb,chapmanb@50mail.com,Move lumpy to latest version using lumpyexpress instead of speedseq #927,2015-07-15T13:25:16Z,chapmanb
a2e85b671c0d6116cb9074562280e5866adebb30,chapmanb,chapmanb@50mail.com,Avoid running name check for bedtools subtract which fails on hg38 HLA chromosome names,2015-07-15T06:11:22Z,chapmanb
751d9ce9ae190677b87104de847466048206cdc0,Lorena,lorena.pantano@gmail.com,add qualimap of downsampled BAM file,2015-07-14T20:36:59Z,lpantano
5b8b15074b8bc439bb961e5547aec4359f2bf1cd,chapmanb,chapmanb@50mail.com,"Cleanly exit from errors in bubbletree heterogeneity calculations. Current
Bioconductor version fails when it doesn't converge.",2015-07-14T06:12:00Z,chapmanb
40223f752a013a342a9861853dd44d11accd55ab,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #930 from matted/bwa_fastq_fix

Remove obsolete -I flag from bwa aln (handled by seqtk now).",2015-07-14T04:58:48Z,chapmanb
2141b7c6018f35d12f0b12af29a7175c0ab55cdd,Matt Edwards,mttdwrds@gmail.com,Remove obsolete -I flag from bwa aln (handled by seqtk now).,2015-07-13T20:30:54Z,matted
a79a0a63e4240c2c2172223fb62b339fc7cba474,Lorena,lorena.pantano@gmail.com,run kraken always if is active,2015-07-13T13:36:43Z,lpantano
700660c4c271dc8829dab9245a341e5160f9f3b7,chapmanb,chapmanb@50mail.com,Document Java requirements and need to have Java 1.7 in PATH and JAVA_HOME (#928),2015-07-13T09:05:27Z,chapmanb
63a013c29872a98845f3516a17adc6f9344a223a,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #929 from alexandrucoman/fix/objectstore

Remove extra argument passed to FileHandle.__init__",2015-07-12T21:24:15Z,chapmanb
cacf21997b4d6a6a8febc836f3033eec5d3db770,Alexandru Coman,acoman@cloudbasesolutions.com,"Remove extra argument passed to FileHandle.__init__

Fixes chapmanb/bcbio-nextgen-v#92",2015-07-12T15:43:03Z,alexcoman
0d481e607c3a473c3f645eb15916b06dc1e52dac,chapmanb,chapmanb@50mail.com,Improve documentation and usability of initial CWL tests for bcbio. It now runs a small test on a local installation (or part installation) and Docker CWL support is still in progress,2015-07-10T04:52:00Z,chapmanb
31a05fd7f6ac9ea77fff328761b32775ed049110,chapmanb,chapmanb@50mail.com,Additional work on bcbio with CWL -- now does system and run info prep on a system with a local installation of bcbio_nextgen,2015-07-09T12:10:44Z,chapmanb
c4b52db61b84cee9224962990d5c9c464e91b30a,chapmanb,chapmanb@50mail.com,Update example validation templates to use latest Genome in a Bottle release v2.19,2015-07-09T04:49:13Z,chapmanb
1d8822b1a003a7d426ac7826ebe64b0366811474,chapmanb,chapmanb@50mail.com,Initial implementation of a CWL runner framework that could parse bcbio input files,2015-07-08T15:57:28Z,chapmanb
dbf8dc24e7b8b971b11e88b91457c16aabd59437,chapmanb,chapmanb@50mail.com,Avoid prep error for YAML if missing directory in upload. #435,2015-07-08T05:01:35Z,chapmanb
70cf36fae7e6272bf09f82e9833a93c142f23b1c,chapmanb,chapmanb@50mail.com,Ensure tophat script is run with bcbio installed Python to avoid incompatibilities with other python versions. Fixes #926,2015-07-07T06:01:09Z,chapmanb
ba1ecb55e1adcf6aa8cc1e491b914fe3fb08fc7d,chapmanb,chapmanb@50mail.com,"Handle hg19 when working with dealing with PhyloWGS output, which uses GRCh37 contigs",2015-07-06T06:11:36Z,chapmanb
4479eedd270a825c48557b43a77c7d9b9ceb540e,chapmanb,chapmanb@50mail.com,"Handle hg19 when working with dealing with PhyloWGS output, which uses GRCh37 contigs",2015-07-06T05:59:11Z,chapmanb
17a95d829bb1adea5382fe0637ccc75f663f6f1f,chapmanb,chapmanb@50mail.com,"Handle hg19 when working with dealing with PhyloWGS output, which uses GRCh37 contigs",2015-07-06T05:50:44Z,chapmanb
fdcee74ccd0c238941a7417c947bcbf6b75d6357,chapmanb,chapmanb@50mail.com,Provide useful error message if --tooldir not specified with --toolplus. Fixes #914,2015-07-05T04:42:23Z,chapmanb
3765cc3b861821493e3dc7d0bd16a75dd7db932d,chapmanb,chapmanb@50mail.com,Fix issues with non-standard fastq extension detection. Thanks to Karol Pal,2015-07-05T04:12:52Z,chapmanb
bfb3fd600536ab16dc25836bafd5260c34ba29b5,chapmanb,chapmanb@50mail.com,Provide useful error message if input fastq files are None. Thanks to Karol Pal,2015-07-04T20:03:41Z,chapmanb
fd0bcdeaef2eea59825dcfa3bdfcc8c2561a4114,chapmanb,chapmanb@50mail.com,Improve installation on bare machines: better checking for dependencies plus use conda packages instead of building python libraries,2015-07-03T06:03:00Z,chapmanb
d0edc5d004e006460d82580717302fd7c12de90c,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #921 from lbeltrame/varscan-batch-name

Show batch name when paired batch misses paired samples (VarScan)",2015-07-03T04:34:03Z,chapmanb
b77e0080e49dc58a94f8fd8deb9351abefcb7d3c,Luca Beltrame,luca.beltrame@marionegri.it,"Show batch name when paired batch misses paired samples

With large data sets, errors in batches (missing tumor/normal
phenotypes) can be confusing as it's hard to find the culprit. This
commit adds the batch name to the message printed, so it's easier to
spot errors.",2015-07-02T13:24:39Z,lbeltrame
86759506e032dc85c4b57272b9e9684d8ce65ba2,chapmanb,chapmanb@50mail.com,PhyloWGS: provide summary of tree freuencies with annotated genes associated with sub-species,2015-07-02T10:55:58Z,chapmanb
c3d914447dd04a1f589ad76bc43cf1e58710ec49,chapmanb,chapmanb@50mail.com,Update to latest dbNSFP release #913,2015-06-30T09:38:45Z,chapmanb
60493e5fee849cf19e7f4a315c9ba09491cfe7b6,chapmanb,chapmanb@50mail.com,Document optional use of 'gatk-framework' #912,2015-06-30T01:25:49Z,chapmanb
889565c8629f16805bfef3411bf1f447196a59f7,chapmanb,chapmanb@50mail.com,Template preparation: raise error if metadata CSV file is not found to provide less confusing behavior. Fixes #907,2015-06-27T09:11:26Z,chapmanb
4b3ec4bea3b97d5e1f9c2faad4084fb49bcbb5a4,chapmanb,chapmanb@50mail.com,PhyloWGS chromosome fixes: work around sanity checks in pysam VCF support by manually adjusting chromosomes in a post-processing step,2015-06-26T16:09:39Z,chapmanb
11b8a2f98318a285e0e2f15bf60d196437bf2571,chapmanb,chapmanb@50mail.com,"PhyloWGS: avoid using chr-prefixed inputs to prep scripts, as these are not handled correctly. Convert to GRCh37 style for input files",2015-06-26T15:35:19Z,chapmanb
bfe73b743498b730b2d0665244f09d72a2c2dcf6,chapmanb,chapmanb@50mail.com,Avoid GEMINI sqlite assignment errors during prioritzation. Fixes #904,2015-06-25T18:46:52Z,chapmanb
e0da8231133f960cbbdab9cbf3bbe1796e36290a,chapmanb,chapmanb@50mail.com,"Remove lines from VarDict output where ref and alt are the same, which cause GATK to fail. Thanks to @bioinfo",2015-06-25T18:32:27Z,chapmanb
fb437e250aeb8b43ab8aea4010d7f237c73109bf,chapmanb,chapmanb@50mail.com,"Move CNV calling before variant calling, enabling inputs to be used for informing variation detection",2015-06-25T10:30:16Z,chapmanb
d901765ed338134c85616167f6ebe600ca6f575e,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #903 from mpschr/patch-2

Memory and parallelization optimizations in doc",2015-06-25T08:46:43Z,chapmanb
e904a346d53fdd4949e4521284a09f570c2e00f3,Michael P Schroeder,michael.p.schroeder@gmail.com,"Memory and parallization optimizations doc.

Further doc changes according to the discussions at https://groups.google.com/forum/#!topic/biovalidation/R0-zqi55TMI

Before accepting please revise the correctness of content & grammar.
Thanks,
Michael",2015-06-25T07:20:20Z,mpschr
b843c900f05628a0e1ec990d7188a6ff70b924c7,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #901 from mpschr/patch-1

Extended explanation of memory and cores",2015-06-24T08:42:38Z,chapmanb
e1b6aa0592325fc96179cd4c86d8e45f15745cc4,Michael P Schroeder,michael.p.schroeder@gmail.com,"Extended explanation of memory and cores

I propose the inclusion of the matters discussed in https://groups.google.com/forum/#!topic/biovalidation/R0-zqi55TMI in order for those things to be documented somewhere in the code.
Please correct the new sentences as needed (content, grammar).",2015-06-24T05:59:32Z,mpschr
2045d01a1016f5b97f6f7ab877e243859655c6b7,chapmanb,chapmanb@50mail.com,PhyloWGS: run evolve.py to generate estimates of clonal frequencies,2015-06-23T09:33:12Z,chapmanb
c35ca8a1004a0d8c747fc7af20cf0d8025fdf51f,roryk,rory.kirchner@gmail.com,Fix GATK paralellization for RNAseq variant calling,2015-06-22T12:30:51Z,roryk
6ea3ed8ba86a358328e49d8d57683c46fbc1f3a1,chapmanb,chapmanb@50mail.com,Move to development version. Support for new generalized upload and azure integration,2015-06-21T10:25:04Z,chapmanb
2cf863e8095b4cd68a5d885518b320d274bc3f03,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #896 from alexandrucoman/refactor/graph

Refactor bcbio.graph.graph.generate_graph",2015-06-21T09:39:00Z,chapmanb
669b67b1eab94b917d085cff77e194c451a224c3,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #892 from alexandrucoman/feature/blob-support

Add support for Azure Blob storage service",2015-06-21T09:38:14Z,chapmanb
d6bde6f4831e88b843ab9d293bea5ae2ee35b3cb,chapmanb,chapmanb@50mail.com,v0.9.0 release,2015-06-20T17:53:41Z,chapmanb
de89451e45da3e482340052fd99c37d3e993e6d8,chapmanb,chapmanb@50mail.com,Make VarDictJava the default caller when 'vardict' specified. Add support for 'vardict-perl' to specifically use the Perl version,2015-06-19T18:11:30Z,chapmanb
a856868f268c823d2128b15d7b38c56aea9de3fe,chapmanb,chapmanb@50mail.com,Avoid script run issues if using a command without workdir set,2015-06-19T15:30:01Z,chapmanb
f8bbb31665ee75f72a50fdb989e55064e589ec09,chapmanb,chapmanb@50mail.com,Create directory and setup absolute paths for '--workdir' specified on commandline. Fixes #898,2015-06-19T15:14:04Z,chapmanb
f2607c342ee1d67e7eaad0a37df83078a51f92b9,chapmanb,chapmanb@50mail.com,samblaster: support -M flag in new release -- 0.1.22,2015-06-19T10:08:21Z,chapmanb
a1d056f4f30119ea24a9b4c6b28311157d9b2974,Alexandru Coman,acoman@cloudbasesolutions.com,Cosmetic changes for bcbio.graph.graph module,2015-06-18T17:04:26Z,alexcoman
4e8ce06628121dfa5c41c00b93b713993b659020,Alexandru Coman,acoman@cloudbasesolutions.com,"Update graph.generate_graph

The files which contain information will be parsed in another
function (bcbio.graph.resource_usage) and generate_graph will
receive the ouput in order to plot the graphs.

This patch is required by another cloud providers which have
the resource usage information stored in another format.",2015-06-18T16:50:49Z,alexcoman
f9e0cae9fd7c3770a1ef19244787484a295fb4c6,chapmanb,chapmanb@50mail.com,"Battenberg and PhyloWGS: cleanly skip if non-normal, non-human data supplied",2015-06-18T09:46:00Z,chapmanb
654621602c3caa31f7f74dea7b5f7c38f4a65e38,chapmanb,chapmanb@50mail.com,PhyloWGS prep: improve preparation of VCF input and fix commandline parameters,2015-06-17T19:21:58Z,chapmanb
6820f54cc535af43b62ac433444a8c0fba74abdb,Alexandru Coman,acoman@cloudbasesolutions.com,Add support for Azure Blob storage service,2015-06-17T16:27:27Z,alexcoman
2840ad195303f43f34401a89a70d465c6f419894,Alexandru Coman,acoman@cloudbasesolutions.com,Refactor bcbio.distributed.objectstore,2015-06-17T16:27:25Z,alexcoman
1386193fd1ec5718b2b1c8ba234614ad4194bd33,chapmanb,chapmanb@50mail.com,"Remove old debugging code, fixing non-existant function issue. Fixes #890",2015-06-17T09:01:53Z,chapmanb
ec6f7f7ec8f5d176df50ff592018be44673daad6,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #889 from alexandrucoman/bug/888

Refactor bcbio.rnaseq.rsem module",2015-06-17T08:56:48Z,chapmanb
c864179884914fa83f53d2ae807d69939cca2cca,Alexandru Coman,acoman@cloudbasesolutions.com,Cosmetic changes for bcbio.rnaseq.rsem module,2015-06-17T06:09:36Z,alexcoman
74728aea70e217347ad7c5e154bbb02c3c32332b,Alexandru Coman,acoman@cloudbasesolutions.com,"Fix issue #888

Add missing imports to bcbio.rnaseq.rsem module",2015-06-17T05:55:53Z,alexcoman
59480d221996bb784a0163b2d018877bb70a9ff5,Lorena,lorena.pantano@gmail.com,add common gemini metrics during qcsummary,2015-06-16T19:41:22Z,lpantano
63dda5dc9d5dbe3a1a4021b4ff80228b4e6e6486,chapmanb,chapmanb@50mail.com,Parallelize upload over multiple machines by sample to improve efficiency on EC2/S3. Fixes #886,2015-06-16T09:28:40Z,chapmanb
73403af09ab4ad2cffe6198df1f6c07e16745d1a,chapmanb,chapmanb@50mail.com,Cleanly handle writing empty VCFs for VarDict if some sample names are not present. Thanks to @ssaif,2015-06-15T17:55:21Z,chapmanb
f371cd09f3695a8e06c8257b8e66e441096db5b1,chapmanb,chapmanb@50mail.com,Finalize input files for PhyloWGS preparation script,2015-06-15T09:25:34Z,chapmanb
2c446b40407412a20a1855d0fbd86cdb3438a2fc,chapmanb,chapmanb@50mail.com,Initial skeleton for supporting heterogeneity analysis with PhyloWGS,2015-06-14T09:39:06Z,chapmanb
dda5fcb2d4e2d8c6648e1788f8d920115468ca99,chapmanb,chapmanb@50mail.com,"Battenberg CNV: create ignore file to avoid non 1-22,X chromosomes",2015-06-13T09:17:58Z,chapmanb
95be532e34ecc4ca4f763f3621a456f193e26818,chapmanb,chapmanb@50mail.com,"hg38, update to dbSNP 144 (chapmanb/cloudbiolinux#196)",2015-06-12T10:03:11Z,chapmanb
5cfa80c58a6203d0e377aa25bfaaa8306c51cc55,chapmanb,chapmanb@50mail.com,"Battenberg CNV caller: initial implementation for evaluation and testing, battenberg not yet installed by default",2015-06-12T09:05:49Z,chapmanb
0819f56a359e52e8931a0efe41c6674abb34fb26,roryk,rory.kirchner@gmail.com,Fix typo.,2015-06-12T02:12:39Z,roryk
942648107a91af3a6f9446679f9e7f0d6275eb46,roryk,rory.kirchner@gmail.com,"Get manifest from bcbio_system.yaml location.

This prioritizes looking it up via the location of the
bcbio_system.yaml file or the galaxy directory. It falls
back to walking back via the python executable.

this allows separate bcbio code/data installations for development,
so you can run it by pointing at a system installed bcbio_system.yaml
file.",2015-06-12T02:10:09Z,roryk
8573cbbeaf5c535cf45cb661e89f0537bc2ee540,chapmanb,chapmanb@50mail.com,Modify installation script to work with Python 3.x. Fixes #884,2015-06-11T12:52:04Z,chapmanb
063548ab64827318e204c825a80cdf2520014bf0,chapmanb,chapmanb@50mail.com,Skip trying to calculate resources for multicore jobs if there is nothing to run #882,2015-06-11T09:38:21Z,chapmanb
2583cd342194ee1e4087bdc5e2ae0d48e1149a35,chapmanb,chapmanb@50mail.com,THetA: Generalize parameter selection and move back to defaults for running,2015-06-11T08:56:06Z,chapmanb
a12e69d02f479f4c79eeddfc007c8bfe890e0092,chapmanb,chapmanb@50mail.com,Avoid re-preparing exclusion files during structural variant runs during re-processing. #882,2015-06-10T18:52:49Z,chapmanb
3f2c585000d2c3deff9fa28cfeb70c46fa2c16e4,chapmanb,chapmanb@50mail.com,Add '--only-metadata' argument to template preparation that will only include BAM or fastq files in the sample YAML if they are present in the metadata CSV file,2015-06-10T17:37:30Z,chapmanb
78daf2833c77bd8585eceaae32a66840a73b1fbb,Lorena,lorena.pantano@gmail.com,"return only sample gemini stats, not whole batch

remove print",2015-06-10T15:56:13Z,lpantano
ab242724c780afb7ca8dd170d447031ebaa2cb56,chapmanb,chapmanb@50mail.com,Collect variant counts by sample when preparing GEMINI summary. Thanks to @lpantano,2015-06-10T12:39:44Z,chapmanb
5e11dd5bad7bbc2fb1be88dcedf9dd8586ba274e,chapmanb,chapmanb@50mail.com,"VarDict/VarDictJava: Skip processing regions where there are no inputs in the target BED file, avoiding memory issues.",2015-06-10T09:52:59Z,chapmanb
5602973fa120219904f86def8932f302e70f2de7,Lorena,lorena.pantano@gmail.com,fix docs for bcbio_prepare_samples.py,2015-06-09T17:54:53Z,lpantano
2ac983c2392807f008bf894e6876b6fab6b7a68d,chapmanb,chapmanb@50mail.com,Make fadapa a soft dependency to avoid import errors on upgrades #871,2015-06-09T10:15:33Z,chapmanb
2810789719f5c40814b2870ad2e7515a8ee1d6bb,chapmanb,chapmanb@50mail.com,Avoid running ensemble and CNVkit plotting by default. Add in 'svplots' option for 'tools_on' to re-enable,2015-06-09T09:19:43Z,chapmanb
a6d2e3e4bf46e1bcb139757153c1c9053373c2d8,chapmanb,chapmanb@50mail.com,Annotate VarDict and VarDictJava outputs with dbSNP to maintain consistency with other callers,2015-06-09T09:04:05Z,chapmanb
cd2cc810eb0ed8596d7944b71f88721e7c6062c2,Lorena,lorena.pantano@gmail.com,"add offtargets to metrics for variantcalling

remove print",2015-06-08T17:35:30Z,lpantano
10a8dbae0670148ac5690603b3e46a868c9403f8,chapmanb,chapmanb@50mail.com,Handle plotting edge cases with missing or out of order breakends,2015-06-08T15:48:49Z,chapmanb
368da5dd8fe8a4f65c5af84631afde090c53f70f,chapmanb,chapmanb@50mail.com,Remove arvados client library and move to conda install due to PyCurl dependency (chapmanb/cloudbiolinux#193). Update PERLLIB pointers to not need site_perl,2015-06-06T09:55:41Z,chapmanb
aa7757dc60aeee5fa4eea9fa20e924e9bb2aeb20,Lorena,lorena.pantano@gmail.com,add more information to test_resources,2015-06-04T15:12:27Z,lpantano
b5bf013d0e3dccf47123c645de646cfc857cc947,Lorena,lorena.pantano@gmail.com,more complete parser for fastqc report,2015-06-04T14:23:08Z,lpantano
78cdb851578d114c00a267fb3d3d8588f44233e4,Lorena,lorena.pantano@gmail.com,add fadapa to requirements,2015-06-04T14:20:08Z,lpantano
a97acbc6cc6adf76683db16da6ef293f545e2719,chapmanb,chapmanb@50mail.com,Update VarDictJava region splitting to work in lower memory environments. Remove extra README.html (#878),2015-06-04T14:12:34Z,chapmanb
7360bd1f0d45ec9bd98539929f5da745ac27e92a,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #878 from robinandeer/logo

add logo to README and docs",2015-06-04T10:36:35Z,chapmanb
1a334e1285aeaa7fcae17f0a5f5da6293388511b,chapmanb,chapmanb@50mail.com,Additional documentation about filtering done by ensemble structural variant calling: #872,2015-06-04T10:30:36Z,chapmanb
22185b594134cdd421cdafa79345a1ea9e1068a8,Robin Andeer,robin.andeer@gmail.com,add logo to README and docs,2015-06-04T07:17:29Z,robinandeer
cf019e891ba29a2749f68b11372b7c9c6b120aae,Lorena,lorena.pantano@gmail.com,improve output and add ipython fn changes,2015-06-03T14:15:40Z,lpantano
59dcb956ce94194d8e10197657b7e1323e866a4d,chapmanb,chapmanb@50mail.com,Document CNV calls with multiple ploidies in a single region,2015-06-02T19:04:50Z,chapmanb
a8ac388fa4f1c20d3d7004f3ea825b52689c989d,chapmanb,chapmanb@50mail.com,THetA: avoid circular import and work in heterogeneity directory instead of structural,2015-06-02T09:35:24Z,chapmanb
5a19cd7da08e942cbeacc8512ce5647f48ce7bb7,chapmanb,chapmanb@50mail.com,Documentation for structural variant and ensemble calling. Fixes #872,2015-06-02T01:58:33Z,chapmanb
2b8904bf928b5730a172e63791eba6d452a89aff,Lorena,lorena.pantano@gmail.com,set log_dir to be inside working folder. Thanks to @AurelieMLB,2015-06-01T17:02:20Z,lpantano
f01d80632146b9cacaf9f0382d3e544f9f42baac,chapmanb,chapmanb@50mail.com,Bubbletree: finalize initial implementation after testing. Still needs validation but provides output,2015-06-01T15:38:01Z,chapmanb
00dec2ae077ac48ba7fe2b46c393cfc1af67bdea,chapmanb,chapmanb@50mail.com,"Initial workflow for bubbletree input preparation and Rscript, for testing",2015-06-01T10:07:34Z,chapmanb
e517402d8461e77851fe69590fec9ac781cb3daa,chapmanb,chapmanb@50mail.com,Avoid creating huge transcripts when collapsing by limiting intron size for combining. This gets rid of giant apparent transcripts caused by repeats on same chromosome.,2015-06-01T09:12:26Z,chapmanb
e05b9c76cf4de593e86f6db3cc2a74ca190b63f0,chapmanb,chapmanb@50mail.com,Fix typo: ensure temporary sort files go in transactional directory #868,2015-06-01T01:04:06Z,chapmanb
8dae591ccefb936ad9551e3ac3118871a781759a,roryk,rory.kirchner@gmail.com,Fix output formatting for poor coverage regions.,2015-05-31T22:01:29Z,roryk
1cc91d8202bb017901326c129c4ebb643e1f2a82,chapmanb,chapmanb@50mail.com,BubbleTree: fix typos on testing,2015-05-31T12:35:49Z,chapmanb
40b7c6486329edea64cf5213d05aa3f74016ba6a,chapmanb,chapmanb@50mail.com,Update BubbleTree to use SV regions or transcripts + windows for getting VCFs as input,2015-05-31T10:03:13Z,chapmanb
9358f9a9fc8b0cb77bc3c4a13678d36d930befa4,chapmanb,chapmanb@50mail.com,CNVkit: generalize to use 'sv_regions' if specified and to use transcript based regions with windows for whole genome variant calling,2015-05-31T09:48:50Z,chapmanb
a894d5ac965fa1ad07d75a00ed0c1e4fdd2ba563,chapmanb,chapmanb@50mail.com,Swap bedtools to use new coverage arguments (-a = BED file) (-b = BAM file) in 2.24.0. Fixes #869,2015-05-30T16:48:22Z,chapmanb
e37eaba6dd9c996b1ce865f145b2b2de00b34bda,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #870 from matted/master

Minor workaround to avoid crash when no variants are found.",2015-05-30T14:19:22Z,chapmanb
552f5cba7457a49f8452252bc77b9939d8969424,Matt Edwards,mttdwrds@gmail.com,Minor workaround to avoid crash when no variants are found.,2015-05-30T14:06:03Z,matted
08f307a4e1fd0f32855ad9ef96ebf2ed125e724c,chapmanb,chapmanb@50mail.com,Provide sv_regions configuration target to influence regions used to SV calling,2015-05-30T09:22:38Z,chapmanb
30c48f194a2031986b57cf210cc2e37fea9ae2c0,chapmanb,chapmanb@50mail.com,Avoid upgrading toolplus only unless doing other upgrades to avoid accidental GEMINI upgrades on bcbio-vm/AWS,2015-05-29T19:13:16Z,chapmanb
db2af17cf923d2decdd91184b37926a4ce44abef,Lorena,lorena.pantano@gmail.com,add gatk to QC resources,2015-05-29T19:04:20Z,lpantano
f549637d86c86438143e7958d6da233c03a66772,Lorena,lorena.pantano@gmail.com,fix qualimap resources. Thanks @druvus,2015-05-29T19:04:15Z,lpantano
fc93734db0b565b7fa3a2f9562a08126886ac65d,roryk,rory.kirchner@gmail.com,"Make paired sample finder more robust.

Names like foo_1bar.fq foo_2bar.fq will not longer get matched
as pairs.",2015-05-29T18:49:45Z,roryk
6cd30973e3a7a33a82427054c49bbb077246240f,chapmanb,chapmanb@50mail.com,Improve calculation of split and discordant reads when running structural variant calling from pre-aligned inputs. Fixes #868,2015-05-29T17:28:07Z,chapmanb
be815a952a57c3bf609a4628beeb2432735653f4,chapmanb,chapmanb@50mail.com,Avoid error in coverage plot with empty values. Speculative potential fix for #869,2015-05-29T16:46:45Z,chapmanb
06203b20303fa5c82e36b489c21de296e148514c,chapmanb,chapmanb@50mail.com,"Provide generalized functionality to retrieve genomic subsets based on transcripts, including collapsing to include introns and support for custom input BED files. Meant to eventually feed into structural variant and heterogeneity analyses",2015-05-29T10:38:34Z,chapmanb
f8d2eb3f5cd703c921894447e010030f013fd554,chapmanb,chapmanb@50mail.com,Support correct GEMINI API queries in new release during prioritzation. Fixes #864,2015-05-29T00:48:02Z,chapmanb
18fcdde62a92a0ddbd1b1fa5fd80ab71d0ed93b4,roryk,rory.kirchner@gmail.com,Add quality_format to SEQC test file.,2015-05-28T15:26:51Z,roryk
a61d596f41773cc310c860b254bb7eb65fb9890b,roryk,rory.kirchner@gmail.com,"'standard' quality format if none is set for Tophat.

Fixes #867. Thanks to @kajetanb for finding the issue.",2015-05-28T15:24:11Z,roryk
3486d52f18a1ccfa67d28a375bbc2a609787eeab,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #865 from matted/master

Added GATK command line option to ignore quality score problems.",2015-05-27T20:14:26Z,chapmanb
57766cdf15b78103624ca4972ca448179cc896e4,Matt Edwards,mttdwrds@gmail.com,Added GATK command line option to ignore quality score problems.,2015-05-27T19:35:25Z,matted
ecfcd97986686235076d1ed32594170003bb1394,chapmanb,chapmanb@50mail.com,Use full path to VEP scripts during installation. Fixes #863,2015-05-27T13:02:23Z,chapmanb
ff69a6a67d1fa1502df368e9d116d3f88ab59ec3,chapmanb,chapmanb@50mail.com,Correct indentation to avoid chunking error in S3 streaming. Fixes #862,2015-05-27T12:28:01Z,chapmanb
f8ae66f769c9a5bec60121120b12dccfc43ca26b,chapmanb,chapmanb@50mail.com,Clean up edge cases for qSNP: remove calls with ambiguous ref alleles; and VarDict: ensure FILTER lines are compatible with downstream parsers,2015-05-27T12:14:39Z,chapmanb
4b0a3054e4d46f0a574733bad5f9b8cb8034e1dc,chapmanb,chapmanb@50mail.com,Summarize and plot low frequency detection in somatic validations based on DREAM synthetic data,2015-05-26T18:24:31Z,chapmanb
184e3e2c988e1143b49ae0972043482bab966f6f,roryk,rory.kirchner@gmail.com,Fix sorting of incomplete regions BED file.,2015-05-26T17:41:44Z,roryk
518d87718865be6c6de23461e23408cc94759240,roryk,rory.kirchner@gmail.com,"Flag regions as incomplete from the chanjo db

If the average coverage is < 4 or the average completeness is < 0.75,
flag a region as possibly incomplete coverage.",2015-05-26T17:20:50Z,roryk
a2eec22694559a218c834164e876cdaefbd4ee94,roryk,rory.kirchner@gmail.com,Fix formatting of combine_pairs.,2015-05-26T01:21:53Z,roryk
8980da09188b97307824116b0b962327291614ce,chapmanb,chapmanb@50mail.com,Support tools_off for fastqc. Fixes #856,2015-05-23T09:13:54Z,chapmanb
84b0855fc4812530f49577792df7fe607c5a5054,roryk,rory.kirchner@gmail.com,"Disable RSEM if disambiguate is set to run.

Temporary work around for #859. Thanks to @schelhorn for catching
this.",2015-05-22T19:17:23Z,roryk
a3579f44943191e236b34df51ec47757ce5ff55f,chapmanb,chapmanb@50mail.com,Provide 1 core floor when calculating core usage by memory. Fixes #858,2015-05-22T14:04:35Z,chapmanb
5729b2714a6d865aa3b53bafbdf8748134fa8399,chapmanb,chapmanb@50mail.com,GATK 3.4 support: avoid setting HaplotypeCaller default options. Eliminates error from lack of support for downsampling (dcov) in new version,2015-05-22T09:23:41Z,chapmanb
91dc3090d584662aa689ed97d49786973147dc07,chapmanb,chapmanb@50mail.com,hg38 resources: add links to VQSR files from @ameynert chapmanb/bcbio-nextgen#817,2015-05-21T09:25:58Z,chapmanb
0bc1328b99c74c7de86e2e3c754334156de29871,Lorena,lorena.pantano@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen into upstream,2015-05-20T20:04:54Z,lpantano
c77676ec85d4394de15ac44002a5b5b211b6dc9b,Lorena,lorena.pantano@gmail.com,use trasanction files for trimming steps,2015-05-20T20:02:50Z,lpantano
b6ae5112049b5c3127bd921d6b14aac42c28aa0e,roryk,rory.kirchner@gmail.com,"Add missing delimiter in fastq extensions.

Thanks to @lpantano for pointing it out.",2015-05-20T19:45:52Z,roryk
0b9fd30e979604821c1da51f29c594c4f2503167,roryk,rory.kirchner@gmail.com,"Don't use small reads for checking the quality.

Empty reads from pre-trimmed files were causing
exceptions here. Added a minimum of 20 since it is
good idea to do that anyway.",2015-05-20T19:36:41Z,roryk
b0894819886361c234386c0d14f818b350d1ea79,roryk,rory.kirchner@gmail.com,"Prioritize normals.

Generalizes tumor/normal batching to the following three rules:

1) use the highest priority sample as the matched normal if it exists
2) if multiple tumor sample types exist, combine them all together and run
   against the matched normal
3) run the rest of the normals alone as tumors in their own batch",2015-05-20T17:21:43Z,roryk
a543a295d55f837e43f735fb43ebd94d73e47bc0,chapmanb,chapmanb@50mail.com,Ensure snpEff effects passing is back-compatible with previous runs not including statistics,2015-05-20T09:48:59Z,chapmanb
95496e407066661be817e3d3362113ce11726e36,chapmanb,chapmanb@50mail.com,Include cnr and cns CNVkit files in final output directory,2015-05-20T09:39:46Z,chapmanb
d3f99d0292a37dfe19db33c1e945ff476c030635,chapmanb,chapmanb@50mail.com,Include snpEff effects summary file in output directory when used for effects prediction,2015-05-20T09:26:23Z,chapmanb
ef02032792e80668ca4cc25c74cbfbd73584bbb1,chapmanb,chapmanb@50mail.com,"Additional BubbleTree cleanup: handle more FreeBayes and VarDict cases, cleanup issues with bcftools FILTER hearder on VarDictJava non-somatic mutations",2015-05-19T16:33:24Z,chapmanb
e474dcd6bf8ab04091517e8b9e93f776b7f56553,chapmanb,chapmanb@50mail.com,Add slides for variant calling long course,2015-05-19T10:23:48Z,chapmanb
64b8f0a58344ffeaed7e8094be9b54187e719bf8,roryk,rory.kirchner@gmail.com,"TCGA manifest -> bcbio CSV file.

This accepts a manifest of TCGA file names and:
1) filters out any files that don't match the expected TCGA naming
scheme
2) keeps only the latest version of duplicate files
3) groups files by patient
4) groups files within a patient by the following rules
   a) if there is just a primary tumor (01) and a normal from
   blood (10), run it as a batch
   b) if there are multiple normals (10/11), run the blood sample (10)
   with the tumor and run the tissue normal by itself
   c) if there are multiple tumors (01/06) with 1 normal, run
   all the tumors together against the normal as a batch",2015-05-19T05:01:39Z,roryk
6a066dd205f3e75333545ffedeac299ae8d896ef,chapmanb,chapmanb@50mail.com,Add resolution of possible LoH variants for input into BubbleTree,2015-05-18T18:55:36Z,chapmanb
e0588f532685f12d86fdaffe584421dc5a1a2925,chapmanb,chapmanb@50mail.com,Heterogeneity bug fixes and cleanups,2015-05-18T15:46:16Z,chapmanb
49c2df2f129b1a47c47cb2edd17a0585274cf326,chapmanb,chapmanb@50mail.com,Generalize heterogeneity analysis further and include skeleton implementation for BubbleTree,2015-05-18T09:53:21Z,chapmanb
21db6b8419fe98660be124a35865b31a0a4f7f4b,chapmanb,chapmanb@50mail.com,"Add target configuration for specifying heterogeneity caller, skipping if not set to avoid unexpectedly running theta",2015-05-17T09:50:32Z,chapmanb
7e5c3bf8018fd1dde4fa703ef8721623485be585,chapmanb,chapmanb@50mail.com,Ensure vardict resources passed if vardict-java used. Thanks to @lpantano,2015-05-16T17:34:49Z,chapmanb
17dc3dba109764f3ae128e920cd4355f2e4fd3db,chapmanb,chapmanb@50mail.com,Use overlapping windows when splitting large regions for managing memory in VarDictJava. AstraZeneca-NGS/VarDictJava#12,2015-05-16T10:03:52Z,chapmanb
a19f5190bf465258f5e775ed9eec0b342354e5f3,chapmanb,chapmanb@50mail.com,Generalize bcftools post-filtering without -M flag to add tags to everything that is non-somatic. Thanks to @mjafin,2015-05-15T09:26:55Z,chapmanb
36f589214580d11288ca7062a33b5855f5211854,roryk,rory.kirchner@gmail.com,Update gffutils to 0.8.4rc1.,2015-05-14T18:03:26Z,roryk
6b240180ac24fadcb24a05be9ab917134fed2a63,chapmanb,chapmanb@50mail.com,"VarDict: remove low complexity regions from genome analyses, if configured, due to extreme slowdowns during runs",2015-05-14T15:28:25Z,chapmanb
50d2aec6ae256504236c01385210209258ee1064,chapmanb,chapmanb@50mail.com,Include germline variants in VarDict output for use in LOH calculations in CNVkit (etal/cnvkit#7) with REJECT flag added,2015-05-14T15:20:40Z,chapmanb
d53648375eb18ed3ae902b245e1fb95b52e9d369,chapmanb,chapmanb@50mail.com,theta improvements: do pre-selection of intervals within size and ratio regions to provide good inputs for n=3 processing,2015-05-14T10:32:47Z,chapmanb
cb7fae890529da9865611f319231dd686c32cb2c,chapmanb,chapmanb@50mail.com,Correctly handle multiple variant callers with single sample non-batch calling. Fixes #851,2015-05-13T18:02:24Z,chapmanb
b5d869105a23a7d92ed69589e6bccb199c7b8a09,chapmanb,chapmanb@50mail.com,THetA: provide final merged output file with CNV calls for downstream input into other tools like PhyloWGS,2015-05-13T09:17:00Z,chapmanb
5c7e7427ae8129d3486c593504234f5a78c00a8c,roryk,rory.kirchner@gmail.com,"Infer gene extent only if necessary.

Inferring the gene extent is very slow, so check to see if
'gene' and 'transcript' already exist in the file before making
the database.",2015-05-12T22:03:49Z,roryk
fdca82cc44b20841e72abb358fdc669892817505,chapmanb,chapmanb@50mail.com,Ensure CNVkit headers get maintained when subsetting to standard chromosomes,2015-05-12T15:47:45Z,chapmanb
4df07a4bc0fb9052124865e5d45461c12a1c44b3,chapmanb,chapmanb@50mail.com,Only use standard autosomal chromosomes for heterogeneity analysis to avoid bias from sex chromosomes and non-standard alts,2015-05-12T15:06:37Z,chapmanb
cdd723ba9b0a0e4c90cdf45576e7d4710fbb7080,roryk,rory.kirchner@gmail.com,"Improve transcriptome reconstruction performance.

1) fixes memoization of merged database
2) fix for getting the database where it was remaking the
   database if it already existed if in_memory was specified

Partially addresses #849.

We were making the reference database again in memory for no reason, so
we fixed that. This doesn't fix the underlying speed issue of making the
gffutils database; we could drop the merge features parameter and assume
all features are unique at this point since that should have been
handled by Cufflinks merge. The fix in daler/gffutils#48 might make this
moot though.

Thanks to @schelhorn for pointing this out.",2015-05-12T14:59:36Z,roryk
67e2f345be84d82955a6e0416a1ac976555c5dc1,chapmanb,chapmanb@50mail.com,THetA: integration with heterogeneity analysis and fixes for running and selecting best model,2015-05-12T10:09:17Z,chapmanb
7d805fb8d7c1554f0e750b10138e7c00696877d7,chapmanb,chapmanb@50mail.com,VarDict: restrict maximum individual region size to 2Mb to avoid memory usage failures on larger windows. Thanks to @lpantano,2015-05-12T09:52:46Z,chapmanb
465bdda1a5944e526a705db4369bfd0b1b391b99,chapmanb,chapmanb@50mail.com,Improved re-run speeds with validation by skipping creating configuration file if up to date,2015-05-11T18:49:02Z,chapmanb
e9c999ac7ce860edd84bcdbbe867c52142bfc483,chapmanb,chapmanb@50mail.com,heterogeneity analysis: put framework in place for calling and add hooks to updated THetA for testing,2015-05-11T14:59:40Z,chapmanb
1273b082246fe3e6659d87792e58157d7ed66201,chapmanb,chapmanb@50mail.com,Cleaner sed expression for avoiding empty field error (#843). Thanks to @schelhorn,2015-05-11T13:23:32Z,chapmanb
b17ebd4bd8f4f674c4826d0f2dda63755bf350af,chapmanb,chapmanb@50mail.com,Remove empty fields from post-VEP annotated inputs which can cause parsing errors in GEMINI. #843,2015-05-11T10:23:04Z,chapmanb
8193132cef8d85ced626faca227669d0344dd4fe,chapmanb,chapmanb@50mail.com,Re-work THetA support to use CNVkit for faster input preparation and to use n=2 and n=3 models with selection of best,2015-05-11T09:39:38Z,chapmanb
ea5897d10742e7ef089a0b3f57966038e0040420,chapmanb,chapmanb@50mail.com,v0.8.9 release,2015-05-10T18:15:43Z,chapmanb
cf49cfec3bddbb8d6e036702111e4a2c452e25a5,chapmanb,chapmanb@50mail.com,Ensure Mills/1000genomes indels passed to GATK realignment steps. Thanks to Karol Pal,2015-05-10T10:49:43Z,chapmanb
a91508de69ffa1b86611d41d9d58be817a63fd09,chapmanb,chapmanb@50mail.com,Avoid warning messages from bedtools with out of sort BAM and BED files,2015-05-09T09:20:48Z,chapmanb
6c9bb0100ec10c605cbc783668e05ac556ed3825,chapmanb,chapmanb@50mail.com,Make progressbar optional/soft dependency to avoid import issues #846,2015-05-08T16:45:18Z,chapmanb
ba022876e81f5dd3bea3ecf59929e974a55aae84,chapmanb,chapmanb@50mail.com,Improve VEP speed by reading directly from bgzipped VCF. Update tests for latest VEP. Add details about two part updating for VEP to HISTORY (fixes #846),2015-05-08T16:11:30Z,chapmanb
77bfa72ba6004a7a1781258b9360d80d74266e74,chapmanb,chapmanb@50mail.com,Use https instead of git for fetching development version. Thanks to @matthdsm #844,2015-05-08T09:25:08Z,chapmanb
39751837bd3c0cb73af43cf5767b24cc45a285e8,chapmanb,chapmanb@50mail.com,Update coverage plotting to handle large regional inputs by splitting into chunks,2015-05-08T09:12:31Z,chapmanb
91d6cd1fb8af31caae70f3e9990be71b56ba06aa,chapmanb,chapmanb@50mail.com,Provide correct scheduling for memory on distributed memory-limited runs with low number of total cores,2015-05-08T09:11:37Z,chapmanb
b62c296ee34f2c718b011a6dff7169dafa9a36fc,chapmanb,chapmanb@50mail.com,Provide better memory usage with bwa on GRCh38 for centromere regions by limiting seeds,2015-05-08T09:10:54Z,chapmanb
38a044eb55a6f32351cba3f2233d7f8a2d549228,chapmanb,chapmanb@50mail.com,Cleanly handle cases where we could not calculate median coverage when setting up VarDict parameters. Thanks to @ssaif,2015-05-07T16:36:07Z,chapmanb
9f8b5608199eb7fc229649e2f3600996aeedead2,chapmanb,chapmanb@50mail.com,Correctly symlink shared VEP directories to avoid unnecessary downloads,2015-05-07T14:19:11Z,chapmanb
7a70e71fc42b42eb7be59b7caf4ae5799b4051a0,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #842 from lbeltrame/publication-docs

Add the paper published in Annals of Oncology in 2015 to the Mario Negri part of the User section",2015-05-07T13:21:17Z,chapmanb
33573e7601173e2ee894a7125c639d4f001215bc,Luca Beltrame,luca.beltrame@marionegri.it,"Add the paper published in Annals of Oncology in 2015 to the Mario Negri part of the User section

Full disclosure: both myself (Luca Beltrame) and Brad are
co-authors.",2015-05-07T13:02:05Z,lbeltrame
e60c33298bb66003e7da16666a75e8de7ac4b99a,chapmanb,chapmanb@50mail.com,hg38 ensembl resources: fix typo,2015-05-07T10:15:00Z,chapmanb
b3035b78d9489bcd3f2158fd161afea0cd9bb498,chapmanb,chapmanb@50mail.com,Update VEP resources to point to latest Ensembl version (79) with support for hg38,2015-05-07T09:02:18Z,chapmanb
ed99348369b4945b69f129ac6ea9d85617bcc61b,chapmanb,chapmanb@50mail.com,Only use smart pairing with single end potentially interleaved reads. Otherwise loses pairing info for two fastq inputs. Thanks to @ssaif,2015-05-06T17:57:45Z,chapmanb
3161eac00e750fc15b3e820c70c710e3b53dddcf,chapmanb,chapmanb@50mail.com,Ensure temporary directory passed to GEMINI for writing intermediate chunks during multicore processing. Fixes #833,2015-05-06T10:32:25Z,chapmanb
75f19fce8ccd048beedf3a03e459b4d3ce8d4826,chapmanb,chapmanb@50mail.com,Apply vt decompose over full VCF for input to GEMINI to avoid merge errors caused by split/recombine workflow #841,2015-05-06T09:51:01Z,chapmanb
591606d15b6bb2afa0200ec633f62b71782b5e3e,chapmanb,chapmanb@50mail.com,Additional fixes for empty file inputs to coverage,2015-05-05T19:26:53Z,chapmanb
b65f5f818c10d365be97ef38d07e100ec323f93a,chapmanb,chapmanb@50mail.com,Skip BED cleanup if output BED file is empty to prevent bedtools errors,2015-05-05T17:06:52Z,chapmanb
a2b2e46d40801732f76e4634e8528581692edf80,chapmanb,chapmanb@50mail.com,Cleanly skip GATK VQSR filtering and use hard filtering if training data not available. Supports hg38 without lifted over data,2015-05-05T15:19:38Z,chapmanb
e2279ecb1fbc1f2ecf709c1414530227b7ac023c,roryk,rory.kirchner@gmail.com,Load the priority and coverage regions into one chanjo database.,2015-05-05T15:05:22Z,roryk
6afc0e54e249675d8be597e6e87b99a085dc2c5c,roryk,rory.kirchner@gmail.com,Add coverage regions to the datadict lookup function.,2015-05-05T15:01:08Z,roryk
1e5d549b6fdf62c1016451f9dfe566c9546b2f38,roryk,rory.kirchner@gmail.com,"Move the file to have an extension of .bed.

A lot of tools detect what type of file it is by the extension,
so this lets us pass on the BedTool.fn as the filename and
not break things.",2015-05-05T15:00:08Z,roryk
73969c8b7362d90dc9892cb3dddc8ff560bd9a47,roryk,rory.kirchner@gmail.com,"Keep more consistent items[0] -> data naming.

Cleanup to restrict to 80 columnish lines.",2015-05-05T13:34:28Z,roryk
b7c9f7b61ade45150729a1ec1cb7302bc057c8a7,chapmanb,chapmanb@50mail.com,"Remove alternative alleles, as defined by bwa alt files, from downstream variant calling",2015-05-05T09:54:38Z,chapmanb
f238a0959dd28cbfd395dd9a61512cbe80d7dd9b,chapmanb,chapmanb@50mail.com,"Install development joblib from conda package, providing better error reporting for nested jobs",2015-05-04T13:03:08Z,chapmanb
36a7ad760a75b45039e73a8265eef4db1cd71c23,chapmanb,chapmanb@50mail.com,Improve de-duplication of split alignments by performing merge sort and de-dup on final merged set,2015-05-04T09:30:45Z,chapmanb
37c5b6ecb976f2db603d110fc83dd02dd636ecf3,chapmanb,chapmanb@50mail.com,Place HLA outputs from hg38 into separate alignment subdirectory,2015-05-03T09:00:12Z,chapmanb
7c3191115628d1107399c15cd48a84c70134717e,chapmanb,chapmanb@50mail.com,Resource file for hg38 alignments,2015-05-02T19:24:39Z,chapmanb
75b36ab2fe77a7e1071b8581676d5dc18ba0b746,chapmanb,chapmanb@50mail.com,Support for post-processing of alternative alleles with bwa and bwakit. Enables full hg38 runs with outputs for downstream processing including HLAs.,2015-05-02T18:23:04Z,chapmanb
9f74a422469eb399f60ade0e6e6b6125ef3732c3,chapmanb,chapmanb@50mail.com,Update installation documentation thanks to feedback from @kern3020. Correct default memory specifications for Java (fixes #840),2015-05-02T09:27:16Z,chapmanb
c554cf9e9ca1adcf64cf417e974f10278ae91c00,chapmanb,chapmanb@50mail.com,Handle validation plots with a single category,2015-05-01T18:55:44Z,chapmanb
efd6aa66f87f0f57fcf827508e5acd591fbb8dc9,chapmanb,chapmanb@50mail.com,Fix typo in comment,2015-05-01T18:53:46Z,chapmanb
cad3166e31114cc8c9ec9a1d816c92fbf1e3a11f,roryk,rory.kirchner@gmail.com,Add bedgraph/bed files of copy number regions from cnvkit.,2015-05-01T18:35:41Z,roryk
a8f5f11a582259d6d605c89a2acafdf65e88d40a,chapmanb,chapmanb@50mail.com,Prevent problematic symlinks when re-writing out of date tabix index files,2015-05-01T10:18:33Z,chapmanb
3b3d943061830e0ef10eecafedfd1f5c3d20cb3b,roryk,rory.kirchner@gmail.com,"If all regions to call in are filtered out, skip running cnvkit.",2015-05-01T05:55:29Z,roryk
8c971bb789cb7f019d8159dcc0d38836a9636e53,roryk,rory.kirchner@gmail.com,Add bedgraph output to cnvkit.,2015-05-01T04:08:55Z,roryk
0be7f6cc3d78e2fca581ad12fc2d1e14e804438c,chapmanb,chapmanb@50mail.com,Support download of hg38 full genome. Use build with HLAs from 1000 genomes,2015-05-01T01:29:53Z,chapmanb
6e0c45111db4ee10ee112b2fdeb78e519ebb0689,chapmanb,chapmanb@50mail.com,Allow installation of external conda managed tools. Enables updates of tool requirements separate from Python library management,2015-04-30T09:11:55Z,chapmanb
b5245094d1f63a13d9dbc8a661e6ea049731be2c,chapmanb,chapmanb@50mail.com,SV validation plotting: handle plots with a single set of event sizes,2015-04-29T19:23:47Z,chapmanb
e45b55914f8299344a030b29a78f4d2ad2910525,chapmanb,chapmanb@50mail.com,CNVkit ensemble analysis: correctly handle merging calls with multiple copy numbers,2015-04-29T17:16:52Z,chapmanb
c3409dc5046a32b65a63600cd1e9c2af36d91fee,chapmanb,chapmanb@50mail.com,v0.8.8 release,2015-04-29T11:52:51Z,chapmanb
4ef2672a8a6fa005f1c464b31dd6a4816d244c43,chapmanb,chapmanb@50mail.com,CNVkit for whole genome regions: provide holes for targets by subsetting around known genes.,2015-04-28T15:45:24Z,chapmanb
4904b3d6584a6038c7ac38b35636b3ac2b48afa7,Lorena,lorena.pantano@gmail.com,implement graph from bcbio_vm,2015-04-28T15:31:28Z,lpantano
7c6764b4b26a77de6cbe7d59f36393ee2be70fea,chapmanb,chapmanb@50mail.com,cnvkit: Avoid tiny antitarget specification when running larger projects with small target regions,2015-04-28T09:28:33Z,chapmanb
2760263c524d8323a32b3c33166616256ad17bdb,chapmanb,chapmanb@50mail.com,Fix typo in 1000 genomes phase 1 resources to ensure it is used for VQSR with GRCh37 build. Thanks to Mick Watson and Ally Hume,2015-04-27T09:07:14Z,chapmanb
c61eed8a2e6be213168c0c1946491b439856cdd4,chapmanb,chapmanb@50mail.com,Add slides from NGS Glasgow. Thanks to @ohofmann,2015-04-26T09:36:34Z,chapmanb
74b3c80106fdeb4bc85a99c35fb1d617ffb6d22f,chapmanb,chapmanb@50mail.com,"Exclude centromeres, telomeres and alternative chromosomes from WHAM analysis",2015-04-26T09:27:17Z,chapmanb
683db81bf08ff2e9dd46a99daf6e75d536f35d4b,chapmanb,chapmanb@50mail.com,VarDict: remove high depth regions prior to calling to avoid slow runtimes on collapsed repeats,2015-04-25T09:40:13Z,chapmanb
c1997b7b7da45d62a31ab260d52e2f5b6bd1e882,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #838 from mariogiov/patch-2

Close quotation",2015-04-25T09:32:04Z,chapmanb
d3289f3c1e43128179bd45e2e9003b57f6f18ed9,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Close quotation

smallest PR ever",2015-04-25T01:12:42Z,mariogiov
642fdafbc5d703414a724790e321a67e52098820,chapmanb,chapmanb@50mail.com,Do not expand environmental variables for temp directories until running to handle specifications only on remote worker nodes. Fixes #836,2015-04-25T00:36:05Z,chapmanb
70182f0d51c697b1af355082793f06252db1bccd,Lorena,lorena.pantano@gmail.com,script to test bcbio jobs resources estimation,2015-04-23T16:13:50Z,lpantano
ebdfe45fffb27abd44b306a5ea784d7bd04e7029,chapmanb,chapmanb@50mail.com,Correctly handle standard memory specifications with G and M extensions when preparing tools that take byte specifications. #832,2015-04-22T15:34:36Z,chapmanb
12e59ee3876a7771c27e7af11bdedce18502dcf6,roryk,rory.kirchner@gmail.com,Remove soft imports of pandas and gffutils.,2015-04-22T14:29:19Z,roryk
96542d8f5fa9ef3f19df78a45a2a12609bffa956,roryk,rory.kirchner@gmail.com,"Fix to add Cufflinks isoform FPKM values to the upload directory.

These were being created but not uploaded to the final directory.",2015-04-22T14:22:46Z,roryk
98a4dfb8244089db61956d5bc30b52dc70d86fd0,roryk,rory.kirchner@gmail.com,"Add stringtie support for FPKM expression.

We're hoping to replace Cufflinks expression and assembly
with Stringtie, as it is way faster. This is the first step
of that process, we're hoping it can mostly be a drop in
replacement.

This is disabled for now while we figure out what is causing
some differences in the FPKM values calculated.",2015-04-22T14:22:46Z,roryk
75079222186799234b01db1af807a3eed76cb457,roryk,rory.kirchner@gmail.com,"When combining counts, trim off multiple extensions if passed in.",2015-04-22T14:22:45Z,roryk
56d1ee09499d59a2371ae8d01cdc0de009a41634,chapmanb,chapmanb@50mail.com,"Disambiguation: ensure ambiguous and other organism reads are sorted, merged and passed to final upload directory. Fixes #824",2015-04-22T09:10:17Z,chapmanb
dfc9a6ee7961750da061f798e19babfffff7f235,chapmanb,chapmanb@50mail.com,Bug fix for setting global resources based on samples: avoid leaking algorithm configuration variables into config,2015-04-22T02:13:24Z,chapmanb
5c3e6a5a313b8d4cfe63fad60cfc018df04609fa,chapmanb,chapmanb@50mail.com,Remove VEP download for hg38-noalt until we update VEP to handle 37/38,2015-04-21T10:47:03Z,chapmanb
6451d58461162e25ed7ee651fdfe43da5d3aba9f,chapmanb,chapmanb@50mail.com,hg38-noalt: resources file,2015-04-21T09:49:59Z,chapmanb
8d0b7778c1793ccdd8196863e7c793d445aa3eb4,chapmanb,chapmanb@50mail.com,Targets for installation of hg38 without alternative alleles,2015-04-21T09:38:42Z,chapmanb
a99f256c52be781a49a24752be5128bc631f085d,chapmanb,chapmanb@50mail.com,Explicitly restriction memory workaround to local single machine jobs #829,2015-04-20T23:57:56Z,chapmanb
624a39bd3917b99db4157227794556249ba32ba8,Lorena,lorena.pantano@gmail.com,make sure to compare mem_per_cores inside _scale_cores_to_memory,2015-04-20T21:24:28Z,lpantano
3ad6415c77d59c2fd2550fed480b51527eb7eed5,chapmanb,chapmanb@50mail.com,Scale jobs by memory limit when running multicore on a single machine. Thanks to @lpantano and @schelhorn. Fixes #829,2015-04-20T18:37:53Z,chapmanb
2feccc624a67e50ed9ffd2170b0da110d379e604,chapmanb,chapmanb@50mail.com,Use Agg backend to avoid DISPLAY errors when running on remote servers. Thanks to @lpantano,2015-04-20T14:48:51Z,chapmanb
0e6bb4c2e792117a809974a2415a237211b344ec,chapmanb,chapmanb@50mail.com,cnvkit post-processing and validation: handle collapsed regions from annotating. Thanks to @lpantano,2015-04-20T14:31:01Z,chapmanb
565314640be512edf2367e59d3a6cdfe55aa6bcc,chapmanb,chapmanb@50mail.com,Ensure local 'resources' specified in input YAML get passed to global system configuration for making parallelization decisions. Thanks to @mjafin,2015-04-20T09:00:57Z,chapmanb
33742febd25ce5c3fef061c7778efd2f83e01aa5,chapmanb,chapmanb@50mail.com,Add better memory default to VarDictJava to handle whole genome high depth regions,2015-04-19T20:14:42Z,chapmanb
e166845bbe8c6d5b45cacf67965b93856f420182,chapmanb,chapmanb@50mail.com,Add default configuration target to bcbio_system.yaml reducing the need to set program specific arguments for everything.,2015-04-19T20:08:17Z,chapmanb
15282321078408d8e65026f8fa36202601a15816,chapmanb,chapmanb@50mail.com,Avoid warnings from requests when looking for up to date resources files,2015-04-18T10:02:30Z,chapmanb
8551230f46d276b59e2160688804402f3e94936e,chapmanb,chapmanb@50mail.com,Update snpEff resources to latest versions (#825),2015-04-18T09:47:13Z,chapmanb
9ca489d93a18f756a8130f1c63e0a88a4424a426,chapmanb,chapmanb@50mail.com,Support latest release of WHAM and provide ensemble fixes for small test cases,2015-04-17T14:53:00Z,chapmanb
c9bed7bfb1d376632d8600a6932d3026d2534612,Lorena,lorena.pantano@gmail.com,change to samtools for merging in bcbio_prepare,2015-04-17T11:58:25Z,lpantano
0170a173a1d6a1699b4a897e78fdd17dd3395636,chapmanb,chapmanb@50mail.com,Allow jointcalling to work with single samples without batches for gVCF output. Thanks to Mick Watson,2015-04-16T14:40:57Z,chapmanb
839cd8280eb50bfe381d12f0311ab882f7929818,roryk,rory.kirchner@gmail.com,Revert accidentally commited change.,2015-04-16T02:02:50Z,roryk
c72397baf84c03a936f4f698f7037f5bd0ae31bb,roryk,rory.kirchner@gmail.com,Handle None being passed into the BED file merger.,2015-04-16T01:59:24Z,roryk
b7bdea1d25c432a845a07272b27f7e5db37c281e,roryk,rory.kirchner@gmail.com,"cnv scatter

takes a BED file of priority regions specified in the configuration
file under (""algorithm"", ""priority_regions"") and plots all of the
regions in one PDF for each sample.",2015-04-16T01:59:24Z,roryk
52a700736f4e168b501a31d502146c9653cf3eee,roryk,rory.kirchner@gmail.com,"Make reusable BED merge function.

Just realized this is duplicating some of the functionality
in the variation/bedutils.py directory.",2015-04-16T01:59:24Z,roryk
168717d2ea9af3bced92b2a73c90a1356de64374,chapmanb,chapmanb@50mail.com,Document perl requirements for isolated installations #825,2015-04-16T00:25:07Z,chapmanb
181073755e1e3f1cabc56863ba6234d082769769,Lorena,lorena.pantano@gmail.com,clean bcbio_prepare_samples code,2015-04-15T20:13:48Z,lpantano
a09f2a350796db5ddc8a997d599d03421b478fc2,Lorena,lorena.pantano@gmail.com,use all ipython functions from bcbio into bcbio_prepare_samples,2015-04-15T20:06:38Z,lpantano
dd1631ad38bb69164b4bfe0c2b28ee3fa993c40f,Brad Chapman,chapmanb@fastmail.com,"Merge pull request #827 from tfmorris/patch-1

Reflect new direct licensing of GATK & muTect",2015-04-15T00:28:10Z,chapmanb
1ed6c8876c9fe760532c9c52fe69210919dfecc2,Tom Morris,tfmorris@gmail.com,"Reflect new direct licensing of GATK & muTect

The Broad Institute is switching to direct licensing on April 16 and Appistry will no longer be involved.",2015-04-14T23:10:14Z,tfmorris
9794cb8cb9f94a71e4b21d040788a4f2a12805f8,roryk,rory.kirchner@gmail.com,"Set ï¿½  (missing) qualimap fields to 'nan'.

float conversion of ï¿½  was causing an error, this fixes
it to a missing value that python can convert.

toolz bumped to version 0.7.1 to pull in the dicttoolz module",2015-04-14T21:41:45Z,roryk
b425f9c08494339362c1a472b82f7e57ee057f5f,chapmanb,chapmanb@50mail.com,Provide more useful error message when mutect variant calling specified without a tumor phenotype. Fixes #823,2015-04-13T09:03:16Z,chapmanb
1963bb433cbfb3a8b51cc17256de751efd73f294,chapmanb,chapmanb@50mail.com,Support the VarDict java implementation as drop in replacement for VarDict,2015-04-12T09:44:42Z,chapmanb
250e3d13acad9950c8471dc7fabdef4ca7970077,chapmanb,chapmanb@50mail.com,Improve flexibility for chromosome filtering and plotting small genomes/test samples,2015-04-12T09:43:51Z,chapmanb
df4cff4c9c6a77c3f18fd0de23be0122b76d47a6,chapmanb,chapmanb@50mail.com,Detect openjdk java version and better error reporting. Fixes #822,2015-04-11T18:56:21Z,chapmanb
e28eceaf0105c3bbfd2a1bfb7680f88352793584,chapmanb,chapmanb@50mail.com,Skip transcript BED creation if genome lacks a transcript GFF file,2015-04-11T08:35:57Z,chapmanb
53ac7e2ce95ace791e92c57790f9ea3b28e60df2,chapmanb,chapmanb@50mail.com,Document proper way to specify lists in template and raise helpful error when finding duplicate samples in a CSV template. Thanks to @ssaif,2015-04-11T08:27:37Z,chapmanb
1e007aae28e8040fa7d73a623133482dbcd77b04,chapmanb,chapmanb@50mail.com,Use natural sort ordering for sambamba for compatibility with samtools. Thanks to @schelhorn. Fixes #821,2015-04-10T10:04:23Z,chapmanb
cd69811b986c7a076174098f2f9d6542c4181747,chapmanb,chapmanb@50mail.com,Add pre-compiled pybedtools conda package for Centos5 and make default requirement. Fixes #819,2015-04-10T09:18:48Z,chapmanb
71a8ec595703d168b2b72ae511350ce6c92c370f,chapmanb,chapmanb@50mail.com,Fix assignment of chromosomes to larger/small bins for avoiding random/haplotype chromosomes when plotting. Thanks to @mjafin,2015-04-10T09:17:05Z,chapmanb
9f12392958d02ba4969b4d72edb09409514b234b,chapmanb,chapmanb@50mail.com,Correct QC checking for gemini variants when variant calling not done,2015-04-10T08:48:10Z,chapmanb
872ef6080ff4ec9ef9c17b4e33c6a971c6a09eaf,chapmanb,chapmanb@50mail.com,More flexible gemini version detection for latest release. Fixes #818,2015-04-09T08:48:54Z,chapmanb
0f2ce86abf6e4d6f58d92617f687a6b304248600,Lorena,lorena.pantano@gmail.com,activate qualimap as the QC for RNAseq,2015-04-08T17:03:06Z,lpantano
b5fcfcb4e275157fbdfb4bc84ff46072760b1b4c,chapmanb,chapmanb@50mail.com,sv coverage plots: put hard limit on total plots and cleanup for stem plotting to handle callers + event naming in ensemble calls,2015-04-08T09:13:03Z,chapmanb
dffa058402c8e89b8802cab78ab9fbf4f20324eb,roryk,rory.kirchner@gmail.com,"Add lollipops of breakpoints of the individual callers.

Also expands the plotting region by 100 bases around the region
to make it easier to look at the structural variants on the edge
of the region.",2015-04-07T20:52:54Z,roryk
ce5fb2fc9976138fde13f327110aa6a3a27d106e,chapmanb,chapmanb@50mail.com,Ensure batch name present and non-empty for a group of samples with coverage. Fixes #813,2015-04-07T09:19:07Z,chapmanb
49f1c6e84adf6b4778174a96cd046d2aa67e408e,chapmanb,chapmanb@50mail.com,Ensure coverage plots uploaded to final results directory,2015-04-06T18:19:38Z,chapmanb
0fc7300fdcac25b9ca9fca85ea4c1402b5c4d668,chapmanb,chapmanb@50mail.com,Improve throughput and memory usage for plotting of structural variant call coverage. Skip excessively large events until we have proper prioritization,2015-04-06T17:05:05Z,chapmanb
a18ca476d3517a5f024a255e4d0e9aeec4227c58,chapmanb,chapmanb@50mail.com,Ensure bgzip is re-run if input BED file changes. Thanks to @lpantano,2015-04-05T17:56:52Z,chapmanb
aad5cd8ab6ad3c4eec2af5ffbd4d35521116181b,chapmanb,chapmanb@50mail.com,Ignore local site libraries during installation and runs. Thanks to @bw2 (arq5x/gemini#426),2015-04-04T10:41:12Z,chapmanb
e349b749c7e3d3d7a4a7c75aab1c33ff98fc915a,chapmanb,chapmanb@50mail.com,Handle empty input BED SV files for plotting and annotation. Thanks to @mjafin,2015-04-02T14:34:06Z,chapmanb
7115afbb079d0dc56a87d239af28a6e2def936f1,roryk,rory.kirchner@gmail.com,"Regional coverage plotting of structural variants

Merges the structural variants called in all samples and plots those
regions in all samples.",2015-04-01T20:24:42Z,roryk
85c9f313e0bb50eafc00410f77bd40d3e8f4bbfe,chapmanb,chapmanb@50mail.com,Document gfortran and R requirements. Fixes #810,2015-04-01T18:02:05Z,chapmanb
9b1bfd48441899d67397ac7036bccecd2d03abc1,chapmanb,chapmanb@50mail.com,Separate annotated gene names for structural variants with ';' to be compatible with CNVkit etal/cnvkit#15 (thanks to @mjafin and @etal),2015-04-01T12:03:23Z,chapmanb
87576148b2c333360d83a7a84005bcc0f7ad6af5,chapmanb,chapmanb@50mail.com,Talk for Boston Computational Biology and Bioinformatics meetup,2015-04-01T09:46:00Z,chapmanb
b8cf835e349d65716fc9011e9bdc9c5440afbdbf,Lorena Pantano,lorena.pantano@gmail.com,move bcbio_prepare_samples.py to scripts folder,2015-03-31T20:08:38Z,lpantano
ac5b0e103d55c4dcbaaa69afa031d5d1e705f1b0,chapmanb,chapmanb@50mail.com,CNVkit plotting improvements: annotate genes with restricted window for closest: 10kb max. Avoid plotting smaller haplotype chrososomes in full genome plots,2015-03-31T18:15:18Z,chapmanb
b4af45059c11c776ba834f4ef5941b6aa163ca94,chapmanb,chapmanb@50mail.com,FreeBayes: update with options for latest validated version 0.9.21-7,2015-03-30T09:51:11Z,chapmanb
82c2f6a74c3a734eada76f140fce05dd6f86d52e,chapmanb,chapmanb@50mail.com,Fix objectstore connection typo. Thanks to @schelhorn. Fixes #807,2015-03-30T09:15:37Z,chapmanb
ba5b8b0dd1a239c4523971e12a848b626e6d08e8,chapmanb,chapmanb@50mail.com,disambiguation: improve parallelization by disambiguating on split alignment parts prior to merging. Thanks to @schelhorn. #804,2015-03-30T09:06:55Z,chapmanb
5b51d1095223c14935287304e0ee32c19ddf7efd,chapmanb,chapmanb@50mail.com,Add LOH plot to CNVkit outputs and ensure plots uploaded to final directory,2015-03-29T08:40:49Z,chapmanb
5183ceeaf344f419dd6a960d0aff81ab773f48b2,chapmanb,chapmanb@50mail.com,CNVkit: add diagram plot and framework for LOH plot,2015-03-27T20:05:16Z,chapmanb
6dc6881d1e4ab3541e4462c4c776a72ffffaee74,Lorena,lorena.pantano@gmail.com,update history,2015-03-27T15:06:30Z,lpantano
ab0cd151a04233a65af30b998d49727f0e1d5529,Lorena,lorena.pantano@gmail.com,function to estimate fragment size,2015-03-27T15:04:54Z,lpantano
f5d68f6a19120014dadc76a9859e8a8aa7e1702b,Lorena,lorena.pantano@gmail.com,"add qualimap functions for RNAseq QC results

Conflicts:
	bcbio/pipeline/qcsummary.py

add future command for rnaseq QC

call correct function",2015-03-27T14:37:31Z,lpantano
35ecca2b841e0ba7af9f91ed682329a001ea320e,chapmanb,chapmanb@50mail.com,Fail cleanly with example pipeline download scripts,2015-03-27T12:46:34Z,chapmanb
b7677e4c75a044ec4fa1dd9bc7e957ae728506b1,chapmanb,chapmanb@50mail.com,Fail cleanly with example pipeline download scripts,2015-03-27T12:41:14Z,chapmanb
4cdcc78da7e74b0acf306172a29a5084ec8f8957,chapmanb,chapmanb@50mail.com,Annotate CNVkit and ensemble structural variants with gene names from Ensembl genes. Enables direct evaluation of associated genes and future integration into CNVkit plots,2015-03-27T08:22:22Z,chapmanb
1acc669cdd8e1ff84a77f4eb6acb850db8d466c7,chapmanb,chapmanb@50mail.com,"Ensure BED file produced from Ensembl GFF sorts by chrom, start, end",2015-03-26T15:04:47Z,chapmanb
67d4aaad56104b845555303be8bf12b47aa31698,chapmanb,chapmanb@50mail.com,Handle structural variant edge cases: empty ensemble file and no SV data for an item. Thanks to @mjafin,2015-03-26T13:32:43Z,chapmanb
691ab057cc17f49878fc6f406fb17459bb74b2e9,chapmanb,chapmanb@50mail.com,Skip THetA runs until we can speed up data preparation steps. Thanks to @mfajin),2015-03-26T09:47:56Z,chapmanb
05ee754597b850972f3c1be21ad8fd5f61e96757,chapmanb,chapmanb@50mail.com,Ensure BED file of gene names created on demand and available in data genome_resources,2015-03-26T08:57:47Z,chapmanb
7d2e316b47ab8b6dc6cb9caaecee365e8f043fad,chapmanb,chapmanb@50mail.com,Additional error checking for CNVkit output files to ensure all present,2015-03-26T08:37:36Z,chapmanb
a643bf04311b80741f2fc50fee64d55d1feb705a,roryk,rory.kirchner@gmail.com,Add example code for how to make the plots.,2015-03-25T19:07:28Z,roryk
8c9dc5092b626814ce7ab1bf0190f4467d2e3894,roryk,rory.kirchner@gmail.com,Add gtf->bed converter.,2015-03-25T18:46:59Z,roryk
81020e28283731de79877d3ddeb053cc47703373,roryk,rory.kirchner@gmail.com,Add option to provide a BED file of regions to plot.,2015-03-25T15:55:22Z,roryk
5bce155d3930ad81bd87cbc2f17df1407c021576,roryk,rory.kirchner@gmail.com,Clean up comments on top.,2015-03-25T15:13:05Z,roryk
6c391a01faf8523ecf3cff9637c6d526765c7f6c,chapmanb,chapmanb@50mail.com,"Off-target improvements: ensure we only grab reads not overlapping ends, and add amplicon sequencing for regional synthetic data",2015-03-25T14:51:47Z,chapmanb
28e389ea9b1403dc77c9eaa990081779e1c128da,chapmanb,chapmanb@50mail.com,Additional failure modes for TheTA and allowable false booleans in input configuration. Thanks to @mjafin,2015-03-25T10:10:36Z,chapmanb
a71bf8a78cd5378d5b05de639c8a8a56e723a7ea,chapmanb,chapmanb@50mail.com,Fixes for amplicon/target calculations: use percentage of off-target reads. Larger depth requirement for triggering VarDict min-depth parameter. Thanks to @mjafin,2015-03-25T09:02:41Z,chapmanb
05e02d2999bb4ff7b35e75d571a46be9f206bd75,chapmanb,chapmanb@50mail.com,Provide more useful error message when failing to find Java 1.7 for GATK or MuTect installation. Fixes #802,2015-03-24T13:25:44Z,chapmanb
4210928e7f3b5d830b70228aedf24356396b029c,chapmanb,chapmanb@50mail.com,Enable setting variantcaller as false to skip calling,2015-03-24T10:23:07Z,chapmanb
e7eacc4200d40fe40c010e31a1233804cadef28e,chapmanb,chapmanb@50mail.com,Enable setting indelcaller as false to skip scalpel calls,2015-03-24T10:17:21Z,chapmanb
8c464dc68c36774e6b9da5e25b9e8492afda07cb,chapmanb,chapmanb@50mail.com,Framework for doing annotations and plotting of structural variant calls for better downstream reporting and analysis,2015-03-24T09:08:20Z,chapmanb
e14ab8a667e42abcf9b19380a1507912f624af7e,roryk,rory.kirchner@gmail.com,Fix formatting issue.,2015-03-23T18:38:51Z,roryk
1b6c822da96a3a8589388b2704355db017844a41,roryk,rory.kirchner@gmail.com,Make a single coverage pdf for a list of regions.,2015-03-23T18:25:58Z,roryk
35394689c03bb5ca6beb64caae9e3dce121dc1a4,roryk,rory.kirchner@gmail.com,"Fix incorrect bwa location on bcbio_setup_genome script.

Thanks to @lpantano for figuring out the source of the error and
to @druvus for the super detailed bug report. Closes #798.",2015-03-23T17:34:02Z,roryk
a182f24ea3709a71cdbb36e6ae302cea3070a1df,roryk,rory.kirchner@gmail.com,Add plotting coverage across a region for a list of samples.,2015-03-23T17:04:01Z,roryk
6423123842b09b191a1b6c19d999578df09228e5,chapmanb,chapmanb@50mail.com,Use median depth to set VarDict high depth parameters and improve docs for amplicon sequencing. Thanks to @mjafin,2015-03-23T16:46:29Z,chapmanb
2f1d8dd5dd239624ed2776b061d7999046ed8b1a,roryk,rory.kirchner@gmail.com,"Re-enable sambamba based sorting if available.

Closes #800.",2015-03-23T15:06:00Z,roryk
1d94b850c2738c241bbf4f02223a4a6380485143,Lorena,lorena.pantano@gmail.com,"fix kraken docs (need string value). thanks to @druvus

better default type value for kraken",2015-03-23T14:44:23Z,lpantano
b2fb8ba58b22136b9067878a64d26b62b966ba29,chapmanb,chapmanb@50mail.com,"CNVkit requirements allowing for latest dev version, which resolves pre-0.3.5",2015-03-23T10:08:50Z,chapmanb
9d01683db4c90af43d6d3ab53e7cda2e4e114187,chapmanb,chapmanb@50mail.com,Document coverage_interval: no need to specify explicitly. Remove from examples and templates to simplify setup for new projects.,2015-03-23T09:21:04Z,chapmanb
3ee64ddc6fd9dc32a521f184a12bac637a167b6b,chapmanb,chapmanb@50mail.com,Configuration boolean checking: realign and recalibrate can be set to true,2015-03-23T08:47:18Z,chapmanb
cb7198b0ad811b72151b5739336ee07d98254e43,chapmanb,chapmanb@50mail.com,cnvkit: Support analysis approaches for amplicon and whole genomes,2015-03-23T00:23:58Z,chapmanb
7020c21b74b43d086a8bfaf631e261059d156bf6,chapmanb,chapmanb@50mail.com,Count off-target reads for regional analyses and differentiate between regional (pull down) and amplicon (PCR-based) experiments for making decisions downstream during CNV calling,2015-03-22T19:06:15Z,chapmanb
33fdd22219e7a83498952c680d21aec20906a2dc,chapmanb,chapmanb@50mail.com,Avoid unpack errors when finalizing upload by passing back sample. Fixes #797,2015-03-21T09:50:58Z,chapmanb
fe3e1aacfb51e50b01888063ba1c3db2581a9744,chapmanb,chapmanb@50mail.com,"Automatically calculate coverage_interval based on coverage calculations, avoiding need to set this directly in input configuration.",2015-03-21T09:42:07Z,chapmanb
de34f96b86c68ac3652808931758dbd1862b8eb8,Lorena,lorena.pantano@gmail.com,"support kraken update according to date of file

Conflicts:
	bcbio/install.py",2015-03-20T19:04:34Z,lpantano
d59e2b1c72d78f99ed6577ff2c150d0246d9307b,Lorena,lorena.pantano@gmail.com,update version thanks to  @schelhorn,2015-03-20T16:10:36Z,lpantano
f702956ac26932ce97b2c6ac10c089f773ac45b1,chapmanb,chapmanb@50mail.com,Add kraken to allowed booleans for sanity checking. Fixes #777,2015-03-20T13:16:36Z,chapmanb
19bd4918dbd2a6b9b599c463598620c42004b079,roryk,rory.kirchner@gmail.com,"When looking up analysis-specific parameters, be case insensitive.

Fixes #795.",2015-03-19T22:44:29Z,roryk
df490e7349e7a2e9a3072de763c5ad175b5db18a,chapmanb,chapmanb@50mail.com,Avoid triggering reasonable size check when BAM file has large read group inputs. Fixes #793,2015-03-19T14:14:52Z,chapmanb
b72dc4cea3c934e07877f2b546b5696a1dc22d59,chapmanb,chapmanb@50mail.com,Better error checking for booleans in input configuration. Fixes #777. Ensure upload directory exists and is specified as a full path.,2015-03-19T14:11:52Z,chapmanb
699d51f53c25575d2d2535132a5a6d13b02ad974,chapmanb,chapmanb@50mail.com,Skip SSL verification when retrieving genome files and gemini requirements during installation to handle issues with verification problems. Fixes #791,2015-03-18T10:03:49Z,chapmanb
4f5dae32dd5f2755d383b1a6a89c617817ecad3c,chapmanb,chapmanb@50mail.com,"Additional fixes after testing for generalized S3 support for every region. Include S3 upload details in local file when preparing a template from S3, including region. #786",2015-03-18T08:55:46Z,chapmanb
c78dbc98056e1511df9e718d53a6b8c10ab90057,chapmanb,chapmanb@50mail.com,Provide backup upload/download with the AWS cli interface to handle cases where gof3r fails like the Frankfurt region. #786,2015-03-17T17:25:32Z,chapmanb
447f47221b56ffc943217dd74151c55c030586d6,chapmanb,chapmanb@50mail.com,"Run upload process on distributed machines, allowing upload to S3 on AWS to take advantage of machines with multiple cores. Thanks to @lpantano",2015-03-17T15:11:44Z,chapmanb
c8faf587dbf4546bff37072ffd566b412978039c,chapmanb,chapmanb@50mail.com,Provide public API to retrieve the default region for an objectstore,2015-03-17T10:26:20Z,chapmanb
7677e152fe659432443b2b9a4b163a6e32c6ca73,chapmanb,chapmanb@50mail.com,Ensure GEMINI statistics run for project summary file. #785,2015-03-16T18:45:39Z,chapmanb
242ca57d1cf50eb053b03685f8e729693718ec5e,chapmanb,chapmanb@50mail.com,S3/objectstore refactoring to support multiple S3 regions for upload. #786,2015-03-16T18:12:38Z,chapmanb
12e5734d6f9f822222fe213564ceef47453bd400,chapmanb,chapmanb@50mail.com,Additional refactoring of objectstore/S3 functionality to support multi-regions and non-AWS object stores. Handles all download and retrieval of files. #786,2015-03-16T15:19:18Z,chapmanb
a30736975bac8612512d9a41fb2f409988f13279,chapmanb,chapmanb@50mail.com,S3/objectstore: initial work on abstracting to support multiple object stores and regions (#785),2015-03-16T09:34:30Z,chapmanb
52a4c6ac320e627474fa4f0b497e2c687dbee08a,chapmanb,chapmanb@50mail.com,Improved error message if bcbio is unable to process an input file: #789,2015-03-15T10:14:42Z,chapmanb
741dfd2ef831a249add77f3c1a8f930ffa8c702b,chapmanb,chapmanb@50mail.com,Multi-alleleic decomposition for GEMINI: update with latest recommendations from @brentp,2015-03-13T09:52:18Z,chapmanb
14ac544070c6999f286668f041ec3f824c3749f0,Lorena,lorena.pantano@gmail.com,update HISTORY with bz2 compatibility,2015-03-12T20:57:04Z,lpantano
5159d78d24ba98028ac03872053d658a33ef1b60,Lorena,lorena.pantano@gmail.com,skip if conversion already done,2015-03-12T20:53:47Z,lpantano
fea51a161ff612cdbd3b02eec9b111f795b2882b,Lorena,lorena.pantano@gmail.com,"support bz2 files in samples preparation script

add bzip support to sample preparation",2015-03-12T20:44:07Z,lpantano
05cdced99868eb272198218719ba32550426b071,chapmanb,chapmanb@50mail.com,Update cancer calling documentation with pointers to the validation post and configuration documentation,2015-03-11T09:16:07Z,chapmanb
e0f4a612989991613d66f6d0f9bfa45cd7da2e68,chapmanb,chapmanb@50mail.com,v0.8.7 release,2015-03-10T09:15:10Z,chapmanb
160883c4b409cdbdb7f12bcc8ddcd18314eb72e4,chapmanb,chapmanb@50mail.com,Generalize calculation of per machine target cores to handle wider range of cases where we have bigger core machines and want to pack jobs with controller and bcbio submission script. Thanks to @lpantano,2015-03-07T10:44:57Z,chapmanb
c67cb28528a8ef76bf869e7c70636c4aee80be6f,chapmanb,chapmanb@50mail.com,Support PBSPro scheduler: #779,2015-03-06T10:26:10Z,chapmanb
38b619a25a4ea638ffc29e2103999c73db2cacb6,chapmanb,chapmanb@50mail.com,Ensure correct CNVkit file names when running disambiguation. Thanks to @mjafin,2015-03-05T10:41:44Z,chapmanb
58f46a74e9587e967f9bd424a5ccc73e15e62e36,chapmanb,chapmanb@50mail.com,Ensure ensemble outputs are bgzipped during output for older ensemble approach. Thanks to @mjafin,2015-03-05T09:53:49Z,chapmanb
7efb2bfb0ec4cb1342aee4adf5f0b3e27944ceaa,chapmanb,chapmanb@50mail.com,"Ensure multisample VCF, not non-multiallelic VCF, passed along from GEMINI preparation.",2015-03-05T09:52:33Z,chapmanb
29701718468cfd99373f222f5188a5551260af40,chapmanb,chapmanb@50mail.com,Document support of PED files as input to template configuration,2015-03-04T18:56:35Z,chapmanb
ca8611c1319a440769f2e35c26cc8f13fdcda637,chapmanb,chapmanb@50mail.com,Use information from user specified PED files as input to GEMINI database creation,2015-03-04T16:35:42Z,chapmanb
26786667d8c7499db08de2d426a3f90dd13f5a77,chapmanb,chapmanb@50mail.com,"Enable PED file inputs to templating functionality, reading gender, batch and phenotype information from input PED",2015-03-04T09:31:00Z,chapmanb
ac5b3d1ea89b5c3e5804d6587a9703b6d5ba6739,chapmanb,chapmanb@50mail.com,Set pip SSL certificates to point at installed conda SSL package if present. Avoids SSL errors when pip can't find system certificates. Thanks to Andrew Oler. Fixes #764,2015-03-03T10:03:07Z,chapmanb
968da7e5530191c52c4743ba27ce4809877898a1,chapmanb,chapmanb@50mail.com,Run snpEff 4.1 in back-compatibility mode to work with GEMINI database loading. #773,2015-03-03T09:14:36Z,chapmanb
bab0e2a5c21baaf567f31965dabc5056ff4a6c29,roryk,rory.kirchner@gmail.com,"Add HTSeq back to requirements file, since dexseq_count needs it.

Oop.",2015-03-02T20:55:30Z,roryk
5708808d25eb7f3836775f50babedae7f6ceb9c0,chapmanb,chapmanb@50mail.com,WHAM and TheTA: fix edge cases for multiple re-runs,2015-03-02T16:05:02Z,chapmanb
33856c19196aac1bd0e4d1ee0080aaa920989c6e,chapmanb,chapmanb@50mail.com,"Add PED file to GEMINI database load, containing family, gender and phenotype information from bcbio metadata. Fixes #776",2015-03-02T16:05:02Z,chapmanb
f2910c294a7d6fc280a40f55bacdef2993d34b23,Lorena,lorena.pantano@gmail.com,complete cloud docs with latest options for icel create,2015-03-02T15:50:37Z,lpantano
f2a3dde3ad33c4ea7695aab3b11ddea26eed5415,Lorena,lorena.pantano@gmail.com,fix qsignature message,2015-03-02T15:33:29Z,lpantano
693881e80940d2d72331b4a5ff0679ce30f0672b,chapmanb,chapmanb@50mail.com,WHAM structural variant calling: improve classification and validation benchmarking against DREAM dataset,2015-03-02T09:44:13Z,chapmanb
f8a604b7c00d79a2003efacb9794339be226f920,chapmanb,chapmanb@50mail.com,Docs for cloud: fix reference to using home directory for processing,2015-03-02T09:25:20Z,chapmanb
b53220a1629173554fa13072f76a967b951a3af3,chapmanb,chapmanb@50mail.com,Avoid circular import issue,2015-03-01T22:57:08Z,chapmanb
7c7f65c290238d8de50d8e43032d594731e64cb4,chapmanb,chapmanb@50mail.com,Local gemini download: remove empty initial directory,2015-03-01T21:37:11Z,chapmanb
d8c53f274db774bbfd07d5d1a5a5e14ab6cbc74f,chapmanb,chapmanb@50mail.com,Ensure gemini download occurs in local work directory on AWS to avoid running out of space on download. Thanks to Yuri,2015-03-01T21:30:30Z,chapmanb
ce9cdac1b53d4dc87f150608fd5e9f1e7a5ac024,chapmanb,chapmanb@50mail.com,Multi-allelic variants: skip decomposing work and merging if no multi-allelic present,2015-02-26T16:56:54Z,chapmanb
daba8c74f7cb887c8cb29c2712b7296002b44728,chapmanb,chapmanb@50mail.com,Try to work around timestamp issues by ensuring bam and bai files get modification times set via same mechanism (thanks to @lpantano),2015-02-26T16:56:09Z,chapmanb
98c75603907cb22a3e4cd4fd78f7e995b80bddfd,chapmanb,chapmanb@50mail.com,Better sort/merging of VCF files using pre-existing sorted chromosome IDs in file,2015-02-26T15:44:53Z,chapmanb
711c6d68e17875410d0692fb48c762a77a03a44d,chapmanb,chapmanb@50mail.com,"Fix preparation of multi-allelic inputs to GEMINI by implementing custom merge of bi-allelic and split multi-allelic. Previous implementation using GATK CombineVariants re-merged some split multi-allelic, losing effects annotations. #773 #766",2015-02-26T10:54:00Z,chapmanb
e036426b7be63ab29aaa805ad566a2408976be51,chapmanb,chapmanb@50mail.com,Add bcbio anaconda installation to default PATH inside docker image. Fixes #775,2015-02-25T15:19:27Z,chapmanb
e0805f64147413a6cd3dc5e8c508452b8b09c8f3,chapmanb,chapmanb@50mail.com,Skip contig order naming checking with bedtools 2.23.0+ to avoid potential issues with complex naming schemes. arq5x/bedtools2#166,2015-02-25T11:06:32Z,chapmanb
88b459f4be54e38af18a373c4de32ba38944b895,chapmanb,chapmanb@50mail.com,Force a re-index after merging to avoid issues with out of date timestamps when clocks out of sync,2015-02-25T01:12:19Z,chapmanb
12e2805c34607a4901d0d0b8149a0b94ce282df2,roryk,rory.kirchner@gmail.com,Dead code removal.,2015-02-24T17:08:04Z,roryk
6332a232c7e74df5347c920204184a60ebd121e3,roryk,rory.kirchner@gmail.com,Remove HTSeq as a dependency.,2015-02-24T15:58:35Z,roryk
aedb844664a2dcdd47ba0daffd79a172d83e2653,roryk,rory.kirchner@gmail.com,Strip extension from sample names of combined count files.,2015-02-23T23:53:57Z,roryk
798e15a16413abc31606cf5c9f7ff3d9c9745e8b,chapmanb,chapmanb@50mail.com,v0.8.6 release,2015-02-23T09:07:06Z,chapmanb
951ede872e880edbad0c13594c695a5c45ba498d,chapmanb,chapmanb@50mail.com,Ensure resources examples do not use deprecated semi-colon syntax. Fixes #772,2015-02-23T08:22:09Z,chapmanb
ee57c3b0bd98a7e532116affd3ee515ed5b6c7f5,roryk,rory.kirchner@gmail.com,"Move eXpress to non-streaming sorting.

Streaming was causing a huge number of issues, so disable it
for now. Add 8g minimum requirement to eXpress, it can get
up over 5g processing a large number of reads.",2015-02-22T14:12:21Z,roryk
0266e64183563a2f7873b0615ce389ecf81e01b7,roryk,rory.kirchner@gmail.com,"Include memory limit to sambamba sorting in the bam module.

Increase BAM sorting memory.",2015-02-22T14:01:25Z,roryk
c1ac6e8b9f389367aa8cc06619966b658780c1c4,chapmanb,chapmanb@50mail.com,"Re-enable support for TheTA runs on cancer samples, fixing run problems",2015-02-21T10:06:38Z,chapmanb
d6d2453f7cbb4bf6ee36a086959a9426406ca0ab,chapmanb,chapmanb@50mail.com,"cnvkit: correctly assign calls to tumor samples, avoids incorrectly assigning names to normal calls in same batch. Thanks to @mjafin",2015-02-21T09:18:50Z,chapmanb
9c252b2be0b8016f83456a86a5ac640ea7e97351,roryk,rory.kirchner@gmail.com,"Explicitly make output directory, Cufflinks won't make the whole path.",2015-02-21T02:08:48Z,roryk
7abdbd881e60ab9dd4a8979b258cfcb5c0541e2b,roryk,rory.kirchner@gmail.com,Fix BAM name sorting before running eXpress.,2015-02-21T02:08:42Z,roryk
2af942f0b124617f34ad135f25b3e8209425c092,chapmanb,chapmanb@50mail.com,"Enable setting additional top level parameters in template: vrn_files, files (fixes #769) and analysis",2015-02-20T20:03:14Z,chapmanb
357b3304edc657e9fa863fdf82964f7b9d8d2a1f,chapmanb,chapmanb@50mail.com,Document recommend setup of bcbio project structure,2015-02-20T18:52:24Z,chapmanb
9ff5b7d06fe2fb66a0497cba35ec59dbdc0a8ac2,chapmanb,chapmanb@50mail.com,Clean up BAM indexing in cases where we have out of date indexes. Thanks to @lpantano,2015-02-19T09:11:23Z,chapmanb
8fa1144764351476815ff679a02fa63e2e929daa,chapmanb,chapmanb@50mail.com,Ensure errors with sambamba indexing are logged. Remove unneeded fallbacak to single core samtools indexing,2015-02-19T08:52:11Z,chapmanb
5feb83a800774e93e112f7f337151d4f4ef809da,chapmanb,chapmanb@50mail.com,CNVkit: skip TheTA post-processing until better tested and incorporate Eric's changes. Thanks to @mjafin,2015-02-18T18:37:21Z,chapmanb
f7215353286485c0be58206534c4563aef4dd186,chapmanb,chapmanb@50mail.com,"Skip VEP annotations if input file has no variants. VEP produces a completely empty output file in this case, causing errors. Fixes #765 (maybe also #766)",2015-02-18T08:18:23Z,chapmanb
accc77e1ca43830c738b8cf8feef8fcfd376134c,chapmanb,chapmanb@50mail.com,Enable specification of controller memory in a resource ('-r conmem=4') through ipython-cluster-helper and document #741,2015-02-17T19:19:30Z,chapmanb
e5fcc54506af6f7bc676c50e1c8817adbd1a1bdd,roryk,rory.kirchner@gmail.com,Remove AlienTrimmer from system config.,2015-02-17T18:02:52Z,roryk
9f0964501513fc75ef0e3cb6c08d04aafa520d17,chapmanb,chapmanb@50mail.com,WHAM validation: assign validations based on new classifier distribution,2015-02-17T09:43:22Z,chapmanb
c51795493783529ff79e9fd6545fbf15f158e1a5,chapmanb,chapmanb@50mail.com,Swap back to sambamba sorting for paired end inputs. Avoids memory issues seen with samtools on long running process -- the large samtools sort seems to leak memory and eventually crash or trigger shutdown from schedulers. #744,2015-02-13T16:48:33Z,chapmanb
6dbd47a8f55bc773844bf545eb5346f79622c466,Brad Chapman,chapmanb@50mail.com,"Merge pull request #755 from nuin/patch-1

-p option missing in a couple os mkdir instances",2015-02-12T08:50:15Z,chapmanb
3f9327225473f97f1fdee2a09751df38df49c8d5,Paulo Nuin,nuin@genedrift.org,-p option missing in a couple os mkdir instances,2015-02-11T23:10:20Z,nuin
391a9982962e73a03b56b055997f40e6871f1819,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #754 from matted/master

Added paragraph about Gifford lab at MIT CSAIL.",2015-02-11T20:39:03Z,roryk
2ab7a02da5a157ba0122c6a69008ff193c751837,Matt Edwards,mttdwrds@gmail.com,Added paragraph about Gifford lab at MIT CSAIL.,2015-02-11T15:19:02Z,matted
9642874deb868bea548c85fe6c0f9cdacfb90f5e,chapmanb,chapmanb@50mail.com,Code cleanup and fix typo,2015-02-11T10:17:08Z,chapmanb
53dabb03d2ad47e3bd9411f1e248b99a6fe9bea6,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #753 from matted/master

Disabled DEXSeq when the aligner is bwa.",2015-02-10T19:04:31Z,roryk
b840beaec6795b0fd03787e4d690b4e4d23ec3d6,Matt Edwards,mttdwrds@gmail.com,Disabled DEXSeq when the aligner is bwa.,2015-02-10T18:22:51Z,matted
074fb1358a4b5c956f49286f0ba6affa632b9d71,chapmanb,chapmanb@50mail.com,Allow installing GATK/MuTect via toolplus without upgrade of tools or data. Fixes #750,2015-02-10T11:15:58Z,chapmanb
f75a6f35968718be5563d88ed4b4e49ce6f5b130,chapmanb,chapmanb@50mail.com,Provide more useful error message if unable to determine bedtools version from manifest. #748,2015-02-09T09:56:34Z,chapmanb
ef4b83e6cc1aa8cb6b5e2f44c771c30ed546148c,chapmanb,chapmanb@50mail.com,Always pre-create fastq files from BAM inputs instead of streaming directly to alignment. #747,2015-02-09T09:29:57Z,chapmanb
d22c3eb5fcf1e40d56d162ca8750505cd6e7d905,chapmanb,chapmanb@50mail.com,Document usage of encrypted NFS-mounted drive for processing,2015-02-09T08:48:33Z,chapmanb
1d1ec00e7c4c897e968d54d503ad47cec03c5c13,chapmanb,chapmanb@50mail.com,Provide targets to allow pre-prepped download of genomes externally. Used to make it easier to update with new genome information for pre-prepped upload,2015-02-08T10:43:35Z,chapmanb
2d9ceda9eb5c1739c25c3d3701d651e2cbc0afcc,roryk,rory.kirchner@gmail.com,Remove snpEff jar directory since we are using the script.,2015-02-07T16:35:29Z,roryk
822c6aedfc26b50f785071c0a560d0d48ac8f537,chapmanb,chapmanb@50mail.com,Remove back compatibility for old snpEff install which is no longer useful and causes confusing error messages,2015-02-07T09:44:48Z,chapmanb
584daa28737ac0d9faf0b67682e8cb2c733bd8eb,roryk,rory.kirchner@gmail.com,Add optional queryname sorting to the sorting command.,2015-02-06T20:30:06Z,roryk
3c378b695c6a2d9be9ae8117610bcbec00066519,roryk,rory.kirchner@gmail.com,Use samtools sam->sorted bam conversion.,2015-02-06T20:12:23Z,roryk
04f3bbcbee349a1cd208afcee9991e1ab4fa6a14,roryk,rory.kirchner@gmail.com,Make sam to sorted bam conversion non private.,2015-02-06T20:10:48Z,roryk
5f63166881c3aefc7282053bf8dabf5d43a7e4da,chapmanb,chapmanb@50mail.com,Remove extra 'none' sample when calling tumor-only samples using MuTect. Harmonizes headers with other tumor-only callers and enables tumor-only ensemble calling. Thanks to @mjafin,2015-02-06T15:55:39Z,chapmanb
b9ff1766e1e4baee5e702af64d8d927c85d273e8,chapmanb,chapmanb@50mail.com,Add slides for PGSG presentation,2015-02-06T10:53:58Z,chapmanb
54bb7ee9099036110a75561ef7e63243d79a13b7,chapmanb,chapmanb@50mail.com,"Update contributors list, including up to date affiliations for core",2015-02-06T09:05:12Z,chapmanb
6c64d5ec81c84de8390096b79d8c869aef80045d,Lorena,lorena.pantano@gmail.com,sort by name before eXpress cmd,2015-02-05T20:33:14Z,lpantano
65e7fe3dbd6593a0ffbfa7d7a77ff702c706b232,chapmanb,chapmanb@50mail.com,Use samtools sorting instead of sambamba during alignment and de-duplication to avoid extra steps (thanks to @ssaif @mjafin),2015-02-05T17:35:36Z,chapmanb
b1c00b7751eecdad34f0dbbee62d4a3806fa3970,chapmanb,chapmanb@50mail.com,Ensure S3 inputs download locally prior to doing fastq preparation to avoid issues with streaming to bamtofastq. chapmanb/bcbio-nextgen#744,2015-02-05T15:33:11Z,chapmanb
64dc0fbe75daf60d1558696b80685ffa76f6e116,chapmanb,chapmanb@50mail.com,Ensure S3 inputs download locally prior to doing fastq preparation to avoid issues with streaming to bamtofastq. chapmanb/bcbio-nextgen#744,2015-02-05T15:32:59Z,chapmanb
de6d96bdc3dfd28febfc15e040c16632ed663883,chapmanb,chapmanb@50mail.com,Document MacOSX support for AWS and start moving towards use of Docker instead of raw VirtualBox,2015-02-02T10:31:37Z,chapmanb
2e0a46f695e2ae50bc53dcf0b3a23bd495a38d7f,chapmanb,chapmanb@50mail.com,SV calling: Do not use exclude files in validation since previously handled in ensemble filtering; better matches validation to raw output. Remove single stray breakends from ensemble output,2015-01-30T10:36:24Z,chapmanb
fe25af74f834264bc42ee51104dd93974d62034b,chapmanb,chapmanb@50mail.com,SV calling: exclude ends found in repeat regions which contribute to a large percentage of false positive calls when validated against DREAM synthetic 3 dataset,2015-01-30T08:44:09Z,chapmanb
6a7812a2b2525ce55f03ad4da2d8ac3e5d7411ed,Lorena,lorena.pantano@gmail.com,only add rnaseq variant calling file if it's done,2015-01-29T19:39:20Z,lpantano
32d9b55023fa5a997b9641779fc551cbba02bc4b,chapmanb,chapmanb@50mail.com,Update WHAM to use breakends and support validation of breakend data as support for other caller events,2015-01-29T16:36:28Z,chapmanb
c6c6c8165ef6ee59283192780ad5453ddd00ec64,chapmanb,chapmanb@50mail.com,Ensemble validation: handle new 'sv-ensemble' name. Generalize ploidy for converting CNVs to deletions/duplications,2015-01-29T10:53:23Z,chapmanb
e196c5aa26f6bd7a2b7fb8a53dabe2f2b85e87db,roryk,rory.kirchner@gmail.com,"Fix for transcriptome mapping with bowtie2.

Set the single-end flag properly when mapping to the transcriptome
with bowtie2. Thanks to @druvus for the report and finding the
solution. Fixes #739.",2015-01-28T16:47:36Z,roryk
02f56ca9d555c2dc9c664d9aa065830f3a0a6321,chapmanb,chapmanb@50mail.com,"Split and re-calculate effects for multi-allelic variants prior to insertion in GEMINI, which only handle bi-allelic inputs. Fixes #700",2015-01-28T09:19:08Z,chapmanb
f7f492b3a295dc57d12dfff8ab1db0f253d4b663,chapmanb,chapmanb@50mail.com,Remove debugging stop,2015-01-27T20:40:58Z,chapmanb
fc5eae60b0789a6c2b495e1ee51efbb7787c48ca,chapmanb,chapmanb@50mail.com,Generalize calculation of effects to provide a single callable function. Enables use when splitting out multiallelic variants (#700),2015-01-27T20:28:26Z,chapmanb
765cb35c7646a39c807f7092ff4c14f8d181a70e,roryk,rory.kirchner@gmail.com,Bump ipython-cluster-helper version to 0.3.9.,2015-01-27T18:10:53Z,roryk
861ade7f0aa65529d08c80032b02b6f52ec67ecc,chapmanb,chapmanb@50mail.com,Avoid annotating VarDict calls with GATK due to intermittent issues with large files. Thanks to @mjafin,2015-01-26T22:41:34Z,chapmanb
89ec94d9cd39fa7936491e319c3339c8fd13d755,chapmanb,chapmanb@50mail.com,Resolve local scratch space specified with environmental variables. Fixes #733,2015-01-24T11:40:41Z,chapmanb
86fa577afc5b02cb7f1b16683211aa26a04a0654,chapmanb,chapmanb@50mail.com,Correctly handle cn_mops output when filtering ensemble calls. Fixes #732,2015-01-24T10:41:37Z,chapmanb
31141d5f47fb1790123c1fc2183da318013a3ced,chapmanb,chapmanb@50mail.com,Add slides for talk at Good Start Genetics,2015-01-23T10:41:54Z,chapmanb
97060a79fe3dc82fb7cf7953495d52f0ba8c40ad,chapmanb,chapmanb@50mail.com,Avoid errors when setting recalibration without available dbSNP resources. Thanks to Piet Jones,2015-01-21T16:33:49Z,chapmanb
252f2a2b0e57abb662aa3f42f4a49a3c468cfb70,chapmanb,chapmanb@50mail.com,Cleanly handle poorly mapped genomes when calculating high depth regions,2015-01-21T13:18:07Z,chapmanb
eee3a9987f2b39cd923b7206b977408738e0409d,chapmanb,chapmanb@50mail.com,Improved resiliancy and feedback when poorly sequenced samples have no callable blocks,2015-01-21T10:44:54Z,chapmanb
fbf1bf8d852751e12a63ffb611d7a619ce52bd67,roryk,rory.kirchner@gmail.com,"Move squared RNA-seq variant file to the upload dir.

Some naming fixes as well.",2015-01-20T01:18:27Z,roryk
3a715b94e3ff3a5bceac58db5f514cbb1dbc09ed,chapmanb,chapmanb@50mail.com,Update bcbio cloud documentation to match unified commandline interface from @jwm. Now uses command line to avoid manual editing of configuration files,2015-01-19T17:58:38Z,chapmanb
5649581c1ef61302b32366f015146b3afa7b6d36,chapmanb,chapmanb@50mail.com,Use most common core specification in configuration for mincores argument rather than full machine size. Better default for busy machines. Thanks to @mjafin,2015-01-19T10:50:47Z,chapmanb
05000d29a260644d13d3d09ee5f64f6a625bef10,roryk,rory.kirchner@gmail.com,Do incremental joint variant calling for RNA-seq,2015-01-18T20:52:42Z,roryk
5066f5deefc1b1abcfef91e1e007eb7fed3019c5,chapmanb,chapmanb@50mail.com,Limit ensemble SV calls to remove extremely high depth regions. These are false positives due to excessive repeat coverage,2015-01-18T12:12:19Z,chapmanb
5b77ccb661e8e6e12bd5e69277b52cd3dc20900b,roryk,rory.kirchner@gmail.com,"Add isoform_to_transcript table to eXpress output.

This file is necessary to run EBSeq.",2015-01-17T19:30:19Z,roryk
fc776abce51b0cd8a69e9d874bc3eae528a2cc06,chapmanb,chapmanb@50mail.com,Avoid passing ploidy unless using GATK 3.3 which supports ploidy-based calling. Thanks to Severine Catreux,2015-01-17T18:53:52Z,chapmanb
214f00dc35810f329fb693f1274b468414a9b1df,chapmanb,chapmanb@50mail.com,Call CNVkit background SVs using the inputs as background: avoids false positive background-only calls that are due to inconsistent coverage across a region,2015-01-17T18:38:14Z,chapmanb
647d09b3028f5660d1a4df7880b66bdd8582f201,chapmanb,chapmanb@50mail.com,Identify genomic regions in windows with very high depth (20x the median depth) as targets for filtering in structural variation calls,2015-01-17T11:49:05Z,chapmanb
e05efc2f6cbec6618805684f1dd72afa138780ce,roryk,rory.kirchner@gmail.com,Allow disambiguate to use a single genome not in a list.,2015-01-16T20:29:35Z,roryk
552566ed653c3de668562ab3cb483bd5c49138c4,roryk,rory.kirchner@gmail.com,"Make templating system able to handle quoted lists.

Setting fields like ""hg19,mm9"" will add that to the YAML file
as a list of two items now.",2015-01-16T20:28:26Z,roryk
2a1b6f6a3b6b144d143744d50c225fec9925cbe5,roryk,rory.kirchner@gmail.com,Swap to datadict abstraction.,2015-01-16T19:09:42Z,roryk
e0888c0cfd0f32f3ffc3a475e2879ac9566e32b6,roryk,rory.kirchner@gmail.com,Fix combining the eXpress gene/isoform quantitation.,2015-01-16T19:00:00Z,roryk
aa4e25eb57911a3ea034164af203b1a05b0af22e,roryk,rory.kirchner@gmail.com,"Remove unnecessary aligner parallel setup.

The first setup was setting up a cluster for an aligner, doing
nothing with it and taking it down. Thanks to @lpantano for
noticing the bug.",2015-01-14T21:47:41Z,roryk
e63a046b6c84a186aa0d508e205bbb83c8a245a3,chapmanb,chapmanb@50mail.com,cn:mops -- Catch errors on chromosome Y females with low coverage and report no variants. Fixes #604,2015-01-14T15:19:15Z,chapmanb
2b740be93c11ae9259fdcf7238f2efa531b0eb54,roryk,rory.kirchner@gmail.com,"Add full path to galaxy .loc files.

Also handle instance where .loc file is not found.",2015-01-13T16:34:33Z,roryk
84620b6296a7d825b4e786be6a8172c5a3839696,chapmanb,chapmanb@50mail.com,Improve flexilibility of ensemble calling for external calls,2015-01-13T14:46:32Z,chapmanb
7f5a651207f4cda786623a29ead570a3f0a005f6,chapmanb,chapmanb@50mail.com,Document requirement for ruby irb. Thanks to @mjafin,2015-01-13T14:46:02Z,chapmanb
f8b6c64cb491e3ee3cdf1c73e4795c91cb999e99,chapmanb,chapmanb@50mail.com,"Pass ploidy to GATK HaplotypeCaller, requires GATK 3.3. #722",2015-01-12T11:38:31Z,chapmanb
164b1a1abacc85fd166f73f09cd1c3299f491b87,chapmanb,chapmanb@50mail.com,"Support snpEff 4.1, including upgrading databases from previous snpEff versions",2015-01-12T10:42:02Z,chapmanb
5684306342339213cd4a4fbb4cfff654e4ad3c9d,chapmanb,chapmanb@50mail.com,Documentation: emphasize use of majority rule ensemble approach over older approach,2015-01-12T09:41:43Z,chapmanb
9c88f7a578e8a39a153fbe22d29938105ddb649c,chapmanb,chapmanb@50mail.com,Update exome example configuration: use majority vote ensemble approach and use samtools 1.x instead of UnifiedGenotyper.,2015-01-11T12:02:29Z,chapmanb
17a98f79f060e6359d46576516e010c74a4dd5c4,chapmanb,chapmanb@50mail.com,v0.8.5 release,2015-01-11T11:24:56Z,chapmanb
ef4a45bfc5ffb0632597728ac936c352a00a7338,chapmanb,chapmanb@50mail.com,cnvkit: ensure background samples also get calls and provide better splitting of larger regions resolved with CNVkit,2015-01-11T01:26:00Z,chapmanb
f50109714863242a63c113374d32c460a6f28af6,chapmanb,chapmanb@50mail.com,"Support new sambamba indexing with 0.5.1, which does not have explicit specification of the output index",2015-01-10T20:37:18Z,chapmanb
a51331cd554017999f46c806e5d5d75004e0dedc,chapmanb,chapmanb@50mail.com,Remove redundant -1 flag to snpeff which is now handled by '-i vcf' and isn't supported in recent versions,2015-01-10T09:50:20Z,chapmanb
b1fcc43c9add2e4392e316b9c3ee19fb58813502,Brad Chapman,chapmanb@50mail.com,"Merge pull request #718 from curoverse/master

Add bsdmainutils package to install 'hexdump'",2015-01-09T16:06:45Z,chapmanb
2a5cfa8c3a1d540bb2f2e66f51835042195cbc87,Peter Amstutz,peter.amstutz@curoverse.com,"Add bsdmainutils package to install 'hexdump' which is required to build
openssl package used by anaconda.",2015-01-09T15:17:50Z,N/A
a2dab3dc840156426e44a95997de0a6d03ec9876,roryk,rory.kirchner@gmail.com,Fix mapping quality typo.,2015-01-08T02:02:51Z,roryk
2762920868db1aa28b747e8e81d18b66f262bf38,roryk,rory.kirchner@gmail.com,Move data dictionary updating to separate function.,2015-01-08T02:02:51Z,roryk
cf66cea237037a6d2d98851ce46d821abc965fd8,chapmanb,chapmanb@50mail.com,"CNVkit structural variant calling: call as separate executable to avoid errors when run distributed. Convert to FreeBayes compatible BED cnvmap output, and use in ensemble calling",2015-01-07T11:05:52Z,chapmanb
149ed1317a8259469f4b7b7c26a01c1056cf5367,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2015-01-06T17:01:32Z,roryk
f543067d841281efc9b94379390630406b040a5c,roryk,rory.kirchner@gmail.com,Update with RNA-seq variant calling and fixes.,2015-01-06T17:01:08Z,roryk
25bc5f6b5a5b48f5411a9ff11cb9ecaf59870d42,roryk,rory.kirchner@gmail.com,Allow SplitNCigarReads to handle Illumina 1.3-1.5 quality scores.,2015-01-06T15:49:35Z,roryk
dee347f50cdcb56db299000b0d1e7ee5ed3232c2,roryk,rory.kirchner@gmail.com,Properly memoize the transcriptome BAM file during STAR alignment.,2015-01-06T15:49:34Z,roryk
8ee61d2196637d4baa9c9ad7f970634c568ee010,chapmanb,chapmanb@50mail.com,Structural variant WHAM calling: improve precision for tumor/normal case/control calls using likelihood ratio test scores,2015-01-06T10:56:30Z,chapmanb
cefb3ba3b0bdc237b4baf006d83aaa7d2e78bbf3,chapmanb,chapmanb@50mail.com,Structural variant ensemble calling: improve precision for smaller calls by requiring supporting evidence for 2 callers if we use 3 or more input callers,2015-01-06T10:52:35Z,chapmanb
cb97e10d2ee50983713d65e77690067779f3e731,chapmanb,chapmanb@50mail.com,Update vcffixup usage to match stdin changes in latest development vcflib. Thanks to Craig Bohrson,2015-01-05T11:10:35Z,chapmanb
688bf609d651bfb297bee10325a56800213eeab9,roryk,rory.kirchner@gmail.com,"Enable bowtie2 transcriptome mapping.

Disable STAR transcriptome mapping for versions that it is broken.",2015-01-05T01:24:19Z,roryk
ac59ab7257214a90c9329eb88c30bc309a6b90b5,chapmanb,chapmanb@50mail.com,Revert parallelization of callability which causes deadlocks. Correctly tackle underlying speed issue by saving temporary file when doing filtering over nblock regions,2015-01-04T17:11:56Z,chapmanb
a20df2742eb6ba07970aa3a645d61817c1ec3958,chapmanb,chapmanb@50mail.com,Generalize overlap with low complexity/problem mapping regions when evaluating SVs: emphasize removal of smaller variants,2015-01-03T11:19:18Z,chapmanb
48b727552f5c943b140d66e7c1d0dd5eff7754cd,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2015-01-03T05:00:31Z,roryk
e8828fcf8a0b10c496682d39dc3c2c1a4c69f466,roryk,rory.kirchner@gmail.com,Add bowtie2 support for transcriptome mapping.,2015-01-03T04:59:43Z,roryk
6942ec2d3efe1c510864bc49d52bf255f4ad242e,chapmanb,chapmanb@50mail.com,Parallelize calculation of merged callable regions over multiple cores to handle samples with large numbers of batches,2015-01-02T12:18:36Z,chapmanb
89a0688b910ce3be10a9e8c7167ad615a0f01c91,chapmanb,chapmanb@50mail.com,Delly: avoid downsampling to get high sensitivity. Filter reads with zero mapping quality based on lumpy SV paper assessment approach and to save time,2015-01-02T11:16:07Z,chapmanb
7a62297336e290854fca11496cab52dcaf652791,chapmanb,chapmanb@50mail.com,Provide better size ranges for validating structural variants,2015-01-01T18:51:05Z,chapmanb
7739f85609f07bf3ffa69f653cb410e7bce69b88,roryk,rory.kirchner@gmail.com,"Convert fastq files to phred+33 quality for transcriptome mapping.

bwa mem can't handle phred+64.",2015-01-01T15:05:50Z,roryk
fc9f49f34329b6dd2c7602d9d5c7cb625426d631,roryk,rory.kirchner@gmail.com,Swap FASTQ quality grooming to use seqtk.,2015-01-01T03:06:58Z,roryk
2caac12d4b86d0055b32694e2f87a581fbfa948b,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-12-31T04:15:22Z,roryk
fee04003d1fc24610d7423ac0cc25c727dee2b0d,chapmanb,chapmanb@50mail.com,scalpel: improve runtimes in repetitive regions by setting lower pathlimit. Improve sensitivity by increasing chi squared filter to latest recomendation,2014-12-30T21:48:56Z,chapmanb
3465551ba5360e924491188830a3d2250049965d,chapmanb,chapmanb@50mail.com,Fixes for uploading structural validations split by type,2014-12-30T10:26:49Z,chapmanb
721196c29ee35cef97c17bf8b40e9b8d2ffed79b,roryk,rory.kirchner@gmail.com,"rename item -> data here, to be consistent.",2014-12-29T22:20:53Z,roryk
49190d33689f154117d7d7c9db00358e29d76f6e,chapmanb,chapmanb@50mail.com,"Improve structural variant validation: handle plots for multiple event types, skip size plots if not data in region and generalize WHAM validation support",2014-12-29T20:50:45Z,chapmanb
d1474194e4e166d92f77af021a918bdadc2564b7,roryk,rory.kirchner@gmail.com,Convert transcriptome BWA alignment to BAM format.,2014-12-29T14:58:28Z,roryk
843265ea5c0efffa4abe9bf9f1b2e2cfcc73c519,chapmanb,chapmanb@50mail.com,"Handle case/control setups for WHAM and CNVkit, setting controls as background within a batch",2014-12-29T10:26:57Z,chapmanb
e172b96d1d374079cbd0f10475f4cd4b915745e5,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-12-29T03:06:18Z,roryk
7c48f99f04453755b09545dcc7ab42d3f112ec4f,roryk,rory.kirchner@gmail.com,"Filter out repeated transcripts properly.

Some malformed GTF files can have multiple transcripts with the
same name, which breaks downstream tools. This keeps just the first
one.",2014-12-29T03:04:38Z,roryk
6991ab994707fd63c0b8b7ad91da21724aa4d093,chapmanb,chapmanb@50mail.com,Initial exploration of sambamba for CRAM support and investigate inclusion of non-paired inputs in regional extraction,2014-12-29T02:30:29Z,chapmanb
09f6203c0f8b8fcdd1f0438f6eeef309dfe0a98d,chapmanb,chapmanb@50mail.com,Avoid scheduling large number of mincore jobs when few total cores requested. Thanks to @roryk,2014-12-28T17:44:49Z,chapmanb
c2b65398890c9ebbb43ba11409051a13903da9f2,roryk,rory.kirchner@gmail.com,"Actually fix DEXSeq and eXpress parallelization.

We weren't passing max_multicore before.",2014-12-28T04:32:25Z,roryk
51cbf42c5fdc6571ed33580258e1d4bf1522e1ca,roryk,rory.kirchner@gmail.com,"Add variant calling from STAR-aligned RNA-seq data

Uses haplotype caller, following the Broad's blog post:
http://gatkforums.broadinstitute.org/discussion/3891/calling-variants-in-rnaseq",2014-12-27T21:11:36Z,roryk
5d411f152e61c14315c401bc62307406b797b82a,roryk,rory.kirchner@gmail.com,Fix transcript skipping message.,2014-12-27T17:39:18Z,roryk
1349a4bf6dd501a0174d9ce8a5fb6de52fa018ea,roryk,rory.kirchner@gmail.com,"Fix outdated information about the RNA-seq workflow.

Thanks to @kspham for pointing out the discrepancies.",2014-12-26T16:09:44Z,roryk
5527607ed34ae992d113cf8793db08240b0ea015,chapmanb,chapmanb@50mail.com,"Prioritization: reduce cutoff for population exclusion to reduce extra calls. Add in fitcons as potential filter, but not useful to reduce extras based on initial attempts",2014-12-25T20:23:20Z,chapmanb
ad388a863635060bf585f6c7404b1f7d1f330c4b,roryk,rory.kirchner@gmail.com,Swap eXpress and DEXSeq to update the data dictionary in place.,2014-12-25T16:09:07Z,roryk
382c4fdeb312d0821484abd13f9cab7058080344,roryk,rory.kirchner@gmail.com,"Add options to eXpress to control where the output goes.

Cleanup of unused imports.",2014-12-24T19:59:22Z,roryk
32e9a8733066d791a155873287a5c4ce6f07ba46,chapmanb,chapmanb@50mail.com,Handle prioritization on GRCh37 runs. Retrieve population frequencies including individual sub-population frequencies,2014-12-24T10:39:42Z,chapmanb
69f634ea3bb8f87c572511c4e6f256e00f65db71,roryk,rory.kirchner@gmail.com,Fix typo.,2014-12-24T00:57:34Z,roryk
74d2c0643a2f074c00f7e436b7f99ae941fc1e1f,roryk,rory.kirchner@gmail.com,Add missing logger import.,2014-12-24T00:55:00Z,roryk
a67965f4427bda3a85757a8e68e30a6522c46746,roryk,rory.kirchner@gmail.com,Fix whitespace on logging message.,2014-12-24T00:55:00Z,roryk
33d00ea14724ac3a38d7a3a7cd71d4e1fa62a5de,chapmanb,chapmanb@50mail.com,Restore bwa size checks. Typo fix. (From ddf4187d475),2014-12-23T20:19:19Z,chapmanb
988490b7a0d27fbc0ceb22018476413dd846fe5b,chapmanb,chapmanb@50mail.com,"Support WHAM 1.7.0 output, handling BED conversion directly to avoid multiple chains of resposibility",2014-12-23T19:19:10Z,chapmanb
0a16ab1eee2fa166c670fa983151021e90b0c994,chapmanb,chapmanb@50mail.com,Fix population database preparation when some called outputs have no variants,2014-12-23T19:19:10Z,chapmanb
f9ae3f17ef32889058b213650140c92868899962,chapmanb,chapmanb@50mail.com,Fix batching problem when coverage and multiple shared batches used. Fixes #702. Fixes #701,2014-12-23T19:19:10Z,chapmanb
6e948288dd11ca9967fe4bd3089551eeeb0539cf,roryk,rory.kirchner@gmail.com,"Skip transcriptome alignment with STAR for versions <= 2.4.0h1.

As of 2.4.0h1, this is broken on some genomes, so skip it and fall
back to the bwa-mem alignment instead.",2014-12-23T17:37:47Z,roryk
4fe770cc1343f8e1a3f3fab1771bad13eb94df7a,roryk,rory.kirchner@gmail.com,Add rsem=True to the RNA-seq integration tests.,2014-12-22T23:28:16Z,roryk
2f45b8e1d33b410e52edfda4fbf6b2e0a06d99b9,roryk,rory.kirchner@gmail.com,"Generate transcriptome-mapped reads on the fly.

Also generates the transcriptome reference file if it does not exist, filtering
out the erroneous transcripts by skipping them if we have already seen them.
This is a relatively cheap operation and lets users use this functionality without
updating the genome files.",2014-12-22T23:28:16Z,roryk
4005da198e3e8baa2e104e5db692c8086c007a71,roryk,rory.kirchner@gmail.com,"Update the data dictionary in place when aligning with STAR.

This lets us put the transcriptome-mapped reads in the datadict
directly, instead of handling it later.",2014-12-22T23:28:16Z,roryk
ddf4187d475b03d1ece368f40fb641f599d9afde,roryk,rory.kirchner@gmail.com,"Index the transcriptome and align to it with bwa-mem.

This is a bailout strategy for programs needing the transcriptome-aligned
reads right now, but could be used for a super-fast RNA-seq implementation.",2014-12-22T23:28:16Z,roryk
4f87a38b9c56d1027504ccf3046f721e16a1dbc1,roryk,rory.kirchner@gmail.com,Move grabbing input FASTQ/BAM files to the datadict module.,2014-12-22T23:28:16Z,roryk
d209b734206111fec8a15cd6cd8b08861b7e1472,chapmanb,chapmanb@50mail.com,Support vrn_file inputs passed as a single member list,2014-12-22T16:55:31Z,chapmanb
7bc4062fa21f5826bd9c693c01931cd27ce16ad9,chapmanb,chapmanb@50mail.com,Support prioritization when tumor-only samples not marked with a batch,2014-12-22T10:23:58Z,chapmanb
76a3ff08b30b17d5f3b546d85157789ed76b3644,chapmanb,chapmanb@50mail.com,Support ability to have pre-called variants fed into bcbio for effects prediction and creation of a GEMINI database. Thanks to Yuri,2014-12-21T23:40:28Z,chapmanb
57359dc61b492aa2d0ca2b95d33ff44c486fb6f3,chapmanb,chapmanb@50mail.com,Scale required cores for variant calling by number of configured callers in addition to regions,2014-12-21T10:23:18Z,chapmanb
ad16ac70ad74716355569822cfddb4036941abfa,Lorena,lorena.pantano@gmail.com,fix return values when sysinfo is empty,2014-12-20T01:34:33Z,lpantano
310c9b02c00dc4e01de5382d92db1d32c58d2eb7,roryk,rory.kirchner@gmail.com,"Parallelize DEXseq and eXpress properly.

These are single threaed programs, so tear down the run_parallel
environment before running these and set up a non-threaded run_parallel
environment.",2014-12-19T19:28:03Z,roryk
f90cc79acdc7d375acbd429cfc7f6183d8c6c376,chapmanb,chapmanb@50mail.com,Ensure report functionality is still a generator,2014-12-19T14:40:30Z,chapmanb
7178ac1bcd0e1af45c610e2076b64cccd535a1b3,Brad Chapman,chapmanb@50mail.com,"Merge pull request #703 from jwm/profile_cruft_removal

cruft removal",2014-12-19T00:01:08Z,chapmanb
6202e4c3422a7f027a0b5c24880e7ff5c0bee4af,John Morrissey,jwm@horde.net,cruft removal,2014-12-18T19:20:13Z,jwm
6dfd798512ad170984da626ca7b1065e02f12d6d,Lorena,lorena.pantano@gmail.com,"add strandness to express

rm tmp dir",2014-12-18T18:38:05Z,lpantano
38413e64a65c9a2fd655075a0c53dd94419d58d4,chapmanb,chapmanb@50mail.com,Handle edge cases in calculating frequency for prioritization and do not pull in as many positives with COSMIC/Clinvar support by excluding those with multiple negative sources,2014-12-18T12:36:13Z,chapmanb
a60e740466d4a6479cb52adca5ae37a135091cad,chapmanb,chapmanb@50mail.com,Do not use extra gunzip when file input fed through seqtk for conversion from illumina to standard quality values. Fixes #699,2014-12-17T16:11:24Z,chapmanb
06f552b57dde2aab510a90f4db5f5985956acc6a,chapmanb,chapmanb@50mail.com,Avoid loading snpEff databases when not needed for downstream analysis. Improved RNA-seq and VEP-only analyses,2014-12-17T11:21:17Z,chapmanb
bc402276d58b70f9b597b7ba543e236f2674e448,chapmanb,chapmanb@50mail.com,Update tumor-paired cancer template,2014-12-17T10:33:15Z,chapmanb
6fefd4ef1f30fb43f46a3326eff8e3254f9df36a,chapmanb,chapmanb@50mail.com,"Initial tumor-only prioritization approach: filter calls found in global populations, prioritize calls in known cancer databases and with high impact changes",2014-12-17T10:25:09Z,chapmanb
a0a0400a7aae18469a82a962da2030166197360e,chapmanb,chapmanb@50mail.com,Ensure problem Lumpy calls cleaned prior to sorting to ensure valid VCF goes into GATK/bcbio.variation post processing. Fixes #678,2014-12-16T20:11:31Z,chapmanb
23b84eced361d8be257f5b58d250c2c7af1a9d62,chapmanb,chapmanb@50mail.com,Ensure remote S3 files are correctly bgzipped when converting from illumina quality format. Thanks to Yuri,2014-12-16T18:32:57Z,chapmanb
d1e046c41bdf1985e24673c7e90a46d6c0ed9c5a,chapmanb,chapmanb@50mail.com,Document naming restrictions for S3 buckets and simple interactions through SSL,2014-12-16T16:44:00Z,chapmanb
c94795ea569ed85b7501c1d96286b015da188798,chapmanb,chapmanb@50mail.com,Framework for variant prioritization and filtering based on external annotations: provide full annotating and filtering based on external data,2014-12-16T14:23:58Z,chapmanb
5b55f11a4a5b9d8c61e99a60f81943124633be13,chapmanb,chapmanb@50mail.com,Allow mixing joint and batched calling in a single configuration. Fixes for uploading joint called results. Thanks to Zhengqiu Cai,2014-12-16T01:47:21Z,chapmanb
8fdc7d5d8766aae0fd9730a0d5a56496a91a58d7,chapmanb,chapmanb@50mail.com,Explicitly log in UTC and use iso8601 time output. Fixes chapmanb/bcbio-nextgen-vm#46,2014-12-15T16:31:03Z,chapmanb
ac40a7eb573a166b329f5ce60e09d3d16ae40914,chapmanb,chapmanb@50mail.com,Initial framework for variant prioritization to use in tumor-only calling. Create GEMINI database of tumor-only calls to use for retrieval of external metadata for each variant.,2014-12-15T11:46:28Z,chapmanb
84a77ddab0eaa2614bc4ba42f5d66c8e557f7ea5,chapmanb,chapmanb@50mail.com,Improve documentation on AWS SLURM and add details about running monitoring graphs locally,2014-12-13T11:18:55Z,chapmanb
9eff734c215574548c51154f804e30eca1ab622f,Lorena,lorena.pantano@gmail.com,change qsnp memory limit,2014-12-12T22:40:15Z,lpantano
fb1edf220526efbdc567addfaddfb62cb9fb4e77,Lorena,lorena.pantano@gmail.com,fix merging fastqs when only 1 file in the list,2014-12-12T18:22:43Z,lpantano
4b7983591a62292ca20f1b32a389e72be7bfc869,chapmanb,chapmanb@50mail.com,Correctly summarize ensemble structural variant calls when calls not found within size range. Thanks to @kspham for test data. Fixes #685. Fixes #687,2014-12-12T16:33:39Z,chapmanb
1f89c4bb7879f47c975fe2e5b83233298d251bf4,chapmanb,chapmanb@50mail.com,"Cloud documentation improvements: using folders within S3 buckets, graphing and preparing resource usage for a run",2014-12-12T14:36:59Z,chapmanb
4281c722009b265bec6306feaa231eb8170251e8,chapmanb,chapmanb@50mail.com,Avoid overscheduling single core memory by avoiding use of system memory parameter for each core. Reduce allocated system memory to make better use of available cores and memory,2014-12-11T18:23:16Z,chapmanb
32b7c4815a0cba27b4d3d14dd491e96358a77d88,Brad Chapman,chapmanb@50mail.com,"Merge pull request #688 from lpantano/upstream

Add qsnp to paired tumor/normal samples",2014-12-11T16:26:25Z,chapmanb
def0927a9d17b4fbf6b76e5a48e0f5879462d815,chapmanb,chapmanb@50mail.com,Resource allocation fixes: Avoid over-committing mincores when cores previously scaled due to memory constraints. Thanks to @lpantano. Provide more resolution of memory to avoid overscheduling on completely full memory runs. Thanks to @jwm.,2014-12-11T14:30:39Z,chapmanb
37ea7785174f5f3531ed5dd2a512369b76b077b1,roryk,rory.kirchner@gmail.com,"Remove stray spaces from tokens in genome reference file.

Fixes #691.",2014-12-10T20:43:05Z,roryk
1b7057ea61f8139117ed818e5296df4bd206f4de,chapmanb,chapmanb@50mail.com,Provide more useful error message when genome not available and cannot connect to S3. Fixes #690,2014-12-10T19:12:17Z,chapmanb
3663620f741cd47af392afb14bf15f6323f46e6e,roryk,rory.kirchner@gmail.com,Update ipython-cluster-helper to 0.3.8 with helpful debug message.,2014-12-10T15:49:40Z,roryk
1cea273c3e404db1448c0237ba20f50c91f9c4dc,roryk,rory.kirchner@gmail.com,"Upgrade ipython-cluster-helper version to 0.3.7.

This has a fix in it to work on SLURM setups where there is
an account, but the user is not assigned to it and SLURM is
set up to not need an account passed to it.",2014-12-09T20:20:06Z,roryk
c6b9bbac73d197a55262294b90e5bde4d2eadbb6,chapmanb,chapmanb@50mail.com,Provide automated download of GEMINI on AWS instances when used for processing. Thanks to Yuri for report,2014-12-09T14:10:37Z,chapmanb
cb8a1f776da066d7247dd095e91b7e5145844202,chapmanb,chapmanb@50mail.com,Allow batching of pre-called variants with analyzed samples for validation. Uses identical callability regions across comparison to make pre-called and called directly comparable,2014-12-09T11:28:45Z,chapmanb
1d18d64dfc0bc60f8a3ba28cc763d1ac9409e257,chapmanb,chapmanb@50mail.com,Download S3 files prior to alignment to avoid errors when streaming large files directly into bwa,2014-12-08T20:57:15Z,chapmanb
d96c8c423efcbcd9b181ad79db3dde96cf58a4bb,Lorena,lorena.pantano@gmail.com,fix working directory when running qSNP,2014-12-08T16:32:52Z,lpantano
1af8a59586dc2884ef553358032c28fe226e661b,Lorena,lorena.pantano@gmail.com,"add filters to get correct mutations and correct FILTER/INFO fields

Add filters to get correct VCF",2014-12-08T16:13:35Z,lpantano
b266c79300743bee139ee8b09cbf6987b7725abb,Lorena,lorena.pantano@gmail.com,raise error if no paired data,2014-12-08T16:12:51Z,lpantano
6e26cb04b3502145f679b42d49ed9e04535e0c83,Lorena,lorena.pantano@gmail.com,"get qsnp running

parse vcf output since not all fields are in the header",2014-12-08T16:12:24Z,lpantano
2730be6c3ddf483e4528346bd96b7a77372ad4de,chapmanb,chapmanb@50mail.com,Keep genotype information with vcfallelicprimitives since output with mult-allele MNPs does not have same issues as INFO fields. Bug fixes for previous updates for checking input variation files,2014-12-08T16:08:27Z,chapmanb
352dfec914e223cf5304d5678aad60830738d9c8,chapmanb,chapmanb@50mail.com,Avoid fastq quality format checks for streaming remote inputs. Be more agressive with memory usage during alignment to make use of available resources,2014-12-08T11:31:09Z,chapmanb
d1e8bb3899435973784d86b59725438c56d29f33,chapmanb,chapmanb@50mail.com,Enable streaming of files from buckets without access permissions. Fix for getting HiSeq X Ten data,2014-12-08T03:28:17Z,chapmanb
6d7f611a991c6eb66a5d79341a9fd340764816c8,chapmanb,chapmanb@50mail.com,Avoid requiring gof3r for template based upload back to S3. Thanks to @mjafin,2014-12-08T02:13:32Z,chapmanb
1f4b6921b0af24dcb73823586d46431e9c204b74,chapmanb,chapmanb@50mail.com,"Support pre-created variation files as S3 inputs for validation, with automatic import and tabix preparation",2014-12-07T10:42:38Z,chapmanb
caca6b1f27494f11f35dbb28cb1b0bf8e7b4fe3d,Lorena,lorena.pantano@gmail.com,"Add eXpress support.

http://bio.math.berkeley.edu/eXpress/overview.html",2014-12-07T07:04:56Z,lpantano
94e36de1c86a413a7316a482c7594b95e9324085,roryk,rory.kirchner@gmail.com,Fix for not uploading the combined files at the end of a RNA-seq run.,2014-12-07T03:15:44Z,roryk
442dee4807487d262ce6c35e0eb23e7c30bed72d,chapmanb,chapmanb@50mail.com,"Do not keep INFO and FORMAT fields when splitting complex alleles, reverting previous change introduced in v0.8.3. vcfallelicprimitives produces invalid VCF fields not resolved by vcffixup and will take more to include in the future. Fixes #679. Fixes #675",2014-12-05T18:33:48Z,chapmanb
bbbc6a101d40adb1a47e79c3fbd6aa0da09d36f6,chapmanb,chapmanb@50mail.com,"Allow use of pre-aligned input files into lumpy, assuming correct bwa-mem alignment. Fixes #682",2014-12-05T15:20:56Z,chapmanb
b4b6500c8230bc15e9252e905cd747000fad54ce,chapmanb,chapmanb@50mail.com,Move disambiguation split work inside parallel framework so download and preparation occurs on worker nodes or inside Docker containers. Enables on demand download of disambiguation genomes.,2014-12-05T12:48:49Z,chapmanb
3d7af230942eb0f4fbb0073a37e6758c958e10a1,chapmanb,chapmanb@50mail.com,Alternative fix for problem LUMPY calls with no reference allele -- convert to Ns instead of dropping. #678,2014-12-05T00:48:52Z,chapmanb
b8686e6b170c4c14c8cff35784b5d89eab4c6d82,chapmanb,chapmanb@50mail.com,Update move instead of copy to work around issue on some filesystems. Fixes #677,2014-12-04T15:07:11Z,chapmanb
3f443a47f4452d7782bb318922e22eb5a0e49e76,chapmanb,chapmanb@50mail.com,Remove problem calls in output LUMPY VCF with empty alleles. Fixes #678,2014-12-04T14:48:03Z,chapmanb
da3578aa58c10e98d524d1c7af156c8faa4b921a,chapmanb,chapmanb@50mail.com,Avoid using bam_index_build2 (BAM indexing with specification of output bai file) since not supported in samtools 1.1 (samtools/samtools#199). Fixes #653,2014-12-03T02:14:01Z,chapmanb
e1d51be4e0d2b46ada7cac0e7fbba57dbb2efd87,chapmanb,chapmanb@50mail.com,Avoid passing exclude file for LUMPY SV calling if empty. Fixes #676,2014-12-02T18:53:48Z,chapmanb
b5cd77db99cbe2053733e04cc78fbf92257ec756,roryk,rory.kirchner@gmail.com,Remove stray print statement.,2014-12-02T17:06:41Z,roryk
db00bcda49bd96e0b032f6a35e5a9d1f8401859f,chapmanb,chapmanb@50mail.com,Ensure local R site library injected when finding DEXSeq location. Handle GFF retrieval when no GTF file in DEXSeq unit tests. Fixes #653,2014-12-02T16:49:49Z,chapmanb
1ca4938d3d32fe37fd2f4f4c443aa0b894910708,chapmanb,chapmanb@50mail.com,Improved structural variant ensemble calling: collapse overlapping calls by size group to avoid a big influence from large calls. More flexible matching of wham outputs,2014-12-02T15:46:27Z,chapmanb
a6c5da66038507b36bb1ab8fb98d93533baad0b5,chapmanb,chapmanb@50mail.com,Delly speed improvement: ensure parallel cores passed to CombineVariants,2014-12-02T13:15:40Z,chapmanb
143ba590e5f1fa9980db7a91c2d497f041b02d49,chapmanb,chapmanb@50mail.com,Structural variation calling: finalize WHAM conversion to BED files and inclusion in ensemble calls. Fixes for plotting validated SV calls with seaborn,2014-12-02T12:26:34Z,chapmanb
5ac38cff4d6fd7247963fe851540b963b41acda3,roryk,rory.kirchner@gmail.com,Move RNA-seq to use the data dictionary iterator.,2014-12-01T17:31:19Z,roryk
44cfa5a12d15c55d3e971d8c5dbf0a5127bd7716,roryk,rory.kirchner@gmail.com,"Add data dictionary iterator.

This is a little cleaner-looking than doing stuff like sample[0][0].",2014-12-01T17:24:04Z,roryk
baafa0b943c9f077612c8182861c7b6472f945c8,roryk,rory.kirchner@gmail.com,Swap RNA-seq to use the datadict indirection.,2014-12-01T16:58:43Z,roryk
09784687c9a7ddbc7f664724e7aeb8eba4f1db00,chapmanb,chapmanb@50mail.com,Run vcffixup following vcfallelicprimitives to prevent introduction of problematic AN INFO fields. Fixes #674,2014-12-01T16:45:24Z,chapmanb
0e9c746f0a06feed9cd6f25529043906e2665715,roryk,rory.kirchner@gmail.com,"Allow overriding of the datadict generated getter/setter functions.

If you explicitly set a get_x or set_x function, it will not be
overwritten. This lets special complicated cases get handled inside
there without changing the function signature everywhere.

Fix to allow for .gff and .gff3 extensions for the DEXseq file.
Addresses an issue raised in #653.",2014-12-01T15:25:10Z,roryk
85817027bea7e4197d25de79bd84e5e0c112e5c8,roryk,rory.kirchner@gmail.com,"Added an option to add ERCC sequences when setting up a genome.

Closes #666.",2014-12-01T10:32:36Z,roryk
fc665d8b0854ce55085e37df2075cf5e58162b15,chapmanb,chapmanb@50mail.com,Improve documentation and defaults for AWS cloud runs: do not require specifying SLURM resources and use mincores automatically for larger clusters. chapmanb/bcbio-nextgen-vm#39,2014-11-30T18:31:29Z,chapmanb
6c89d8b69991d55fa567d5f08a49a224722bad92,chapmanb,chapmanb@50mail.com,"Switch to seaborn as matplotlib wrapper, from the deprecated prettyplotlib",2014-11-30T10:36:50Z,chapmanb
f6ca972e66e9b776e0b1db1ec6c81fac90b6e2c1,chapmanb,chapmanb@50mail.com,v0.8.4 release,2014-11-29T11:09:07Z,chapmanb
0a6ddd4923526bf2296cbd7502ef045621e30894,chapmanb,chapmanb@50mail.com,Fixes for inclusion of GATK jars inside Docker contains when running distributed.,2014-11-28T10:36:39Z,chapmanb
627583f65176e2311ad9e0b6a56c1a47890e72fe,chapmanb,chapmanb@50mail.com,joint calling: only upload combined joint calls to final group directory to avoid redundant copies. Correctly assign original single sample calls to individual samples,2014-11-28T10:36:03Z,chapmanb
5650e99b9a56c648ba6438f81fc451b9313cf947,Brad Chapman,chapmanb@50mail.com,"Merge pull request #671 from mjafin/vardict

Vardict syntax updates",2014-11-27T11:01:58Z,chapmanb
cbed6ba493e66d0ca4066c103204a9f289937c67,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,"Removed deprecated flags, flags whose purpose had changed",2014-11-27T09:52:11Z,N/A
5b097ffbb86e9ed5ce95a2093d005e7f2dcdc401,chapmanb,chapmanb@50mail.com,Provide better defaults for single machine starting docs on AWS,2014-11-26T20:28:58Z,chapmanb
5e62ad517435b552aca34098a3de1bfe11dd906b,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,VarDict switched to using var2vcf_paire.pl and filter out non-Somatic variants,2014-11-26T16:41:24Z,N/A
03387c2f27c0d780a8c4f151d38ba209ada7d71b,chapmanb,chapmanb@50mail.com,Cloud documentation fixes: support for hg19 (thanks to Yuri) and details on re-creating elasticluster config (chapmanb/bcbio-nextgen-vm#36,2014-11-26T10:47:11Z,chapmanb
393e3d0bd1aa60539042c47386c1721cd9932b42,roryk,rory.kirchner@gmail.com,RSEM unit test cleans up after itself.,2014-11-26T09:32:49Z,roryk
82326e8eb82e38d65fd047e779be87fb1099eead,roryk,rory.kirchner@gmail.com,Remove comments.,2014-11-26T07:32:02Z,roryk
b51ece419fb025b2e4676959b793409de902d2d1,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2014-11-26T07:30:08Z,roryk
1fe3eda4a6d39ce23b07c5d9de2afcdb4e07f86b,roryk,rory.kirchner@gmail.com,"Functions to quantitate gene and isoform expression with RSEM.

With unit tests-- needs some wrapper functions to work with
bcbio and to handle strandedness properly.",2014-11-26T07:28:51Z,roryk
00e6c87de66c923940f89f0601cafc9bee26f109,chapmanb,chapmanb@50mail.com,Improve documentation on SLURM thanks to feedback from @kern3020. Document restarting if run into issues during setup,2014-11-24T10:50:39Z,chapmanb
fbde3b3309d73cf9b9d70a47757ec00b3fcbc59e,chapmanb,chapmanb@50mail.com,Ensure vagrant shell script fails if vagrant not present. Fixes #669,2014-11-23T22:56:40Z,chapmanb
5005bda621aa1ef3786b2e067db7555d692e5da9,chapmanb,chapmanb@50mail.com,Small cleanups to cutadapt usage in setting up parallel run and log messages. Unique naming for organize samples steps in timing logs,2014-11-20T16:52:53Z,chapmanb
75cc10be4876bebb6ea1387fb0d1c589cda5b608,chapmanb,chapmanb@50mail.com,Improve parallelization of trimming but splitting out from sample/genome preparation and alignment so it can run single core,2014-11-20T16:03:24Z,chapmanb
f1c2651f0e6d57eefe8b81d9a8bebb49d41f3fbc,chapmanb,chapmanb@50mail.com,"Enable remote reads to feed into RNA-seq pipelines, removing existance checks when located remotely",2014-11-20T15:48:01Z,chapmanb
e9f54e4e87d885221c9ccade31366b87b04c9b31,roryk,rory.kirchner@gmail.com,"Add transcriptome-mapped BAM to data dictionary.

Access it with dd.get_transcriptome_bam(data).",2014-11-19T20:55:59Z,roryk
8f365fd0e8c96b1aa8d4fd549a8cdd01afc9fccd,chapmanb,chapmanb@50mail.com,Enable on demand preparation of STAR indexes. Refactors sample setup and genome download into a processing component so it occurs isolated and with access to multiple CPU/memory,2014-11-19T18:47:52Z,chapmanb
a44996d7698933541c6383b3b071cb8c01cf1c86,chapmanb,chapmanb@50mail.com,v0.8.3 release,2014-11-19T11:39:36Z,chapmanb
07eb7d2cacbbcdebd6cd9b4c8dda1b6807c1309b,chapmanb,chapmanb@50mail.com,Support WHAM VCF to BED conversion and bump cnvkit to released version with support for setting R libraries,2014-11-18T16:04:59Z,chapmanb
447edd8efce1d45c5195bbd927e07a1c4b0e87c6,Brad Chapman,chapmanb@50mail.com,"Merge pull request #665 from a113n/patch-1

Allow mutect to accept additional parameters",2014-11-18T10:18:45Z,chapmanb
3d8a31c89166ec18a6bef8044375662e3fb0ffa0,a113n,allenyuchishing@gmail.com,"Allow mutect to accept additional parameters

Users can now define additional parameters in the resources section of YAML.",2014-11-18T09:09:01Z,a113n
5dea448b2cf90c6d3022fba5c2423d6f6eb8d323,chapmanb,chapmanb@50mail.com,Set precision for bedtools groupby to handle change in behavior in 2.22.0. Fixes #664,2014-11-17T20:07:22Z,chapmanb
894af08e9ae7aa206e77e70832e1f15400e78b13,chapmanb,chapmanb@50mail.com,Use correct separator for LOFTEE human_ancestor file. Thanks to @drmjc. #468,2014-11-17T13:58:56Z,chapmanb
22357cc72991919deb55f8dc489ffaeebbd612f4,chapmanb,chapmanb@50mail.com,hg19 installation without GRCh37: Only use VEP symlinks if GRCh37 present,2014-11-17T10:12:33Z,chapmanb
cd1b035c3041e6adc780d670c4581b937f10f2d4,roryk,rory.kirchner@gmail.com,"Move transcriptome-only mapping file to final directory.

This will let us use it to run RSEM later on.",2014-11-17T07:32:48Z,roryk
63d65083bad9c819593516b8b4709707629edc0f,chapmanb,chapmanb@50mail.com,Move from plzip to pigz for parallel compression/decompression. Not much practical space improvement with plzip,2014-11-16T21:05:09Z,chapmanb
f75755b3e28e86b1ad00c64600b5ac4c86f4088b,chapmanb,chapmanb@50mail.com,Document setting root volume size and NFS sharing on AWS. Support functionality for handling pre-prepared genomes on AWS,2014-11-16T19:15:02Z,chapmanb
04dda10ec2b93bd0560bc85dd3471b8388e9f11c,chapmanb,chapmanb@50mail.com,Fixes for on-demand genome downloads with no reference data. Update cloud documentation to match no pre-build AMI,2014-11-15T11:25:38Z,chapmanb
527184fa19974abffa77e470757aff9b9dc4906b,chapmanb,chapmanb@50mail.com,Explicitly require click installation to avoid errors from chanjo. Fixes #661,2014-11-14T15:28:30Z,chapmanb
0c9e3af092e3e3b54a8476d4c4dc15aaf8739409,chapmanb,chapmanb@50mail.com,Enable automated download of pre-prepared data indexes. Allows bootstrapping runs on minimal AWS machines,2014-11-14T14:24:01Z,chapmanb
cfabbbf74d8de1ac1b7b3d70bac993d614d86c8e,chapmanb,chapmanb@50mail.com,Cleanly skip snpEff annotation if not defined in input file for other organisms. Thanks to George Marnellos,2014-11-13T17:47:43Z,chapmanb
fd52e00f912e8422b32706e96015275687cc8635,Brad Chapman,chapmanb@50mail.com,"Merge pull request #660 from jwm/import_pybedtools_on_demand

Import pybedtools only when it's used",2014-11-13T16:24:14Z,chapmanb
d40541cc08048c0b3123a4989a859a8ef902ca60,John Morrissey,jwm@horde.net,"import pybedtools only when it's used

it does something on initialization that takes ~2.5s, which makes
bcbio_vm.py noticably slow",2014-11-13T15:39:16Z,jwm
32c23f8fa7cc8e14f685cf2b190c6a85478c504d,chapmanb,chapmanb@50mail.com,"Document bcbio-vm AWS integration, including setting up and running analyses",2014-11-13T13:45:13Z,chapmanb
29210227d4273ccefeb47c12c46b546efe4b8869,chapmanb,chapmanb@50mail.com,Pre-filter BED files to remove non-increasing regions (same start/end or end less than start),2014-11-13T01:16:12Z,chapmanb
2b646db438ad02b27f348c9c1442b63faa6ad8a3,chapmanb,chapmanb@50mail.com,Provide a tools_off option to force using bwa aln approach. Thanks to @JiantaoShi,2014-11-13T00:02:31Z,chapmanb
c82f5c1cb41e411d6503da1bfa82bedc127d0219,chapmanb,chapmanb@50mail.com,Improve interaction of template creation command with S3 -- download and organize resources directly linking to S3 for running,2014-11-12T14:51:38Z,chapmanb
7957862b3263ca37dd29dce5db446086e3af3094,chapmanb,chapmanb@50mail.com,Mark checkpointed re-runs in parallel dictionary allowing bcbio-vm to skip creating docker containers. High level target function to allow running all of bcbio inside of a container,2014-11-11T18:44:59Z,chapmanb
5c89b484714c28d7de9216c43efc70096718886f,chapmanb,chapmanb@50mail.com,Initial support for downloading on-demand pre-prepared genomes from s3 on AWS,2014-11-11T08:52:44Z,chapmanb
74cff6eefa5bbb5f2b28af2bf58e3f224947cce5,chapmanb,chapmanb@50mail.com,Avoid re-calculating depth metrics when running post variant calling annotation with GATK to provide accurate metrics on high depth samples. Thanks to @mjafin,2014-11-10T11:13:11Z,chapmanb
85a6591cc680647adfe6458eb9c2ad6101b98d46,chapmanb,chapmanb@50mail.com,Enable passing in GATK and MuTect jars from S3 as global resources. Download locally and link into configuration to use the remote file. Allows running GATK tools with docker containers.,2014-11-10T10:52:46Z,chapmanb
7c3c5ddac80ee7fe1f66dddd4a91c35c26f430b7,chapmanb,chapmanb@50mail.com,Pass R libpath to CNVkit to handle installation in non-standard directories. etal/cnvkit#2,2014-11-09T19:23:46Z,chapmanb
63c922ea85f46ffe082f1ce0e924abe4cc273f06,Rory Kirchner,rory.kirchner@gmail.com,Fixed recalibration default text.,2014-11-07T20:33:20Z,roryk
f26f469a9f7b6e26e8a570c390a2b02be5354c3f,chapmanb,chapmanb@50mail.com,Provide post-call filtering of VarDict to remove somatic mutations with equivalent frequency in normal calls. Reduces false positives on synthetic 3 datasets in evaluation. Thanks to @mjafin,2014-11-07T19:14:19Z,chapmanb
50401ab4e8646439bbb099eb6168b034e38607f1,chapmanb,chapmanb@50mail.com,Enable multithreaded parallelization for CombineVariants up to the recommended 4 cores. (cc @lpantano),2014-11-07T13:16:42Z,chapmanb
f922a50de6f65d22d697e116db8627cd7f28f966,roryk,rory.kirchner@gmail.com,Configure STAR to dump out the file that is needed to run RSEM.,2014-11-05T23:42:24Z,roryk
b1430e5da10a06a348aa30f32e9f96d6e17836b1,roryk,rory.kirchner@gmail.com,Add bcbio_setup_genome.py to the tool directory on installation.,2014-11-05T21:56:53Z,roryk
0151dbff2739cc0b2d420577966c52971d88cac8,roryk,rory.kirchner@gmail.com,Skip GATK BaseRecalibration if no file of known variants is found.,2014-11-05T21:03:58Z,roryk
61e64aecf4da960e9de5141eccf37854b2b45e08,Brad Chapman,chapmanb@50mail.com,"Merge pull request #658 from lpantano/upstream

fix sample_name in csv when there are paired samples",2014-11-05T16:16:29Z,chapmanb
fd8f99e78f2ccc593cf98c33a805b5294fb2c48c,chapmanb,chapmanb@50mail.com,Provide additional memory based on available cores to GATK CombineVariants to prevent slowdowns with large numbers of samples. Thanks to @lpantano,2014-11-05T15:50:17Z,chapmanb
b4cc34bcac20ec6eba4b8ffb364369a689b3e564,chapmanb,chapmanb@50mail.com,Remove need for pybedtools when retrieving callable regions to use in bcbio_vm,2014-11-04T19:51:19Z,chapmanb
1752bb0d46f2a2b37872bee85559520426533a65,chapmanb,chapmanb@50mail.com,Provide additional memory for VQSR when running with multiple cores. Thanks to @lpantano,2014-11-04T18:38:42Z,chapmanb
d73f268243af78365bfc0b4a116fed78c3c5d053,Lorena,lorena.pantano@gmail.com,fix sample_name in csv when there are paired samples,2014-11-04T17:13:09Z,lpantano
9a40729794fe67e9528252a4656af9d2adc047d1,chapmanb,chapmanb@50mail.com,Fixes to S3 support to enable use via bcbio-vm,2014-11-03T10:42:55Z,chapmanb
5b35f9c0d8d1ae24b4066f21d5113f1a9c163500,chapmanb,chapmanb@50mail.com,Simplify logic around post-processing to avoid race conditions when moving files. Thanks to @mjafin. #642,2014-11-02T20:12:16Z,chapmanb
71e446ae54d137eba2378a0c523bff0f7bae83ea,chapmanb,chapmanb@50mail.com,Improve S3 upload from bcbio. Ensure directory output is properly transferred and enable prefixing by folder to store within existing buckets,2014-11-02T14:28:05Z,chapmanb
61a3a9e16fb93f9ccf1f8090e8ba7abe5a74102b,chapmanb,chapmanb@50mail.com,"Cleanly support gziped BED file inputs in configuration, which helps support retrieving these directly from S3",2014-11-02T09:17:00Z,chapmanb
b80dc85b7317ff8faed3e8af5ada2dc17068b78f,chapmanb,chapmanb@50mail.com,Identify WHAM output variants using classifier,2014-11-01T17:19:24Z,chapmanb
701676526f51c162c87b2b8538791e3e2a0e546f,chapmanb,chapmanb@50mail.com,Bump CNVkit to 0.2.4 to support small test examples,2014-11-01T09:51:17Z,chapmanb
5d098f494cce4204120366f6a1e40e453b559303,roryk,rory.kirchner@gmail.com,Always make a sequence index when setting up a custom genome.,2014-10-31T23:05:39Z,roryk
37b003cb6ccd131c5b4c97545783e411b877a676,chapmanb,chapmanb@50mail.com,Provide additional normalize and duplicate removal for FreeBayes calls. Handle new grabix indexes. chapmanb/bcbio.variation#20,2014-10-31T17:40:40Z,chapmanb
e034cc10ad7ec90e38930688783b0b1611f6b62e,chapmanb,chapmanb@50mail.com,Enable download of supporting files from S3 in configuration file,2014-10-31T09:37:26Z,chapmanb
20c6fc93632fe30cdfe4433df6964ecf6e0a0345,chapmanb,chapmanb@50mail.com,"Provide streaming of gzipped files from S3 with boto, allowing S3 fastqs as inputs to processing",2014-10-30T18:06:19Z,chapmanb
30e776cf821d485cf9ababe58734ef661988bb39,chapmanb,chapmanb@50mail.com,Handle zero division errors for FreeBayes calls with no read support. Fixes #656,2014-10-30T13:43:46Z,chapmanb
1b1f62137f97590c98f2442247af1b77e2016eb5,Brad Chapman,chapmanb@50mail.com,"Merge pull request #655 from lpantano/upstream

add paired fastq files support and some extra docs",2014-10-30T09:39:13Z,chapmanb
67be3172fe4b4fac6a843f7e05b173db482fbcf0,chapmanb,chapmanb@50mail.com,Consistently keep annotations and genotype information for split MNPs from vcfallelicprimitives. Thanks to @parlar,2014-10-30T02:09:18Z,chapmanb
9dd6fc410709aa498fa4ad145855be93906ddcb1,Lorena,lorena.pantano@gmail.com,fix typos,2014-10-29T21:02:10Z,lpantano
160046e65ebe6e5d59f8cceb83d5b0c3965f3fd6,Lorena,lorena.pantano@gmail.com,"add paired fastq files  support

add documentation

support paired fastq files and add doc",2014-10-29T20:44:37Z,lpantano
89ab289f74789c1ed440c54c0a1474e2d68aca4e,Brad Chapman,chapmanb@50mail.com,"Merge pull request #654 from lpantano/upstream

some fixes for kraken tool",2014-10-29T09:29:21Z,chapmanb
984ca93274de2f6964785018dd89069e0aa6fbd9,chapmanb,chapmanb@50mail.com,Move dbNSFP download to 2.7 release. Thanks to Craig Bohrson,2014-10-28T19:45:44Z,chapmanb
dc38e9282f9bae27d911992054bad79ebe4eddfc,Lorena,lorena.pantano@gmail.com,"fix kraken to use fastq or fastq.gz files

better coding style",2014-10-28T14:46:23Z,lpantano
cc2520834b7bc0c39a5a0e124c9c97f9346f68f8,chapmanb,chapmanb@50mail.com,Swap S3 input/output to use gof3r with support for parallel upload/download.,2014-10-28T12:42:19Z,chapmanb
98b065336dcfee7e7bc502e1fc34165946238a8d,chapmanb,chapmanb@50mail.com,Ensure speedseq calls to lumpy python scripts use installed bcbio python with dependencies. Fixes #653,2014-10-28T12:42:19Z,chapmanb
75ea23b99ed28832411a3561c9ae88a889da71a4,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #652 from lpantano/upstream

update prepare_samples",2014-10-27T21:43:28Z,roryk
aed0adc87ad6c5fb1d91bd411e7585c256355500,Lorena,lorena.pantano@gmail.com,"change var names, and remove old code",2014-10-27T15:09:25Z,lpantano
555487b415e2f92f587d61ec6341117279e6148b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #651 from mjafin/patch-6

Update vardict.py",2014-10-27T13:09:37Z,chapmanb
9d624696187b839625aa77e53c032160c12bbe11,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update vardict.py

Removed vcfallelicprimitives as it loses majority of the variant information (and unwanted for by the scientists)",2014-10-27T11:37:47Z,mjafin
5744ae0066ea49358d5e849eecdf29a1d3037e17,roryk,rory.kirchner@gmail.com,"Bump gffutils to 0.8.2.

Fixes a can't find constants.py issue.",2014-10-25T22:10:24Z,roryk
6ae667372b42fa21daaecabea63cb4059973f1d5,chapmanb,chapmanb@50mail.com,WHAM integration: provide initial set of calls in VCF format,2014-10-25T10:13:47Z,chapmanb
a3f70c1a0a37987c2c208f4ed2bee2128a6f5be0,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #650 from saketkc/master

Add Saket C to contributors' list",2014-10-25T02:10:14Z,roryk
77536da1f3173249bda4cc34eaf0d8e7e3768604,Saket Choudhary,saketkc@gmail.com,"Add Saket C to contributors' list
See: https://github.com/chapmanb/bcbio-nextgen/pull/637",2014-10-25T01:25:25Z,saketkc
033edf6510522505e5f3a168800480ffd51462aa,Lorena,lorena.pantano@gmail.com,move code to pipeline/fastq.py and handle mix up of fastq/fastq.gz samples,2014-10-24T18:08:58Z,lpantano
676ad98a1304782cc644c4c29825ca6d691c322c,Brad Chapman,chapmanb@50mail.com,"Merge pull request #637 from saketkc/bowtie_fix

Do not gzip fastqs for bowtie",2014-10-24T12:04:14Z,chapmanb
711cef3680070730298feb1d1d02a8ef2e653a00,chapmanb,chapmanb@50mail.com,Initial integration work on THetA for calculating tumor heterogeneity and normal contamination. Thanks to @etal,2014-10-24T11:41:11Z,chapmanb
8672efc986a95bc6c2dbc362ddf5603213d91496,Brad Chapman,chapmanb@50mail.com,"Merge pull request #649 from lpantano/upstream

add script to merge FASTQ and BAM files",2014-10-23T18:19:18Z,chapmanb
8ac83b71b74a04ec0633a8b80da48a0e253b9c40,Lorena,lorena.pantano@gmail.com,"add docs

Update configuration.rst

fix typos

Update configuration.rst

fix command format

Update configuration.rst

getting correct command format",2014-10-23T17:12:30Z,lpantano
db6a4a58cff33d76f0a309e54befdde9f706ea48,Lorena,lorena.pantano@gmail.com,add bamtools in case other tool fail and get script in utils,2014-10-23T17:12:18Z,lpantano
c1e7e8d2a651e0da346ebcca453ef635a39f4f74,Lorena,lorena.pantano@gmail.com,add scripts to utils to merge FASTQ and BAM files,2014-10-23T17:11:01Z,lpantano
30516c1e6165e1eb48a9d3b2df0481985836d7c8,Brad Chapman,chapmanb@50mail.com,"Merge pull request #648 from lbeltrame/vep-single-effect-clinical-reporting

Use one consequence only with VEP if clinical_reporting is active",2014-10-23T15:39:43Z,chapmanb
09749ce94b5c04c2b2998c0d20a14ea140527110,chapmanb,chapmanb@50mail.com,"Ensure somatic options applied to single tumor, no normal calling with FreeBayes. Thanks to @mjafin",2014-10-23T14:40:24Z,chapmanb
fd9db52e90f76b1abe801abd9f08a747a7f1bcf1,Luca Beltrame,luca.beltrame@marionegri.it,"Use one consequence only with VEP if clinical_reporting is active

When looking for variants at the gene / exon level, sometimes it is
desirable to have only one consequence annotated, in particular for data
in clinical research. bcbio-nextgen already does this with snpEff
(-canonical option), but so far it was not used by VEP.

This patch adds this behavior (defaulting to false, hence not breaking
existing setups. It does so by using VEP's --pick option, introduced in
version 75.

From the VEP docs:

""Pick once line of consequence data per variant, including
transcript-specific columns. Consequences are chosen by the canonical,
biotype status and length of the transcript, along with the ranking of
the consequence type according to this table. This is the best method to
use if you are interested only in one consequence per variant. """,2014-10-23T07:18:12Z,lbeltrame
1da62ad2513c6f085d5708305ab4267f2a82634c,chapmanb,chapmanb@50mail.com,Enable CombineGVCFs to use maximum memory for associated cores to handle merging of large sample groups. Thanks to @lpantano,2014-10-22T23:42:55Z,chapmanb
8cae05da542c3f3591918fc7fb18cb0095e20e07,chapmanb,chapmanb@50mail.com,cnvkit: add to automated installation and finish implementation of cancer and population calling (which uses single sample with uniform background). Update unit tests to include segmented regions for analysis,2014-10-22T13:22:36Z,chapmanb
44cae20aa0a0e545ec377c42e358cb2b49743daf,chapmanb,chapmanb@50mail.com,For joint called samples ensure we pass along each individual sample for downstream processing but still skip splitting into individual VCFs,2014-10-22T12:19:12Z,chapmanb
37aae31c78f436a4e5b17c5bc6babb2b5c129c68,roryk,rory.kirchner@gmail.com,"Move files to sample specific directory during assembly.

This avoids race conditions that can happen when moving the files back.",2014-10-21T01:05:38Z,roryk
94834135041bab95d258aff14aab7496f474ab34,chapmanb,chapmanb@50mail.com,Avoid issue with pandas and google-api-python-client: pydata/pandas#8581 Thanks to Jonathan Epstein,2014-10-19T20:56:22Z,chapmanb
bbea8fe638b5886cb1a2f06467a85c58692153cb,Brad Chapman,chapmanb@50mail.com,Provide external function to load a sample configuration file. Enables loading of reference data from within a docker context,2014-10-19T10:30:28Z,chapmanb
b0bad1628040df22eff61d311f184e4806c98554,chapmanb,chapmanb@50mail.com,Provide flag to skip external version checks when running bcbio inside docker containers,2014-10-18T10:14:29Z,chapmanb
128cbd802b9158b64c214df03aeb3e26f2396ec0,chapmanb,chapmanb@50mail.com,Improve documentation of indelcaller argument. Thanks to @lbeltrame,2014-10-17T12:18:11Z,chapmanb
d25da7da2484b5018e7dc3f61da06e9b0f7c0a62,chapmanb,chapmanb@50mail.com,Fix samtools output to be compatible with tools that cannot handle VCFv4.2,2014-10-16T10:48:43Z,chapmanb
d9a5174ca81c198b6b1fcf6f301a8c128b7e686d,chapmanb,chapmanb@50mail.com,Correctly handle pre-aligned inputs when GATK not installed. Thanks to Stephan Pabinger,2014-10-16T10:31:47Z,chapmanb
506d718d1b6a7d5cac6ad8025dc2506f2f75aa8a,chapmanb,chapmanb@50mail.com,Talk for Boston area bioinformatics interest group (BIG) meeting,2014-10-15T11:02:03Z,chapmanb
24708d90de3c5a11021aae905427f787a995d7a9,chapmanb,chapmanb@50mail.com,Provide improved uniqueness of shared temporary transactional directories. Use fully random UUIDs and check for conflicts. Fixes #642,2014-10-15T10:12:36Z,chapmanb
e927b17c4907391c110d802d3d5844b3ebc3b769,chapmanb,chapmanb@50mail.com,Enable small validation plots with restricted columns when data is missing,2014-10-14T20:38:00Z,chapmanb
542298a09fc93b9f12b62376bb2b8427110d67f2,Brad Chapman,chapmanb@50mail.com,"Merge pull request #641 from guillermo-carrasco/brad_master

Missing link to Alla Bushoy's repo",2014-10-14T12:36:15Z,chapmanb
1717eb885fb1b5e8fe6dc19ff400a7a85821d249,Guillermo Carrasco,guille.ch.88@gmail.com,Add Alla's link to repo. Remove .travis.yml,2014-10-14T12:30:07Z,guillermo-carrasco
1480f81dab08ed76ff93d35110026caec4ad9870,chapmanb,chapmanb@50mail.com,Use vt normalization instead of bcftools normalization to attempt to avoid segmentation faults #639,2014-10-13T23:52:16Z,chapmanb
5cdb9b457f95e2b6db8c7996c2d3b7dcf9d5f543,chapmanb,chapmanb@50mail.com,"Ensure inputs to chanjo are cleaned and sorted, attempting to avoid issues identified by @lbeltrame",2014-10-13T23:46:41Z,chapmanb
b8033485dfdf5022fac862aeea09a41e2f0b42fa,chapmanb,chapmanb@50mail.com,"Improvements for coverage: add Chanjo database to upload and correctly prepare unique name file in local directory, replacing if BED file updated",2014-10-13T14:20:01Z,chapmanb
5d98b4846f351adb5fc2629935ba1ec7e6393e1e,chapmanb,chapmanb@50mail.com,Enable VQSR on exome analyses with 50 or more samples in a batch,2014-10-13T10:22:35Z,chapmanb
21f193ae0a4670b796971c1f8a6001955ba6ea2b,chapmanb,chapmanb@50mail.com,Remove specific extraction of excessive coverage which doesn't provide enough removal of high coverage regions and causes issues on large populations. Thanks to @lpantano,2014-10-12T17:17:57Z,chapmanb
ee955dd23f36ca302926a3febad733c58dfc85bf,chapmanb,chapmanb@50mail.com,Simple script to cleanly calculate timings from bcbio log files,2014-10-12T10:16:37Z,chapmanb
f8ee9b330634e8e62445d2e7b09719d508304d79,Saket Choudhary,saketkc@gmail.com,Do not gzip fastqs for bowtie,2014-10-12T02:16:36Z,saketkc
dae9ec7340c7775998d5a10c005bbd911f04beed,chapmanb,chapmanb@50mail.com,Improve documentation of align_split_size. Fixes #636,2014-10-11T10:47:22Z,chapmanb
6d3db11e311c6c57475ee8f72ec4a3dd1451c1e2,chapmanb,chapmanb@50mail.com,Fix typo,2014-10-11T10:34:16Z,chapmanb
6027e15bf11272747cbcf7660d8a6cd0552b95d0,chapmanb,chapmanb@50mail.com,Default to a reduced number of split regions (200 instead of 2000) to avoid controller memory issues with large sample sizes,2014-10-11T10:33:15Z,chapmanb
42a1d8b38004d46056797e3df94c42dcfad1b3c4,Brad Chapman,chapmanb@50mail.com,"Merge pull request #635 from lpantano/upstream

add help for bcbio_setup_genome.py",2014-10-11T09:38:04Z,chapmanb
d83dfda476fbb2635f6b9c423e02fbf3f292b45c,Lorena,lorena.pantano@gmail.com,add help for bcbio_setup_genome.py,2014-10-10T14:38:56Z,lpantano
83ee72537cead7e33e7da43ba41b7d63379bd25d,chapmanb,chapmanb@50mail.com,Use bgzipped human_ancestor fasta for LOFTEE to support access with new samtools that on longer uses razip. Fixes #468,2014-10-10T13:46:30Z,chapmanb
ae7cf786de0ca753bbd71b2e9534229b9149be1d,chapmanb,chapmanb@50mail.com,Add joint calling documentation and pointer to write up. Fixes #348,2014-10-10T11:15:00Z,chapmanb
289a6e0cf725acc1a58b749c32da49174cf63f24,chapmanb,chapmanb@50mail.com,Documentation work: Add DREAM synthetic 3 example replacing older cancer sample (#588). Add methylation work to todo list (fixes #618),2014-10-09T13:00:39Z,chapmanb
b1c05ac39328b43873afcfd3e44f59dc30a11fcf,roryk,rory.kirchner@gmail.com,Add extra RNA-seq annotation files to hg19 resources.,2014-10-09T11:17:44Z,roryk
f60078022ba9b9a3c4b75212ffc8ed270bbe8675,chapmanb,chapmanb@50mail.com,Bump pybedtools to latest version to avoid open file handle issues #627,2014-10-09T09:15:30Z,chapmanb
5d525268426981e87492434c3f0491428dc4ccf2,Rory Kirchner,rory.kirchner@gmail.com,Use GRCh37 instead of hg19 for the RNA-seq example,2014-10-07T17:29:37Z,roryk
ddf6669cc1af2504e718b186bdccdc71f4130393,Rory Kirchner,rory.kirchner@gmail.com,RNA-seq pipeline test default to GRCh37 not hg19.,2014-10-07T17:29:02Z,roryk
17153f25285f5be980556064e9db609a723c187f,chapmanb,chapmanb@50mail.com,Provide exome-only version of DREAM evaluation data for scaled down evaluations,2014-10-07T11:14:15Z,chapmanb
54a7f498f1f9a8651f6327d6811d661237327d6b,roryk,rory.kirchner@gmail.com,"Filter out non-chromosomal fusion events.

Closes #625.",2014-10-06T15:14:23Z,roryk
f1e9c86e15799ba57ebba33156ec689685708672,chapmanb,chapmanb@50mail.com,Script to create a more minimal subset of dream synthetic 3 data for testing on AWS runs,2014-10-06T09:35:56Z,chapmanb
e3cf2bfbe32a842198e9585e18697a5e001f793a,chapmanb,chapmanb@50mail.com,Provide additional sensitivity to FreeBayes filtering to capture more true positives in evaluation,2014-10-05T13:32:19Z,chapmanb
eb5c6a67ec41e8973a24863afcfede75c4448ec0,chapmanb,chapmanb@50mail.com,Add additional FreeBayes filter to remove low frequency calls also present in normals. Provides improvement for FreeBayes false positives,2014-10-05T10:19:21Z,chapmanb
19173935665ce1946486f7dc3eedef854e279717,chapmanb,chapmanb@50mail.com,"Rework FreeBayes somatic calling filtration to use genotype likelihood based filtering. Uses pythonpy to inject custom bcbio filter into streamed calling process, avoiding need for subsequent transformation of results to add SOMATIC/REJECT flags. Includes latest FreeBayes recommendations on splitting and normalizing MNPs",2014-10-04T10:15:25Z,chapmanb
88b189195e6824c01b2e4b6143e7000f0325169e,Brad Chapman,chapmanb@50mail.com,"Merge pull request #629 from pfaucon/patch-1

Increase memory usage",2014-10-03T19:37:00Z,chapmanb
daf9e80d63fe5ef9032caf9522f17afb079f1eb2,pfaucon,pfaucon@asu.edu,"Increase memory usage

Increase the default memory usage (so that at least the test suite will pass)
Provide template for increasing the processing power of the VM",2014-10-03T19:26:10Z,pfaucon
09997fb2287121767ec3ca8df3ffb1a855d4e48b,chapmanb,chapmanb@50mail.com,"Improve FreeBayes calling by including options from speedseq and sgasomatic usage, and avoiding high depth filter. Current quality status: http://i.imgur.com/f4PNVFK.png",2014-10-03T11:59:30Z,chapmanb
cab3a8b73c323c0b2cd70bc0b669595b966151ab,roryk,rory.kirchner@gmail.com,"Use the bcbio python, not the one in the user's path.",2014-10-03T04:04:29Z,roryk
41df9188791bbce64baf8e080081f54fb968ee42,roryk,rory.kirchner@gmail.com,"Add more helpful error message when STAR genome is missing.

Closes #615. Thanks to @junchend for the report.",2014-10-03T04:03:33Z,roryk
9f027b9eed07334943dc0b65b97ca23884108dc3,chapmanb,chapmanb@50mail.com,Fix typos in pipeline documentation,2014-10-02T16:28:39Z,chapmanb
0d7c96beadbad4c51ce313f9e64d0b2849130710,Brad Chapman,chapmanb@50mail.com,"Merge pull request #626 from mjafin/master

Merge bed regions for paired VarDict calling as amplicon awareness is on...",2014-10-02T15:50:22Z,chapmanb
2a0df512fe9f001f0fc814888b1b41c86fb256e9,chapmanb,chapmanb@50mail.com,"Improve documentation on germline calling and batching, providing better workflow based documentation (#588). Improve documentation on sample metadata and joint calling (#620)",2014-10-02T15:31:20Z,chapmanb
04cdf6b3516175251ed29c4b43d0a6eeb1206461,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Merge bed regions for paired VarDict calling as amplicon awareness is only supported for singleton samples,2014-10-02T11:08:45Z,N/A
118b350bdaab9b63a07317b147f1c8d1f36d06a2,chapmanb,chapmanb@50mail.com,Move Chanjo integration to write to SQLite database grouped by batches. Use commandline client instead of API to get loading functionality. #596,2014-10-01T18:30:30Z,chapmanb
fbf6dd2f7723a9279b04ded1ee3ee962f8372393,chapmanb,chapmanb@50mail.com,Updates to pindel calling to attempt to provide speed ups. Limit current cancer calling evaluation to exome regions with option for refseq genes,2014-10-01T09:49:56Z,chapmanb
1aef938e9ec4c986dad44e583ff952c98f058e79,roryk,rory.kirchner@gmail.com,"Add gff3->gtf converter to the setup script. Closes #612.

Passing --gff3 to the setup script will perform a GFF3->GTF
conversion on the file before creating the transcriptome files.",2014-09-30T21:52:31Z,roryk
325e979e4ba809c8ce4bd353c96033cc2d09d06e,roryk,rory.kirchner@gmail.com,Added tool to convert GFF3 files to GTF.,2014-09-30T21:05:05Z,roryk
3cf18128f1b586c1717b8af109119f157d370ed3,chapmanb,chapmanb@50mail.com,Convert non-N ambiguous bases to Ns in freebayes output to avoid errors processing with GATK. Fixes #622,2014-09-30T19:27:45Z,chapmanb
37e1d0f2e51716ead98423ed31400d447cca4f61,chapmanb,chapmanb@50mail.com,Add data checks and improved flexibility for specifying joint callers. Fixes #619,2014-09-30T14:59:40Z,chapmanb
5000e64cfa3a253eeb035bfdce02e3a89abfa05d,Brad Chapman,chapmanb@50mail.com,"Merge pull request #617 from lpantano/upstream

qsignature with new cutoff for full mode",2014-09-30T12:10:07Z,chapmanb
a20bf11d020353b3fabc3c3f4dfa1d398ff14fed,chapmanb,chapmanb@50mail.com,Fix typo in Dockerfile (thanks to @brainstorm). Small cleanups in README,2014-09-30T12:08:40Z,chapmanb
65e01eddb5b96a74b1cbf0b08961989bc512da10,Lorena Pantano,lorena.pantano@gmail.com,new cutoff for full mode of qsignature,2014-09-29T15:26:41Z,lpantano
4f8740ce36ca696a2c99a5c5080faffa7994b245,Lorena,lorena.pantano@gmail.com,new format and new level for qsignature,2014-09-29T15:22:39Z,lpantano
c4cac13dbedbd9db1eb0cc5eb93ede1dfcfebcf5,Brad Chapman,chapmanb@50mail.com,"Merge pull request #607 from mjafin/patch-5

Remove merging of bed files in _subset_bed_by_region",2014-09-29T12:51:09Z,chapmanb
bc912a7fdb5e94487fddb11f8d251533d95b96bf,chapmanb,chapmanb@50mail.com,"Enable intersection based ensemble calling. Update tumor/normal ensemble to handle approach. Swap synthetic three example to use ensemble intersection approach, pindel and exon/intron refseq regions",2014-09-29T00:22:46Z,chapmanb
de210ba3d58124a0f87666f9c51cfe241614f53c,roryk,rory.kirchner@gmail.com,"Polishing custom genome creation.

Update .loc files and generate resource files when installing a custom
genome. Closes #580, #612.",2014-09-27T20:13:47Z,roryk
bfdabae32d76b89fdebab1925dcccbfd1b06feba,Brad Chapman,chapmanb@50mail.com,"Merge pull request #602 from lpantano/upstream

pindel integration",2014-09-27T15:34:07Z,chapmanb
fa66b58ab6c1c1c8af2ad730cb088bde6f745836,roryk,rory.kirchner@gmail.com,"Revert ""Install ia32-libs so we can run 32 bit executables.""

This reverts commit bd0b1f9300a034b1bba79734b45193c234907ce5.

Fixed upstream in Homebrew in the cmake formula.",2014-09-26T17:26:15Z,roryk
bd0b1f9300a034b1bba79734b45193c234907ce5,roryk,rory.kirchner@gmail.com,Install ia32-libs so we can run 32 bit executables.,2014-09-26T15:09:46Z,roryk
8dfc78f74955e8ae363623426a85c46acef9108f,chapmanb,chapmanb@50mail.com,Ensure ensemble validation CSV summary correctly passed to upload. #604,2014-09-26T13:30:09Z,chapmanb
efdf31eb18e6ada338e72df3df256c285cb878f3,chapmanb,chapmanb@50mail.com,Avoid uploading discordant and split read output files to Galaxy data libraries,2014-09-25T17:30:33Z,chapmanb
56036d1490f3eea89b84b16ea1b3ff139fde11fb,chapmanb,chapmanb@50mail.com,Do not attempt to retrieve VEP resources for Pseudomonas. Fixes #609,2014-09-25T15:55:29Z,chapmanb
dfdabfae775cbfedf50f381445bd23746711ae31,chapmanb,chapmanb@50mail.com,"Updated joint validation comparison with samtools, update documentation",2014-09-25T15:11:30Z,chapmanb
0a3b6ccbdb826844e503294776f9208045a2bc7e,chapmanb,chapmanb@50mail.com,Remove mosaik reference from documentation. Thanks to @inti. Fixes #608,2014-09-24T19:13:47Z,chapmanb
41d9a913857118fe2f07c13780c0d5e283ae9235,Brad Chapman,chapmanb@50mail.com,"Merge pull request #611 from etal/patch-1

Handle paths with spaces in run_tests.sh",2014-09-24T19:05:53Z,chapmanb
0e3b10c6312d799fe13f1358ff2a04f4025d7bd5,Eric Talevich,eric.talevich@gmail.com,"Update run_tests.sh

Handle paths with spaces.

The absolute path to bcbio_nextgen.py may have spaces, symlinks notwithstanding. In this case, dirname tokenizes the output of readlink as multiple strings, and this propogates to the last line of the script. Quoting suffices.",2014-09-24T18:50:32Z,etal
68fd77607d69dedc0c8f568e813d9a5855934843,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Added an option into bed prep to not merge overlapping regions. Useful for VarDict amplicon aware calling.,2014-09-24T13:07:28Z,N/A
f7b68b0a6621edef2015c41a1c7ea80fc685a76e,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Remove merging of bed files in _subset_bed_by_region

Handle merging within variant callers if necessary (e.g. FreeBayes)",2014-09-24T09:01:52Z,mjafin
a2ee06a43f39ffe68e61420dad50d27b5339b4ff,roryk,rory.kirchner@gmail.com,Skip fixing the PI read group if it does not exist.,2014-09-24T03:38:50Z,roryk
ff18a2bef7cb1d52c7e015f7194315188e0c6097,Lorena,lorena.pantano@gmail.com,remove import and correct is_installed function,2014-09-23T13:34:46Z,lpantano
64c678ed51eb21d695aa305c444a9ecbf95e4484,Lorena Pantano,lorena.pantano@gmail.com,pindel integration as indels caller together with mutect,2014-09-22T13:57:24Z,lpantano
f28801d5a409442a9424230f01328451bd25f0fd,Lorena,lorena.pantano@gmail.com,add pindel,2014-09-22T13:55:58Z,lpantano
9320479d8f21677b61ed1274b4da23d569c686ae,roryk,rory.kirchner@gmail.com,"Update setting up a custom genome from user-provided sequences.

This picks up the installation location of tools and genomes
from the bcbio_system.yaml file. It also removes the dependency of
having cloudbiolinux installed.",2014-09-21T00:00:48Z,roryk
66287a1286fbc85cb75a6989ce61efcc5302f014,roryk,rory.kirchner@gmail.com,Move supported genomes and indexes to be importable.,2014-09-20T23:56:57Z,roryk
417afa24efa5718070118ad8bb29277f8f3e17d4,chapmanb,chapmanb@50mail.com,Ensure directory outputs exist when moving from global transaction directories. Thanks to @mjafin and @roryk. Adjust Platypus parameters to match best sensitivity/specificity with NA12878 comparions,2014-09-20T20:05:31Z,chapmanb
1e3ad94dcaa5e69e0e8650097aea6ff7eeaf84df,Brad Chapman,chapmanb@50mail.com,"Merge pull request #599 from pfaucon/patch-1

Update testing.rst",2014-09-20T10:16:08Z,chapmanb
5a2ec4d86bb69c657c5b904094cd69bb47b6eb2e,pfaucon,pfaucon@asu.edu,"Update testing.rst

Updated the RNASeq example for a typo",2014-09-20T00:02:22Z,pfaucon
11ff2a552ec0f88ca18748ff0f38fe74fd127640,chapmanb,chapmanb@50mail.com,Avoid race conditions during bedprep work on samples with shared input BED files. Fixes #595,2014-09-18T17:13:12Z,chapmanb
35f3be53b155aeba4f4eca8342c1687c7fcb2222,chapmanb,chapmanb@50mail.com,"Provide improved sensitivity for Platypus calling by removing allele bias, qual by depth and mapping quality filters. These remove a number of true positives in NA12878 evaluations",2014-09-18T15:53:25Z,chapmanb
bd084774c8ce9a540d0d0064044f16e92a61358b,chapmanb,chapmanb@50mail.com,v0.8.2 release,2014-09-17T17:28:37Z,chapmanb
3e05b92f5d515b84bbf78880cfc43a0efa3bc460,chapmanb,chapmanb@50mail.com,Bring unit tests up to date with latest changes to trimming and transactions. Fixes #590. Fixes #591,2014-09-17T13:15:24Z,chapmanb
b81bcd6da5e1ff5b55c18508615f09bc33369471,chapmanb,chapmanb@50mail.com,Avoid race conditions when preparing tabix indexed files during initial BED prep steps. Thanks to @mjafin,2014-09-17T12:55:29Z,chapmanb
6e408b5c1150fe207d1676de1fa1782960adac66,chapmanb,chapmanb@50mail.com,Support samtools-driven joint calling. Fix checks for using bcbio-variation-recall to ensure resources used in calculating requirements,2014-09-17T10:35:05Z,chapmanb
21cb84be4c62bfe2afc938573a5e823fa6d3164e,chapmanb,chapmanb@50mail.com,Platypus variant calling: more lenient filters to improve sensitivity relative to GATK/FreeBayes/samtools. Do streaming post-processing of output,2014-09-16T12:00:18Z,chapmanb
c2b2e42c5444e8058ddaa5c297bb4ca6f7b30354,Brad Chapman,chapmanb@50mail.com,"Merge pull request #589 from lpantano/upstream

use the name than in the yaml file for the final files of qsignature",2014-09-15T15:45:50Z,chapmanb
4e23c4f42f046772c7d519a17773d0d38316333e,Lorena,lorena.pantano@gmail.com,remove space,2014-09-15T14:51:56Z,lpantano
86378589caf1376b2217d06db32126413e90b1ea,Lorena,lorena.pantano@gmail.com,use the name in the yaml file in the final files,2014-09-15T14:50:04Z,lpantano
44750e1bd735da6d141aede18ea420304cc94bd8,chapmanb,chapmanb@50mail.com,Ensure merging of overlapping intervals from variant_regions input for cn.mops. Thanks to @mjafin,2014-09-15T13:31:14Z,chapmanb
80bbf8a8171a0e68191be7ec5f318ad2a7f89651,chapmanb,chapmanb@50mail.com,Generalize indelcaller addition to enable usage from other callers. #587,2014-09-14T10:42:15Z,chapmanb
a215a43aa8fc3ce513042244cc4fee2d3c7bd445,Brad Chapman,chapmanb@50mail.com,"Merge pull request #587 from mjafin/decouple_mutect

Decouple mutect",2014-09-14T10:24:59Z,chapmanb
eb307bc669ff9948b6316c09d09a713c0a09a6cd,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Merge branch 'master' into decouple_mutect,2014-09-13T19:55:49Z,N/A
63f0fe25151853a3005337e76cecf8395031ef1e,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Decoupled scalpel from mutect and enabled pairing via indelcaller argument,2014-09-13T19:55:13Z,N/A
d8abf1305e823f9b353743ac41ceeaee1c473434,chapmanb,chapmanb@50mail.com,Support Psuedomonas genome build,2014-09-13T11:52:44Z,chapmanb
04dfb835ffbdc36ff75f0201ddc17f5ac5fe8083,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #586 from kern3020/master

doc change wrt rna-seq.",2014-09-12T20:13:52Z,roryk
63642bac3a95be779feded983c0000132340db49,John Kern,kern3020@gmail.com,doc change wrt rna-seq.,2014-09-12T20:10:17Z,kern3020
b0bcb1ab54202a425b7c8d40473bd161d0843b3f,chapmanb,chapmanb@50mail.com,Add links to UGa talk,2014-09-12T13:20:11Z,chapmanb
7cdde57bcbfc21c5f1aaa2e8ac5dd1f022850cb8,chapmanb,chapmanb@50mail.com,Intergate SMsSH with homebrew build and include new JVM options usage,2014-09-12T11:04:54Z,chapmanb
b62fa767f28299d0bc9f6009d1b086a88e94b929,chapmanb,chapmanb@50mail.com,"Fix bug in creating shared regions for analysis when using a single sample in multiple batches: for instance, when using a single normal sample for multiple tumors. Thanks to Miika Ahdesmaki.",2014-09-11T20:27:33Z,chapmanb
3b3636e3bd705a4cba3f4012b008cb698d8b57da,chapmanb,chapmanb@50mail.com,Enable straight merging of separately called variants without joint recalling,2014-09-11T09:34:21Z,chapmanb
c8a6ff21e8c4b683e11372ddf292295aeb50cbf6,chapmanb,chapmanb@50mail.com,Remove adjusted parameters for older samtools calls to reset with 1.0 and try to improve performance. Update to latest ipython-cluster-helper,2014-09-10T12:00:47Z,chapmanb
b0a14c22042eb7e6d79c0132208029b6d8662743,chapmanb,chapmanb@50mail.com,Bump human resource files to use dbNSFP v2.6: chapmanb/cloudbiolinux#181,2014-09-09T19:31:23Z,chapmanb
f151167170b1a2e7da3eeb1b50bef1f55ab08afc,chapmanb,chapmanb@50mail.com,Handle post-population preparation correctly when gemini turned off. Fixes #582,2014-09-09T19:31:23Z,chapmanb
0d222e81e12c91a562d5dc922e100790004159bb,roryk,rory.kirchner@gmail.com,"Fix for ncpus with a trailing +.

SLURM info occasionally will send back a number of CPUs as 1+,
this drops the +.",2014-09-09T19:18:16Z,roryk
e8658ca7a034920f87d4a8f441e82acd8cfddd5a,chapmanb,chapmanb@50mail.com,Ensure BED combining and temporary directories happen within safe transactions to avoid race conditions. Thanks to @lpantano,2014-09-09T18:00:26Z,chapmanb
e5c8f5326b192f25b1b6fbeabb4bde57f0ecf7fe,chapmanb,chapmanb@50mail.com,Resolve issues with GATK VQSR following joint calling due to MQ distribution from bwa by removing annotations from calculation. Ensure joint called samples have dbSNP annotations,2014-09-09T15:28:51Z,chapmanb
a18489b20e4d5ad0db466fcd0e0d12fb0b430bdd,chapmanb,chapmanb@50mail.com,Enable passing options to bwa alignment through resources. Thanks to Severine Catreux for suggestion,2014-09-09T13:58:10Z,chapmanb
7ebd391392503f42819695dfc1eb852c215c52d4,chapmanb,chapmanb@50mail.com,Normalize and split MNPs in samtools called variants,2014-09-08T13:22:02Z,chapmanb
4268252f99a1121670cdb38fbb754711d570261f,chapmanb,chapmanb@50mail.com,Support samtools 1.0 multiallelic calling,2014-09-08T10:13:41Z,chapmanb
d5389be2fc453747a724db732196843c9209e73b,chapmanb,chapmanb@50mail.com,Unified approach for writing temporary transactional files that enables use of a global temporary directory. Supports bcbio on AWS with a shared filesystem,2014-09-07T10:24:41Z,chapmanb
3ff0928ed0e2cbd374dba16b276ccb8cfa68394f,chapmanb,chapmanb@50mail.com,"Generalize transactional directory creation: rename, centralize and handle global directories called from multiple processes and machines. Support towards using local disk for all transactional processes",2014-09-06T10:22:27Z,chapmanb
5b876ed358e9de3abd39b6fed463daebce5baaad,chapmanb,chapmanb@50mail.com,"Swap ensembl yeast name to lowercase to make retrieval and cache preparation happy. Thanks to John Kern.
Add back in cleanup of VarScan lines to avoid ambiguous base calls not caught by awk script. #571""",2014-09-05T18:24:36Z,chapmanb
f25712f2733513dcc218a323b998e75cf65ef336,chapmanb,chapmanb@50mail.com,Check for problematic paired end inputs with only normal and non-tumor samples. Thanks to @mjafin,2014-09-05T18:11:49Z,chapmanb
e39e8ae3706548b042a56ff2fdc4a3097957aaa7,chapmanb,chapmanb@50mail.com,Add single sample calling to joint/pooled/single analysis. Add instructions for running to documentation,2014-09-05T10:35:05Z,chapmanb
24227507b2d0fc30b924eea45166c9db2e848f65,Brad Chapman,chapmanb@50mail.com,"Merge pull request #575 from kern3020/master

fix for  #569 chanjo integration",2014-09-05T09:33:31Z,chapmanb
faca6e6572ec9c803be16a7716b21bc7e1b5ce23,John Kern,kern3020@gmail.com,add import for codecs,2014-09-04T22:27:27Z,kern3020
c36c258487edf43126b7c0e5a141d7359a3ef74c,John Kern,kern3020@gmail.com,Merge remote-tracking branch 'upstream/master' into dev,2014-09-04T22:25:28Z,kern3020
fdfe087d80eee356e7203d442e4be8722edcc04f,chapmanb,chapmanb@50mail.com,Additional CNVkit integration work: generalize single sample calls and begin work on tumor/normal calling,2014-09-04T17:08:51Z,chapmanb
8b245e74106ebf39a55d73e7916bcf93b7f2fbef,chapmanb,chapmanb@50mail.com,Skip matplotlibrc updates if we lack sufficient permissions. Fixes #574,2014-09-04T10:13:03Z,chapmanb
f63719ed3012595b3780197db38907f512935517,chapmanb,chapmanb@50mail.com,Add documentation on curses requirement for samtools. Thanks to @sveint #558,2014-09-04T09:42:19Z,chapmanb
be5f1fa0c109f15b19babc90962393bed2a6dfe5,chapmanb,chapmanb@50mail.com,Ensure VarScan removes duplicate alternative alleles #571. Adjustments to awk ambiguous removal script to avoid substitutions in comment regions (thanks to @mjafin),2014-09-03T19:35:11Z,chapmanb
c4481387bfcfcdff377ddc84bb60756b4ab883ea,chapmanb,chapmanb@50mail.com,Additional fixes for concatenating problem VCF files: handle VCFs with overlapping variants and correctly return full file when half finished GATK CatVariants processing is created. #556,2014-09-03T14:53:31Z,chapmanb
57c52980b7daadc25dcdf925718d5d640d3a3f17,chapmanb,chapmanb@50mail.com,Ensure sambamba sort during STAR alignment uses correct temporary directory. Thanks to @mjafin,2014-09-03T11:01:15Z,chapmanb
2f8ecd738c6fe4f24c3aea043833313404d7edbf,roryk,rory.kirchner@gmail.com,"gzip fastq files before processing.

If FASTQ files are uncompressed, zip them first. Also recognize
.txt as a fastq file, since that is a commonly used extension.",2014-09-03T03:11:34Z,roryk
ac7adc6c201bcc203715592363563273ae7cb114,John Kern,kern3020@gmail.com,issue #569 - replace cmd line with API,2014-09-02T20:56:17Z,kern3020
67bc17b409fa667eba6b2d6822ccd1b865a8f609,John Kern,kern3020@gmail.com,update chanjo,2014-09-02T20:54:22Z,kern3020
a297729e52b45943a3be0765ef74c26057ead60c,chapmanb,chapmanb@50mail.com,"Fall back to bcftools concat instead of GATK CombineVariants if GATK CatVariants complains about input due to VCF validity. Fixes #556. Also fixes incorrect trim reads indent, thanks to @mjafin",2014-09-02T14:42:32Z,chapmanb
31ca950f049dd8cd88be56bc4aa780fc97a21e3a,chapmanb,chapmanb@50mail.com,Platypus variant calling: fix inputs for multisample BAMs and enable local assembly,2014-09-01T19:02:40Z,chapmanb
50d0dc07524024014fbaf6f98be62e4f95dff234,chapmanb,chapmanb@50mail.com,Remove old attempts to manage memory issues by catching re-trying. It never especially helped and new fixes actually resolve the underlying issue,2014-09-01T10:38:23Z,chapmanb
7b6f539407e44f81e48d91484e5f770ac4e1b530,chapmanb,chapmanb@50mail.com,"Platypus variant calling fixes: Ensure we only call in regions of interest, remove non-N ambiguous bases, decompose MNPs to allelic primitives",2014-08-31T18:43:02Z,chapmanb
aa4fa6631d832389598146043ea42c907f7cb1ec,chapmanb,chapmanb@50mail.com,Fix for VarDict output in regions with non-N ambiguous bases. Convert them to Ns with awk so GATK is happy,2014-08-31T17:18:34Z,chapmanb
a5a9615d562bea80212e806890215a595e1b3205,Ahmed,Ahmed.Mohamud@nhs.net,Update seqc.csv,2014-08-31T16:24:20Z,Lobage
3c11ee816def691bd0121b8fa81851bd813faf14,chapmanb,chapmanb@50mail.com,"Fix FreeBayes tumor/normal calling for MNPs. Split out MNPs prior to applying vcfsamplediff evaluation and somatic calling, otherwise VT tags do not get passed to split items and all will be filtered. Improve filtering and qualities based on FreeBayes mailing list discussion",2014-08-30T10:23:49Z,chapmanb
52b3d66005967a8901bd0dc7b863fc00f1469da5,chapmanb,chapmanb@50mail.com,Be more agressive with system memory usage: detect total system memory instead of available and calculate fraction amounts instead of rounding to integer. Goal is to maximize memory usage in complement with previous Java memory fixes,2014-08-30T09:37:36Z,chapmanb
274ea9d900a922718305dba8d68cb85cb252720d,John Kern,kern3020@gmail.com,Merge remote-tracking branch 'upstream/master',2014-08-29T15:51:03Z,kern3020
bcd12211e869c884a91652824f2d4af8967c8cf1,John Kern,kern3020@gmail.com,add warning prefix,2014-08-29T15:47:18Z,kern3020
0e071b230145ae052d7ae7fe6486276b4f3aff62,John Kern,kern3020@gmail.com,confirm you have enough diskspace upfront,2014-08-29T15:40:06Z,kern3020
c2e4fe40f28d49fbe7f8163864096b2efe41cdee,chapmanb,chapmanb@50mail.com,v0.8.1 release,2014-08-29T15:07:46Z,chapmanb
43246e65dcb53aecff6be7950ed8588b65e0c375,chapmanb,chapmanb@50mail.com,Pass full joint called output file to validation instead of individual sample inputs,2014-08-29T14:24:44Z,chapmanb
8888788a98c35a8e61076085972919c117296c11,chapmanb,chapmanb@50mail.com,Move qsignature summary output to final project directory. Thanks to @mjafin,2014-08-29T13:40:39Z,chapmanb
e7fe3cc6060cb3c7f863faf4b45d4c5216342ad1,chapmanb,chapmanb@50mail.com,"Fix memscale usage for GATK joint calling, avoiding breaking previous usages of memscale.",2014-08-29T10:58:44Z,chapmanb
ac70d17d23c8e450beae7e0e5e07fadd28c79c91,chapmanb,chapmanb@50mail.com,Improve detection of paired ends for large single end files. Better scale GATK HaplotypeCaller joint calling by making use of cores and memory on multi-core runs,2014-08-29T10:16:56Z,chapmanb
171c14186250c920693fec1b1b8fe4647229286f,chapmanb,chapmanb@50mail.com,SNAP aligner: use streaming de-duplication and sorting with samblaster and sambamba,2014-08-29T09:46:37Z,chapmanb
0f9aa68c843d640fb72ed47809f6c12079e6647b,chapmanb,chapmanb@50mail.com,Strip UCSC browser commands from input BED files during preparation. Fixes #566,2014-08-28T18:27:22Z,chapmanb
3cdf97fff47d8f9de080acc664dcec01ed954454,chapmanb,chapmanb@50mail.com,Enable passing command line arguments to GATK HaplotypeCaller. Thanks to Severine Catreux,2014-08-28T18:08:25Z,chapmanb
2bc2878beb959394a325a0f169d10460217d993c,Brad Chapman,chapmanb@50mail.com,"Merge pull request #564 from mjafin/patch-4

Update cn_mops.py",2014-08-28T10:33:45Z,chapmanb
cbfc8bcd849d4b3f86850381249fbe9e9d3125f0,chapmanb,chapmanb@50mail.com,Fix VarScan header output to be compatible with other callers. Enables usage of VarScan in ensemble calling,2014-08-28T09:51:03Z,chapmanb
c266e4e0d0543eafaf8475c370cfc89fde7e1375,chapmanb,chapmanb@50mail.com,Improve BED preparation by moving creation of merged BED files to initial steps. Avoids potential race conditions when processing the same file in parallel over multiple chromosomes during initial runs,2014-08-28T09:46:24Z,chapmanb
91ed6890995286dbfd18eaa3afbe633132668e3c,chapmanb,chapmanb@50mail.com,Enable detection of sample mixups with 'mixup_check' input parameter. Enable for standard and variant calling pipelines. Ensure correct handling of integer batch names,2014-08-28T09:21:20Z,chapmanb
b53d816980ef5e61be727a6d96be2ee81723817f,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #565 from kern3020/master

Simplified RNA get data script a bit",2014-08-27T21:25:15Z,roryk
b72d77807f03abbb748b3540b7ce430c3ed15a0e,John Kern,kern3020@gmail.com, add a for loop.,2014-08-27T20:53:31Z,kern3020
6de25a951a8c8e37a568a889f1a41c4aac9e809a,Rory Kirchner,rory.kirchner@gmail.com,Fix name of SEQC data grabber script.,2014-08-27T17:57:43Z,roryk
9dc65e0027323380f8d422ce814c4b8b2d27fe5e,roryk,rory.kirchner@gmail.com,Add script to get data from the SEQC project.,2014-08-27T17:56:06Z,roryk
469ff2aca5aea9fbd8ea23f7f9dea9d8eab70e5a,roryk,rory.kirchner@gmail.com,"If upgrading to development version, also upgrade the tools.",2014-08-27T16:16:36Z,roryk
d9c6479a57c57a530e67083e35fbacc6497725bd,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update cn_mops.py

Proposing these changes as I've seen errors coming from the (experimental) ``calcFractionalCopyNumbers`` function but same analyses finish fine using ``calcIntegerCopyNumbers``.",2014-08-27T12:59:27Z,mjafin
036a2ad335da4025ec03d50ec35ea8e0219680dc,Brad Chapman,chapmanb@50mail.com,"Merge pull request #562 from mjafin/somatic_ensemble

Ensemble enabled for tumor-normal studies",2014-08-27T10:56:58Z,chapmanb
efdac108d314faa8810451cccc306e74fbc341d6,chapmanb,chapmanb@50mail.com,Remove LCR regions before feeding into scalpel to improve runtimes on whole genome analyses,2014-08-27T10:18:56Z,chapmanb
3ce90e33faf7be36f8a71520705faabb9727a7ac,Rory Kirchner,rory.kirchner@gmail.com,Fix data grabbing script to have a consistent name,2014-08-27T03:41:11Z,roryk
271630aab6cced63a0cb0f3325eb0822f392a776,Rory Kirchner,rory.kirchner@gmail.com,Update working with RNA-seq pipeline instructions,2014-08-27T03:37:55Z,roryk
bce07fcd51bae4ce84f397432ca0580548e7dc02,chapmanb,chapmanb@50mail.com,"Fixes for GATK joint haplotype calling: correctly batch groups when using post-alignment preparation, provide useful error message when missing batches, filter stray NON_REF gVCF calls in GATK HaplotypeCaller output. Thanks to @lpantano",2014-08-26T18:52:20Z,chapmanb
01a6d99c7a8bb7a73ee35313c8af4c6b4d8c66fe,chapmanb,chapmanb@50mail.com,Enable streaming S3 input to RNA-seq and variant processing.,2014-08-26T18:07:15Z,chapmanb
76727d65e42b4fea6869b9fad0b6e41b6403efa6,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Ensemble enabled for tumor-normal studies.,2014-08-26T13:46:31Z,N/A
26cefc2a8df377071230e61ba3d90b932dd15b06,chapmanb,chapmanb@50mail.com,Do not require cutadapt on PATH and use the command relative to Python installation. Fixes #561,2014-08-25T23:07:55Z,chapmanb
eca4ac24202818e93a4a791b29ee0aefe991779d,chapmanb,chapmanb@50mail.com,Update speedseq lumpy calling to match command line arguments in latest version,2014-08-25T14:51:39Z,chapmanb
f55cd7a36d25bdd8b5fee6701e6fe917e6fc11f7,chapmanb,chapmanb@50mail.com,Initial work on CNVkit integration -- support for testing single sample calls (cc @etal),2014-08-25T12:37:39Z,chapmanb
a5a03e3402bb7b6c0b0182780b83ab95e6284abd,chapmanb,chapmanb@50mail.com,Add dependencies for cnvkit installation and provide target to only update conda deps,2014-08-24T20:54:58Z,chapmanb
39ba368892208c07dc866db22d612a1a40937ec4,chapmanb,chapmanb@50mail.com,Edge case fixes for somatic variant calling: FreeBayes somatic correction restarts when partially finished and scalpel region preparation from tuples,2014-08-24T10:13:01Z,chapmanb
1d2e00266d44ef6ef5ecc5ab1212069040ed490d,Rory Kirchner,rory.kirchner@gmail.com,Actually add Matt to the contributor list.,2014-08-22T19:08:18Z,roryk
f2f3bbeb5376e8bdce9062c3a6345f1fda663ed4,Rory Kirchner,rory.kirchner@gmail.com,Added @matted to the contributor list.,2014-08-22T19:06:07Z,roryk
926411da65ef4fcae36e628572681c1459045eb2,Matt Edwards,mttdwrds@gmail.com,"Added proper readgroup information in bowtie2 alignment.
Closes #552.",2014-08-22T19:02:35Z,matted
15cb8bdf8561a39c7ee535ba4bb4e493b9216f1a,chapmanb,chapmanb@50mail.com,Improvements to java memory usage for VarScan and MuTect to help scale tumor/normal variant calling,2014-08-22T14:42:32Z,chapmanb
77ab16ef6531839a169801b80f0639a133e6c8dd,chapmanb,chapmanb@50mail.com,Support variant calling for organisms without dbSNP files. Thanks to Mark Rose.,2014-08-20T19:07:32Z,chapmanb
e5b0ed67a29b6f88875b28cb7ce65f22c6d382dc,roryk,rory.kirchner@gmail.com,"Fix for matplotlib not connecting to a display.

Toggle plt.ioff everywhere before plotting.",2014-08-20T12:39:00Z,roryk
523d37a500387600ee89159e18a536d859525d11,chapmanb,chapmanb@50mail.com,Bump ipython-cluster-helper with mincores and cleanup improvements for development,2014-08-20T10:57:05Z,chapmanb
073dee18fc4ec11796a7f52c87726d6e58f758b3,chapmanb,chapmanb@50mail.com,Improve SNAP memory usage and avoid secondary alignments to improve performance.,2014-08-20T10:22:51Z,chapmanb
148bd5d0552657fdb9c04999f5d17af8cfc48b41,Brad Chapman,chapmanb@50mail.com,"Merge pull request #550 from lpantano/upstream

related to kraken and qsiganture memory",2014-08-20T10:18:58Z,chapmanb
7252e2ab5dde2d9ff8c6a1db628067b91f264225,chapmanb,chapmanb@50mail.com,Add additional documentation on 'coverage_interval' usage. Fixes #549,2014-08-20T02:52:03Z,chapmanb
5aa741930d902302636f3e4ae08444aef226a9a9,Lorena,lorena.pantano@gmail.com,"kraken only run in some cases

if initial files are bams, kraken won't run. these lines were meant if there was a conversion to fastq from bam",2014-08-19T21:15:09Z,lpantano
8eeb87776a1579c71c0891705cd9563412e48a6a,Lorena,lorena.pantano@gmail.com,fix kraken db installatin,2014-08-19T21:04:18Z,lpantano
18e8b781f9652c5c3da55e88b7ca3ec57170b389,Lorena,lorena.pantano@gmail.com,"add kraken to standard pipeline, fix bugs for kraken, and reducing memory for qsignature

more changes for kraken",2014-08-19T21:04:11Z,lpantano
61496ec98fb5e25288c59d2379ed7cbd8f415b93,roryk,rory.kirchner@gmail.com,Use more evocative names for the alignment/qc checkpoint files.,2014-08-19T16:33:01Z,roryk
38cfd5490a28367bf2de25d6e18faea74a85058c,chapmanb,chapmanb@50mail.com,Enable validation on joint called samples. Ensure deepish_copy handles nested dictionaries,2014-08-19T09:33:42Z,chapmanb
b3c911cd90bc6e7830055433ee41a54afefe1fde,chapmanb,chapmanb@50mail.com,Ensure genome_build treated as a string for numerical genomes. Thanks to Mark Rose,2014-08-19T01:22:59Z,chapmanb
a26de94662ed14d0573cbc2b1d1ae6a22df045d5,chapmanb,chapmanb@50mail.com,Use GATK CatVariants for concatenation to avoid issues with vcfcat and GATK multi-sample output. Fixes #547,2014-08-18T10:33:10Z,chapmanb
c3f3af893b061fcd788e54a30c558867ff757271,chapmanb,chapmanb@50mail.com,Improvement re-run speed by avoiding overhead of copy.deepcopy during parallelization. Provide better hooks for cleaning up clusters during failure to ensure controller/engines removed,2014-08-18T10:04:55Z,chapmanb
630613dba46efecb9183899ceebda70dd9da1086,chapmanb,chapmanb@50mail.com,Additional java scaling memory improvements for joint recalling and validation,2014-08-17T09:52:54Z,chapmanb
f63a2f630b3524e20a4b1fee24d48457266bcd1c,chapmanb,chapmanb@50mail.com,Improve Java memory usage for large numbers of tasks: use serial GC instead of parallel and slightly reduce GATK memory usage to stay within configured limits. #532 Thanks to @BioInfo @mjafin,2014-08-16T08:43:42Z,chapmanb
57ed926a0365fefa1a1c1ca061620ff98a676be4,roryk,rory.kirchner@gmail.com,"Workaround for sickle not handling 0-length reads added.

Just use cutadapt and write to temporary files for now, we'll
revert that switch when sickle is fixed.

Pin cutadapt to 1.4.2; 1.5.0 has some issues with file format
detection.",2014-08-15T04:04:00Z,roryk
1ce6784820680bf26a089906386307769b497210,chapmanb,chapmanb@50mail.com,Provide better estimation of batch sizes based on open file limits. Thanks to Nick Carriero for patch. Get list of contributors up to date,2014-08-15T01:31:33Z,chapmanb
f2e5707ffdbc78b46fb4a29e0ff93dc0e480c56c,chapmanb,chapmanb@50mail.com,Script to format DREAM truthsets into VCFs and BEDs to feed into bcbio-nextgen evaluations,2014-08-13T15:57:13Z,chapmanb
168942cc0504f4b22618944e15433639184e66a3,chapmanb,chapmanb@50mail.com,Initial cancer calling evaluation using DREAM challenge synthetic dataset 3,2014-08-13T15:56:21Z,chapmanb
c2e3b934eee7e9c4ce8621e6186b24b0c4f0b8ab,chapmanb,chapmanb@50mail.com,Merge branch 'lpantano-upstream',2014-08-13T10:29:33Z,chapmanb
23be01cfb6ae97440ccb6966d54c49ddcb21fedb,chapmanb,chapmanb@50mail.com,Merge upstream changes,2014-08-13T10:29:20Z,chapmanb
146c764db47949923fc571a0c80936956b63cbe7,roryk,rory.kirchner@gmail.com,"Subsetting a gzipped FASTQ file for testing fixed.

It was outputting uncompressed FASTQ files that had an extension of
.gz. This fixes that behavior by adding a gzip file opener that
will do the right thing if it is a gzipped file.",2014-08-13T00:49:53Z,roryk
d9c0e12289764d6522d100d6c8d3ab2947cd424d,roryk,rory.kirchner@gmail.com,Fix single-end progress message for STAR.,2014-08-12T21:55:19Z,roryk
385b7ef899211c7c5fa8d59e280101a15a2c464e,roryk,rory.kirchner@gmail.com,Pin cutadapt to version 1.5.,2014-08-12T21:55:08Z,roryk
c8bea2e5213103322f6b8927b5aea796438ac217,Lorena,lorena.pantano@gmail.com,"add qsignature to main.py. Fix possible problems is qsignature doesn't run, and prepare to accept whole genome analysis",2014-08-12T18:33:55Z,lpantano
f0d013177630d47fd7b6d0c5c39f0387c9c53d52,chapmanb,chapmanb@50mail.com,"Add configuration for evaluating joint calling, platypus and SNAP. Small fixes to SNAP sorting memory usage to leave enough for alignment",2014-08-12T13:04:05Z,chapmanb
16dacf4bc9b0fb33b166ef915cad0944954c1631,Brad Chapman,chapmanb@50mail.com,"Merge pull request #546 from kern3020/master

fix syntax error",2014-08-12T11:37:38Z,chapmanb
af0922b28fd888e84b0abfdf1485ffcb920e3a05,John Kern,kern3020@gmail.com,fix syntax error,2014-08-12T02:28:05Z,kern3020
cb981889028764e232e67d45bf4de587d898bcbd,chapmanb,chapmanb@50mail.com,Support germline variant detection with Platypus caller for both batch and joint calling approaches,2014-08-11T17:36:09Z,chapmanb
b871efb93a57bf8d1dfea54fda54538443d7751e,chapmanb,chapmanb@50mail.com,Add support for SNAP aligner indexes,2014-08-11T10:02:49Z,chapmanb
db0a2587818773fd0964a36936637ac0881a0d1a,chapmanb,chapmanb@50mail.com,Fixes for pre-aligned input: ensure BAM index creation after de-duplication (#545). Ensable fixing of incorrect BAM quality scores by specifying 'illumina' for 'quality_format' (thanks to Craig Bohrson).,2014-08-10T17:34:07Z,chapmanb
f624d24ff4301b90b864a905a4500fed7889488d,chapmanb,chapmanb@50mail.com,Document addition of joint calling in history file,2014-08-10T10:40:20Z,chapmanb
2e657cc5db0773aa11e8c38cdf0db5265f7f8146,chapmanb,chapmanb@50mail.com,Enable running joint recalling with multiple approaches simultaneously. Provide documentation for use in development version #348,2014-08-10T10:27:27Z,chapmanb
8d35caaa518e1d039d4d5a71e8594bdd93e62826,roryk,rory.kirchner@gmail.com,Switch default backend of matplotlib to 'agg' in the rc file.,2014-08-09T16:03:41Z,roryk
a5a25cdfd4486de733a2284b6edf50dd84060eac,chapmanb,chapmanb@50mail.com,Add LC_ALL export required for Delly CentOS5 binary on newer systems,2014-08-09T10:10:31Z,chapmanb
e1763ea2f929decc7972aa45487ed205c0772cf1,chapmanb,chapmanb@50mail.com,Full framework support for GATK 3.x joint recalling approach. Needs a bit of additional refactoring to supporting multiple simultaneous variant calling and joint calling approaches before documenting and making fully supported (#348),2014-08-08T17:07:19Z,chapmanb
6ff7dce20124bb53c6c24d5deaa7703167262f66,roryk,rory.kirchner@gmail.com,"Fixes for matplotlib error.

When some functions are getting pickled and sent to the engines,
I think what is happening is that is the first time matplotlib
has been imported on the engine even though it has been imported
at the top-level bcbio-nextgen process. So we have to set it to
use 'Agg' as the backend. We also set it to force the creation
of a new backend, which might work to wipe out a stale matplotlib
backend that is looking for a display.

Also bonus trailing space removal issues.

Thanks to @chapmanb, @lpantano and @mistrm82 for figuring out what
was up. Unless this didn't fix it, then no thanks.",2014-08-08T14:59:00Z,roryk
2ac0c9e904cac302bea1c6bd1fb9ac5993b36dde,Brad Chapman,chapmanb@50mail.com,"Merge pull request #543 from lpantano/upstream

add docs for qsignature and kraken, and remove E321(PEP8) from qsignatur...",2014-08-08T10:33:15Z,chapmanb
ba2102313f94f9c49845c366386db631cf144b40,roryk,rory.kirchner@gmail.com,"Remove too-small reads for single-end RNA-seq experiments.

Thanks to @mistrm82 for the report.",2014-08-07T20:56:50Z,roryk
474ae152c2dc0df0d5a1f68b6f1f16bf98f26950,Lorena Pantano,lorena.pantano@gmail.com,add lower(),2014-08-07T19:43:50Z,lpantano
de4a5def899a28c7620fbfdcb7acec39cf6ac1a8,Lorena Pantano,lorena.pantano@gmail.com,"add docs for qsignature and kraken, and remove E321(PEP8) from qsignature and kraken code",2014-08-07T19:23:49Z,lpantano
f9315760c7b89ac9f08de71836dd25fd6ead45dd,chapmanb,chapmanb@50mail.com,msgpack inputs to parallelization at level of individual arguments instead of full item to match unpacking. Hope to resolve intermittent errors during ipython processing,2014-08-07T18:15:26Z,chapmanb
c8e7eadbcf5a50577b3423a4e48570506adc738f,Brad Chapman,chapmanb@50mail.com,"Merge pull request #542 from lpantano/upstream

return empty list if genome has no qsignature.vcf file",2014-08-07T18:10:14Z,chapmanb
67830eeba2a7770827d65bcb6aa480faa6cea9ef,Lorena Pantano,lorena.pantano@gmail.com,return empty list if genome has no qsignature.vcf file,2014-08-07T16:23:48Z,lpantano
e72c568d04fabb44b2c4a537261cb90c7259b498,chapmanb,chapmanb@50mail.com,Return information from qsignature even for empty runs to avoid errors when parallelizing and packing messages. Fixes #541,2014-08-07T15:38:50Z,chapmanb
963a5627bcbbf2fa734af5ff6376604d71caebf5,chapmanb,chapmanb@50mail.com,Fix cn.mops description in configuration to describe cavaets I meant to include (#540). Slides for intel presentation,2014-08-07T10:24:08Z,chapmanb
64be6112e1662eef3038a7ed1d577e410c40fc86,Brad Chapman,chapmanb@50mail.com,"Merge pull request #540 from mjafin/patch-4

Update configuration.rst for cn.mops",2014-08-07T10:17:09Z,chapmanb
2e34f1af4bd8eef6ca7baf6a812341572f16e8bb,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update configuration.rst

Updated cn.mops doc",2014-08-07T08:52:53Z,mjafin
9feb8597c989772aa88a5b2bd27fa01d3f80bc60,roryk,rory.kirchner@gmail.com,Whitespace fixes.,2014-08-07T03:55:51Z,roryk
2bd478a997b232dc096acc68eccadefc24ff870c,roryk,rory.kirchner@gmail.com,Add qsignature to the integration test system YAML file.,2014-08-07T03:54:32Z,roryk
16fd72d3da2c18eed71362ecdbce38b743245262,roryk,rory.kirchner@gmail.com,"Stream SAM output of STAR to make a sorted BAM file.

Part of the work to speed up the RNA-seq parts and consume less disk.",2014-08-07T03:54:32Z,roryk
68a4afdcedcefd8affabc9ffb0e6cd76a0ca529c,chapmanb,chapmanb@50mail.com,Ensure PERL5LIB set when install VEP via installer (#530). Cleanly handle missing msgpack installation,2014-08-06T19:14:12Z,chapmanb
822b2c7c70cdd142583d26a9aaf0867fb901dbb9,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #535 from kern3020/master

fix typo",2014-08-06T17:43:58Z,roryk
8b2bf55687fb9f476984460b6f85894119e21052,chapmanb,chapmanb@50mail.com,Use msgpack for transport instead of custom zipped json to reduce transfer sizes and memory ussage. Update to ipython-cluster-helper 0.3.0 (chapmanb/bcbio-nextgen#532),2014-08-06T17:35:37Z,chapmanb
ae6046e58162a9000962691aa0dcf58bf2030627,chapmanb,chapmanb@50mail.com,Merge branch 'lpantano-upstream',2014-08-06T10:19:42Z,chapmanb
6cf49239c6cd7011dc03e1aa3a92b958eaca5045,chapmanb,chapmanb@50mail.com,Merge qsignature datadict changes,2014-08-06T10:19:30Z,chapmanb
18b54052b5aa7a146bcf55735a71e684b69cafff,Brad Chapman,chapmanb@50mail.com,"Merge pull request #538 from mjafin/master

RNA-seq variant calling preparations",2014-08-06T10:16:47Z,chapmanb
4249d607efad48641cc8a5037a6a2a6a8677a629,roryk,rory.kirchner@gmail.com,"Trimming overhaul, removal of decompression of FASTQ files.

1) Don't uncompress FASTQ files while trimming.
AlienTrimmer does not work on gzipped files, and the recent skewer paper shows
AlienTrimmer is not as sensitive as the other trimmers, so it is time to
retire it.

http://www.biomedcentral.com/1471-2105/15/182

2) cutadapt + skewer to trim
cutadapt has had the weakness of being slow and not handling paired data
particuarlly well. We run cutadapt without removing any reads and then use
scythe to remove the reads that are too short, streaming between the two so we
don't touch disk.  With the 1.4 release of cutadapt, trimming has been sped up
a ton, especially with gzipped files so this should be fast.",2014-08-05T15:37:08Z,roryk
152ccd35b87995451410429886405eab04abe794,Lorena Pantano,lorena.pantano@gmail.com,"add history changes, and run only if qsign is installed

fix variable name",2014-08-05T14:54:31Z,lpantano
feb7dc09cf1523002ccc494d93e7e7718b4e2861,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,-U ALL option added to variant annotation only instead of all Gatk calls,2014-08-05T12:53:20Z,N/A
2bb36fa4c7761e15f5715d7bb41f48a9e664b49d,Brad Chapman,chapmanb@50mail.com,"Merge pull request #533 from mjafin/patch-3

Disambiguate and fusion fields updated in docs",2014-08-05T11:38:18Z,chapmanb
92e6cb6d812b47cb77778c9170c396401642da97,chapmanb,chapmanb@50mail.com,"Ensure we install data on upgrade if genomes, aligners or toolplus specified #537",2014-08-05T11:09:36Z,chapmanb
0f06d67f52142756628313218b75cfa949924bb6,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Merge branch 'rnaseqvar',2014-08-05T07:13:03Z,N/A
2b06500b95b219030cbf8479fd3eed8a9045ab05,John Kern,kern3020@gmail.com,fix typo,2014-08-05T01:34:16Z,kern3020
17dad0602ef51fe57514b6008c1542e1c340f85e,Lorena Pantano,lorena.pantano@gmail.com,"add total samples, and similar sample to report",2014-08-04T20:44:24Z,lpantano
19185d505b3d58b6d231faf3c7298ef51e582378,Lorena Pantano,lorena.pantano@gmail.com,"qsignature implementation

fix merge

add qsignature to multitask

add qsignature to qcsummary

remove slice from bam.__init__

remove weird space",2014-08-04T20:00:09Z,lpantano
902aa20f2b0e912f4b4b1cafb0440f81b7ec146c,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Small updates to Gatk syntax to handle RNA-seq alignments,2014-08-04T15:51:35Z,N/A
4bafba672b5fc95e45b630d299c462fbf7e14f2f,chapmanb,chapmanb@50mail.com,Ensure bedtools genomecov considers split reads (thanks to @mjafin). Update data if genomes or aligners specified (thanks to @lpantano),2014-08-04T14:08:12Z,chapmanb
d652093695f49f19a6a4bef1042bab71bfb13e5e,chapmanb,chapmanb@50mail.com,Initial work evaluating SMaSH. Not finished or integrated into bcbio processing,2014-08-04T10:41:57Z,chapmanb
74b99e3dee9fd4701e2f394521ce770677aaafc6,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Disambiguate and fusion fields updated in docs

Hi Brad,
I've included some documentation on fusion detection and disambiguation.
Whenever you think this is good to be included, please merge",2014-08-04T08:18:06Z,mjafin
e4ed3b1f71555670499f1ac943c9a2af99ae0442,Brad Chapman,chapmanb@50mail.com,"Merge pull request #531 from mjafin/oncofuse

Fusion mode for oncofuse fixed. Implemented disambiguation for STAR fusi...",2014-08-03T10:24:56Z,chapmanb
c631b2990137e9e18a47a4ad59f824f51d4399f5,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2014-08-03T01:23:42Z,chapmanb
84352659b127bd634eb69dbd663a630b53aa24ca,chapmanb,chapmanb@50mail.com,Fixes for nglims integration and illumina processing: more cleanly handle error cases,2014-08-03T01:21:37Z,chapmanb
ac82a1d25cab0c498d645f899abc3af65c8fbbba,chapmanb,chapmanb@50mail.com,Add plots of structural variant validation sensitivity and precision,2014-08-02T10:56:58Z,chapmanb
646d899c45f60c2b9945c51a8a0f587274bb49e5,chapmanb,chapmanb@50mail.com,Update Vagrant VM build to use Ubuntu 14.04 to avoid out of date issues with machine and extensions. Fixes #530,2014-08-02T00:33:27Z,chapmanb
dddf2d15171f7b206df1148b876051d74f8c59c5,chapmanb,chapmanb@50mail.com,Update documentation on virtualbox installation to avoid pointing to older virtual machines and include new defaults in the latest release. Fixes #530,2014-08-01T19:11:30Z,chapmanb
46a115ac2be1c91c181bbe9885568a43c056dea5,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Fusion mode for oncofuse fixed. Implemented disambiguation for STAR fusions,2014-08-01T18:42:37Z,N/A
04984e74eaf50970524dd3b5fd8b11b9233147de,chapmanb,chapmanb@50mail.com,Documentation and configuration files for running whole genome structural variant evaluations on NA12878 data,2014-08-01T15:00:29Z,chapmanb
fc2e3585871b65fdcb896f1f502b767f8b637f05,chapmanb,chapmanb@50mail.com,Correctly prepare the GATK version when _JAVA_OPTIONS specified. Fixes #529,2014-08-01T13:54:51Z,chapmanb
5af4296bff9945cfdfc9d4623a100933ce28a4e7,chapmanb,chapmanb@50mail.com,Improved structural variant validation: split validated results from event size to identify strengths of individual callers,2014-07-31T10:45:20Z,chapmanb
eeeba609afe732b8e95aa535e70d4cdd2ae1aac7,roryk,rory.kirchner@gmail.com,Remove some cruft from the cufflinks test.,2014-07-30T16:13:57Z,roryk
d41e75493270b70fb66d5b2ce5ce09dee3f15027,Brad Chapman,chapmanb@50mail.com,"Merge pull request #525 from mjafin/patch-2

Vardict added to the list of somatic ..",2014-07-30T10:07:19Z,chapmanb
8307ea8d0a2f937827a3b877e27c87cc481e026b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #524 from mjafin/patch-1

Update paired variant calling information",2014-07-30T10:07:15Z,chapmanb
c72a0e93f6f80046ce57c49286be07aebd8d2283,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Vardict added to the list of somatic ..

variant callers",2014-07-30T08:49:27Z,mjafin
847011c4c355977b1d32749d45277239519f693e,Miika Ahdesmaki,miika.ahdesmaki@live.fi,Update paired variant calling information,2014-07-30T08:47:39Z,mjafin
70035bee2f2b8e87aa071050b37244f4c6534877,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-07-29T21:49:53Z,roryk
1d329f8c50938f58de6ac28e9d9202fcd86e5246,roryk,rory.kirchner@gmail.com,Use mm10 in the documentation instead of GRCm38.,2014-07-29T21:49:37Z,roryk
e8cfc03fc1c18d16eb6b1b8cf22532a2d7dd850a,chapmanb,chapmanb@50mail.com,"Label structural variant output files by batches, allowing multiple batches to be run on the same input BAM files for partially overlapping analyses. Fixes #513",2014-07-29T19:19:35Z,chapmanb
569b1a48e28bc49afef896437152eca74d079af3,roryk,rory.kirchner@gmail.com,"Missing import fixed.

Thanks to @medboth. Closes #522.",2014-07-29T14:37:25Z,roryk
f64af2560643ecb790549392d2863de42caa0d01,chapmanb,chapmanb@50mail.com,v0.8.0 release,2014-07-28T10:49:51Z,chapmanb
aa123a2772546a592b80246bf1d6bb0a547ce86f,chapmanb,chapmanb@50mail.com,"Change installation defaults: no longer use sudo by default, and require explicit specification of genomes and aligners to install. Enables more minimal isolated installations",2014-07-28T10:15:24Z,chapmanb
d18cf06d9bb6af5f1681d9bcb3a004847cb39446,chapmanb,chapmanb@50mail.com,"Work towards enabling non-shared filesystems: generate output files for cominbing on the fly, pre-calculate callable region counts, clean up postprocess_alignment output to be consistent",2014-07-28T01:12:16Z,chapmanb
4d28b46780f73aa69bc8124023023e0051907b54,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-07-27T10:16:39Z,chapmanb
ad37b51aab41461ee70007d2719c049f079b5ff4,chapmanb,chapmanb@50mail.com,Use index files for finding alignment genomes instead of potentially non-existant 'base' file. Enables finding on non-shared filesystems where locations change,2014-07-27T10:15:53Z,chapmanb
72dee2b16d8750aeab41de36028fffbff3fb6964,chapmanb,chapmanb@50mail.com,"Structural variation improvements: Delly downsampling to 50M reads, limit maximum callsize into ensemble/BED calls for validation. Handle CNV based matches",2014-07-26T16:51:22Z,chapmanb
40103210629fdf2e0cd516a81c814d5b771e1c82,chapmanb,chapmanb@50mail.com,Support additional genomes: TAIR10 and WBcel235,2014-07-25T15:10:55Z,chapmanb
8c93fe2dc4d2966e106a4b3edf5aa23550703481,Brad Chapman,chapmanb@50mail.com,"Merge pull request #518 from mjafin/freebayes

Tumour only calling using FreeBayes falls back to single sample mode",2014-07-25T11:51:10Z,chapmanb
cf3c5ad7038699bf11cdb8feeec5cd2a8d910647,chapmanb,chapmanb@50mail.com,Avoid doing merging of input variant_regions BED files until required. Enables passing initial full files with extra fields through to VarDict and other callers that require them. Thanks to @mjafin @bioinfo,2014-07-24T18:13:02Z,chapmanb
1dfcbcf1ba1ee32a8425dce64b4f0a54256144a0,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Added FreeBayes tumor-only test,2014-07-24T18:04:46Z,N/A
14fb6762626ee3e490163b98fee4b62212c9d53d,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,vcfallelicprimitives applied to paired FreeBayes output,2014-07-24T17:59:41Z,N/A
42ac1d068d4c804c276fbfc371ab474ce1324125,chapmanb,chapmanb@50mail.com,Avoid division by zero error in cpat (fixes #517). Cleanly avoid running cpat if not installed,2014-07-24T14:58:33Z,chapmanb
ebaea7606c25ecd81b3fe19cd6dd0e104d83bbf6,chapmanb,chapmanb@50mail.com,Calculate fastqc name to find after downsampling to ensure we correctly find files in downsampling applied. Fixes #512,2014-07-24T09:50:45Z,chapmanb
240f50467ddc05877d70682dc2fa21b41427d754,"Ahdesmaki, Miika J",Miika.Ahdesmaki@astrazeneca.com,Tumour only calling using FreeBayes falls back to single sample mode,2014-07-24T09:39:21Z,N/A
fbdf0c473748c55b81ac2c35152da6d8c3bac122,chapmanb,chapmanb@50mail.com,Support new merge arguments in bedtools 2.20.1 (fixes #515). Provide ability to retrieve file extensions in general way. Update history with VarDict and add support to cancer tests,2014-07-23T14:16:31Z,chapmanb
de6dbd776d59520f997120f698453e1ec71cc6bc,Brad Chapman,chapmanb@50mail.com,"Merge pull request #514 from mjafin/master

VarDict integration in bcbio",2014-07-23T09:40:53Z,chapmanb
7fc596341805414c153ccbca95140a63bcaacc89,klrl262,miika.ahdesmaki@astrazeneca.com,Fix to correctly pass paired.tumor_name,2014-07-23T08:20:40Z,N/A
8e7f378f61ca35fc22e043b518dab27b8d941622,klrl262,miika.ahdesmaki@astrazeneca.com,vardict development started,2014-07-22T19:05:43Z,N/A
2b23fc844a0c0b2fff562412aebfc30151600009,klrl262,miika.ahdesmaki@astrazeneca.com,Vardict changes to accommodate empty files containing no variants,2014-07-22T19:05:31Z,N/A
0d98608214e6707aa4ab406d97cd0bb0a5dc7e31,klrl262,miika.ahdesmaki@astrazeneca.com,Vardict integrated into bcbio-nextgen,2014-07-22T19:05:31Z,N/A
90c5c00c56bac108389db76aaeb5cb864df52df8,klrl262,miika.ahdesmaki@astrazeneca.com,vardict development started,2014-07-22T19:05:13Z,N/A
1213af63644e272e49951a60b381803763a3dcc2,chapmanb,chapmanb@50mail.com,Remove cpat requirement until conda install has chance to propagate (heads up @roryk). Utility function to retrieve data dictionary from argument list,2014-07-22T11:01:54Z,chapmanb
3743f5d190294cfc2b3496ab69e9deacf0e33444,roryk,rory.kirchner@gmail.com,Throw error if fastq1 == fastq2 in the configuration file.,2014-07-22T00:52:13Z,roryk
103b6c75ec10b6117d892d8cd4e05991930ada3c,roryk,rory.kirchner@gmail.com,Updated with work over the last month.,2014-07-21T21:37:59Z,roryk
e961e4d9dd32beb9ee712f726c8b75ce2cf21c54,roryk,rory.kirchner@gmail.com,"Extra annotations to transcriptome-assembly.

1) use the main reference as a scaffold for newly assembled transcripts,
this keeps known gene_ids and transcript_ids and places novel transcripts
of a known gene_id on the known gene_id
2) broadly classify as lincRNA, ncRNA and protein_coding by training
a logistic model to classify non_coding and coding transcripts in
the known reference.
3) remove some Cufflinks specific garbage transcripts such as single exon
novel genes",2014-07-21T20:50:10Z,roryk
41313c4fc898b87828554cdaee35f0b507fad363,chapmanb,chapmanb@50mail.com,Add support for fastqc 0.11+ with combined single HTML file output (Fixes chapmanb/bcbio-nextgen#512),2014-07-21T15:32:26Z,chapmanb
3ad15bc6c0e171ece6a91a4096f3d2b2f0858b83,chapmanb,chapmanb@50mail.com,Expose algorithm keys we avoid processing on to use from bcbio_vm data preparation code,2014-07-21T09:52:56Z,chapmanb
c34276d3dc0396cc59e16ac11eb07819a63a9504,roryk,rory.kirchner@gmail.com,Add DEXseq to rnaseq pipeline.,2014-07-20T22:05:59Z,roryk
6be2d07ca4368f7c19b924abed0343c1bd4cf7f8,roryk,rory.kirchner@gmail.com,Add optional global defaults to the datadict.,2014-07-20T22:05:37Z,roryk
15a4657ca9e8d339ca611fa402db038ec3f29d83,roryk,rory.kirchner@gmail.com,Remove skip of dexseq unit test cleanup.,2014-07-20T22:05:17Z,roryk
745e0e084639836e7dacabd52f870d1bf53aad2a,roryk,rory.kirchner@gmail.com,Fix for new downsample function signature.,2014-07-20T20:43:23Z,roryk
960ed25d564735f4dd455cbf9595f25830549e6d,roryk,rory.kirchner@gmail.com,Run dexseq from a bcbio-dict with unit test.,2014-07-20T19:35:54Z,roryk
638543d0322412ebf9c366ae3d9ad882862f6cee,roryk,rory.kirchner@gmail.com,"Add dexseq_gff, rRNA and the refFlat file to the genome resources.",2014-07-20T19:35:18Z,roryk
337b1ef2eccf2262f3db080a07c6e2f8c68b6188,roryk,rory.kirchner@gmail.com,"Move datadict lookups, set globals instead of using a class.

It is safe to do this with globals. locals has this warning in the
python docs:

'The contents of this dictionary should not be modified; changes
may not affect the values of local and free variables.'
globals does not have the same warning so it should be safe to modify",2014-07-20T07:06:05Z,roryk
8a6fef71407b98aea9c2188e81dde49d01ea3850,chapmanb,chapmanb@50mail.com,Provide Delly specific filtering on paired end and split read evidence. Prepare Delly specific exclude file,2014-07-19T09:42:10Z,chapmanb
d9e03499b6b247ce6e6eb612af92b1d42cd0cc38,roryk,rory.kirchner@gmail.com,Add optional checking functions to the data dictionary.,2014-07-18T19:13:54Z,roryk
a231377f4b1282c09193c1bcaa11c2344f846d47,roryk,rory.kirchner@gmail.com,Fix ChIP-Seq integration test.,2014-07-18T17:47:01Z,roryk
59d24c1a7741a302acd3d46d7542501a144820ba,roryk,rory.kirchner@gmail.com,"Proof of concept for new data-dictionary lookups.

The idea is that we can specify how the items are looked up in
the data dictionary in one place and have simple setters/getters
generated automatically.

This allows for much simpler testing because instead of having
to have a YAML file specified, you can create one with only the
attributes you need to set.

For example:
from bcbio.dd import dd
config = dd.set_gtf_file({}, 'foo') => {'genome_resources': {'rnaseq': {'transcripts': 'foo'}}}
gtf_file = dd.get_gtf_file(config) => 'foo'

It also allows easier integration with other tools using our wrappers since
they don't have to create our data dictionary.",2014-07-18T17:22:30Z,roryk
8373a0ab6595989e1721021407f76d0d32389a59,chapmanb,chapmanb@50mail.com,Use downsampled normal inputs next to samblaster discordant and split reads for delly structural variation detection to help improve run times. Refactor shared structural variant functionality into separate namespace,2014-07-18T16:29:47Z,chapmanb
d4231c49799fac2164183b1c33e9216f92078b70,roryk,rory.kirchner@gmail.com,Add test for combing DEXseq count files into one file.,2014-07-17T23:19:32Z,roryk
03cb03324cb6bce0226e36d685e1eff86cbd38b5,roryk,rory.kirchner@gmail.com,Fail on combining counts if one of the input files is missing.,2014-07-17T23:19:09Z,roryk
83096d63ab42edabd80d9e05bb9f8efac507a982,roryk,rory.kirchner@gmail.com,Add DEXseq counting.,2014-07-17T22:29:16Z,roryk
913687dff5c024cd17d2b11e22ed40cab31e870e,roryk,rory.kirchner@gmail.com,"Fix picard unit tests.

Fix bcbio-nextgen-test-data in .gitignore.",2014-07-17T22:29:16Z,roryk
b5e1ae3b77e4e051c985c80d908e2873a0560b94,roryk,rory.kirchner@gmail.com,Pull from repository if bcbio-nextgen-test-data already exists.,2014-07-17T19:18:37Z,roryk
f1decf1416a764416382a1fb4fbe560684439a27,roryk,rory.kirchner@gmail.com,"Move unit test data to github hosted repo.

Made it a separate repository to limit the bcbio-nextgen
download size.

This hopefully will encourage more unit tests because anyone can
fork and add unit test data to the repository.",2014-07-17T19:14:26Z,roryk
e46fcaa416a41e5859922a1fdcd8fe807897616c,roryk,rory.kirchner@gmail.com,Add missing subprocess import.,2014-07-17T15:14:13Z,roryk
2e94ab72929e6d6d3ed9b987edf839610d8fe66b,roryk,rory.kirchner@gmail.com,"Add R_package_path.

Some R packages like DEXSeq have scripts installed with the
packages. This helps us discover those scripts.",2014-07-17T15:13:42Z,roryk
0a9b2a2ab81b33632395d45fd1a41768e32577d7,Brad Chapman,chapmanb@50mail.com,"Merge pull request #507 from lpantano/upstream

kraken into QC-summary for rnaseq pipeline",2014-07-17T15:06:19Z,chapmanb
7fa6a503617277ad04d097d43a10b4f3698e9a32,Lorena Pantano,lorena.pantano@gmail.com,"add kraken to analysis and DB installation

merge with previous branch

merge qcsummary with last remote update",2014-07-17T14:23:01Z,lpantano
6ab13a999409cd197a01157f37f9c73dc9b98217,roryk,rory.kirchner@gmail.com,Fix for Tophat setting the insert size as the inner distance size.,2014-07-15T21:27:26Z,roryk
c037b48d1f45d5dc51f8a086ff386411d87e6bc7,chapmanb,chapmanb@50mail.com,Clean up RNA-seq tests. Generalize QC detection slightly to run correct quality control for RNA-seq and ChIP-seq on derived pipelines starting with correct prefix,2014-07-15T19:51:13Z,chapmanb
08e61cb72540bd39153a238f777735ea4cbc278f,Brad Chapman,chapmanb@50mail.com,"Merge pull request #505 from mjafin/master

Fixed downsampling for mutect to use Broad default when max_coverage_dep...",2014-07-15T16:42:35Z,chapmanb
cc3fe0f3f6c9e58c82bd7915bd4957d4f5aacb33,chapmanb,chapmanb@50mail.com,Move to using new shared conda collections for installations. Cleanup of coverage integration,2014-07-15T13:28:56Z,chapmanb
4b7ed7ca012fb090bc516dbcb7f4d4cdf738d244,klrl262,miika.ahdesmaki@astrazeneca.com,Minimum downsampling depth for MuTect set to 1500,2014-07-15T11:20:31Z,N/A
b56d19d2ac2267e95c93b39b2296bbf00cd1479d,chapmanb,chapmanb@50mail.com,Merge branch 'kern3020-master',2014-07-14T18:01:07Z,chapmanb
965a5a4a7f9c800609e4b615707e739ad4eb9e90,chapmanb,chapmanb@50mail.com,Merge requirements,2014-07-14T18:00:54Z,chapmanb
e96f11247a32f52418bdfa2472e0081088be3ada,klrl262,miika.ahdesmaki@astrazeneca.com,Fixed downsampling for mutect to use Broad default when max_coverage_depth set to zero,2014-07-14T14:56:45Z,N/A
7120ec086f9e5f297340b04267640f075ef53de3,klrl262,miika.ahdesmaki@astrazeneca.com,"Isoform level fpkm matrix included in output.

Saved in the upload/project directory as combined.isoform.fpkm.",2014-07-14T02:33:13Z,N/A
83fa517f0fa99b29e8019167f4e1c2d745756334,chapmanb,chapmanb@50mail.com,Skip post-annotation with GATK if GATK jar not installed,2014-07-14T00:46:24Z,chapmanb
8662bf24a9f790d736d645ef57e5d7fedc03b53b,chapmanb,chapmanb@50mail.com,Remove extra slash in continued line,2014-07-13T20:13:31Z,chapmanb
232c7708e2976ff060492a88fdc9e9131f9e133d,chapmanb,chapmanb@50mail.com,Fix for arvados client specification #501,2014-07-13T18:44:51Z,chapmanb
ebf63d8bbce5c6e1febc4dfb71cd78dc9f6174b1,Brad Chapman,chapmanb@50mail.com,"Merge pull request #501 from curoverse/master

Add arvados-python-client dependency.",2014-07-13T18:25:14Z,chapmanb
51aaafa36c58863798d0c70f70265c65d8fc57c0,chapmanb,chapmanb@50mail.com,More work fixing paths and ld_library_path for docker #497,2014-07-13T18:23:59Z,chapmanb
d2c7b20766a4f5d2e5ecdc317409e09a16584edb,roryk,rory.kirchner@gmail.com,Refactor: move command line parsing to bcbio_nextgen.py,2014-07-12T20:27:07Z,roryk
8590789d1af084eff5c892d6ffae95f57b66db69,roryk,rory.kirchner@gmail.com,"Refactor: remove code referring to a lane

The concept of a lane to process is stale in the code, which was creating some
confusing code simply due to naming.  Sometimes it was lanes, lane_items,
samples, data, etc. This keeps 'samples' as a list of those data dictionaries
and removes the lane module.

Thanks to @kern3020 for bringing up the issue and @chapmanb for clarifying
that the code was stale.",2014-07-12T18:42:10Z,roryk
59f4b1ddefbc9a01d23769814da5ccf54ec1bc7e,roryk,rory.kirchner@gmail.com,"Turn off GEMINI for integration tests.

This way you can run the tests without a huge GEMINI install.",2014-07-12T18:18:12Z,roryk
788a7363f51287ea16421be4f4d1f0b82b1159bc,roryk,rory.kirchner@gmail.com,"Find post_process-sample.yaml properly

Previous code was looking in data/ instead of data/automated.",2014-07-12T18:06:10Z,roryk
f1b7f10b5c6dbfc78ba8abe43643a555cf31b50e,chapmanb,chapmanb@50mail.com,Add slides from BOSC and GCC conference talks,2014-07-12T11:09:08Z,chapmanb
261443eebea2ada79956be6e1ed500da8ab63430,chapmanb,chapmanb@50mail.com,Add slides from BOSC and GCC conference talks,2014-07-12T11:08:20Z,chapmanb
521f518f1c0fee8c7383c397c1a840782cbf1916,Peter Amstutz,peter.amstutz@curoverse.com,Add arvados-python-client dependency.,2014-07-11T18:14:17Z,N/A
d41c7e181a07960b7eee0fa7531cca355a7058af,John Kern,kern3020@gmail.com,extended notes on how to run a stub pipeline for chanjo,2014-07-11T16:07:26Z,kern3020
783373f8493c4b05e2faf2d7ca595e404d136b26,John Kern,kern3020@gmail.com,Merge branch 'master' of https://github.com/kern3020/bcbio-nextgen,2014-07-11T14:23:54Z,kern3020
83ebd43828cd2e46886a07f01991da07db40b0a0,John Kern,kern3020@gmail.com,specify version for chanjo,2014-07-11T14:22:53Z,kern3020
16adf58ad2d8f100e8c011f523fb83cffccb8b6b,John Kern,kern3020@gmail.com,renamed variable based on code review,2014-07-11T14:20:48Z,kern3020
9feda98727abdd56674c8e91aa125b854eea3a85,John Kern,kern3020@gmail.com,moved chanjo test stub to test directory,2014-07-11T14:19:53Z,kern3020
3a2c449e6b0ed438eb4073fa9d1a631e07ef6418,John Kern,kern3020@gmail.com,polish fix for issue #494. add unit test,2014-07-10T21:00:05Z,kern3020
36e08f9a4821612ec83552ae685469e379384439,John Kern,kern3020@gmail.com,Merge remote-tracking branch 'upstream/master',2014-07-10T20:16:04Z,kern3020
71a2da8a27aa297950865d1c591efa5c6346b4b6,chapmanb,chapmanb@50mail.com,"When building docker image, put environmental variable updates in /etc/environment #497. Ensure bcbio symlinked into PATH when doing upgrades",2014-07-10T16:30:00Z,chapmanb
223921e1c84a8c1adc9c3300a01aee504a30dc93,John Kern,kern3020@gmail.com,Merge remote-tracking branch 'upstream/master',2014-07-10T14:55:09Z,kern3020
63162dfe4d97786840ce6a597bcb94c484bc7a84,John Kern,kern3020@gmail.com,Merge branch 'dev' - chanjo integration,2014-07-10T14:31:17Z,kern3020
d093aaa1ccf93c9556a63ce3a4cdc159b725c808,John Kern,kern3020@gmail.com,issue #249 - chanjo integration,2014-07-10T14:30:54Z,kern3020
6ef4f9ba68eddf1a55888e24be00e48f9d7cb015,chapmanb,chapmanb@50mail.com,"Clean up unit tests: add shell script to run, mark current broken tests #496",2014-07-10T10:19:27Z,chapmanb
7dac5fb70d58a50cbefdd782e02ac17555110111,John Kern,kern3020@gmail.com,chanjo integration,2014-07-10T01:06:07Z,kern3020
981e5603094cad7267e26a94e60fe651c2bc8169,John Kern,kern3020@gmail.com,fix for issue #494,2014-07-10T00:47:15Z,kern3020
368934e4ca9c13900ac8464951989b3efeda3bed,chapmanb,chapmanb@50mail.com,"Produce validation CSV files for structural variant calls, avoiding comparisons in excluded low complexity regions. Avoid pre-calculating merging in complex regions which reduced sensitivity.",2014-07-09T10:31:48Z,chapmanb
debb47ad5788100c857bab5d01656a1d3d64a242,chapmanb,chapmanb@50mail.com,Cleanly handle varscan cleaning case when line previously removed. #491,2014-07-09T00:11:52Z,chapmanb
1b7b48501c4596184400e178d7f99fd255b63fdc,chapmanb,chapmanb@50mail.com,Ensure paired tumor/normal varscan output does not have non-GATC allele calls. Fixes #491,2014-07-08T19:45:41Z,chapmanb
dec7d874f03f61a68a130c2920b9d39c1f95055b,chapmanb,chapmanb@50mail.com,Ensure BAM merging following sample split so that blocked tumor/normal samples are both combined. Fixes #486. Provide checks for misplaced top level keys. Handle BED files with track inputs to cleanup functionality,2014-07-08T18:55:58Z,chapmanb
3ccc7b6770d9be34ed196c80d6e40214c1498a97,chapmanb,chapmanb@50mail.com,Initial framework for automated evaluation of structural variant caller outputs based on known BED file of validated SVs,2014-07-08T09:34:16Z,chapmanb
518bb42e4c6f7687783afa29b29d46d75cc026ac,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #489 from lpantano/upstream

fix error when restart rnaseq and cufflinks is already done",2014-07-07T19:43:09Z,roryk
36948abfde65d791ff485c7cf6c9c6c949a3fe36,Lorena Pantano,lorena.pantano@gmail.com,fix error when restart rnaseq and cufflinks is already done,2014-07-07T19:41:41Z,lpantano
fa6aff9a474da8e4a522fc2eefd1613674902e29,Lorena Pantano,lorena.pantano@gmail.com,fix error when restart rnaseq and cufflinks is already done,2014-07-07T19:31:28Z,lpantano
8f24fa472bd7a935558c1290e173bf70e7c1a9a9,roryk,rory.kirchner@gmail.com,"Set library-type flag properly for Cufflinks runs.

Thanks to @paniccodewriter for the report. Fixes #487.",2014-07-07T17:37:04Z,roryk
8ea10aa5fa4cb65c0bbde35c95a65b3fb4331a4f,chapmanb,chapmanb@50mail.com,"Additional work on framework for storing provenance in biolite, Arvados or Galaxy external frameworks",2014-07-07T17:16:08Z,chapmanb
a37baee56a3439cb806d85f37e72ee867d24a806,chapmanb,chapmanb@50mail.com,Handle empty delly output files correctly by specifying sample information. Improve devel test to avoid need for specifying input directory,2014-07-07T09:23:32Z,chapmanb
13ecd4f1410a8305f37909aca6e56728824847e6,chapmanb,chapmanb@50mail.com,Improve delly runtimes by avoiding processing on fully masked chromosomes. Merge nearby excluded repetitive regions to avoid trying to call around complex regions,2014-07-07T09:20:16Z,chapmanb
9e4bd1ad3193512b12067587e9c08e593ed5b369,chapmanb,chapmanb@50mail.com,Handle empty files produced with no structural variants in latest delly 0.5.5 release,2014-07-06T14:41:04Z,chapmanb
452232cbc2b4519f7443fdb3309e5986b0fd2442,chapmanb,chapmanb@50mail.com,Ensure calculation of callable regions when only svcaller or jointcaller specified. Avoid splitting on large jointcaller jobs,2014-07-05T20:01:30Z,chapmanb
7e212b8ed69d6a1d9ed7301064cabdc7785dfb3c,chapmanb,chapmanb@50mail.com,Document zlib library requirement in install docs and add pointer to Dockerfile build. Fixes #484,2014-07-05T10:13:58Z,chapmanb
213fd276862dcb5c50f8d70136ef1ce5a226aee7,chapmanb,chapmanb@50mail.com,One more attempt to get isolation and sudo correct for phased installs,2014-07-05T00:27:28Z,chapmanb
a957bd4c2dc6e81fd7fb00a3aaa3bf3d9287aefa,chapmanb,chapmanb@50mail.com,Correctly handle sudo during install to ensure system libraries installed,2014-07-04T21:14:14Z,chapmanb
496aa3e9a9338892a8cf8d9caf887334c54c2662,chapmanb,chapmanb@50mail.com,Provide full path to bcbio_nextgen for upgrades on module install,2014-07-04T20:47:59Z,chapmanb
bb6bf12e405867c038403a618c1661bf91aa10c0,chapmanb,chapmanb@50mail.com,Update dockerfile to be slightly more modular. Add documentation on setting ulimits on CentOS/RedHat,2014-07-04T20:28:47Z,chapmanb
3bb676eb2670150d18599b51b3f4a20cc2aed28a,chapmanb,chapmanb@50mail.com,Add support for Xenopus xenTro3,2014-07-02T09:37:41Z,chapmanb
a73bc143f2de960745b8273f00f8f26d133cc6e2,roryk,rory.kirchner@gmail.com,"Fix for transcript_assembly running when it is not enabled.

Thanks to @mdeboth for posting about the issue.",2014-06-30T19:37:17Z,roryk
723a8244e5a5801ea430d5868f2ae34dd32e0dc9,chapmanb,chapmanb@50mail.com,Correctly check for gemini database in variant runs without variant calls,2014-06-29T11:23:47Z,chapmanb
68ecea3c0e6aa19f7a481b7153c095842c2c81b1,chapmanb,chapmanb@50mail.com,Use original python executable to call out to transcript preparation script instead of bare python,2014-06-28T15:39:15Z,chapmanb
06098d30b518ad5f5d1775d25d1c6c97565407c5,chapmanb,chapmanb@50mail.com,Swap to using sambamba for merge. Avoids scale issues with merging large numbers of simultaneous files using bamtools/samtools piping,2014-06-28T15:32:41Z,chapmanb
24d8ccc08d08e31b8eb74dedda10cab14bef430a,roryk,rory.kirchner@gmail.com,Add examples for what would be good genome/build names.,2014-06-27T14:00:57Z,roryk
1d4bb6ead99be8b4c25f73a7c3e2c8d48ec7dd23,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-06-27T06:36:26Z,roryk
4c2786dbda6f0718f13d16746c64c60b541e9dd0,roryk,rory.kirchner@gmail.com,Add link to bcbio.rnaseq and an example report.,2014-06-27T06:36:03Z,roryk
384f2d9821f70b86dcfc96949eb031068cfe9e5d,roryk,rory.kirchner@gmail.com,Force genome setup to run in localhost mode.,2014-06-26T20:34:35Z,roryk
b65a5f69874d9dc5c003afea75d280825c4931c1,roryk,rory.kirchner@gmail.com,"Added reference guided transcriptome assembly using Cufflinks.

This produces a lot of false positives using simulated data and
is not recommended if you have anything close to resembling a
well annotated transcriptome.",2014-06-26T19:32:52Z,roryk
ab6451646641a823e23d37f974c8a58146af80a2,Brad Chapman,chapmanb@50mail.com,"Merge pull request #475 from mjafin/sge_updates

SGE: Moved from minimum mem/core ratio to median",2014-06-26T09:41:09Z,chapmanb
f31b15e362fe46baec8b67f76c90575acad26da3,Brad Chapman,chapmanb@50mail.com,"Merge pull request #476 from mjafin/scalpel_filter

Scalpel CHI2 filtering added using bcftools. Common InDels REJECTed by b...",2014-06-26T09:40:10Z,chapmanb
61fff9d64c4943e22cd48e4b9c0ee1f15953759d,klrl262,miika.ahdesmaki@astrazeneca.com,bcftools command obtained by config_utils.get_program in scalpel.py,2014-06-26T08:08:17Z,N/A
612e3b438819c6c60da48c7b155cb2f3f09ed904,Brad Chapman,chapmanb@50mail.com,"Merge pull request #446 from lbeltrame/varscan-reject-vcf

Add REJECT filter to non-somatic records in VarScan2",2014-06-25T11:07:40Z,chapmanb
5e81f7799e9217136aef80b2bb0e93f457965797,Brad Chapman,chapmanb@50mail.com,"Merge pull request #465 from lpantano/master

Convert FA to FREQ in FORMAT fields of MuTect VCFs",2014-06-25T11:06:24Z,chapmanb
b2389a893510ff2a06053ab31b39fe0ab2ea382b,klrl262,miika.ahdesmaki@astrazeneca.com,Scalpel CHI2 filtering added using bcftools. Common InDels REJECTed by bcftools.,2014-06-25T10:59:44Z,N/A
6b7ec11e4a54310c2e5c0d6e6b89c803479175dc,klrl262,miika.ahdesmaki@astrazeneca.com,Numpy dependency removed and left of median implemented,2014-06-24T19:36:28Z,N/A
7bacba1968e5b7d8847e41260e9edf5ba56912ae,Lorena Pantano,lorena.pantano@gmail.com,rename function and improve docstring,2014-06-24T18:42:15Z,lpantano
b49ac3439b1ddd1c5bc77a11ba2b91f05f2ddada,chapmanb,chapmanb@50mail.com,Small documentation cleanups for scalpel changes: chapmanb/bcbio-nextgen#473,2014-06-24T17:26:13Z,chapmanb
a44b6567cc152d3db0e29a1bae2d5c418125caec,Brad Chapman,chapmanb@50mail.com,"Merge pull request #473 from mjafin/patch-5

Update scalpel.py",2014-06-24T15:56:01Z,chapmanb
ce38b834172e36c0dfcfe02cbc1fe82dfb10caae,Brad Chapman,chapmanb@50mail.com,"Merge pull request #474 from mjafin/ensemble_fix

Ensemble fix",2014-06-24T15:52:15Z,chapmanb
e206ef303fc616aa6f395042dd333ea08d4606b2,klrl262,miika.ahdesmaki@astrazeneca.com,SGE: Moved from minimum mem/core ratio to median,2014-06-24T14:50:53Z,N/A
1554253d53f0a0529254ecc6eceacbef7f28d4ec,klrl262,miika.ahdesmaki@astrazeneca.com,ensemble.py circumvented ensemble calling for empty callsets,2014-06-24T14:18:56Z,N/A
2b82d4d1764a63a9fb0009850ceb52c2cafe25f8,klrl262,miika.ahdesmaki@astrazeneca.com,Tabix indexing of empty filtered FreeBayes variant files,2014-06-24T13:06:00Z,N/A
a78cbe27ac196d9a4467c1e28117e1db1f176714,klrl262,miika.ahdesmaki@astrazeneca.com,vfilter.py fix for empty vcf files when performing freebayes hard filtering,2014-06-24T12:59:07Z,N/A
4c1af1db37b4911e5a4ec431b35b9c2e9239eb89,klrl262,miika.ahdesmaki@astrazeneca.com,Output proper headers in empty vcf files. Use pyvcf to fish out sample names from variant files with no variants.,2014-06-24T12:16:04Z,N/A
57dedc7a137ed77570725b15a177613955d43028,klrl262,miika.ahdesmaki@astrazeneca.com,Added tabix indexing of empty vcf files when trying to rescue sample names in empty vcf files,2014-06-24T11:21:57Z,N/A
a05ae56cfd7828f71bc1707c9d1de015a95eff8e,klrl262,miika.ahdesmaki@astrazeneca.com,Debugging marker removed,2014-06-24T10:20:46Z,N/A
35fe27715656e1158f0fbfbbd55c4889c91b4168,klrl262,miika.ahdesmaki@astrazeneca.com,Added option of providing sample names to write_empty_vcf and implemented recovery attempt of sample names in case of no variants detected in any region,2014-06-24T10:01:52Z,N/A
4b34195bf6694be5f6bcc54209ded33e04a44fb8,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update scalpel.py

for ``min_cov`` consistently ``3``",2014-06-24T07:07:24Z,mjafin
9d983e7a3ea1d953c948da83438454d9608e8602,Lorena Pantano,lorena.pantano@gmail.com,"remove Exc, not apply here",2014-06-23T18:06:41Z,lpantano
2d2f7f12a47c42fa834351a75168834b27b663f6,chapmanb,chapmanb@50mail.com,Handle input metadata with empty information. Fixes #469. Fix typo in hg19 ensembl name. Fixes #467,2014-06-22T17:00:20Z,chapmanb
950dee36336f156f61f17b529b71e857921bee65,chapmanb,chapmanb@50mail.com,Improve memory utilization with joint calling by assigning less to main process. Write inputs to list file to make debugging of large runs easier,2014-06-22T09:55:13Z,chapmanb
33097f4ac599f4f497afcfade5715d698b97635e,chapmanb,chapmanb@50mail.com,Add link to Luca's poster on using bcbio for ovarian cancer sequencing,2014-06-21T22:11:21Z,chapmanb
3e80cf21e9737446d9f889d983dbd32b882fc862,chapmanb,chapmanb@50mail.com,Add link to Luca's poster on using bcbio for ovarian cancer sequencing,2014-06-21T22:09:32Z,chapmanb
1c90a336699796e3a88fe0bebccc69d5cfc5c687,Lorena Pantano,lorena.pantano@gmail.com,adding 'move to' info at _fix_mutect_vcf,2014-06-21T15:47:51Z,lpantano
7a535e5d5b938dea4ecd71ed1c50b85821f786e9,chapmanb,chapmanb@50mail.com,Document setting user process limit for dealing with open file handle issues: #457,2014-06-21T10:17:52Z,chapmanb
2745cb060931abb3d4383804d68fa6a8c3472830,Lorena Pantano,lorena.pantano@gmail.com,comments from Luca,2014-06-20T20:02:09Z,lpantano
344645517f04e69ce8d1fe64689091b4e6b4ed9d,Lorena Pantano,lorena.pantano@gmail.com,change FA->FREQ and some checks,2014-06-20T15:11:51Z,lpantano
193328d5a9145f65adb7883200bce8bb5482929b,chapmanb,chapmanb@50mail.com,Ensure cn.mops samples are correctly extracted when R make.names converts characters. Fixes #462,2014-06-20T12:35:30Z,chapmanb
8159a19695abab491e201dc59f86d191e704c04b,chapmanb,chapmanb@50mail.com,"Small cleanups for #464: add missing parenthesis, whitespace fixes, and simplify dictionary retrieval",2014-06-20T11:41:12Z,chapmanb
a020e1488b236444c0a7d921e2b32dc0d2874d1a,Brad Chapman,chapmanb@50mail.com,"Merge pull request #464 from kern3020/master

Modifications to enable non-human run",2014-06-20T11:09:16Z,chapmanb
25a2242d1bb2756fdbf43a4480a145626d05e060,John Kern,kern3020@gmail.com,disable vqsr for non-human,2014-06-19T22:04:10Z,kern3020
fec3de2c1cfcf8e7a4c8e7e2a1b56caf24df8105,Lorena Pantano,lorena.pantano@gmail.com,fix mutect format: FA => FREQ,2014-06-19T19:33:19Z,lpantano
55ab5e4f91bed91a0e2fad7b9a09308470d89757,roryk,rory.kirchner@gmail.com,shutils -> shutil. Thanks to Piet Jones.,2014-06-19T15:33:13Z,roryk
68a9b11d2e6bd6f8e6cf343db9e6214e2e31440c,Luca Beltrame,luca.beltrame@marionegri.it,"Use the bgzipped file name for adding the filter

Previous code used the original return value from combine_variants, and
thus the file was without the right extension, causing file_exists() in
the reject calling function to close early, preventing any REJECT records
to be written",2014-06-19T08:10:29Z,lbeltrame
55007ade4183487e3286decd784f69cf713d945b,Luca Beltrame,luca.beltrame@marionegri.it,Add missing shutil,2014-06-19T07:14:34Z,lbeltrame
9f31b270939936370421f0c3da82f0f87e88010a,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into varscan-reject-vcf,2014-06-19T07:09:05Z,lbeltrame
a504560bdd062c91d40f2e89e4a72ee92a895d80,chapmanb,chapmanb@50mail.com,Filter out additional offending reads with problem bases to avoid downstream GATK errors. Handles Ion Torrent input data. Fixes #460,2014-06-18T19:40:32Z,chapmanb
9565365283593f9ec825e220086f231ffa8d2019,roryk,rory.kirchner@gmail.com,Copy instead of move the genome/GTF files during genome preparation.,2014-06-18T15:01:29Z,roryk
326facc142970c00c022386eccff07d000cc0a34,Luca Beltrame,luca.beltrame@marionegri.it,"Port to the new location of move_vcf
Add a couple of FIXMEs / TODOs",2014-06-18T07:16:13Z,lbeltrame
16caa7483366302a35abd4d049c3d76ff3166400,Luca Beltrame,luca.beltrame@marionegri.it,Move move_vcf to vcfutils to reduce code duplication,2014-06-18T07:15:38Z,lbeltrame
ca6def0233024663fbe1131bbddcdbb6490474f4,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into varscan-reject-vcf,2014-06-18T07:08:19Z,lbeltrame
94d00c5be3d4f98fb8c1d0ed6b2cff08614677e6,kern3020@gmail.com,kern3020@gmail.com,update SnpEff value for yeast,2014-06-17T23:09:33Z,kern3020
1cfcd9d8aab2a0bef8499dadf30640a2a256d136,kern3020@gmail.com,kern3020@gmail.com,use toolz to check for dbsnp key,2014-06-17T23:08:43Z,kern3020
848d7349ca5d9953edd0c678c048e20cc3d5c934,chapmanb,chapmanb@50mail.com,Ensure joint recalling preparation directories shared when run on muiltiple machines,2014-06-17T20:01:01Z,chapmanb
622e6fd213b358cdcdb3bfd6338e6327854ec316,Brad Chapman,chapmanb@50mail.com,"Merge pull request #456 from mjafin/master

Mutect: default to Scalpel instead of SID. Scalpel: use less stringent s...",2014-06-17T11:17:03Z,chapmanb
1df98f91c9059b653bf52fdb8e09783216d4d932,Brad Chapman,chapmanb@50mail.com,"Merge pull request #455 from tanglingfung/patch-3

Update installation.rst",2014-06-17T11:16:12Z,chapmanb
9ef939838a022a10fccb9caa512eb44e7fc3c3af,klrl262,miika.ahdesmaki@astrazeneca.com,Mutect: default to Scalpel instead of SID. Scalpel: use less stringent settings for calling indels.,2014-06-17T10:33:29Z,N/A
48be5b20fc8c5c77d81ec5b6f9ddba730a8ca943,roryk,rory.kirchner@gmail.com,"Create combined FPKM file for all samples.

Also fixes a Cufflinks issue with FPKM being calculated twice for
isoforms with the same gene id when there is no overlap between
the two isoforms.",2014-06-16T20:49:11Z,roryk
36fa79e3fdf528bbd82a895c8d5c748d09c94bd6,Paul Tang,tanglingfung@gmail.com,"Update installation.rst

add --data to dbnsfp download",2014-06-16T14:12:07Z,tanglingfung
0633aacecdf4c9812c682c8dda2d20f9c9f2779f,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-06-15T12:50:33Z,chapmanb
26fba7dcbdfd1ed48e6e55f893df2994905fc6c4,chapmanb,chapmanb@50mail.com,"Rework parallelization in variant calling to use more multicore steps. Avoid overcomitting large memory to tools like snpEff, GATK VQSR and bcbio-variation-recall if not used. Allow passing options to VEP to test single transcript support.",2014-06-15T12:47:55Z,chapmanb
a52c35f9b928968d2df30162c30e044a4333caad,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-06-14T19:12:43Z,roryk
1d0efbf7690c671b9ff60576d3b8dd95b10d6f54,roryk,rory.kirchner@gmail.com,Add assemble_transcripts to allowed keywords in algorithm section.,2014-06-14T19:12:26Z,roryk
9675fc26deb373797680eba56d0d3b881505c307,chapmanb,chapmanb@50mail.com,Use toolz.get_in to get genome_resources/variation and dbsnp file. Fixes #451. Fixes #452,2014-06-14T10:16:57Z,chapmanb
99e05326fbcabebce502f7b3205265f03d54aac1,Brad Chapman,chapmanb@50mail.com,"Merge pull request #452 from kern3020/master

fix for #451",2014-06-14T10:03:03Z,chapmanb
5a9d7c52b3a0ad2772f6f2065fcaac6151a3cfe6,chapmanb,chapmanb@50mail.com,Generalize memoru scheduling to handle single core memory intensive processes alongside multi-CPU runs. Avoids overscheduling memory when programs do not run multicore and are using multiple cores for other programs,2014-06-14T09:58:46Z,chapmanb
82759380548da22b47b90dfe74695500415cbfdb,roryk,rory.kirchner@gmail.com,Added reference-guided transcriptome assembly with Cufflinks.,2014-06-14T06:23:36Z,roryk
b381a07751c39e7658112f5ddc6c13f221269440,roryk,rory.kirchner@gmail.com,Return BAM file if merge is called with just one file.,2014-06-14T06:21:27Z,roryk
d50121b2fb9ccec9f07b325ac562edb6908ccff1,roryk,rory.kirchner@gmail.com,Wrap some of the longer lines.,2014-06-13T22:55:31Z,roryk
b450e627900ff266f5852bbefe2b0fc1dcddb517,kern3020@gmail.com,kern3020@gmail.com,fix for #451,2014-06-13T21:20:37Z,kern3020
ae86a564d6fc4cb27b265f38f9b1dde3e63ac9eb,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #450 from jwm/testrunner_passthrough_extra_args

pass extra args (for example, --pdb) to the testrunner",2014-06-13T20:44:03Z,roryk
d9e27067fffeec9119745f219fbb8149e625ba09,John Morrissey,jmorrissey@fas.harvard.edu,"pass extra args (for example, --pdb) to the testrunner",2014-06-13T17:20:33Z,N/A
2b2a1d1b91db5a2c6462a6c3675325284a738557,chapmanb,chapmanb@50mail.com,Integrate LOFTEE VEP plugin from @konradjk to support annotating predicted loss of function variations,2014-06-13T10:29:00Z,chapmanb
422545072c8e4d937524dd915146de99030d0c5e,chapmanb,chapmanb@50mail.com,Fix joint calling test data to use correct ploidy and have additional reference call tests,2014-06-12T18:01:56Z,chapmanb
cd51afdfbf04c9440bd9c481fca05b21d497c72f,chapmanb,chapmanb@50mail.com,Joint/batch calling: Merge regional batches into single final batch. Correctly reconstitute orignal variation files if calling and joint calling both done. Feed joint callers into gemini database creation instead of initial calls,2014-06-12T09:58:14Z,chapmanb
1e35ccc43304a57216a2d772785c19586852e017,Brad Chapman,chapmanb@50mail.com,"Merge pull request #448 from kern3020/master

enable sacCer2, update urls and fixes some typos",2014-06-12T01:46:43Z,chapmanb
b86b4d8e73550eb488d0cd2bffdafbaced5d189a,roryk,rory.kirchner@gmail.com,Remove development code.,2014-06-11T21:13:29Z,roryk
aa3a0a7c814460257242e50f95df3fcd2451a88c,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-06-11T21:12:36Z,roryk
1a4915c680fe3b1c2bb47361025252d7abc33388,roryk,rory.kirchner@gmail.com,"Easier prep for custom genomes.

This hooks until the cloudbiolinux preparation stuff and is
super hacky but as a place to get started making this a little bit
easier.",2014-06-11T21:10:23Z,roryk
8dad21990e6d4015227eae40598e69f5fb22b6b2,chapmanb,chapmanb@50mail.com,"Joint squaring off: add initial integration with bcbio-nextgen-recall, needs additional work to handle regional calling",2014-06-11T14:23:56Z,chapmanb
e5ffe3587a86540349efcb47831388f34e2eea11,chapmanb,chapmanb@50mail.com,Bug fix for correctly grouping multi-caller/multi-batch variant calls,2014-06-11T01:57:46Z,chapmanb
c39f9c93f0a25e72c548abfc00cb9dcba687cfe8,kern3020@gmail.com,kern3020@gmail.com,upgrade to a more recent genome for sacCer 2 => 3,2014-06-10T19:47:33Z,kern3020
9dd058fb52664f687f932acbd237e48067f4407a,chapmanb,chapmanb@50mail.com,Update bcbio conda build to support latest bcbio-nextgen-vm. Clean up Dockerfile,2014-06-10T19:01:42Z,chapmanb
10ef22bba3a72a4e24bc1540c89ff0110accfa4f,kern3020@gmail.com,kern3020@gmail.com,add yeast genome,2014-06-10T18:46:04Z,kern3020
2857bd3d374adbba15025271f573a48285cae26b,kern3020@gmail.com,kern3020@gmail.com,updated URL for freebayes,2014-06-10T18:46:04Z,kern3020
715bc4fdfb7d60b9a167aa1b24ca8117aeb385db,kern3020@gmail.com,kern3020@gmail.com,the config file for the system is called bcbio_system.yaml,2014-06-10T18:46:04Z,kern3020
16eefb155fea963c02cd50fc1d8c5c3f7976da78,kern3020@gmail.com,kern3020@gmail.com,updated URL,2014-06-10T18:46:04Z,kern3020
b29f175d01297e802e1669a8d8b99ff4c2b76760,chapmanb,chapmanb@50mail.com,Joint squaring off: implement grouping and regional splitting for distributed parallelization,2014-06-10T13:04:07Z,chapmanb
dc636524cc6288507068287663cdf77710c14937,chapmanb,chapmanb@50mail.com,Initial work for supporting joint calling/squaring off. Provide framework and initial parallelization points for workflow,2014-06-10T02:01:35Z,chapmanb
c53ce68b3a48cf06c97f0bb6efd6e8bacbacc223,Luca Beltrame,luca.beltrame@marionegri.it,"Add REJECT filter to non-somatic records in VarScan2

Like the work done in FreeBayes, this patch adds a REJECT filter to
non-somatic records (i.e., everything with a Somatic Status - SS - not
equal to 2) produced by VarScan2.

It includes some duplicated code from FreeBayes, which could be moved to
vcfutils.",2014-06-09T08:26:28Z,lbeltrame
e5332bf587b9831f59cd8685d7ac3ef87ad65e1a,chapmanb,chapmanb@50mail.com,"Avoid has_aligned_reads check on VarScan which caused scaling errors (#428). This check already handled as part of VarScan calling. Move test to samtools, where it is needed. This will ened reworking/testing with samtools 0.2.0 calling",2014-06-09T01:10:07Z,chapmanb
5ed0a03b2cd500423cfde35cdd0df29c81e552e2,chapmanb,chapmanb@50mail.com,VEP: Add canonical and CCDS annotations for prioritizing transcripts. Ensure dbNSFP annotations added to CSQ tag features,2014-06-07T10:13:31Z,chapmanb
2a8c0c43e55193151ad4644ef0a85fb3bcaf1b84,Brad Chapman,chapmanb@50mail.com,"Merge pull request #444 from mjafin/patch-4

Update configuration.rst for ...",2014-06-06T12:22:44Z,chapmanb
70f0a0df4b5e61ad7010d92ef1d774a3556b8364,Brad Chapman,chapmanb@50mail.com,"Merge pull request #443 from mjafin/master

FreeBayes: Reject non-somatic mutations in FILTER field",2014-06-06T12:22:16Z,chapmanb
d6e5b8e7995f633dc10e14324165722309fa00bb,chapmanb,chapmanb@50mail.com,Scaling improvements: avoid using uncompressed BAMs in pipelines which breaks sambamba on large files (#445). Provide better checks for zlib compressed ipython messages to avoid errors on truncated results,2014-06-06T12:19:57Z,chapmanb
0e36c34d4eb41d8547eff09cf6f109bbd10a2625,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update configuration.rst for ...

Description of paired variant calling",2014-06-06T09:03:47Z,mjafin
04faa52bca6722b5adadca7df37c417c897c8bca,klrl262,miika.ahdesmaki@astrazeneca.com,Added REJECT FILTER-field into paired FreeBayes calling,2014-06-06T08:43:58Z,N/A
e838f8dcd470aa96bee822eeb6ff9d161b45b1e3,klrl262,miika.ahdesmaki@astrazeneca.com,Added REJECT flag for non-SOMATIC paired FreeBayes calls,2014-06-06T08:17:14Z,N/A
b97d588a45f5458c1c1be7f7134e281323916a16,roryk,rory.kirchner@gmail.com,Skip the sailfish unit test.,2014-06-06T02:55:10Z,roryk
47e780c2d8b56688b3de880e253d215881d6be5a,chapmanb,chapmanb@50mail.com,Ensure validate plots passed to upload directory. #438,2014-06-06T01:23:22Z,chapmanb
f7d0246f6aa79d49a2482575a01d9b0101e3de24,roryk,rory.kirchner@gmail.com,Allow . to be a pair-file separator.,2014-06-05T18:39:11Z,roryk
abb8d5a89bf24b7a379705b39ddfbb6a47d2da23,chapmanb,chapmanb@50mail.com,Improve snpEff version detection during installation to use manifest version if available. Thanks to Glen Otero,2014-06-05T17:47:54Z,chapmanb
ca782dc01cc9e08c5159d81a77cbae2c97d159b0,chapmanb,chapmanb@50mail.com,Improved documentation on adding pre-existing genomes to bcbio. #440,2014-06-05T14:54:07Z,chapmanb
fba662809212e8e4dd748790a513a774ee4080a2,chapmanb,chapmanb@50mail.com,Fix validation plot title generation for non-GATK and minimal inputs. Fixes #438,2014-06-05T09:50:56Z,chapmanb
e983260aee22a94e02229dd3ce9d1842c23c5066,chapmanb,chapmanb@50mail.com,Improved flexibility on generating validation plots with mixed recalibration/realignment inputs. Fixes #438,2014-06-04T18:30:41Z,chapmanb
68408f0ca8f1fc16ef9a5f7aa78d04366b43aa5b,chapmanb,chapmanb@50mail.com,Enable support for dbNSFP and CADD data integration. dbNSFP integrates through an Ensembl VEP plugin and CADD through GEMINI database creation. #146,2014-06-04T16:36:04Z,chapmanb
7a86aedc58345acba1eb3b4c3054b7e2b988c971,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-06-04T09:51:53Z,chapmanb
c352ca2aa6efdd752eb0dbc3428efcb6ec738150,chapmanb,chapmanb@50mail.com,Improve documentation for installation. Add recent bcbio nextgen presentation at Biogen,2014-06-04T09:51:35Z,chapmanb
e15adb77a27c33270678afeb20e8ff04413ebe66,roryk,rory.kirchner@gmail.com,Use restructured text formatting for links.,2014-06-03T23:12:51Z,roryk
0020eefa10613cf6dc140c141b6ae6dd6de5c889,roryk,rory.kirchner@gmail.com,Add RNA-seq example.,2014-06-03T22:18:52Z,roryk
3f9c9ed4f740c1a13cf74dfd40111e4a678b0103,chapmanb,chapmanb@50mail.com,Update resource files to support VEP and latest snpEff Ensembl databases. Enable VEP support in Gemini,2014-06-03T09:57:25Z,chapmanb
81375a2081959686041435563c627d1fe1a2c71e,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-06-02T10:54:11Z,chapmanb
c4ce1146750d6641565c651f405ff02faa821cac,chapmanb,chapmanb@50mail.com,Initial framework for supporting effects calculation with Ensembl's variant effect predictor,2014-06-02T10:53:51Z,chapmanb
47dba739cccd7470fe6a00a557355b7c302b324f,roryk,rory.kirchner@gmail.com,Bump Picard max memory to 4g.,2014-06-02T02:55:15Z,roryk
89442e2c51ae673559185bcb9836030d74f87fb4,roryk,rory.kirchner@gmail.com,Add picard to the RNA-seq alignment step.,2014-06-01T20:23:14Z,roryk
f2cd591d1c65c50c2f23cc624e3ca11cee918085,chapmanb,chapmanb@50mail.com,Provide support for gemini 0.7.0 and avoid CADD and gerp loads if not present in gemini database directory,2014-06-01T09:35:48Z,chapmanb
9fba30ad1996b3c3ed1b926808f27ecfd4a44f0f,roryk,rory.kirchner@gmail.com,"Sailfish support added.

Very bare bones, for testing. Just runs Sailfish on a set of FASTQ files, needs
to have some QC information and to be run through bcbio.rnaseq to compare.
Sailfish install has some warts, so no installer support yet.",2014-05-31T22:33:15Z,roryk
d4a4a3e2b4926f89bee64babb2549ab9568845d7,chapmanb,chapmanb@50mail.com,"Improved memory usage for larger numbers of sample or contigs: Do zipping of return messages through IPython, increase available GC sockets to IPython, and perform better downsampling of GATK calls. #386",2014-05-31T09:33:14Z,chapmanb
79738ddc1b3e6abbbb2f0d9f5addeb6410cbd246,roryk,rory.kirchner@gmail.com,"Bump STAR minimum memory requirement to 40G.

It seems like .z4 uses slightly more memory.",2014-05-30T23:53:51Z,roryk
a3f912af5d1762d8aa38e9169b7ca468ee0bc421,roryk,rory.kirchner@gmail.com,Fix for extracting single-end FASTQ files from BAM.,2014-05-30T19:30:46Z,roryk
d8a9d794f3c7e2e6ac031b347b28e25a2cb520ec,chapmanb,chapmanb@50mail.com,Fix detection of no coverage regions for chromosomes excluded by variant_regions. Thanks to Severine Catreux,2014-05-30T13:53:41Z,chapmanb
ee7564cd5cdd8135603b93035d8d709337d80428,chapmanb,chapmanb@50mail.com,Update delly filtering to use bcftools per-sample filtering. GATK genotype filtering does not work correctly with complex JEXL expressions,2014-05-29T18:20:24Z,chapmanb
23b4a5872af609a2ff855d4fe451cb75bb679d5c,chapmanb,chapmanb@50mail.com,Scalpel integration: provide clean skip if scalpel not installed. Clean up pep8 formatting. #432,2014-05-29T10:26:15Z,chapmanb
996a5d5e571b27e5546cf2ded37b43d435743186,chapmanb,chapmanb@50mail.com,Fix edge cases for updated callable calculation: contigs with no mapped reads and high coverage regions,2014-05-29T10:25:26Z,chapmanb
76b37acbe6a7bdfe8aeecf78d586836f77aced02,Brad Chapman,chapmanb@50mail.com,"Merge pull request #432 from mjafin/scalpel

Scalpel",2014-05-29T09:37:18Z,chapmanb
7c0a47a16b6bd0787ae09b53edeff628aef5ee61,chapmanb,chapmanb@50mail.com,"Correctly handle preparing coverage regions for whole chromosomes without variant sub-regions, by saving ref bedtool after creation",2014-05-29T03:33:50Z,chapmanb
d350f0242b85bb83f7d4452035fb5f2584d9f517,chapmanb,chapmanb@50mail.com,Ensure pybedtools temporary directory sets occur before multiprocessing to avoid thread conflicts. Clean up temporary directory setting in context manager to enable reverts following processing,2014-05-29T02:12:03Z,chapmanb
8ab50050072669d788713d2a160245b425be90ef,chapmanb,chapmanb@50mail.com,Move callable region calculation to use bedtools with groupby thanks to tips from @arq5x. Provides improved speed and memory usage over pysam based implementation. Fixes for pybedtools temp directory specification,2014-05-29T01:00:42Z,chapmanb
012f0581b2cbc05d75dc16f638c05454ae4a4975,klrl262,miika.ahdesmaki@astrazeneca.com,Added standalone support for Scalpel calling,2014-05-28T16:03:43Z,N/A
8ec472689c77f974baefd4dfe9f4e7031365fc9d,chapmanb,chapmanb@50mail.com,Use local temporary directories for pybedtools tempfiles. Avoids scaling issues with filling up global temporary space and allows use of configured high speed temporary storage,2014-05-27T20:01:13Z,chapmanb
48edb58d41b5f1e235274aae14ddb82ca014a136,klrl262,miika.ahdesmaki@astrazeneca.com,Merge branch 'master' into scalpel,2014-05-27T12:56:08Z,N/A
0d0e6bbb62ab9cbae0d1220be3c4c8d768535804,klrl262,miika.ahdesmaki@astrazeneca.com,Trailing white spaces removed,2014-05-27T12:55:40Z,N/A
b93f4f3c11b687acaeda2f095d1d1047773a543d,chapmanb,chapmanb@50mail.com,Enable de-duplication for pre-aligned inputs using biobambam. Thanks to Severine Catreux,2014-05-27T12:02:51Z,chapmanb
79a650abd1c2d64548bb718b78dc3eca9812ce36,Brad Chapman,chapmanb@50mail.com,"Merge pull request #431 from mjafin/patch-3

Update parallel.rst for SGE config",2014-05-27T10:46:00Z,chapmanb
2898a44b16b7dad17a031d121510587f6570ea4e,klrl262,miika.ahdesmaki@astrazeneca.com,Default to scalpel for indels in mutect.py if not using Appistry mutect,2014-05-27T10:25:06Z,N/A
848d90235ea0d6d261a3173689012f4dc1268662,chapmanb,chapmanb@50mail.com,Update cancer test data to use ICGC-TCGA mutation calling challenge data on chr22 that includes indels #428,2014-05-27T01:26:06Z,chapmanb
b8228ad272974bad272d7c1d99c2743562e89fb6,chapmanb,chapmanb@50mail.com,Galaxy tool configuration for single sample bcbio variant calling. Thanks to @jmchilton for advice,2014-05-26T22:49:09Z,chapmanb
5139806e0867c2465af57233a2009b197d15ee38,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update parallel.rst

Fix typos",2014-05-26T21:17:33Z,mjafin
3b8aea914e0700bad7c3b67e4ea9199fa7ba5d32,klrl262,miika.ahdesmaki@astrazeneca.com,Default filter value REJECT for common variants in scalpel paired mode calling,2014-05-26T19:38:04Z,N/A
d02cdcf7a850415829722d642df96d6b07696d26,klrl262,miika.ahdesmaki@astrazeneca.com,Merge branch 'scalpel' of https://github.com/mjafin/bcbio-nextgen into scalpel,2014-05-26T19:05:34Z,N/A
cdeae766d8edfbb82e6db670ede72c22b0c4a466,klrl262,miika.ahdesmaki@astrazeneca.com,mutect.py small fix to assume two separate callers always used,2014-05-26T19:04:24Z,N/A
d08e2683629e42e2f63d2ec38f9a477b4ab0dd32,klrl262,miika.ahdesmaki@astrazeneca.com,mutect.py and scalpel.py bug fixes for integration with bcbio,2014-05-26T19:04:24Z,N/A
e2f1afa44aa3985e2eccd25d3c59e6bf325e203f,mja_fin,miika.ahdesmaki@ovi.com,First draft of Scalpel integration,2014-05-26T19:04:24Z,N/A
c2245a1517d844ab09ae15315a45d203b39a22bf,klrl262,miika.ahdesmaki@astrazeneca.com,mutect.py small fix to assume two separate callers always used,2014-05-26T19:02:00Z,N/A
ab609d066981a36131954864db30b727a0228f7c,klrl262,miika.ahdesmaki@astrazeneca.com,mutect.py and scalpel.py bug fixes for integration with bcbio,2014-05-26T18:43:16Z,N/A
da7ba3a80329d3d439bda12b7ce16593e1056d3c,Brad Chapman,chapmanb@50mail.com,"Merge pull request #430 from mjafin/patch-3

Update parallel.rst",2014-05-26T10:32:18Z,chapmanb
e1667f96d1ff051a21687d7d1a308deb73cefcc5,chapmanb,chapmanb@50mail.com,Support None/none as valid inputs for empty values in input YAML. Enables cleaner Galaxy tool support,2014-05-26T09:36:33Z,chapmanb
795a87798a4170babd51e445a358ea87af9ed523,klrl262,miika.ahdesmaki@astrazeneca.com,Merge branch 'scalpel' of https://github.com/mjafin/bcbio-nextgen into scalpel,2014-05-26T09:28:07Z,N/A
eec75bdde8f9d69a41f1c58825f8ae116d7570e0,mja_fin,miika.ahdesmaki@ovi.com,First draft of Scalpel integration,2014-05-26T09:27:19Z,N/A
a76921087d8a434776d542211dda99cbc209c6bf,chapmanb,chapmanb@50mail.com,"Improved selection of parallel blocks on smaller contigs: expand no coverage blocks near the start/end, and avoid creating new parallel regions at the end",2014-05-25T16:23:12Z,chapmanb
4c1e440c718e6c48de14636f12308d005b06a0bd,Miika Ahdesmaki,miika.ahdesmaki@live.fi,"Update parallel.rst

Added information on how to configure ``mem_free`` as a consumable resource, as by default the ``mem_free`` option only checks available memory upon spawning the engines. If we had a host with, say, 16 slots and 60 GB of memory and each job required 16GB, SGE would still happily spawn 16 engines on the host if ``mem_free`` wasn't a consumable.",2014-05-25T13:27:24Z,mjafin
68b87d83cc26595af47e516fedcc6668d80adca6,chapmanb,chapmanb@50mail.com,Structural variation: fix delly filter and ensure ensemble calls get moved to final directory on re-runs,2014-05-25T09:34:10Z,chapmanb
3d6ff8172c6ae4779e70725d4ad3331738a272f9,mja_fin,miika.ahdesmaki@ovi.com,First draft of Scalpel integration,2014-05-24T18:13:00Z,N/A
1ecc5b23a89d87e42a6a7090d01560cfb3c7e4c4,chapmanb,chapmanb@50mail.com,Improve structural variation ensemble preparation for more cases: check genotype and handle inputs without SVTYPE,2014-05-24T10:19:04Z,chapmanb
29726a05b50d6218e8cc743b11e6c37d54bde896,chapmanb,chapmanb@50mail.com,Sort lumpy VCF files to handle BND interchromosomal values found at end of file. Correctly filter and output these breakpoints to BED,2014-05-24T09:42:34Z,chapmanb
e171dbea57fb3795759687a0b8b69f54b4bd60c3,chapmanb,chapmanb@50mail.com,Enable serialized compacted json for IPython using the 'compress_msg' algorithm argument in bcbio_system.yaml. Experimental feature to test parallelization memory usage on genomes with larger number of regions #386,2014-05-23T18:54:41Z,chapmanb
11564cd6cdeabfbd130b27edf1ffe729ee9b7a43,Brad Chapman,chapmanb@50mail.com,"Merge pull request #429 from jmchilton/master

Small doc fix in conifguration.rst.",2014-05-23T18:20:53Z,chapmanb
aeacc40dc8a82bf610b7009929d6f29fee23a364,John Chilton,jmchilton@gmail.com,"Small doc fix in conifguration.rst.

... and because I just want a commit on bcbio :).",2014-05-23T16:34:15Z,jmchilton
f5efc27e69270c3ef36beaa01f42216f3ff87cfa,chapmanb,chapmanb@50mail.com,Add ensemble summary BED file of structural variant calls from multiple callers. Provides method to assess potentially rearranged regions with links to caller evidence.,2014-05-23T11:01:17Z,chapmanb
312daad1a6d8fb9ac8c68266de87a5661a4cdb94,chapmanb,chapmanb@50mail.com,Ensure tool directory passed to data upgrade to enable creation of Picard/GATK sequence dictionaries,2014-05-22T13:28:46Z,chapmanb
9f29ee2eb4ed948eb24d72837fc198bf7629e608,chapmanb,chapmanb@50mail.com,"Add sample configuration BED output file for delly, mapping samples to IDs. Can be used for delly to VCF conversion and generally useful for interpreting output",2014-05-22T01:06:33Z,chapmanb
eefa1a7d1513b17ad8db3cbe27854d5abb9d3bfb,chapmanb,chapmanb@50mail.com,Improve regional splitting on organisms with large numbers of reference chromosomes to avoid excessive numbers of split regions. #386,2014-05-21T10:09:10Z,chapmanb
5da4d1c99d80032b71f10d70b86f56ad53763ee8,chapmanb,chapmanb@50mail.com,Merge excessive coverage regions into nblock regions instead of applyg post-merge to avoid large numbers of small parallel blocks #386,2014-05-20T19:33:16Z,chapmanb
70f94185330d3fad65c93cf713f820ddea2ab631,chapmanb,chapmanb@50mail.com,Provide documentation for new SGE options,2014-05-20T17:41:02Z,chapmanb
de476a080dab3b598fe49db947c069e78016d18d,chapmanb,chapmanb@50mail.com,Generalize support for SGE to enable runs on systems without default queues. Thanks to Karl Gutwin.,2014-05-20T17:32:12Z,chapmanb
71e1553582632c795a056420ab825f59dd7e2193,chapmanb,chapmanb@50mail.com,Fix bug where we incorrectly add installational base directory to non-java bcbio_system components like the temporary and log directories. Thanks to Karl Gutwin,2014-05-20T12:58:13Z,chapmanb
6f1f9ec67cf0f88c49d877cffbf6a5b605ae8481,chapmanb,chapmanb@50mail.com,Improved parallelization and resiliancy for CRAM to fastq conversion. Handles partial failures and provides better cleanup post-merge,2014-05-20T12:04:28Z,chapmanb
d8dd516f79010857cc470864a4cdf9e3a922410d,chapmanb,chapmanb@50mail.com,v0.7.9 release,2014-05-19T12:51:14Z,chapmanb
c8b5dd0ce3b659e96ba93c391d22d5432f78733f,chapmanb,chapmanb@50mail.com,Update variant calling pipeline overview to be up to date with current approaches,2014-05-19T12:50:05Z,chapmanb
1fd22b90fb0169c1c4f25b9418f1ced77af0597b,chapmanb,chapmanb@50mail.com,Ensure non-overlapping read names on CRAM to fastq preparation using sequential part-based naming. Write steps as shell script and run in serial to avoid open file handle errors for large inputs.,2014-05-19T09:44:27Z,chapmanb
d375125258735aed48a6995bd27125c7f0a710fc,chapmanb,chapmanb@50mail.com,Fix variant region selection parameter to be compatible with bcftools rc8. Expose provenance.do functionality for finding bash,2014-05-19T01:13:21Z,chapmanb
aada75960b5f0127e8745e74086e42edb1d83009,chapmanb,chapmanb@50mail.com,Document process for adding new organism support to bcbio-nextgen,2014-05-17T17:48:07Z,chapmanb
42eb87e37d1b4aa451b2a82fcd82426c509eee37,chapmanb,chapmanb@50mail.com,Add base support for latest Zebrafish genome build: Zv9,2014-05-17T17:38:51Z,chapmanb
89134a3c8558126ec1d79e88ca0a993485949b30,chapmanb,chapmanb@50mail.com,Ensure retrieval of samples from cn.mops combined output when sample names are numeric and R adds an X prefit on output to BED,2014-05-16T19:47:34Z,chapmanb
5c0b4afad43a5d641bd18110e224b8e23b91855c,chapmanb,chapmanb@50mail.com,Use sambamba with support for regional retrieval using a BED file to avoid command line length issues. #386,2014-05-16T12:13:51Z,chapmanb
79fa80ef91d6b97f18f3a3e40040e68c828918de,chapmanb,chapmanb@50mail.com,Upload structural variant calls in final output directory using same approach and naming as SNP/indels,2014-05-16T10:24:45Z,chapmanb
96c217bedcf654b7067a1c4cf31432ef22093858,chapmanb,chapmanb@50mail.com,Delly filters based on high quality variant pairs: performs sample based filtering using parameters tuned to NA12878 structural variant calling,2014-05-15T18:24:05Z,chapmanb
4b48dba9ed6e4f9f12477cf53310094482fbbcbb,chapmanb,chapmanb@50mail.com,Add unique naming for FreeBayes and GATK hard filters to avoid losing unique filters during merges. Thanks to Severine Catreux,2014-05-15T09:55:30Z,chapmanb
e2ace2e17d63432039bc930cc388ddf5490fce25,chapmanb,chapmanb@50mail.com,Avoid too long commandlines by writing regions to intermediate file before passing to samtools commandline #386,2014-05-15T02:32:28Z,chapmanb
3c7ad4b274a51704912171b12b6c12da8b35553a,chapmanb,chapmanb@50mail.com,Increase version for canFam3 to point to new dbSNP file. #386,2014-05-15T02:01:43Z,chapmanb
ae419e9973de6c2aa943a2d2ababd72b376c06b2,chapmanb,chapmanb@50mail.com,"Structural variation improvements. cn.mops: do not split regional analyses by chromsome. delly: correctly avoid running on chromosomes with variant regions, handle remapping sample names. lumpy: remove Approach filter which is too stringent",2014-05-14T16:16:58Z,chapmanb
3a6ddee889652aef49e7309d102734981d9f98ec,chapmanb,chapmanb@50mail.com,Remove namespace packaging of bcbio to avoid getting __init__.py removed by pip. Add prettyplotlib for variant plots,2014-05-14T13:46:08Z,chapmanb
5314ded1f4d67e5a0318d39c5b5ec8e1abefe55f,chapmanb,chapmanb@50mail.com,Fixes for FreeBayes filtering AF extraction and sample selection test to support latest bcftools release candidate,2014-05-13T12:37:49Z,chapmanb
0bf9fd62d70f9bfec15b304c45d2fb280a9163ad,chapmanb,chapmanb@50mail.com,"Ensure input CRAM files have indexes, splitting indexing from compression and using scramble C indexing implementation",2014-05-13T01:04:27Z,chapmanb
f8f3f1395331e370b3ecc852ec3416df6d3691a9,chapmanb,chapmanb@50mail.com,Ensure memory specification modifier is uppercase to be compatible with sambamba. Tries to introduce forward compatibility for any swaps from samtools to sambamba. Fixes #425,2014-05-12T10:23:51Z,chapmanb
cf91ad7811501f943227cc864f114873928aa3a0,chapmanb,chapmanb@50mail.com,Baseline support for SNAP aligner for testing purposes. Does not yet include automatic index creation as part of integration.,2014-05-12T10:11:35Z,chapmanb
111f3fac3e4bc9d84efda0d957375133d3fc5dbf,chapmanb,chapmanb@50mail.com,"Support CRAM files as input to pipeline, including retrieval of sub-regions based on variant_region input. Uses new CRAM region support in biobambam (gt1/biobambam#36)",2014-05-11T17:34:08Z,chapmanb
11093aea31fa88c36eeb4b9524695dc7509947dc,chapmanb,chapmanb@50mail.com,"Documentation: update todo list with latest work. Add suggestion for recent gcc to intall docs (chapmanb/homebrew-cbl#9). Improve VM instructions for MacOSX, thanks to Glen Otero",2014-05-11T09:55:25Z,chapmanb
a764490b385d491dc972c63bf6cb724506316d72,chapmanb,chapmanb@50mail.com,Bump canFam3 resource to use new dbSNP,2014-05-10T18:30:36Z,chapmanb
74c24c04e905f1889976e914d31d6d75577578ae,roryk,rory.kirchner@gmail.com,"Look up rRNA in GTF file instead of using BWA and mapping

This was not functional, it always returned NA. This method
should work for the genome files we support so there is no need
to do anything more complicated.",2014-05-09T18:50:22Z,roryk
a03bc537b0e7fd15fc25f1fa55504a54eca8032d,roryk,rory.kirchner@gmail.com,Return proper name of rRNA interval list file.,2014-05-09T18:50:22Z,roryk
50a42194f78839843c057f1b153d8d1ba70d1086,chapmanb,chapmanb@50mail.com,Futher fixes for parallelizing by regions with post-alignment BAM preparation: handle single samples correctly and correctly handle special cases in structural variant calling and upload. Thanks to Severine Catreux,2014-05-09T18:10:26Z,chapmanb
664a89203626ff39ff91a81e50697ddb48ec79af,chapmanb,chapmanb@50mail.com,Initial work to support CRAM input to pipelines. Not yet finished,2014-05-09T04:03:15Z,chapmanb
cbc75b84be871d7bdaef439b7812f9cd48c53641,chapmanb,chapmanb@50mail.com,Fix split/recombine variant calling with BAM post-alignment preparation steps. Correctly pass multiple regional BAMs. Generally clean up process to use align BAMs and multiple keys instead of re-using work_bam. Thanks to Severine Catreux,2014-05-09T04:02:49Z,chapmanb
ae5e90b0676ac97397c10096d2c887570fcba8e6,chapmanb,chapmanb@50mail.com,Avoid adding *-orig files when merging from subparts instead of incorporating new file name,2014-05-07T16:28:41Z,chapmanb
08e92be2599de123c3f39309879d65707f19b51b,chapmanb,chapmanb@50mail.com,Provide resiliency to Galaxy API errors when uploading bcbio-nextgen results,2014-05-07T09:35:34Z,chapmanb
24616812ecb36d4a722761d3d90a2a8406548cb8,chapmanb,chapmanb@50mail.com,Parallelize delly and cn.mops by chromosome over multiple cores. Use variant regions to provide exclude regions for delly and lumpy calling. Integrates low complexity regions if configured,2014-05-06T18:32:14Z,chapmanb
dfcac3e43d3a019b83e25e5d860c57f5f9df52d4,Brad Chapman,chapmanb@50mail.com,"Merge pull request #419 from kern3020/master

small fixes for docs",2014-05-06T09:48:16Z,chapmanb
c2129920e004b76c6f054a9464b0497df734dfdc,chapmanb,chapmanb@50mail.com,Provide full set of samples as background for cn.mops calculation. Improves estimation and avoids missing copy number changes specific to a family,2014-05-06T09:47:28Z,chapmanb
633e8c5aca00e3913788c0f8a5cb291be2366579,chapmanb,chapmanb@50mail.com,Lumpy post filtering: split into sample and filter by evidence and read counts. Enable removal of low complexity regions from analysis. Add toolz dependency for better functional programming. Clean up upload of log files,2014-05-05T19:53:34Z,chapmanb
44df1382f5e9a57fc38577aefc5715d0823718d7,roryk,rory.kirchner@gmail.com,Add the commands run to the upload directory.,2014-05-05T16:34:34Z,roryk
cad4cbc5ddd45c9c6ae9053b51a6eb099aa21691,kern3020@gmail.com,kern3020@gmail.com,Merge branch 'master' of https://github.com/kern3020/bcbio-nextgen,2014-05-05T14:17:12Z,kern3020
260f89fead1d444f9b76edcc6368645b32c4a28f,kern3020@gmail.com,kern3020@gmail.com,one sentence,2014-05-05T14:15:57Z,kern3020
f72086ce225b259748e1fcf291402a3a3a05d5e8,kern3020@gmail.com,kern3020@gmail.com,picard metric definitions moved,2014-05-05T14:15:57Z,kern3020
3be3dd74d74adc182f324fc6818fa7022607d351,kern3020@gmail.com,kern3020@gmail.com,fixed typo,2014-05-05T14:15:57Z,kern3020
46e3bfde37b4ebeb9596ccc2073732dbcf828a08,chapmanb,chapmanb@50mail.com,Provide 'tools_off' algorithm parameter to turn off processing components. Add support for avoiding gemini database creation. Fixes #401,2014-05-04T18:21:51Z,chapmanb
e5685fe695bee6ea53cd6bb9b8d4b66a4e967830,Brad Chapman,chapmanb@50mail.com,"Merge pull request #418 from mjafin/master

Removed BadCigar filter from mutect as it's no longer present in the lat...",2014-05-04T10:16:10Z,chapmanb
afd5b42e412d490e457738825e406be26064c7d1,chapmanb,chapmanb@50mail.com,Enable export of results in binned CRAM format for space storage on large projects. Provide generalized approach for setting default argument parameters in pipeline.run_info,2014-05-04T09:25:55Z,chapmanb
431be325304dd623a74f27986d23d6452c197b88,chapmanb,chapmanb@50mail.com,Updates to support bcbio-nextgen in Docker: ensure nested regions are turned into tuples and bump conda package,2014-05-02T18:55:57Z,chapmanb
7c677a70176f63c454ee09563f9b71b234fc8f8d,chapmanb,chapmanb@50mail.com,Ensure discordant and split read BAMs are passed through pipeline for output and storage to enable later structural variation calling,2014-05-02T18:55:57Z,chapmanb
2d59d4aed86e910ffd40e69cda70c219a2f44e3b,roryk,rory.kirchner@gmail.com,Fix for missing oncofuse file.,2014-05-02T18:54:46Z,roryk
453c9fd0ed52b97b55c06d6e6d5fde3d7fc88bf2,roryk,rory.kirchner@gmail.com,"Give AlienTrimmer full length adapters to trim.

AlienTrimmer uses a kmer matching algorithm so it needs the full
length adapters to match the entire sequence and not just get the
ends. This should resolve some incomplete adapter removal issues.",2014-05-02T18:53:51Z,roryk
2fb0ae36a419a81bf1122a1d4c4b66ec596101ef,roryk,rory.kirchner@gmail.com,Discard reads trimmed with AlienTrimmer that are < 20 bases.,2014-05-02T16:07:58Z,roryk
84ece08ce0b751a8150625aa03b2a0c8fdc4ba72,roryk,rory.kirchner@gmail.com,Added oncofuse update to changelog.,2014-05-02T16:07:34Z,roryk
c7ca0e8689507875cf58aa982ef6f0d78dfae22f,klrl262,miika.ahdesmaki@astrazeneca.com,Removed BadCigar filter from mutect as it's no longer present in the latest revision from Appistry,2014-05-02T12:43:09Z,N/A
9adb0508b149c12867f4ad25e3006def0f25cc93,Brad Chapman,chapmanb@50mail.com,"Merge pull request #415 from mjafin/cnmops

Cn.mops support bed files",2014-05-01T19:06:54Z,chapmanb
3a19e297a26cf898050ba54730a139a92d2bc2f1,chapmanb,chapmanb@50mail.com,Improvements for new split/combine/batch approach: reduce memory usage by using dictionary based diffs of nested groups. Collapse regional calls when not in use for parallelization. Ensure batching for population preparation works correctly with multiple callers,2014-05-01T10:35:58Z,chapmanb
9f4745db28110225e07e3dceac020aef26b4ed1a,chapmanb,chapmanb@50mail.com,Fixes for gemini parallelization: re-use previously created batch variation files. Handle ipython parallelization for gemini with nested configurations,2014-04-30T17:30:13Z,chapmanb
46f809ea1dd88ca0a7450bbdddb5d6aa7ed3aeaf,roryk,rory.kirchner@gmail.com,"Use STAR as the default test fusion aligner.

Update fusion tests as expected to pass.",2014-04-30T16:43:02Z,roryk
8652a741995250511db45ecd64a2b0b8f6971f35,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #407 from tanglingfung/master

Oncofuse bug fixes.

This should be considered pre-alpha, we haven't been able to validate the calls but this should get us started.

Thanks to @tanglingfung for all of his awesome work.",2014-04-30T16:40:36Z,roryk
a2d10d69b93fc1f65c76c7e3adb60089a1ad6cce,chapmanb,chapmanb@50mail.com,Ensure gemini database creation uses available cores when run in parallel; no longer need to have explicit data argument with handling of sample lists in config_utils,2014-04-30T10:06:54Z,chapmanb
c4b2ad33ac1f3e9b68c7f689c9fc60d0717b9699,chapmanb,chapmanb@50mail.com,Correctly prepare VCF subset names when group or samples names are integers,2014-04-30T09:20:32Z,chapmanb
8626a0abae0421ac55446bace956c8477cb2ff7a,chapmanb,chapmanb@50mail.com,Update exome validation run to use latest GiaB reference and pre-prepped shell script for download,2014-04-29T18:26:54Z,chapmanb
a251b637e8cf226b23d84ed8f346de2f832aaff6,klrl262,miika.ahdesmaki@astrazeneca.com,Added a check for whether coverage_interval is genome to pass using a bed file,2014-04-29T08:23:35Z,N/A
756be0acfa48a0c3ab5f916d909c455eed6aa8be,chapmanb,chapmanb@50mail.com,Generalize FreeBayes depth filter to handle multiple depths and qualities. Bump requirements to get new ipython-cluster-helper,2014-04-28T15:14:03Z,chapmanb
9044e13220f47719f0b3740ac4b14a756fb04921,klrl262,miika.ahdesmaki@astrazeneca.com,Removed debugging lines.,2014-04-28T14:57:59Z,N/A
acd26b00464d1753db1d5e4f799e8cf56cb41770,klrl262,miika.ahdesmaki@astrazeneca.com,Modified bcbio/structural/cn_mops.py to accept regions rather than always using the whole chromosomes.,2014-04-28T14:49:18Z,N/A
18320481352b54593c3adfc6f7a45916c9fd1e09,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-04-27T10:11:18Z,chapmanb
ea2baa930f809cce0d7b2cf5fda70109675e1b95,chapmanb,chapmanb@50mail.com,Improved FreeBayes filtering with removal of high depth artifacts and improved VQSR defaults with increased senstitivity. Use experimental-gl parameters for latest FreeBayes (0.9.14-7),2014-04-27T10:08:04Z,chapmanb
e3002583079982b5548f4d05d1f586971fb45a8a,chapmanb,chapmanb@50mail.com,"Add configuration files, download scripts and documentation for CEPH trio WGS validation example run",2014-04-26T22:14:07Z,chapmanb
3ae269ec09a86e57934c6b1f196f4ad27821362b,Paul,tanglingfung@gmail.com,temporary solution,2014-04-26T03:07:30Z,tanglingfung
f028b6424191bba34493966be982e9514a04339b,Paul,tanglingfung@gmail.com,put tophat2 as the default aligner,2014-04-25T21:20:08Z,tanglingfung
548fe71cec001c13b9c5670829116b93e58ca0a6,Paul,tanglingfung@gmail.com,catch case where no fusion transcripts are loaded,2014-04-25T21:12:06Z,tanglingfung
3da47f9d05fe178cd0dc9bab4e77a35363634dc7,chapmanb,chapmanb@50mail.com,Provide ability to configure removal of low complexity regions from human variant calls. This removes a source of bias in Genome in a Bottle comparisons and can avoid false positives for experiments without dependence on calls in repeat regions,2014-04-25T10:34:49Z,chapmanb
3624a7b3405c23e06965333e18be72cdef6b1935,chapmanb,chapmanb@50mail.com,Ensure bgzipped inputs to sample selection have tabix indexes. Thanks to Jiantao Shi,2014-04-24T17:34:33Z,chapmanb
5b7dc9fb07825b3e9878b20697201d4f73218aab,chapmanb,chapmanb@50mail.com,Ensure samtools resources considered when setting up alignment preparation. Improves parallelization in non-alignment cases,2014-04-24T09:58:20Z,chapmanb
5a269cc843b1c58f5797cd119bd63d0b1b55a7ec,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #404 from tanglingfung/patch-3

add ngscat to downstream analysis

Thanks to @tanglingfung.",2014-04-23T21:31:43Z,roryk
410b835f8ac57497669e77e368cd5ed1fca17368,roryk,rory.kirchner@gmail.com,"Remove fix for the STAR duplicated key in the header issue.

This was fixed upstream so should no longer be an issue.",2014-04-23T21:22:22Z,roryk
e256bc4e1920ad45b7b1c8891f51bce694669b16,roryk,rory.kirchner@gmail.com,"Add end of installation step progress messages to upgrade code.

Thanks to @kspham for bringing it up: #411.",2014-04-23T20:37:40Z,roryk
9198e8f23147bda5c7cf4c09cbf8375e6e1bbbbe,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-04-23T19:04:28Z,chapmanb
a94c1dcbf41e2b7cabf461c4482225d591724e4f,chapmanb,chapmanb@50mail.com,Ensure callability calculated in parallel over multiple cores. Thanks to Severine Catreux,2014-04-23T19:04:09Z,chapmanb
483a037f9c8306b5d85f721d4291bf3ce03e7ff5,roryk,rory.kirchner@gmail.com,Workaround for missing gene_ids.,2014-04-23T17:47:12Z,roryk
cc6dcf313dd1bd2d5c9f4447591c0fd3c1b27184,Paul,tanglingfung@gmail.com,upload oncofuse output to final directory,2014-04-23T15:27:32Z,tanglingfung
b83185c9ac9a13d35822bddae15f556f0da63d08,chapmanb,chapmanb@50mail.com,Generalize variant plots to handle SNP-only or indel-only input. Allow setting title and size externally,2014-04-23T15:07:12Z,chapmanb
e9b88668962fb4829b9dbbe6f459cca2df3b9e78,Paul,tanglingfung@gmail.com,"resume support for tophat-oncofuse
add checks to make sure the junction file exists before running oncofuse",2014-04-23T14:18:15Z,tanglingfung
58047ce838dda60ce823a043050bdf76f315780c,chapmanb,chapmanb@50mail.com,"Fixes for nglim and galaxy upload: handle wkhtmltopdf problems on CentOS, upload to defined lab data libraries and cleanly handle description and name inputs",2014-04-23T11:41:41Z,chapmanb
84dd4ac4b4fd4d82ca50df636a85d7ca6b145715,chapmanb,chapmanb@50mail.com,More parallelization work: collapse samples after variant calling to avoid unecessary samples passed to post-variant prep. Avoid passing along combine information for batches with mixed combine/no-combine inputs. Correctly handle no calling inputs,2014-04-23T01:34:16Z,chapmanb
3073f751f856e19016a97df1e8daa559a9d4b951,chapmanb,chapmanb@50mail.com,Require a non-zero mapping quality to include reads as callable. Thanks to Severine Catreux,2014-04-22T19:07:37Z,chapmanb
84a38777e8f38178071064bd886e345a2b432fa5,chapmanb,chapmanb@50mail.com,Parallelization improvements: replace numerous special cases with streamlined approach. Ensures maintained order of samples throughout pipeline. Removed unused by chromosome parallelization. Fix bug in multi-sample delly calling cleanup. Fix bug in sorting variant calls when empty files present,2014-04-22T17:06:50Z,chapmanb
daf983030b5505b4211de8fc364405c42ccaba99,Paul,tanglingfung@gmail.com,"fixed STAR juction input for oncofuse with GRCh37
disable tophat input for now
only works for GRCh37/hg19 genome",2014-04-22T16:45:30Z,tanglingfung
afc022f54bcbeff3a8bfa5582b18824253bb08d5,Paul,tanglingfung@gmail.com,"change sample temparory directory from names[""sample""] to names[""lane""]",2014-04-22T15:34:46Z,tanglingfung
61220a2be75358db6e1bb0a95e527bdcdd76bc07,chapmanb,chapmanb@50mail.com,Fixes to bring billing report utility script up to date,2014-04-22T11:30:46Z,chapmanb
6a1d11258b3900cedc133ec3e0b051faf1924ada,chapmanb,chapmanb@50mail.com,Fixes for structural variation calling: correctly pass inputs with splitting/merging during bamprep; avoid transversions in delly calling since GATK does not like VCF END tags. Handles edge cases for filtering empty VCF files,2014-04-22T02:34:21Z,chapmanb
53610e0b7eaaadf3acbf9e4d4460ba91c39edf33,chapmanb,chapmanb@50mail.com,Fixes for standard template generation: avoid downsampling on standard files and do streamlined duplication marking,2014-04-21T12:00:06Z,chapmanb
89b6b687cf3a233b7ced9e08b625ffeee95c354a,chapmanb,chapmanb@50mail.com,"Provide research based summary TSVs of mapped reads and duplicates, along with upload into Galaxy. Suports LIMS and machine automation",2014-04-21T11:27:22Z,chapmanb
3610dff9da6b75d7367992b0502f0546fd6f0509,Paul Tang,tanglingfung@gmail.com,"add ngscat to downstream analysis

another tool to assess the efficiency of targeted enrichment sequencing",2014-04-21T07:07:04Z,tanglingfung
745072ff0ac69eb6e3202638de0cd5f3c930558b,chapmanb,chapmanb@50mail.com,Galaxy upload: Provide upload of QC results via conversion to pdf. Fixes for Galaxy upload: add permissions for creating folders by name and handling bgzipped VCF inputs,2014-04-20T22:35:52Z,chapmanb
70d45b079a0c69a711fc32b15885e293d4bef310,chapmanb,chapmanb@50mail.com,Clean delly output GLs to enable compatibility with GATK,2014-04-20T10:26:03Z,chapmanb
2931676dc3d195d1bc839bd3cb7db264841491da,chapmanb,chapmanb@50mail.com,"Additional cleanup of edge cases for splitting and merging samples: no-overlap inputs, cancer tumor/normal, bamprep inputs. Fixes #400 Fixes #378",2014-04-19T18:50:14Z,chapmanb
124d300c8133aa0299896ce3b1b3a53dc2ebbf50,chapmanb,chapmanb@50mail.com,"Provide useful error messages if sample info YAML is missing or not supplied, removing old functionality of fetching directly from Galaxy",2014-04-19T09:39:55Z,chapmanb
013e2fd276621c6f5fcb7b04bc256b3873d090d6,chapmanb,chapmanb@50mail.com,Avoid VCF concatenation errors when first input file is empty. Thanks to Jiantao Shi.,2014-04-18T18:59:43Z,chapmanb
3d6c6e7c7cb7889d3e354162e6dd4c3351f22e2b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #402 from tanglingfung/patch-2

Update outputs.rst",2014-04-18T09:53:54Z,chapmanb
9d7690c62798fe6cb3b14b8b9d7a3fd8a1202847,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-04-18T09:50:01Z,chapmanb
667d8b6cf2f462a1d0efb7b413e537af972c1bc0,chapmanb,chapmanb@50mail.com,Provide ability to specify a global temporary directory in resources. Helps avoid shared filesystem IO when large local /scratch disk is present on machines. Fixes #399,2014-04-18T09:49:51Z,chapmanb
445fbd4daab7043275f18525f1b0f2cdc365aa55,Paul Tang,tanglingfung@gmail.com,Update outputs.rst,2014-04-18T00:26:12Z,tanglingfung
e46c2624d1720ae6c04bfae40ba4ad6cf2506c94,Paul Tang,tanglingfung@gmail.com,"Update outputs.rst

another way to visualize coverage for targeted NGS (exome) experiments",2014-04-18T00:25:34Z,tanglingfung
99d6dbe5ea7e83a89c01eaba5984856fb1358451,chapmanb,chapmanb@50mail.com,Handle avoiding low complexity subsets on regions if supplied as tuple instead of BED file,2014-04-17T19:11:35Z,chapmanb
957b5bd084c37bbb9910b562755c0df107534361,chapmanb,chapmanb@50mail.com,Add slides from ABCD talk. Clean up talk list and add link to images for reuse,2014-04-17T13:44:08Z,chapmanb
de8b14d48ccee23bab0ac788b9b3ed04ff8f0864,chapmanb,chapmanb@50mail.com,Perform regional splitting of samples grouped by batches instead of globally. Enables more complex sample input setups.,2014-04-17T12:52:12Z,chapmanb
c2380930798e2bfa2cfea88705c8ea186cd2abb5,chapmanb,chapmanb@50mail.com,Merge discordant and split read pairs from alignment parts when using samblaster. Avoid needing to re-run analysis during lumpy SV calling,2014-04-17T00:39:03Z,chapmanb
aa2368e4259a7a35cd7e85b4cc9255048596f213,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-04-16T18:22:19Z,chapmanb
8bc5ddfe3af7aa9dd54ab2e0c3d8f160f9cc0371,chapmanb,chapmanb@50mail.com,Add module for streaming de-duplication integrated with alignment,2014-04-16T18:22:11Z,chapmanb
459ad8a887e909726f420d49557af16db6bd9ac9,chapmanb,chapmanb@50mail.com,"Documentation: Add wget to required software for installation. Thanks to Tim Hughes. Add pointers to downstream analysis tools, thanks to @lbeltrame #195",2014-04-16T16:11:23Z,chapmanb
0358f5fe2b6bbd5450ac520cae540d951e4c7db1,chapmanb,chapmanb@50mail.com,"Re-work de-duplication to occur streaming with alignment. Uses samblaster/biobambam to handle de-duplication, avoiding need for BAM preparation step in cases with no realignment and recalibration.",2014-04-16T15:18:56Z,chapmanb
461f827a0c3256237b85e84b2011155e0068606d,Brad Chapman,chapmanb@50mail.com,"Merge pull request #398 from caddymob/master

Added TGen to users page",2014-04-15T14:16:45Z,chapmanb
ae1c58a4dd105c3b16ff5829cbf8ffc4aa5beea7,chapmanb,chapmanb@50mail.com,Sequencer integration: support shared filesystem setups without external transfer. Enable submission of jobs directly to attached sequencing cluster #391,2014-04-15T14:10:50Z,chapmanb
75fe77ca939a24f89b663d47bca68416640876c2,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-04-15T10:46:15Z,chapmanb
033b47c317c6937a909e203d37ffd7f9723368d3,chapmanb,chapmanb@50mail.com,Structural variation fixes: Correctly put output files from samblaster into separate temporary directories. Ensure delly parallelization to number of input samples,2014-04-15T10:45:30Z,chapmanb
8f8f2be91fa1f526794fc77d4b08100bc3db4ca6,chapmanb,chapmanb@50mail.com,Swap mm10 dbSNP file to be bgzipped and tabix indexed to save space and match human and camFam3 resources,2014-04-15T00:58:52Z,chapmanb
975597723d2a20c979b79467fa3056d7545aa2cd,Jason Corneveaux,jcorneveaux@tgen.org,"Added McKnight, Dell URL, and a slight tweak to last sentence. Good to go!",2014-04-14T20:33:09Z,N/A
0d25df09e9c59423e610ea12fbc36f0b09f328d4,roryk,rory.kirchner@gmail.com,"Add canFam3 dbSNP support.

Thanks to @caddymob for the suggestion.",2014-04-14T19:57:59Z,roryk
feef22cb4afc76d87cdadb6bdd445fd1f923ca23,Jason Corneveaux,jcorneveaux@tgen.org,"that'd be plural, guy",2014-04-14T19:19:14Z,N/A
adc80bd6f0c9faa433c10ad4178d0f5b99e38f90,Jason Corneveaux,jcorneveaux@tgen.org,"I love git

Merge branch 'master' of https://github.com/caddymob/bcbio-nextgen

Conflicts:
	docs/contents/introduction.rst",2014-04-14T19:14:59Z,N/A
73eb8da33ce6cb8a96156f51e7e204ecfed6103e,Jason Corneveaux,jcorneveaux@tgen.org,fixed some words,2014-04-14T19:13:19Z,N/A
1a3051bdba58cc796ae69b27d631acaa5afe1004,Jason Corneveaux,jcorneveaux@tgen.org,fixed some words,2014-04-14T19:10:28Z,N/A
335ac072684a8ff6a4f20645b30dc8473d3527f3,Jason Corneveaux,jcorneveaux@tgen.org,"Needed space in begining as to not ital, also fix AAC url/name",2014-04-14T19:06:54Z,N/A
ff86431f38d0c3c8f887e8d9bc5b287d4e7f6269,Jason Corneveaux,jcorneveaux@tgen.org,"TGen user page additions. Check my formatting, I think I got it right...?",2014-04-14T18:59:38Z,N/A
128fffcba598dae0d2513115f31787e3c6234d84,chapmanb,chapmanb@50mail.com,Avoid including Python warnings in version output. Fixes #397,2014-04-14T10:22:12Z,chapmanb
7889f114dd9c170463db4d3c162c6ac771d43feb,chapmanb,chapmanb@50mail.com,Add PyVCF as a soft dependency to support VCF manipulation. #350,2014-04-14T09:59:03Z,chapmanb
6711f2948ee7d25a63c8d31cecdb820fb8b00e8a,Brad Chapman,chapmanb@50mail.com,"Merge pull request #350 from lbeltrame/vcf-somatic-fix

Add SOMATIC flag for FreeBayes records",2014-04-14T09:38:31Z,chapmanb
743acdc3cfdcc832f1d143f26c2894bbd0960f57,chapmanb,chapmanb@50mail.com,Rework batched regional variant calling to cleanup code. Avoids special cases for tumor/normal and makes batch-level filtering explicit. Work towards support for GATK gVCF squaring off approaches,2014-04-13T21:47:25Z,chapmanb
fbd2e9a9062488249eb4a6f4361084183c0c4c09,chapmanb,chapmanb@50mail.com,Improvements for structural variation detection: pass original alignment outputs directly to lumpy to avoid issues with extra non-mapping reads passed via combining analysis/no-analysis regions. Parallelize lumpy analysis to take advantage of multiple cores,2014-04-13T09:42:43Z,chapmanb
24d0aa9a2c1b811a97508b740ff949726f53f96d,chapmanb,chapmanb@50mail.com,Add exclusion of telomere/centromere regions to structural variation calling. Fix sv type calling in delly. Use samtools for lumpy samblaster prep to provide better error messages,2014-04-12T14:25:48Z,chapmanb
41b67ddbfd3da05a06d286374939c888a0e9d45c,kern3020@gmail.com,kern3020@gmail.com,fixed typo,2014-04-11T22:52:34Z,kern3020
8e27362e61aec6523e7f871af5c459c7e059fb6a,roryk,rory.kirchner@gmail.com,Added danielevo to contributors list.,2014-04-11T13:09:44Z,roryk
0d542d362ef9cb3e6480e82e9565c50b91c877c1,chapmanb,chapmanb@50mail.com,"Sequencer support: server side fixes, handle nglims name inputs and avoid java PrintReads bamprep unless doing variant calling",2014-04-11T09:43:06Z,chapmanb
c857d9f7f2a3a1e624d59d63a9632fbf905ef026,chapmanb,chapmanb@50mail.com,Sequencer support: ensure nglims retrieved flowcell matches inputs; avoiding fuzzy matches. Correctly prepare names for input YAML files. Avoid large amount of regional splitting for default standard pipelines,2014-04-11T09:38:43Z,chapmanb
abfacc7de152b50d1c26bba3c2bd05e96886eb9c,chapmanb,chapmanb@50mail.com,Correctly handle multiple batch variant callers. Thanks to @dfjenkins3,2014-04-10T19:19:01Z,chapmanb
f41761db488a38df4132625b0b30a0f2facfbe83,chapmanb,chapmanb@50mail.com,Provide initial support for running delly structural variant caller,2014-04-10T17:48:57Z,chapmanb
7375afb184210ba123110f5b82d447a99e75c517,chapmanb,chapmanb@50mail.com,Provide initial support for subsetting variant calls to avoid low complexity regions identified by Heng Li https://github.com/lh3/varcmp/tree/master/scripts http://arxiv.org/abs/1404.0929,2014-04-10T12:16:57Z,chapmanb
a987aa513907f69b7d0a6af0f9433fe8e56cc24b,Luca Beltrame,luca.beltrame@marionegri.it,"Handle correctly the result from INFO tag adjustment: PyVCF writes
uncompressed, so we have to compress the result ourselves",2014-04-10T08:52:12Z,lbeltrame
c770ed71bf8ffc80f2b1ab108552e291bfd6655f,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into vcf-somatic-fix,2014-04-10T07:42:47Z,lbeltrame
73539f7df2e0cdfcdb532f409a719b1bca7e54a4,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-04-09T16:20:27Z,chapmanb
9412fbaab2661bed76245a0ae26f6fd3d8cc453c,chapmanb,chapmanb@50mail.com,"Update lumpy to latest recommendations, using samblaster for BAM preparation and speedseq for lumpy integration",2014-04-09T16:20:19Z,chapmanb
88f3d3a4e7e5457c9b650536e0a309482d8671d5,roryk,rory.kirchner@gmail.com,"Use Tophat2 as the default aligner.

We do not install the STAR indices by default, so default to
 Tophat2 since those indices are guaranteed to be there.",2014-04-09T12:57:01Z,roryk
a18e0039dc384f0255b1638a9e1f756f1dcf7f16,Brad Chapman,chapmanb@50mail.com,"Merge pull request #393 from mjafin/master

FreeBayes paired calling AF thr set to 0.1. Enabled min AF setting in Va...",2014-04-09T10:08:10Z,chapmanb
e453826ba4ae1fa70b120b749d1568c82a9b0b10,klrl262,miika.ahdesmaki@astrazeneca.com,Documentation update for default paired calling minimum AF threshold,2014-04-09T09:35:22Z,N/A
1a6d4752de2c1170d235575a6c676de1c7d7e223,klrl262,miika.ahdesmaki@astrazeneca.com,SomaticIndelDetector default min AF changed to 10 percent,2014-04-09T09:32:05Z,N/A
914aecb195350677c15f5d64a4fc537f17eb98a4,klrl262,miika.ahdesmaki@astrazeneca.com,FreeBayes paired calling AF thr set to 0.1. Enabled min AF setting in VarScan paired calling.,2014-04-09T08:52:07Z,N/A
f414985299de9eada547bf90bb2259057bf29c1b,roryk,rory.kirchner@gmail.com,Add upload directory to RNA-seq configuration file.,2014-04-08T18:25:20Z,roryk
2ef4deb11ca4ceb1065e8abf9daa2c72bb7741c8,chapmanb,chapmanb@50mail.com,Push new version of 100326 test tarball without duplicated read. Thanks to @guillermo-carrasco,2014-04-08T16:59:16Z,chapmanb
4386e92a117ec2e9176462de0ac37d2b2039cd5e,Brad Chapman,chapmanb@50mail.com,"Merge pull request #392 from mjafin/master

Added configurable min-alternate-fraction to FreeBayes",2014-04-08T11:50:32Z,chapmanb
d6baf41bf533d6c590d85a90364d9db68b3df713,klrl262,miika.ahdesmaki@astrazeneca.com,Added configurable min-alternate-fraction to FreeBayes,2014-04-08T10:50:05Z,N/A
fa160d21d06ce5ba22f6a6333cc5e19353de6f91,chapmanb,chapmanb@50mail.com,Clean up directory preparation code in main function. Ensure pack information passed along with docker and AWS wrapped bcbio runs,2014-04-08T01:35:38Z,chapmanb
25bd8083ff8d52d8dfb7bc39d7ef8726415b0096,chapmanb,chapmanb@50mail.com,Ensure multiple callers are correctly merged for split BAMs. Thanks to @mjafin,2014-04-07T14:54:57Z,chapmanb
26ea544ebdd29a733c08a77c7aeb656250320399,chapmanb,chapmanb@50mail.com,Handle new evaluation-based approach to writing concordant files in bcbio.variation. Back compatible with older versions,2014-04-07T09:30:39Z,chapmanb
8a282d2c77439065062f38c86aaab562d7185b6b,roryk,rory.kirchner@gmail.com,Restore AS tag to STAR alignments.,2014-04-07T02:20:08Z,roryk
6642c8bb33c75002e63b5a2e6e2463f11261e07c,roryk,rory.kirchner@gmail.com,"Add proper NM and MD tags to STAR alignments.

Thanks to @mjafin for the suggestion.",2014-04-06T16:06:43Z,roryk
2dd31346d7a35dfe412c3a282d0d4104c764aadc,chapmanb,chapmanb@50mail.com,Improve plotting of validation calls to handle whole genome inputs. Generalize plot normalization to keep consistent differences across plots.,2014-04-06T11:16:20Z,chapmanb
ce30d18f81bd2c22e9488444f569b8c98ada65d8,Brad Chapman,chapmanb@50mail.com,"Merge pull request #390 from mjafin/patch-2

Update mutect.py",2014-04-06T09:51:58Z,chapmanb
4b4e8d58dba8b559e73433250df92682b9f6282a,mjafin,miika.ahdesmaki@live.fi,"Update mutect.py

I had a copy-paste typo on line 114, apologies",2014-04-06T09:14:46Z,mjafin
9b328ecef469904bce4372cc3b7cf529fda5e0c7,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-04-06T09:12:34Z,chapmanb
8ce4fb091a2e5a4616a82bca9f3f23b1eb005e8c,Brad Chapman,chapmanb@50mail.com,"Do not merge nglims samples based on descriptions, only on unique names. Set parameters for standard nglims post-analysis to include de-duplication.",2014-04-06T09:12:26Z,chapmanb
2c84e32117163dfdc7e9bfa287df12953ba174eb,chapmanb,chapmanb@50mail.com,Add min_allele_fraction that customizes minimum detection ratio for tumor/normal calling. Used in MuTect indel detection but not generally yet. Provide hook to get tumor algorithm configuration #314,2014-04-06T00:31:19Z,chapmanb
dfe001871b67c60c7c072c2676ad1b382ec3b583,chapmanb,chapmanb@50mail.com,Ensure de-duplication occurs on Standard processing pipeline if specified,2014-04-05T18:17:24Z,chapmanb
57250b75775e0ed99da2562844d3076af13c367c,Brad Chapman,chapmanb@50mail.com,"Merge pull request #388 from kern3020/master

fixed typo",2014-04-05T09:40:31Z,chapmanb
e76f2b665237a7c89d51c206ca9aa511766c07e5,kern3020@gmail.com,kern3020@gmail.com,fixed typo,2014-04-04T22:10:56Z,kern3020
56d0aed9f6e8eaf42359e5efad40cb25c904df90,chapmanb,chapmanb@50mail.com,Entry point for creating validation plots from existing CSV files,2014-04-04T00:37:24Z,chapmanb
9dfd4db29cdb0cf206dec82dcae6bc9989cf2d56,chapmanb,chapmanb@50mail.com,"Improvements for Galaxy upload: handle creation of missing Galaxy database libraries, support nglims-based specifications, avoid uploading indexes",2014-04-03T10:21:06Z,chapmanb
fa875d358a7fcb706d221e29d11f861f0e84201f,Brad Chapman,chapmanb@50mail.com,"Fixes for nglims-based sample preparation: correctly specify upload directory for Galaxy, handle controls, and avoid passing empty fastq files through",2014-04-03T10:17:22Z,chapmanb
82ce161046221abe4be2ea46ec826c23ef49636a,Brad Chapman,chapmanb@50mail.com,"Merge pull request #384 from mjafin/master

Modified SID settings to allow up to 10k coverage and lowered AF thresho...",2014-04-02T13:55:40Z,chapmanb
6f30222238a651c9d2ced14a40b80e0c4ad2944c,klrl262,miika.ahdesmaki@astrazeneca.com,Modified SID settings to allow up to 10k coverage and lowered AF threshold to 0.5%,2014-04-02T09:32:56Z,N/A
676403075c71fbfbe7d107447c57604129f1eccf,chapmanb,chapmanb@50mail.com,Pass along core and memory requirements for clusterk parallel,2014-04-01T11:01:04Z,chapmanb
b112574183e0314e4f44370ca45e894a48026d60,chapmanb,chapmanb@50mail.com,Clarify supported infrastructures for sequencer integration: HiSeqs dumping to Linux machines. Fixes #381,2014-03-31T14:05:03Z,chapmanb
8d1300e853af53ace64e38721f814e6f82381795,chapmanb,chapmanb@50mail.com,Initial framework for supporting Clusterk/AWS parallelization,2014-03-31T13:51:01Z,chapmanb
8684b01f50891c92bf17ea7a53a366761dce6e7a,chapmanb,chapmanb@50mail.com,Avoid running program checks when we're not running a downstream analysis. #375,2014-03-30T17:29:10Z,chapmanb
60ba1b94285dee7d1fc42abfc6ef156905a3b4f6,chapmanb,chapmanb@50mail.com,Code cleanup: remove old sequencer integration code. Remove bigwig generation; fixes #195,2014-03-30T10:20:04Z,chapmanb
2400947a693167f25a9a597b11e57adfce8331b1,chapmanb,chapmanb@50mail.com,Refactor GATK specific calling code into separate namespace. Cleans up GATK based called for future 3.x integration. #348,2014-03-30T09:55:38Z,chapmanb
59932f75b34f3734dcc6e151e35a17c53b6429bb,chapmanb,chapmanb@50mail.com,GATK VQSR update and reorganization. Clean up code and move into own namespace. Update to latest best practice recommendations,2014-03-29T18:57:39Z,chapmanb
fd960e8099b27b4a2698059216dc547653f1bc6c,chapmanb,chapmanb@50mail.com,Update human resources to include 1000 genomes high confidence SNPs used for VQSR,2014-03-29T11:18:35Z,chapmanb
3769cd927a34e70add80db5be31e94f71cbac96d,Brad Chapman,chapmanb@50mail.com,Sequencer support: ensure we right message database to avoid double runs when on cronjob. Fix PATH in example cronjob,2014-03-29T09:29:07Z,chapmanb
316a365dc0ec34d64d2023915612e3571c6c8f85,chapmanb,chapmanb@50mail.com,"Skip detecting Broad programs -- GATK, Picard, MuTecT if not present during initial provenance/version check. #375",2014-03-29T00:00:40Z,chapmanb
08d7d03e59eac2207b47d5c42c4bace8513ceff3,chapmanb,chapmanb@50mail.com,"Skip detecting Broad programs -- GATK, Picard, MuTecT if not present during initial provenance/version check. #375",2014-03-28T23:54:27Z,chapmanb
5068da9cc2666db123528b47493c52263d71538b,chapmanb,chapmanb@50mail.com,Remove unused sequencer integration scripts after new approach in place. Clean up utility scripts unrelated to main bcbio-nextgen functionality,2014-03-28T16:54:27Z,chapmanb
e5bb5a29c45e8f60aa7508ab6cc3312fd4e5894d,chapmanb,chapmanb@50mail.com,Document rebooted sequencer integration and remove replaced deprecated functionality,2014-03-28T16:29:11Z,chapmanb
bf59b96dda95f5c292e4900122091eb77d6ea680,chapmanb,chapmanb@50mail.com,Automated processing using a tornado server: ensure we can handle local multicore parallelism by launching external subprocess instead of inside background thread.,2014-03-28T01:41:32Z,chapmanb
7d33f41440f265a04b079c05a02c797bf846cbed,chapmanb,chapmanb@50mail.com,Move data files used in exome analysis pipeline into bcbio S3 bucket,2014-03-27T18:41:04Z,chapmanb
5e524e59573c2f6ea825777b36d9f25d8f6ceed8,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-27T18:38:58Z,chapmanb
25c904208856c228ab37c133adfb03cb77180a0d,chapmanb,chapmanb@50mail.com,Provide checks for pre-aligned input BAM files: ensure sample names match and chromosomes match. #370 #378,2014-03-27T18:38:50Z,chapmanb
798d7f00dd3ad0cc5a12f527ae9a1bb1d02f9e8e,roryk,rory.kirchner@gmail.com,"Update ipython-cluster-helper to version 0.2.17.

This contains a fix for non-KB based LSF resource usage
configurations.",2014-03-27T18:27:37Z,roryk
0d0c1eeef8dc5d1ce606874b8dba1a508167e8dd,chapmanb,chapmanb@50mail.com,Swallow gzip error message when checking sizes for bwa processing since not indicative of an actual issue. Clean up ability to find fastq files in processing directories. Add support for dm3 genome.,2014-03-27T01:51:12Z,chapmanb
46000d8f7c00147e0a962551a8b92d26c5852f75,Brad Chapman,chapmanb@50mail.com,"Merge pull request #379 from hammer/patch-2

Update configuration.rst with new GATK Resource Bundle URL",2014-03-27T09:41:36Z,chapmanb
f7c5b693f6db0031f18794eb15361f83a2afdb2f,Brad Chapman,chapmanb@50mail.com,Automated sample processing: ensure fastq inputs are sorted before merging for consistent pairs. Set default algorithm parameters using existing templates in sample YAML config,2014-03-27T09:40:49Z,chapmanb
517f2372c01b2083f3b3a66a98e6d2f7c74fd381,Jeff Hammerbacher,jeff.hammerbacher@gmail.com,"Update configuration.rst

The GATK Resource Bundle URL appears to have changed",2014-03-27T00:13:47Z,hammer
f268f588e4b75607d83d38e0bbaa003105703004,roryk,rory.kirchner@gmail.com,Added RNA-seq slides from Feb. 2014 BIG meeting.,2014-03-26T21:06:24Z,roryk
7ec617af0f543a888c99a407d524efb9ad1572e6,roryk,rory.kirchner@gmail.com,Added note about .pydistutils.cfg causing installation problems.,2014-03-26T20:33:18Z,roryk
c04977b7eea1aec26b5c7c2f37cba0fdba708cc5,roryk,rory.kirchner@gmail.com,Re-add timing finished message to RNA-seq pipeline.,2014-03-26T18:46:44Z,roryk
11d3bb191703d512381aeb7977a2233b6c410a68,roryk,rory.kirchner@gmail.com,"Revert ""Add finished to timing information.""

This reverts commit a98b71e9e7381542e42cadc22b2994b1efd32982.

Accidentally removed _setup_resources. Thanks to @hammer for
noticing.",2014-03-26T18:44:58Z,roryk
a98b71e9e7381542e42cadc22b2994b1efd32982,roryk,rory.kirchner@gmail.com,Add finished to timing information.,2014-03-26T15:49:34Z,roryk
1930a3cd8e971a37f3626b72da96fa98016cf0d4,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-26T15:42:20Z,chapmanb
d4dd035c14e9f0e96fcd40040e3bc167c06015d6,Brad Chapman,chapmanb@50mail.com,Illumina sequencer support: start processing on remote bcbio analysis server. Updates to server to support additional configuration,2014-03-26T15:42:12Z,chapmanb
f10e55b434c689b10e159105403e665b56651903,Rory Kirchner,rory.kirchner@gmail.com,Added Alla's affiliation.,2014-03-26T15:21:13Z,roryk
252ce4b45cddd2adaea6de11548ff0aed85d2f98,Brad Chapman,chapmanb@50mail.com,Rsync files from completed flowcells from sequencer dump to analysis machine.,2014-03-26T14:13:15Z,chapmanb
d615d0fafe174b22f15c2f0c4cb59ab3698aca0e,Brad Chapman,chapmanb@50mail.com,"Merge pull request #376 from hammer/patch-1

Update .gitignore to ignore emacs cruft.",2014-03-26T09:33:41Z,chapmanb
9f1321ed105de89292e733e5ef960fe4c430f79f,Jeff Hammerbacher,jeff.hammerbacher@gmail.com,"Update .gitignore

Update .gitignore to ignore emacs cruft.",2014-03-26T03:32:02Z,hammer
e425eec051bb1f8d9524ebc6bdac5b9d8278f9c8,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-25T10:03:19Z,chapmanb
f2577421678f7efa74f61a758ad86b4e9730046e,Brad Chapman,chapmanb@50mail.com,"Prepare combined fastq files from a flowcell, merging samples on multiple lanes and outputs split by bcl2fastq. Create final configuration file describing samples for processing. Update galaxy upload to handle inputs provided through YAML configuration instead of directly via nglims calls.",2014-03-25T10:03:11Z,chapmanb
bc9be6c2290cadbce9c78964abeea54d0c5d45eb,chapmanb,chapmanb@50mail.com,Only pass on and perform ploidy evaluation during haploid conversion if output has a genotype call. Fixes #370,2014-03-24T17:56:22Z,chapmanb
bb9bc6b0ea32c11a7b4732d9d0e9f10ae2444375,chapmanb,chapmanb@50mail.com,Ensure process setting handled correctly when maximum limits are infinite,2014-03-24T10:57:08Z,chapmanb
94b1f80d08b19230e343fd57a05224ac1afa755b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #372 from hammer/patch-1

Mac OS X: use a lower value of target_procs",2014-03-24T10:55:19Z,chapmanb
0f590e12854df466053fcbfa590ab4ce9d7b9c45,Jeff Hammerbacher,jeff.hammerbacher@gmail.com,"Update main.py

By default on Mac OS X the maximum number of files a process can open is 10,240. Unless the number 50,000 was chosen for a good reason, I suggest we change `target_procs` to `10240` to ensure a better out-of-the-box experience for Mac users.

The alternative would be to add a check for OS X before lowering `target_procs`.",2014-03-24T03:41:23Z,hammer
e93a89dfab4a92f6e8e1feb97f320e42e6b09ecd,chapmanb,chapmanb@50mail.com,Ensure extra haplotype chromosomes excluded from analysis regions if found in non-callable blocks. Avoids calling in these regions if not in variant_regions. Fixes #370,2014-03-23T17:08:36Z,chapmanb
5a7e03c29ddb83ff1e28f4a94233b69b6e806f8a,chapmanb,chapmanb@50mail.com,Improve automated tests to include mapping reads in chr22. Enables multi-chromosome and chromosome exclusion tests #370,2014-03-23T13:00:22Z,chapmanb
7e1e006f921a56c098c619e73379ccd17088fb69,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-23T10:25:30Z,chapmanb
5d6c70cc1898aa7a3b4afa7aeb09eaec3b6591d2,chapmanb,chapmanb@50mail.com,HaplotypeCaller: ensure depth annotated in output VCFs and turn on GATK 3.1 hardware optimizations,2014-03-23T10:25:22Z,chapmanb
905a60b7c9fdd0a3287365f662b1e591c069e480,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #369 from hammer/patch-1

Update README.rst",2014-03-23T04:08:29Z,roryk
955522eefdae149bc25bfd8f1a90c6b22d7cfaa8,Jeff Hammerbacher,jeff.hammerbacher@gmail.com,"Update README.rst

My Mount Sinai affiliation probably makes more sense for contributions to this project!",2014-03-23T03:27:29Z,hammer
35d238c1e618460ee7f0c5753343c96fae395ec3,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #368 from hammer/patch-2

Update installation.rst, thanks to @hammer",2014-03-23T03:26:10Z,roryk
99d061f8f32712f76bc26b09336ec121e2795a5a,Rory Kirchner,rory.kirchner@gmail.com,Added @hammer,2014-03-23T03:25:42Z,roryk
efb9938c3bf44075afd48e0bb63da090d46c4026,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #367 from hammer/patch-1

Update bcbio_nextgen.py",2014-03-23T03:23:20Z,roryk
68c19b46f5055037dcc0f0e12368f53e5a38a97c,Jeff Hammerbacher,jeff.hammerbacher@gmail.com,"Update installation.rst

Fix typo in docs.",2014-03-23T03:11:47Z,hammer
5a92a3ba560c758df0351753e1ab84c2ee84ddd1,Jeff Hammerbacher,jeff.hammerbacher@gmail.com,"Update bcbio_nextgen.py

I think the example configuration file has changed.",2014-03-23T03:04:38Z,hammer
4002490ee4c18f826062f9b38542329bacc0a2dd,chapmanb,chapmanb@50mail.com,Update cosmic to v68. Fixes #365. Use bgzipped dbSNP and other Broad bundle inputs,2014-03-22T12:49:47Z,chapmanb
87b0640a7d46b19072db8831ad0c6058b022ef21,chapmanb,chapmanb@50mail.com,Ensure system configuration and manifests created prior to adding toolplus targets on new installation. Fixes #366,2014-03-22T09:24:41Z,chapmanb
107e93a816c607a381c58d3030cbe400f2de90be,Brad Chapman,chapmanb@50mail.com,Use Illumina's bcl2fastq to demultiplex and prepare fastq files from raw Illumina machine bcls,2014-03-21T19:42:26Z,chapmanb
bf6552a0daf00c7ec492b976ad0e67c1cf0f1629,Brad Chapman,chapmanb@50mail.com,Create a sequencer sub-command to replace older sequencer integration scripts. Initial framework for detecting dumped Illumina runs and creating a samplesheet from nglims inputs,2014-03-21T14:39:02Z,chapmanb
0f198453805cff1364acce1c0438ceeafdd2145b,chapmanb,chapmanb@50mail.com,Move solexa namespace to illumina (finally) and start to clean up API,2014-03-21T11:55:56Z,chapmanb
8265e53f593494907d8364467621f2c506771c85,chapmanb,chapmanb@50mail.com,v0.7.8,2014-03-21T11:23:43Z,chapmanb
dcdfdbce928d50ab35eabf8a7d40782033ec92da,roryk,rory.kirchner@gmail.com,Add AlienTrimmer to the resource requirements for trimming.,2014-03-20T21:03:18Z,roryk
5a80e4d3ad634aa95161ed119c4d8e0b27a18dc5,chapmanb,chapmanb@50mail.com,Filter BED regions when subsetting by minimum size instead of trying to adjust size. This handles issues at the ends of chromosomes which cause out of range errors in FreeBayes,2014-03-20T10:02:02Z,chapmanb
fffd4b3e49c95a8b40976b4e2c5e328c2cba122b,Luca Beltrame,luca.beltrame@marionegri.it,"Hook the somatic fixing to Freebayes's paired pipeline and make the move
be in place",2014-03-20T10:00:53Z,lbeltrame
a0ed12441a9cb7bc4b5cb3c59db19aa511377304,Luca Beltrame,luca.beltrame@marionegri.it,Merge branch 'master' into vcf-somatic-fix,2014-03-20T09:53:52Z,lbeltrame
f9b8508aca13f17d35986de61bd829a5e7ffda63,chapmanb,chapmanb@50mail.com,Ensure tumor samples passed along during variant grouping to avoid stray normal-only samples on re-runs. Fixes #356. Correctly prepare single sample gemini VCF files,2014-03-20T09:32:07Z,chapmanb
c653bfd6db9c630b0945c0c215d60175facb9578,Brad Chapman,chapmanb@50mail.com,"Merge pull request #362 from mjafin/master

Fixed downsampling in MuTect to match that of coverage_depth_max",2014-03-20T09:23:45Z,chapmanb
b6fe5efcb8fd5439468ed3a0720dcccafb6654a3,chapmanb,chapmanb@50mail.com,Avoid downscaling on IndelRealigner which needs full memory for handling deep sequencing regions. Thanks to @mjafin,2014-03-19T15:57:17Z,chapmanb
23d569a1b668ffb1808be96faf1caf7d699a49b5,klrl262,miika.ahdesmaki@astrazeneca.com,Fixed downsampling in MuTect to match that of coverage_depth_max,2014-03-19T14:57:53Z,N/A
bda4788fcb4e86c30142e7ae50555442a531157d,roryk,rory.kirchner@gmail.com,Drop header to a lower level.,2014-03-19T13:41:48Z,roryk
fcb792e53e196ac806b27a6f4ae341715c05dd0f,chapmanb,chapmanb@50mail.com,Avoid errors when Galaxy location files contain the same genome multiple times. Use the most recently added genome. Fixes #360,2014-03-19T09:54:15Z,chapmanb
b699d57c3cee5378c01e6813b6d7aafcd7f6d6d9,Brad Chapman,chapmanb@50mail.com,"Merge pull request #359 from mjafin/master

Added --maxNumberOfReads option to SomaticIndelDetector based on coverag...",2014-03-19T08:58:30Z,chapmanb
ecc76f050e6d97c3e5bec3c753a9272d9ef978ff,roryk,rory.kirchner@gmail.com,Fix typo: --max--bundle-frags -> --max-bundle-frags.,2014-03-19T05:48:17Z,roryk
bca4db2b2f08b6f9f59ed8d15a57e562dbdd92c8,klrl262,miika.ahdesmaki@astrazeneca.com,Fixed correct insertion of --maxNumberOfReads,2014-03-18T19:11:51Z,N/A
aa859455dd89c2cff084cb03e1bfd8005bd70ba5,klrl262,miika.ahdesmaki@astrazeneca.com,Added --maxNumberOfReads option to SomaticIndelDetector based on coverage_depth_max,2014-03-18T18:33:13Z,N/A
e572fef62f2250c4cc158636c0382e2e632b579c,roryk,rory.kirchner@gmail.com,Update of changes in preparation for the 0.7.8 release.,2014-03-18T15:19:40Z,roryk
fce570da3bafd9a16e034c6c94c97f473431d951,roryk,rory.kirchner@gmail.com,"Fix for Cufflinks dropping high-coverage genes.

Set --max-bundle-frags to 2000000, up from the default of
1000000. Thanks to @mjafin for the suggestion and
discussion.  Closes #357.",2014-03-18T15:13:22Z,roryk
963a6b1c2068269a495c4636da999b5179281dbc,roryk,rory.kirchner@gmail.com,"Added information for fixing conda.cli not found issue.

Thanks to Jiantao Shi.",2014-03-18T04:11:28Z,roryk
e00dae6c159a98c95dcc2e829e43379033e63077,roryk,rory.kirchner@gmail.com,Add timing information to the RNA-seq pipeline.,2014-03-17T18:13:34Z,roryk
c2cf79519213b4907fc9b265f5f34003a6665a5f,chapmanb,chapmanb@50mail.com,Fix location of disambiguation directory inside sample directory to avoid multisample directory clashes. Fixes #355,2014-03-17T10:17:08Z,chapmanb
f5d0de45e51b8ca4cebe20a6ad792582d808230c,chapmanb,chapmanb@50mail.com,Avoid duplicate VCF merge errors when running ensemble calling on batches. Fixes #352,2014-03-17T09:38:18Z,chapmanb
f29bd039d5ff01289a0aa07aad97c7624526b1f2,chapmanb,chapmanb@50mail.com,Enable specifying genome build in template CSV files,2014-03-17T09:33:58Z,chapmanb
fd41c7c3fed63aa67aad8dc369521941413de872,chapmanb,chapmanb@50mail.com,Avoid memory usage issues when merging BAM files by reducing samtools sort memory,2014-03-17T09:18:51Z,chapmanb
543927bb93bfcda2bd0ad747758e47dba5894726,chapmanb,chapmanb@50mail.com,Reduce memory usage on streaming jobs like marking duplications and realignment to help with memory conflict errors while running alignment post-preparation,2014-03-16T18:58:36Z,chapmanb
30294c3573fca541637706348b7153d92b39d85b,chapmanb,chapmanb@50mail.com,Swap samtools view to sambamba view to avoid bug in samtools for SAM inputs without reads. Fixes #346,2014-03-16T17:13:09Z,chapmanb
0847b97e0e32e3b2c9c5d894c2985a091b10b87c,chapmanb,chapmanb@50mail.com,Improved fix for list/non-list batches that handles non string batch names,2014-03-15T17:03:50Z,chapmanb
cd3dda19d1a9eb561c61eb03d622d84e0e1d9389,chapmanb,chapmanb@50mail.com,Correctly check batches for naming clashes with descriptions for multi-batch inputs,2014-03-15T15:55:57Z,chapmanb
02e92e2fe90f4f6218377d8f323ead1b2d907bc1,chapmanb,chapmanb@50mail.com,Avoid bgzipping callable region file when no explicit variant regions specified and validation used. Thanks to Severine Catreux,2014-03-15T01:16:08Z,chapmanb
3d8920df9a7b3be66886166afe88446a377e8e77,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #351 from mjafin/master

RNA-seq disambiguation parallelisation improvements",2014-03-14T19:25:50Z,roryk
5315fef65b18736675fe8477fb5748a8a5837f64,klrl262,miika.ahdesmaki@astrazeneca.com,RNA-seq disambiguation: Moved to under same cluster config as quantification,2014-03-14T13:16:15Z,N/A
b1d115cf8d7d95618f0dc376e2059f7d21fa55ee,chapmanb,chapmanb@50mail.com,"Ensure batch names do not clash with sample names, which causes issues when preparing gemini databases. Fixes #352. Handle non-bgzipped inputs to Gemini database creation, from ensemble calls",2014-03-14T09:21:59Z,chapmanb
6f285b9aa9b7c7ef2fde4dbd100faf9bf362347a,Brad Chapman,chapmanb@50mail.com,"Merge pull request #354 from tanglingfung/patch-1

add ""--no-check-certificate""",2014-03-14T09:01:20Z,chapmanb
0376c1aadea0407ad99b3156ae53f57deac68144,Paul Tang,tanglingfung@gmail.com,"add ""--no-check-certificate"" 

to wget gemini_install.py 

not sure if everyone has the same issue though",2014-03-14T02:08:39Z,tanglingfung
e0ed3c294fe7dc862f62bb086602150885642047,klrl262,miika.ahdesmaki@astrazeneca.com,RNA-seq disambiguation parallelisation improvements,2014-03-13T19:08:00Z,N/A
0134da139d0ea3b546a0b1e7dddff44048224d0e,Luca Beltrame,luca.beltrame@marionegri.it,"Add SOMATIC flag for FreeBayes records

Initial step to address issue #317, but it is not hooked yet to the pipeline",2014-03-13T16:18:23Z,lbeltrame
2334403df1b51c2432b688f2e34d60b563d0e84b,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2014-03-13T15:33:00Z,chapmanb
90ec3a85a46a8bf3e60455ab97110f007a25c9f9,chapmanb,chapmanb@50mail.com,"Handle issues with symlinking files: detect, recover and do explicit copy. Works around bug on Lustre filesystems with 60 character file names. Fix update of snpEff databases for more edge cases",2014-03-13T15:30:11Z,chapmanb
f7c2758375bcaf31a4eda68f4569d6d7754abdca,chapmanb,chapmanb@50mail.com,Ensure gemini VCF database passed along in final output directory if batch only has a single member. Cache gemini output stats to avoid needing to re-calculate when re-running analyses,2014-03-13T15:24:03Z,chapmanb
57ed1118f864305e833d237f5e5743810679b57e,chapmanb,chapmanb@50mail.com,Add hard vcffilter to FreeBayes tumor calls to remove extremely low quality variants which cause issues with GATK post-processing #349,2014-03-13T09:25:29Z,chapmanb
8459d85675c4454fd57af241d7bdc44d5882c2cb,Brad Chapman,chapmanb@50mail.com,"Merge pull request #349 from lbeltrame/freebayes-fixes

Miscellaneous fixes for FreeBayes",2014-03-13T09:10:11Z,chapmanb
77f697986938537d985591746179bc6a5ad1d0b8,Luca Beltrame,luca.beltrame@marionegri.it,"Remove the pvar option, let hard filtering do the selection (like germline calling)",2014-03-13T08:40:40Z,lbeltrame
95f6b510d4c9b00dfbddbc0fef8ab8e10e9e034f,Luca Beltrame,luca.beltrame@marionegri.it,Remove the -s call as it is too stringent (see issue #314),2014-03-13T08:29:58Z,lbeltrame
a3ba2beaadd677714fd6724e01ec5002e170bd1a,chapmanb,chapmanb@50mail.com,Remove chanjo dependency until distribute dependency issue resolved,2014-03-12T19:02:46Z,chapmanb
82826818e521865e540b471c4944c6ac8b83056b,roryk,rory.kirchner@gmail.com,"Drop non-GATK coverage calculation for now.

chanjo as a dependency brings along some complexity, so shelve
this for now until that gets resolved upstream.",2014-03-12T18:52:45Z,roryk
42fd89f84c3b844aa9767b60024c57f5d0d8de03,roryk,rory.kirchner@gmail.com,Remove unused import.,2014-03-12T14:52:36Z,roryk
18dea9adb0850cb1b0d706f5d611a0b156ef775e,roryk,rory.kirchner@gmail.com,"Fix contig ordering for Tophat alignments.

This was causing GATK to fail due to a mismatch between the
BAM file header contig ordering and the reference file ordering.",2014-03-12T14:51:51Z,roryk
4cef94281adba2d2ae8b1606fde5d384ad1a5a8c,chapmanb,chapmanb@50mail.com,Add chanjo requirement for RNA-seq count support. Will be required in upcoming 0.7.8. Fixes #345,2014-03-12T09:57:32Z,chapmanb
dc7ad81afe7caee0379f80f55494cf742bc8f0a0,chapmanb,chapmanb@50mail.com,Correctly indent count variable and generalize to work on variant file only inputs #347,2014-03-12T09:47:14Z,chapmanb
ca9a217a6aa8b486c49dbbb0ee091b33ff2cce69,chapmanb,chapmanb@50mail.com,Re-include excessive coverage detection at higher value to catch regions not handled by current downsampling approaches. Update documentation,2014-03-12T09:19:26Z,chapmanb
5ca2c72f2a6482ad95c1cdfcd289bb672d3b57ab,roryk,rory.kirchner@gmail.com,Add @abushoy to the contributor list.,2014-03-12T04:03:54Z,roryk
b51bc165039a9966dab00d25838f4ac6baefa996,roryk,rory.kirchner@gmail.com,"Switch fastq detection to exclude impossible encodings.

This way it can abort early if it finds only one possible
encoding matches. Dropped max number of reads to look at to 1000,
so we aren't taking forever going through the files.
Added more tags to the unit tests so you can run all of the
RNA-seq tests at once.

Thanks to @abushoy for the nice implementation.",2014-03-12T03:53:43Z,roryk
b8640a7d110bdb31bfc2ee096caa05d92cbce391,roryk,rory.kirchner@gmail.com,Merge branch 'pr/347' into fastq-detect,2014-03-12T02:08:01Z,roryk
2921cfbad6f584cd4c6d35c355181f413ab6089b,roryk,rory.kirchner@gmail.com,"Generalize FASTQ detection to detect any format mismatches.

Working from the nice addition from @abushoy.",2014-03-12T02:06:31Z,roryk
18930274396fa085c83b23a6ece87e6429c77f28,"Bushoy, Alla",Alla.Bushoy@astrazeneca.com,Detect fastq format logic added,2014-03-12T00:31:58Z,abushoyAZ
58634b5c08cdffbf673cff6c209515184de18824,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-11T20:26:42Z,chapmanb
c1e83b69b700f4e37e720e49e5c6b53105ef5f92,chapmanb,chapmanb@50mail.com,Update test genome files with new STAR disambiguation indexes from @roryk,2014-03-11T20:26:30Z,chapmanb
b49c47e5da82f97470a8ab0bf422a135af467c68,roryk,rory.kirchner@gmail.com,Remove trailing /1 from this single-end dataset.,2014-03-11T20:18:02Z,roryk
dba1e142b794eea25ea933963c94b93f9c9b3de7,roryk,rory.kirchner@gmail.com,"Fix for failure on very low coverage samples.

If there is not enough to call coverage anywhere, just
return None.",2014-03-11T20:18:02Z,roryk
7af823d99c2d0435fac73fb2337323f3ca4664fb,roryk,rory.kirchner@gmail.com,Add a singleend tag for testing single-end data.,2014-03-11T20:18:02Z,roryk
5adfc2c38be454910d25314865c3a4842e24a1fe,roryk,rory.kirchner@gmail.com,"Put symbolic links in the correct directory.

These were inadvertantly linked in the toplevel align directory
instead of the lane-specific subdirectory.",2014-03-11T20:18:02Z,roryk
6f08319db485cdb3bd60384a01de26d1c2602515,roryk,rory.kirchner@gmail.com,"Fix for Tophat with single-end reads and final BAMfile naming.

In single-end mode, fixing the unmapped reads with single-end
reads was causing all reads to be discarded. Also the
final BAMfile was getting linked to from the align directory and
not the subdirectory of the alignment below it.",2014-03-11T20:18:02Z,roryk
8cd74cf27456829ea0c9efc12e6e4cff26aeb699,roryk,rory.kirchner@gmail.com,Remove some cruft. Set STAR to be the default.,2014-03-11T20:18:01Z,roryk
4f24b9267d01d8b66ae963a335d7b1099e737e91,chapmanb,chapmanb@50mail.com,Ensure read groups correctly specified on bwa aln alignments. Fixes #346,2014-03-11T16:58:32Z,chapmanb
c3a8f968deca823e7c47992609805b2cf80e5903,chapmanb,chapmanb@50mail.com,Remove all references to removed max_errors parameter. Fixes #346,2014-03-11T12:33:55Z,chapmanb
6a9010188fa0d60e19c1d3a79a07ef40ba6b4040,chapmanb,chapmanb@50mail.com,Eliminate memory issues using PrintReads in large concurrent runs by reducing memory usage. Ensure do.run subprocesses are cleaned and closed,2014-03-11T11:27:36Z,chapmanb
ec744df745c86bdf5e0ff28351803b6a6c2dca27,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-10T19:07:04Z,chapmanb
f0b5cd5d2eef52759b9585f86d794460f8a986e2,chapmanb,chapmanb@50mail.com,Add target for only running multiple caller test. #340,2014-03-10T19:06:55Z,chapmanb
8bb9f586948a1544f81df24bf767be5417353fb0,roryk,rory.kirchner@gmail.com,Fix bug where filename was not shown in failed assertions.,2014-03-10T15:10:26Z,roryk
a9b56cf22f959f5c66590e8de9da130121741b3c,chapmanb,chapmanb@50mail.com,Provide improved mechanism to add GATK jars into bcbio-nextgen. Handles updating version information in manifest and supports academic and commerical downloads. Fixes #332,2014-03-10T10:39:00Z,chapmanb
8feafadee52c71fe2dd43b9306608287446c6adb,chapmanb,chapmanb@50mail.com,Add ability to pass specific command line options from YAML configuration to FreeBayes.,2014-03-09T18:26:30Z,chapmanb
8d1a230179b0f23031da5018fb4606a2dc0ba463,chapmanb,chapmanb@50mail.com,"Use MIT licensed GATK framework code for PrintReads and CombineVariants work, moving to GATK 3.0 codebase",2014-03-09T16:22:23Z,chapmanb
6a91407a08170ed03c262b046ef5df42171a981f,chapmanb,chapmanb@50mail.com,"Use new gemini targets for testing and small files to avoid building gene tables during testing, which causes unit tests to slow down dramatically with gemini 0.6.5a. Thanks to @arq5x",2014-03-08T10:30:52Z,chapmanb
639decf46caab3c39fcdba965a0d313f5f69c849,chapmanb,chapmanb@50mail.com,Revert combine_variant_files back to GATK instead of vcflib vcfintersect. vcfintersect not correctly handling many merge cases. Fixes #338. Fixes #339. Fixes #343,2014-03-08T10:22:27Z,chapmanb
712d08f1381a23bda0c7fc5dbf36da3ac2bd6777,roryk,rory.kirchner@gmail.com,Fix issue in coverage calculator with genes on '-' strand.,2014-03-07T20:11:21Z,roryk
adc7e51f9d76ded6ad354a44d5090e3eb385c55d,chapmanb,chapmanb@50mail.com,Correctly bgzip and compress in write_empty_vcf. Thanks to @lbeltrame. Fixes #338,2014-03-07T13:30:42Z,chapmanb
aceb4e302bba029a65ac2f48ac4a7d5be563ddb6,chapmanb,chapmanb@50mail.com,Fix failure to install snpEff databases on new installations. Fixes #336,2014-03-07T13:10:59Z,chapmanb
701a5d0fb5d8c983d6a097302da9099613c6fa06,chapmanb,chapmanb@50mail.com,Remove pointers to coverage_depth in configuration inputs,2014-03-07T12:16:04Z,chapmanb
54b3d27bff380623726893c4a701ee6976954608,chapmanb,chapmanb@50mail.com,Provide explicit targets for minimum and maximum calling coverage and remove coverage_depth which was poorly defined and minimally used. Fixed #322,2014-03-07T11:51:12Z,chapmanb
f88601d1e8c2cad2d0e76d9c2aef980aa840d298,chapmanb,chapmanb@50mail.com,Ensure sequence has hg19.dict reference prior to running. Fixes #336,2014-03-07T01:07:45Z,chapmanb
39d7c0d3616a802dc0214c8d20ce91994dc2309c,chapmanb,chapmanb@50mail.com,Support additional edge cases for Varscan calling with bgzipped outputs,2014-03-06T18:15:29Z,chapmanb
c55d1de54b3c42d2ee81b17dc6ce8d23700eec91,Brad Chapman,chapmanb@50mail.com,Ensure merging of normal cancer samples together after variant calling despite attaching variation file to tumor sample. Enables correct merging of final BAM files. Fixes #324,2014-03-06T15:10:26Z,chapmanb
84c05092d9d93733e7c783c15f5f3d5bfeff6d45,chapmanb,chapmanb@50mail.com,Provide hook to enable profiling of system resources at each step of bcbio-nextgen variant processing,2014-03-06T11:14:02Z,chapmanb
a8051916f580c6736c1c4414174472d05e14c360,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-05T18:49:56Z,chapmanb
9fc9791837a69ce725adae8a089b59cbc41d9e56,chapmanb,chapmanb@50mail.com,Write merge list files inside transaction directory to prevent race conditions #324,2014-03-05T18:49:47Z,chapmanb
a9a737d709389919e864730eb6a6eaa331a92cfd,roryk,rory.kirchner@gmail.com,"Use the sample name not the lane name for featureCounts.

Also returns the sample name instead of the lane name from
Tophat/STAR. Closes #333. Thanks to @mjafin.",2014-03-05T17:58:19Z,roryk
998fbdce28e64402507908aa1df4496a6c82d852,Brad Chapman,chapmanb@50mail.com,"Merge pull request #330 from mjafin/master

Support Appistry SomaticIndelDetector and bundle with calls to MuTect",2014-03-05T11:09:23Z,chapmanb
0518ac2d5ae46b3938101be73df815c211a1428f,chapmanb,chapmanb@50mail.com,Isolate calculation of callable regions to parallelizable process so it occurs within docker containers containing pybedtools. Identify soft requirements not needed by bcbio-nextgen-vm,2014-03-04T20:29:07Z,chapmanb
21a7c39ab8c249974dedf366affc6363712b9e91,klrl262,miika.ahdesmaki@astrazeneca.com,bcbio/provenance/programs.py fixed for mutect version detection,2014-03-04T17:54:47Z,N/A
02b30e88dbe77af87022e23cfc070657e7bc0dac,klrl262,miika.ahdesmaki@astrazeneca.com,MuTect versioning for appistry and subsequent application of SomaticIndelDetector,2014-03-04T17:54:47Z,N/A
c58905e656a44134e7aff852698fa81cab6fbf99,klrl262,miika.ahdesmaki@astrazeneca.com,Added splice junction read support,2014-03-04T17:54:47Z,N/A
8a35e9ba372ae87853ffc8cd74497ec2a6f6e0f6,klrl262,miika.ahdesmaki@astrazeneca.com,Combining muTect SNPs and SID InDels correctly using combine_variants,2014-03-04T17:54:47Z,N/A
6430c844c5084abc896e0edc3846f9e90766670b,klrl262,miika.ahdesmaki@astrazeneca.com,Appistry mutect SomaticIndelDetector support added.,2014-03-04T17:54:47Z,N/A
0671820ed3e01514e4cc5e1d1f2c7bab4bb335cf,chapmanb,chapmanb@50mail.com,Overview cartoon of bcbio-nextgen-vm and bcbio-nextgen Docker components,2014-03-04T16:01:29Z,chapmanb
1363841d3f0e1c4da3aeb5400615e8975ead398d,chapmanb,chapmanb@50mail.com,"Remove hack to avoid too small regions when subsetting BED files by regions, since this is now handled cleanly within  and can cause improper BED regions. Fixes #329",2014-03-04T13:00:26Z,chapmanb
36aeb93bd49b5f605db6ea77c8e24ea1ead3067e,chapmanb,chapmanb@50mail.com,Additional GATK cleanup: remove unused variant evaluation code. Remove todo for ReducedReads since it will be gone in GATK 3.0,2014-03-04T12:05:48Z,chapmanb
d522ac59ecd84083b3b58856a3e17cee1fcf1229,chapmanb,chapmanb@50mail.com,Ensure we have a recent pysam version to avoid index out of bound errors. Fixes #328. Drop old dependencies no longer needed in 0.7.7,2014-03-04T11:34:15Z,chapmanb
14c69abcac599583390f8b80bb6c788897f3c86e,Brad Chapman,chapmanb@50mail.com,"Merge pull request #327 from lbeltrame/fix-unboundlocalerror

Fix UnboundLocalError when running freebayes in paired mode",2014-03-03T14:52:26Z,chapmanb
86f5f7406bf4027ef240b43e876bb5aa5327b00e,Luca Beltrame,luca.beltrame@marionegri.it,"Fix UnboundLocalError when running freebayes in paired mode

The defintion of config was inside the if, and hence it was skipped if
the file already existed, leading to errors",2014-03-03T14:33:15Z,lbeltrame
1bf1a8fbd572c07e4c8e8cfd0b0085aa27c08a49,chapmanb,chapmanb@50mail.com,Use -f flag to tabix to overwrite existing indices. Handles race conditions when indexing the same file in multiple concurrent processes. Fixes #326,2014-03-03T11:41:56Z,chapmanb
4326f8d9f0309e8fb11b40b523f77ded99fa48ea,chapmanb,chapmanb@50mail.com,Use bgzipped and tabix indexed VCFs throughout the pipeline instead of uncompressed VCFs.,2014-03-03T11:40:01Z,chapmanb
81eb8b91f89dc220d5949cbf7f00d6fba50573e8,Brad Chapman,chapmanb@50mail.com,"Merge pull request #325 from mjafin/patch-1

Update configuration.rst",2014-03-03T10:26:59Z,chapmanb
ec3c5dd68ea4fa2c1f1fd1224d43e843ce649e77,Brad Chapman,chapmanb@50mail.com,"Merge pull request #323 from porterjamesj/patch-5

Fix filename length bug in template workflow.",2014-03-03T10:26:25Z,chapmanb
7db29974ec09634e2ed93a31e7d404d136c39864,mjafin,miika.ahdesmaki@live.fi,"Update configuration.rst

Added star as one of the aligner options. Added mutect as one of the variant calling options.",2014-03-03T09:06:37Z,mjafin
5f52ff1fe1330894759daecaa359d862134e4172,James J Porter,porterjamesj@gmail.com,Fix filename length bug in template workflow.,2014-03-03T07:17:13Z,porterjamesj
606a945ed65b3a448f5c028470578479a6c48155,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-03-02T11:33:58Z,chapmanb
629c79666f1474eedb8e057642e37784de3b0404,chapmanb,chapmanb@50mail.com,"Use pysam for calculation of sample coverage, removing dependence on GATK CallableLoci. Work towards chanjo integration for coverage",2014-03-02T11:33:50Z,chapmanb
a760854ca9808693ed223ba84a360c56a0c14c26,roryk,rory.kirchner@gmail.com,"Start of replacing RNA-SeQC with some custom plots.

Coverage calculation for 100 random genes to replace the
coverage calculation in RNA-SeQC.

Need to implement exon/intron/coding summaries as well.",2014-03-01T21:45:19Z,roryk
8107c0e312b5892594f7a97e1a4edfbceac01465,roryk,rory.kirchner@gmail.com,Add AlienTrimmer to program provenance.,2014-03-01T21:42:22Z,roryk
8f4d53b6dc6f5d2e9f314e9f23b8bfdecd660b45,chapmanb,chapmanb@50mail.com,Normalize input BED files with overlapping regions as part of processing pipeline to avoid out of order errors from downstream callers like FreeBayes. Fixes #320,2014-03-01T11:26:42Z,chapmanb
266eddc7afc1833bb8bedc15254354ec02f0d3a5,chapmanb,chapmanb@50mail.com,Normalize input BED files with overlapping regions as part of processing pipeline to avoid out of order errors from downstream callers like FreeBayes. Fixes #320,2014-03-01T11:26:30Z,chapmanb
3bd7455257e1a9b264be81ab9ed3fc3abcb14111,chapmanb,chapmanb@50mail.com,Move selection of single samples from multi-sample VCFs to bcftools instead of GATK. #294,2014-03-01T10:31:10Z,chapmanb
063ae766472efc032a7dc64ece465538a1062737,chapmanb,chapmanb@50mail.com,"Improved fix for pysam on CentOS, use up to date pysam package compiled on CentOS 5 from bcbio binstar channel. #319",2014-02-28T11:38:14Z,chapmanb
d56acf2840eb6754b8d7cf6596a358aeeb2319d5,chapmanb,chapmanb@50mail.com,Avoid using newer pysam from binstars which causes issues on CentOS. Fixes #319,2014-02-28T10:38:22Z,chapmanb
02c748eedf7c5af221023b9d2173212da3c8aefd,chapmanb,chapmanb@50mail.com,Use bcftools and vcflib for splitting variants into SNPs and Indels and merging samples back together. #294 Clarify and test for correct usage of various merging functions.,2014-02-28T10:35:29Z,chapmanb
e8048d07bebf9e06c4f423b0562e9b97ed214cc4,chapmanb,chapmanb@50mail.com,Provide 0.7.7 conda package of bcbio-nextgen. Update Dockerfile to match latest security fixes in bcbio-nextgen-vm,2014-02-27T13:45:11Z,chapmanb
2cc8c2f39dd5886703d7d1b70dc6bdf86731bd33,chapmanb,chapmanb@50mail.com,v0.7.7 release. Final commit includes pointers to latest conda version of pysam + makes pandas an optional soft import in feature counts,2014-02-27T13:39:13Z,chapmanb
3fdcd30ab988ae499566093095dd17507c78e22a,Brad Chapman,chapmanb@50mail.com,"Merge pull request #318 from mjafin/master

Fixed disambiguation for STAR alignments",2014-02-27T12:33:18Z,chapmanb
47ce4fbe21b79cd835977f494d27d0de236894c7,klrl262,miika.ahdesmaki@astrazeneca.com,Fixed disambiguation for STAR alignments,2014-02-27T09:12:20Z,N/A
2288dd263b232583b680514958a251d40f86cb92,chapmanb,chapmanb@50mail.com,Reduce duplicated 'algorithm' section in each data item to have smaller message sizes. #299,2014-02-26T17:27:39Z,chapmanb
18417ef7d7102ac31f3dd411f2d01230b0711e7d,chapmanb,chapmanb@50mail.com,Move ensemble calling after BAM merge step to have fully merged BAM for recalling approaches and to make use of multiple cores,2014-02-26T13:33:14Z,chapmanb
dc7595a1b8d135e7ce8a6bb7d622b22e7a9d38c7,roryk,rory.kirchner@gmail.com,"Add featureCounts as a replacement for htseq-count.

featureCounts is much faster than htseq-count. If
it isn't found, it falls back to use htseq-count.",2014-02-24T21:50:27Z,roryk
cddc6126cc5a27d440ecb162da8cd7c8025f3036,roryk,rory.kirchner@gmail.com,"Change default trimming quality to 5 down from 20.

I think this is the correct way of looking at this debate:

http://genomebio.org/is-trimming-is-beneficial-in-rna-seq/

Dropping down to 5 allows more reads to map in the SEQC
dataset, which is only a good thing.",2014-02-24T21:44:09Z,roryk
0261db9d5dac3806870912f7dd375ba586677b66,chapmanb,chapmanb@50mail.com,Revert back to vcfcat with shorter command line and used files in a temporary directory. Handle race conditions with preparing bgzipped BED files for filtering,2014-02-24T10:27:07Z,chapmanb
fd5e4dd8cb850098919662bca333c070ceeded3d,chapmanb,chapmanb@50mail.com,Use vt for concatenation functionality to handle file-based inputs to avoid long command lines.,2014-02-23T18:54:34Z,chapmanb
b7908cd8b7a8532325448ee1f135388b1ae7e148,chapmanb,chapmanb@50mail.com,Add a fresources target that allows specifying the filesystem resources needing for specific analysis components to allow packing of files for non-shared filesystems,2014-02-22T14:20:57Z,chapmanb
84cdaf2157f76203b39c8cccd9e10690794fcfdf,chapmanb,chapmanb@50mail.com,Avoid errors when running genomes without snpEff databases,2014-02-21T12:39:14Z,chapmanb
d219d8b3dc81986045809b84a643870fc5c9ca59,chapmanb,chapmanb@50mail.com,Provide enumeration of gemini input files allowing passing to non-shared filesystems. Disabled until we can explicitly define gemini data directory and use this feature,2014-02-21T10:54:37Z,chapmanb
4cd546880d527d4e6ff5e9364b39433f74993f70,chapmanb,chapmanb@50mail.com,Ensure pipeline tests work on installations in non-standard locations. Thanks to Glen Otero,2014-02-21T01:21:03Z,chapmanb
3cf483a902ce395ce880b2ffac57aee0c7d43c3b,chapmanb,chapmanb@50mail.com,Correct retrieval of alternative genomes for validation,2014-02-20T19:49:00Z,chapmanb
e557131876a07e505a794d0cc625aec46585dc96,chapmanb,chapmanb@50mail.com,Enumerate alternative genomes used during validation to allow passing through to non-shared filesystems,2014-02-20T11:23:09Z,chapmanb
99142f055fb27639ab46c50d793aa9da98cdf262,chapmanb,chapmanb@50mail.com,Enumerate files needed for snpEff effects prediction so these can be transferred to individual processing nodes in non-shared filesystems,2014-02-20T10:46:55Z,chapmanb
bf6e415d878fc2158d7ebb8ba4258a8e81c568b8,roryk,rory.kirchner@gmail.com,"Fix for annotation for GTF files without standard fields.

This just bails out annotating the file.",2014-02-19T16:27:42Z,roryk
b57868ac6f8e3763829c52d27223078234f66402,roryk,rory.kirchner@gmail.com,"Use AlienTrimmer instead of cutadapt.

AlienTrimmer is much faster the way we are using it, at
least 10x faster. We do less trimming this way, and will
lose some reads but taking hours and hours to trim the
reads perfectly isn't worth the effort to recover a small
number of reads.",2014-02-19T16:27:13Z,roryk
4925bd14121bddfe639d6aaa4394e299aace1393,roryk,rory.kirchner@gmail.com,"Have STAR set the read group tags.

This saves a call out to AddOrReplaceReadGroups. There is
an issue with it, though, that it creates a malformed header.
https://groups.google.com/d/msg/rna-star/xxE4cUnafJQ/EUsgYId-dB8J

A fix is in place to handle it for now and can be removed
if/when the bug is fixed upstream.

Added reheadering function for BAM files.",2014-02-19T16:27:05Z,roryk
49112b92b1345a7f4378a9d0bc6082d429c31c90,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-02-19T10:55:59Z,chapmanb
e6e179e1e1072582adca678e82651efa0759e830,chapmanb,chapmanb@50mail.com,"Generalize reference detection to provide pointers for fasta files, reference indexes, plus aligner indexes. Enables shipping full analysis to non-shared filesystem by enumerating all requirements",2014-02-19T10:47:37Z,chapmanb
adf809bca572965b3b6a68cc387dbe916fe82c00,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-02-19T00:09:49Z,roryk
52ef02da64339f17511696469dd5a63427acfd94,roryk,rory.kirchner@gmail.com,Add more in depth description of the RNA-seq output.,2014-02-19T00:09:12Z,roryk
a71f460d45e4844e200d73f616abd23e3dc9243d,roryk,rory.kirchner@gmail.com,"Add star attribute to test.

Now we can test Tophat and STAR separately.",2014-02-18T20:26:58Z,roryk
d85008436d189913a5ae7928c6b72b09fa322d20,chapmanb,chapmanb@50mail.com,Add more helpful error message for bcbio installations where we cannot find data directory. Fixes #313,2014-02-18T10:58:37Z,chapmanb
83688a6411724422dc272c700f0111f1369df7d1,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-02-17T10:59:43Z,chapmanb
0ffe3bd1e907a79ae48315738830f6c10e4d0ac6,chapmanb,chapmanb@50mail.com,Support for latest bcftools and htslib release candidate: 0.2.0-rc6. Fixes #301,2014-02-17T10:57:44Z,chapmanb
5e864bc87229b1b715629928d80ca253eb5193bb,roryk,rory.kirchner@gmail.com,Remove unused function.,2014-02-17T08:00:32Z,roryk
2fcfef3903ce3e6c9f3390e78d636115a82c5730,chapmanb,chapmanb@50mail.com,Handle in-place data dictionary updates from alignment as well as raw SAM output.,2014-02-16T20:17:25Z,chapmanb
71ff9ec15a1a202ffdd304104aaf9badbdb8d6b7,roryk,rory.kirchner@gmail.com,Finish writing the docstring for _fix_unmapped.,2014-02-16T19:18:47Z,roryk
e054df88fe0ba47b83ba8abcd58e70be9c3431b6,roryk,rory.kirchner@gmail.com,"Remove the merge SAM and FASTQ step after alignment.

STAR has an option to output the unmapped reads and Tophat
has a separate BAM file of unmapped reads. Both need to have
the read groups fixed on them, and Tophat has some additional
issues where the flags are not set properly on unmapped
mate pairs.",2014-02-16T19:11:28Z,roryk
1aabf7d27a2fa3b86a79f813d523c21b000bda2b,roryk,rory.kirchner@gmail.com,Add function to only return mapped reads from a BAM file.,2014-02-16T19:11:27Z,roryk
30ae3c289ecff555ef4650b90bb9b289409d01be,chapmanb,chapmanb@50mail.com,Speed improvements for job re-runs. Remove checking steps inside main output file checkpoints. #299,2014-02-16T16:52:21Z,chapmanb
cbf77dc83622c3e09be349fcc00b3297015896e0,chapmanb,chapmanb@50mail.com,"Fix race conditions in QC generation, handling partially completed results and simultaneous runs on the same file. Fixes #311",2014-02-15T10:51:28Z,chapmanb
d9adf96076e9faf7e8052ccabebcafac84a298a7,Brad Chapman,chapmanb@50mail.com,"Merge pull request #310 from lbeltrame/add-strand-bias-varscan

Add --strand-filter 1 to VarScan somatic options",2014-02-14T12:59:38Z,chapmanb
cd6e1e9e72c25931419feb983d46d0992851f848,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-02-14T12:12:09Z,chapmanb
57256279cdc3787ccc40a3442cd92ff6ff110f54,chapmanb,chapmanb@50mail.com,Provide infrastructure to run caller-based ensemble combines from multiple inputs. Uses the bcbio.variation.recall toolkit. Still a work in progress,2014-02-14T12:11:21Z,chapmanb
22bae9ab5d0afceccdc1ce1326b0c59fd8ed5908,roryk,rory.kirchner@gmail.com,Update with RNA-seq changes.,2014-02-14T06:09:24Z,roryk
4bf2fda65e4030e00c2a8be76e3cb6476306c18e,roryk,rory.kirchner@gmail.com,"Fix Tophat inner distance calculation.

Read pairs  spanning exons cause outliers in the insert size
distribution. This uses the median and an estimate
of the standard deviation based on the median absolute
deviation which is more stable w.r.t outliers.",2014-02-14T06:05:14Z,roryk
0640351e73e8576f04c9211f34af3d00990d14f0,Luca Beltrame,luca.beltrame@marionegri.it,"Add --strand-filter 1 to VarScan somatic options

This is done in order to filter variants with extremely high (>90%)
strand bias.",2014-02-13T16:38:06Z,lbeltrame
bf08245d3322f3e42c1b3ff96a116de3b2ea4ecb,chapmanb,chapmanb@50mail.com,Bump to latest ipython-cluster-helper with torque fix,2014-02-12T16:37:46Z,chapmanb
679b9df3c06f9e4939aacba4ce63a7a42a8a0ac1,chapmanb,chapmanb@50mail.com,Bump to latest ipython-cluster-helper. Fixes #298,2014-02-12T10:31:14Z,chapmanb
30eb85ee3d8ee04a582243868aa9402a6283d482,roryk,rory.kirchner@gmail.com,"Annotate using the gffutils db if it exists.

Remove mygene method as calling out to external sources can be
problematic in some compute environments.

Resolves #300. Thanks to @mjafin.",2014-02-11T23:03:01Z,roryk
6b1645e49b362cb7f15939a676604b84a2b0e8f3,chapmanb,chapmanb@50mail.com,Avoid issues with numpy 1.7/1.8 discrepency in automated conda installation. Fixes #304,2014-02-11T20:18:19Z,chapmanb
ac70ae3268ad0c599f672d221dead4e0db0917a6,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #302 from mjafin/master

Disambiguation for RNA-STAR fixed: nM tag changed to NM",2014-02-11T16:12:19Z,roryk
af1182ed656818697c11731b89544153730f9758,klrl262,miika.ahdesmaki@astrazeneca.com,Disambiguation for RNA-STAR fixed: nM tag changed to NM,2014-02-11T15:28:57Z,N/A
074e2c795df8e789ba0d64fd8fa1d8ab4c7ba7d4,chapmanb,chapmanb@50mail.com,Change quality filter for hets to match distribution of quality scores in current FreeBayes head. Bump ipython-cluster-helper version.,2014-02-10T19:03:34Z,chapmanb
dbad6df2969a64b98d78921891f8c427d1727dd4,chapmanb,chapmanb@50mail.com,Avoid parallel race conditions when cleaning up after bgzipping. #216,2014-02-10T18:30:06Z,chapmanb
8faaa9b2744a23acc11341fe3067acb7a4dedbf4,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-02-09T19:13:53Z,chapmanb
9bca97801a709ab4689419151f558074f1d4aa45,chapmanb,chapmanb@50mail.com,Provide general utility to handle symlinks: making all symlinks relative and including associated index files. Useful to handle symlinks inside and outside of docker containers,2014-02-09T19:13:44Z,chapmanb
ab56de7223daf5b1357e239e08497db8da8e88ac,roryk,rory.kirchner@gmail.com,Remove GATK from generate transcript counts.,2014-02-09T19:03:47Z,roryk
f2fc31bfda49b7ba1f1963145fccf55c138e6566,chapmanb,chapmanb@50mail.com,"Update freebayes germline calling to be compatible with latest versions: perform quality filter of low quality variants after calling, add vcfallellicprimitives. Update filtering to be more sensitive for heterozygotes",2014-02-09T17:57:57Z,chapmanb
365426f77bd75d0738c3891e13b2e2159b648701,chapmanb,chapmanb@50mail.com,Revert back to GiaB v2.17 VCF and BED reference materials for pipeline examples. Thanks to Severine Catreux,2014-02-09T13:21:30Z,chapmanb
0910de5d83aad45cea65eac6f9a580e0f6c927ee,chapmanb,chapmanb@50mail.com,Slightly more sophisticated hard filter for FreeBayes calling that handles low depth and quality filters. #216,2014-02-09T11:26:36Z,chapmanb
f0544e27f0c30d37c8261075f680a0bd33f672cc,chapmanb,chapmanb@50mail.com,Fix typo in FreeBayes hard filter,2014-02-09T00:42:26Z,chapmanb
13802529c56f6d04e749b1068c2deaf3bea7fe7c,chapmanb,chapmanb@50mail.com,More work on getting bcftools to scale for large file: bgzip and index variant region BED. #216,2014-02-08T22:17:18Z,chapmanb
634c2551b5b3c2956035ae13574f0339104a9f5e,chapmanb,chapmanb@50mail.com,Ensure prepared BED file gets written to file handle prior to use in filtering since large files need multiple lookups #216,2014-02-08T19:05:49Z,chapmanb
8d2cc91c112f3eaa013d799f59617ba577432181,chapmanb,chapmanb@50mail.com,Ensure filtering subsets final variant calls to  consistently between GATK and FreeBayes. Fixes #216. Replace GATK filtering with bcftools #294,2014-02-08T13:27:29Z,chapmanb
3762b9d13e00430d69706eeeed7d5727433f92eb,chapmanb,chapmanb@50mail.com,Bump to latest ipython-cluster-helper with LSF resource support and shorter tags. #258,2014-02-07T21:00:44Z,chapmanb
b32b441a0e5362c3e416ddfc4c491fff43143e9e,chapmanb,chapmanb@50mail.com,Remove filterInterval passed to snpEff which can cause errors in some cases. Prefer filtering by regions done upstream. #216. Also includes small fix for latest GitHub prettyplotlib visuatlization,2014-02-07T18:15:02Z,chapmanb
1d6cbd970d079ca198abe0ed11df045f746fd972,chapmanb,chapmanb@50mail.com,Ensure track and browser lines are removed from input BED file before feeding to SnpEff #216,2014-02-07T14:22:12Z,chapmanb
2f2898ff32bdd2efe8130717f99a5c33c11aa862,chapmanb,chapmanb@50mail.com,Ensure finding of cutadapt installed in local Anaconda python directory. Fixes #295,2014-02-07T12:44:49Z,chapmanb
16096ab579de6b67ab7ebb79f28828c0addcf46a,chapmanb,chapmanb@50mail.com,Fixes: revert 457cd7641a with better documentation and checking for non-hashable values; sorry @roryk for the issue. Correctly ensure all samples are passed back from validation.,2014-02-07T12:27:54Z,chapmanb
178d14307a32d8eca5d44752db867b0046f9794d,roryk,rory.kirchner@gmail.com,Remove debugger usage.,2014-02-07T08:14:05Z,roryk
457cd7641a89bc64d327bf3f60f0d351e45ab302,roryk,rory.kirchner@gmail.com,Fixes global options being looked up by value instead of key.,2014-02-07T08:04:02Z,roryk
fcaea5821bc007cb298d6fe028aa5834d5e0e8e5,chapmanb,chapmanb@50mail.com,Integrate validation plots into standard workflow. Currently requires manually installation of prettyplotlib into bcbio python site-packages until next release,2014-02-06T19:47:23Z,chapmanb
9e12388562b2cfe01ae6d6b156b61ab17b8615b0,chapmanb,chapmanb@50mail.com,Add globals option to sample input YAML files. Enables specification of shared files a single time making avoiding copy paste and making updates available. Automatically create globals in template functionality if present,2014-02-06T15:10:39Z,chapmanb
88d1b1226384d06d583c32c6e586a4b427597365,chapmanb,chapmanb@50mail.com,Avoid reconstitution errors for single tumor-only inputs to variant calling. #293,2014-02-06T12:28:40Z,chapmanb
394c95b936f47b898a76550192d7c222b6adb886,Brad Chapman,chapmanb@50mail.com,"Merge pull request #293 from mjafin/master

Added support for tumor-only calling and use of normal_panel vcf in mute...",2014-02-06T12:22:13Z,chapmanb
a25ff751fd991c44ee76daac73f0ee3299b0bdaa,klrl262,miika.ahdesmaki@astrazeneca.com,Added support for tumor-only calling and use of normal_panel vcf in mutect.py,2014-02-06T11:31:03Z,N/A
8bf7c105c5b2ee994a86e467dbc08e789902a20a,chapmanb,chapmanb@50mail.com,Support infrastrcture for passing single tumor-only and tumor with normal panel inputs to cancer variant calling. Provide test case for development. #285 #273,2014-02-06T08:09:30Z,chapmanb
5b0ab35414214e10fde2e20df3d56ab654d7310e,chapmanb,chapmanb@50mail.com,Do not require gemini to be on PATH for data updates. Thanks to Nishanth Dandapanthu,2014-02-05T22:40:16Z,chapmanb
e91123c8e68c762c92481ce2ae36aacbaa67eafd,chapmanb,chapmanb@50mail.com,Enable specification of samples in multiple batches: allows a single normal sample to match with multiple tumors. Attach variant calling output to tumor samples and avoid splitting tumor/normal into separate VCFs. Fixes for filtering: avoid ploidy post-filtering and GATK filtering on MuTecT output. #285,2014-02-05T13:02:55Z,chapmanb
0eb9aa6bfcedc41ba2dd4f6de37b14646db0f013,chapmanb,chapmanb@50mail.com,Rework initial fastq retrieval and gunzipping to work in parallel. Explicitly move this functionality to RNA-seq and ChiP-seq pipelines and remove duplicated checks. Remove outdated demultiplexing code. Fixes #281,2014-02-04T08:38:07Z,chapmanb
e1e7ceef90fccd7fe414d028c1bb897fa4a505e4,Brad Chapman,chapmanb@50mail.com,Gracefully handle failures when GATK creates an empty idx file during annotation,2014-02-04T07:37:50Z,chapmanb
22498ac4213552827c7082496e16910de10ba51e,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #284 from mjafin/master

Support STAR alignment disambiguation for mixed species samples. Thanks to @mjafin",2014-02-03T15:58:26Z,roryk
9392fd72e3120c592ea9f4494be03a887c9704e8,chapmanb,chapmanb@50mail.com,Provide support for Torque parameter passing with -r resources flag. Fixes #280,2014-02-03T12:21:36Z,chapmanb
ab5d935aaf029c57f6d6f8369d4c88062100fcb9,chapmanb,chapmanb@50mail.com,Update import tests for conda package with new parallel structure,2014-02-03T08:22:01Z,chapmanb
d04f608ae0182bdd965c8b0062cbfcf871198084,chapmanb,chapmanb@50mail.com,"Handle logging inside of docker containers using IPython: ensure hostname setup, propogation of output for debugging. Provide test script for IPython + docker",2014-02-03T08:14:48Z,chapmanb
a047a28dde326299955c5e2856b346f14ef0e2bb,mja_fin,miika.ahdesmaki@ovi.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2014-02-02T11:43:17Z,N/A
c32e0f7f2d18488eb969600bd91bdfc2520b91be,mja_fin,miika.ahdesmaki@ovi.com,Added support for STAR aligner based two species disambiguation,2014-02-02T11:42:56Z,N/A
3fa4081f9fca8f608077e9115871cb06df33981a,chapmanb,chapmanb@50mail.com,Create manifesst of all installed software on bcbio-nextgen installation. Query manifest for generating program version summary during runs. Expose version subcommand which dumps summarized version information to a file or stdout; this hooks into getting version information from inside a Docker container,2014-02-02T08:26:06Z,chapmanb
eeacdb2441112f2a62a0fcc6f42f1a98afebadbe,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-02-01T08:14:41Z,chapmanb
a92facb0671d7225938066178855ca8f9fe53208,chapmanb,chapmanb@50mail.com,"Work on IPython docker support: enable merging of external and docker configurations on runfn, support multiprocessing runfn inside docker and handle tuple/list issues with serialization",2014-02-01T08:14:24Z,chapmanb
49aff41d6d40526c595310a303b29769d1a0c9ee,roryk,rory.kirchner@gmail.com,Skip complexity calculation of pandas or statsmodels are missing.,2014-01-31T22:50:00Z,roryk
a1ed4064b2d46d1e125663c7a470215f62b1c615,roryk,rory.kirchner@gmail.com,Restore trimming to RNA-seq pipeline.,2014-01-31T22:40:00Z,roryk
28417f2762c7b89447204a4adb7396e192e4bae5,roryk,rory.kirchner@gmail.com,Add bowtie2 to the default installation.,2014-01-31T19:29:28Z,roryk
ba2c6143ec21822de09891431fb75da8f3ba1395,chapmanb,chapmanb@50mail.com,Small updates to handle docker IPython integration: handle tuple/lists cleanly for YAML dumping and correctly point to validation inputs for testing,2014-01-31T08:13:18Z,chapmanb
0616dcca488fb3325d9eb7b455fa1975d4a87167,chapmanb,chapmanb@50mail.com,Additional work to support external runs of docker containers via bcbio-nextgen-vm: pass global arguments that go through to ipython engine and pass arguments back through output YAML for continued processing,2014-01-29T17:11:36Z,chapmanb
92ad9d38fb7e00df5d3d1038047a222479975479,chapmanb,chapmanb@50mail.com,Enable running of wrapped IPython jobs where a single wrapper function handles job processing and distribution. Support local IPython runs for testing purposes,2014-01-29T09:52:13Z,chapmanb
e00f208694e6888d70c0d764e10d105fff4e3abd,Rory Kirchner,rory.kirchner@gmail.com,Remove fusion_mode from the default template.,2014-01-28T22:54:33Z,roryk
94393bcc81a1e0157208e09dcdb540d4810046b0,chapmanb,chapmanb@50mail.com,Skip tests requiring new parallel infrastructure when running on 0.7.6 or older releases. Fixes #277,2014-01-28T16:08:47Z,chapmanb
ea4af46d8ac6133f7358267a19ead5ada8fc532e,chapmanb,chapmanb@50mail.com,Unset PYTHONHOME and PYTHONPATH in test script to avoid picking up non bcbio-nextgen modules. Fixes #277,2014-01-28T13:58:44Z,chapmanb
34b89b2603a7324517ce0167a4b83fd8713d58cf,chapmanb,chapmanb@50mail.com,Ensure subset BED files feeding into variant calling are merged to prevent duplicate features. #269 #274,2014-01-28T11:56:38Z,chapmanb
7848bc917b6a09f8d2b49ba617b5c7613624dc42,chapmanb,chapmanb@50mail.com,Ensure that subset BED files for variant calling contain valid non-empty inputs. Fixes #274,2014-01-28T09:22:12Z,chapmanb
21877b098b5ff198059a839bb98f3b80faee7fcc,chapmanb,chapmanb@50mail.com,Handle correctly combining split parts for delayed BAM merge when variantcaller is False. Ensures parts are correctly merged even without process. Fixes #275,2014-01-28T09:15:24Z,chapmanb
e7de9208a45b45037902a39a383194b29d6d3718,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-27T19:01:31Z,chapmanb
125877db30f0e055a6b8db55ed82562938dedeef,chapmanb,chapmanb@50mail.com,Ignore environemental variables when installing gemini within bcbio-nextgen. @jpeden1,2014-01-27T19:01:19Z,chapmanb
003eb13999655050f97c2d20c9bf9f6680a5ebd3,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #270 from porterjamesj/decompress-fix

skip decompressing fastq.gz if it's already been done. (thanks to @porterjamesj)",2014-01-27T18:49:42Z,roryk
7c01587aa2dc1d944c828c9de1d8181ee3fe0583,Brad Chapman,chapmanb@50mail.com,Use muticore tasks instead of ipython logging on local checkpoint runs. Fixes #276,2014-01-27T18:03:51Z,chapmanb
07b90726e5e8dc094736c616731b7ef9913201aa,chapmanb,chapmanb@50mail.com,Ensure re-runs on ipython parallel clusters use ipython logging facilities. #276,2014-01-27T18:18:49Z,chapmanb
9d4fd912e5d6d406b07c6763efecb5625b2a49bd,chapmanb,chapmanb@50mail.com,More cleanly skip bcbio_vm.py check if not a docker-enabled test. #277,2014-01-27T18:04:11Z,chapmanb
44a1ebc9cda934e9798cbf845f3365b89f67b131,chapmanb,chapmanb@50mail.com,Document parallelization framework with advice on plugging in other parallel approaches,2014-01-27T15:10:25Z,chapmanb
a507eb0a19d96425e4eba153a3c26b9eea36353c,chapmanb,chapmanb@50mail.com,"Move specifications of resource programs from function metadata to cluster start, using the parallel dictionary. Avoids need to update in multiple locations to support new aligners or variant callers",2014-01-27T11:18:18Z,chapmanb
9f51e7093a019a8908ba7fa7fa642b51bb92775e,chapmanb,chapmanb@50mail.com,"Addition refactoring of ipython and multicore processing. Separare parallel approaches, providing a high level function that handles both. Remove duplicate resources specifications on ipython, unifying in a single location. Refactoring work towards better supporting alternative paralleization approaches",2014-01-27T01:14:47Z,chapmanb
ce45dce593d3fc0d97ba754b4422b1892fcf8b3c,chapmanb,chapmanb@50mail.com,"Remove implicit creation of parallel clusters, enforcing a standard approach to setting them up. Move RNA-seq and ChiP-seq pipelines to this approach",2014-01-26T15:31:16Z,chapmanb
8f445f3249bc9785f279ee0e2aea2a7e93792b08,chapmanb,chapmanb@50mail.com,Ensure snpeff resource requirements passed along with new all lowercase approach to input keys,2014-01-26T11:51:44Z,chapmanb
2c23b8212e38ea93aff3fdbd83d392b74ba94a12,chapmanb,chapmanb@50mail.com,Ensure snpeff resource requirements passed along with new all lowercase approach to input keys,2014-01-26T11:27:26Z,chapmanb
687de9501a122e2acdc84c987717a44d2cf91f85,chapmanb,chapmanb@50mail.com,"Work towards restructuring IPython parallel executation to enable generalization to other approaches: separate parallel argument preparation from command line, remove resource allocation and configuration manipulation into separate modules.",2014-01-26T11:05:12Z,chapmanb
a7c874b2770bf509d2678e6df4919d41910f3563,chapmanb,chapmanb@50mail.com,Enable parallel running of bgzips when preparing fastq (or gzipped fastq) for split alignment,2014-01-25T11:21:27Z,chapmanb
c3fa118ef05cc55aad97d6cb10656ae5a7e217f7,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-24T19:50:23Z,chapmanb
8318959a8ca54459eaaf6ea8086cab3ca420c14b,chapmanb,chapmanb@50mail.com,Use 1Gb/core base memory usage if no memory specified instead of enforcing 2Gb. Fixes #271,2014-01-24T19:50:14Z,chapmanb
dba1b8fa4281a73de4d5023c20e56444205a6958,chapmanb,chapmanb@50mail.com,Co-opt currently usused profile argument to allow tagging of bcbio runs to help differentiate them on busy clusters. #258,2014-01-24T13:49:02Z,chapmanb
1a465acf1c0c4ac22517c544f9e4d18399c46869,Brad Chapman,chapmanb@50mail.com,Provide empty default for tag when not specified. #258,2014-01-24T13:36:50Z,chapmanb
784e9276521dd105f149269e47276ccfa68e42d6,James Porter,porterjamesj@gmail.com,skip decompressing fastq.gz if it's already been done.,2014-01-24T09:32:26Z,porterjamesj
154e30b726a94c1cb71dc5acf202f3db96a98cc7,chapmanb,chapmanb@50mail.com,Enable running docker tests without installed bcbio-nextgen and only bcbio-nextgen-vm and docker,2014-01-24T02:33:38Z,chapmanb
def1d28c250d11a5ec91862f4d0687094dd18c19,chapmanb,chapmanb@50mail.com,Update docker file to ensure leninent permissions on /usr/local directory to allow updates in place. Ensure loaded values from YAML files get mapped to strings for comparisons,2014-01-23T19:23:17Z,chapmanb
e4d67daeef40d7329f3d17283cd274d41b2efaa4,chapmanb,chapmanb@50mail.com,Add documentation and expansion of Ensemble calling to TODO list. Fixes #268,2014-01-23T15:55:35Z,chapmanb
312f18baf228b0d4d8b94adbc420022c51d31522,chapmanb,chapmanb@50mail.com,Finalize removal of old brun trimming: removes supplemental code that is no longer used. Plug min_read_length into read_through_trimming. Add documentation. #267,2014-01-23T11:43:45Z,chapmanb
9915bbb2e8b9e932b38ea709020177ed2d993433,roryk,rory.kirchner@gmail.com,Remove B run  trimming.,2014-01-23T04:17:30Z,roryk
69508595451231276a41933ab7b7c81c22248bd0,roryk,rory.kirchner@gmail.com,Removed B run trimming.,2014-01-23T03:41:02Z,roryk
5f5e7b72c6ca5bca1cae69d40b179f2b2240b77f,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #267 from porterjamesj/patch-5

add min_read_length to ALGORITHM_KEYS",2014-01-23T03:34:13Z,roryk
388367f79ec8a1f98582661bb35f71de0543839b,James J Porter,porterjamesj@gmail.com,add min_read_length to ALGORITHM_KEYS,2014-01-23T02:17:11Z,porterjamesj
9fd9195022ae1a00036d97807481492e32d6c8db,chapmanb,chapmanb@50mail.com,Provide lazy/soft imports for secondary non-core dependencies used in processing to allow use of bcbio-nextgen as a library. conda build script for bcbio-nextgen,2014-01-22T19:35:31Z,chapmanb
e5019134425c73550d6918d637204ec7685cd28b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #266 from mariogiov/fix_grammatical_error

Fix grammatical error that bothers me every time I see it",2014-01-22T10:21:11Z,chapmanb
fab452e971e2ece182f28353b78bb87f7a613cbf,Mario Giovacchini,mario.giovacchini@scilifelab.se,Fix grammatical error that bothers me every time I see it,2014-01-22T08:20:43Z,mariogiov
59078be317efa0d2fe878ef306ea96c71720ea14,chapmanb,chapmanb@50mail.com,Ensure java memory passed to snpEff commandline call when direct jar access used. Thanks to Jeff Kittrell,2014-01-22T00:56:43Z,chapmanb
e8b8fa19cf69cad68e5aabf09546d61091149cdf,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-22T00:48:36Z,chapmanb
173e4bbc7ea5bce8baf79f6e66b7b4770aaa5b81,chapmanb,chapmanb@50mail.com,Provide command line interface to run a single distributed function. Work towards enabling docker encapsulation,2014-01-22T00:48:31Z,chapmanb
9ce05a3b7ab0511dd46918f4c5319349ab2993b7,Brad Chapman,chapmanb@50mail.com,"Merge pull request #265 from mjafin/master

Added gathering of SGE information from command line",2014-01-21T18:58:22Z,chapmanb
9139adf55797281a9a2d4d25ef216087b4114d3c,klrl262,miika.ahdesmaki@astrazeneca.com,Revert files to match upstream,2014-01-21T14:59:27Z,N/A
44df55f046c6dbc55b7eb3cc02df8a1d04ffef45,klrl262,miika.ahdesmaki@astrazeneca.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2014-01-21T14:53:30Z,N/A
c45686205cf1596327cb9fb5310e537b29da5270,klrl262,miika.ahdesmaki@astrazeneca.com,Reverted count files back to using gene_id solely,2014-01-21T14:53:12Z,N/A
1f8b8abd9a773534fd592eab42c094357df5f5ef,roryk,rory.kirchner@gmail.com,Merge branch 'count-file-annotation',2014-01-21T14:36:39Z,roryk
3acf1c43187dc18be784b04e5fc9d13570a6d1ae,klrl262,miika.ahdesmaki@astrazeneca.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2014-01-21T14:32:59Z,N/A
f88e799b550ccc2449d1c5fde984aeee89ba3ec4,klrl262,miika.ahdesmaki@astrazeneca.com,Added gathering of SGE information from command line,2014-01-21T14:32:30Z,N/A
5137f6620b0b570ef9396d0ecacca71ed71390d4,chapmanb,chapmanb@50mail.com,Add novartis presentation slides,2014-01-21T10:43:03Z,chapmanb
09b69001825579b9b5703615a5fd94433717abd1,roryk,rory.kirchner@gmail.com,"Added annotated_combined.counts to output.

This is annotated with the gene_symbol for supported organisms
(human, mouse, rat, others are possible though) using the mygene
package.",2014-01-21T07:05:39Z,roryk
2a92cd2fae8f017225957294fa429114d81faea9,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-21T03:12:19Z,roryk
2580f0b395ec15a8de4727207d8e098e6196200d,roryk,rory.kirchner@gmail.com,"Cleanup.

Removed unused imports, commented out code and functions that
were never called.",2014-01-21T03:11:27Z,roryk
36c0564e6853cb2c966cbdfa20b9cff5836ade63,klrl262,miika.ahdesmaki@astrazeneca.com,Added option of reporting gene_name instead of gene_id in htseq count files.,2014-01-20T15:22:26Z,N/A
9dcb447972943b2cf5cd7520f63827b488687498,chapmanb,chapmanb@50mail.com,"Update genome configuration files to suppoer snpEff databases for rn5, mm9 and canFam3. chapmanb/bcbio-nextgen-vm#3",2014-01-20T15:19:37Z,chapmanb
bb6290f3b802458012f8a419d938486c7c631ba3,chapmanb,chapmanb@50mail.com,Have final BAM index file in upload directory use the more common .bam.bai extension. Fixes #261,2014-01-20T11:43:43Z,chapmanb
9c3689f3fdf11db2eaa867f749c76215a36a79f3,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-20T11:36:39Z,chapmanb
91f2ec6074e6229d49ea1a22c19e8ce10bd251b8,chapmanb,chapmanb@50mail.com,Update process_alignment resources to match ipython specifications,2014-01-20T11:36:35Z,chapmanb
1782328001b355ed5e26166f4b99507c0e614355,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-20T02:30:45Z,roryk
dd3bf7a88de9793618aa77109a13be2be009453d,roryk,rory.kirchner@gmail.com,Add rnaseqc to the resource requirements.,2014-01-20T02:30:27Z,roryk
0f5f3d002c5e8a58c23260c7e1b1ae66f86ed238,chapmanb,chapmanb@50mail.com,Avoid extra coordinate sorting step when fixing input BAM fix run groups. Thanks to Severine Catreux,2014-01-19T19:49:03Z,chapmanb
b9356249bc70b9c3add41507aa12c869d106a11f,roryk,rory.kirchner@gmail.com,Sample a maximum of 1000000 reads for the complexity calculation.,2014-01-19T19:07:22Z,roryk
cc9e8bc21c09117d5e715093e905459ff4598935,chapmanb,chapmanb@50mail.com,Include all samples in project-summary when multiple pipelines specified in the same file. Thanks to @mjafin #260,2014-01-19T18:07:28Z,chapmanb
af605c8f66c152be2b5546ec046022fa1e222728,Brad Chapman,chapmanb@50mail.com,"Merge pull request #260 from mjafin/master

DNA-seq disambiguation enabled",2014-01-19T16:28:20Z,chapmanb
0f1f3fe13939eb814a6f64ed6407d2ae4210718a,chapmanb,chapmanb@50mail.com,Support command line runs within docker images: handle merging of docker local and global configuration. Allow specification of work directory,2014-01-18T19:43:16Z,chapmanb
b503bd4dbca9714946c52db173fedf3fad9514bd,mja_fin,miika.ahdesmaki@ovi.com,DNA-seq disambiguation enabled,2014-01-18T16:02:14Z,N/A
6e33d254b90d6fd45da5a2392d92043fad9a27bb,chapmanb,chapmanb@50mail.com,Enable docker style updates using standard bcbio_nextgen.py upgrade command. Remove install/upgrade functionality from web server.,2014-01-18T15:00:50Z,chapmanb
0fe4301f397f6b691ce6506a16d891c722357f25,chapmanb,chapmanb@50mail.com,Add back compatible algorithm section to configuration to support 0.7.6 release. Thanks to Jeff Kittrell,2014-01-17T23:51:15Z,chapmanb
68ae2f8becef22289f071790868106dba3ef6d52,chapmanb,chapmanb@50mail.com,Add back compatible algorithm section to configuration to support 0.7.6 release. Thanks to Jeff Kittrell,2014-01-17T23:24:42Z,chapmanb
bd71b64cc0e14f39baf7b70ee286f56d033ceb01,chapmanb,chapmanb@50mail.com,Download snpEff databases using wget directly to handle proxy issues. chapmanb/bcbio-nextgen-vm#1,2014-01-17T20:44:30Z,chapmanb
6712bb896aa657a7f403afc8fe9a6f952eb03d67,chapmanb,chapmanb@50mail.com,Add merging of multiple lanes on todo list. Fixes #259,2014-01-17T11:00:18Z,chapmanb
09d3399ad2b5cc971f68e8f7668ea74fd943a1a6,roryk,rory.kirchner@gmail.com,Cleanup of commented out code.,2014-01-16T21:14:49Z,roryk
316e1f6afb1bd282293dd1d6fa66849e223ca6e5,roryk,rory.kirchner@gmail.com,Set unit test genome for fusion mode to hg19.,2014-01-16T20:32:50Z,roryk
1502ebd836209cfb192c8519dab97f6a2f659587,Paul Tang,tanglingfung@gmail.com,"Initial oncofuse support.

Implemented by (@tanglingfung) Paul Tang (tanglingfung@gmail.com).
Unit test data is from @aebruno's nice FUSIM package:
https://github.com/aebruno/fusim

The unit test needs to be pointed to the bcbio_system YAML file
and hg19 must be installed for this to work.",2014-01-16T20:18:05Z,tanglingfung
522d941d9a925f8b8607055bb0139d8723e5300e,chapmanb,chapmanb@50mail.com,Document curl and libcurl-devel requirement for isolated installations. Fixes #256,2014-01-16T19:40:00Z,chapmanb
2030cb1ec41d1e324f18bdab0b8493691d0c6bc0,chapmanb,chapmanb@50mail.com,Ensure parsed configuration has empty algorithm directory if not present,2014-01-16T18:13:20Z,chapmanb
601be2e56b0efef0ef017db69070891f745298bb,chapmanb,chapmanb@50mail.com,Keep mako as requirement until next release,2014-01-16T15:37:05Z,chapmanb
dd0ee79925ccbe2004f25edd60995bcc58aba552,chapmanb,chapmanb@50mail.com,Provide lower memory defaults for picard processing to match GATK and ensure that picard requirements used during bam post-alignment preparation,2014-01-16T15:25:33Z,chapmanb
2892a7f2406bc14133b2f5fafdc2cd6eabba056c,chapmanb,chapmanb@50mail.com,"Remove old deprecated functionality: celery distributed processing, original variant pipeline and support for algorithm/custom_algorithms in bcbio_system.yaml",2014-01-16T15:14:59Z,chapmanb
8b066343221810c6496240fc4412c2b41b4bb88c,chapmanb,chapmanb@50mail.com,"Fix issues with uploading to Galaxy, avoiding upload of directories. Improve documentation. Fixes #255",2014-01-16T12:06:12Z,chapmanb
4a218448e5feac57dfa15cdd8e65f482640e45a5,roryk,rory.kirchner@gmail.com,Fix for single end reads and STAR.,2014-01-16T01:56:16Z,roryk
2536ba8489d01da02e13d1d5c57cb9b63fb51201,roryk,rory.kirchner@gmail.com,Remove unused import.,2014-01-16T01:55:28Z,roryk
ceb2a8a6ef811fcc03e8d7c0ad2ea9469e15efd2,chapmanb,chapmanb@50mail.com,v0.7.6,2014-01-15T15:05:01Z,chapmanb
05cd5c2edfe0cfeb8214861e10b82fa388379535,Brad Chapman,chapmanb@50mail.com,"Merge pull request #252 from mjafin/master

qcsummary.py modified to report disambiguation statistics.",2014-01-15T14:53:06Z,chapmanb
edbb3aae63bd230ccd3d68523416f8ca93eae7f2,klrl262,miika.ahdesmaki@astrazeneca.com,qcsummary.py modified to report disambiguation statistics.,2014-01-15T11:23:13Z,N/A
7950ee142339a582f8297411b4e7592e15823cd7,chapmanb,chapmanb@50mail.com,Allow running of gemini externally without needing explicit program version information,2014-01-15T11:17:49Z,chapmanb
58a2a6c5226e3a024c19d6baab7d702aab99ad3d,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-14T18:57:00Z,roryk
b4b7d029a0678f6beff4052d6cf4db152f6b1102,roryk,rory.kirchner@gmail.com,"Add picard to qcsummary requirements

Lower memory requirements for picard.",2014-01-14T18:56:42Z,roryk
43f85d792872c6d18accae9657643b1ed2ff0177,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-14T18:44:12Z,chapmanb
63d4014d56b5c681809f006a0e287cabf8441cad,chapmanb,chapmanb@50mail.com,Support STAR in automated tests and as part of automated genome indexing,2014-01-14T18:44:00Z,chapmanb
d0bc312715e22ffeccd2f7a9f6968a80c07d68c4,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-14T17:50:50Z,roryk
4d9ebbf6db9067b6ce5a57d8b7d682a9ad2c0032,roryk,rory.kirchner@gmail.com,Add JVM memory flags to picard.,2014-01-14T17:50:34Z,roryk
4eb1e016d72c8e71b2d9e400b0fef4eff53c5a5f,roryk,rory.kirchner@gmail.com,Update with QC summary changes.,2014-01-14T17:50:12Z,roryk
99a7c562d9cb574dc994cf4f1e2e2f38089cfb9c,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-14T17:50:08Z,chapmanb
f9f97cc733e7f13fd9bd43e73bdb3b4be7cf12c4,chapmanb,chapmanb@50mail.com,Support bgzipped input/output to snpeff effects prediction,2014-01-14T17:49:55Z,chapmanb
2abce9a7df7d32f879d020f1539cfbac5d486cd9,roryk,rory.kirchner@gmail.com,"Fixes to make the QC summary less confusing.

1) Change report of quality format to the one specified in the
sample configuration YAML file.
2) Remove complexity flag for RNA-seq; this was an arbitrary
threshold and was confusing.
3) Rename unique_starts_per_read to Unique Starts Per Read. This
number can be used to flag outliers for RNA-seq experiments.
4) Do not report Estimated Library size from RNA-SeQC. This was
always returning 0 and I haven't been able to figure out why.",2014-01-14T17:42:01Z,roryk
931d022f346cb3ebdc3fbf7e3ecef4f9cb3c3c51,chapmanb,chapmanb@50mail.com,docker build: ensure environmental variables set even in non-interactive environments. Additional space cleanup for smaller image sizes,2014-01-14T13:20:26Z,chapmanb
d23b4969b2a196b4fb79514aaa08775d18ba3e7c,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-13T18:44:28Z,chapmanb
4ab1fb54b60eff4f2201e2949dcb02e086b7ba43,chapmanb,chapmanb@50mail.com,Fix minimum required version for HTSeq,2014-01-13T18:43:13Z,chapmanb
545d7f183cbd8b46c9f233f1c982849ab9b4ddd8,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-13T18:13:52Z,roryk
b06faaeb0bf8da71d192dab5a798bcf841939678,roryk,rory.kirchner@gmail.com,Added picard as a used program.,2014-01-13T18:13:34Z,roryk
42475464e4936df1ebe9a8906f1185271cf2c5b2,chapmanb,chapmanb@50mail.com,Unify align and align_pipe to avoid artificial distinction between processes. Move bwa aln versus bwa mem checks internal to bwa instead of exposing them.,2014-01-13T18:06:41Z,chapmanb
ef7995185d5d32db2c4c98eb79faa98846f1404e,chapmanb,chapmanb@50mail.com,Update psutil requirement to match available versions from pypi,2014-01-13T10:32:34Z,chapmanb
37fc35b7961d106c4b38cf15c674236a1d5f1dcb,chapmanb,chapmanb@50mail.com,Enable specification of a GATK key file in the bcbio_system resources to disable GATK phone home feature,2014-01-12T21:09:01Z,chapmanb
a6eb916e7cda39322cab7b8b9eabb159030f3ef7,roryk,rory.kirchner@gmail.com,"Removed automatic indexing of STAR genome.

That responsibility was moved to the cloudbiolinux genome
installation.",2014-01-10T03:05:36Z,roryk
f15062ffe3753d0a73bff974f7b6450388992143,chapmanb,chapmanb@50mail.com,Avoid index generation errors when align_ref is not found,2014-01-09T16:10:55Z,chapmanb
b340b9f4fff83a6dd871b13f684cae6d3bec3b0a,chapmanb,chapmanb@50mail.com,Avoid marking duplicates on cancer example. Thanks to @mjafin #212,2014-01-09T14:00:14Z,chapmanb
1f54cceff909aabfb207798ed5370e7966b91356,chapmanb,chapmanb@50mail.com,Correctly convert integer input batches to strings. Thanks to Eva KÃ¶nig,2014-01-09T13:51:00Z,chapmanb
c9e1e145b50b27bee4e3152023faf340eb711083,chapmanb,chapmanb@50mail.com,Ensure validation region set properly for both genome conversion and non genome coversion comparisons,2014-01-09T13:49:57Z,chapmanb
d17488f3e8332a99fcedc87d8a450b3faee31b45,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #243 from porterjamesj/patch-3

Ensure cufflinks gets to request resources. Thanks to @porterjamesj",2014-01-09T03:23:14Z,roryk
dc53803ad80e225fbe42de5c26251e7303752fe3,James Porter,porterjamesj@gmail.com,Ensure cufflinks gets to request resources.,2014-01-09T00:21:29Z,porterjamesj
73fe4cfb1690339fec619abf2c5189570938174f,roryk,rory.kirchner@gmail.com,Unshadow Tophat RNA-seq integration test.,2014-01-08T23:22:06Z,roryk
f2d808510b52af1f64d0270b8abaf0560aa3c818,roryk,rory.kirchner@gmail.com,Only run the index creation on the first file missing it.,2014-01-08T23:21:30Z,roryk
c150d0b277e6cc4bc4b5d71d30cb526c0baa08eb,roryk,rory.kirchner@gmail.com,Add ensure information to the aligner index creation.,2014-01-08T23:21:12Z,roryk
bf0fa0a9b1e146a818be668d3db5bebcc06891a0,chapmanb,chapmanb@50mail.com,Point to merged BED file for cancer targetted example,2014-01-08T18:59:52Z,chapmanb
c56d9cebbf3616caa8ada93659338560837bd27d,roryk,rory.kirchner@gmail.com,Merge branch 'star-fix',2014-01-08T18:48:26Z,roryk
96b28b84549d18b425ed5f36d51a57fc6f3d0559,roryk,rory.kirchner@gmail.com,"Hooks to create missing indexes for aligners.

Add an index function which takes a lane_item to
aligners.TOOLS for your aligner and checks and
creates the appropriate genome index if it does not exist.

STAR indexing added as an example.",2014-01-08T18:46:07Z,roryk
7fb79a357872ff9857b5b486fd266ac56f999975,chapmanb,chapmanb@50mail.com,Bump to latest release of ipython-cluster-helper with Torque and SGE fixes,2014-01-08T16:59:16Z,chapmanb
257e768d7403238d93a67dbd1319190c5ff4520b,chapmanb,chapmanb@50mail.com,Add cancer tumor/normal example configuration and instructions. Thanks to @mjafin. #212,2014-01-08T15:38:52Z,chapmanb
d26422569c2f4c849a41dd109576cea2f95194c1,Brad Chapman,chapmanb@50mail.com,"Avoid passing BAM file to evaluation code when reference and evaluation genomes differ, since alternative evaluation mapping cannot be used to annotate the final VCFs",2014-01-08T10:22:56Z,chapmanb
b3e3c19f064e58f368db5f255284629793159180,roryk,rory.kirchner@gmail.com,"Add Tophat/Bowtie as resources to the alignment step.

Revert change to handling no-aligner specified defaults, as
that breaks some workflows.",2014-01-07T23:42:21Z,roryk
f9c4aaca921c76514842e6b7f500cd6ac79c17ad,roryk,rory.kirchner@gmail.com,Add aligner: to the documentation for the RNA-seq pipeline.,2014-01-07T21:39:07Z,roryk
fe413e3667ad92f968254c99a0fb46bc8859219d,roryk,rory.kirchner@gmail.com,Throw error on missing aligner.,2014-01-07T21:29:08Z,roryk
20b0001ac8f9a70d315d543fe15c24285d8a40c3,chapmanb,chapmanb@50mail.com,"Attach analysis intervals to evaluation specification instead of experiment, allowing them to be converted in cases of GRCh37/hg19 reference/evaluation differences",2014-01-07T18:01:56Z,chapmanb
782282a2320bd20e710ca4b431ae3bf40c9f9331,chapmanb,chapmanb@50mail.com,"Update bcbio-nextgen Dockerfile to provide clean build with minimal run steps.
Move NIST GIAB reference to latest version in config and examples.",2014-01-07T17:57:10Z,chapmanb
ea21eeeb9e91097e24464cc8b3c095eeca653535,chapmanb,chapmanb@50mail.com,Restrict genome builds and aligners to currently available choices on command line. chapmanb/bcbio-nextgen#241,2014-01-07T11:09:16Z,chapmanb
cf95cc2cc58e1a2f57b67e2130ea4a8aafe90797,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-07T03:23:21Z,chapmanb
a670f4c497577eda993806b0e15a665cce661521,chapmanb,chapmanb@50mail.com,Ensure run process occurs in work directory. Provide sentinel for detecting end of process from docker driver script,2014-01-07T03:23:12Z,chapmanb
a7e3207e65853a0a546dab0e5eaafdca740541ec,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-06T23:38:46Z,roryk
04066dc8c25f8f88cc007483e14cbed28518851f,roryk,rory.kirchner@gmail.com,Be more clear regarding installtion of multiple genomes/aligners.,2014-01-06T23:38:15Z,roryk
2105f5355e7f2bb3c4ac6738375d7e7cfc0a1f55,chapmanb,chapmanb@50mail.com,Re-add GRCh37-resources file accidentally removed during 17587e1ae5e55ff859a4584d80df880ca8ea1595. Thanks to @mjafin,2014-01-06T11:44:44Z,chapmanb
12c0ce9e31b844673135b1c1c8e374bd650deff9,chapmanb,chapmanb@50mail.com,Correctly set final status on errors during server runs. Add test for docker integration,2014-01-06T10:44:29Z,chapmanb
3e8ff2305dc4b12af24eb7b492b3e31ba610a44e,chapmanb,chapmanb@50mail.com,Move bcbio-nextgen docker driver scripts into bcbio-nextgen-vm repository,2014-01-05T15:40:42Z,chapmanb
cee883ea3069af0618d3ddac2b1341ac85fae473,chapmanb,chapmanb@50mail.com,Add testing hook and history information for Luca's FreeBayes paired analysis contribution #212,2014-01-04T11:34:09Z,chapmanb
f22badd4a71ef2c7b3bd23eff84ca44ed8bd2c8f,Brad Chapman,chapmanb@50mail.com,"Merge pull request #212 from lbeltrame/freebayes-somatic

Implementation of Freebayes tumor/normal calling",2014-01-04T11:03:23Z,chapmanb
264017330531d1f564e6c48faf9f113b3c2d60ba,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-04T01:28:28Z,chapmanb
17587e1ae5e55ff859a4584d80df880ca8ea1595,chapmanb,chapmanb@50mail.com,Generalize snpEff: now handle both brew installed ( bashrc wrapper) and original jar installations. Install databases inside genome data instead of at installation time. Enables support for lighterweight installs in docker and additional genome support.,2014-01-04T01:28:18Z,chapmanb
330879d25c7ba9ecf9e28012ef6bbbba00608972,roryk,rory.kirchner@gmail.com,Removed unused module.,2014-01-03T20:26:48Z,roryk
6ed4880d0c3a035f12a0b6d260a2485c6ea7072a,roryk,rory.kirchner@gmail.com,"Remove unused query-name sorting.

Thanks to @porterjamesj for the code-pruning, this is from his
pull request.",2014-01-03T20:15:03Z,roryk
8c2281ce7739c42691e8c43f1493004d6b7c5e32,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2014-01-03T11:25:58Z,chapmanb
ed1156f41b04205b6a66a44907556b60c65bab9a,chapmanb,chapmanb@50mail.com,Improved integration with gemini: use shared anaconda directory to support both bcbio-nextgen and gemini,2014-01-03T11:25:48Z,chapmanb
89017dd7fc65ac5c6ae0cea81a467e2bbc95ee9b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #239 from porterjamesj/patch-2

Fix bug in torque info acquisition.",2014-01-03T11:11:28Z,chapmanb
18c45bafce17612239d9c06f9b96f67825dcecfc,James Porter,porterjamesj@gmail.com,"Fix bug in torque info acquisition.

A list has to be returned here.",2014-01-02T23:20:44Z,porterjamesj
e1e0467574f5c545a23e187556244cfdff426679,chapmanb,chapmanb@50mail.com,"Allow single string specification for upload directory, defaulting to local install. Thanks to Eva KÃ¶nig",2014-01-02T18:36:48Z,chapmanb
825d0f52152d555c460cc11a8cffd5906ddc822b,chapmanb,chapmanb@50mail.com,"Use provenance do.run for snpEff effect prediction, redirecting stdout via the shell instead of subprocess #237",2014-01-02T11:12:23Z,chapmanb
4bad1601ad30bf63621a33439991da87dd2f7165,chapmanb,chapmanb@50mail.com,Provide stdout/stderr from docker run to original process by streaming docker logs.,2014-01-02T11:04:08Z,chapmanb
f7be8dc3c79ce3cef49b687f7ea30fe72fa7db24,chapmanb,chapmanb@50mail.com,Provide monitoring of run status. Utilitize in docker runner script to wait until finish prior to cleaning up docker resources,2014-01-01T21:28:32Z,chapmanb
76d6f05e86998e5e54b75242c13d8401e4bcb449,chapmanb,chapmanb@50mail.com,Docker work to get running test code: merge local docker bcbio_system files with global specified; handle remapping genome directories specified in external *.loc files when use relative paths; ensure environmental variables are correctly set.,2014-01-01T11:28:28Z,chapmanb
f3de191deed8070fb847d3d09972bdc0d2e63d37,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-31T21:19:39Z,chapmanb
21d54bae6ccc32c837184a42d70feadc84d969ac,chapmanb,chapmanb@50mail.com,Handle torque/maui scheduler when queues do not map to associated nodes #236,2013-12-31T21:19:09Z,chapmanb
6bf4c11ee3f66633144e37e713395f6eab29ac9b,roryk,rory.kirchner@gmail.com,Remove samtools from Cufflinks resources.,2013-12-31T17:27:24Z,roryk
da314974925ad1630a8942caa7f33bfddbde66b3,chapmanb,chapmanb@50mail.com,Limit requested cores by avaialable system cores when requests don't match underlying system architecture. Avoids over-committing total cores when not available. #234,2013-12-31T10:13:28Z,chapmanb
18a18019876815db41ef291c13e4a89c41a98e28,chapmanb,chapmanb@50mail.com,Update torque pbsnodes parsing to ensure retrieval from nodes available to a queue. #236,2013-12-31T10:02:29Z,chapmanb
a731abe73c961fe0bc7071404ba438fbd1a62dea,Brad Chapman,chapmanb@50mail.com,"Merge pull request #236 from porterjamesj/torque-info

Allow gathering torque machine info from command line.",2013-12-31T10:00:57Z,chapmanb
e5d64fd90fd136e262a4e133545140345d92728c,roryk,rory.kirchner@gmail.com,Re-enable --quiet for Cufflinks.,2013-12-30T21:26:33Z,roryk
c78b2f3a3488b1f95026487965596c305f84b7f0,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-30T20:12:07Z,roryk
dd63cc71c896446180352734ef09c6d9096bdb9b,roryk,rory.kirchner@gmail.com,Remove ipdb call.,2013-12-30T20:11:41Z,roryk
71cb582da5441fb726b0bd137e81b61de9d52d21,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-30T20:08:24Z,chapmanb
a27c748bd07590b98d09a94a1440c5bf7be5c9f3,chapmanb,chapmanb@50mail.com,Additional work towards supporting runs using docker containers: merge host and container system configurations and remap galaxy loc directories. Provide a testing server approach to allow in-docker updates and testing of changes,2013-12-30T20:08:11Z,chapmanb
f69a9a1384009c87a71b56a4ffdaf537b36cc7af,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-30T19:49:21Z,roryk
18a9c74c286fd0c4ada8e18b82bd37870de51c4f,roryk,rory.kirchner@gmail.com,"Fix improper cufflinks directory file creation.

Thanks to @porterjamesj.

Closes part of https://github.com/chapmanb/bcbio-nextgen/issues/234.",2013-12-30T19:46:35Z,roryk
d4d44f09d2dd79c3376960704b2a70d1a1f9a617,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #235 from porterjamesj/patch-1

Fix paired bam detection in qc.

Thanks @porterjamesj!",2013-12-30T19:36:32Z,roryk
a122598dad18658bd7261a070f05e369e1d86634,James Porter,porterjamesj@gmail.com,Fix paired bam detection in qc.,2013-12-30T19:30:48Z,porterjamesj
b0bd77ec277bb0a975a5f50bc2d3a0d616b05c3a,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-30T16:14:08Z,chapmanb
f8530761d8f3255a6f1d97a02247bdea8c1737ea,chapmanb,chapmanb@50mail.com,Handle mapping of input directories from sample YAML files into mounted docker locations,2013-12-30T16:14:01Z,chapmanb
813b5a49ec8a3f6702c2d3f051413a59da36e8ac,Rory Kirchner,rory.kirchner@gmail.com,Added quality trimming and fusion evaluation.,2013-12-30T15:28:13Z,roryk
955776aece6f514dc90bc7ef7581fb2a064fc7c9,chapmanb,chapmanb@50mail.com,"Provide ability to save configuration locations for standard variables in docker specific scripts, to avoid needing to specify manually",2013-12-30T11:57:46Z,chapmanb
33eaf847910a10c003719d37c9013ab812205b28,chapmanb,chapmanb@50mail.com,Expose limited bcbio_system.yaml file from docker container for changing resource usage,2013-12-30T10:38:49Z,chapmanb
6d0fd334c0e5ac5ec9d91e6306378415dcd18ef1,James Porter,porterjamesj@gmail.com,Allow gathering torque machine info from command line.,2013-12-30T06:09:25Z,porterjamesj
a83a15b2ff5e663c63ed9ff31b7bf0e1073aac6a,chapmanb,chapmanb@50mail.com,Additional work on docker installation: better handle internal/external files and support full installation with data without root permissions inside container. Initial framework for running analyses,2013-12-29T21:08:26Z,chapmanb
bf9e725537856f95f8fbb362288e7c91d2e83d4c,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #233 from porterjamesj/patch-1

generate_transcript_counts uses gatk . . .",2013-12-29T02:38:09Z,roryk
b3696ad34df5db9b979262f5fa83ff3a69e4f4e3,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-28T10:17:50Z,chapmanb
bbc5a075ddf7432356475aed2e280a578810273a,chapmanb,chapmanb@50mail.com,Correctly handle preparation of pre-aligned BAM files when sorting and coordinate specification needed. Thanks to Severine Catreux.,2013-12-28T10:17:42Z,chapmanb
0f3eecc8e714252b53a97086f7f4476fe7614572,James Porter,porterjamesj@gmail.com,"generate_transcript_counts uses gatk . . .

. . . which should be reflected in it's metadata.

This was causing me memory problems during JVM startup.",2013-12-28T01:33:40Z,porterjamesj
206a53d81cb31ed0a1c16af9c7333d533cdeb3e2,roryk,rory.kirchner@gmail.com,"Updated with complexity changes, STAR and fusion support.",2013-12-27T23:35:09Z,roryk
bf7faa836da1f9cea644d7b74cdcec8b03d03a5f,roryk,rory.kirchner@gmail.com,"Fix resources for expression level quantification.

These steps now use more cores appropriately when they are available.",2013-12-27T23:31:13Z,roryk
a686dadee8420b967193f1f3e9ccbcc8d6e34f1c,roryk,rory.kirchner@gmail.com,Fix for the complexity plot if there are not enough reads.,2013-12-27T23:30:45Z,roryk
101deac639bbc70c0c66250d1daf8b391926e7ec,chapmanb,chapmanb@50mail.com,Provide better algorithm for distinguishing bwa-mem and bwa-aln usage. Now does random sampling of first 2 million reads instead of taking the first set of reads which may be non-generalizable. Fixes #218,2013-12-27T10:37:41Z,chapmanb
0ee3578154b6b767cfb16bc2885474aa03adcffa,chapmanb,chapmanb@50mail.com,Use Heng Li's seqtk instead of a non-generalizable sed script for streaming conversion of illumina quality scores to standard quality,2013-12-27T10:34:02Z,chapmanb
8e13fe07b729975a0a51a2274b50181d3306ab4e,chapmanb,chapmanb@50mail.com,Ensure tabix indexing of bgzipped VCF files during merging. Avoids errors from vcfcat which expected indexes,2013-12-27T10:31:08Z,chapmanb
0865750509a755a6a8d34374b43eb938bffffb44,chapmanb,chapmanb@50mail.com,Avoid brew version errors when bcbio-nextgen installed without the installer and brew is not present. Fixes #231,2013-12-26T19:52:10Z,chapmanb
fc55ac5bc97f1a3821de820f7166e0e632113119,chapmanb,chapmanb@50mail.com,Run bcbio-nextgen inside docker as external user running python script. Avoids root writing to external non-docker directories,2013-12-26T19:26:45Z,chapmanb
8cfadbbc732704720dac330207b1e6aaea7f6dc7,chapmanb,chapmanb@50mail.com,Full installation script for bcbio_nextgen with docker. Retrieves docker image and associated data files.,2013-12-26T11:16:57Z,chapmanb
f02d83031f8b2ca4e74d172fe8684c297dd8da33,chapmanb,chapmanb@50mail.com,Provide rough framework for adding data to a gemini code-only installation on docker image,2013-12-25T11:24:47Z,chapmanb
8138476dc2438b0ca49cd6e3beceade2b189530b,chapmanb,chapmanb@50mail.com,Enable adding biological data alongside installed bcbio-nextgen docker image via standard update mechanism,2013-12-24T20:21:31Z,chapmanb
b3ab51f96eac212f3c62980f12d370c9d03eba27,Brad Chapman,chapmanb@50mail.com,Typo in job requirements for ipython parallel star alignment,2013-12-24T10:24:31Z,chapmanb
ffea2263207481a283f0682b75d1ef12265406c2,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-23T17:51:07Z,chapmanb
af39ea7347e01138fc160688b79ff73ecbcb4215,chapmanb,chapmanb@50mail.com,Initial scripts and docs on running bcbio-nextgen inside docker containers,2013-12-23T17:50:55Z,chapmanb
75acd1ac2b19148cff5b8cd4f1948ed503e5b77c,chapmanb,chapmanb@50mail.com,Swap to using vcflib's vcfcat for combining regional vcf files instead of custom solution,2013-12-22T19:05:35Z,chapmanb
173f7d55b428e2e5b95388a47f69725cdce52647,chapmanb,chapmanb@50mail.com,Explicitly error out on samtools 0.19/bcftools 0.20 incompatibility. Avoid samtools in testing until new calling method finalized,2013-12-22T11:29:05Z,chapmanb
f75b1a6dfe7821e06cb44c5f5ced9c7985b709e0,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #228 from tanglingfung/patch-3

limit inclusion of fastq/bam files in input dirs",2013-12-22T08:09:53Z,roryk
8b2534802d98e4fce6db1753f72ec6e18c7d6cff,roryk,rory.kirchner@gmail.com,"Added fusion_mode support for STAR.

Also set a flag to make STAR to set the XS flag so it works
with Cufflinks.",2013-12-22T00:22:47Z,roryk
5703bd7167d66fd370a80966970d8f41b5e5a981,roryk,rory.kirchner@gmail.com,Added resources for STAR.,2013-12-21T23:55:31Z,roryk
8285c0d75a007834ce000d742b43f307069bbf94,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-21T23:33:28Z,roryk
b9630e2400fbcca906e0d2924d2863f074682828,roryk,rory.kirchner@gmail.com,STAR support enabled.,2013-12-21T23:33:16Z,roryk
984fe8f45de13e972fd834e84ee6697aefcb0466,Rory Kirchner,rory.kirchner@gmail.com,Remove unused import.,2013-12-21T20:23:18Z,roryk
18c5841f0e160dae0ec0cd6df82b33d8dcf8faee,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #229 from tanglingfung/patch-4

provides a simpler way to identify pairs courtesy of @tanglingfung",2013-12-21T20:22:24Z,roryk
092fe6cbd3505ef58ee6b418ceb9fde8b39b7190,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-21T20:02:33Z,roryk
e78f6fcdcf1cf3aa97f695c31015e9fa07faeacb,roryk,rory.kirchner@gmail.com,Added read length estimator.,2013-12-21T20:02:18Z,roryk
9dc9cc792601eaf2f7bbbe1b7f5aa0d3c61cd3ca,chapmanb,chapmanb@50mail.com,Remove confusing hybrid_bait/hybrid_target options from configuration. Fixes #227,2013-12-21T19:30:56Z,chapmanb
e8f8e1f88e75880247ccf7bf57cb29f96fd95463,roryk,rory.kirchner@gmail.com,Add fusion_mode as an allowable 'algorithm' field.,2013-12-21T00:09:54Z,roryk
88094355fce2cebf79782fd4346f00be904e08ff,roryk,rory.kirchner@gmail.com,Use do.run properly.,2013-12-21T00:09:43Z,roryk
dd4fb1aa924428b28d7c8a8f157f0594ada380bd,roryk,rory.kirchner@gmail.com,"Allow --fusion-mode to be set.

Also refactor to remove some of the bad logic and old code that
had accumulated.",2013-12-21T00:09:10Z,roryk
724d6135c7b01720d11f20a7037359fc3ff12db0,Paul Tang,tanglingfung@gmail.com,"provides a simpler way to identify pairs 

handle uses case like:
12878_GAAACC_L001_R1_004.fastq.gz
12878_GAAACC_L001_R2_004.fastq.gz
12878_GAAACC_L002_R1_004.fastq.gz
12878_GAAACC_L002_R2_004.fastq.gz
12878_GAAACC_L002_R1_005.fastq.gz
12878_GAAACC_L002_R2_005.fastq.gz",2013-12-20T22:10:17Z,tanglingfung
e7a318ac0a86dc8bff88988f7e352f4ca9d7ac4c,roryk,rory.kirchner@gmail.com,Return a string instead of a list.,2013-12-20T18:38:50Z,roryk
54698cc7b7baa3b4c2852700f420d6b0545e553f,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-20T18:22:16Z,roryk
23942b2a9261cafa5eb954f79f6ae22ba251e7a1,roryk,rory.kirchner@gmail.com,Workaround for pysam 0.6 header parsing issues.,2013-12-20T18:21:36Z,roryk
129357d208f70ff7ce5184ea92a938c78a86d6ff,Paul Tang,tanglingfung@gmail.com,"limit inclusion of fastq/bam files in input dirs

it's just a suggestion

moving forward, I wonder what's the best way to handle template creation for standard bcl2fastq output where fastq of each sample is kept in a single folder and the fastq files are split for every x number of reads",2013-12-20T16:32:19Z,tanglingfung
b920cce42d77315649c191f3941e925ebc321afc,chapmanb,chapmanb@50mail.com,Use brew list as backup when brew which fails. Fixes #226,2013-12-19T20:50:55Z,chapmanb
621199cc3edc7e21459014eedb97f79dce4ef430,chapmanb,chapmanb@50mail.com,Check for brew in local tool directory when finding versions before forcing search in PATH. Fixes #225,2013-12-19T11:22:48Z,chapmanb
ea0c73b4baa255fe7a05d18587458ea26ade862c,Luca Beltrame,luca.beltrame@marionegri.it,Add back the reference file to freebayes call,2013-12-19T10:07:29Z,lbeltrame
08901c98703953d5771159b948b69b1dd89876de,Luca Beltrame,luca.beltrame@marionegri.it,"Fix calling logic (inverted calls!)
Fix the bam.index calls
Fix a misplaced indent",2013-12-19T09:56:38Z,lbeltrame
f78cce0b3ed504712e5dfebf512cc56bf820386a,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into freebayes-somatic,2013-12-19T08:17:37Z,lbeltrame
312e74e988a045336bdbc28f72c071065663c8f2,chapmanb,chapmanb@50mail.com,Improve detection of fastq pairs: Avoid extraneous matches in file path that lead to non-correct pairings. Provide warnings when samples are missing metadata when metadata supplied. Fixes #224,2013-12-18T19:36:41Z,chapmanb
955ee432ca54b61ace67e07454fc72bd1df0040c,roryk,rory.kirchner@gmail.com,"Remove unnecessary bam->sam conversion during htseq-count.

Thanks to @lomereiter.",2013-12-18T16:10:07Z,roryk
524c63898ba99348704d015b9241d617eb296eb0,chapmanb,chapmanb@50mail.com,Ensure discordant grading CSV output is sorted consistently. Fixes #208.,2013-12-18T09:57:49Z,chapmanb
7c3481c3be4a2e903fd01ff464d84d829a61f93e,roryk,rory.kirchner@gmail.com,"Added bam->sam conversion using samtools.

bam<->sam using sambamba removed, samtools will be
fine for simple conversion (via @lomereiter)

Using this instead of Picard's SortSam fixes the
out-of-memory errors post-alignment and during
transcript counting.",2013-12-18T07:29:33Z,roryk
c419c5041f9de02a09b538d3410c7f71610bcea5,roryk,rory.kirchner@gmail.com,"rnaseqc tweaks.

1) Use the description as the output name for rnaseqc.
2) Run transactionally
3) Remove directory with large depth of coverage data files.
   These are not needed if you are just looking at the plots.",2013-12-17T23:10:50Z,roryk
1ba07ad88ed585f99f755953b6c47b8dcd1e23f1,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-17T18:57:33Z,chapmanb
9f2bc325a4c60596ced09d8207b7841127fa3d19,chapmanb,chapmanb@50mail.com,Ensure upload-configuration link points to the right part of the documentation,2013-12-17T18:57:23Z,chapmanb
100372a6e30032791c81f5dd8b92dfe677c19ee3,roryk,rory.kirchner@gmail.com,Add Cufflinks section to the default config.,2013-12-17T14:32:20Z,roryk
0e1e504b5c1c062642001c7ba71197f207bbc8a5,roryk,rory.kirchner@gmail.com,Make Cufflinks output more verbose.,2013-12-17T14:32:05Z,roryk
ff466a095a8867fda43ceec3026976f53dd9cb38,roryk,rory.kirchner@gmail.com,Remove commented out code.,2013-12-17T14:31:45Z,roryk
cccb73bce4a0f7097a2077e22193ab4386ccfeb9,roryk,rory.kirchner@gmail.com,Make alignment-post processing more reliable.,2013-12-17T14:31:21Z,roryk
c2e778c9b67ba33945330d089ebbfa4ba5ff2b6d,roryk,rory.kirchner@gmail.com,Fixes to make Tophat more reliable.,2013-12-17T14:27:07Z,roryk
570d811a3cf9a568740547e82b187c2bdae0042b,roryk,rory.kirchner@gmail.com,Let sort_order detection work for BAM and SAM files.,2013-12-17T14:26:21Z,roryk
bec6ed6633580be9324790777b030fb426fe851e,roryk,rory.kirchner@gmail.com,"Added quick option to downsample fastq files.

Just grabs the first N records.",2013-12-17T01:03:59Z,roryk
2fb12a82bc5f2bbebb89dc8a06bea17bf8046926,roryk,rory.kirchner@gmail.com,Run test_run downsampling in parallel.,2013-12-16T23:41:03Z,roryk
769367927a21073b6172b3d0f0ab3fba4150c8bb,roryk,rory.kirchner@gmail.com,Added memoization to FASTQ downsampling.,2013-12-16T23:40:25Z,roryk
44dfdccd89130366fdc6d0e78c3dc5556f0f3e8e,roryk,rory.kirchner@gmail.com,"Revert the switch to samtools merge.

It doesn't work the same as Picard merge as it is.",2013-12-16T15:53:03Z,roryk
9a7dd7d753070e66591450b9fb1839e8ff494f86,roryk,rory.kirchner@gmail.com,"Added samtools sam->bam conversion and merging.

Part of phasing out of using Picard. sambamba is still flaky in a bunch of
areas so support for it is implemented, but turned off.",2013-12-16T08:28:40Z,roryk
0f4803730166439d414d1ad0b9eb2b150e81126c,roryk,rory.kirchner@gmail.com,Added Cufflinks output to the upload directory.,2013-12-15T21:37:57Z,roryk
a8385cfadfcab7243ead070cc566dc96e3ef8c73,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-12-14T19:19:33Z,chapmanb
8ee22c301c0fde5b01d27d662ff131609a8d0924,chapmanb,chapmanb@50mail.com,Provide short filenames to merge and concatenate to avoid too long command lines with large numbers of input files,2013-12-14T19:19:14Z,chapmanb
395436f9436579e74cfad61b1bf8d5de1f2bd2b6,Rory Kirchner,rory.kirchner@gmail.com,test_run addition,2013-12-14T16:59:37Z,roryk
f2e5c0d2d90aca6e406ba9b1acd1165cc640e0d2,roryk,rory.kirchner@gmail.com,"Added running bcbio-nextgen on a subset of test data.

test_run: True at the top of the sample configuration file
will downsample any BAM/fastq files to 10,000 entries before running
the pipeline.",2013-12-14T16:30:14Z,roryk
a84fe11131f822b32df0633096b3804e507ab4cd,roryk,rory.kirchner@gmail.com,Fixed bug where very short files were not being extracted properly.,2013-12-14T16:25:01Z,roryk
8a61fa4c6d913373c07685267fd5dd0e6344474e,roryk,rory.kirchner@gmail.com,Add memoization for Cufflinks.,2013-12-13T23:03:00Z,roryk
6b969ca72311702e6e6a7a9d7e5c8ab43c1adaa2,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-13T16:59:45Z,chapmanb
6921df35ae671b939048ecf2eeb65a701413a7bb,chapmanb,chapmanb@50mail.com,Add bcftools based merge functionality that avoids issues involved with GATK file locks. Still needs full integration after further testing with isolated parallel merge functionality. #155,2013-12-13T16:59:34Z,chapmanb
4187c19539701bbcf05ddf321a22bab5b016101d,Rory Kirchner,rory.kirchner@gmail.com,Updated documentation regarding resources: cores,2013-12-13T14:59:36Z,roryk
4c7f7c74b10101b26c238087d01a267920577cd2,Luca Beltrame,luca.beltrame@marionegri.it,"Add a comment telling that the order of the samples in the vcfsamplediff
call isn't arbitrary",2013-12-13T13:25:16Z,lbeltrame
7de7cf8a42f72d148b40d91a231a6c91dd516288,Luca Beltrame,luca.beltrame@marionegri.it,"Minor PEP8 fixes, add a docstring to the paired function",2013-12-13T13:23:46Z,lbeltrame
c85ad6636ed86f7558e743d29987dc9785bc6602,Luca Beltrame,luca.beltrame@marionegri.it,Detect paired samples and act accordingly (normal freebayes / paired freebayes),2013-12-13T13:21:49Z,lbeltrame
0d4013529690b8cdb9ab69c6908b5c66082a19cd,Luca Beltrame,luca.beltrame@marionegri.it,"Merge remote-tracking branch 'upstream/master' into freebayes-somatic

Conflicts:
	bcbio/variation/vcfutils.py",2013-12-13T13:13:09Z,lbeltrame
00b3b935ef71911d6a4ee62eab9997c9397fdb1b,Luca Beltrame,luca.beltrame@marionegri.it,Update the freebayes call according to review,2013-12-13T13:11:37Z,lbeltrame
47aaa899980a5cc5ac049c0557907b5743aef961,Luca Beltrame,luca.beltrame@marionegri.it,"Adjust is_paired_analysis to proper return true or false
Correct get_paired_bams according to the review",2013-12-13T13:10:51Z,lbeltrame
1dc63571c5b326b919390c708cee685eded05023,chapmanb,chapmanb@50mail.com,Bump ipython-cluster-helper to latest release with SGE fixes. #215,2013-12-13T12:45:15Z,chapmanb
7b3433f41136f734e2b76f61905f004ac97671ac,chapmanb,chapmanb@50mail.com,Support new samtools 0.20 and bcftools 0.20 as part of samtools variant calling. Begin integration of bcftools merge functionality into parallel by-chromosome merging,2013-12-13T09:46:08Z,chapmanb
16c90d0281ddb8a9b18314cab9381622ff72feaa,chapmanb,chapmanb@50mail.com,Handle writing project summary information with missing upload or bcbio system inputs,2013-12-12T19:35:32Z,chapmanb
031dfeb2f8ffa7813fa4b021c6cf3069677261bc,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-12T18:37:47Z,roryk
af7e856205346f4cc8daf9120dd6e17423ba58c9,roryk,rory.kirchner@gmail.com,Add sample descriptions to the project summary file.,2013-12-12T18:37:22Z,roryk
930b24f8e063232fb9f1adb32bd4cbb437b34f68,chapmanb,chapmanb@50mail.com,Fix typo in GRCh37 update for dbSNP 138,2013-12-12T18:13:17Z,chapmanb
65158db2d3859f8bd0185f8c2a86e5118cc1b4ac,chapmanb,chapmanb@50mail.com,Use batch mode for miniconda installation. Fixes #193. Add conda dependencies to support future work with matplotlib-ggplot,2013-12-12T15:41:56Z,chapmanb
857a513de0d8d82ddcaa7cf336532cc4f0adda82,chapmanb,chapmanb@50mail.com,Provide documentation on third party tools installed in manual installation section. Fixes #217. Include pandas as part of conda installs for future use.,2013-12-12T10:11:07Z,chapmanb
1da732ce9dddbca6cd888d0448e9bdc45a48c50e,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-12T07:26:18Z,roryk
c2b46c36572e85d32c9abf3a63ca220933add993,roryk,rory.kirchner@gmail.com,"Added additional items to the project summary YAML file.

Add full path to upload directory and current time.",2013-12-12T07:17:52Z,roryk
64413854b64ae1ace51622fa71b94faa6564ef5a,roryk,rory.kirchner@gmail.com,Add full path to upload directory to project summary.,2013-12-12T07:11:46Z,roryk
9f6f9a44ace9ed17d9283233e2d3704a014df668,roryk,rory.kirchner@gmail.com,"Restructure the output project summary file.

Sample information is under samples. The full path
to the bcbio_system file is under bcbio_system.",2013-12-11T23:18:01Z,roryk
30fd4e6e0841e2e305421f86ce2c025df62dc470,roryk,rory.kirchner@gmail.com,Inject full path of bcbio_system file into the config.,2013-12-11T23:18:01Z,roryk
3d64556d0097f50caf8e3da7cdfe0522391a0f0d,roryk,rory.kirchner@gmail.com,Added faux metadata fields for testing.,2013-12-11T23:18:01Z,roryk
f2ab1e2c06b37e4287d8a5ddac6f1093946ad8ba,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-11T20:01:57Z,chapmanb
e69334c8a0b900d7f7057987da89454ea1cc556e,chapmanb,chapmanb@50mail.com,Command line improvements: provide useful errors for incorrect ipython/scheduler/queue args. Fixes #205. Provide useful help message for upgrade with no inputs. Increase allowed resource usage within available hard limits. Fixes #214,2013-12-11T20:01:49Z,chapmanb
ba9bb4d1140c260df3ce8c419e4bd0cf1f331837,Rory Kirchner,rory.kirchner@gmail.com,More verbose project-summary output.,2013-12-11T18:22:29Z,roryk
2be8d45c72a95d4b805c2cf9b4b3e9ced632154b,roryk,rory.kirchner@gmail.com,"Output genome resource data into the project summary file.

This way downstream tools can parse it to figure out what was
used.",2013-12-11T18:17:37Z,roryk
3b1edc20638c7f5153163ca3bf5b43f0150c4e9b,chapmanb,chapmanb@50mail.com,Update version detection to include all recently added third party tools. Utilize brew which to retrieve versions of tools installed via brew method.,2013-12-11T17:40:09Z,chapmanb
8f06222cbe79560cdb41885a92348ddd69786e3d,chapmanb,chapmanb@50mail.com,Utilize new bcftools for bgzip/tabix index preparation of VCF files. Update split functionality to use bcftools subset,2013-12-11T11:35:05Z,chapmanb
73c7d7c3dc280d16665522cf0423d9b822f0325f,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into freebayes-somatic,2013-12-11T09:43:28Z,lbeltrame
e0dbc2e637cf5989e5ecbf21125a87e42faf4767,Luca Beltrame,luca.beltrame@marionegri.it,"Add support for Freebayes paired tumor/normal variant calling

Currently untested and not plugged into the main pipeline yet",2013-12-11T09:42:49Z,lbeltrame
35a6017a25578c3f93aa524f767643dde16baa47,chapmanb,chapmanb@50mail.com,Update to human dbSNP 138 available in latest Broad GATK bundle,2013-12-10T09:07:57Z,chapmanb
c411d9cfa9a1f1ce951cc1c5f383af9bb9ee3bcc,chapmanb,chapmanb@50mail.com,Link to Mt Sinai scaling slides,2013-12-10T02:14:42Z,chapmanb
486e99e7337400058d3a847a4deb3436cef02721,Rory Kirchner,rory.kirchner@gmail.com,Update with Tophat memory fix.,2013-12-09T22:30:24Z,roryk
6da9e5a53f04c5e8d082354694873edca7c255bc,roryk,rory.kirchner@gmail.com,Removed deprecated total_memory block.,2013-12-09T22:26:08Z,roryk
c24bd04c863b1ea1eeb60429cd3101c3866c2e0a,roryk,rory.kirchner@gmail.com,"Added minimal requirements checking.

Extra metadata on the multicore/ipythontask functions
under {""resources"": {""ensure"": ""prog"": fn}} can specify
a function which takes cores_per_job and memory_per_core
as arguments and sets them to the minimal requirements
for that tool if they do not meet them.

Fixes a bug with not allocating enough memory to
Tophat.",2013-12-09T21:48:07Z,roryk
aa0210bc99e24bd310037cc7c9f6197b6cfdbdc6,chapmanb,chapmanb@50mail.com,"Documentation clarifications on depth, reference genomes and no alignment templates. Thanks to Severine Catreux",2013-12-09T16:28:28Z,chapmanb
e99933ae6970e4cc11e75f7b809591d60d71e511,chapmanb,chapmanb@50mail.com,Switch to simple sed approach for illumina to sanger quality conversion for fastq. fastx_toolkit approach does not appear to work. (again) fixes #190,2013-12-09T15:15:14Z,chapmanb
2ec8d9b0c7aa3ed90d68beb58dd275117e7086da,roryk,rory.kirchner@gmail.com,Added example settings of the strandedness flag.,2013-12-07T20:08:30Z,roryk
451759ddf928b9ec9b8b74fb16d6ef376260fcb8,chapmanb,chapmanb@50mail.com,"Use sambamba for downsampling instead of GATK. Avoids memory ussage problems and issues with RNA-seq reads, plus mulithreaded",2013-12-07T16:32:34Z,chapmanb
c0a26fce7a442a27ddcd88e621ddf3c85d751a6b,roryk,rory.kirchner@gmail.com,Swapped htseq-count flag to match the Tophat strandedness flag.,2013-12-07T09:01:43Z,roryk
0fb4748a5e5e2228a0c5a8c0dc6d27d91996356e,roryk,rory.kirchner@gmail.com,Updated with note about Cufflinks.,2013-12-07T06:51:27Z,roryk
abc94292dc694538e8d01135110728b2387c1c96,roryk,rory.kirchner@gmail.com,Added Cufflinks support.,2013-12-07T06:50:33Z,roryk
a7f0c16d726dbf91781b76e1d37da871b48fe0d1,roryk,rory.kirchner@gmail.com,Skip reconstituting the index file if it already exists.,2013-12-06T23:23:05Z,roryk
1452edfe5b2160cddcef5efcbb402535d739947c,roryk,rory.kirchner@gmail.com,Added strandedness documentation.,2013-12-06T20:27:04Z,roryk
db7e1b1827a32c1fbd733f8d8e7fd888242c176b,roryk,rory.kirchner@gmail.com,Added strand-specific RNA sequencing support.,2013-12-06T18:48:33Z,roryk
8b2f0d7cb0b4649a4083ade66ec91f3cfd49cb3d,Luca Beltrame,luca.beltrame@marionegri.it,Rename is_sample_pair to is_sample_analysis,2013-12-06T16:10:23Z,lbeltrame
6e0d8b423f491962677b1d067819bca32bd645e6,Luca Beltrame,luca.beltrame@marionegri.it,"Update get_paired_bams to return a namedtuple if the analysis is paired, and None if there is missing metadata",2013-12-06T16:09:37Z,lbeltrame
cef4052fb7a1283ad7fc73a5a862ab04d8e2173a,chapmanb,chapmanb@50mail.com,"Update contributors to add Miika, Jakub and Paul. Thank you",2013-12-06T14:09:22Z,chapmanb
08619e3f37c0910ffa46c7e70a4bb5263d073788,chapmanb,chapmanb@50mail.com,Document supported inputs (single BAM and single or paired fastq). Raise useful error messages for input configurations with other file specifications. #209,2013-12-06T13:07:36Z,chapmanb
bcc9219e7e9add4259846dfdf0111bd7f3e1ca21,roryk,rory.kirchner@gmail.com,Bug causing overzealous memory reservation fixed.,2013-12-05T17:29:33Z,roryk
0f24f993a05005843e6bf0bdf054fdb27e181165,roryk,rory.kirchner@gmail.com,Bump cores up for Tophat2 and Bowtie2.,2013-12-05T17:29:10Z,roryk
8bba2fe5e98c2ee9b0bb924ad02a164ba8c7823b,roryk,rory.kirchner@gmail.com,Added complexity calculation bugfix.,2013-12-05T05:27:06Z,roryk
b600869f335995e11b2612d82408fbb65d489cba,roryk,rory.kirchner@gmail.com,Fixed bug in complexity figure calculation.,2013-12-05T05:25:53Z,roryk
9ac851393a78582f380c1abd17546f473ebcf621,chapmanb,chapmanb@50mail.com,Correctly avoid setting ploidy to non-diploid when using GATK lite versions. Provide better error messages for GATK directories with multiple jars. Thanks to Severine Catreux,2013-12-05T01:25:51Z,chapmanb
70ea1c98bdf3ea990e39192cc5962dccecc75e2c,chapmanb,chapmanb@50mail.com,Avoid overwriting existing configuration file when creating from a template. Back up current files with .bak timestamp. Fixes #196,2013-12-04T15:06:18Z,chapmanb
0f239ffaf7beb449dbf044e2bc09b46a5b063814,chapmanb,chapmanb@50mail.com,Avoid usage of pbgzip until can better debug and fix segfault issues,2013-12-04T14:36:44Z,chapmanb
cd4c838147c8dee5ba9f39e4e58a0a94b99d72d5,chapmanb,chapmanb@50mail.com,Document relocatability and medium term move to docker. Fixes #197,2013-12-04T11:25:16Z,chapmanb
9ccf6e5759e32a7a1a0cb55453ae1933d5634940,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-03T20:21:18Z,chapmanb
891f918d25993453950dd359d6a933d382dbb4e3,chapmanb,chapmanb@50mail.com,Annotate NA12878 example datasets as females so variant calling will treat sex chromosomes correctly,2013-12-03T20:21:10Z,chapmanb
3a1a1e1270e13cac5398f0effc7111bcebf2c2af,roryk,rory.kirchner@gmail.com,Bumped version numbers on resources files so they get tagged as new.,2013-12-03T20:20:37Z,roryk
e0698db01dad44d5a4559c9872026bc0fb072f85,Rory Kirchner,rory.kirchner@gmail.com,Tophat and FASTQ fixes.,2013-12-03T19:53:13Z,roryk
f7e73bb3a617252cdf3429b43aeadf3679843d4a,roryk,rory.kirchner@gmail.com,Added .ver to the end of the transcriptome_index files.,2013-12-03T19:40:44Z,roryk
a8e669564b16bdd507f9ba0781ecc025b424fec3,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-03T19:37:34Z,roryk
62cd91277cbf9b06b8e4046f6b7bb485ac7c871c,roryk,rory.kirchner@gmail.com,"Fixed transcriptome-index not being located correctly.

Thanks to @mjafin.",2013-12-03T19:36:55Z,roryk
8dce20a1c6f515a218cdf9251ba6683b23ef1ebd,chapmanb,chapmanb@50mail.com,Use standard exist instead of checking file size when transferring directories to final location. Touch final copied directories to avoid multiple transfers with time preserving copytree. Fixes #198,2013-12-03T18:24:11Z,chapmanb
aee8b79c82329fb00d389711a9b0f803ec05f7a5,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-12-03T17:23:38Z,roryk
bff4de66ac3162af2450bec59a8f859b199358c8,roryk,rory.kirchner@gmail.com,"Save original compressed FASTQ files.

Also write uncompressed FASTQ files to the work directory so
they can be cleaned up easily.

Swapped the explant integration testing data to use gzipped files.
Also added another replicate, just because.",2013-12-03T17:22:25Z,roryk
26e7fac31930dfc1ce875fc48f35bc6d197960e0,roryk,rory.kirchner@gmail.com,Keep original compressed fastq files.,2013-12-03T17:13:17Z,roryk
40b29987b81005b1543ea19a3643e7aa731190ff,Rory Kirchner,rory.kirchner@gmail.com,Update Tophat fix.,2013-12-03T16:23:08Z,roryk
23414939f7a8d0f40d34e5ab9dd90c4bbd3e1da7,roryk,rory.kirchner@gmail.com,Merge branch 'tophat-quality-fix',2013-12-03T16:20:22Z,roryk
e61172beb5b639e3ad399187a2f8cfa451f428ef,roryk,rory.kirchner@gmail.com,"Set quality flag properly for Tophat alignment.

Thanks to @mjafin.",2013-12-03T15:48:57Z,roryk
040e22a3d5c370b9561c15ab79ee03da466d48a8,roryk,rory.kirchner@gmail.com,Added gatk to the resources of qcsummary.,2013-12-03T07:57:40Z,roryk
36c9b9012227828583f8ea20852814490e957b93,chapmanb,chapmanb@50mail.com,Avoid use of Python 2.7 specific subprocess.check_output. Fixes #192,2013-12-02T11:43:31Z,chapmanb
1726376000b8c3d7d24addeab99abfcb7386a4dc,chapmanb,chapmanb@50mail.com,Ensure clean retries when preparing bgzipped fastq input from BAM and fail on initial compression. Avoid retry within transactional directory,2013-12-02T11:28:43Z,chapmanb
49e567dbecd8cdec4687847095335beaf3cc6901,chapmanb,chapmanb@50mail.com,Handle Illumina 1.3-1.7 fastq as input to bwa mem via converstion with fastx_toolkit. Include conversion as part of fastq preparation of bgzip indexed files for parallel alignment. Fixes #190,2013-12-02T10:47:24Z,chapmanb
153a1f5d27223a5ea3b4cc9ddc0029dbba3fe8fb,chapmanb,chapmanb@50mail.com,Handle downsamples for GATK-lite 2.3.9 versions by avoiding filter_reads_with_N_cigar argument. General cleanup of bam module,2013-12-01T11:33:59Z,chapmanb
291d7ef0c83a8199713eb733ff4f57f73b392c07,chapmanb,chapmanb@50mail.com,Update template preparation functionality to allow specification of algorithm parameters in input CSV file alongside metadata. Allow matching of metadata via file name as well as sample name,2013-12-01T11:05:44Z,chapmanb
ca0eb1838f403dfa79bb48c25fb9fdb8f78f9508,roryk,rory.kirchner@gmail.com,Move read counting to bam module.,2013-12-01T00:25:06Z,roryk
ee99cd22a7a7e56d32afeba3cea43a280685ffc1,roryk,rory.kirchner@gmail.com,Added combining count files to the summary.,2013-11-30T19:41:35Z,roryk
81082e073c0c0de5d2e49cfaf2b973636a25d4bc,Brad Chapman,chapmanb@50mail.com,Create decorator to abstract out functionality to plug multiprocessing logging into ZeroMQ logging for nested parallelization. Ensure parallel grabix works within IPython,2013-11-30T13:28:55Z,chapmanb
21c3cd80a4ae99ea91625093d49b0c16cb227a16,chapmanb,chapmanb@50mail.com,Bump to next development version. Provide parallelized grabix indexing during alignment preparation and ensure re-write of partial grabix indexes,2013-11-30T12:30:26Z,chapmanb
269ab86befb2f1de9f173ef78bd01ac039d1079b,chapmanb,chapmanb@50mail.com,v0.7.5,2013-11-29T18:38:15Z,chapmanb
4f723cd207ff6970c9d904b400696c89229deca6,chapmanb,chapmanb@50mail.com,Move to latest Miniconda release. Fixes #188. Fixes #189,2013-11-29T17:42:24Z,chapmanb
ac4444e4f7b5269bbf0237efa2164808e2f1bfd2,Brad Chapman,chapmanb@50mail.com,Post filter VarScan output to remove non-GATC alleles that make GATK unhappy. #186,2013-11-29T17:12:29Z,chapmanb
65d006e2532ce2dfd4d1e376a2ff1c8ba349d69e,chapmanb,chapmanb@50mail.com,Correctly format problem report string. Fixes #187,2013-11-29T11:25:39Z,chapmanb
94d23dbebd2cd0532540b8c3edb45a8a86b6056c,chapmanb,chapmanb@50mail.com,Perform fastqc preparation inside a temporary directory to avoid issues with partially created outputs. Fixes #185,2013-11-28T11:13:48Z,chapmanb
502147d936574987f4fd85b755ece2af438df4c2,Brad Chapman,chapmanb@50mail.com,Ensure logging ZeroMQ contexts and sockets are immediately closed on IPython job finish. Eliminates open file handle errors associated with open contexts,2013-11-28T10:17:59Z,chapmanb
b2254882ff292704771418432c029edd6de94993,chapmanb,chapmanb@50mail.com,Better approach to avoiding overscheduling on multicore machines. Avoid limiting on cluster submissions due to per-machine core limits,2013-11-27T20:46:52Z,chapmanb
7986f949a4e0c797b0f1fb7ad6dbf41c10567a8a,chapmanb,chapmanb@50mail.com,Better approach to avoiding overscheduling on multicore machines. Avoid limiting on cluster submissions due to per-machine core limits,2013-11-27T20:34:19Z,chapmanb
cb57a18d816c8d12947307a068a02d42eb0025b6,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-27T19:21:24Z,chapmanb
f3ec552f8ab2bed4e5e11377a8487c3900607642,chapmanb,chapmanb@50mail.com,Finalize disambiguation by incorporating code from @mjafin into bcbio-nextgen. Documentation and testing in place,2013-11-27T19:21:11Z,chapmanb
1ea7f937e05afbf84c4f36d534fb7d71dabdcd1a,roryk,rory.kirchner@gmail.com,"Fixed memoization for remove read number.

In the edge case where it was a memoized file the read numbers on
the end, it returned the wrong filename.",2013-11-27T17:28:17Z,roryk
9a96bf52165c11d74845b3bb9ce119d45a61d622,chapmanb,chapmanb@50mail.com,"Make upgrade procedure consistent with respect to code, tools and data. Now each require an explicit flag to upgrade. Fix documentation to match new approach. Fixes #183",2013-11-27T16:51:42Z,chapmanb
a55430ef302de1523504c88dd04008ff6fa89076,chapmanb,chapmanb@50mail.com,Ensure system memory information passed more precisely to handle slurm strictness,2013-11-26T20:10:43Z,chapmanb
dff209e2a6eafcb222bc2892854e15f9ebdb71a0,chapmanb,chapmanb@50mail.com,Avoid overuse of cores and memory when specifications are beyond system capabilities,2013-11-26T19:27:15Z,chapmanb
4920737740de573d424c503e36cfed3f3a8a86ce,chapmanb,chapmanb@50mail.com,"Provide more conservative memory usage: scale cores to lower value relative to available memory and provide additional system, non process, memory buffer",2013-11-26T19:04:43Z,chapmanb
6d359f75bbcf7d4062a61afbb63d381672e27124,chapmanb,chapmanb@50mail.com,Ensure target region is string before checking if file when handling multiple region input settings for FreeBayes. #166,2013-11-26T18:37:53Z,chapmanb
97416bff515731b9e0d6663ef2938baab25835b1,roryk,rory.kirchner@gmail.com,"Added option to skip Ns in CIGAR strings, which occur in RNA-seq data.",2013-11-26T15:41:09Z,roryk
7ed358a1b25e74fcd145d95bf04bc57103e90f6c,roryk,rory.kirchner@gmail.com,Merge branch 'chip-seq',2013-11-25T23:40:31Z,roryk
6cfd4a6d4ef14e556ff81d576e505f71016aa199,roryk,rory.kirchner@gmail.com,spaces -> tabs,2013-11-25T23:40:20Z,roryk
3bad04f0b77bd5c8a889a0889ec8d79f1f3356d5,roryk,rory.kirchner@gmail.com,Added a more verbose template message to give the current options.,2013-11-25T23:39:35Z,roryk
d7abbbd101c43404f9ceea50794aed9854f0d272,roryk,rory.kirchner@gmail.com,"Added ChIP-seq alignment support.

Peak calling and IDR can be wrapper in using the spp-idr repo.",2013-11-25T23:39:01Z,roryk
ae987d8f47b4bcabfc7f04ae4bf85c94c190756e,roryk,rory.kirchner@gmail.com,spaces -> tabs.,2013-11-25T17:31:46Z,roryk
6b450f5992a596e4d7f13e0b62e12ff70452935e,roryk,rory.kirchner@gmail.com,Fix for missing metadata during template generation.,2013-11-25T17:02:38Z,roryk
5d6f79dfc0f49b35cd998832472edde14217449b,chapmanb,chapmanb@50mail.com,Fix links to configuration documentation in quick start,2013-11-24T11:41:32Z,chapmanb
b4d991bf9392a3dc50c55e0843d7beca9e6af804,chapmanb,chapmanb@50mail.com,Fix links to configuration documentation in quick start,2013-11-24T11:35:57Z,chapmanb
53e4a146bbc229e216384e79aff9839160fd8ae1,chapmanb,chapmanb@50mail.com,Automated sample configuration: enable a metadata CSV file containing sample specific metadata. Avoids need to manually edit sample YAML after generation from a template. Thanks to @mjafin. Fixes #171,2013-11-24T11:33:54Z,chapmanb
d0c30d79672065865f79ade5bcc983ec3a4e289c,chapmanb,chapmanb@50mail.com,Detect and report issues where Galaxy location files contain spaces instead of tabs. Fixes #182,2013-11-23T12:07:01Z,chapmanb
1c4bd3a414dae476287a9816fb3dad4bdeb88f23,Brad Chapman,chapmanb@50mail.com,Additional work to avoid resource unavailable errors. Catch and recover from these. Ensure subprocess file descriptors are closed. Catch memory errors using post-calling annotation steps,2013-11-23T10:54:20Z,chapmanb
0898267bfe865308c396dd547e13d5243980eedf,roryk,rory.kirchner@gmail.com,Updated history with sorting changes.,2013-11-23T00:46:56Z,roryk
51cd658e9a4c929e686cc8d97018709c4aee8545,roryk,rory.kirchner@gmail.com,Fix to the explant unit test.,2013-11-23T00:45:28Z,roryk
ed55c198871bbfbe50a72f078d0f55266fa0eb27,roryk,rory.kirchner@gmail.com,Merged fixes.,2013-11-22T22:14:45Z,roryk
3a8bbe37434ab3f20edf958e878e36cbcb8131ad,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-22T22:02:00Z,roryk
33c3f21db5e067626cc511abdb4dce822157df27,roryk,rory.kirchner@gmail.com,Removed disambiguation step from stock RNA-seq integration test.,2013-11-22T22:01:21Z,roryk
06aa059ae3fd80604eb30665f5b447a52355a701,roryk,rory.kirchner@gmail.com,Added integration test for explant analysis.,2013-11-22T22:00:40Z,roryk
86799ed61a8110a6a6d61fc1003f2a6d0ce669a3,roryk,rory.kirchner@gmail.com,Add ability to subsample during the complexity calculation.,2013-11-22T21:58:19Z,roryk
6160c6f6bd59802fa3145a944cac55d962faa3e6,roryk,rory.kirchner@gmail.com,Fix for trimming single-end reads.,2013-11-22T21:57:08Z,roryk
286805aacdf09caf3d6d6dfb7d5e44b79bd37bb2,roryk,rory.kirchner@gmail.com,"Add sorting via sambamba.

Note: this uses the header in the BAM file to figure out if it is
sorted already.",2013-11-22T21:56:01Z,roryk
bf8c196171debb8c6d92ddf4904105d64d184454,roryk,rory.kirchner@gmail.com,Ensure files are name-sorted before disambiguation.,2013-11-22T21:55:42Z,roryk
3756973f7c32670c03231c0180b66cfa0629274c,roryk,rory.kirchner@gmail.com,"On whole-file complexity plotting, shuffle the start sites first.",2013-11-22T20:15:30Z,roryk
433913f0b7ad9cd10c36a5ec7b8a318195fd1dad,roryk,rory.kirchner@gmail.com,Added sorting via sambamba.,2013-11-22T16:53:00Z,roryk
a392f118aa28ec46fc3e5deabdad9db59c61d2ff,roryk,rory.kirchner@gmail.com,Brought changelog up to date.,2013-11-22T16:15:39Z,roryk
21c5a1eab50a3d1ffa338e9be37ee8d5788452a4,roryk,rory.kirchner@gmail.com,Fixed complexity calculation when there are few reads in the BAM file.,2013-11-22T16:13:27Z,roryk
aba63ac681cbf1dd88945e761f860220656eeb06,roryk,rory.kirchner@gmail.com,Fix for trimming single-end lanes.,2013-11-22T16:12:07Z,roryk
8b7c9b36094a94d943138f01e9a1e78bfb7f33d4,chapmanb,chapmanb@50mail.com,Correctly detect regions versus target BED files for FreeBayes. Avoid leaking internal changes in subset_variant_regions used to cleanly subset by regions,2013-11-22T14:11:25Z,chapmanb
eddd9940aa0e18d7ac223767837930a08fc71885,chapmanb,chapmanb@50mail.com,"Ensure BAM indexes are up to date with BAM file, re-creating if not. Fixes #181. Provide better error reporting for problem lines when running BamIndexStats. Fixes #180",2013-11-22T13:42:34Z,chapmanb
7a68c20b147d8b72e9d7f894c88e125ece972d22,chapmanb,chapmanb@50mail.com,Improve test running with wrapper script: uses pre-installed version of nose local to installer provided Python and handles re-writing existing system configurations to use smaller test-specific genome data.,2013-11-22T13:06:39Z,chapmanb
391907a5fa6a9c5cb6779c9af4fbe4fb1b841038,chapmanb,chapmanb@50mail.com,Improved memory handling: explicitly add in memory for system usage and keep fractional memory estimates. Intended to better work with restricted memory setups like SLURM scheduler and VMs,2013-11-22T12:22:38Z,chapmanb
50b8bd5d709c391e583af8a34c3e2523d018010f,roryk,rory.kirchner@gmail.com,Fixed complexity calculation when there are few reads in the BAM file.,2013-11-22T07:43:37Z,roryk
4a2ad3b876cac1c76574e1ed4be0dce7f46f30c6,chapmanb,chapmanb@50mail.com,Provide ability to specify the install target (stable or development) to avoid needing an upgrade to get the development version. Fixes #175,2013-11-21T18:50:43Z,chapmanb
472bd88c62d2e8e457c6fe82ddeb8a3a3a40ed07,chapmanb,chapmanb@50mail.com,Document system requirements for isolated installation: #174,2013-11-21T18:27:08Z,chapmanb
4d45093c13eed054d4d551053c3a43349ff853ac,chapmanb,chapmanb@50mail.com,"Generalize approach to recover from java memory errors to be useful for all command line programs. Add recovery to bamprep processing, which can also suffer from out of memory problems at scale",2013-11-21T14:16:29Z,chapmanb
e1b3c7838926efc663a3626004460e3fd97501e0,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-11-21T10:24:21Z,chapmanb
838e300dade2b177429f733dbd1239f708f6ad06,Brad Chapman,chapmanb@50mail.com,Increase resiliancy of bamtofastq preparation: avoid excessive core usage for parallel bgzip and fall back on single core bgzip after IO failures,2013-11-21T10:23:51Z,chapmanb
1f6e0ff90d05ee8d3e6b481c85032ae58fe9cc00,roryk,rory.kirchner@gmail.com,Re-added the complexity script as it was useful for one off checking.,2013-11-20T21:39:23Z,roryk
4224eb9f09aefb760bc41a298714eda5cfce7636,chapmanb,chapmanb@50mail.com,"Improve handling of GATK version detection, including support for Appistry releases. Fixes #173",2013-11-20T11:39:43Z,chapmanb
194f161e48bb635d5a7746a3851d6909771d9abe,chapmanb,chapmanb@50mail.com,Ensure last lines of debug output read when exiting processes with an issue. Catches debug messages present at immediate end of stdout stream,2013-11-20T10:38:02Z,chapmanb
c46be922ff1945df25d47e0c50670f5618c4ddda,roryk,rory.kirchner@gmail.com,Renamed canFam file again.,2013-11-20T05:31:00Z,roryk
e043ef12d408dac996044db7b110f1da1bcd2a62,roryk,rory.kirchner@gmail.com,Named CanFam resource file correctly.,2013-11-20T05:25:09Z,roryk
ac387f4c49e0f017522fdfd62e6a701c4709a2c4,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-20T05:18:47Z,roryk
da565a6bdb34ca4aa4a1825a0d9ac4039efd792e,roryk,rory.kirchner@gmail.com,Added CanFam3 as a genome.,2013-11-20T05:18:10Z,roryk
fcceb1c1b871ab9231cbbfe2c19e47bc66a6fda8,chapmanb,chapmanb@50mail.com,Use GATK PrintReads instead of Picard DownsampleBam due to issues with memory usage in Picard on deep regions,2013-11-19T17:13:49Z,chapmanb
0d268d875aae9b4e77f930efed818ccfcf1f4d30,chapmanb,chapmanb@50mail.com,"Fixes for recent scaling work: ensure DownsampleBAM run as transcation, catch additional memory errors during callability",2013-11-19T16:11:27Z,chapmanb
61dc3420192fd6305c06258d2520664e69fe1fdc,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-19T15:00:17Z,chapmanb
178d0dde215edc7ded84a70b8b27c6e8bf7617ea,chapmanb,chapmanb@50mail.com,Provide ability to recover from java memory issues when running callability assessment. It can reliably fail on quick running processes in memory limited environments,2013-11-19T15:00:08Z,chapmanb
98c080531e70f83a70de1556769be2ebd2008f26,Brad Chapman,chapmanb@50mail.com,"Merge pull request #172 from mariogiov/sysinfo_from_sinfo

Get machine info from command-line tools first, else queue",2013-11-19T13:40:58Z,chapmanb
7e4e2e1639ef30fb834b9657f8e1a66a1f7f2569,roryk,rory.kirchner@gmail.com,Add version number to rn5 genome.,2013-11-18T21:33:01Z,roryk
08cd1afb408b6dc35624ebb3dca2efdf34440c7b,chapmanb,chapmanb@50mail.com,Downsample files before fastqc to avoid slow processing times on large inputs. Use global read counts and other metrics from bamtools QC stats on full file,2013-11-18T19:32:43Z,chapmanb
ac17a842222e8e672a698a3ea9e29858ed4f6e0b,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-18T15:59:36Z,chapmanb
efbc1e162dc3f3a81a62abdcc2c5afd1d24901fc,chapmanb,chapmanb@50mail.com,Provide disambiguation for RNA-seq pipeline using external scripts from AstraZeneca. Handles alignment and running of disambiguation. Needs additional work to be included with automated installation.,2013-11-18T15:59:26Z,chapmanb
fd9fcb68bb36aced82eca4f2839fc1b538bad903,roryk,rory.kirchner@gmail.com,Added stub for rn5 genome.,2013-11-18T15:53:27Z,roryk
664675add4652b5533a2c3ed784768d4604bb5f3,Mario Giovacchini,mario.giovacchini@scilifelab.se,Generalize function name,2013-11-18T11:07:52Z,mariogiov
aa14fbe65272a1afea8ef51e910663d3fd64e0b9,Mario Giovacchini,mario.giovacchini@scilifelab.se,Merge branch 'master' into sysinfo_from_sinfo,2013-11-18T11:03:18Z,mariogiov
060981e6db6db2b982be68ca6552ab000dc27ef9,Mario Giovacchini,mario.giovacchini@scilifelab.se,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen into chapmanb-master,2013-11-18T11:02:17Z,mariogiov
5427a4243f6d51d0db26ac839c785062242961cc,chapmanb,chapmanb@50mail.com,Recover from missing pandas/statsmodels to provide transition period on updating dependencies with conda. #166,2013-11-18T10:48:35Z,chapmanb
cba1e268a128adea18662c78bb3cc8a573bc4948,Mario Giovacchini,mario.giovacchini@scilifelab.se,Add docstring,2013-11-18T10:36:33Z,mariogiov
fb920424c40bbef2eca8a6f2bb5271d69cdec6ae,Mario Giovacchini,mario.giovacchini@scilifelab.se,Use switch statement to allow for additional implementations,2013-11-18T10:34:19Z,mariogiov
a8eea6f47cd339b1a5e88a8b11508a4ed214215c,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Skip queueing to get machine_info, use sinfo instead",2013-11-18T09:33:49Z,mariogiov
afdfb515b2244966ad2e33c1b8c27421f87fb804,chapmanb,chapmanb@50mail.com,"Avoid explicit installation of distribute, which is no longer supported",2013-11-17T17:48:14Z,chapmanb
34bbcb20b9808c6c65759038fe4b57e82c8a7845,chapmanb,chapmanb@50mail.com,Move ipython-cluster-helper to latest version and allow updated cutadapt release,2013-11-16T11:13:57Z,chapmanb
cc64c166419fbf121ca402ca73ee9c7bac412905,chapmanb,chapmanb@50mail.com,"Avoid symlinking files, preferring to merge in batches with bamtools when necessary to avoid both line length issues and open file handle limits. #166",2013-11-15T20:34:09Z,chapmanb
dc4ebb84c010cb5188adcf1a6746a3d8928b7a4a,chapmanb,chapmanb@50mail.com,Remove matplotlib and statsmodels dependencies from requirements to give updates a chance to install via conda,2013-11-15T20:29:17Z,chapmanb
6020c93be2827ccf34ba950ec550d26a4875cc4f,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-11-15T19:29:28Z,chapmanb
82e4af1a21b5a58e73311a31cf9cee2ece9c0650,Brad Chapman,chapmanb@50mail.com,Use potentially larger memory GATK HaplotypeCaller settings for VCF merging to handle large population files,2013-11-15T19:29:08Z,chapmanb
f8f1ea125ab88a6cea1d1207759ce04735c0810d,chapmanb,chapmanb@50mail.com,Add additional CNV caller targets to todo list: #112,2013-11-15T18:42:02Z,chapmanb
0eba28bef36994736776793035a3c15dbc48257d,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-14T20:35:52Z,chapmanb
22ff555fe14983debc458fecbaf167f3a0f6495b,chapmanb,chapmanb@50mail.com,Document cases where VQSR used for variant filtering. Fixes #167,2013-11-14T20:35:43Z,chapmanb
189528a2ed29023e13615c325c5254ea8b8e9494,roryk,rory.kirchner@gmail.com,"Shuffle the output from samples before iterating over it.

This way the complexity metric is not skewed by stacks of the same
read in a sorted BAM file.",2013-11-14T19:39:23Z,roryk
88ad56ebc3ed82d956c67c57652436abb327086a,roryk,rory.kirchner@gmail.com,Save complexity plot as part of the output of the pipeline.,2013-11-14T19:39:23Z,roryk
ddebb0e4092ef07ea706fdd325d51d48e02128e7,chapmanb,chapmanb@50mail.com,Update exome and whole genome examples to use latest version of Genome in a Bottle reference v2.17. Thanks to @mjafin,2013-11-14T15:15:33Z,chapmanb
bd8d701cb69d7e886374349a66f4c182bf34e97e,chapmanb,chapmanb@50mail.com,Update ipython-cluster-helper with Rory and Mario's slurm work,2013-11-14T11:05:03Z,chapmanb
f5c886d7a45ed2f49433a2f94ec79c6fb51c5563,chapmanb,chapmanb@50mail.com,Allow upgrades for older bcbio-nextgen versions without matplotlib installed. Ensure matplotlib and statsmodels dependencies are declared and installed via conda,2013-11-14T10:40:34Z,chapmanb
526c4aff4c27eddf9b83f3a821dac56f3beb95d0,roryk,rory.kirchner@gmail.com,Added reservoir sampling.,2013-11-14T09:01:23Z,roryk
b752622a72283d423c73a79b311e5088c2a9135b,roryk,rory.kirchner@gmail.com,Remove standalone script. Add complexity metric to summary report.,2013-11-14T07:18:48Z,roryk
18d7143292eea1cd8c8efb80dcfcead0c88e3332,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-13T21:33:28Z,chapmanb
698ff70169204104eba08c59a5c5c5b769f71cdd,chapmanb,chapmanb@50mail.com,Update whole genome benchmarking example to use NIST GiaB reference instead of our custom set of calls,2013-11-13T21:33:10Z,chapmanb
73585c0e0f5be14a495b7512210e41df03a4b1e0,roryk,rory.kirchner@gmail.com,Added statsmodels to the list of conda packages to install.,2013-11-13T15:38:54Z,roryk
daa4af23829521b0cf7b98847a2f957f514cfe9f,roryk,rory.kirchner@gmail.com,"Moved library complexity calculation to qc.

Returns a dictionary of the calculations and complexity estimation of
the library for use with the new qc file generator.",2013-11-13T15:36:05Z,roryk
cc4279fb0f0de2a977e73ed94e340e3856683915,roryk,rory.kirchner@gmail.com,Add memory requirements for bowtie2 and tophat2.,2013-11-13T05:14:05Z,roryk
a5a1de80637b09b9b3725f66b84ffc747b479146,roryk,rory.kirchner@gmail.com,Fixed bug with memoization of cutadapt trimmed files.,2013-11-13T04:02:15Z,roryk
5685863582645ed22cac1d58c1e0786bc755ac96,roryk,rory.kirchner@gmail.com,"Added analyze unique starts by read depth.

Generates a plot of this metric, useful for flagging problem libraries.",2013-11-12T23:18:20Z,roryk
e8ba73a9d479d43d5ba66c023d2aac288be90342,chapmanb,chapmanb@50mail.com,Update GRCh37 and hg19 genome resources with COSMIC VCFs,2013-11-12T20:32:35Z,chapmanb
e845b73684b4e9db6f44df7fd60667733cc731b1,chapmanb,chapmanb@50mail.com,Additional cn.mops fixes for tumor/normal case: ensure consistent windowlengths and calculate fractional counts,2013-11-12T15:24:27Z,chapmanb
1c4ebb587b963df50c67afdd3c64a39522c89952,chapmanb,chapmanb@50mail.com,Generalize cn.mops to support tumor/normal paired CNV calling. Fix code issue preventing runs on non-autosomal chromosomes,2013-11-12T11:17:51Z,chapmanb
0e8f08327f1f951e4168e171371d1727a0074628,chapmanb,chapmanb@50mail.com,Fixes for cn.mops CNV calling: iterate over all chromosomes and collect results by sample,2013-11-12T10:21:55Z,chapmanb
60b911a4523c01c83fb3fdeced7cc19bd62727fa,chapmanb,chapmanb@50mail.com,Finalization of cn.mops implementation for CNV calling: create BED file with copy number reports and split results by batch samples,2013-11-11T18:19:45Z,chapmanb
1a713c8d40e4cd8bb6770f8c9b9688a3527c7a5a,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-11T11:07:03Z,chapmanb
92df1c55babd5dfc4bebb926d67c39f4e3b5cb6e,chapmanb,chapmanb@50mail.com,Substitute qualimap QC run with bamtools stats. Provide a more lightweight approach until we can decrease qualimap run times,2013-11-11T11:06:53Z,chapmanb
6e4f68fff770a8f662fad109894ddea186103a24,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #164 from porterjamesj/trim-fix

Fix bug when lane trimming is skipped, thanks to @porterjamesj.",2013-11-11T06:17:58Z,roryk
dbc388e717582fb1d6ab93e12b9e2ca852f0be32,James Porter,porterjamesj@gmail.com,Fix bug when lane trimming is skipped.,2013-11-11T01:04:38Z,porterjamesj
be5a728bc6e5f4829fad4bf77b86f43d2595ddc2,chapmanb,chapmanb@50mail.com,Initial support for CNV calling with cn.mops. Needs additional testing since requires datasets with multiple samples,2013-11-08T19:54:03Z,chapmanb
48261dca1475baaef4ed4973b74518f2969ba192,chapmanb,chapmanb@50mail.com,"Subset analysis regions by chromosomal section, ensuring that internal regions truncate at the end of the overall chrom/start/end section. Replaces custom code with pybedtools for intersections",2013-11-08T18:39:20Z,chapmanb
7df6fb1df6b8c7c4ef04c2fd22889bc54f119393,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-11-08T01:44:31Z,chapmanb
8a77fc2d4d7d6458af7f298ee0f9f235fc77a3f5,chapmanb,chapmanb@50mail.com,Initial framework to support cn.mops CNV calling,2013-11-08T01:44:22Z,chapmanb
358c11e3f62383f9b5b66378d65b272c53de14b8,chapmanb,chapmanb@50mail.com,Handle calculation of excessive coverage regions when none found in input. Provide ploidy estimates when no metadata present in configuration,2013-11-08T01:03:24Z,chapmanb
64583c2cd181295dbe7d462b1b8ada92c0561472,chapmanb,chapmanb@50mail.com,"Handle batch calling of structural variants, explicitly sorting batches for sv callers that support them",2013-11-07T18:46:58Z,chapmanb
92de6091a1152f3ac6ec0e2c657a344d54247735,chapmanb,chapmanb@50mail.com,Cleanly handle BAM files into template generation without run group sample information,2013-11-07T16:17:37Z,chapmanb
d1c18ef5f1c2777d456da8dee4019d85ead4486c,chapmanb,chapmanb@50mail.com,"During varscan run, write mpileup file to check for empty output files that cause VarScan to hang. Fixes #156",2013-11-07T15:39:22Z,chapmanb
6f3c5b4800e6e0e08a73967f56f8c6bc8d5fdb56,chapmanb,chapmanb@50mail.com,Ensure multiplier and maximum multicore options pass through when using multiprocessing locally. Avoid overscheduling cores for individual processes when using single cores. Thanks to Zhengqiu Cai,2013-11-06T20:13:31Z,chapmanb
b9257d7eaffb936e142c2d9d0d5d782a356e4921,Brad Chapman,chapmanb@50mail.com,Use union of excessive coverage regions for a group to avoid repetitive regions during population calling,2013-11-06T19:15:10Z,chapmanb
7edcd72321f08bb56c55df1bbd505a36991efd5e,chapmanb,chapmanb@50mail.com,Ensure that shared excessive coverage regions are removed from final set of callable regions to avoid processing in super deep repetitive regions,2013-11-06T17:30:14Z,chapmanb
1cee377f0ca85d571f212cc17b8eaa68fd09f777,Brad Chapman,chapmanb@50mail.com,"Fixes for detecting excessive coverage: avoid downsampling below mazDepth value, avoid filtering by mapping and reporting low map quality",2013-11-06T15:34:17Z,chapmanb
6403548611416b195155170cc24fad79fd7c8d18,chapmanb,chapmanb@50mail.com,Avoid low coverage and poor mapping quality annotations when using CallableLoci. These are not used for selecting regions and are better left to the downstream variant caller to annotate,2013-11-06T11:32:22Z,chapmanb
eb48f14e9d8f9f6f6eff55f1a5d19ba8a34c7dc7,chapmanb,chapmanb@50mail.com,Identify and avoid calling on extreme high coverage regions. These are found due to mapping problems in repetitive regions and contribute to long run times and errors in variant calling,2013-11-06T11:14:49Z,chapmanb
6a22031c8539543bd313ce5ca29ac83244209f8c,chapmanb,chapmanb@50mail.com,Remove mapping quality flag for FreeBayes. This is taken into account by default in recent versions: http://bcbio.wordpress.com/2013/10/21/updated-comparison-of-variant-detection-methods-ensemble-freebayes-and-minimal-bam-preparation-pipelines/#comment-1495,2013-11-05T16:42:34Z,chapmanb
6aa9171d5b9c28111b39cdc5ee790f901a88af47,chapmanb,chapmanb@50mail.com,Explicitly update configuration when recursively setting paths; avoid relying on implicit dictionary updates #161,2013-11-05T14:18:30Z,chapmanb
d0c03e6a0c676afe02a785b1fe7224a65e6d643c,Brad Chapman,chapmanb@50mail.com,"Merge pull request #161 from mariogiov/recursive_shell_expansion

Recursive config file traversal to expand all shell variables",2013-11-05T14:15:46Z,chapmanb
b44fdf9d083260aeaacf1ac40f7facbfb21d585b,roryk,rory.kirchner@gmail.com,Added file transaction to cutadapt.,2013-11-05T02:40:03Z,roryk
abbf0767d01cfab7735b78d120fa36cc66b2a1ca,Mario Giovacchini,mario.giovacchini@scilifelab.se,Merge branch 'recursive_shell_expansion',2013-11-04T09:09:02Z,mariogiov
d61cd28e882b45507d7789efdcc66ab5b12dfbb9,chapmanb,chapmanb@50mail.com,"Provide metadata target to specify sample sex and use to refine ploidy and final reported sex chromosomes. Correctly handles mitochondrial as well as X, Y. Fixes #33",2013-11-03T17:40:53Z,chapmanb
adb713ebec2e1a00326fa79e5f5bb3e200e457b3,chapmanb,chapmanb@50mail.com,Fix typo in presentation links,2013-11-02T10:01:44Z,chapmanb
3541af9a8b8358ac4f2aa2dafcc02cfc4f35ca51,chapmanb,chapmanb@50mail.com,"Add documentation for presentations, slides and links",2013-11-02T09:59:17Z,chapmanb
cdc8a7c8ac5e855dddb8640ff9f4c3842eacd3bb,Mario Giovacchini,mario@scilifelab.se,"Merge pull request #14 from chapmanb/master

Merge from Brad upstream",2013-11-01T12:02:07Z,mariogiov
2577b5d4aeddbb54fe1cefbe660444a93bc6a9cc,Mario Giovacchini,mario.giovacchini@scilifelab.se,Recursive config file traversal to expand all shell variables,2013-11-01T11:43:17Z,mariogiov
3eff19213c5e18757032f935f6144e1366f7ef3c,chapmanb,chapmanb@50mail.com,Move species resources specification inside general  configuration. Document usage. #158,2013-11-01T09:32:28Z,chapmanb
628d5724980161cab733502d365de85db6788c17,Brad Chapman,chapmanb@50mail.com,"Merge pull request #158 from mariogiov/master

Add configurable species resources directory",2013-11-01T09:24:27Z,chapmanb
6d7d6c8461a536afaab6df92d520691cfbf440e6,Brad Chapman,chapmanb@50mail.com,Ensure flowcell and sample YAML paths entered on commandline are normalized to the absolute PATH. Avoid requirement to specify input on commandline for whole genome example,2013-10-31T20:25:03Z,chapmanb
3409e0d6e45bfda7355b5016ff55ca1e578b3a3a,chapmanb,chapmanb@50mail.com,lumpy structural variation detection with bwa-mem input on paired and split reads. Implement detection of necessary metrics and running lumpy,2013-10-31T15:38:42Z,chapmanb
287f85a4b59ba89dfb584f9cce6070aff1b68c7d,Mario Giovacchini,mario@scilifelab.se,Added configurable species resources directory,2013-10-31T14:12:58Z,mariogiov
3aff8aeaca0b1a01da95e3bdd039c5f76624c1f9,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Merge pull request #13 from chapmanb/master

Merge from Brad upstream",2013-10-31T14:08:31Z,mariogiov
64da82051748759b8cc51b16dae8374a17ced086,chapmanb,chapmanb@50mail.com,Improve wording on variant post-processing documentation,2013-10-30T15:20:17Z,chapmanb
1984f3c3c51e2b35a256d2ad4db52595932960cd,chapmanb,chapmanb@50mail.com,Reboot structural variation processing framework to handle multiple callers per sample.,2013-10-30T14:09:35Z,chapmanb
6838b1bd9d165ee8f7b7c12c87047ff18143b82b,chapmanb,chapmanb@50mail.com,Update Miniconda installer to latest version. Fixes #157,2013-10-29T23:59:41Z,chapmanb
5a3df52425da66c559160ce6adf8137e199c6a92,chapmanb,chapmanb@50mail.com,"Ensure dependencies always installed before latest development code during upgrade, even if conda install fails. Fixes #154",2013-10-29T11:57:44Z,chapmanb
b5518761217b6e9ed8631dfe913adfcaa44e66ff,chapmanb,chapmanb@50mail.com,Bump to latest ipython-cluster-helper with fix for SGE resources specification #152,2013-10-28T17:20:25Z,chapmanb
77fbef35aaa77b068206686e9b0519f474d20df6,chapmanb,chapmanb@50mail.com,"Document network IO and distributed file system benchmarking, pointing to blog posts: #153",2013-10-28T12:39:33Z,chapmanb
dee6dddf37f1f9c8e758fe068cd1326197158f35,chapmanb,chapmanb@50mail.com,Document installation procedure for isolated directories #151,2013-10-28T10:27:03Z,chapmanb
3a9b362af019065106bce78b70801b473c5d3ff5,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-10-28T10:02:30Z,chapmanb
b77f23c094b145a4d7c7f3cd94b284fb60a22b8e,chapmanb,chapmanb@50mail.com,Provide additional text in installation emphasizing usefulness of automated installer,2013-10-28T10:02:21Z,chapmanb
d876e8088fe4b042751c45be25c332f5f811f3f7,Brad Chapman,chapmanb@50mail.com,"Provide clean recovery from sambamba index errors during high load, falling back to single core samtools indexing",2013-10-28T09:14:26Z,chapmanb
773f8ec0a98441206993590c24c5329c80496ec3,chapmanb,chapmanb@50mail.com,Encapulate BAM indexing in a single function and switch to using sambamba for indexing to make use of multiple cores,2013-10-27T14:23:03Z,chapmanb
06673d1a053e3d16dd3147c48be6d5935e655541,chapmanb,chapmanb@50mail.com,Add tophat pre-computed transcriptome indexes to default genome resources files. Bump resource file versions for new retrieval. #150,2013-10-27T10:32:13Z,chapmanb
c180b0d1836ef5ddcb2a722a6b32cf033a7aca29,Brad Chapman,chapmanb@50mail.com,"Merge pull request #150 from porterjamesj/aligner-genome-resources

Have tophat get transcriptome index or GTF file from genome-resources yaml.",2013-10-27T10:03:13Z,chapmanb
17ce87857cd762bd70ed497474bdfec77cea8d78,James Porter,porterjamesj@gmail.com,Have tophat get transcriptome index or GTF file from genome-resources yaml.,2013-10-26T23:36:08Z,porterjamesj
bb7c926364996cc86e46a24848cc81d8ba57d9f6,chapmanb,chapmanb@50mail.com,Parse RNA-SeQC metrics and report as part of final project summary. Finalizes new QC and reporting structure,2013-10-26T18:45:05Z,chapmanb
35530c55827158a2ce704d47ff8d143bb8c77349,chapmanb,chapmanb@50mail.com,Include variant calling statistics in final support output leveraging gemini. Add target region information from qualimap,2013-10-26T12:46:34Z,chapmanb
535bd1d5701b23e31322403dab2df3198c1b73d9,chapmanb,chapmanb@50mail.com,Parse qualimap output HTML to provide high level summary metrics. Convert metrics file into more general YAML instead of variant specific CSV. Handle BED3 input to qualimap,2013-10-26T10:18:29Z,chapmanb
60144c6ded3fa444b6564e60b5d280b81dae8d49,chapmanb,chapmanb@50mail.com,Remove pdflatex dependence and creation of custom PDF report file.,2013-10-25T16:39:45Z,chapmanb
0b6eaafaf0e85f6dca80624705f16c3c16db174d,chapmanb,chapmanb@50mail.com,Begin removing custom QC code in favor of full QC packages + supplement programs as needed. Integrates qualimap and eliminates custom pdflatex PDF generation,2013-10-25T00:22:11Z,chapmanb
0664284b0ea69d01cb374d69e738c39c90d0e81a,chapmanb,chapmanb@50mail.com,Link to contributor information from the start of the README. #147,2013-10-23T10:11:54Z,chapmanb
6d3e66108f8fb68877378f03e07216f157dedf51,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-10-23T10:01:33Z,chapmanb
26115c6b6ff4c8ba7d30baa41e35ef72b9b1d333,chapmanb,chapmanb@50mail.com,Provide better error messages and documentation when  not saved in configuration #148,2013-10-23T10:01:24Z,chapmanb
c5ced8383397e94fb110b910c374c8e5d50580cf,roryk,rory.kirchner@gmail.com,Added read_through change.,2013-10-22T14:43:56Z,roryk
701fa52457e92b7596a7291df80d417afdf06278,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-10-22T14:38:41Z,roryk
0d680e96edad15f84b3cbc7a4dbb99759d02f813,roryk,rory.kirchner@gmail.com,Remove multiprocessing dependency from trimming.,2013-10-22T14:38:25Z,roryk
4b71f35ad5f5505870891a02013c5e202976b07c,chapmanb,chapmanb@50mail.com,Documentation on developing with bcbio-nextgen and anaconda directory #147. Bump version to next development,2013-10-22T12:41:52Z,chapmanb
2377d563fc7b74f98ab00b361d897ff0ec41a98e,roryk,rory.kirchner@gmail.com,Remove intermediate trimmed files during cutadapt.,2013-10-21T20:38:57Z,roryk
004949dbb73c232595d21d007745ad404c116166,chapmanb,chapmanb@50mail.com,Release v0.7.4,2013-10-20T18:39:24Z,chapmanb
f5196b4c50d4104e9254c42497a60d5334bf17ca,chapmanb,chapmanb@50mail.com,Provide easier mechanism to upgrade with third party tools included by using saved installation details. Avoid confusing errors with old bare  upgrade option,2013-10-20T18:25:42Z,chapmanb
62036e91ddb39f83fb48d919f278304f58da41e9,chapmanb,chapmanb@50mail.com,Add James to contributors. Thanks for degugging documentation: #145,2013-10-19T10:34:34Z,chapmanb
393b32276ba34a5b9e97034ff7bbfbffdd839857,Brad Chapman,chapmanb@50mail.com,"Merge pull request #145 from porterjamesj/patch-1

Update docs with network troubleshooting information for clusters.",2013-10-19T10:30:11Z,chapmanb
850eece2a8c970621f845c5675e8d6c1f0eeaadd,James Porter,porterjamesj@gmail.com,"Update docs with network troubleshooting information for clusters.

Hopefully help's others resolve the underlying issue in #138",2013-10-18T09:00:59Z,porterjamesj
1dd5c4596d84e5571aa946e85f12524ebf065caa,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-10-18T02:32:07Z,roryk
fc21df561eaa0067f038351f12a6365972845fdc,roryk,rory.kirchner@gmail.com,Use cutadapt with do.run for provenance tracking,2013-10-17T23:08:17Z,roryk
4e15d8ceb72d24147ee48b320cabcc1feba77b00,chapmanb,chapmanb@50mail.com,Provide more useful error message if argparse missing when running installer,2013-10-17T14:25:39Z,chapmanb
2ef75ed259c31143764b804fca434887329186e8,Brad Chapman,chapmanb@50mail.com,Updated exome method comparison script with minimal BAM preparation pipeline. Provide template with FreeBayes min-BAM prep approach,2013-10-16T16:20:36Z,chapmanb
5570eeb3bb2cb55c141ecdd8008f569927b00eda,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-10-15T10:44:36Z,chapmanb
9790629b4d2b9ee7271f99349e481dba98d26fbb,chapmanb,chapmanb@50mail.com,Handle latest gemini point release for using passonly functionality,2013-10-15T10:44:27Z,chapmanb
489b1b7e1438b46e8b60778d588de8cb7beb1641,Brad Chapman,chapmanb@50mail.com,"Merge pull request #144 from lbeltrame/simplify-varscan-calls

De-generify VarScan tumor/normal sample renaming",2013-10-15T00:44:02Z,chapmanb
4b39fc0d1ac69e407c0dfafab3c0ec700b9f624f,Luca Beltrame,luca.beltrame@marionegri.it,"De-generify VarScan tumor/normal sample renaming

This patch makes the sample renaming needed for VarScan adjustment
exclusive for paired tumor/normal calling (""VarScan somatic""). Instead,
a dictionary is used to map NORMAL and TUMOR to the right sample names.

The rationale for the change is as follows:

- This function is only used in paired mode (no breakage of other calls);
- The change removes needless samtools calls for sample names (the
  helper function called during VarScan invokation already does the job);
- Reduces the risk of BAMs provided in a different order than [normal,
  tumor] which may cause incorrect results later on.",2013-10-14T13:46:58Z,lbeltrame
771bfebcddcdf72cea2bc5ddd93c1caac4b510de,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-10-13T17:32:08Z,chapmanb
0b26ac901a577823de68e109aa30c211893511fe,chapmanb,chapmanb@50mail.com,Remove /dev/stdin workaround for bammarkduplicates since works cleanly in latest release,2013-10-13T17:32:00Z,chapmanb
8925756d29edaad28cbaf8b7da314db6c6be6bc4,chapmanb,chapmanb@50mail.com,Support biobambam's bammarkduplicates2 for streaming duplicate removal.,2013-10-13T12:48:38Z,chapmanb
c43283086db0c3c0c3edd3418010808f386f28f1,roryk,rory.kirchner@gmail.com,Better error message when a non-local IP address cannot be resolved.,2013-10-13T05:53:13Z,roryk
e59d4b169f83fcbac8d3c53d75f33a70cc7d718b,chapmanb,chapmanb@50mail.com,Avoid VCF preparation steps during ensemble calling to speed up evaluation,2013-10-12T14:53:52Z,chapmanb
46056e01b44507347ef74552093b2b9722a5b8c7,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-10-11T19:51:52Z,roryk
873b71e49aaac4ec74a2f5be00578e9c1a0f9d99,roryk,rory.kirchner@gmail.com,"Fix for empty read names with Tophat 2.0.9

Just skips them for now, it seems like a rare occurance.",2013-10-11T19:51:07Z,roryk
9eedfed009711f4da6686e141b7249cfbb6e7d13,chapmanb,chapmanb@50mail.com,Provide todo of current pipeline goals and requested features. Fixes #142,2013-10-11T19:49:16Z,chapmanb
b46edd7a0c0d2cb2ebf359175d35aa8b7265721a,chapmanb,chapmanb@50mail.com,Avoid loading filtered variants into gemini database for recent gemini versions,2013-10-11T18:35:27Z,chapmanb
f514cd683423425f8c9338f690941f16f6f056d2,chapmanb,chapmanb@50mail.com,"Provide better log messaging for expected VQSR failures, avoiding confusing tracebacks in log file. #140",2013-10-11T16:47:17Z,chapmanb
ee8adb1fc8a92dd96b5b741d2e2fc4a882538c19,chapmanb,chapmanb@50mail.com,Default log timestamps to local time instead of UTC. #140. Uses mitsuhiko/logbook#74,2013-10-11T13:54:01Z,chapmanb
e0faea84c4a612492aa7afb0b0d9915fce7cb75c,chapmanb,chapmanb@50mail.com,Only require java 1.7 for workflows with variant calling. RNA-seq workflows can use lower version.,2013-10-11T11:30:59Z,chapmanb
0153467c264f7e1f711a39afdbaf0cc697d23ebf,Brad Chapman,chapmanb@50mail.com,Provide workaround for FreeBayes output containing multiple duplicate alleles,2013-10-10T23:57:19Z,chapmanb
e76b2321b095ad4989e08b1e0092e219fdf78fcd,Brad Chapman,chapmanb@50mail.com,"Merge pull request #141 from lbeltrame/varscan-skip-unknown

Skip ""unknown"" variants when doing somatic calls with VarScan",2013-10-10T14:38:39Z,chapmanb
acf94e776911f916bd55d4ace44d8b9961c16b29,chapmanb,chapmanb@50mail.com,Documentation on pipeline processing outputs. #140,2013-10-10T14:25:22Z,chapmanb
5258799d974efbcde8612f970cea8df4be900499,Luca Beltrame,luca.beltrame@marionegri.it,"Skip ""unknown"" variants when doing somatic calls with VarScan

VarScan produces broken REF fields when processing ""Unknown"" records,
which are loci with complex rearrangements (e.g. gain in normal, loss in
tumor). Attempts to workaround the issues have just uncovered more
problems, so for now the solution is to skip these variants.

Once VarScan is fixed, the hacks will be dropped.

This handles issue #134.",2013-10-10T12:39:06Z,lbeltrame
bf86b12ca00155d057718898989f9c2de58a80db,chapmanb,chapmanb@50mail.com,Correctly name combined gemini population VCF file. Thanks to @lbeltrame. Fixes #139,2013-10-10T00:28:50Z,chapmanb
e43eba479b1f74b84d1b63233bccb154a36b9976,chapmanb,chapmanb@50mail.com,Work on speed improvements for selecting non-analyzed and no-chromosome regions from large BAM inputs files during bamprep stage,2013-10-09T20:17:26Z,chapmanb
6f1069f5831f85488d5b292e5b6b94d4f4a5f71d,chapmanb,chapmanb@50mail.com,Initial working implementation of bcbio_nextgen standalone REST server to run analysis pipelines,2013-10-09T15:40:49Z,chapmanb
d60c4db7aae6612a445621d6e01cb440e1fc45cb,chapmanb,chapmanb@50mail.com,Update main entry point to remove deprecated messaging inputs and generalize to new infrastructure. Prepare for moving into module to allow calling from REST API as well as main launch script.,2013-10-09T12:16:58Z,chapmanb
01477ad4bab227417537e4248d10e4a1338a8d6a,Brad Chapman,chapmanb@50mail.com,"Merge pull request #137 from lbeltrame/fix-varscan-output

Initial work towards fixing VarScan's VCF output",2013-10-09T10:06:45Z,chapmanb
eb5de44b25020a0dcb8243da6dbcebb2a748fe19,Brad Chapman,chapmanb@50mail.com,Include mutect and varscan in default system configuration file,2013-10-09T09:22:42Z,chapmanb
9ebf2b3620e5001a50d40a57c9dba8aec228a3ce,Luca Beltrame,luca.beltrame@marionegri.it,"Initial work towards fixing VarScan's VCF output

This covers most of the use cases, although VarScan also produces
invalid REF records (e.g. CAA/A) which aren't handled yet.

Most of the contribution is by Sean Davis, who graciously agreed to
provide it under a MIT license.

This is needed to handle issue #134.",2013-10-09T07:12:21Z,lbeltrame
fc1fb8f9ceac36214657a23f0dcba0c07973bcf6,chapmanb,chapmanb@50mail.com,"Check for Java 1.7, required for GATK and other tools in the pipeline. #117",2013-10-08T15:34:00Z,chapmanb
f19d6d7ce9437dbffbd08e373b72e2611ae619cd,chapmanb,chapmanb@50mail.com,Generalize re-writing of bcbio_system configuration file to handle directory updates. Provides cleaner integration of new directories with installer moving forward and fixes #136,2013-10-08T12:32:42Z,chapmanb
2e35c2674176016f3bda4687dc706c547779526b,chapmanb,chapmanb@50mail.com,Improve documentation on memory management to emphasize that specifications in bcbio_system.yaml are per-core. #135,2013-10-08T11:36:19Z,chapmanb
62e2dbd020e36efcd64824c352d49dc52b3daff1,chapmanb,chapmanb@50mail.com,Require most recent VarScan version. #134,2013-10-08T11:19:36Z,chapmanb
b4307821855c95d8383dd5c596492551abada5e3,chapmanb,chapmanb@50mail.com,Allow restrictions for maximum multicore usage during ipython job creation. Ensures single core parallelization when necessary,2013-10-07T09:55:07Z,chapmanb
a688ff4012d3d1e10bc1dcce00d1c258623fb29a,chapmanb,chapmanb@50mail.com,Initial framework for asynchronous web server to allow launching tasks via REST calls,2013-10-07T01:55:40Z,chapmanb
49f9c0a864c5676a3c986c767a6b415dbd5f14ad,chapmanb,chapmanb@50mail.com,Bump version of ipython-cluster-helper to avoid non-SGE bug,2013-10-03T18:34:22Z,chapmanb
bb074fd5ca2c9d9cb568fa384f105b59c002958a,chapmanb,chapmanb@50mail.com,Rework ensemble calling to handle batch level calling. Default to new ensemble infrastructure in bcbio.variation.,2013-10-03T18:26:09Z,chapmanb
97f44898f48e4e35fe9fbb2595eabb3100a0c20f,Brad Chapman,chapmanb@50mail.com,"Merge pull request #132 from lbeltrame/paired-template

Template for tumor/normal variant calling",2013-10-03T09:49:36Z,chapmanb
5ef01f1f7f676d10814d597e1efb628e6a5dc96f,chapmanb,chapmanb@50mail.com,Change specification of SGE/SLURM specific resources to use multiple arguments instead of munging together with semicolon. Avoids need to quote arguments on command line. Thanks to @mjafin,2013-10-03T09:14:35Z,chapmanb
1c807613f9b5747d85a3da1b2699c6680c5a7c34,Luca Beltrame,luca.beltrame@marionegri.it,Template for tumor/normal variant calling,2013-10-03T08:30:05Z,lbeltrame
aa23cb70e069646653cab0e0cb55ed1dc04376b2,Brad Chapman,chapmanb@50mail.com,"Merge pull request #130 from lbeltrame/doc-add-paired

Add paired tumor/normal calling to the pipeline documentation",2013-10-02T17:51:54Z,chapmanb
c037839ed77e171145c197a2d46ad0e4df4ddaad,Luca Beltrame,luca.beltrame@marionegri.it,"Add paired tumor/normal calling to the pipeline documentation

Fixes issue #108",2013-10-02T10:32:20Z,lbeltrame
6e6781e4e980fb5b9028b7157f0925ef4cc3ae06,Brad Chapman,chapmanb@50mail.com,"Merge pull request #128 from porterjamesj/patch-1

Make sure to check that a summary exists before using it",2013-10-02T09:53:24Z,chapmanb
b819aa7ad2f390c06fec4b45174f3f001ba48baf,James Porter,porterjamesj@gmail.com,"Make sure to check that a summary exists before using it

Failing to check for this caused errors when write_summary was set to false.",2013-10-02T02:20:36Z,porterjamesj
73264932558f4d3389a1a62dd63c186949aeb88d,chapmanb,chapmanb@50mail.com,Provide installation and upgrade target --isolate to avoid updating PATH. Helps enable isolated environment installs. Fixes #125,2013-10-01T19:13:58Z,chapmanb
92742cf7b0b8189ecec79bad393a30885cdb5841,chapmanb,chapmanb@50mail.com,Enable additional memory to bamtofastq transfer. Check for errors due to truncated BAM input files,2013-10-01T17:03:47Z,chapmanb
5990eee79606c7245fb421ee790c50fb0ddbd650,chapmanb,chapmanb@50mail.com,New approach for BAM to bgzipped FASTQ using biobambam to handling BAM to fastq conversion. Attempts to work around issues with streaming BAM to fastq,2013-10-01T14:58:20Z,chapmanb
bfcf3a255f529b5621f72ceccb21c0d133798b57,chapmanb,chapmanb@50mail.com,Adjust bwa mem/aln read size threshold based on latest man page recommendations,2013-10-01T00:43:57Z,chapmanb
ed71d3f11a5f54c91927d58b05fee7f1fd64b306,chapmanb,chapmanb@50mail.com,Avoid problematic psutil dependency which causes issues on CentOS #126,2013-09-30T17:36:13Z,chapmanb
b1471b80d70904e2c9e93dbdabd55f21532ff683,chapmanb,chapmanb@50mail.com,Support split alignments for novoalign mapping,2013-09-30T10:18:28Z,chapmanb
1f0318a8691a72caf5af56bd84228e924025c197,chapmanb,chapmanb@50mail.com,"Remove old fastq split code, no longer used with grabix indexing that avoids IO/disk space penalties",2013-09-29T18:56:48Z,chapmanb
52f7f1b8fedd811839181dffc37f99139d4d52e2,chapmanb,chapmanb@50mail.com,Initial implementation of BAM to bgzip/grabix fastq for parallel alignment. Needs additional work to incorporate parallel bgzip,2013-09-29T10:08:04Z,chapmanb
aeac229b66395d363305a2e0ebb64cae755d9d57,Brad Chapman,chapmanb@50mail.com,Ensure parallel setup for split alignment has maximum core usage. Use parallel blocked gzip if available,2013-09-28T10:12:46Z,chapmanb
1e2aa9f419c51eb5c0d9f2fad6fa1f8cb2f19f8d,chapmanb,chapmanb@50mail.com,Avoid file naming errors for sample descriptions with periods. Fixes #123,2013-09-27T12:40:21Z,chapmanb
47f235ed97c62a219bf1bd6371448032fd68d119,chapmanb,chapmanb@50mail.com,Finialize parallel alignment of bgzipped/grabix indexed fastq files. Only currently supported for bwa mem piped alignment. Handles mapping of regions and merging back into ready to process final BAM file,2013-09-26T23:58:11Z,chapmanb
5a6a17616b92ff08484cde44749522b289ce6c94,chapmanb,chapmanb@50mail.com,Roll back to older pyzmq until 13.1.0 packaging problems on CentOS resolved,2013-09-26T13:02:42Z,chapmanb
83bde8af1387bc2e250a9a3e3023be6ad7b4a381,chapmanb,chapmanb@50mail.com,Provide additional framework implementations for parallel alignment. Separate alignment and post processing and add hook to do post-split alignment merging,2013-09-26T13:00:32Z,chapmanb
8146c364092f0810548b7d5afff4c44644225555,Mario Giovacchini,mario@scilifelab.se,Merge branch 'mutect_version_check',2013-09-26T09:52:04Z,mariogiov
773a6f1a89bcec491d3065e120425341e662d2c4,Brad Chapman,chapmanb@50mail.com,"Merge pull request #121 from mariogiov/jar_versioner_info

Jar versioner info",2013-09-26T09:36:45Z,chapmanb
f2e13384868cef78e92f73b292e872aaa6d36dfd,Brad Chapman,chapmanb@50mail.com,"Merge pull request #120 from mariogiov/mutect_version_check

Mutect version check",2013-09-26T09:35:57Z,chapmanb
0bdae982d08bac5b1712f201f35c91f56a4c1993,Mario Giovacchini,mario@scilifelab.se,Issue warning but do not exit when muTect version is empty,2013-09-26T08:50:38Z,mariogiov
ce8f511d138e31eb13052d5364ea8792e20199a4,Mario Giovacchini,mario@scilifelab.se,Better info for when jar_versioner can't determine version,2013-09-26T08:46:46Z,mariogiov
7cc00317b8cd13d555e755b517fc43153aa497c1,chapmanb,chapmanb@50mail.com,Provide checks for unexpectedly small alignment outputs which appear to occur due to silent errors in samtools sorting,2013-09-25T10:08:48Z,chapmanb
9be10840473a33182651c34e8104d9ccc949adf3,chapmanb,chapmanb@50mail.com,Avoid expanding paths for algorithm variables that can match local work directories. Thanks to @brentp for report.,2013-09-25T09:26:00Z,chapmanb
2de43e0e5f6cc62f3f328de08ef3a66f349378ea,chapmanb,chapmanb@50mail.com,Fixes for new functionality to skip local checkpoints on global. Do not spin up initial cluster when align_split_size used since will be a non-immediate operation,2013-09-24T19:16:07Z,chapmanb
c144285a9616caacc547f3783b8b7fc31445bb1c,chapmanb,chapmanb@50mail.com,IPython parallelization improvements: handle ZeroMQ logging interrupts and avoid using local checkpoints when global IPython enabled,2013-09-24T18:29:17Z,chapmanb
f8fd3eae35a5c26d2f58fb7d36033505fa89cb57,chapmanb,chapmanb@50mail.com,Generalize checking for bowtie references to avoid failing when non-bowtie files like FASTA references are present. Fixes #115,2013-09-24T16:44:25Z,chapmanb
7cd3a4c9a2e75b0b60da4d4d24782b1606f39ebd,chapmanb,chapmanb@50mail.com,Documentation for setting SGE parallel environment to use through resources flag,2013-09-24T16:15:51Z,chapmanb
27cb7ce23fa36d882968c43f2ce8775256bcf18a,chapmanb,chapmanb@50mail.com,Improve python dependency installation: use latest pyzmq from binstar. Avoid duplication of dependencies by reading from requirements.txt in setup.py,2013-09-24T11:29:37Z,chapmanb
6e213acdc1ed313124e0bceb23b3c98ea515d1b0,Brad Chapman,chapmanb@50mail.com,Avoid overwriting sudo argument from defaults when specified on command line,2013-09-23T13:15:43Z,chapmanb
22ebed23c1c6ecc9694ed54678d6e5354933dd55,chapmanb,chapmanb@50mail.com,Facilities to pre-index FASTQ input files witn bgzip and grabix. Initial steps towards parallelizing alignment over machines as well as nodes.,2013-09-23T11:50:23Z,chapmanb
20ce89f34e42442367ace9c1b913a503aff53bad,chapmanb,chapmanb@50mail.com,"Add new mm10 resource file with pointers to dbSNP resources, matching updated CloudBioLinux data. Bump mm10 resource version",2013-09-23T01:14:49Z,chapmanb
99f63d967ad7caffd4bdf1002e28c10b696a2864,chapmanb,chapmanb@50mail.com,"Add initial check for pdflatex, required for report generation. Fixes #114",2013-09-23T01:04:11Z,chapmanb
0468a6ed82fac0141181c1e9f62c876f83c43f00,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Merge pull request #12 from chapmanb/master

Merge final version 0.7.3 from Brad upstream",2013-09-22T11:19:09Z,mariogiov
6528218ffed408612833e045654fc89cae615318,chapmanb,chapmanb@50mail.com,Release v0.7.3,2013-09-22T11:14:49Z,chapmanb
633eaee710afb92775ed34d342dad73f0151ebaa,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-09-20T18:37:47Z,chapmanb
7c9f2842aa24f3d7d49dc30c56d63be90f03504c,chapmanb,chapmanb@50mail.com,Avoid update errors for existing installations with pre-existing install config YAMLs,2013-09-20T18:36:44Z,chapmanb
b7b0e28a214501ff075aa3b25144e24cd6ea60f9,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-09-20T18:21:02Z,roryk
8529e27ebc871876d972adab69c96fdb93289fdf,roryk,rory.kirchner@gmail.com,"Make tophat look in rnaseq/tophat for the index files.

Also look for an index ending with _transcriptome.",2013-09-20T18:20:23Z,roryk
f0aab8191d0fa421486354c5b60821264cffd50d,roryk,rory.kirchner@gmail.com,"Sort the pairs output files before giving them back.

Some of the downstream tools expect paired FASTQ files to be
in order.",2013-09-20T18:15:36Z,roryk
ba170ca42086f2dca7a5a912763fd35e99724bee,chapmanb,chapmanb@50mail.com,Streamline VM creation process on VirtualBox,2013-09-20T13:35:05Z,chapmanb
0a55dd1990e2c9eb4417eec4ad5dc8c2320e58e5,Brad Chapman,chapmanb@50mail.com,Avoid OS errors due to too long argument lists for samtools merging: create shortened symlinked files to real files and pass those on commandline. Thanks to @brentp for report,2013-09-19T23:24:21Z,chapmanb
173e78136f2c2a0bd5b3de3df819549f9d506a29,chapmanb,chapmanb@50mail.com,Ensure ensemble variant calls get snpEff annotations for feeding into gemini database,2013-09-19T15:36:15Z,chapmanb
0cfbeac3a6d95ca4ee93b3d564a90f48f30b1bf4,chapmanb,chapmanb@50mail.com,"Avoid using python environmental variables when running bcbio_nextgen.py, avoiding issues where PYTHONHOME or PYTHONPATH point to other library locations",2013-09-19T13:59:00Z,chapmanb
1b1bec1bd499f63ad21bbf3257b528a6d0a884b1,chapmanb,chapmanb@50mail.com,Provide installation and upgrade options that enable commerical and data-intensive tools. Fixes #111,2013-09-19T09:36:31Z,chapmanb
8c946188754a61c7b7ca3b5bc232d48d7416ae63,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-09-18T18:37:14Z,chapmanb
009fa9562df400a565b65e1ffaa328b91b24fcb6,chapmanb,chapmanb@50mail.com,Improve persistence of parameters passed on bcbio_nextgen install and upgrades to facilitate more cusomtized installations,2013-09-18T18:37:01Z,chapmanb
7d00c1a36df11d31dca7c3315b4bd1838f3e2090,Rory Kirchner,rory.kirchner@gmail.com,Update mm10-resources.yaml,2013-09-18T18:26:52Z,roryk
5fac59d209c5254e2d9cecee7023138c3368c5df,roryk,rory.kirchner@gmail.com,Added note about default quality encoding for Tophat.,2013-09-17T20:29:33Z,roryk
b6a89124edfe73a5695560adb683140f9a5248a9,roryk,rory.kirchner@gmail.com,Default to solexa-quals if no quality format is provided.,2013-09-17T20:28:13Z,roryk
415dd541a28f0fbd8262c895db59ae9ea5f876b3,chapmanb,chapmanb@50mail.com,Move checks for GATK VariantRecalibrator specific files to immediately before use. Enables standard hard-filtering of non-human organisms during variant calling,2013-09-17T16:47:11Z,chapmanb
0cce7ffa779fda20e030f3d7fa7eaea18fc2a954,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Merge pull request #11 from chapmanb/master

Support for TopHat 2.0.9: handle extra paired end output with single-mat...",2013-09-17T08:30:13Z,mariogiov
449d4d6f377b589b277291be561e48d5944e6f02,chapmanb,chapmanb@50mail.com,Support for TopHat 2.0.9: handle extra paired end output with single-mate matching secondary results. Filter these prior to continuing the pipeline. Thanks to @mariogiov for report,2013-09-17T00:48:11Z,chapmanb
aa400c451d9ff896cf2f8e79e2e9a3aa0890558a,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Merge pull request #10 from chapmanb/master

Merge from Brad upstream",2013-09-16T07:31:27Z,mariogiov
ab6ffb99f9e33fb059f44682859c5eda221ebe70,chapmanb,chapmanb@50mail.com,Improve speed in checking bamprep samples during re-runs with many regions,2013-09-16T00:08:11Z,chapmanb
d06f455b0170a2da044dbd2963c62ddb6a17903c,roryk,rory.kirchner@gmail.com,Added rnaseqc to the default system configuration.,2013-09-15T22:00:35Z,roryk
41b78eb4ab16536565fffd3157b1c1fd6a1f349a,chapmanb,chapmanb@50mail.com,Move essential version check to initial pipeline startup to catch older versions earlier. Identifies samtools version errors before problems during alignment or BAM merging,2013-09-13T18:29:59Z,chapmanb
54fc3885f0729597a1ac5f309e136e0244d79ffa,chapmanb,chapmanb@50mail.com,Capture version information on third party software and libraries used during RNA-seq pipeline,2013-09-13T16:40:58Z,chapmanb
2db67743f3217d99fe85824c9ddd3fa9f31d3ae0,chapmanb,chapmanb@50mail.com,Update tarball for test genomes to include refFlat version of transcripts. Fixes #107,2013-09-13T15:53:09Z,chapmanb
142b8455fb62c6c55d68075d1774aa4f782792f2,chapmanb,chapmanb@50mail.com,"Automatically write bcbio-nextgen version during install, including git revision if a development version. Report version and hash in provenance/programs for full tracking to exact revisions. Fixes #39",2013-09-13T14:51:18Z,chapmanb
e39b237daac4d5948fcdebac9dbe92f56c79fade,chapmanb,chapmanb@50mail.com,"Switch to samtools cat for BAM merging, working around issues with bamtools requirement for open file handles",2013-09-13T12:40:28Z,chapmanb
4ebb91b6e65f48f14ead3a560ce4fc4c9a81e128,chapmanb,chapmanb@50mail.com,Ensure mutect version always returned when cached (#104). Add Mario to contributors,2013-09-13T11:17:57Z,chapmanb
e69a32fc716a427c329a6b126b8e0bcfd44a7823,Brad Chapman,chapmanb@50mail.com,"Merge pull request #104 from lbeltrame/mutect-version-fix

Ensure only MuTect 1.1.5+ is used when doing tumor analysis",2013-09-13T11:15:56Z,chapmanb
850b311c9b3c01e28d57e16c09b9ce41767f11c3,Brad Chapman,chapmanb@50mail.com,"Merge pull request #106 from mariogiov/master

Bugfix for bowtie2 call in bcbio.pipeline.alignment",2013-09-13T11:12:21Z,chapmanb
c420bacba771306a1422719e1725803e07ce356e,Mario Giovacchini,mario@scilifelab.se,Merge from upstream; includes bcbio.pipline.alignment bugfix,2013-09-13T07:50:29Z,mariogiov
df4fd986c60a91970161bb3b21b8005db445d67e,Mario Giovacchini,mario@scilifelab.se,fixed positional argument passing bug,2013-09-13T07:45:06Z,mariogiov
b8825f0700f395c66e1ef46f7893d2417c3b3659,Luca Beltrame,luca.beltrame@marionegri.it,Use LooseVersion from distutils to ensure a better version check,2013-09-13T07:26:45Z,lbeltrame
e0e974347e1a0ed3ab35d316c8873ff28ad28fe3,Luca Beltrame,luca.beltrame@marionegri.it,Only use cached MuTect version,2013-09-13T07:26:18Z,lbeltrame
b51c749c0024bc2e39094eb342dfc5d3f25431a4,Mario Giovacchini,mario@scilifelab.se,fixed positional argument passing bug (affected at least bowtie2 calls),2013-09-12T15:33:49Z,mariogiov
5cd72fee67077a1b354f8badc8f584ba685ff86e,Luca Beltrame,luca.beltrame@marionegri.it,"Remove hack for MuTect errors, not needed anymore with 1.1.5",2013-09-12T14:22:52Z,lbeltrame
34e3ed1c255c3f7f0a7b31fe58aa81676661992f,Luca Beltrame,luca.beltrame@marionegri.it,Ensure that only MuTect 1.1.5 or higher is allowed to run,2013-09-12T14:21:36Z,lbeltrame
d829b96eaaef4200c94df51fcb8e5642adb8bc90,Luca Beltrame,luca.beltrame@marionegri.it,"Provide a way to check MuTect's version. However due to an issue,
it reports the GATK version it is based on instead: until this is
fixed, we use a hack knowing that 1.1.4 is based on GATK 2.2 and
1.1.5 on GATK 2.7.",2013-09-12T14:20:30Z,lbeltrame
544a2eb36b4d9a7594ce0f477878b58996c335fa,chapmanb,chapmanb@50mail.com,Fixes for single end RNA-seq analysis. Thanks to Shannan Ho Sui,2013-09-12T14:06:37Z,chapmanb
9a75cbdabef9da7d6875cee90929bc7c3c9a9f41,chapmanb,chapmanb@50mail.com,Handle checking for VQSR when not doing variant calling,2013-09-12T09:35:32Z,chapmanb
365abafd52a0d267f6e948dca9f674e974233076,chapmanb,chapmanb@50mail.com,Ensure QC runs after BAM merging so full files available for summary reports. Thanks to Zhengqiu Cai,2013-09-11T14:32:09Z,chapmanb
eb14edcc1437227c9cb3f7bf332b21c1b13e7358,chapmanb,chapmanb@50mail.com,Ensure picard memory options used over gatk if present in resources. Continue to default to GATK if not specified,2013-09-11T14:09:11Z,chapmanb
6eec680be33cb34bd35b28a3b9bb88dd635c9fd2,chapmanb,chapmanb@50mail.com,Use bash shell and pipefail for piped commands to provide better detection of errors during alignment steps. #103,2013-09-11T10:12:54Z,chapmanb
25a463b72b7a9e4b553efe71198fdbc5b4013ef2,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-09-10T17:04:15Z,chapmanb
e4387000a411ef28410adbcb8b0ba6b49575dc40,chapmanb,chapmanb@50mail.com,Update Miniconda download to latest released version. Fixes #100,2013-09-10T17:04:07Z,chapmanb
6bb34c8358bb4e85e392b284931ca549d881fd5d,Brad Chapman,chapmanb@50mail.com,"Merge pull request #101 from mariogiov/master

Expand shell variables into paths in config_utils.py",2013-09-10T14:03:00Z,chapmanb
b7d552e467e9364fafb4fa6e1a7e28f3074d69db,chapmanb,chapmanb@50mail.com,"Custom filtering of FreeBayes with bcbio.variation, falling back on standard hard filters",2013-09-10T13:32:47Z,chapmanb
23fbde1978b5bb4439106cdd3f67981a602bc572,Mario Giovacchini,mario@scilifelab.se,Changed pipeline/config_utils.py to expand shell variables into paths (specifically for snpEff),2013-09-10T12:06:42Z,mariogiov
e807ffb5abe8de1ee8620d1d0bb00b6abc6e9923,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Merge pull request #8 from chapmanb/master

Merge from Brad upstream",2013-09-10T11:35:51Z,mariogiov
1b63ef6c1c3c690aac51d50cd59f77b9c11c75ea,Brad Chapman,chapmanb@50mail.com,"Merge pull request #99 from mariogiov/fix_test_pipeline

Fix bug in test_pipeline.py relating to change in programs._get_versions...",2013-09-10T10:03:38Z,chapmanb
d9e457e33a643d612b668b80ff5b75c45717d09a,Mario Giovacchini,mario.giovacchini@scilifelab.se,"Merge pull request #7 from mariogiov/fix_test_pipeline

Fix bug in test_pipeline.py relating to change in programs._get_versions...",2013-09-10T09:36:21Z,mariogiov
f3f2e1b8153e56642863e8c3ce35dec8fc978c02,Mario Giovacchini,mario@scilifelab.se,Fix bug in test_pipeline.py relating to change in programs._get_versions() name,2013-09-10T08:37:03Z,mariogiov
523a4a9a8bea1695334959fb52f5acd25c619583,chapmanb,chapmanb@50mail.com,Merge,2013-09-09T17:23:57Z,chapmanb
91cec5fed21af0d68c22330bacea0c69bc0d1007,chapmanb,chapmanb@50mail.com,Provide hard filtering for indels when initial VQSR fails only on indels,2013-09-09T16:58:05Z,chapmanb
ecc330ce2304b905ceb5ee75c067d89b387bf2b4,chapmanb,chapmanb@50mail.com,Force US_en LANG for VarScan runs to avoid any locale specific errors in VCF output. #97,2013-09-06T14:27:49Z,chapmanb
ea7f6c28b9394d032eb09c6224eddecb4e183c96,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-09-06T13:41:36Z,chapmanb
45233b22a12b0f2e0ae935525b2cae3fa54ae531,chapmanb,chapmanb@50mail.com,Clean up testing of cancer tumor/normal pairs for new varscan support #68. Improve handling of edge cases with empty call files.,2013-09-06T13:41:27Z,chapmanb
bb7fd4168a11533986c5c49652a1571715c97ba7,Brad Chapman,chapmanb@50mail.com,Increase default value for numBadVariants for VQSR of indels. Needed in 2.7 versions even for whole genome analyses,2013-09-06T10:39:03Z,chapmanb
3f0ebb460535abfb5a219ab82e1685999df3bd2d,Brad Chapman,chapmanb@50mail.com,"Merge pull request #68 from lbeltrame/varscan-paired

Initial support for paired variant calling using VarScan",2013-09-06T01:11:04Z,chapmanb
d9352e866c443156a6edbb95336c2c460338ac6e,Luca Beltrame,luca.beltrame@marionegri.it,Add sample definitions for a VarScan run,2013-09-05T14:57:45Z,lbeltrame
8456861fb97b47f2f2446d34995242521c090403,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into varscan-paired,2013-09-05T13:31:23Z,lbeltrame
3555f42940a98eb672cc1c545cf75ed17a3b14e0,Brad Chapman,chapmanb@50mail.com,Bug fixes for typo in VariantRecalibration and incorrect normalization in algorithm variantcaller parameter. Speed up for re-starts by avoiding initial version detection for GATK/Picard,2013-09-05T10:10:29Z,chapmanb
c4a3274a6d2df4add1eaae7edaca3b74140c0aac,chapmanb,chapmanb@50mail.com,Clean ups on exome example documentation,2013-09-05T09:45:51Z,chapmanb
fe0533b37f711baf2fa36bf56513f4a742b435c1,Brad Chapman,chapmanb@50mail.com,Include automated validation of ensemble calls as part of standard NA12878 validation workflow.,2013-09-05T09:16:46Z,chapmanb
02379b719187894cf7cf441d0e857859a0b4b6d2,chapmanb,chapmanb@50mail.com,Avoid scaling down jobs by total items until memory requirements applied. Prevents underscheduling of jobs with higher memory requirements,2013-09-04T17:33:16Z,chapmanb
d797e381571c409c57be1780fbf58f6435e4e35b,chapmanb,chapmanb@50mail.com,Reorder validation step to work with multiple variant callers,2013-09-04T13:48:40Z,chapmanb
91b0a3616a03c2ed32865b7927e63e45c03d4d55,chapmanb,chapmanb@50mail.com,Provide larger memory values for retrieving versions in GATK/Picard since that is now a one time operation. Try to avoid issues on MacOSX #98,2013-09-04T10:18:42Z,chapmanb
41d27922203c31eba88ef60078b5eb0adfc39576,Brad Chapman,chapmanb@50mail.com,Enforce indexing following alignment to avoid multiple index runs at subsequent parallelized steps,2013-09-04T09:36:09Z,chapmanb
a341f318e132396242ba024b44f515e00c5dccb3,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-09-04T09:26:35Z,chapmanb
a2607f8e9818bd5caf2cb9a132193dcc9050aab6,chapmanb,chapmanb@50mail.com,Bump ipython-cluster-helper version to get fixes for Torque and PBS memory usage,2013-09-04T09:45:44Z,chapmanb
a6358dc9200885e128745440341eb56a469e4b94,Brad Chapman,chapmanb@50mail.com,"Update exome multi-caller analysis with latest NA12878 reference materials. Provide better configuration file that runs out of the box with instructions, including allowing relative paths in input YAML.",2013-09-04T08:54:12Z,chapmanb
a145811ca46ac9b4a9e09c7d5a49289b7172da1d,chapmanb,chapmanb@50mail.com,Improve version retrieval process for GATK: use initial cached versions instead of running command line version check. Requires a single re-run of versions on restarts but avoids intermittent errors with java -jar style version retrieval,2013-09-02T18:06:55Z,chapmanb
094aba07d61ef24ebf84cf73443b7920a093ad26,Luca Beltrame,luca.beltrame@marionegri.it,Make the call nested again (doesn't work otherwise),2013-09-02T16:06:18Z,lbeltrame
d47c1df0693492421f07f27dff4bc171c3ae81b5,Luca Beltrame,luca.beltrame@marionegri.it,"Fix imports, add shutil as it's required",2013-09-02T16:02:25Z,lbeltrame
a37805945ecde260c7769419b734de94590eb3f9,Luca Beltrame,luca.beltrame@marionegri.it,Attempt at fixing the sample name issues in VarScan,2013-09-02T15:56:00Z,lbeltrame
16e50c1ffc45f109cf6a845ec9fe89c646cb5e99,chapmanb,chapmanb@50mail.com,Retrieve sample description from input BAM file if not specific in configuration YAML. Move normalization and absolute path generation of input files into configuration file parser. Thanks to @tanglingfung,2013-09-02T13:34:18Z,chapmanb
ab9c1a4dc07a71d65efa6ea0805d695fd673dfcc,chapmanb,chapmanb@50mail.com,Document new genome resource files and update details about handling these in the code,2013-09-02T11:34:33Z,chapmanb
2d7ecb2e77b6a135173e902585d65f1a16634cf3,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into varscan-paired,2013-09-02T07:54:21Z,lbeltrame
204266fea52323311e67403daca6ac6858372719,chapmanb,chapmanb@50mail.com,Automate installation of organism specific resource files through updater/installer. Include resources files for supported organisms and builds.,2013-09-01T10:12:53Z,chapmanb
8c6a685817c50cd54ef0697edde3ea5e22f6e858,chapmanb,chapmanb@50mail.com,Remove hardcoding of mappings from genome builds to Ensembl and snpEff genome names. Use values defined in genome specific resources files. Enables support for custom genomes and more organisms,2013-09-01T09:43:47Z,chapmanb
a824ea75aed51e7652c09c84fdb5109ffd123ad9,chapmanb,chapmanb@50mail.com,Move specification of variation and trascript resources into an organism specific resources file. Enables support for additional organisms and genome builds,2013-08-31T18:54:11Z,chapmanb
6400e0d50e612608007837e64ef0b65f862cad62,chapmanb,chapmanb@50mail.com,"Centralize retrieval of genome build alignment and reference files to a single location in code, populating data dictionary. Move parsing of genome configuration inputs to a separate namespace",2013-08-31T15:26:14Z,chapmanb
be2544c036213fa8532c06ee9fcf0dc91b36f00a,chapmanb,chapmanb@50mail.com,Provide useful error messages when merging and number of files exceeds system ulimit. Fixes #96,2013-08-30T17:08:58Z,chapmanb
c9963c539275d61a8c70ab2ab80179e2c71d75fa,chapmanb,chapmanb@50mail.com,Release v0.7.2,2013-08-30T15:18:02Z,chapmanb
5cd73aedad3fd60bb96d51d070a0e8fb044dc425,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-08-30T13:53:17Z,chapmanb
63f1880f5cb00845b8cf9b9de85a7b1a06882b95,chapmanb,chapmanb@50mail.com,Add documentation on new memory management framework and relationship with job scheduling,2013-08-30T14:11:10Z,chapmanb
66431251933f1a7918f748378237eb1bc180b3b0,Brad Chapman,chapmanb@50mail.com,"Improve memory usage for samtools during bwa alignment steps. Avoid over-scheduling memory by sharing between sort in, bwa, and sort out steps",2013-08-30T13:53:03Z,chapmanb
36fa65fdc72f8605ce72f333ac574addbdca4fdb,Brad Chapman,chapmanb@50mail.com,Ensure coverage calculations occur within transaction and avoid re-running if present,2013-08-30T09:58:03Z,chapmanb
62ff7c5539d5707fc350bb84268bab8c24bb2a4d,chapmanb,chapmanb@50mail.com,Check input BAM files not undergoing alignment to ensure they match the reference genome. Provide useful error report of mismatch or extra chromosomes. #94,2013-08-29T23:50:53Z,chapmanb
454f549620e946213b0828e5c01763e3ca4a3c48,chapmanb,chapmanb@50mail.com,Remove confusing unused parameters from bcbio_system.yaml in continued work to clean up configuration. #94,2013-08-29T17:15:08Z,chapmanb
70d9299d43d7fc80b287cb13537a42aef759ab4a,chapmanb,chapmanb@50mail.com,"Provide better exposure of program resources to top level cluster creation: expose GATK, snpEff and ensure considered",2013-08-29T15:52:01Z,chapmanb
2e4891fb206ed1a66cd11b393a16d32206d84e61,chapmanb,chapmanb@50mail.com,"Enable specific memory parameters for GATK VQSR, which demands extra memory. Pass requirements to top level resource management",2013-08-29T15:39:11Z,chapmanb
04ea0c2fff5c0e94cce5530b3020c5b3816e2cd1,Brad Chapman,chapmanb@50mail.com,Avoid maxing out system memory with multicore processes by placing buffer. Update VQSR parameters for latest gatk-haplotype recommendations,2013-08-29T14:24:38Z,chapmanb
44901efa582362fc6e78681bac8ca2e03e9ca87a,chapmanb,chapmanb@50mail.com,Update VQSR suggested parameters for latest version of GATK. Avoid HaplotypeScore for GATK-Haplotype recalibration since that is used internally in the caller instead of exposed in the VCF,2013-08-29T10:00:54Z,chapmanb
b151036741beba35d2aa880c5577444d8a52f046,chapmanb,chapmanb@50mail.com,Improvements to installation and upgrade: use anaconda package for IPython installation and drop dev requirements. Correctly identify and remove broken symlinks to main executable,2013-08-28T18:19:55Z,chapmanb
ff61e72ca35e4f749717c15e831d64a8aa573ba4,chapmanb,chapmanb@50mail.com,Identify and report problematic BED file inputs where chromosome names do not match the reference. Fixes #94,2013-08-28T17:45:45Z,chapmanb
fa5c1615732fdd4470307ea020ee35d287f7da74,chapmanb,chapmanb@50mail.com,Ensure pybedtools and other utilities that generate temporary files from python use a local temporary directory. Fixes #94,2013-08-28T15:56:39Z,chapmanb
d6088bdf621e5b883cecedb65fc24380d5239a36,chapmanb,chapmanb@50mail.com,Move annotation of variant files to individual called regions to avoid bottleneck on full VCF file.,2013-08-28T10:37:23Z,chapmanb
b7cfa7d8789cd209a8d50084eb94c60ebb435366,chapmanb,chapmanb@50mail.com,Move annotation of variant files to individual called regions to avoid bottleneck on full VCF file.,2013-08-28T10:36:13Z,chapmanb
18bc4ef1b94b23d7dd9f9cb5722146ca73f233ea,roryk,rory.kirchner@gmail.com,"Force coverage-search to off for Tophat alignment.

This step takes forever and only applies to short reads (< 45 bp)
which are not seen much anymore.",2013-08-27T16:17:20Z,roryk
4aa577e1dc4a5d35a07ae73ac08682eb4bb41640,roryk,rory.kirchner@gmail.com,"Template can take wildcards and directories.

wildcards are expanded and directories are expanded by finding
all files in the directory. the error message for unsupported
filetypes has been removed.",2013-08-27T15:43:49Z,roryk
ed8e37904cfe27b7722bbef9e5275bff0a694831,roryk,rory.kirchner@gmail.com,Added partition.,2013-08-27T15:43:49Z,roryk
b032bab9af89aff6a5584c151a6df5aaf4314288,chapmanb,chapmanb@50mail.com,"Fix for incorrect Type=Int, tags in latest FreeBayes which GATK will not handle as invalid VCF",2013-08-27T10:15:11Z,chapmanb
0af2367019b78cb4ba84d30b378b49af7973610d,roryk,rory.kirchner@gmail.com,"Retain some alignment attributes during merge.

Picard drops the reserveed alignment attributes from
some of the aligners unless you tell it to keep
the attributes. In particular, dropping XS causes
Cufflinks to complain. This saves all of the
attributes set by Tophat, which may not be optimal.",2013-08-26T22:44:10Z,roryk
4029a4a33182b588270d663f7b49bbae2bf41ef0,roryk,rory.kirchner@gmail.com,Fixing passing the names attribute to the aligners.,2013-08-26T22:43:42Z,roryk
0ff8c8864b71fb7cfb7d5b2d90fd97b7fc00bcbe,chapmanb,chapmanb@50mail.com,Disable call background usage in FreeBayes which needs additional testing,2013-08-26T19:01:37Z,chapmanb
c5efdcd26ec99473dd7a8a43d70c58c806c9cf6d,chapmanb,chapmanb@50mail.com,"Clean up FreeBayes, samtools and realignment steps to feed through standard provenance tracking",2013-08-26T15:22:35Z,chapmanb
7e97d10752f12852b79b80825d1d98b96e695712,Rory Kirchner,rory.kirchner@gmail.com,Added Kevin Ying to the contributors list.,2013-08-26T13:37:49Z,roryk
86fa32bec4ad1581e1499d84e71dcbcae88b6177,Rory Kirchner,rory.kirchner@gmail.com,"Merge pull request #93 from kevyin/patch-1

Fix bed2interval from 0-base bed to 1-base interval",2013-08-26T13:34:45Z,roryk
6110be77937ef2fdcf5220f6820a78f993496714,Kevin Ying,ying.kev@gmail.com,"Fix bed2interval from 0-base bed to 1-base interval

From the Picard javadoc:
http://picard.sourceforge.net/javadoc/net/sf/picard/util/IntervalList.html

Interval files are 1-based whereas BED files are 0-based",2013-08-26T08:47:20Z,kevyin
c75af1f6a73dbacb3f92cbc42fd7e5c80291ce65,roryk,rory.kirchner@gmail.com,"Drop looking for the deprecated ""info"" field.",2013-08-25T17:25:27Z,roryk
2df000465c639b9ac8d02aa7b643b87c83dea80d,chapmanb,chapmanb@50mail.com,Provide explicit minimal/standard pipeline that does alignment and QC,2013-08-24T17:19:57Z,chapmanb
0c3ddcb7c7c77b6a4d68cd66447eccac782b5d40,chapmanb,chapmanb@50mail.com,Improve logic for removing data directory from install options before calling upgrade. Thanks to David McWilliams,2013-08-24T11:13:28Z,chapmanb
38e007c39c538c963c795f2743705e6389ed78cc,chapmanb,chapmanb@50mail.com,"Let picard determine quality format, removing hack code that guesses from platform. Generalize naming to FastqToSam to use new data structures. Fixes #92",2013-08-23T11:54:43Z,chapmanb
70a3a98ea08217dc3083e5032b0eb4aa972a434c,chapmanb,chapmanb@50mail.com,"Avoid bare calls to samtools when checking version, instead pulling paths from resources. Fixes #91",2013-08-23T11:14:43Z,chapmanb
f7bbc224e2bbf6be641ed0fea63d38255ced8dc6,chapmanb,chapmanb@50mail.com,Avoid scaling cores or jobs when system information not found. Allows initial bootstrapping on ipython systems. Thanks to @brentp,2013-08-23T00:12:55Z,chapmanb
a872c8db062196716b8f7abd44cbf84abec71afa,Rory Kirchner,rory.kirchner@gmail.com,Update bootstrap path.,2013-08-22T21:54:19Z,roryk
a8c857f7ffc129800478a652c8a1a71430c7cf9e,Rory Kirchner,rory.kirchner@gmail.com,Actually fixed the raw paths.,2013-08-22T21:22:00Z,roryk
9372bde0b4e300f071f7081cfc2b31a518581dbb,Rory Kirchner,rory.kirchner@gmail.com,Fixed paths to raw files.,2013-08-22T21:18:48Z,roryk
173cf17da5863f9924d825b7f0faba656a26fd5d,Rory Kirchner,rory.kirchner@gmail.com,Remove comments added during testing.,2013-08-22T21:07:59Z,roryk
538551ef6a12cce3ce5b4e800b1df00e34e306d5,Rory Kirchner,rory.kirchner@gmail.com,Make OSX title smaller.,2013-08-22T21:06:47Z,roryk
8005307348f5e3aa48d22fe4f501907b390e15ff,roryk,rory.kirchner@gmail.com,Added OSX-specific Vagrant install instructions.,2013-08-22T21:04:49Z,roryk
fb62ac5ba5456fc5377b020c9493460c3dd06c0c,Brad Chapman,chapmanb@50mail.com,Enable scaling of GATK HaplotypeCaller runs with increased memory usage using adjustments in resources. Scale jobs for single-core submissions to avoid overscheduling due to memory,2013-08-22T18:36:14Z,chapmanb
ea97301f8c250485101e53199506443a4ec838d8,Brad Chapman,chapmanb@50mail.com,Pass predicted job memory requirements to cluster schedulers. Use available cores and memory to ensure submitted jobs fall within available resources and scale core requres to work with memory intensive jobs,2013-08-22T16:08:00Z,chapmanb
72033a2a5424c66a6746a4ba7e5ef71c9acb418b,Brad Chapman,chapmanb@50mail.com,Detect core and memory availability on multicore and ipython parallel runs. First step in providing general resource planning for memory intensive jobs,2013-08-22T09:30:24Z,chapmanb
f86c20e7d904049b7e96eed302eedc239b0f2497,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-08-21T15:23:08Z,chapmanb
c5a6dcf84c84e1aa582a4c0c9a3505dad2a3c358,chapmanb,chapmanb@50mail.com,Test for failed anaconda installs and recover with reinstallation,2013-08-21T15:22:59Z,chapmanb
45068dc0abe3afac416764bbc3242d73ff156608,roryk,rory.kirchner@gmail.com,"Remove calling htseq via the command line.

Added the count script from Simon to the
count script instead to prevent being able to not find
the htseq-count command.",2013-08-21T14:39:09Z,roryk
94d71ac414ab19c55b02c6f8b548934b81fb58e8,chapmanb,chapmanb@50mail.com,Update installation script to recognize Mac OSX systems,2013-08-20T18:26:19Z,chapmanb
99ab9417db0a6364524b6d058101ff829bbd990b,chapmanb,chapmanb@50mail.com,"Additional error checking of input YAML configuration file: identify incorrect algorithm arguments, aligner and variantcaller inputs",2013-08-20T10:24:55Z,chapmanb
c47a9448cad289c75fcb0151f3bcd226c7699cb2,chapmanb,chapmanb@50mail.com,Avoid creating gemini databases twice. Ugh,2013-08-19T13:02:45Z,chapmanb
df3df084deeae6909be1c11bf55b0e5f3c0e2a29,chapmanb,chapmanb@50mail.com,Provide SOLiD specific options during GATK recalibration: fixes #89,2013-08-19T11:32:25Z,chapmanb
21d841e623872b6a8bac074e0945e556ff1b021c,Brad Chapman,chapmanb@50mail.com,"Fixes for memory usage: samtools memory is per-thread, not global. Avoid decreasing memory usage throughout due to callability adjustment",2013-08-19T10:35:27Z,chapmanb
429771ee309497b4cb6331e4fec5a257bff51b0f,chapmanb,chapmanb@50mail.com,Provide multicore implementations of BAM merging and gemini database preparation. Targets current bottlenecks for full analysis pipeline,2013-08-18T19:00:07Z,chapmanb
6f5870b49b26f97f1681e74f55ffd43d3b9ccd96,chapmanb,chapmanb@50mail.com,Remove requirement for fc_name and fc_date in configuration YAML: can now use only sample description as the unique identifier for intermediate file naming,2013-08-18T10:37:01Z,chapmanb
9ef76b20c773a817e85e0185c9c9ad5f406869af,chapmanb,chapmanb@50mail.com,Rework of processing internals to use consistent dictionary structure throughout. Simplify processing with removal of support for barcode multiplexing and original 'variant' analysis method,2013-08-17T18:19:44Z,chapmanb
c10530c6abf2461e84fbd800e011afe55fde5324,chapmanb,chapmanb@50mail.com,Ensure BED files are parsed with pybedtools to support UCSC track lines. Fixes #88,2013-08-16T14:30:31Z,chapmanb
a5f4423276e2d6dab734e53185c3b52ec73ef127,chapmanb,chapmanb@50mail.com,Begin work to remove requirement for fc_name and fc_date in favor of unique descriptions. Initial steps to remove non-maintained multiplexing code,2013-08-16T01:01:10Z,chapmanb
34a4e70567b24928734fcca8d351fde253ea013c,Rory Kirchner,rory.kirchner@gmail.com,Added RNA-seq upload fix.,2013-08-15T08:34:19Z,roryk
5e20db0432eaac91717ef855b733e494009af76d,roryk,rory.kirchner@gmail.com,Added HTSeq to requirements.,2013-08-14T16:08:03Z,roryk
7a3019434f684a4b9f57392c950e409c39c188c6,roryk,rory.kirchner@gmail.com,Added HTSeq to setup.py,2013-08-14T16:03:38Z,roryk
f21c0b978bfea546cf0039ff4f3e1a8d5a4eb852,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-08-14T13:50:26Z,chapmanb
b44a77ed3ad47dd81e2ec12978f452e3362bf1f0,chapmanb,chapmanb@50mail.com,Document increasing open file limits on ubuntu,2013-08-14T13:50:18Z,chapmanb
2065920f986b5b3b28547c71a165ae97fea53c5b,roryk,rory.kirchner@gmail.com,Merge branch 'rnaseq-docs',2013-08-14T08:04:34Z,roryk
7a34c2f43c9dd17b5992ba983c24a8e6a078b0ff,roryk,rory.kirchner@gmail.com,Added RNA-seq pipeline documentation.,2013-08-14T08:03:35Z,roryk
535b228e29d2e1968b6f4af15788545238d75e18,roryk,rory.kirchner@gmail.com,Added more documentation about the trimming options.,2013-08-14T08:03:20Z,roryk
260ab787ba283589d29df2e25b21b0e1c5d33fcd,roryk,rory.kirchner@gmail.com,More verbose documentation about the upload field.,2013-08-14T06:57:55Z,roryk
00a46a91ba24bc51f767b26cb3d2f5d0765c3e17,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-08-14T01:15:50Z,chapmanb
9b33fe456f7705b17ee10c12ed97df56e5df396d,chapmanb,chapmanb@50mail.com,Add command line option to get version; bug fix for saving bam file list for debugging,2013-08-13T23:52:15Z,chapmanb
8ff7dc3c76da56aed7f18048446d03e213880a7a,roryk,rory.kirchner@gmail.com,Added RNA-seq-specific upload files.,2013-08-13T22:38:23Z,roryk
79c3ab29c3e75e6180ec3b3a1c82b509b3aba4a6,roryk,rory.kirchner@gmail.com,"Break uploaded sections into their own functions.

Makes it easier to add new upload scripts.",2013-08-13T22:38:23Z,roryk
f675a2314c5ac5a1351aa220ff3372e7ec3ee3e3,roryk,rory.kirchner@gmail.com,Added upload option to configuration file.,2013-08-13T22:38:23Z,roryk
37fa6e37665b7a2febf07806b94c1273df17f741,chapmanb,chapmanb@50mail.com,Save file list to process to persistent file to help with debugging #86,2013-08-13T18:08:59Z,chapmanb
3494723b4cb851e3886917ed3b12af9208b28e69,chapmanb,chapmanb@50mail.com,Save file list to process to persistent file to help with debugging #86,2013-08-13T18:06:39Z,chapmanb
db6dc60e5224baf90023dd019150d2c2971d513d,chapmanb,chapmanb@50mail.com,Add pointer to whole genome scaling documentation and more information about expected runtimes. #85,2013-08-13T17:53:38Z,chapmanb
d8b07326a807a1e517f3447fd5cc588687d102c8,Brad Chapman,chapmanb@50mail.com,Use samtools for sorting merged files: handles larger files better than bamtools at the expense of extra temporary disk space. #86,2013-08-13T10:22:47Z,chapmanb
f94137ca63c661b435c95f6da4c874f8611c791f,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-08-13T10:37:38Z,chapmanb
f692d8b519654a116aae1c8f6cdc704edec5fc43,chapmanb,chapmanb@50mail.com,Improvements for processing large samples through coverage calculations: scale memory with cores and avoid X connection errors on shared ssh connections,2013-08-13T10:37:13Z,chapmanb
c59f1e6d7322729f6ba9c07c31d908a3bd76941e,roryk,rory.kirchner@gmail.com,Illumina RNA-seq template file added.,2013-08-13T02:20:47Z,roryk
af888b1c6355de29e46d38e1225c0cafadaeb4e8,roryk,rory.kirchner@gmail.com,Template generator fixed.,2013-08-13T02:20:47Z,roryk
818c72d0e7289583148e4f18b25cc640432b0745,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-08-13T00:48:23Z,chapmanb
068b33eda1ae497d3b404dde05469ab002b98b4c,chapmanb,chapmanb@50mail.com,Bump to next development version,2013-08-13T00:48:14Z,chapmanb
0e9090ed2e8763e553799708c6e27b99d60d477c,roryk,rory.kirchner@gmail.com,Point to bowtie2 genome locations.,2013-08-12T19:52:00Z,roryk
3bbb119fd4a687e95d7151958af1621604e3e39c,roryk,rory.kirchner@gmail.com,Added Tophat2 as a _tool.,2013-08-12T19:51:35Z,roryk
167644438159b763baa9fd7a440cde38621a36e6,roryk,rory.kirchner@gmail.com,Default points to /usr/local/share instead of /usr/share.,2013-08-12T19:50:53Z,roryk
d282c2c5c4ecbaa7c04893e487aecd861e53cbfa,chapmanb,chapmanb@50mail.com,Release v0.7.1 and include better documentation on configuring,2013-08-12T12:26:26Z,chapmanb
676edc63375c2136eb0d2f6073203762ad8df2cf,chapmanb,chapmanb@50mail.com,Bug fixes: correctly detect versions on GATK nightlies (#84) and allow skipping of incorrectly configured coverage without dropping samples,2013-08-12T11:50:58Z,chapmanb
901423eb9655270448153fde8ceaba1954ba43fd,chapmanb,chapmanb@50mail.com,Bug fix for merging BAM files with bamtools: sort after merge since order is not maintained and avoid duplicates from noanalysis by better subsetting with bedtools,2013-08-12T01:21:17Z,chapmanb
e58488d7112cd228d24b19f994629613fee2c2ca,chapmanb,chapmanb@50mail.com,Move whole genome example above exome since it runs directly without additional novoalign license,2013-08-11T23:37:03Z,chapmanb
91726de6105509f62a2dcd721a2c2f0843694179,chapmanb,chapmanb@50mail.com,"Remove requirement for bcbio_system at the command line, detecting from automated install location if not specified. Improve documentation for getting started running the pipeline",2013-08-11T00:50:17Z,chapmanb
8bce070260f00578fb0914fcba574f76a0e5cc2d,chapmanb,chapmanb@50mail.com,Ensure build parameter passed along to coverage assessment to allow contig remapping,2013-08-09T17:30:10Z,chapmanb
f65dc1a4babbca022dcb87e0fb27096725692fb4,chapmanb,chapmanb@50mail.com,Remove from ZeroMQ logging errors that silence logging,2013-08-09T11:03:31Z,chapmanb
25b67dcf755f466af2ea2bfdeead644fbc2383f3,chapmanb,chapmanb@50mail.com,Provide initial hooks to calculate coverage summary statistics for BAM files using bcbio.coverage. Provides a high level summary of coverage per genes of interest or all transcripts,2013-08-08T19:53:19Z,chapmanb
d4b64b2df1e9e6ee5d9c76dff7f98bddddd1fccc,chapmanb,chapmanb@50mail.com,Correctly handle relative tool and data directory paths during installation. Fixes #82,2013-08-07T00:30:12Z,chapmanb
9f1ab8e1a8e16b7f659a1b40f8403ba96c8cf78d,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-08-06T10:02:19Z,chapmanb
cc11a9dade5dcb1d77ec903db8a96203ec534feb,chapmanb,chapmanb@50mail.com,Provide more useful error message with multiple jars in configured directory. Fixes #76,2013-08-06T10:02:08Z,chapmanb
31876962c9ed40e4fe65f7c7803a8d08842e96c7,Brad Chapman,chapmanb@50mail.com,Handle simultaneous symlinking of results on distributed runs,2013-08-06T09:39:45Z,chapmanb
00623207f560cf2209d62cad560d906de807fdec,chapmanb,chapmanb@50mail.com,Handle complements for multiallelic SNPs. Fixes #81,2013-08-05T18:51:52Z,chapmanb
654ee5f5e160a46502140a085ed009faa93537a0,chapmanb,chapmanb@50mail.com,Avoid reading entire file when finding samples to exclude,2013-08-05T13:56:22Z,chapmanb
bee3b2748c175d0c74622325d463a9f717ffa509,chapmanb,chapmanb@50mail.com,"Do not fail on non-GATC reference or variant bases. These will pass through unchanged without attempting to swap strands, but will no longer error out. Fixes #81",2013-08-04T01:41:23Z,chapmanb
07e1555d220b6b8f08f5a9b497ccd0294bc6cac2,Luca Beltrame,luca.beltrame@marionegri.it,"Several changes:

- remove the remove_zerocoverage call because some mpileup files can be
empty, then grep will return -1 and everything will fail
- fix the varscan command line and output filenames
- check if mpileup produced empty files, if so, bail out (or VarScan
  will hang)",2013-08-02T12:56:28Z,lbeltrame
2ef3dc676811a3b328a09919ac05fe6a76965776,Luca Beltrame,luca.beltrame@marionegri.it,Try to handle cases where no result is found,2013-08-02T12:09:00Z,lbeltrame
7b6a30abb8659b57782f9e670ce226945a38e7b1,Luca Beltrame,luca.beltrame@marionegri.it,Fix file_transaction call for multiple files,2013-08-02T11:47:57Z,lbeltrame
67d840e72b629daca3566e8386ac23dc8d9d1c5a,Luca Beltrame,luca.beltrame@marionegri.it,Use the right file name,2013-08-02T11:33:51Z,lbeltrame
cfdef47e930ded578425cec16fc06a204c065ecc,Luca Beltrame,luca.beltrame@marionegri.it,Fix the do.run() call,2013-08-02T11:28:14Z,lbeltrame
e8d84081a36cb4ce25d9fbb7a14e07a4732a5459,Luca Beltrame,luca.beltrame@marionegri.it,Port shared_variantcall and varscan to the new convenience functions,2013-08-02T10:21:29Z,lbeltrame
1559b0061c23be870f9902a9f45640207bf470c5,chapmanb,chapmanb@50mail.com,Additional fixes for *.loc parsing using tool_data_table_conf: handle mixed spaces and tabs and fall back on remapping approaches correctly,2013-08-02T10:20:41Z,chapmanb
b8ffba8448b6a4f5dd8c2046f62be6e633187c3b,Luca Beltrame,luca.beltrame@marionegri.it,"Add two new convenience functions:

- is_sample_pair: returns True if we're dealing with paired bams, False
  otherwise;
- get_paired_bams: returns the names of the tumor and normal bams, and
their names",2013-08-02T10:20:22Z,lbeltrame
8245d50cf90e77aef6d90ef12fa21dfaaaef99b3,Luca Beltrame,luca.beltrame@marionegri.it,"Adjust  the shared_variantcall signature to take items rather than
a configuration item, so that both paired and non paired calls use
the same signature.

Port all the users of shared_variantcall to this adjustment.",2013-08-02T09:50:55Z,lbeltrame
4f90d3238f3a687a060c4b865a9a258e700b43cc,Luca Beltrame,luca.beltrame@marionegri.it,Fixup after merge,2013-08-02T08:29:36Z,lbeltrame
b3b3795351afc37e7815fa033612f045d7a41b3b,Luca Beltrame,luca.beltrame@marionegri.it,"Merge remote-tracking branch 'upstream/master' into varscan-paired

Conflicts:
	bcbio/variation/varscan.py",2013-08-02T08:28:10Z,lbeltrame
7fbd89387b31dd0667156f7274e0de915c9edd51,chapmanb,chapmanb@50mail.com,"Ensure we split galaxy *.loc files on only tabs, avoiding index errors when descriptions have spaces",2013-08-02T02:05:31Z,chapmanb
045ab073b648312010a7a8be57a458660807bb5a,chapmanb,chapmanb@50mail.com,Use new cloudbiolinux automated distribution detection for installation,2013-08-01T15:00:01Z,chapmanb
0a2a3dfd9c43a680b6600287d7ab50ea3982a453,chapmanb,chapmanb@50mail.com,Provide documentation on open file handles and tuning for scale. #60,2013-08-01T13:46:50Z,chapmanb
1f5a62081bed8b6e294d3f326720d794eac816ed,chapmanb,chapmanb@50mail.com,Bug fix when concatenating multiple files and first is empty. Fixes #77. Provide ability to exclude samples from VCF files using GATK SelectVariants,2013-08-01T13:17:50Z,chapmanb
46b6058c2cb92bc4f933674b6c0801e93e1c9779,Luca Beltrame,luca.beltrame@marionegri.it,No more need for a separate varscan_paired call,2013-07-31T14:38:25Z,lbeltrame
ef27f0ca5da173b92ebcb71e57f7b075e8aca412,Luca Beltrame,luca.beltrame@marionegri.it,"- Check the type of data dynamically (length of 2, and all items have a ""phenotype"" attribute in their metadata)
- Get rid of temp files
- Wrap operations in transactions",2013-07-31T14:38:06Z,lbeltrame
8c410b02381b9a87e3e1faaa3d4938ec9b2e0b9b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #72 from lbeltrame/doc-version-fix

Update version in documentation",2013-07-31T09:26:21Z,chapmanb
51ae7bcedb9873f6608d390b96dc6c6baf104293,Rory Kirchner,rory.kirchner@gmail.com,Add more verbose RNA-seq section to 0.7.0 changelog.,2013-07-30T19:51:42Z,roryk
7e0aff609cd9421f487007596e3b660aa4c7f985,Luca Beltrame,luca.beltrame@marionegri.it,Add the paired VarScan call to the available callers,2013-07-30T15:42:12Z,lbeltrame
ee1af26dae51044dc6c26d7bd6396f25505bb6bb,Luca Beltrame,luca.beltrame@marionegri.it,Merge branch 'master' into varscan-paired,2013-07-30T12:13:11Z,lbeltrame
3b6783321b333545c99609aff232ff9d66c84fea,Luca Beltrame,luca.beltrame@marionegri.it,Update version in documentation,2013-07-30T12:11:44Z,lbeltrame
6635b4e0ac5ecb55eceaaf040b1cd440957e62ee,chapmanb,chapmanb@50mail.com,Remove travis link until automated CI tests work cleanly,2013-07-30T10:10:18Z,chapmanb
56b7a891d9b61271eb22063fa53eaa9253785d18,chapmanb,chapmanb@50mail.com,New release v0.7.0. Move new installer in place. Update documentation. Bump versions for requirements,2013-07-30T10:07:07Z,chapmanb
b38b908002aa8b7fbcbdf48b7ecb84c5c7dd84c1,chapmanb,chapmanb@50mail.com,Small cleanups in users section for formatting,2013-07-30T09:45:13Z,chapmanb
a6edc2f362fe8936e67fbd96aaad8d7408334733,chapmanb,chapmanb@50mail.com,Merge slurm and SciLifeLab introduction from Roman. Fixes #64,2013-07-30T09:39:05Z,chapmanb
b603a23dc7dfa6c1d6d30c456caf013af69b2335,chapmanb,chapmanb@50mail.com,Merge bcbio-nextgen usage from Luca,2013-07-30T09:26:58Z,chapmanb
0371a781510067a54273247ae5546f562059d52b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #70 from tanglingfung/patch-1

Update introduction.rst",2013-07-30T09:19:58Z,chapmanb
50ae06520271832c919d19a7ce58aa3f1468243f,chapmanb,chapmanb@50mail.com,Provide  configuration hook to change snpEff output options and add cancer specific reporting on snpEff when tumor/normal calling in progress. Turn off snpEff logging by default. Fixes #52,2013-07-29T16:11:22Z,chapmanb
043f83cd163a2a60f1316000b5b29645c120da4a,Paul Tang,tanglingfung@gmail.com,"Update introduction.rst

I am adding my support to this pipeline. Please feel free to polish my language.",2013-07-29T16:06:03Z,tanglingfung
cd9041ff1035d6254a5086bf63a524a2f02688cb,chapmanb,chapmanb@50mail.com,Ensure upgrade of bcbio-nextgen library from GitHub for development updates but avoid forced dependency upgrade,2013-07-29T11:53:31Z,chapmanb
914ce059e8b7213f81342ec67da4a1ed61ad70d9,chapmanb,chapmanb@50mail.com,Additional cleanup of installation packages and versions. Avoid forced upgrade of dependency packages when upgrading bcbio_nextgen to development version,2013-07-29T11:35:49Z,chapmanb
adad0ced286155bc363f955c5f242618941007da,chapmanb,chapmanb@50mail.com,Allow pyzmq from conda for installation to avoid issues on non-standard systems with building zeromq,2013-07-29T11:15:56Z,chapmanb
8494a387283a5abac73e3372b907c58932156a14,chapmanb,chapmanb@50mail.com,Finalize integration test suite for tumor/normal cancer calling with MuTect. Provide a small test set to work with from TCGA datasets. #59,2013-07-28T23:09:47Z,chapmanb
8c995eb6eb3e3e09e06c941759a9af4cce36b020,Brad Chapman,chapmanb@50mail.com,"Merge pull request #59 from lbeltrame/mutect-tests

Initial implementation of MuTect tests",2013-07-28T18:36:49Z,chapmanb
d0a4206cf9f5c6269ab81d1575ae0fd1e94663f0,chapmanb,chapmanb@50mail.com,Support arbitrary configuration option as inputs to snpEff from bcbio_system and bcbio_sample. Partial work towards supporting better control over snpEff #52,2013-07-28T18:26:22Z,chapmanb
cbd55831d0ee2d8e8a19abcb2d1a38bb3980b4c2,chapmanb,chapmanb@50mail.com,Package and symlink fixes for new bcbio-nextgen installer,2013-07-27T18:23:24Z,chapmanb
b7e6b2db5a979eda16657c8dbf938cef850b4273,chapmanb,chapmanb@50mail.com,Support reading column information and tool *.loc locations from galaxy tool_data_table_conf.xml if it exists. Supports full flexibility of Galaxy configuration and fixes #63,2013-07-27T10:32:40Z,chapmanb
4c0023f3e4cdb3d5a88dd1af984f918e4f907a83,chapmanb,chapmanb@50mail.com,"Improvements to new in development installer: correctly update to development version of code, match dependencies to conda packages",2013-07-27T10:26:13Z,chapmanb
4bc2430f16610b435ff32752338ba27e16d3ec18,chapmanb,chapmanb@50mail.com,Handle update of bcbio-nextgen when symlinked from local virtualenv directories,2013-07-26T19:55:47Z,chapmanb
d1ef0175a0f2b095172e4c9c46478c3815599a13,Luca Beltrame,luca.beltrame@marionegri.it,"Initial support for paired variant calling using VarScan.

A lot of design and review are needed.

Fixes #65.",2013-07-26T15:30:47Z,lbeltrame
95c831410751f785604192edf2792774446bfea4,chapmanb,chapmanb@50mail.com,"Work towards increased Galaxy support for configuring reference file locations: allow custom indices for novoalign and bowtie2, falling back to old remapping path approach. Read galaxy INI file for configuration options. #63",2013-07-26T01:31:55Z,chapmanb
8f1ddad7407b2b2b59ee00b52b5c78333a346c55,chapmanb,chapmanb@50mail.com,Provide documentation on JVM memory settings. Thanks to @brentp,2013-07-25T20:43:37Z,chapmanb
b734a54d2c75d511fbed8f41e9c8b897ce7ceb07,chapmanb,chapmanb@50mail.com,"Documentation improvements: add more information on motivation, add user page, rework README to be more concise",2013-07-25T18:42:53Z,chapmanb
1e76018f56791bcd4a65180251f2145262d432c0,chapmanb,chapmanb@50mail.com,"Documentation improvements: add more information on motivation, add user page, rework README to be more concise",2013-07-25T18:38:28Z,chapmanb
e66aea353c8b7775b76f1852ad98308caa3fb1ec,Luca Beltrame,luca.beltrame@marionegri.it,Merge remote-tracking branch 'upstream/master' into mutect-tests,2013-07-25T09:05:58Z,lbeltrame
08a678995e801a914b430bc514c9738ceb817386,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-07-24T18:47:03Z,chapmanb
90b894beb37171c894067f5e91dd523e89662d8e,chapmanb,chapmanb@50mail.com,"Provide distributed merging of VCF files, splitting by chromosome region. Allows merging of large number of sample VCFs over multiple processors",2013-07-24T18:46:55Z,chapmanb
f9d93de16e0bf8a5b8c3f292ad0feb6ab86b7370,chapmanb,chapmanb@50mail.com,Additional work to clean up checking for gemini when missing or non-functional,2013-07-22T18:35:02Z,chapmanb
e0d0fe0df805b467a5d4910b995d7bb2c9455621,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-07-22T16:15:01Z,chapmanb
9477e701ab9874094c547884eebca8924ca27ae6,Brad Chapman,chapmanb@50mail.com,"Merge pull request #61 from brainstorm/master

Expanding config variables such as $GATK_PATH and $PICARD_DIR, module system specific",2013-07-22T15:18:27Z,chapmanb
a1ab0e90528095e7fae012442afdc73f61ab32c6,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Typo on gatk,2013-07-22T14:40:08Z,N/A
b985591b21c26fa896b1303b497522786a0b5011,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Expanding config variables such as  and , module system specific",2013-07-22T14:35:29Z,N/A
de6b6043a5c7b282a4ac00c5d3be51ae0b8ffd11,chapmanb,chapmanb@50mail.com,Ensure local parallel runs work with new IPython global setup,2013-07-22T14:29:34Z,chapmanb
3fd6f92c613b578632b02544b225745e580e94e1,chapmanb,chapmanb@50mail.com,"Use bamtools for merging BAM files, avoding need for batching seen with Picard approach. Do not use out_file for single sample merges. Provides back-compatibility with previous naming change: https://github.com/chapmanb/bcbio-nextgen/commit/ea571e0a60d349c96cb5e7e0c479079383cc6c71",2013-07-22T13:47:56Z,chapmanb
c7bb4615da792c6cf79b3e704ba3f331ad4d1695,chapmanb,chapmanb@50mail.com,Ensure good helper messages when no parameters specified for bcbio_nextgen,2013-07-22T01:07:01Z,chapmanb
dec92bcc4ecc5cef8ffb1d23fe0797326db19166,chapmanb,chapmanb@50mail.com,"Additional work to finalize new installation and upgrade approach: pointer to new minicona, minimum installation support and documentation start",2013-07-22T00:53:29Z,chapmanb
1afdc54ef12c040e101a23f29c75a6e7b9406b67,chapmanb,chapmanb@50mail.com,"Additional updates to in-development installation process: Bug fixes, better progress reporting and write output system YAML files",2013-07-21T15:02:40Z,chapmanb
09bb51d650d2ba6e056ec0a1aa1dea28f5a5b221,chapmanb,chapmanb@50mail.com,Concatenate variant files split by regions using a simplified approach that avoids GATK overhead and file locking issues. Requires sorting files by region then simple concat in order,2013-07-21T14:22:06Z,chapmanb
0e0178605f2c4b1c675527f33c347c1527abd0da,roryk,rory.kirchner@gmail.com,Put htseq-count files into their own directory.,2013-07-20T07:26:22Z,roryk
b1498a59f2915f011fae34da51aeafb58230f77c,roryk,rory.kirchner@gmail.com,Merge branch 'htseq-fix-wip',2013-07-20T06:58:46Z,roryk
c4b7ab2cd52f65c3a4c58e9484f9a6ab16f6c12c,roryk,rory.kirchner@gmail.com,Added htseq-count to output files named as the sample name.,2013-07-20T06:56:54Z,roryk
1fa9b73bd216aef24096fb4520cab22495a1c52a,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-07-19T15:34:22Z,roryk
b2d17d39a657a1a088f8e94b02edfd9311bce2e8,roryk,rory.kirchner@gmail.com,Added provenance tracking.,2013-07-19T14:40:04Z,roryk
556679852f1d56838ed98eb50bc0e8f282ed10c6,roryk,rory.kirchner@gmail.com,whitespace fixes,2013-07-19T14:36:34Z,roryk
019964e244b2d0080092dd9e14058d41c0b4ebbf,Luca Beltrame,luca.beltrame@marionegri.it,Add the changes to the test program,2013-07-19T08:21:20Z,lbeltrame
db9f93c2c22f835a58ec819599ba00744fad1cc2,Luca Beltrame,luca.beltrame@marionegri.it,"Initial implementations for MuTect tests.

Needs review and adjustment, it's marked as expected failure because the
data set is not yet present (or chosen)",2013-07-19T08:20:24Z,lbeltrame
cb9fb30df51155bd650e8451ee13f094a36012f1,roryk,rory.kirchner@gmail.com,Added rna-seqc to the test configuration file.,2013-07-19T07:38:18Z,roryk
40e6919b7b2129457b43c4e92deeb0d443481ca8,roryk,rory.kirchner@gmail.com,Fix for finding RNA-SeQC .jar file.,2013-07-19T07:26:31Z,roryk
a574e9ee55a01ef57428a2f85f0b7eddb56b9802,roryk,rory.kirchner@gmail.com,Clarity edit.,2013-07-19T07:15:41Z,roryk
3e7ef77efe9cfb81a108b47d51c17fd8697ab13d,roryk,rory.kirchner@gmail.com,Clarity edit.,2013-07-19T07:10:37Z,roryk
4a0bce78aad14b6fc257eff373350b7312b61a12,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-07-18T16:43:39Z,chapmanb
b8995070878a3048c6f287ae08696e8624e58845,chapmanb,chapmanb@50mail.com,"First pass at new approach installer: bootstraps a local python installation using anaconda, then use CloudBioLinux deploy functionality to install data and tools. Allows updatable tools and data from within install application",2013-07-18T16:42:39Z,chapmanb
4d61445a7b89b1a923cdd3b91e153e1a8ecd54c0,roryk,rory.kirchner@gmail.com,STAR support added.,2013-07-18T13:54:49Z,roryk
04a5a9ffcbbe5b2940276654da05fa076cc31248,chapmanb,chapmanb@50mail.com,Add MIT license to top level directory. Thanks to @lbeltrame. #54,2013-07-18T07:28:23Z,chapmanb
00963ec8490c9ef0e53b2f8f8b517d26ec3fbb20,chapmanb,chapmanb@50mail.com,Improve logic for selecting bwa mem versus bwa align to handle trimming. Use bwa mem when more than half of first 500 reads are longer than threshold of 75. Fixes #50,2013-07-18T07:19:57Z,chapmanb
e11e0fce4e3fb7605532b3537a8f31da390e2974,chapmanb,chapmanb@50mail.com,"Be more explicit about use of VQSR and avoid usage in regional, exome and low coverage cases. It has bad performance characteristics when run on low coverage whole genomes",2013-07-17T15:50:26Z,chapmanb
d0742da9e55dfe741c91325c3080ba48809238c8,chapmanb,chapmanb@50mail.com,"Extract VCF concatenation to allow more lightweight implementation that avoids GATK when only merging intervals. Only framework in place so far, not implementation",2013-07-17T08:42:47Z,chapmanb
e291c73c7fdea6b72d39e91ad19cbb38bdc9ad88,chapmanb,chapmanb@50mail.com,Document design descisions and approaches #48 #49 #50,2013-07-17T08:37:57Z,chapmanb
4c530a60ad5e86ed1711eef9b470473b9ad4e7b0,Brad Chapman,chapmanb@50mail.com,"Merge pull request #40 from lbeltrame/mutect

Initial support for the MuTect tumor/normal calling algorithm",2013-07-16T09:14:04Z,chapmanb
f0c8cf39e34479db0b9b77d47a88e013b5a952fc,roryk,rory.kirchner@gmail.com,Trim forward adapter sequence by default.,2013-07-15T16:08:52Z,roryk
793f17efd16b2d76815d91d95b5d9c7bce04e01c,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-07-15T16:08:19Z,roryk
d6119bf3f578d3ada595c05698f6f431f2134062,Luca Beltrame,luca.beltrame@marionegri.it,"Remove usage of -nt, it's not really supported by MuTect",2013-07-15T15:04:01Z,lbeltrame
3a16d2ab455552929e6cb8650501d16b0543f295,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-07-15T11:48:51Z,chapmanb
adb563dce83e956ba7f172cf27e1ba31dfd4b60d,chapmanb,chapmanb@50mail.com,"Document requirement for a shared distributed file system in the work directory when IPython used. Thanks to @lbeltrame, #47",2013-07-15T11:48:42Z,chapmanb
7535e06790cd152b03de713247cf2f17ab030077,Luca Beltrame,luca.beltrame@marionegri.it,"- Catch more similar exceptions just in case
- Use the right file when writing out an empty file
- Add parameter for fraction contamination (impure tumors)",2013-07-15T10:40:20Z,lbeltrame
e532e662157dff57ea14a2f41d5706f4a0fe7f38,Luca Beltrame,luca.beltrame@marionegri.it,"Try to be even more specific: catch *only* the error caused by the
MuTect issue / bug, and keep everything else as-is",2013-07-15T07:53:28Z,lbeltrame
c8f287d3a7a57905e0f92eec684d3ae1708ccefa,Luca Beltrame,luca.beltrame@marionegri.it,"Parse the Java stack trace from the error in MuTect and adjust the
check accordingly",2013-07-15T07:47:57Z,lbeltrame
e12b2272382a1cc860e278f3d6615714a67271e7,Luca Beltrame,luca.beltrame@marionegri.it,Merge branch 'mutect' of github.com:cswegger/bcbio-nextgen into mutect,2013-07-15T07:14:15Z,lbeltrame
c8f34ff4e237325f6e9793ac9c75f335d684224f,Luca Beltrame,luca.beltrame@marionegri.it,"First attempt at trying to ignore one specific MuTect error until the
issue in MuTect itself is resolved",2013-07-15T07:13:19Z,lbeltrame
a91fe13f8b48f4d274cbb4d0e662b32ce14fec5a,Cloud4CARE cluster system,einar@mn-01,Merge remote-tracking branch 'upstream/master' into mutect,2013-07-15T07:08:17Z,N/A
ed744a111a70393d9b749f6b28c0975cf8b79777,chapmanb,chapmanb@50mail.com,Provide last 100 lines of stdout/stderr as part of error messages when subprocess fails. #40,2013-07-14T09:54:13Z,chapmanb
ea571e0a60d349c96cb5e7e0c479079383cc6c71,roryk,rory.kirchner@gmail.com,Use the sample name when merging the bamfiles.,2013-07-12T15:12:54Z,roryk
f52a7ce3e0a7837db5e5bc3b7c0ef07b30d47121,Luca Beltrame,luca.beltrame@marionegri.it,Explicitly ask for the MuTect jar,2013-07-12T15:05:54Z,lbeltrame
eb80f1ba79455512faaae1697cb026d2a07c6f3a,Luca Beltrame,luca.beltrame@marionegri.it,Small adjustment to the name,2013-07-12T15:03:12Z,lbeltrame
da02c3772b7b80294ab3d2f77ba23af3a00702f9,Luca Beltrame,luca.beltrame@marionegri.it,Use the sample name from the items,2013-07-12T15:01:31Z,lbeltrame
e41b49576379b8ad6df2399ca6aa66005c783762,Luca Beltrame,luca.beltrame@marionegri.it,Fix parameter order,2013-07-12T14:58:42Z,lbeltrame
15ce3d3ab850022467769e2f291dcf7fdcc506c7,Luca Beltrame,luca.beltrame@marionegri.it,Add MutTect to the available callers,2013-07-12T14:51:19Z,lbeltrame
c9d84463b4f2adafe2a756b1b201b535d61c173a,Luca Beltrame,luca.beltrame@marionegri.it,Adapt the MuTect support to the newest changes in bcbio-nextgen,2013-07-12T14:46:58Z,lbeltrame
3399c9437c0344a78cc807b65246d540a7e0f351,Luca Beltrame,luca.beltrame@marionegri.it,"Add support for MuTect in the BroadRunner, and change from_config to
also use the name of the program (defaults to ""gatk"" for backwards
compatibility)",2013-07-12T14:39:26Z,lbeltrame
a9c51f1274030455b570cdac23e6f316ae202c99,Luca Beltrame,luca.beltrame@marionegri.it,Re-add the muTect file (messy history),2013-07-12T14:37:49Z,lbeltrame
0b0b25f91df2db5c62621f46f7e3cd68abbec104,chapmanb,chapmanb@50mail.com,Pass full data dictionaries for multiple samples to implemented variantcallers to allow for customization. #40,2013-07-12T14:10:15Z,chapmanb
c80f39afe0097af87cdb3969aaf7af60a0b268e7,chapmanb,chapmanb@50mail.com,Improved reworking of configuration parameters to multi-sample calling: pass in entire configuration object for each sample to allow retrieval by name or metadata. #40,2013-07-11T12:00:53Z,chapmanb
90315255aadc7d4edef2114aa77166bdd8b63338,chapmanb,chapmanb@50mail.com,Support for GATK 2.6: remove recalibrator plotting command which is now covered in a separate walker,2013-07-11T10:08:06Z,chapmanb
29fb3c5a7fcdfe6a3a3b9c47250bec9bfda4dce3,chapmanb,chapmanb@50mail.com,Provide per-sample metadata as part of variant calling. Enables identification of specific samples within batches for cancer tumor/normal calling. #40. Fixes #43,2013-07-11T10:00:28Z,chapmanb
2e2c4c0a1c8aba18b856feec4ac0fae9ac1ddbbd,chapmanb,chapmanb@50mail.com,Correctly catch CmdNotFound errors when retrieving gemini information from configuration. Thanks to @tanglingfung. Fixes #45,2013-07-11T09:30:15Z,chapmanb
0e7225afedf2d9fea4ed9b180b226c10cc13d500,chapmanb,chapmanb@50mail.com,Generalize passing associated files to specific variant callers. Allows usage of configured files beyond only DbSNP,2013-07-11T09:20:44Z,chapmanb
da869a9d5a9cd85e47218eecdfb7be9fb87d1a73,chapmanb,chapmanb@50mail.com,"Additional IPython logging, including moving IPython logs inside standard project directory for easier diagnosis of cluster related errors",2013-07-10T16:37:29Z,chapmanb
0ec98c2497ed5c6295ae28a5983269f27907c78d,chapmanb,chapmanb@50mail.com,"Avoid automatic sleep when setting up logging, only needed when creating directory. Attempt to work on causes for #37",2013-07-08T19:03:43Z,chapmanb
3532a4e39056c62b039c76eddd704c1f17248a2e,chapmanb,chapmanb@50mail.com,Do not remove duplicates as part of duplication marking during variant pipeline. Fixes #35,2013-07-08T15:51:51Z,chapmanb
12acc65e04e5368fa1c888c30c8f6ecd6d3173d9,chapmanb,chapmanb@50mail.com,Document code internals with tips for plugging in new aligners and variant callers. #43,2013-07-08T15:40:29Z,chapmanb
f593df54d0d342d731347a5e584bdb20f18e4a84,Brad Chapman,chapmanb@50mail.com,"Merge pull request #42 from cswegger/setup_no_zip

Set installation as zip_safe=False",2013-07-08T09:29:34Z,chapmanb
74041a42c5fffc4c186a4160bceaec90e9c3a3f8,Luca Beltrame,luca.beltrame@marionegri.it,Some PEP8 fixes,2013-07-08T08:43:02Z,lbeltrame
42e6ac5cf0efbf57ab2d27f9d4ee19bcf085cf6f,Luca Beltrame,luca.beltrame@marionegri.it,"Use zip_safe=False to keep the installation unzipped for easier
debugging. Fixes issue #41.",2013-07-08T08:41:10Z,lbeltrame
a00969bcd6d51a56fb06ece8bb42ba624f63317b,chapmanb,chapmanb@50mail.com,Use joblib for multicore parallelization instead of custom multiprocessing/concurrent.futures implementation. Work on #37,2013-07-06T16:54:04Z,chapmanb
5c369cb5802c2c732ca5885713f2935147fdff3d,chapmanb,chapmanb@50mail.com,Small plink to VCF cleanups: handle file inputs with alternative characters and more intuitive output files,2013-07-06T09:43:30Z,chapmanb
7de2cb2016f651e0a64fff8496d372ade4e30c85,chapmanb,chapmanb@50mail.com,Document workaround for Git when git protocol is blocked or behind proxy. Thanks to James Cuff,2013-07-05T17:44:59Z,chapmanb
5d60fdb730d0848bd64d7e974adaf37198319f19,chapmanb,chapmanb@50mail.com,Avoid picking up tarballs located in snpeff data directory. Fixes #38. Clean up logging test code for multiprocessing inside ipython,2013-07-05T13:46:39Z,chapmanb
d9851db74f3190ada5b58a5f5dc075af8b8e1bc9,chapmanb,chapmanb@50mail.com,Enable logging for multiprocessing/future processing running within ipython environments: create process local references to ZeroMQ logger. Move to concurrent.future for multiprocessing to improve error messages for debugging.,2013-07-04T23:43:11Z,chapmanb
8f12835a158f6109c34e6b995c5c9d0e8e557f42,chapmanb,chapmanb@50mail.com,Provide flexible memory adjustment for GATK runs during initial alignment post-processing steps: maximize memory usage for multicore processes and avoid memory issues for highly parallel work,2013-07-04T10:49:34Z,chapmanb
235e6e5d90654d3619f14ef3803c2f508b55922b,chapmanb,chapmanb@50mail.com,Add snpeff reference genome for mm10,2013-06-28T11:54:49Z,chapmanb
ee7555b67cb12bc47f85a40e115fea22bcb3892f,chapmanb,chapmanb@50mail.com,Provide explicit skipping of regional bam preparation for inputs that do not need variant calling or preparation,2013-06-28T11:40:01Z,chapmanb
5d437e1a713c857eb5c756b3e8a39124f1291942,roryk,rory.kirchner@gmail.com,Handle custom JVM options properly for RNA-SeQC.,2013-06-27T21:41:46Z,roryk
88989320cc062d7877dedb65d63efcb7285b5827,roryk,rory.kirchner@gmail.com,Allow samples crossing multiple lanes in RNA-seq pipeline.,2013-06-27T21:41:16Z,roryk
fb4d6645de1f61aa4928717e6e40ce6d26c1f0e4,roryk,rory.kirchner@gmail.com,Added RNA-SeQC to the final output metrics for RNA-seq.,2013-06-26T05:00:36Z,roryk
446287b98cb25d037a82eed693268e6035e9d5ef,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-06-25T06:43:41Z,roryk
e579dedede298a2532dab6074a0d84f44d21ae0d,roryk,rory.kirchner@gmail.com,"Pass all of names to aligners, not just the rg.",2013-06-25T06:42:37Z,roryk
ba9d3946b461b1bddf401e0d43e67bd27391e550,chapmanb,chapmanb@50mail.com,Allow processing of inputs without preparation or variantcalling. More cleanly regular errors we're seeing from HsMetrics calculation,2013-06-24T20:07:50Z,chapmanb
c1d4dc1abd50c61c24fabba09e3e776b39241742,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-06-22T09:41:24Z,chapmanb
c445a8a9ea848bab373c38ed184291618b3665d7,chapmanb,chapmanb@50mail.com,Handle ipython installation outside of standard requirements.txt to avoid issues with current ipython build process,2013-06-22T09:41:14Z,chapmanb
290aa2b862e7b797b1f1f5d0dc3248d1b4a48e27,roryk,rory.kirchner@gmail.com,Added do.run logging instead of bare subprocess/sh calls.,2013-06-21T17:56:43Z,roryk
9ee0d71f7bd51e57b8193c2f75d97627100015ea,Brad Chapman,chapmanb@50mail.com,"Only calculate hybrid metrics on exome samples, since regional can also refer to large problematic blocks for CalculateHsMetrics",2013-06-20T18:27:22Z,chapmanb
718130d2491d8a442b87aa4b7280114aaaba9e64,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-06-20T18:36:34Z,chapmanb
4f98bb9f90d8e76124fbd30550dab1d11669deb9,chapmanb,chapmanb@50mail.com,Avoid calculating hybrid metrics unless project specifically identified as exome. Avoids out of memory errors on CalculateHsMetrics when used with large intervals,2013-06-20T18:36:24Z,chapmanb
a856f9542e97edab22c77a4780b7a594ba05fbc7,chapmanb,chapmanb@50mail.com,Remove debugging import,2013-06-19T23:31:08Z,chapmanb
f878dae06ca4c6ac5220fe13d99aee7c6755ac32,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-06-19T16:57:03Z,chapmanb
a6be15cfc28d733a280ef5b71e2413699cc9b866,chapmanb,chapmanb@50mail.com,Tweaking of timing logging to provide easier to grab data points,2013-06-19T16:56:46Z,chapmanb
8a9952350de18ebdf0d623b888928c24896b50a7,roryk,rory.kirchner@gmail.com,Added rRNA contamination metric.,2013-06-19T16:55:39Z,roryk
98781fab257f767844d0e2d25a37979a7200d125,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-06-19T16:30:51Z,roryk
ceab36f932b89c20263ab34ffc77e3c77c565321,roryk,rory.kirchner@gmail.com,Added functions to find files in the galaxy/genome directory.,2013-06-19T16:30:10Z,roryk
712519e2c152e7ab544a78a3cbde9d6aae65a31e,roryk,rory.kirchner@gmail.com,Added GTF->refFlat converter.,2013-06-19T16:29:48Z,roryk
c3e75f5069bec698da5a161653e474e9e4c5baef,roryk,rory.kirchner@gmail.com,Added analysis-specific summary creation.,2013-06-19T16:28:31Z,roryk
d57a69d70922a08fa83467995e01a017558d8501,chapmanb,chapmanb@50mail.com,Move comparisons to reference materials into separate parallel task to provide more specific timings of analysis steps,2013-06-18T09:58:22Z,chapmanb
b0c3f0f99443a5dffb694806c81c91071a26b7e3,Brad Chapman,chapmanb@50mail.com,"Fixes for global cluster view creation: handle cleanup of views, avoid passing view objects over wire, correctly estimate cluster resources for distributed regional jobs",2013-06-17T23:44:31Z,chapmanb
b44c5d5807befab8bc721fd0d1182e4df54bfb79,roryk,rory.kirchner@gmail.com,"Moved downstream summarization to a separate repository.

This removes the pandas dependency and looming rpy2 dependency.",2013-06-17T15:22:18Z,roryk
34a1058fab8dc7565c76dbda4975c008924d5e5b,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-06-17T14:49:50Z,roryk
d95394681e417af5945576c79282290cf965d828,roryk,rory.kirchner@gmail.com,Removed unused import.,2013-06-17T14:49:31Z,roryk
71ca43926df8aabb99d3664b9175c8ec14b04cfc,chapmanb,chapmanb@50mail.com,Create shared IPython cluster connections for full blocks of analysis to avoid multiple rounds of cluster creation/destruction. Enables better use of resources of highly used shared clusters,2013-06-17T14:42:15Z,chapmanb
fb2e84c184e7a3d719ff81bf95b8028b81614be9,chapmanb,chapmanb@50mail.com,Provide command line flag for retrying failed jobs for better resiliency on systems with intermittent failure modes,2013-06-17T11:44:46Z,chapmanb
1ad14f61f4541ab7c72f731e42dabeb4cab199fc,roryk,rory.kirchner@gmail.com,"Updated RNA-seq pipeline, beta version.

Changes:
* Tophat2 now supported. Tophat versions < 2 deprecated.
* htseq-count is used to generate counts for downstream quantitation
* Cufflinks/Cuffdiff steps on hold for the time being.
* If possible insert size metrics are calculated with Picard, if
not the old behavior is used.
* Adapter trimming/polyA trimming performed with cutadapt.",2013-06-14T00:07:27Z,roryk
821a4f4e9412bff1a0f0354874f1a0d7e12c6421,chapmanb,chapmanb@50mail.com,Add samtools version check to novoalign piped alignment. Provide useful error message in case of older samtools version without threading. Fixes #29,2013-06-11T13:10:25Z,chapmanb
a35aab6ee7c9a847b4cf45b4f47f1a11313d916b,chapmanb,chapmanb@50mail.com,Provide options to specify additional cluster resource specifications and cluster start timeouts on the command line,2013-06-09T17:28:45Z,chapmanb
1c8c7ef919d944cc077dc2b0967d5795a89cb68d,chapmanb,chapmanb@50mail.com,"Updates to install: more cleanly handle new ipython with custom setup.py, provide option to install only minimal data without alignment indexes. Update bioblend to latest version",2013-06-09T14:58:46Z,chapmanb
3f8a4a251f96b607b4338b1382f0ca0e647e6670,chapmanb,chapmanb@50mail.com,Bump version for next working release,2013-06-07T09:45:48Z,chapmanb
a1abb9609a8b2454a68d14e395bf52bc9749d714,chapmanb,chapmanb@50mail.com,Release v0.6.5,2013-06-07T09:40:47Z,chapmanb
6bba1023a0005836f04385bdacb0febea77b9f75,chapmanb,chapmanb@50mail.com,Provide initial check for improperly nested configuration variables in sample YAML file,2013-06-06T17:45:56Z,chapmanb
a78beb642ff4a2393905f44e77e1ca4ed4818dcd,chapmanb,chapmanb@50mail.com,Generalize creation of population VCFs for separate from gemini requirement. Add all combined population VCFs to final upload directory. Thanks to @brentp,2013-06-06T12:13:54Z,chapmanb
80c88ecf9a2ba60b694db349f2d64ba00a43600a,roryk,rory.kirchner@gmail.com,Fall back to the original method of calculating the insert size for small files.,2013-06-05T21:40:45Z,roryk
c7d22485a26c8b2dc06f11caf673233df8d5cfab,roryk,rory.kirchner@gmail.com,Add an attibute to run only the rnaseq-analysis.,2013-06-05T16:47:15Z,roryk
c4fe28f147ff1f1f56a2a1d035b300ea3595270b,roryk,rory.kirchner@gmail.com,Use Picards CollectInsertSizeMetrics to calculate the inner distance.,2013-06-05T16:46:52Z,roryk
5f55866e5b489edb7fe7d28df19c365a848ed372,Brad Chapman,chapmanb@50mail.com,"Merge pull request #27 from brentp/template-comments

add comments to template for common options",2013-06-05T09:30:00Z,chapmanb
eb4a47e4adc35578704b0f1efcf835c79e7c8f49,Brent Pedersen,bpederse@gmail.com,add comments to template for common options,2013-06-04T17:46:23Z,brentp
b135bc09776c145e5afaa4422920e1b2fb2c95b8,chapmanb,chapmanb@50mail.com,Preserve YAML comments when downloading templates for local project preparation. Supplements #26,2013-06-04T17:31:11Z,chapmanb
f1c270d1f415796f55b6534e0d62451904664a8d,chapmanb,chapmanb@50mail.com,Provide template command to more easily prepare a local configuration template for customization. #22,2013-06-04T09:40:44Z,chapmanb
21188eb715a0fd405ad0416c14a4a9a239ed3405,chapmanb,chapmanb@50mail.com,Revert change to set aligner false for BAM files since BAM is commonly used to re-alignment from Illumina inputs,2013-06-04T09:26:03Z,chapmanb
c9e49db20d0c41f5a6aff139b52442a915b853b1,Brad Chapman,chapmanb@50mail.com,"Merge pull request #25 from brentp/sample-config

WIP: allow fastq.gz and *.gz files in template creation.",2013-06-04T09:24:11Z,chapmanb
b696f63a6210c285b2bfa6fb92e0046b432fbd27,Brent Pedersen,bpederse@gmail.com,set aligner to false when using bams as input.,2013-06-03T18:22:01Z,brentp
114ae4709dbb41df14f25deddcc8074cadfe7069,Brent Pedersen,bpederse@gmail.com,"adjust pairing to handle _R1, R2 file names. strip _R from description.",2013-06-03T18:11:03Z,brentp
946969bd69ab45bf6298bd9f54892021bc566e7e,Brent Pedersen,bpederse@gmail.com,allow fastq.gz and *.gz files in template creation.,2013-06-03T18:01:39Z,brentp
9c229939cd591f8d050dbcd7873980bd79c938d4,chapmanb,chapmanb@50mail.com,Document the method for identifying Galaxy location files for finding genome indexes (#24).,2013-06-03T15:37:03Z,chapmanb
e00afc9253d577a7874bf6a25015e9346b1bd8ed,chapmanb,chapmanb@50mail.com,Quiet variant filtration warnings on missing filter attributes since these fill up logs and make debugging difficult,2013-06-03T13:37:43Z,chapmanb
b6a4ee6daac9eeca123d1d4feaaa9176acf21d81,Brad Chapman,chapmanb@50mail.com,Ensure closing of local file handles when setting up nested local loggers,2013-06-03T01:13:06Z,chapmanb
1959602c0dfbc589457037dd5567e053b8190f0c,chapmanb,chapmanb@50mail.com,"Finalize initial attempt at providing a template to multi-sample configuration bridge (#22). Fix GitHub retrieval, add fastq pairing, clean up input options and provide documentation.",2013-06-02T12:18:58Z,chapmanb
ba9d6c924507f512e0be9547e00fea0448c3fc76,chapmanb,chapmanb@50mail.com,Cleanup of metrics preparation. Handle cases without merging of BAM prepped files. Do not do in-metrics de-duplication and use pysam to count duplicates. Use variant_regions for hybrid selection metrics if explicit bait/targets not specified,2013-06-01T18:50:20Z,chapmanb
c33d7c4b3b5170fa95a9fb4bc0ab26b1ab988a79,chapmanb,chapmanb@50mail.com,Initial framework for creating sample configuration files from input BAM files and template files. Work towards #22,2013-05-31T20:05:32Z,chapmanb
e4cf30cb5c8917ffa2129286bb234b5de27b6aa2,Brad Chapman,chapmanb@50mail.com,"Explicitly clean up ZeroMQ logging handlers used in IPython tasks, avoiding leaving open TCP connections. Fixes issues with large job numbers so revert regional splitting back to previous defaults",2013-05-31T13:12:40Z,chapmanb
0c17caa144ac43ebc7b63702ffe5927495837394,chapmanb,chapmanb@50mail.com,Avoid installation problem with ipython and git submodules by using editable flag. Fixes #23,2013-05-31T10:36:14Z,chapmanb
65febf63ed005448ed16477311a321310cdda280,chapmanb,chapmanb@50mail.com,Work around VarScan issue where it failes to generate a VCF header on regions that start with zero coverage. Thanks to @brentp for problem report,2013-05-31T00:22:03Z,chapmanb
c02b150026004db596e50d682a0f30e383fe54f3,chapmanb,chapmanb@50mail.com,Reduce default for number of split regions until IPython file handle issue is resolved,2013-05-30T15:44:09Z,chapmanb
5ed575d1fdfed9fa1e9fdca8e19be05a4f6448be,chapmanb,chapmanb@50mail.com,More robust naming of ID and SM read group information to avoid downstream conflicts. Add upstream checks at configuration read time to identify issues. Move naming and preparation checking to single location. Thanks to Zhengqiu Cai for problem report,2013-05-30T15:41:08Z,chapmanb
fd835e1d972ed7b770401d2be5dd8d8249ba11e1,chapmanb,chapmanb@50mail.com,Improve documentation on difference between hybrid_regions and variant_regions,2013-05-30T09:31:39Z,chapmanb
99eb812d2198dda07d64d3cb7d1dd7f75e2cc26c,chapmanb,chapmanb@50mail.com,Handle GATK BAM preparation with recalibration on genome regions without aligned reads,2013-05-30T09:28:30Z,chapmanb
d4c7f8065fdc5d4dce8ca6a9d7910d6bad2ebe90,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-05-29T09:44:51Z,chapmanb
991f198acba7e5458c235a2503c2054142b548a3,chapmanb,chapmanb@50mail.com,"Enable alignment post-preparation with recalibration and no de-duplication, supporting pre-duplicated inputs. Thanks to @brentp",2013-05-29T09:44:38Z,chapmanb
e4a11d0b733b0430f1fe18746268316de9285ae8,Brad Chapman,chapmanb@50mail.com,"Merge pull request #21 from brentp/check-target

make sure target file exists.",2013-05-29T01:19:34Z,chapmanb
b88180d17b9e9d3aacc40e1127c583eab7fa2b4e,Brent Pedersen,bpederse@gmail.com,make sure target file exists.,2013-05-28T22:48:53Z,brentp
fb15adc005a30fc0a20e4dd91c404b29bad7a594,chapmanb,chapmanb@50mail.com,"Ensure closing of subprocess stdout and stderr pipes, avoiding errors due to too many open files",2013-05-27T14:34:42Z,chapmanb
e4d35b045991e41d1fca608646088830a764c8fe,chapmanb,chapmanb@50mail.com,Shift debug level output to debug specific logging file to limit information in top level log,2013-05-26T16:24:09Z,chapmanb
a451810ea094a38c1d64e1858b32c7f39de47253,Brad Chapman,chapmanb@50mail.com,Merge with Rory's changes,2013-05-26T10:01:02Z,chapmanb
71a6ecfc14dbe82ba5905190c8361a22f0681be0,Brad Chapman,chapmanb@50mail.com,Distributed logging fixes for ZeroMQ. Add Logbook handlers that merge multiple logging streams into a single log. Fix for multiprocessing logging within ipython processes. Log running commandlines to a single file,2013-05-26T09:59:13Z,chapmanb
7a0aca19eddb3cff1c778d3c53a581d0b8696ea4,roryk,rory.kirchner@gmail.com,Fix for grabbing the URI for the logbook zmq handler.,2013-05-26T04:39:04Z,roryk
42baceb8581afb6b3883d8fe45917b43f1e6bbcd,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-05-25T19:20:50Z,roryk
b45ee7ffce747e76f7f61bb7db2bf70c9ee4cc7e,chapmanb,chapmanb@50mail.com,Improved logging: debug for single and multicore runs. Stream process standard out and error to debug log file for quick asssessment of progress and debugging,2013-05-25T15:32:29Z,chapmanb
2a892bde301e1d720ae83db7bcb4829d72292a8d,chapmanb,chapmanb@50mail.com,"Work towards improved distributed logging for local, multiprocessing and ipython/ZeroMQ cases",2013-05-24T19:48:02Z,chapmanb
1571eaabaa32ff960ab09195c81ef33530f6e5c1,chapmanb,chapmanb@50mail.com,Avoid re-identifying analysis regions unless nblock files changes. Provides back compatibility for older approaches so updates do not change pre-existing analyses,2013-05-24T11:42:16Z,chapmanb
1f7cc34f1d34fbec6ad9fbbbec15b13aa3af4e6a,chapmanb,chapmanb@50mail.com,"Improve assessment of callable regions: more identifcation and filtering of non-callable regions to final set of samples, allowing better spacing throughout a set of project samples",2013-05-24T02:01:29Z,chapmanb
675e5355420c898ab55eda5ec254f4b5c4b9c80e,chapmanb,chapmanb@50mail.com,Provide backwards compatible support for running some GATK 1.6 tools: recalibration still not supported. Generalize configuration retrieval and move into correct namespace,2013-05-23T15:44:18Z,chapmanb
a7c2c0b878449949ef16549fe55bd60b5c7199be,chapmanb,chapmanb@50mail.com,Provide link to biovalidation mailing list,2013-05-23T13:41:12Z,chapmanb
142ffdd2be5329ede0774ad049e9188a4dcf09d0,chapmanb,chapmanb@50mail.com,Provide link to biovalidation mailing list,2013-05-23T13:40:15Z,chapmanb
76d1ae9784bd63a3d6b7586a6e686176d325eb07,chapmanb,chapmanb@50mail.com,Update readme documentation to include links to blog posts. Provide history of changes per release,2013-05-23T11:19:15Z,chapmanb
1cab38809ea1fb6c6699c30db68fd57daee8188b,chapmanb,chapmanb@50mail.com,Support flexible switching between piped and non-piped approaches per aligner. Handles shorter reads with novoalign for piping and follows bwa/bwa-mem recommendations based on read sizes,2013-05-22T14:46:15Z,chapmanb
64ceef1c8e14e16d0500ebda051ab175e0369c13,chapmanb,chapmanb@50mail.com,Improve defensive code when validate information not present. Fixes #16,2013-05-22T10:16:40Z,chapmanb
f59f675ebc2f8fbfd3240ac14d60e89c7a966690,chapmanb,chapmanb@50mail.com,Unify text descriptions between overview and parallel diagrams. Thanks to @ohofmann,2013-05-22T10:00:38Z,chapmanb
3775130b5e69dc6b4cc615c6f8cc007887276ef9,chapmanb,chapmanb@50mail.com,Include default arguments for improved performance with novoalign in variant calling pipelines,2013-05-21T18:09:39Z,chapmanb
a69314c146bd560e2a401a5e95f28d61983f2fd9,chapmanb,chapmanb@50mail.com,Update VarScan to latest version with support for correct VCF indels and specifying sample names on commandline. Handle empty files produced by VarScan,2013-05-21T09:48:29Z,chapmanb
f025e125ab3ac260cce73d7f4fc5e72d1ad5e46f,chapmanb,chapmanb@50mail.com,Provide documentation on lane and description and their relationship to the BAM read group. Thanks to @tanglingfung,2013-05-20T19:56:00Z,chapmanb
79a1c9b4d0a1547248bc9bc3c70f6c580707f19e,chapmanb,chapmanb@50mail.com,Update heterogenous cluster diagram to improve clarity and use correct core counts.,2013-05-20T17:36:15Z,chapmanb
4e93209f6fd81c0ada9b31c438e0685322caa92a,chapmanb,chapmanb@50mail.com,"Provide generalized command to run external processes, logging the run and hooking into tracking execution. Allow arbitrary functions to check final output to avoid continuing after failed piped commands. Thanks to @brentp. Fixes #15",2013-05-20T17:10:07Z,chapmanb
97d8bdb5be77412749c39bd6ee7265c02db31b56,chapmanb,chapmanb@50mail.com,"Include grading summary as part of final project upload information, for #16",2013-05-20T12:14:16Z,chapmanb
99702041e63fe6aebf3978ce87d13a289e3a3ae6,chapmanb,chapmanb@50mail.com,Include project summary as part of final upload information. Thanks to @tanglingfung. Fixes #16,2013-05-20T12:07:43Z,chapmanb
7b7ca0ff178f191b41e91016ddd3f4e4d61292c3,roryk,rory.kirchner@gmail.com,Trim two lanes of a paired lane in parallel.,2013-05-19T00:36:43Z,roryk
15f194e7dd9bcb4faac5631d1f0f340bb02c952b,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-05-18T01:26:47Z,roryk
58737a3f2fefdaaf2486fe1a5c3cdb2942aa97ac,roryk,rory.kirchner@gmail.com,Removed unused imports.,2013-05-18T01:26:17Z,roryk
9278412c667d602caeb4be26e26ec2fc2c6afacc,roryk,rory.kirchner@gmail.com,Scheduler must be specified if using -t ipython.,2013-05-17T20:38:25Z,roryk
f216564a02acda746dbd430276d31531faaa7e9c,chapmanb,chapmanb@50mail.com,Update cluster documentation diagram with correct formula for cores created in multicore mode,2013-05-17T18:20:46Z,chapmanb
9eff6b596832d8dbadb6de1b02c7f36577ef28a3,chapmanb,chapmanb@50mail.com,Ensure lane information is not selected for configuration when querying arguments,2013-05-16T20:36:13Z,chapmanb
708d25f3837ac6930bbbb8bea3e9016a0c4e40cd,chapmanb,chapmanb@50mail.com,Use default novoalign treatment of multiple mapping reads unless otherwise configured,2013-05-15T19:40:27Z,chapmanb
29194ff08e3b349e97912d837f7b1b6dac1c657b,chapmanb,chapmanb@50mail.com,Provide ability to customize program resources for specific samples. Use customization to pass array of specific options to novoalign,2013-05-15T19:11:21Z,chapmanb
b1fd34ec28fb4bc6867eef6906e0088e4b4cebef,roryk,rory.kirchner@gmail.com,Fixed bam2sam import.,2013-05-15T15:43:02Z,roryk
1b08b236967cad2f78b54a3027592b00f62d81f5,roryk,rory.kirchner@gmail.com,Added converter from bam -> chromosome length sizes for freec.,2013-05-15T04:27:55Z,roryk
c7dde9e04ab4426a3bac81e4efc3cadabe7a89d1,roryk,rory.kirchner@gmail.com,Changed output extension for bam -> sizes conversion.,2013-05-15T00:53:20Z,roryk
25910bf564302d7c50fe589cf4f2434f970cdb22,roryk,rory.kirchner@gmail.com,Added a bam -> chromosome sizes converter.,2013-05-15T00:51:58Z,roryk
601e7ccf881c1f64dd7360c972a7a87bdf8b2c08,roryk,rory.kirchner@gmail.com,"Added a namespace for collecting file format tools.

These types of functions are sprinkled around, making them
hard to find/reuse, maybe collecting them in one spot is good.

Also included a decorator to check for file types to remove
some of the is-this-file-of-the-right-format-if-not-bail
boilerplate.",2013-05-15T00:39:06Z,roryk
b8a38d1d2c04438e4d628cc3b1140180bbcffb03,chapmanb,chapmanb@50mail.com,Add graphics for region selection strategy for parallel processing,2013-05-14T10:02:15Z,chapmanb
34f72f74e2c990af3f6c2b123b10f385663b534f,chapmanb,chapmanb@50mail.com,Update setup.py requirement versions to match requirements.txt. Fixes pysam 0.7 problem. Thanks to @brentp,2013-05-14T00:13:55Z,chapmanb
bc924836903b72a7482527379b312c4398e299eb,Brad Chapman,chapmanb@50mail.com,Tweak HaplotypeCaller workarounds for GATK 2.5-2,2013-05-13T14:10:18Z,chapmanb
55d3cd17bb23de300da47c61d4969e6a662f337e,chapmanb,chapmanb@50mail.com,Provide useful error message when non-supported samtools deduplication used with full-GATK pipeline,2013-05-12T16:53:23Z,chapmanb
80034bef860d9ae74098cfb53d7bac9d6aa2a1f4,chapmanb,chapmanb@50mail.com,"Provide piped GATK recalibration as part of post-alignment processing. Allows a fully piped process with recalibration, de-duplication and realignment",2013-05-12T10:37:19Z,chapmanb
0c1423a09ab7ee433dde57bc2c19d4991ce6df22,chapmanb,chapmanb@50mail.com,Add formal list of contributors and license information,2013-05-11T10:33:27Z,chapmanb
f1894a36d5d37de180d28b40ed79a7ac8913316e,chapmanb,chapmanb@50mail.com,Add formal list of contributors and license information,2013-05-11T10:32:09Z,chapmanb
b74152919caeabbf79a263ea9b64713f7143af31,chapmanb,chapmanb@50mail.com,Improve documentation for getting started and update example configurations. Thanks to Zhengqiu Cai and @brentp for useful feedback,2013-05-10T15:40:13Z,chapmanb
1b2abf59fefd3a44bf2419845c2a3b1b543697b6,chapmanb,chapmanb@50mail.com,Update requirements to use latest ipython with large cluster fix and ipython-cluster-helper. Remove celery as required dependency,2013-05-10T13:29:02Z,chapmanb
b0ec369d991a91a493cd91dc8b887e1200a03e27,chapmanb,chapmanb@50mail.com,Ensure selection of cores for multicore jobs respects configured algorithm choices. Avoids problems where cores are set differently for bwa/novoalign and only a single aligner is used,2013-05-10T12:50:57Z,chapmanb
c66505cfe7f484ccb08d35234141a7f910e99d76,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-05-09T18:40:58Z,chapmanb
e50c70f4a6459741ce51dff322cd3a9adf8a3fdc,chapmanb,chapmanb@50mail.com,Documentation: graphical overviews of variant calling and parallelization,2013-05-09T18:40:44Z,chapmanb
3fafc9c1b6e0104aa59572a5ecf66078aef40a40,Brad Chapman,chapmanb@50mail.com,"Merge pull request #14 from brentp/error-msg

add better error messages if program not found. see #13",2013-05-09T16:26:32Z,chapmanb
71965cda9a5a436f4e42387fd5514c05ab977e4e,Brent Pedersen,bpederse@gmail.com,add better error messages if program not found. see #13,2013-05-09T14:04:23Z,brentp
5486af3acbb5e4dde7a2d906af422ea11ab3ac68,chapmanb,chapmanb@50mail.com,Catch bioblend import errors and re-raise at usage time to avoid problems when not using Galaxy integration. Fixes #12,2013-05-08T20:25:24Z,chapmanb
5a567185637f59f5776471aa46701137ab5ab0c5,chapmanb,chapmanb@50mail.com,Handle symlinking of input files when previously exists. Thanks to @brentp,2013-05-08T15:35:45Z,chapmanb
c92fe17fc01be72a79dd2cf937c232847655b91c,chapmanb,chapmanb@50mail.com,Release v0.6.4,2013-05-06T12:24:26Z,chapmanb
82e9bf186d4f0cc4521a3142abfa4349e2a90215,chapmanb,chapmanb@50mail.com,Provide URLs in exome documentation for exome region file,2013-05-03T19:44:20Z,chapmanb
c4788d38267ddc65d8629cdb3fed72005f47c259,chapmanb,chapmanb@50mail.com,Remove reference and filtered calls when evaluating variants for handling pooled calling comparisons to reference materials,2013-05-01T14:00:30Z,chapmanb
d327ff80206d804ab3ee620cdce5a87b078a56c5,chapmanb,chapmanb@50mail.com,Include insert size metrics for paired end input from BAM files. Thanks to @tanglingfung in #11,2013-05-01T13:30:22Z,chapmanb
7748b5566298bf2b92a1cab0c5c85d5fb663f64e,chapmanb,chapmanb@50mail.com,Exome method comparison example configuration file and documentation,2013-05-01T01:00:58Z,chapmanb
b9a259dd1335634ea12b237d50889f692c0628c8,Brad Chapman,chapmanb@50mail.com,"Fixes for handling validation on NA12878 platinum genome example, HaplotypeScores in GATK 2.4. Workaround hack for problems with alignment in GATK 2.4 HaplotypeCaler",2013-04-28T11:04:18Z,chapmanb
b9ff1af07f96d3840e52e133091f5d52441a6098,chapmanb,chapmanb@50mail.com,Check samtools version for multithreaded execution used in piped analysis. fixes #9,2013-04-26T11:31:58Z,chapmanb
fb5a21f06e91ff8e8eb0cd5077c66caac593d5a0,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-04-26T10:14:51Z,chapmanb
6b24071572cfa2df7335764ca43063d48791dadb,Brad Chapman,chapmanb@50mail.com,Update nomapping size and number of target default values to get improved separation of chromosome regions in whole genome analyses,2013-04-26T10:14:34Z,chapmanb
a41fdad8875fbcd01b1498390e2114b93e5cb99e,chapmanb,chapmanb@50mail.com,Correctly handle projects with validated and non-validated samples,2013-04-25T15:58:00Z,chapmanb
099e60f8e72496bcfe729ddc6fabc3dcb1150fe1,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-04-25T13:43:53Z,chapmanb
ab65f463ff95120a235efe8f3d79e2287f62c409,chapmanb,chapmanb@50mail.com,Remove implicit connection between analysis blocks and variant regions to analyze. Allow subsetting of a full BED file by variant region defined by chromosome:start-end,2013-04-25T13:56:05Z,chapmanb
bb38e185d23e13dd7f98d4ab5ffb9fef6bd0329b,Brad Chapman,chapmanb@50mail.com,Report total discordant values for each category during validation summarization,2013-04-25T13:40:38Z,chapmanb
fea73702f43a3255a5dc6fd0dc1bd771f3262f9b,chapmanb,chapmanb@50mail.com,New approach to picking callable block regions. Identify callable blocks then pick subsets of these roughly dividing the genome up into an equal number of target parts. Keep callable block regions for subsequent restriction within each larger region,2013-04-25T10:32:00Z,chapmanb
2fdab2550b3ebcf08c8d92c91d395dc1a9f30170,chapmanb,chapmanb@50mail.com,Provide detailed documentation on example NA12878 whole genome dataset. Include validation of final callset as automated part of run,2013-04-24T16:10:24Z,chapmanb
f8c6bf0aa294898839d1d97101a423eca4d7c11f,chapmanb,chapmanb@50mail.com,Provide detailed documentation on example NA12878 whole genome dataset. Include validation of final callset as automated part of run,2013-04-24T15:43:57Z,chapmanb
f676c331e80ca7dd6fc35ceb55415b49bb72d1e9,roryk,rory.kirchner@gmail.com,"Ensure too-short reads are not dropped when trimming adapters.

Explictly set the default to prevent mistakes.",2013-04-23T18:48:36Z,roryk
9c4467fb4fc458c4115a1fc8805cc0c5fed59d4f,chapmanb,chapmanb@50mail.com,Ensure callable file is subset to final callable regions as input to validation,2013-04-22T15:03:41Z,chapmanb
2e8068cc7c0307c6c891380811894dad43cd019d,chapmanb,chapmanb@50mail.com,"Use callable BED regions, subset by defined variant calling regions, as inputs to grading comparison",2013-04-22T13:23:59Z,chapmanb
ca1b63b918b895b8040755a4e465a68eb75a5d4e,Brad Chapman,chapmanb@50mail.com,Clean and prepare both reference and evaluation samples during validation,2013-04-22T10:22:34Z,chapmanb
17464fe2e00769ea8cff042ecde7dec74ed07175,chapmanb,chapmanb@50mail.com,"Allow specification of alternative genome build for validation file, which handles hg19/GRCh37 differences",2013-04-21T17:44:52Z,chapmanb
1db5766bc52cda948fdae417e9b1eae491d1c4d0,chapmanb,chapmanb@50mail.com,"Allow variant files as inputs to pipeline, enabling comparisons of external or previously run results with current analysis",2013-04-21T11:05:55Z,chapmanb
b71ab86ab00152c0c958670d6aa566aba779406c,Brad Chapman,chapmanb@50mail.com,Filter FreeBayes calls by probability to avoid very low probability calls that give GATK tools problems. Shorten commandline for large variant combines,2013-04-20T14:00:13Z,chapmanb
a516b2890f671bc67fe874ba8356d7486ae9ad60,chapmanb,chapmanb@50mail.com,Fix os.path.dirname type. Thanks to @tanglingfung. closes #10,2013-04-19T23:17:28Z,chapmanb
d8944b6a0e2e9b66c60305b600cc342758869c0a,chapmanb,chapmanb@50mail.com,Add configuration target to avoid creating coverage bigwig files,2013-04-18T01:10:11Z,chapmanb
b0f6e364b0ef45895c70e01e2748902758507a2f,chapmanb,chapmanb@50mail.com,Cleanly call Picard for version information avoiding issues with jvm options. Thanks to @tanglingfung in #9,2013-04-14T18:45:52Z,chapmanb
c7f53a5fdbf750a09d2953ebdc1d603b5c73c881,chapmanb,chapmanb@50mail.com,Ensure localizing to configured variant calling regions when combining results from parallel calling. Allows parallel processing to combine regions to reduce total call sections while producing an output that matches expected regions,2013-04-14T18:10:11Z,chapmanb
f3aa10f623e3058680eda1f0ac67bb63cfd8bc69,Brad Chapman,chapmanb@50mail.com,Avoid problems with streaming BED output when checking for expansion of small regions. Increase size of slop added to small regions,2013-04-14T16:32:11Z,chapmanb
9152b80efcdec6f16e4c1ff6cd24accd1a392ebe,chapmanb,chapmanb@50mail.com,"Provide padding for small callable analysis regions, helping reduce the total number of regions to analyze",2013-04-13T17:41:56Z,chapmanb
46b5439f383489bfba6a3c6c4979b4555467f15b,chapmanb,chapmanb@50mail.com,Add link to stable version of plink_to_vcf script. Thanks to @kyzhao. closes chapmanb/bcbb#73,2013-04-12T23:27:16Z,chapmanb
1957af403f0ed2f88af4287cf404edd2a7338822,roryk,rory.kirchner@gmail.com,Return proper file name during Tophat memoization.,2013-04-12T21:43:58Z,roryk
cd95433c6cd83224a6c9b6dad79d5f780f2e471f,chapmanb,chapmanb@50mail.com,Avoid extra calls to retrieve GATK version hidden in retrieval of annotation parameters. This speeds up re-runs with large samples,2013-04-09T17:52:55Z,chapmanb
573a627503a0ebba80afba613ec77f6ae23d5a9d,Brad Chapman,chapmanb@50mail.com,Correctly collapse callable regions with small blocks created by exome capture experiments. Allow specification of validation regions to restrict comparison,2013-04-07T09:27:16Z,chapmanb
ed27f0c000bff85e7efc3d8260da915803286b43,chapmanb,chapmanb@50mail.com,Provide flattened summary of discordant grading to feed into graphical displays of changes,2013-04-06T17:45:08Z,chapmanb
659329156d3dd64fcc6379092d7eff8aff5de26c,chapmanb,chapmanb@50mail.com,Improve installation script to install correct fabric dependencies and provide better documentation and errors for other missing dependencies. fixes #3,2013-04-05T15:52:50Z,chapmanb
26707334a3f25880386449df73c80c424b9c4b6a,chapmanb,chapmanb@50mail.com,Extract bed file from ensemble comparison only when produced by bcbio.variation. Feed callable regions into bcbio.variation for variant2 pipelines,2013-04-04T16:40:45Z,chapmanb
7ab326c9a99c643da600d02622a0b97cf6eb13fe,chapmanb,chapmanb@50mail.com,Cleanly handle cases where reference sample names differ from evaluation. Combine validation information from multiple callers,2013-04-04T00:49:39Z,chapmanb
ade139ddf516d80156808c93ca78d2ab7d2515ae,chapmanb,chapmanb@50mail.com,Add hooks to perform validation and grading of variant calls against supplied reference materials with bcbio.variation,2013-04-03T19:27:43Z,chapmanb
98f0bdb50c07c69662bc83349628a4f50dba31df,chapmanb,chapmanb@50mail.com,Correctly extract configuration for getting java resources for bcbio.variation. Allow input YAMLs without upload section,2013-04-02T18:01:51Z,chapmanb
f6cd95dd1ebcfc6293a00ba5c84886cdaf33a27f,chapmanb,chapmanb@50mail.com,"Provide piped alignment and output for novoalign, supporting gzipped input files directly",2013-04-01T18:42:14Z,chapmanb
e09459bd0d8b625a1a2c16d08f615fbac23eb415,chapmanb,chapmanb@50mail.com,Handle older GATK versions when inspecting version numbers,2013-04-01T16:39:55Z,chapmanb
4bab5f522bebb3e19cb37be8d2681b6e9cfacbfb,chapmanb,chapmanb@50mail.com,"Create gemini databases for batch populations and individual human variant analyses. Prefer this over VariantEval, which is now removed. gemini provides more flexible queries and is more performant on large input files",2013-04-01T14:13:27Z,chapmanb
a7b2560421875312ceca330951ffb860ce0b8170,chapmanb,chapmanb@50mail.com,Correctly grab and progress entity information from nested arguments. Add fastqc to commandline versions,2013-04-01T11:08:43Z,chapmanb
76a546681f5dd7cf9eaede159237b6328ad01e18,chapmanb,chapmanb@50mail.com,Provide basic framework to start tracking run diagnostics,2013-04-01T01:17:24Z,chapmanb
018d25f4d200367e6ddc026d3f3272f8ef6a1d9e,chapmanb,chapmanb@50mail.com,Extract program information used in pipeline and upload to output results folder,2013-03-31T12:36:59Z,chapmanb
343bca4a48c454ac588ef1837938bcfe77c0496d,chapmanb,chapmanb@50mail.com,"Retrieve installed versions for software used in the analysis pipeline, plus general framework to add versions for additional tools",2013-03-30T23:51:22Z,chapmanb
cdb8f5a93a43a462c9871c502f85b79a051e3def,chapmanb,chapmanb@50mail.com,v0.6.3 release,2013-03-29T18:32:38Z,chapmanb
faf45e6607a5624d335fb6b981ef76d3899ab3d9,chapmanb,chapmanb@50mail.com,v0.6.3 release,2013-03-29T18:32:16Z,chapmanb
9e0f7c56c7adbbc2a6d265d4950b18374555db90,chapmanb,chapmanb@50mail.com,Provide example pipeline and documentation for NA12878 whole genome illumina data,2013-03-29T18:30:01Z,chapmanb
2db987724ba386d68f85fd668d40e3d1031715eb,chapmanb,chapmanb@50mail.com,Provide example pipeline and documentation for NA12878 whole genome illumina data,2013-03-29T18:28:15Z,chapmanb
82eadb635d38bbb918e9984ab892490ea6b0930d,chapmanb,chapmanb@50mail.com,Require post-variant phasing to be explicitly enabled and document configuration option,2013-03-29T12:01:57Z,chapmanb
d2cfc5ca01ee39eeda019a37e2cdc9ae92a35a6f,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-03-29T11:55:53Z,chapmanb
5055cec10cafad3fcff740f7955c64844e0a47d9,chapmanb,chapmanb@50mail.com,Remove explicit numpy dependency to improve installation process,2013-03-29T11:55:43Z,chapmanb
384ec1c708e11f0adddb1e5e6464ae81e12af9a1,chapmanb,chapmanb@50mail.com,Improve logging and avoid slowdown with multiprocessing on large numbers of concurrent tasks,2013-03-29T11:02:09Z,chapmanb
397249d3806ccde1ee021f320146ec82e98201b6,chapmanb,chapmanb@50mail.com,Downsample by default for phasing to avoid slowdowns in deeply covered regions,2013-03-29T00:10:46Z,chapmanb
98d33b4ea57bc057dd003e9c942c401cea2c3ee9,chapmanb,chapmanb@50mail.com,"Apply java options, especially memory usage, consistently across all Java usage, to avoid large default stack usage on large memory machines",2013-03-28T14:01:27Z,chapmanb
fbbac308d21af2202057bb6d7f8c9f1619c75b80,chapmanb,chapmanb@50mail.com,Provide standard downsampling during GATK variant calling to match 2.4 defaults on older versions: 250bp per sample downsampling,2013-03-28T13:29:52Z,chapmanb
721ce5f0e8ca2b21845a7a42eac4c15d935af42e,chapmanb,chapmanb@50mail.com,Improve resiliancy of calling to restarts and intermittent failures when phasing is enabled. Avoid cleaning up prepped BAM regions when merging to allow easy re-calling on parts,2013-03-27T16:33:35Z,chapmanb
2302d146846d4eeb48a004bcfb252fece998321f,chapmanb,chapmanb@50mail.com,Additional GATK read filter to deal with output from bwa mem,2013-03-27T02:15:12Z,chapmanb
54093c8d1ec2c886e66e936b1b39a617f302e9b5,chapmanb,chapmanb@50mail.com,More cleanly capture version errors in older GATK jars. Restricted VariantEval to only input VCF positions to speed up evaluation.,2013-03-27T00:54:48Z,chapmanb
3598da93ffd1fd868e939257136c4c150e0a2580,chapmanb,chapmanb@50mail.com,Support direct piped alignment for gzipped files of >75bp reads with bwa mem,2013-03-26T18:35:41Z,chapmanb
75e69d82d985f82d08d01360abb758107a09022b,chapmanb,chapmanb@50mail.com,Correctly restrict samtools mpileup by region when no BED file of calling regions supplied,2013-03-25T19:19:53Z,chapmanb
344dc8b3d1430628006e8ff063921ddf98a9f77f,chapmanb,chapmanb@50mail.com,Support samtools and varscan calling with new region-based analysis approach,2013-03-25T17:43:59Z,chapmanb
7b6c577e355db1c3a43d62406f6a08a8e4d18057,chapmanb,chapmanb@50mail.com,Better defaults on resource usage for piped bwa and samtools. Filter bad cigar values that cause issues with GATK tools. Fix typo during bamprep.,2013-03-25T15:01:16Z,chapmanb
363adf6a184408edc83e2d4c125977fc1c8964b8,chapmanb,chapmanb@50mail.com,Correctly identify callable regions when not using BED file to restrict variant regions,2013-03-25T12:55:55Z,chapmanb
9e86054781784a2c797838d771277918b50c5f03,chapmanb,chapmanb@50mail.com,Provide fully piped bam preparation pipeline with samtools and gkno tools,2013-03-25T12:46:19Z,chapmanb
b52e3fbb768492aa5fb168c02db6cd053debd565,chapmanb,chapmanb@50mail.com,Provide fully piped bam preparation pipeline with samtools and gkno tools,2013-03-25T12:41:18Z,chapmanb
bf806030d9df25c7ab055f1fd992bd50697b073f,chapmanb,chapmanb@50mail.com,Favor serial execution with more task cores over splitting multiple samples with less cores when running single machine analyses,2013-03-25T10:46:36Z,chapmanb
496f5c0e18bcad48d2d23c3c3e048ae83f55c57a,chapmanb,chapmanb@50mail.com,Provide framework for fully piped deduplication and recalibration during BAM preparation with bamutil and gkno tools,2013-03-25T00:55:56Z,chapmanb
84c7a3fedd51b31c1f1deb86cbffa726d0e85506,chapmanb,chapmanb@50mail.com,Improve organization of regional bam prep to support alternative non-GATK prep pipelines. More cleanly handle incorrectly specified input files,2013-03-24T17:25:05Z,chapmanb
5b53268162684ef1791173733318e3fbd964628d,chapmanb,chapmanb@50mail.com,Support torque scheduler as commandline option,2013-03-24T10:16:51Z,chapmanb
adeef760e6659319df68e8d1b8441dc264266d10,chapmanb,chapmanb@50mail.com,Correctly generate BAM output during piped processing when not marking duplicates or realigning,2013-03-23T16:56:02Z,chapmanb
510a906f3c5171379b72bcc378062bc23e23118a,chapmanb,chapmanb@50mail.com,Provide better error messages when no analysis regions are found with aligned reads,2013-03-23T13:20:15Z,chapmanb
91ca373b28e412bba937f6bc8903eebce0c06226,chapmanb,chapmanb@50mail.com,Require cython installation before bcbio-nextgen requirements for pybedtools dependency,2013-03-23T10:38:14Z,chapmanb
bbcc7437082ca538a26997f6b890fb51798e5ec5,chapmanb,chapmanb@50mail.com,Generalize detection of configuration in ipython tasks to fix logging setup. Handle older system YAML files without variant section.,2013-03-23T10:05:44Z,chapmanb
dce02f6fcb061658b027accc10f9b295209ea793,chapmanb,chapmanb@50mail.com,Switch to generalized ipython-cluster-helper to run ipython cluster,2013-03-22T19:01:54Z,chapmanb
bf899a799f468313e3910774fbbba970757e1d6f,chapmanb,chapmanb@50mail.com,Symlink in input BAMs and indexes when not performing alignment. Avoid picard index with both types of .bai index naming. Thanks to Zhengqiu Cai,2013-03-22T17:11:05Z,chapmanb
3f0c2798f134fdeaf5679ae41423edd207032cb6,chapmanb,chapmanb@50mail.com,Avoid issue in bedtools subtract with single interval BED file,2013-03-22T16:48:27Z,chapmanb
a51127ee666417b60d9624332e4ba6267bfaf4a7,chapmanb,chapmanb@50mail.com,Write no coverage blocks for regions excluded from callability via input BED files,2013-03-22T11:12:35Z,chapmanb
668eb8f779dcecf4ab4cbe9f7297a77a91841c73,chapmanb,chapmanb@50mail.com,Avoid calculating CallableRegions with variant BED files when chromosomes are excluded entirely. Handle BED region files with non-tab spacings.,2013-03-22T01:34:46Z,chapmanb
c9ecade6f13e33703b503fde369e23ab5808eb43,chapmanb,chapmanb@50mail.com,Reinclude accidentally deleted BAM input test configuration,2013-03-21T16:10:28Z,chapmanb
c613997036a069709137c061566b35955386c212,chapmanb,chapmanb@50mail.com,Provide option to clean and sort input pre-aligned BAM files for Picard/GATK compatibility,2013-03-21T16:08:46Z,chapmanb
f4cfa88bd06d75334ac7548cc4a3de210ab12486,chapmanb,chapmanb@50mail.com,"Add multicore bwa-mem alignment for input BAM files: handle sorting, preparation to BAM, alignment and post-alignment sorting using pipes to avoid file IO",2013-03-21T09:35:57Z,chapmanb
d6387e0bf610f101b32d5942b2f2e7e9e985eee0,chapmanb,chapmanb@50mail.com,0.6.2 release,2013-03-20T15:40:18Z,chapmanb
dcaa47e3a35f4240f30f15c00810e2c92cf240e8,chapmanb,chapmanb@50mail.com,"Improve handling of BAM index files, avoiding regeneration where possible and doing index work in more parallel tasks",2013-03-20T09:52:58Z,chapmanb
c2adb57d4b41548467194ee8ef78d751a1cbdd06,chapmanb,chapmanb@50mail.com,Lower number of sent parallel tasks to avoid imbalanced work between nodes,2013-03-19T23:53:56Z,chapmanb
4ffb21e5a7e3aeb6566ab99bf8079c381e4f2c5f,chapmanb,chapmanb@50mail.com,Finalize variant2 regional pipeline with merging of prepared BAM files. Provide hooks to skip merge for variant-call only runs and add documentation on options,2013-03-19T09:59:15Z,chapmanb
50033ac7976c8fac699ea7c5adfeca5136009831,chapmanb,chapmanb@50mail.com,Organize post processing summary preparation and add switch to skip if not needed,2013-03-18T19:18:07Z,chapmanb
b29c715994fe713095dc40d0b72f211ae27b2d5e,chapmanb,chapmanb@50mail.com,Additional tweaks for improving IPython performace on large clusters: avoid scheduling overhead. Thanks to @roryk,2013-03-18T17:57:02Z,chapmanb
483fc0166fb060159d502206aa37ed329ea871aa,chapmanb,chapmanb@50mail.com,Alternative approach to improve run time for large ipython parallel jobs: reduce size of passed data to avoid json serializing speed issues,2013-03-18T13:22:30Z,chapmanb
0c1c1f0d92fb444c9da746e602d44e01b2dc2fec,chapmanb,chapmanb@50mail.com,Tweaks to speed up ipython processing and analysis of large distributed jobs,2013-03-18T12:45:39Z,chapmanb
f01a5eaf62bcd410d72c3553fc54fe598c03e964,chapmanb,chapmanb@50mail.com,Avoid creating cluster for preparing lane information if no heavy processing is required. Handles standard input cases without file conversion or splitting.,2013-03-18T02:07:11Z,chapmanb
292a67553d306e97c1f448c9959b255578380191,chapmanb,chapmanb@50mail.com,Support multiple callers in regional variantcalling. Cleanly handle FreeBayes post filtering,2013-03-17T17:12:12Z,chapmanb
141ac15d4b685a84f540e56db75ccd3441eace54,chapmanb,chapmanb@50mail.com,Correctly handle combine maps when delaying merging on regional analysis. Allow delaying BAM file merging until after variant calls.,2013-03-16T22:02:21Z,chapmanb
7a4daca0fec3e2cbc07d734223debcb4d00033a8,chapmanb,chapmanb@50mail.com,"Improvements for identication of analysis blocks: force minimum size of blocks, create larger default size of intervening blocks, provide statistics of distribution of analysis block sizes",2013-03-14T23:40:04Z,chapmanb
156f02cd5db2da374ed627c509c274df7b9fcb73,chapmanb,chapmanb@50mail.com,Correctly combine and merge multiple BED files using pybedtools. Save derived analysis blocks to BED file to avoid recalculating,2013-03-14T18:16:46Z,chapmanb
7348b15e9b889ac33a4965f52678ddf9578f5c35,chapmanb,chapmanb@50mail.com,Move variant phasing to regional analysis and improve variant post-processing organization,2013-03-14T17:34:44Z,chapmanb
6f652c98d23068298c090dafcfe3d243147f63d7,chapmanb,chapmanb@50mail.com,Support region based calling in GATK and Freebayes. Provide correct final merge file for each sample,2013-03-14T10:48:35Z,chapmanb
154c49585307b8c76afebef01ca80c74af6f69b8,chapmanb,chapmanb@50mail.com,Check for installer dependencies and provide more friendly error messages. Thanks to John Hudson,2013-03-13T19:36:09Z,chapmanb
d2868779f37beac7162b096a375681036d2c59a2,chapmanb,chapmanb@50mail.com,"Feed piped regional BAMs into variant calling. Handle organizing output and input for parallel, sample grouped calling",2013-03-13T19:26:39Z,chapmanb
fe01add93e7eb3dad937a4812cb2b7f5f2f15c34,chapmanb,chapmanb@50mail.com,Ensure selecting current configuration argument when adding core information to configuration when parallelizing,2013-03-13T15:18:01Z,chapmanb
23e23fa5f83983b1520529a3310970c4b4dede77,chapmanb,chapmanb@50mail.com,Correctly add multicore information to ipython parallel jobs,2013-03-13T10:49:51Z,chapmanb
a69785d90ba5f5b85562b8ed3765b211b704d638,chapmanb,chapmanb@50mail.com,Correctly add multicore information to ipython parallel jobs,2013-03-13T10:42:23Z,chapmanb
22dc2abb11b96916f48599cbec9bc0050de9c5ee,chapmanb,chapmanb@50mail.com,Provide multicore implementation of CallableLoci that splits by chromosome since GATK walker is not parallelized,2013-03-13T10:11:32Z,chapmanb
bc5634e78dc9350a42afff2679d7a29dcb5da67e,chapmanb,chapmanb@50mail.com,Correctly set ipython metadata for piped alignment preparation,2013-03-12T11:24:34Z,chapmanb
8a94fa048732bba13c72773c04bbd1627b877e85,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbio-nextgen,2013-03-12T11:07:45Z,chapmanb
393f1d15f394cf5112ed15ee439ac9617e8c0c9f,chapmanb,chapmanb@50mail.com,Increase timeouts to handle starting larger ipython clusters,2013-03-12T11:07:37Z,chapmanb
528e1f0a089c3c3a570dcba02eb0735312e710c1,chapmanb,chapmanb@50mail.com,"Piped regional BAM prep for GATK algorithms: de-dup, recalibration and realignment. Requires intermediate files to make GATK happy",2013-03-12T11:05:11Z,chapmanb
1f9b78dc37cb01d4fc5ebbca8fd691bde552aebc,chapmanb,chapmanb@50mail.com,"Initial framework for piped, regional distributed analysis: handles selection and marking of duplicates",2013-03-11T20:05:39Z,chapmanb
748f43fa8cfc2d6ee4d602227d2e7327505ef2c9,chapmanb,chapmanb@50mail.com,Handle restricted analysis regions when preparing parallelizable blocks. Write blocks analyzed to BED files and provide handle for extracting reads in non-analyzed regions,2013-03-11T11:10:13Z,chapmanb
4e8766bdd1a6e41ebc7cf9428798bb1475077a14,roryk,rory.kirchner@gmail.com,htseq-count set to be the default method of gene-level quantitation.,2013-03-11T03:59:41Z,roryk
3f585c21bac9a4cbc66086562d8fae15fb729a51,roryk,rory.kirchner@gmail.com,Removed unused imports.,2013-03-10T21:23:43Z,roryk
e17a73b316e8ef510f2ba552518ae6d80b117400,chapmanb,chapmanb@50mail.com,"Framework for simplified variant caling approach that handles no-multiplex cases with additional parallelization and less disk IO. Implement alignment, identification of callable blocks and recalibration calculation",2013-03-10T18:00:35Z,chapmanb
37f881ed854406991150697097260b2d83f72a97,chapmanb,chapmanb@50mail.com,Set num_cores in config:algorithm based on hints from program resources plus realities of parallelization. Allows matching of run to either local or parallelel multicore environments without changing default configuration,2013-03-09T18:25:15Z,chapmanb
50cc44bd598fe8ccb6f0f3df26b6acbe43d2b64b,chapmanb,chapmanb@50mail.com,Identify parallelizable islands of mapped reads surrounded by unmapped regions. Add pybedtools as dependency for identifying blocks,2013-03-09T15:47:25Z,chapmanb
a7f5e08d81b2658fcb9a50bb53e0b17485dc7d69,chapmanb,chapmanb@50mail.com,Provide hooks to calculate callability for aligned BAM files,2013-03-08T16:04:46Z,chapmanb
c0f86c9445783f92a9ae7b605f4471e0b4146120,chapmanb,chapmanb@50mail.com,Improved documentation for installer options. Thanks to Tim Fennell,2013-03-08T02:24:58Z,chapmanb
abf70611962fe62c70f32c451ff75bea06299003,chapmanb,chapmanb@50mail.com,Provide support for UnifiedGenotyper and Haplotype calling in GATK 2.4,2013-03-07T20:17:59Z,chapmanb
20a38fa4b90e889ee21961ae37fc745957e93ffe,chapmanb,chapmanb@50mail.com,"Provide upload of results to S3 buckets following processing, including specification of file metadata",2013-03-07T15:22:32Z,chapmanb
39ae9da0794f09568e180c38d4d2dc6a4fc9c89b,chapmanb,chapmanb@50mail.com,"Improved ipython tweaks for large clusters: use SQLite backend, add additional time to wait for JSON controller connection",2013-03-07T14:01:15Z,chapmanb
ded8298b3bc43103be1cd21ad363cd6ebd6bcd3e,chapmanb,chapmanb@50mail.com,"Provide initial workflow for interfacing with STORMSeq on AWS, including download from S3 buckets",2013-03-06T19:25:27Z,chapmanb
df9810e2d3472a05373539cfdc357207f1877f91,roryk,rory.kirchner@gmail.com,"Excluded unit test data directory and file.

Also added some other random detritus.",2013-03-06T17:57:14Z,roryk
78d2c85996bc5d0db514520187588319e8396cda,roryk,rory.kirchner@gmail.com,Made htseq_count transactional.,2013-03-06T17:51:29Z,roryk
6bee0bf1abb0dad2f18e1696d7f89d60ecdef527,roryk,rory.kirchner@gmail.com,"Swapped htseq_count output to return a sample dictionary.

Added ""count_file"" as a field to the sample dictionary.",2013-03-06T17:34:50Z,roryk
01ef7a521a2222c9b7cb34fff93d6ae184b55187,roryk,rory.kirchner@gmail.com,Made a couple of functions that should not be public private.,2013-03-06T17:10:07Z,roryk
bf6791a853b14c1f55f116293fa55616fc47c871,roryk,rory.kirchner@gmail.com,"htseq_count added.

Used for generating raw counts of the number of reads mapping to
features given a BAM file and a GTF file for use with downstream
tools such as DESeq and edgeR.",2013-03-06T17:02:29Z,roryk
112b5c2a611c25119a1a7f736b66a71d6e58efd1,chapmanb,chapmanb@50mail.com,Improve clarity of commandlines for piped commands: use string formatting to expose full pipelines run,2013-03-03T11:20:10Z,chapmanb
fde94256b410057c9886dbc42785a8b19e5bc0cf,roryk,rory.kirchner@gmail.com,Updated comment to include bam_align_fn.,2013-03-03T05:24:00Z,roryk
39c942ee511464e3e0a912ea81c9b3f2af55351d,roryk,rory.kirchner@gmail.com,Added 'which' which works like unix 'which'.,2013-03-02T22:47:01Z,roryk
60b5138810a1be2c33843215e9d7d7e9a7e627c3,roryk,rory.kirchner@gmail.com,Forgot to commit this unit test.,2013-03-02T21:14:52Z,roryk
b891ead43bad73f398d545774e797842a8088c23,chapmanb,chapmanb@50mail.com,"Provide realignment with gkno tools -- bamtools, ogap, bamleftalign.",2013-03-02T11:14:48Z,chapmanb
4f9440c03b34ec08d31e615b5a87dfa4da3a6fd8,roryk,rory.kirchner@gmail.com,Cleaned up commented out code.,2013-03-02T06:42:25Z,roryk
8f03a1aeff4788a018bc6a2cf8cce7ea80f208d1,chapmanb,chapmanb@50mail.com,Updates to FreeBayes filtering for 0.9.9 using new defaults. Avoid post-filtering of FreeBayes and rely on single quality filtering,2013-03-01T19:59:07Z,chapmanb
f74d6deabdd16fb9bbd9f83866e5c29a4c60fb20,chapmanb,chapmanb@50mail.com,"Release 0.6.1 finalization: improve usage message for bcbio_nextgen, update documentation and requirements, add development installer for upgrade in place",2013-03-01T13:07:32Z,chapmanb
c2538d2d6015534af448fdbb29feac46d3ea5d76,Brad Chapman,chapmanb@50mail.com,Fixes for SGE support; ensure we can find a parallel environment for launching multicore jobs,2013-02-28T17:49:24Z,chapmanb
bf052a175969177beb42e8640c5412a3f922f1fe,chapmanb,chapmanb@50mail.com,Fixes for new RNA-seq trimming. Move definitions of supported adapters in-line,2013-02-28T15:01:01Z,chapmanb
c0bc4f46feac97478cfa8f8ba2c733fb894844bc,chapmanb,chapmanb@50mail.com,Upload variant calling regions to final directory when available. Avoid BAM file upload if not processed. Bug fix for workflows to change into working directory,2013-02-23T18:54:03Z,chapmanb
a070a24c00ec7347ed37a00bc1ffe6636be7eb26,chapmanb,chapmanb@50mail.com,Provide workflows as part of toplevel bcbio_nextgen command. Update xprize ensemble workflow to use new structure,2013-02-23T18:08:26Z,chapmanb
95ae262082ac2448ea8b4c973d415032a602b9bd,chapmanb,chapmanb@50mail.com,Update README to display nicely in both pypi and GitHub,2013-02-22T14:03:11Z,chapmanb
e2a408496d611ede1c820e1139b084fbe9b63698,chapmanb,chapmanb@50mail.com,Update dependencies to latest versions of numpy/biopython and lock down pyzmq,2013-02-22T13:38:35Z,chapmanb
339c157e1ee896ab22be9b8db308a2940c8e2e6a,roryk,rory.kirchner@gmail.com,Skip insert size calculation if --mate-inner-dist is globally set.,2013-02-21T22:51:38Z,roryk
d58dda1b6f889e9ce62513e4ff4999df74825691,roryk,rory.kirchner@gmail.com,"Adapter read through trimmer added.

Uses cutadapt and some known adapter sequences to trim off reverse
complemented adapters from the end of reads with small insert sizes.
It also can trim off trailing polyA sequences as well.

Introduces a change to the YAML file. trim_reads: is no longer true/false
but can pass a parameter. To do the read through trimming, the
parameter is 'read_through'.

adapters are specified with adapters: [list_of_adapters]. A set of
known adapters is supplied; right now truseq and nextera are supported
as well as polya.

Non-supported adapters can be supplied as raw sequences under 'custom_trim'.
These extra sequences will not be reverse complemented though.",2013-02-20T23:44:51Z,roryk
5d13c484a87058429fb6fee969148867dae74b4e,roryk,rory.kirchner@gmail.com,"Utility updates
Changed the behavior of append_stem to require less arguments.
It was annoying to have to put the delimiter as a separate argument.

fixed safe_makedir to not try to make a directory out of an
empty string or None.",2013-02-20T23:44:51Z,roryk
75cbaa9d4e2a1480d642edd6921a30583c51ac68,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-02-20T19:02:22Z,chapmanb
a7b0c1bdf899c94724c89c027932584d31e194a0,chapmanb,chapmanb@50mail.com,Remove assumptions on virtualenv and pip installs to allow builds on wider variety of systems. Thanks to John Hudson.,2013-02-20T19:02:01Z,chapmanb
3674c92ecdb6b56e6cf56436dbaf66dfb7347f4a,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-02-20T15:53:15Z,roryk
1a1e04abdcafd52d3dd021ee369d493c17675369,roryk,rory.kirchner@gmail.com,"replace_suffix and append_stem more generic

made replace_suffix and append_stem also take lists of
files and return lists of transformed files.

added replace_directory.",2013-02-20T15:52:55Z,roryk
c651df8521bebc8a7a2acc52a70779fd81dc1509,chapmanb,chapmanb@50mail.com,Finalize moving Galaxy upload to main bcbio_nextgen pipeline. Remove old script and update documentation and pipeline. Remove API functionality now present in bioblend,2013-02-20T14:21:16Z,chapmanb
7e29b0f312b86e1f7549a070c69752a15ddf199a,chapmanb,chapmanb@50mail.com,Create absolute paths for install and data directories which so they can be cleanly passed to configuration files,2013-02-19T18:09:42Z,chapmanb
81975cc9b370e4aa69fddcfafafbe29e74f698ea,roryk,rory.kirchner@gmail.com,"Unit testing reorganization.

Unit testing was moved into its own directory as a place to make small
tests to functions without running the entire pipeline since that
takes a long time. It has a separate store of data specific to the unit tests
on Brad's s3 which can be updated/downloaded with the manage_unit_test_data.py
script. This added boto as a requirement.

Meant for tests of the 'does this function work correctly?' variety rather
than 'does this whole thing actually run?'",2013-02-18T18:48:33Z,roryk
65346d4cf6e5aede4de64af39d218369d80a4f72,chapmanb,chapmanb@50mail.com,Initial support in new upload framework for Galaxy integration. Requires bioblend library for API access,2013-02-18T08:33:47Z,chapmanb
a444a8e88c66d0b348ef5d1c7ccb69d897b56a93,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-02-17T08:14:47Z,chapmanb
b10d094f7254f86363cbfdc3fc19abb6edca5f92,chapmanb,chapmanb@50mail.com,Additional flexibility in uploading: include QC files and provide additional inputs to upload. Bug fix for empty fastq QC,2013-02-17T08:14:39Z,chapmanb
d381d956b9c1e84475fea58d0b3720b6e8f67bce,roryk,rory.kirchner@gmail.com,"Refactored trimming out of demultiplexing.

This should make it easier to swap in new trimming algorithms
in the future.",2013-02-16T19:13:55Z,roryk
9221fff41323c9a608208648669abe3805583efb,chapmanb,chapmanb@50mail.com,Starting infrastructure for extracting final pipeline outputs and uploading to external locations. Implement local filesystem support,2013-02-16T08:18:09Z,chapmanb
c700010f7bc0bf40a4ac7b218b8ad123fb7db072,chapmanb,chapmanb@50mail.com,"Allow ipython profile choice from bcbio commandline, which enables testing and multiple clusters in absence of cluster ids in ipython parallel",2013-02-15T07:41:55Z,chapmanb
f46f7c8fc5e38119d01b6a1ebc547bec4c51e753,chapmanb,chapmanb@50mail.com,Provide back compatibility for old SNP calling name with new generalized pipelines,2013-02-14T21:56:08Z,chapmanb
692efad4dda6846ac904e4a1d98515e02288dc50,chapmanb,chapmanb@50mail.com,Close ipython client connections to avoid open file handle errors from ZeroMQ,2013-02-14T21:53:26Z,chapmanb
3d6f1dda1adec5d973dca5c4cd7f220cc2aeb64c,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-02-14T00:24:37Z,roryk
00e044f9cbcb53cf12b76d6e5c3a8cb28eef17df,roryk,rory.kirchner@gmail.com,"Refactoring of main to decouple pipelines.

Pipelines are specified by implementing the AbstractPipeline
abstract class which exposes a single method run that
runs the pipeline. The name attribute on the concrete pipeline
must be set for the pipeline to be found.",2013-02-13T22:35:51Z,roryk
172f7a9064f9c1101a84a864311646db6ea15495,chapmanb,chapmanb@50mail.com,Provide utility script for processing X Prize centenarian genomes using ensemble approach,2013-02-13T12:55:20Z,chapmanb
98743185091fd47925ffeb39b33900f5a0043bf1,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:chapmanb/bcbio-nextgen,2013-02-12T22:17:07Z,roryk
2886e120055fb9bc96499dc7ac7b96584a755c74,roryk,rory.kirchner@gmail.com,"Revert ""Quality binning cleanup.""
This reverts commit 08697b7c0ed7ed2c88a90ee63aafcf4bdd777c3d.
This doesn't actually work.",2013-02-12T22:15:58Z,roryk
01ae503691cfc0b45927aaa3f9a526ac71d86f66,Rory Kirchner,rory.kirchner@gmail.com,fixed typo (s/analysis/algorithm),2013-02-12T20:52:32Z,roryk
08697b7c0ed7ed2c88a90ee63aafcf4bdd777c3d,roryk,rory.kirchner@gmail.com,Quality binning cleanup.,2013-02-12T20:41:56Z,roryk
d17cd8a6a64a3465cdf2eadde66d5bbe39936566,roryk,rory.kirchner@gmail.com,Fixed ordering of arguments to work with non-glibc compiled samtools.,2013-02-12T20:39:52Z,roryk
340e22acde5a062ce69f7b3127c0b1087b57f5ad,roryk,rory.kirchner@gmail.com,Fix to samtools for handling filenames not being in the front.,2013-02-12T03:46:34Z,roryk
5cd9093baf1912d76a7f2bb3f72e10fa70629815,roryk,rory.kirchner@gmail.com,Default to gatk for the variant caller.,2013-02-12T03:46:34Z,roryk
a83f27f4e348546bbdfb56fcb379a9fdddccf594,roryk,rory.kirchner@gmail.com,"Removed --left-align-indels option.

It is the default in 0.9.9 and throws an error if passed in.",2013-02-12T03:46:34Z,roryk
d6506b6fffd193556dab95917f7c85f12906f2a2,chapmanb,chapmanb@50mail.com,Handle subseting of regions for read recalibration when calling in specific variant regions,2013-02-10T17:41:00Z,chapmanb
9c010dfce60567f3251ce1d12e973efd984dfde1,chapmanb,chapmanb@50mail.com,"Improvements for quality binning: do not remove read names for CRAM since they are important for maintaining pairs, support binning before fastq prep and splitting from BAM",2013-02-10T09:37:25Z,chapmanb
60e4e58806304721a8a3449ef33052f616ac6bf4,chapmanb,chapmanb@50mail.com,Provide binning of quality scores to reduce file sizes using CRAM and Illumina 8-bin approach,2013-02-09T15:10:24Z,chapmanb
bbb1bfa938561f3e78fe544881cb76c40d19b295,chapmanb,chapmanb@50mail.com,Expose bam_sort algorithm option tweak to allow sorting on input BAMs when alignment is not required,2013-02-08T18:48:32Z,chapmanb
d77c043b10e0416864a41268c136d3bea423056b,chapmanb,chapmanb@50mail.com,Provide useful error messages when input fastq or BAM files are not found. Thanks to Warren Emmett,2013-02-07T18:31:46Z,chapmanb
9c7346ae8f67b6876fe462143e70c8205f42352f,chapmanb,chapmanb@50mail.com,Push release 0.6.0 to pypi and make it default installation,2013-02-06T11:43:13Z,chapmanb
206ac4c4fd71d652eb6d4314d8c578b62840d78c,chapmanb,chapmanb@50mail.com,Update documentation to point to new bcbio-nextgen repository,2013-02-06T11:35:17Z,chapmanb
1f6d08c926883c3214176801b2c16beeabcac5c8,Brad Chapman,chapmanb@50mail.com,"Merge pull request #71 from roryk/master

Fix to sam->bam conversion step.",2013-02-06T10:19:08Z,chapmanb
fb275c41688883d8c7e87700d7a0da958052ca0b,roryk,rory.kirchner@gmail.com,Nicer fix.,2013-02-06T05:48:41Z,roryk
8c85004fefa8286e58fc483c7b8dba19e67fa062,roryk,rory.kirchner@gmail.com,Fixed the sam->bam conversion step.,2013-02-06T05:26:25Z,roryk
bc3ba297e6dda7529e95d43a7f8b47df3340d115,chapmanb,chapmanb@50mail.com,Update installation documentation based on feedback from Warren Emmett and @inti,2013-02-05T18:45:26Z,chapmanb
3782ea627b768d5fdab7a1e204fb58901d02d2ce,chapmanb,chapmanb@50mail.com,Correctly merge item and base configuration when deciding if fastq is necessary for the pipeline. Thanks to Warren Emmett,2013-02-05T18:24:02Z,chapmanb
6bf146577bba664db936be3ad69231cb1a30c43e,chapmanb,chapmanb@50mail.com,"Improvements for ipython parallelization: use sys.execuctable python to launch cluster, fix checkpointing with multiple functions using same name, keep sort output file in transaction",2013-02-05T10:35:38Z,chapmanb
1132c10d395606e97a82f2b8f7b3cac0f190bcd5,chapmanb,chapmanb@50mail.com,Use sam_fa_indeces as default Galaxy location file to remove dependence on bowtie. Clean up main script with upgrade support,2013-02-04T17:22:26Z,chapmanb
e0558561bcb67d3a28a518ccd89931c380832ff9,chapmanb,chapmanb@50mail.com,Ensure isolated virtualenv for packages and installed with latest distribute,2013-02-04T14:41:58Z,chapmanb
02457c761dc8b7512e9cbf455ef8ddfd8265488d,chapmanb,chapmanb@50mail.com,Improve defaults for system configuration and handle certificate errors on downloads from GitHub,2013-02-04T12:29:22Z,chapmanb
f3d7d5e79f4cbe01b9926a4249c7a88913b2f5f7,chapmanb,chapmanb@50mail.com,Install local software inside tool directory as part of automated install process,2013-02-04T12:05:43Z,chapmanb
016e9276d8e528f9a390b69ac445b4b59e4ba07b,chapmanb,chapmanb@50mail.com,"Provide automated upgrade from latest release, handling localized automated install",2013-02-04T01:19:16Z,chapmanb
ff8d728f8d44f01d8b60f17ca17e756d39ee3380,chapmanb,chapmanb@50mail.com,Add psutil to pip requirements,2013-02-03T12:13:22Z,chapmanb
ca0e1344c6b00962d858e4021f36d204c96db4e1,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2013-02-03T12:12:14Z,chapmanb
88e511eee03a7c0253195e1a26eea32a2d2f8211,chapmanb,chapmanb@50mail.com,Increase timeouts for contacting controller from enginges to avoid ipcluster failure on networked filesystems,2013-02-03T12:11:55Z,chapmanb
b4a8acde7682d1fc916fa1f20469d987e7f828d0,roryk,rory.kirchner@gmail.com,Removed not.,2013-02-02T22:25:40Z,roryk
4d3c2e1d546a170e9f84f5a46785c9e47033f0a1,roryk,rory.kirchner@gmail.com,Fix to estimate the proper inner distance with Bowtie2.,2013-02-02T22:23:49Z,roryk
f92da23b15d4f53a14d7035556b6a22172236730,roryk,rory.kirchner@gmail.com,Changed free memory lookup to using psutil instead of free for portability.,2013-02-02T22:11:10Z,roryk
05fc0338d8b0e667b502f4d8aa1b0f067f5fba5c,chapmanb,chapmanb@50mail.com,Number ipython checkpoints to avoid conflicts due to calling same functions multiple times. Cleanup of SGE and calculation of cores to use,2013-02-02T14:37:13Z,chapmanb
2e61545bb9844654e83e1f3d86ef66e1574d038a,chapmanb,chapmanb@50mail.com,Include suggested cores as part of ipython tests,2013-02-02T13:32:11Z,chapmanb
b0edb22372b611b77896fef3f85ae617db54753d,chapmanb,chapmanb@50mail.com,Dynamically choose ipython jobs and cores per job based on inputs to process and configured nodes required,2013-02-01T18:30:25Z,chapmanb
4e4883b62ed9aca86df41b4ca25b7e70e67b666d,chapmanb,chapmanb@50mail.com,"Provide BAM input alignment with pipes between sorting, alignment and re-sorting steps to avoid IO",2013-02-01T14:40:23Z,chapmanb
af5d26d94970a4ebc8877f235bd38011b3089a69,chapmanb,chapmanb@50mail.com,Provide framework to allow BAM input directly to aligners and control core usage requirements,2013-02-01T13:41:02Z,chapmanb
0f02a716e0b079e10c641d8e3419c19ff1a5aca1,chapmanb,chapmanb@50mail.com,"Finalize generalized cluster launching through ipython, allowing configuration of engines with multiple cores",2013-01-31T17:10:33Z,chapmanb
b981bb4982b8bb7bdd2d0406c923e567c9fcbda0,chapmanb,chapmanb@50mail.com,Generalize ipython cluster creation to allow heterogenous engines with multiple cores. Remove separate configuration step for clusters moving details into commandline arguments to ipcluster,2013-01-31T14:55:10Z,chapmanb
993957f33e84a8702ed073644217a107a6281d58,chapmanb,chapmanb@50mail.com,Finalize initial version of installation script. Update documentation,2013-01-28T16:29:52Z,chapmanb
e0edada449486ff5cbc23a14c6486d79c1bf5689,chapmanb,chapmanb@50mail.com,"Initial version of automated script to install bcbio-nextgen, tool dependencies and data files",2013-01-28T15:26:43Z,chapmanb
a1761e13a4fcb825cee3fe675ebb598178b0802c,chapmanb,chapmanb@50mail.com,Provide documentation on seting up data requirements for pipeline,2013-01-27T16:57:59Z,chapmanb
4d81bbadc3aa5050eae139bf4cbfcd518ad7916e,chapmanb,chapmanb@50mail.com,Provide additional documentation on configuration parameters including resources section and ensemble calling,2013-01-27T16:29:30Z,chapmanb
e9e0b9d9d72013cf9d821ec235ac37bb9edeccca,chapmanb,chapmanb@50mail.com,Fixes for tophat2 pipeline: correctly handle keyword options and use bowtie2/tophat2 by default. Thanks to Warren Emmett for report.,2013-01-27T11:13:42Z,chapmanb
662f9ee66cfcdc948b45dfcc1e7b63961e02cd7d,chapmanb,chapmanb@50mail.com,Move fastq utilities into bam namespace to avoid conflict with bcbio-hiv pipeline. Update for #66,2013-01-21T16:44:03Z,chapmanb
c18648629086aae3dd7c3966d81705d9582932f0,Brad Chapman,chapmanb@50mail.com,"Merge pull request #66 from roryk/memoize_refactor

Memoize refactor",2013-01-21T16:28:15Z,chapmanb
0123284087139f80d48bb98daeb7fa0516f441c6,chapmanb,chapmanb@50mail.com,Add documentation to example ensemble script and re-order to emphasize replicates,2013-01-21T16:25:23Z,chapmanb
413772d6e8686f7a20da68e8b08f5ecfaf1745df,chapmanb,chapmanb@50mail.com,Include example of ensemble calling for NA12878,2013-01-20T18:21:06Z,chapmanb
ad3b41407fd2b695e96b7ec36417d31f297d798f,chapmanb,chapmanb@50mail.com,Revert back to piped splitting from BAM plus correct options for JVM tuning,2013-01-20T11:24:57Z,chapmanb
d84358aa02fcde1bc93102f6f69cfc2eb268029c,chapmanb,chapmanb@50mail.com,More robust approach to handling safe multi-process mkdirs. Default to non-piped sort/split to work on gluster filesystems having trouble with pipe,2013-01-18T20:50:06Z,chapmanb
5b436493dfb50c73c33c1126d03c6b25cbd6aed9,chapmanb,chapmanb@50mail.com,Allow usage of a local scratch temporary filesystem for temporary directories based on system configuration,2013-01-18T16:34:58Z,chapmanb
db8c63b46cee65218a14e994a926363a31be77c9,chapmanb,chapmanb@50mail.com,More cleanly catch and avoid intermittent pipe failures for sorting and splitting from BAM inputs,2013-01-18T13:20:13Z,chapmanb
f76d9e5d4a4f6d85bd7d92ff7af9c10641f160d2,chapmanb,chapmanb@50mail.com,Increase delays for ipcluster startup and piping sorting results to handle larger input sizes,2013-01-18T12:46:17Z,chapmanb
e2a7bdacdb52a53d2ceb71bfe113cbcc4efb1564,chapmanb,chapmanb@50mail.com,Nest alignment and alignment split directories to avoid large directories with large sample numbers,2013-01-18T12:09:08Z,chapmanb
bb8131534257da8267b66cc69ce053ca4ba3868b,roryk,rory.kirchner@gmail.com,Updated to use the new memoization.,2013-01-18T01:41:19Z,roryk
8b697031da33d08655b69d9a034d0dc89124f00b,roryk,rory.kirchner@gmail.com,Added a fastq groomer to play with the updated memoization.,2013-01-18T01:34:45Z,roryk
f1a9829d7ca821637b2812cbc0552dc7ee086aec,roryk,rory.kirchner@gmail.com,Refactor of memoize output to take either ext or stem as an argument and do the right thing.,2013-01-18T01:33:38Z,roryk
488b0c92f747ee354d520c917df91744bf0f9d3f,chapmanb,chapmanb@50mail.com,Inclusive varscan p-value that still includes calculation of p-values,2013-01-17T12:06:13Z,chapmanb
453d544d9f1f66872d618175ad296f1575524e0b,roryk,rory.kirchner@gmail.com,Added unit tests for the updated decorators.,2013-01-16T22:09:02Z,roryk
a00122018ff09d5a7c52f18643975ee3084b8831,roryk,rory.kirchner@gmail.com,Memoize returns the output from the function it decorates if the function runs.,2013-01-16T22:08:37Z,roryk
8ee8350af55a5a9d5938dec0fd78aa2a2c4fda48,roryk,rory.kirchner@gmail.com,Changed decorator signatures to more closely match the originals.,2013-01-16T21:38:44Z,roryk
5af2c66304a0df1dd259cdf9e87cc924945c4b97,roryk,rory.kirchner@gmail.com,Refactor @memoize_outfile to not also transform the filename.,2013-01-16T20:57:43Z,roryk
83d622d34b11a434f2aef5b057cd47570d6b81d5,chapmanb,chapmanb@50mail.com,Include multiple batching target in ipython tasks,2013-01-16T20:24:34Z,chapmanb
73ff500d6608bdd9153ceaf968c34c0ad75cdedf,chapmanb,chapmanb@50mail.com,Increase input counts for recalibration on whole genomes to include additional data and keep recal/re-write times in sync,2013-01-16T13:28:29Z,chapmanb
6969e64ee0952544d9aebd718037d189bc5ad5ac,chapmanb,chapmanb@50mail.com,Avoid additional filtering for VarScan calls since calls are filtered as part of calling process,2013-01-16T12:56:51Z,chapmanb
28b9f8a77d4d79b92dc47a4a8f1135c4b7b706e1,chapmanb,chapmanb@50mail.com,Convert VarScan indel format into VCF compatible representation. Use local temporary directories by default for GATK runs,2013-01-16T11:53:42Z,chapmanb
28d588f652106a5c4e24427c9d760e5401b2e3bd,Brad Chapman,chapmanb@50mail.com,"Merge pull request #65 from roryk/master

Generic options support",2013-01-15T19:57:08Z,chapmanb
17dfe1e7e6362570b7d5c90efb0bd93b3849a79f,chapmanb,chapmanb@50mail.com,"Support variant calling with mpileup and VarScan, which uses a heuristic/statistic calling approach",2013-01-15T19:51:04Z,chapmanb
34561ad985c8fc5e22968ab4dedf2dd005b44f16,roryk,rory.kirchner@gmail.com,Refactor to make it easier to follow.,2013-01-15T02:51:24Z,roryk
c434df6e28177aae1a4dd87a48c135b70117b055,roryk,rory.kirchner@gmail.com,Added arbitratry options passing.,2013-01-14T23:19:13Z,roryk
86afa39576037de7f082de73f94f83c906c30fc8,chapmanb,chapmanb@50mail.com,Improve naming for grouped variant calling: batches instead of families,2013-01-14T19:12:24Z,chapmanb
46751d974de3bdd9ca72c211219f673aa490d190,roryk,rory.kirchner@gmail.com,Added reading option list from tophat resources.,2013-01-14T17:28:01Z,roryk
b4104434058f9df0df286b768cb947b16998ea1e,chapmanb,chapmanb@50mail.com,Provide general mechanism to group together samples for concurrent processing. Use this to implement multi-sample GATK calling. Handles calling plus split and recombine into final single sample VCFs,2013-01-13T19:29:36Z,chapmanb
ccf35a486a9a99c29468a4bcd9fa73f26e25f955,chapmanb,chapmanb@50mail.com,Provide distributed task for re-writing recalibrated BAM files. Provides parallel speed up when recalibrating on whole genome BAMs,2013-01-11T20:52:58Z,chapmanb
e95cb7c636aac13cd713c9fab0be4609a5be5936,chapmanb,chapmanb@50mail.com,Provide support for configuring with debian/ubuntu's picard-tools package or a Picard download of jar files. Thanks to @guillermo-carrasco.,2013-01-11T13:10:17Z,chapmanb
31319d616633ac310f9d8369b0a4f50dd3085191,chapmanb,chapmanb@50mail.com,Move splitting VCF functionality into split namespace,2013-01-11T12:28:40Z,chapmanb
06d8766532f0f460471c37defec62d33694d87dd,roryk,rory.kirchner@gmail.com,Switched from throwing exceptions to exiting since there is nothing to handle.,2013-01-11T01:52:20Z,roryk
4ad9d785a7b525700678c357d9b5776feccbe652,roryk,rory.kirchner@gmail.com,Added Tophat 2 support.,2013-01-10T22:09:21Z,roryk
7b5234be576ee45a5d4e22b4bda910d1c399d8e3,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbb,2013-01-09T17:48:09Z,roryk
ad76d5d9152f17892b6420e038ec8c9d964118f1,chapmanb,chapmanb@50mail.com,Provide documentation for IPython setup. General cleanup and reorganization of docs,2013-01-03T02:11:47Z,chapmanb
a1c8f0103f7d626807daedc08ab3af7732b67bd8,chapmanb,chapmanb@50mail.com,Update and document the sample and system configuration inputs,2013-01-02T20:29:31Z,chapmanb
f6dd4d8f5649845c6c00a935495a46e5b7383da1,chapmanb,chapmanb@50mail.com,Move old 'SNP calling' name to 'variant' for specifying a variant calling pipeline. Retain back compatibility with old name but prefer new more general name going forward,2013-01-02T18:17:13Z,chapmanb
a8807b93010e3ebeebc38d5c570a555c9553d6cf,chapmanb,chapmanb@50mail.com,Move stray log-dir command from config into generalized resources. Make back compatible with old config approach,2013-01-02T17:41:41Z,chapmanb
51dd0160020722429ea96345ce214709768c9759,chapmanb,chapmanb@50mail.com,Move resource retrieval from configuration to use generalized 'resources' instead of 'program.' Update example configuration file with additional documentation.,2013-01-02T17:31:46Z,chapmanb
7fc865c32aadf84d08d915ef39877d83ad02f160,chapmanb,chapmanb@50mail.com,Improve language in readme introduction,2013-01-02T13:45:17Z,chapmanb
ca9280e17b4af79fd6ca8033611d8866057a0438,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2013-01-02T13:43:07Z,chapmanb
82835c49a40e1c9f62ef92a4539d8adf68aa40c1,chapmanb,chapmanb@50mail.com,"Clean up scripts, removing those no longer used as part of pipeline",2013-01-02T13:42:59Z,chapmanb
21e751c6cd5636eb3bae989053057f93ed479d11,chapmanb,chapmanb@50mail.com,Point to ReadTheDocs documentation,2013-01-02T00:42:25Z,chapmanb
1e50a6b60e8660a90df23f7132d2135d5095b733,chapmanb,chapmanb@50mail.com,"Move documentation from monolithic readme into docs directory, structured with Sphinx",2013-01-02T00:33:59Z,chapmanb
d2ba0b6774c6790b64f6bfa2ba6848b1edeb836c,chapmanb,chapmanb@50mail.com,Retrieve index alignment status using Picard instead of pysam,2012-12-29T16:52:07Z,chapmanb
faba7df15e7bec25d7a727ae9153f839e0c99b8b,chapmanb,chapmanb@50mail.com,Provide examples of setting jvm_opts per program,2012-12-27T18:13:30Z,chapmanb
720c23cc2db1611109cd4942d607e56f8baf53c3,chapmanb,chapmanb@50mail.com,Enable writing of GATK recalibration plots to replace old custom plots,2012-12-27T18:04:50Z,chapmanb
b6ca128fc8380e873b791bb42595442b7d59024e,chapmanb,chapmanb@50mail.com,Update BAM file in testing download for direct alignment from BAM inputs,2012-12-27T17:46:35Z,chapmanb
82aedca1d862dc7089c782c6ec1197167781983a,chapmanb,chapmanb@50mail.com,"Remove recalibration plot target, since that functionality is now done better by GATK. Thanks to Warren Emmett for report",2012-12-27T17:38:52Z,chapmanb
8629db3355f0899d73e3a33e6daefbb33aec009d,chapmanb,chapmanb@50mail.com,Use threading by default to speed up BAM file merging,2012-12-26T19:08:23Z,chapmanb
26c1785fa258fbc0d5046632b495f9f4a4662bce,chapmanb,chapmanb@50mail.com,Retain backcompatibility with old configuration directory specification when keys are present in both resources and program. Thanks to Warren Emmett for report,2012-12-26T18:11:27Z,chapmanb
23d7dc6004b717126c8938884d94f91d6ab9c84e,chapmanb,chapmanb@50mail.com,Post annotate GATK Haplotype caller results to include dbSNP and other annotations not directly added during calling,2012-12-26T17:44:55Z,chapmanb
348ef347b431f08dd1871ae71a52e1d17f2c998b,chapmanb,chapmanb@50mail.com,Keep MarkDuplicate 1.82 flag compatible with previous versions,2012-12-26T12:02:47Z,chapmanb
ad953d6392f985ec0c40c1b318e33f9421f1e321,chapmanb,chapmanb@50mail.com,Default back to splitting through unix pipes. Correctly pull split numbers for existing split fastq files,2012-12-25T14:19:22Z,chapmanb
71806c5654f16c639ea723a6f4a1d6940786003c,chapmanb,chapmanb@50mail.com,"Avoid named pipes when splitting, use temporary files to ensure correct pysam reading",2012-12-24T02:10:09Z,chapmanb
b2f4e442d33ae37afe2ea5eaa88400c822e351fa,chapmanb,chapmanb@50mail.com,"Provide direct splitting of input BAM files into fastq parts for distributed alignment, for avoiding multiple IO steps on large files",2012-12-23T14:36:38Z,chapmanb
08c48a9ab3d3f2fc5b70fe693deae2674cae1591,chapmanb,chapmanb@50mail.com,"Avoid writing program id with new Picard 1.82 release, since tags are not supported by pysam parser",2012-12-20T18:15:11Z,chapmanb
e6c6259a659924f57f646ad42ad30c5762a332fd,chapmanb,chapmanb@50mail.com,Update GATK and snpEff to use generalized retrieval of resources from configuration file,2012-12-18T17:58:38Z,chapmanb
003f96a7de9b33cfc502c3005ccab26ac94dbb03,chapmanb,chapmanb@50mail.com,Move config_load to more generic namespace to reflect new functionality,2012-12-18T16:46:42Z,chapmanb
a9fae837c55749665b01a22ebb5247877e3980d0,chapmanb,chapmanb@50mail.com,Generalize snpEff data library retrieval to avoid hardcoding version names for Ensembl,2012-12-18T16:12:15Z,chapmanb
0ce3dfb7119e98e5c3ee229fe252f687cd787c71,chapmanb,chapmanb@50mail.com,"Use snpEff annotated VCF file directly, removing dependency on old version and GATK annotator",2012-12-18T14:25:12Z,chapmanb
6626acc518f7099de2aa159bb44412629fbbd69e,chapmanb,chapmanb@50mail.com,Downsample large whole genome input files during base quality recalibration to avoid long run times,2012-12-18T13:57:18Z,chapmanb
bc568a808bd7685eb30662262077218eb661b497,chapmanb,chapmanb@50mail.com,Avoid additional filtering with samtools which has filtering baked as part of standard calling pipeline,2012-12-18T11:30:40Z,chapmanb
a76bde2d72194e120d563d40d669718bdcb85ba4,chapmanb,chapmanb@50mail.com,Use recommended freebayes min-alternate-fraction for diploid calling only,2012-12-18T11:26:48Z,chapmanb
06370af49704c9cbaf14a9af0b4839ccd008f3a5,chapmanb,chapmanb@50mail.com,Use local temporary directory during processing to avoid global tmp space issues,2012-12-18T01:47:42Z,chapmanb
3254107a38afc8152d61f759be94818125f59ea5,chapmanb,chapmanb@50mail.com,Apply annotation only to combination recall items used in classification,2012-12-17T19:42:43Z,chapmanb
37e3e18fe3b8a963c3d8f09d291d5de4ca0db225,chapmanb,chapmanb@50mail.com,"Pass BAM file to annotation of non-GATK input files, otherwise we miss most metrics",2012-12-17T19:22:42Z,chapmanb
868844adf9a78ee3d27cd4a11eaa00608a0a1ad0,chapmanb,chapmanb@50mail.com,Allow additional classification parameters and generalize usage in input YAML config,2012-12-17T01:10:19Z,chapmanb
c55f0c75937c5ab2ce93bf6f94e916a56ffbb3ee,chapmanb,chapmanb@50mail.com,Add in freebayes defaults suggested on mailing list,2012-12-14T18:09:01Z,chapmanb
bdf5de91132f10ef598b726ff6365021b830d925,chapmanb,chapmanb@50mail.com,"Only write finalization information for combination configuration notes, not comparisons",2012-12-13T14:33:42Z,chapmanb
79149324628da9ee40ccd65a24756bcbd66738f4,chapmanb,chapmanb@50mail.com,Ensure variantcaller configuration order remains stable during parallel calling. Use first configured caller for base set of combination calls,2012-12-12T14:20:06Z,chapmanb
ff1ff974f70726f59628967359bb554eb347b111,chapmanb,chapmanb@50mail.com,Expose additional parameters for tweaking ensemble calling,2012-12-12T12:46:14Z,chapmanb
95d6dbdeb1424be6b17e7459c5b4dab448afa494,chapmanb,chapmanb@50mail.com,Expose additional parameters for tweaking ensemble calling,2012-12-12T12:43:45Z,chapmanb
9a9a12f12f7ad6d8d049a1edf8677334d5444878,roryk,rory.kirchner@gmail.com,Added split_vcf plus a unit test.,2012-12-12T06:02:45Z,roryk
1fcd278fc77c52b88ab3967d1b378cd1d19f7ad3,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbb,2012-12-12T04:22:11Z,roryk
6afe5189520aab10fcd8c102bbd4ad119b02b269,chapmanb,chapmanb@50mail.com,"Avoid hard filtering with HaplotypeScore for GATK Haplotype calls, since reported values are higher and many extra calls will be filtered",2012-12-11T19:25:18Z,chapmanb
0fa1ed1eacf923aa251d430e4f870d317969bfad,chapmanb,chapmanb@50mail.com,Remove reference and filtered calls when preparing ensemble and comparison configurations,2012-12-09T17:52:25Z,chapmanb
865b27d7916ecbbeb742a99490cf81209440e7ed,chapmanb,chapmanb@50mail.com,Provide sanity post-filtering of FreeBayes variants to remove low quality calls,2012-12-09T15:20:25Z,chapmanb
0a21be24e43e3ce875bc82d92edd0425893e010e,chapmanb,chapmanb@50mail.com,Prepare a comparison YAML configuration file on ensemble calls to make it easy to prepare post-ensemble stats,2012-12-09T14:15:41Z,chapmanb
71483fd154c241b771f4a0b97335e602a39ad3fb,chapmanb,chapmanb@50mail.com,"Avoid parallelizing UnifiedGenotyper, which parallelizes by splitting across chromosomes",2012-12-09T01:37:57Z,chapmanb
e1d64e1023db60662b2829472e48f3d26134fa2c,chapmanb,chapmanb@50mail.com,Comment out ensemble tests by default until more standard,2012-12-07T11:08:22Z,chapmanb
417fd586014a614232043f43fe2bfba51ccf5cef,chapmanb,chapmanb@50mail.com,Update ensemble directory usage to work with multiple samples. Annotate tests to make running standard tests easier from nose,2012-12-07T11:07:23Z,chapmanb
975fa54fe231bb5e048e6d1770d3679d06072bc0,chapmanb,chapmanb@50mail.com,Finalize workflow to prepare combined set of variant calls based on multiple calling approaches,2012-12-06T21:13:47Z,chapmanb
073b1d672615b36f70f229c01869dcc1880111c9,chapmanb,chapmanb@50mail.com,Generate configuration file for making consensus combination calls from multiple variant callers,2012-12-05T21:08:39Z,chapmanb
d64bd459daf479855155e3f35c3591033268debb,chapmanb,chapmanb@50mail.com,Initial framework to consolidate multiple calling approaches into ensemble callset,2012-12-03T20:56:37Z,chapmanb
d47eac9a2a7da0df1ef94a72bbffb79e673401f1,Brad Chapman,chapmanb@50mail.com,"Merge pull request #63 from roryk/master

ipython logger setup",2012-12-02T21:30:35Z,chapmanb
dbf862bc96711463e2f6c4968b339f87275fbe16,chapmanb,chapmanb@50mail.com,Avoid requirement for flowcell directories when finishing processing; remove implicit whitespace requirement in LaTeX templates,2012-12-02T21:26:00Z,chapmanb
f9950eb5f568f4f19cdfae7eb0e5242310ce8a33,roryk,rory.kirchner@gmail.com,"Added is_sequence and is_pair for checking if input is from paired end
sequencing or not.",2012-12-02T06:30:19Z,roryk
9a8f587e0fb0569c159f2e47f9810ab5f2201bdc,chapmanb,chapmanb@50mail.com,Provide custom merging for cortex_var sub region calls to avoid slow standard merging with GATK,2012-12-01T20:29:58Z,chapmanb
f9d389a59cf6a0c78248f05b62c539c9942be504,roryk,rory.kirchner@gmail.com,Added pushing the logging handler to the engines on cluster startup.,2012-11-29T22:58:48Z,roryk
e561fefd2a2d7873d34cd6b47c3e995a206bdf00,chapmanb,chapmanb@50mail.com,"Remove dependency on samtools, using pysam for header information",2012-11-29T11:58:20Z,chapmanb
927349914ac65fc4cddfb81008e4a0dd84fbaa3b,Brad Chapman,chapmanb@50mail.com,"Merge pull request #62 from roryk/master

Couple utilities, bed12->picard interval converter",2012-11-29T11:50:15Z,chapmanb
2cac9fb8746602096d238eeccd7aa7f7445b0bc2,roryk,rory.kirchner@gmail.com,Pared down the unit test data to about 5k reads on a single gene.,2012-11-29T04:12:35Z,roryk
4f15b7b1da48d6a980cc9e08cab6a1443679ef06,roryk,rory.kirchner@gmail.com,Unit test for bed12 -> picard interval conversion.,2012-11-29T02:00:57Z,roryk
dc45212838dfbd8eebb5435c65a5f19a22883f6f,roryk,rory.kirchner@gmail.com,Added some data files for unit tests.,2012-11-29T02:00:18Z,roryk
9edc3a923c2a5ec63c185ec5c4fcf32b8a2b2d90,roryk,rory.kirchner@gmail.com,Added documentation.,2012-11-29T01:59:55Z,roryk
6128b279506ff54c4a8516bf4a80eb841f70f710,roryk,rory.kirchner@gmail.com,Added get_in for looking up nested dictionaries with tuples.,2012-11-28T22:22:17Z,roryk
9dc059331eb8129f4313eee44f159b3195a72cde,chapmanb,chapmanb@50mail.com,Ensure cortex_var working directories are properly cleaned up on exit,2012-11-28T01:43:37Z,chapmanb
1080d6fa95c73dff8183b2b85d87619708779c58,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbb,2012-11-27T20:13:42Z,roryk
c354c885ff77f35f7d008be2903a57b1b8fbe59e,chapmanb,chapmanb@50mail.com,Fixes for cortex batch merging on large projects,2012-11-27T10:36:28Z,chapmanb
f22e19f32147030dc332c5f5bde1d6d1a9ba39fa,chapmanb,chapmanb@50mail.com,Provide high level checkpoints for ipython tasks to avoid spinning up clusters if not needed. Spin parallel clusters on demand to avoid holding onto unused resources,2012-11-26T18:40:03Z,chapmanb
6e709201e806c53782fe35af0cd85dee0c62cf5b,chapmanb,chapmanb@50mail.com,Clean up cortex variant processing for larger sets of files: remove cortex processing after VCF created and create batch files in sub folderer when merging,2012-11-26T13:19:07Z,chapmanb
49158bd6393e51e2d33329424c218b1e7be1e38d,chapmanb,chapmanb@50mail.com,Provide standard filtering with vcfutils.pl as part of samtools variant calling,2012-11-26T12:58:26Z,chapmanb
a31692318a512fc3fe7329c74e72e36a1c6c06d1,chapmanb,chapmanb@50mail.com,"Additional fixes for ipython multicore: work with 14-dev that has fixed cluster-id, check cores correctly for multicore submits, handle no GATK resources specified",2012-11-25T16:35:13Z,chapmanb
a1f24653df266c9e787ae9c270d4cf06d77ae3ea,chapmanb,chapmanb@50mail.com,Fixes for ipython view handling for multicore queues,2012-11-25T13:46:15Z,chapmanb
bb24af2ebc4b1639e1aed4b18858edde56d9af68,chapmanb,chapmanb@50mail.com,Pass resource information for multicore to GATK walkers. Update recalibration to use new nct nanoscheduler option,2012-11-25T12:26:55Z,chapmanb
a5c223ea3ee4ebb30e48bb5bcd427b6d6f080808,chapmanb,chapmanb@50mail.com,"Move ipython cluster creation to point of function processing, allowing specification of alternative queues for tasks",2012-11-25T10:58:23Z,chapmanb
c8b02304a969c6865e835d89789c4336b4e9680b,chapmanb,chapmanb@50mail.com,"Provide ipython cluster as context manager, allowing spinning up and down of specialized clusters during processing",2012-11-25T10:00:45Z,chapmanb
1352246f783d25648745076eab9bf4525c64a151,chapmanb,chapmanb@50mail.com,Provide automated setup of ipython queues for parallel and multicore queues: LSF + SGE,2012-11-24T23:57:13Z,chapmanb
6b845bb84e770b9eee13520bc68fc59baa49579f,chapmanb,chapmanb@50mail.com,Support for samtools variant calling as part of standard pipeline,2012-11-23T19:32:11Z,chapmanb
8e67c64daafc55cb3eebbdd0f32bdaa1bd91bbb3,chapmanb,chapmanb@50mail.com,Framework for supporting samtools mpileup variation calling,2012-11-23T03:27:06Z,chapmanb
89f0c7addb73e43776a31a8607ddee8924bb8354,chapmanb,chapmanb@50mail.com,Organize cortex_var processing inside region directories to avoid large numbers of directories,2012-11-22T01:21:32Z,chapmanb
e3a0d06f520bf6b624da88393a5007a7df8f488b,chapmanb,chapmanb@50mail.com,Move VCF and BAM indexes along with generated files to avoid double indexing,2012-11-21T19:13:24Z,chapmanb
4f1516dc5963b88905715db917fe15d072acba9b,chapmanb,chapmanb@50mail.com,"Provide filtering of cortex_var calls by minimum depth, helping avoid SNP calls with minimal read support",2012-11-21T19:02:50Z,chapmanb
ee09bc00d6f7e6e5e5e889bf14cf998ca02e5087,chapmanb,chapmanb@50mail.com,"Improve transaction directories by using temporary subdirectories, avoiding clashes between multiple processes acting on the same file",2012-11-21T13:20:19Z,chapmanb
be925f8dc84cca60a10f5d26f975a09e88fee29b,chapmanb,chapmanb@50mail.com,Better handle large scale variant calling with cortex_var: split builds into directories by regions and batch merge variant files to avoid huge commandlines,2012-11-21T11:35:25Z,chapmanb
e7aa3567aba0d8c2dd3136bc22f82268a8a8c667,roryk,rory.kirchner@gmail.com,Added convenience functions replace_suffix and append_stem.,2012-11-21T03:52:45Z,roryk
6a97d10f3eee1c31ad8656841c78e1a6dab0786e,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbb,2012-11-21T03:07:19Z,roryk
7ac5c18f50c044e5b22bcff897b739f9f05398f7,chapmanb,chapmanb@50mail.com,Provide logging and error capture for running parallel processes with ipython,2012-11-19T18:26:48Z,chapmanb
16c061232310b4de3604c74b6799ca79fca211d9,chapmanb,chapmanb@50mail.com,Support running celery processes with no fastq directory input and no queue specification,2012-11-19T17:35:06Z,chapmanb
4253bfcd63a4113fb3a8515ea16201197e0c788e,chapmanb,chapmanb@50mail.com,"Provide batch processing of BAM file merging, avoiding too many open file errors with large merges",2012-11-19T17:11:25Z,chapmanb
5804bbdde48f50c47ba307e746656591acb6bcb9,chapmanb,chapmanb@50mail.com,Handle processing with no specified flow cell directory,2012-11-19T15:47:23Z,chapmanb
12662d48afdbbb0cdba1df37091e3e73faa6500d,chapmanb,chapmanb@50mail.com,Finalize fixes for initial working version of ipython parallel support,2012-11-19T12:56:15Z,chapmanb
81b9b24212236585a0bb15a901d6b306d8496279,chapmanb,chapmanb@50mail.com,Include hooks to run directly through ipython; not yet working due to import issues,2012-11-19T02:14:19Z,chapmanb
a9e62653f489237f2aebeaf79fc22b952c9ca0b7,chapmanb,chapmanb@50mail.com,Generalize parallelization to include ipython stubs. Include zeromq python bindings as dependency for ipython parallel,2012-11-18T18:56:21Z,chapmanb
2329b003f9b79c8b5cb4b0f7fe2bac88f5c86ea3,chapmanb,chapmanb@50mail.com,"Remove automated_initial_analysis.py and distributed_nextgen_pipeline.py and merge into generalized bcbio_nextgen.py script that contains both functionality. Clean up documentation and tests to reflect new, cleaner architecture",2012-11-18T14:07:47Z,chapmanb
a54dbad82ad4f692a9848a70e8f815a741c06c9a,chapmanb,chapmanb@50mail.com,Move local and distributed run functionality into single commandline program,2012-11-18T13:37:59Z,chapmanb
b47994891ed03912ed5fc0c64b02942e81cedc13,chapmanb,chapmanb@50mail.com,"Extract out and generalize main functionality, allowing it to be called directly from Python code in addition to run via the commandline",2012-11-18T11:42:41Z,chapmanb
dcb9a482eb19e591d70c5aa908424c80e102a90a,chapmanb,chapmanb@50mail.com,Initial code to run distributed python using an ipython cluster,2012-11-17T18:34:21Z,chapmanb
e873006486ce340edb054011c04e8a78c8f04e79,chapmanb,chapmanb@50mail.com,Update celery configuration to match latest specification and ensure configuration directory is on import path,2012-11-16T00:40:48Z,chapmanb
e055f1ab3d4f6b0111a5634ecb8f72fd06b34c07,chapmanb,chapmanb@50mail.com,Combine split variant call information into finalized set of calls and callers for merging,2012-11-12T18:59:09Z,chapmanb
5f1f06cc70b20793619f77c243cfb36e31ca722a,roryk,rory.kirchner@gmail.com,Added file_transaction.,2012-11-09T18:46:56Z,roryk
2c367cd8b1fc4859fca3272e477d0db75457393f,roryk,rory.kirchner@gmail.com,Added bed2interval.,2012-11-09T18:30:44Z,roryk
996aea6d53323c1871776fb912d4f3ec502c2331,chapmanb,chapmanb@50mail.com,Allow simultaneous running multiple variant callers from standard configuration file,2012-11-07T20:57:57Z,chapmanb
6a4f594031d1cd85671c7f218fd13af9326109ce,chapmanb,chapmanb@50mail.com,Place variant calls into subdirectory by processing method as first step to allow multiple parallel callers,2012-11-07T19:39:27Z,chapmanb
38902e8e5b575a8a5b7d70610fce4deed791889c,Brad Chapman,chapmanb@50mail.com,"Merge pull request #60 from roryk/master

Sorry for the messy multiple issue pull",2012-11-03T13:27:30Z,chapmanb
73fb0ab9c93dbcd38d142565958c672ffed5f0cc,roryk,rory.kirchner@gmail.com,Merge branch 'master' of github.com:roryk/bcbb,2012-11-02T17:55:16Z,roryk
4d8bc45d5a2393bf4c99c71f29ecea5455ca81fe,roryk,rory.kirchner@gmail.com,Added parsing of CollectRnaSeqMetrics output.,2012-11-02T17:53:08Z,roryk
7f60f7cebd5e40aec6b28bcca295fbd2f2e73808,chapmanb,chapmanb@50mail.com,Small helper script to randomize a multi-sample variant file to simulate comparison data,2012-10-21T18:24:25Z,chapmanb
7e5fa4df8c5d1e973ac233b0feb61682c2cef89f,chapmanb,chapmanb@50mail.com,Add 'write_summary' flag to algorithm which avoids writing the PDF summary. Useful for testing to avoid LaTeX dependency,2012-10-14T19:13:06Z,chapmanb
b99d6cef18e6a7746c6663d1c9466116e574eb31,Brad Chapman,chapmanb@50mail.com,Use gemini to summarize Transition/Transversion ratios for a group of files,2012-10-11T18:40:31Z,chapmanb
e41e9f0679126fa13e3f1343f01dd6cca4c58ec6,chapmanb,chapmanb@50mail.com,Bump version of genomes used in test to include BWA indexes built with BWA 0.6.2. Thanks to @guillermo-carrasco and @b97pla,2012-10-05T17:19:06Z,chapmanb
2d29384b430515c5065e7caeeb5cafb0d31a5d35,chapmanb,chapmanb@50mail.com,Add flag to algorithm config that avoid running MarkDuplicates in cases of extensive PCR duplicates; thanks to Warren Emmett,2012-10-05T00:36:17Z,chapmanb
98ad9b446946e90c806911cf546a685b26eb2efb,chapmanb,chapmanb@50mail.com,Add additional documentation on testing,2012-09-25T00:28:14Z,chapmanb
c276986c2fcd78d50ddb1836624525b91d814a10,roryk,rory.kirchner@gmail.com,Added solexa-quals to the quality options.,2012-09-12T19:15:28Z,roryk
bce4458318c825f6b0407a7155ed037c3ae7f5bd,chapmanb,chapmanb@50mail.com,Handle freebayes output with identical ref/alt calls: remove before continuing with processing,2012-09-08T17:19:27Z,chapmanb
27a8ae05d887543e13d4cc192e81c991a6649763,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2012-09-06T19:34:49Z,chapmanb
da6c2edfd181f1184a051bb4696f17ec4c2d62a8,chapmanb,chapmanb@50mail.com,Little bash script to build clean GATK-lite jar without dependencies from latest GitHub,2012-09-06T19:34:29Z,chapmanb
379638099d78517680341baf792750d1d9c3a85d,chapmanb,chapmanb@50mail.com,Additional increases in max_read_len to handle max_kmers errors,2012-09-02T12:35:43Z,chapmanb
eb9f1b5393d5b4c6cb3da1d9c593fc4230f5fc6b,chapmanb,chapmanb@50mail.com,Remove coordinate adjustment for 0-based BED region inputs to cortex_var,2012-08-30T09:47:44Z,chapmanb
82431c21dd2de9a66f2155e1df5696dddacb4bf4,chapmanb,chapmanb@50mail.com,"Additional tweaks for cortex_var: increase max_read_len back to default, increase min_reads for feeding into regional assessment, and only write passing variants to output VCF files",2012-08-29T19:59:37Z,chapmanb
4ad33bd7e5fb7954d45ded160e2353ba7ebf12a4,chapmanb,chapmanb@50mail.com,"cortex_var improvements thanks to feedback from Zamin Iqbal: prefer bubble caller for targetted regions, use multiple kmers for analysis",2012-08-27T23:44:16Z,chapmanb
349ff44fd36b7451e5c5b177046665c473595d53,chapmanb,chapmanb@50mail.com,"Additional tweaks to handle problem cortex cases: chromosomes with no target regions, 0-based BED files and kmer issues",2012-08-24T12:08:15Z,chapmanb
483ee988ed5cd1db13c95c0760af731ba1b7b965,chapmanb,chapmanb@50mail.com,Increase default max read length to allow greater range of kmers,2012-08-23T23:39:19Z,chapmanb
bb2992b61c4aeb527e3af347a7d18a1481391cb3,roryk,rory.kirchner@gmail.com,Merge branch 'master' of https://github.com/chapmanb/bcbb,2012-08-23T21:37:39Z,roryk
a3516d7b120a1fd4e48a39832e00218389f4292d,chapmanb,chapmanb@50mail.com,Fix typo in updated cortex parameters,2012-08-23T18:32:10Z,chapmanb
5f6c823b80008354d12affdc88a67b5ebdcb775f,chapmanb,chapmanb@50mail.com,"Reduce variant length to search for, allowing cortex to work on smaller sub-regions",2012-08-23T18:00:09Z,chapmanb
b8ed3ac749b5c8077734cc974eb82d57b076fd1e,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/chapmanb/bcbb,2012-08-23T16:25:02Z,chapmanb
6eaa4e30d7aea5ed5725df39e047456cb1ef89c1,chapmanb,chapmanb@50mail.com,"Provide GATK 2.x HaplotypeCaller workflow according to version 4 best practices, using target gatk-haplotype. Handle correctly specifying advanced BQSR features when full GATK available. Provide shared variant filtration with VQSR for HaplotypeCaller results",2012-08-23T16:24:47Z,chapmanb
8e5e2ab5d1a43f2b4086c3a6d196628323e170d0,chapmanb,chapmanb@50mail.com,Fixes for cortex: handle misformed lines without contig/start information. Prefer the Path Divergence Caller and decomposed variants for output,2012-08-23T16:22:44Z,chapmanb
9d5abc7c8f92ecd7867f2ec98caab802b6206052,chapmanb,chapmanb@50mail.com,Fixes for Cortex to handle files with too few reads and no called genotypes. Ensure BAM files are pre-indexed prior to calling pysam.fetch,2012-08-22T18:33:35Z,chapmanb
bd3068d91e73af2e373e99c4b22c7ebabde48a10,roryk,rory.kirchner@gmail.com,Updated Tophat to use the newer --GTF option instead of --GFF.,2012-08-21T20:39:19Z,roryk
ab1666d138721950c7f14dcf41b319104b59a7ee,Brad Chapman,chapmanb@50mail.com,"Merge pull request #58 from roryk/master

tophat fix",2012-08-21T18:13:12Z,chapmanb
602536e109c3951091662cd6c2abde288a34eb50,chapmanb,chapmanb@50mail.com,"Support processing with GATKLite 2.x, including moving to v4 best practices. Still needs integration of non-commerical GATK parts of the pipeline",2012-08-21T18:12:08Z,chapmanb
164107747ec4240cedcd055dd1de75cba717e7f4,roryk,rory.kirchner@gmail.com,Added taking a GTF file for the initial junctions.,2012-08-21T17:57:32Z,roryk
361b689661546668f9e5cff2a5f0c085f58e75f0,chapmanb,chapmanb@50mail.com,"Finalize cortex_var calling. Fix list_ref_fasta input, remap calls to full contigs, merge full call sets and annotate with GATK before feeding into downstream analysis",2012-08-21T17:43:17Z,chapmanb
28ec97550ff4cf1751addb475573d8fa5212d980,chapmanb,chapmanb@50mail.com,"cortex_var pipeline: set PERL5LIB variable, correctly set sample name and keep processing in separate files by region analyzed",2012-08-21T09:49:56Z,chapmanb
24b2a6bdceb912fb031de1d7a9dade6d0da7fbf5,chapmanb,chapmanb@50mail.com,"Initial work towards implementing cortex_var as part of pipeline, requires local cloudbiolinux installs of stampy, cortex_var and vcftools",2012-08-20T20:05:09Z,chapmanb
8e2752eb0b23e965d58c242ff3851ffb32c88c65,Brad Chapman,chapmanb@50mail.com,"Merge pull request #57 from roryk/master

RNASeq metrics",2012-08-16T10:39:28Z,chapmanb
233406d82aa96d2fa54f98cf505748463c0d10df,chapmanb,chapmanb@50mail.com,Handle GATK 2.0 report items,2012-08-15T20:11:36Z,chapmanb
24ea746788496ad8458f00be5c41cbf0a7cf7c68,chapmanb,chapmanb@50mail.com,Support finding new GATK 2.0 Lite jar for running pipeline,2012-08-15T15:17:30Z,chapmanb
f462c970aed1c8160dc83d87e305086a7d682982,roryk,rory.kirchner@gmail.com,Add ribosomal RNA file filtering.,2012-08-10T04:46:21Z,roryk
ec58783091d7b8e5387c187190ff6c993c7bee25,roryk,rory.kirchner@gmail.com,Added RNASeq metrics to Picard.,2012-08-09T19:03:27Z,roryk
94edbba894ea78366cdd57921f6f6c05dbaa53bc,chapmanb,chapmanb@50mail.com,Avoid re-writing region BED files when they exist,2012-05-31T20:35:02Z,chapmanb
e18ac303d46a067348784cd7eecd5c2ed903ae24,chapmanb,chapmanb@50mail.com,Ensure subset BED region files for FreeBayes calling are ordered by position,2012-05-31T19:18:59Z,chapmanb
3577c2e6821464bb078f3bf7a6639c55cdeceb46,chapmanb,chapmanb@50mail.com,Avoid merging BAM files when only one file present during no alignment processing,2012-05-31T17:53:17Z,chapmanb
218f09c4506ae78b26e3a5eaa0519cb4c0fcb98e,chapmanb,chapmanb@50mail.com,Avoid merging BAM files when only one file present during no alignment processing,2012-05-31T17:49:31Z,chapmanb
d04547d13e81c31ab5ff0e22884aed0969197380,chapmanb,chapmanb@50mail.com,Fixes for no alignment/realignment processing: correctly get sam ref and avoid realignment steps,2012-05-31T17:37:30Z,chapmanb
b5920a4fe215a4c570ba9e5d2db89960c6e795e8,chapmanb,chapmanb@50mail.com,"Add hooks to avoid alignment, recalibration and realignment when starting with prepared BAM inputs",2012-05-31T02:08:16Z,chapmanb
0dcccc7ded50ed63975a3184931f03db425090a4,chapmanb,chapmanb@50mail.com,Support latest version of GATK report output,2012-05-23T14:50:44Z,chapmanb
680ebb3694765e945f0008471aea39edfb0136d7,chapmanb,chapmanb@50mail.com,Use Freebayes parameters in use for 1000 genomes calling,2012-05-16T19:47:46Z,chapmanb
0ab42fdafc72d07154c74508344d85d09603d6e3,chapmanb,chapmanb@50mail.com,Support custom derived masked genomes with snpEff,2012-05-11T19:55:42Z,chapmanb
25474a4fe031ab59e12817b7d3ed21abe9892a4e,chapmanb,chapmanb@50mail.com,Handle empty variant_regions with separately specified split region when genotyping with Freebayes,2012-05-11T16:21:30Z,chapmanb
3076b2cdfbae8d458db43468ea13fe9c2cae71a3,chapmanb,chapmanb@50mail.com,Handle interval specifications for region and BED file where GATK does not detect an overlap,2012-05-11T10:15:22Z,chapmanb
a423159a8dbaaa0ce5e2dc788f825eb1b8e22571,chapmanb,chapmanb@50mail.com,Delay starting of manager and cluster works so time based managers will schedule manager first,2012-05-10T02:09:21Z,chapmanb
48340d76fb0f6c6d571a86064824b8679c32fbed,chapmanb,chapmanb@50mail.com,Correctly sort existing split FASTQ files to match split numbering,2012-05-09T19:52:08Z,chapmanb
3db908828de25712ee0c2ad6fae659efd698edba,chapmanb,chapmanb@50mail.com,Allow specification of cores on commandline for local running of pipeline,2012-05-09T14:26:20Z,chapmanb
2ae7955b8b763bfbf16a3b0c3fc8d4f616ee39e0,chapmanb,chapmanb@50mail.com,"Allow targetted variant calling. Use BED file to limit recalibration, realignment, variant calling and annotation",2012-05-08T01:58:10Z,chapmanb
1bfc1b41e4cffbe306aec5c61988f8fa1925ce32,chapmanb,chapmanb@50mail.com,Documentation for alignment FASTQ splitting.,2012-05-07T19:29:40Z,chapmanb
8353d0ad8fb8e77c897cf7de139354176c0733cd,chapmanb,chapmanb@50mail.com,Support splitting of input FASTQ files to parallelize alignment. Remove duplicates by default to handle non-GATK variant calling pipelines.,2012-05-07T17:14:56Z,chapmanb
0b876d0656374496ac63af0df6431e8982d12a5e,chapmanb,chapmanb@50mail.com,Additional support for supplying VCF background files,2012-05-02T15:15:36Z,chapmanb
a924a276afc4b6050391872c0257ec9c13fa33c9,chapmanb,chapmanb@50mail.com,"Support haploid calling, background VCF input and specific target regions as part of freebayes variant calling",2012-05-02T01:22:44Z,chapmanb
2da3fed369822e82f7dcb09a92ecbc0a8c36a8f0,Brad Chapman,chapmanb@50mail.com,Handle new location file format for OLB 1.9,2012-04-20T00:46:54Z,chapmanb
4c51ea1f9c29702c851b7c7898cf3b1d061828db,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2012-04-18T18:48:38Z,chapmanb
2395f4430d34933f9c841b95c4a280f16fea4f22,chapmanb,chapmanb@50mail.com,Initial framework for converting Complete Genomics structural variant events to VCF,2012-04-18T18:48:22Z,chapmanb
388f36b86dbf69711523ea51a2ae04cf40742cdb,Valentine Svensson,valentine@nxn.se,"Made a helper function that tries doing float conversion
but reverts to the given string in case it cannot be converted to float.
Also handles formatting in this function.",2012-04-02T14:44:29Z,vals
f6d51d65754559d2301b4cc753d432824b869b6c,chapmanb,chapmanb@50mail.com,"Support detection of tandem duplications and translocation events, annotating in VCF appropriately",2012-03-29T15:50:45Z,chapmanb
50a48be35168e7227b68031454ff92d2ebee0015,chapmanb,chapmanb@50mail.com,Detect paired sets of breakend reads for more complex events. Convert inversions into reduced VCF representation,2012-03-28T19:44:07Z,chapmanb
bc5179c6dca1f37446944e1022c3a4b3921ebcb4,chapmanb,chapmanb@50mail.com,Collapse hydra identified deletions into standard VCF representation,2012-03-28T18:14:50Z,chapmanb
6b0e2cd34296f081989925a4de6bcfec9b327510,chapmanb,chapmanb@50mail.com,Add ability to filter Hydra VCF output by read support,2012-03-28T17:13:42Z,chapmanb
2da82e55299335398c4c559ee65e7988742f6225,chapmanb,chapmanb@50mail.com,Update Hydra BEDPE to VCF breakpoint conversion. Correctly handle all breakend orientation cases.,2012-03-28T13:51:29Z,chapmanb
1fc4a95b79fe8cd2d261fad5cb092f3b3afa702d,chapmanb,chapmanb@50mail.com,Revert bowtie2 change since -M only reports best alignment,2012-03-23T13:25:48Z,chapmanb
d82481f71ff6e9d67fbdee10238b23cc0998b6b0,chapmanb,chapmanb@50mail.com,Report single alignment from bowtie2 to match bwa approach,2012-03-23T13:14:17Z,chapmanb
0508d160d7ae88001ea6827baea65b80a979a0ea,chapmanb,chapmanb@50mail.com,Avoid adding extra Illumina base when bc_offset used. Thanks to Yan Wang and Mark Borowsky.,2012-03-20T16:18:37Z,chapmanb
2755ad7efdea1b0b452b48efcad98741cfbb0ba5,chapmanb,chapmanb@50mail.com,Generalize sanitization of text strings for LaTeX,2012-03-19T20:23:47Z,chapmanb
9a4bf3e7ad850c784376c73fb90f1dfd3c1a97e1,chapmanb,chapmanb@50mail.com,Update dbSNP and Mills standard indels for latest GATK,2012-03-16T15:27:08Z,chapmanb
23f810d45ee2cffe59cda33a280347660a17b053,chapmanb,chapmanb@50mail.com,Remove no phone home flag for GATK to be compatible with GATK 1.5,2012-03-16T14:58:58Z,chapmanb
51c2de4e12b16f368b6557f595a4861e18f4ed35,chapmanb,chapmanb@50mail.com,Example hydra converted VCF output,2012-03-16T13:48:18Z,chapmanb
4b13abaf3e68748e7a54ded121194989672966cb,chapmanb,chapmanb@50mail.com,Sort output VCF file allowing it to be handled by standard GATK tools,2012-03-14T16:19:17Z,chapmanb
80aba3672f3d0195f759d4511f2282f5f2b42b7b,chapmanb,chapmanb@50mail.com,Handle additional breakend orientation cases for Hydra to VCF. Generalize to fit the spec correctly,2012-03-14T16:08:42Z,chapmanb
bed70bd15f6d000ce6a7bfeec4c82e616d0c43b8,chapmanb,chapmanb@50mail.com,Queue manager and work nodes concurrently; fixes issue 50 reported by @vals,2012-03-01T10:53:58Z,chapmanb
ab5ba4cd1b73027370c98425168742f7cd6b24c2,chapmanb,chapmanb@50mail.com,Write VCF output for hydra defined structural variants,2012-02-22T13:11:43Z,chapmanb
bfce07acaf865c4b087944b406353e1a57b72a71,chapmanb,chapmanb@50mail.com,Initial work towards converting Hydra BedPe output into VCF 4.1 breakend format,2012-02-22T02:16:35Z,chapmanb
49a4585c7065246c06c4622c897b83127b2a85b0,chapmanb,chapmanb@50mail.com,Refactor and generalize plink to VCF conversion with support for more non-reference cases,2012-02-17T02:02:51Z,chapmanb
fb73be9907464be170083f76b8a18b8b5aa68d8b,chapmanb,chapmanb@50mail.com,"Convert plink ped/map files into VCF format, correctly oriented to the genome",2012-02-08T02:00:33Z,chapmanb
f44a47101f4f957ba0f9ca52208bd8cb799339cb,chapmanb,chapmanb@50mail.com,Provide received date in monthly billing reports,2012-02-07T01:56:26Z,chapmanb
20ccfe1fd37d1e02a59f732ffc0b07499b21d037,chapmanb,chapmanb@50mail.com,Update barcode trimming to support optional 3rd barcode read and adding barcode sequence to title CASAVA style; thanks to Mark Borowsky,2012-01-31T17:07:03Z,chapmanb
39c78d8d7c7f14a7a5327e57b41f33ae692a79c2,chapmanb,chapmanb@50mail.com,Allow absolute file paths in run_info.yaml 'files' specification; thanks to Per Unneberg,2012-01-30T14:54:34Z,chapmanb
90c7c4015f2809093677aae554c2f40785e1b82d,chapmanb,chapmanb@50mail.com,Finalize hydra runs using suggested pair distance metrics,2012-01-30T13:54:14Z,chapmanb
a6df874b2ec97889f11f8cd8fef8a50a7cabfe30,chapmanb,chapmanb@50mail.com,Sort hydra-ready alignments directly by queryname to avoid mering multiple aligners,2012-01-30T12:42:47Z,chapmanb
1d705ac8f6bab17ca1c9cdab181466664687f28c,chapmanb,chapmanb@50mail.com,"Handle variable inputs to structural variation: non-paired reads, alternate sorting; remove outlier read pairs in calculation of expected insert size",2012-01-29T21:44:59Z,chapmanb
940c61e3c54189d753efc2fd6d408e2d677f3119,chapmanb,chapmanb@50mail.com,Run hydra workflow to detect structural variation breakpoints,2012-01-29T13:23:53Z,chapmanb
805c73da7d4022586ec10a9ebbab9f4becce7542,chapmanb,chapmanb@50mail.com,Provide tiered alignment to identify reads pairs for structural variation,2012-01-29T00:37:16Z,chapmanb
5e39b50699245c028af061680837f645b2aefd9b,chapmanb,chapmanb@50mail.com,Initial framework for including structural variation detection,2012-01-28T20:40:15Z,chapmanb
6a7c10ce87bb1bdb2e6fd56f1b99f227845cc18c,chapmanb,chapmanb@50mail.com,Trimming of reads from 3' end by quality with removal of Illumina B-runs,2012-01-23T16:20:06Z,chapmanb
c615944d2ba24611140f9b85be25782c9af0e818,chapmanb,chapmanb@50mail.com,Update FreeBayes processing pipeline: add standard GATK annotations; filter using GATK recommendations; handle MNPs,2012-01-18T19:46:33Z,chapmanb
6e88c71b17d2c4418639fd08ebd70a0914f856c6,chapmanb,chapmanb@50mail.com,Explicitly report IndelRealignment errors in logging output,2012-01-17T11:59:01Z,chapmanb
d506cc2782ca808d8d2147c9d39c0f63ed603a38,chapmanb,chapmanb@50mail.com,Support snpEff 2.0.5 for GATK 1.4 with back compatibility for 2.0.2/1.3 versions,2012-01-11T15:46:45Z,chapmanb
c35ba0394b7565d51e640493f294a4c887476f37,chapmanb,chapmanb@50mail.com,Support for very ambiguous barcodes by avoiding large end gaps,2012-01-09T11:43:06Z,chapmanb
76cb0f0c20ee64582cda307895f385bfdf724d6a,chapmanb,chapmanb@50mail.com,Check matching for highly ambiguous barcodes,2012-01-09T11:24:32Z,chapmanb
42cc119c04ef0be25cfba34e0fdf80f4ae6e815b,chapmanb,chapmanb@50mail.com,Improve multiprocessing pools to try and avoid reported freezes; additional logging for realignment step,2012-01-05T11:25:18Z,chapmanb
faad7d9eeb23b87f89a0d933bbbeae66c3f4bfcf,chapmanb,chapmanb@50mail.com,Correct parameters to make_tag_file when barcode directory exists,2012-01-05T01:08:40Z,chapmanb
3549bb77616a8c0b07ce77ad3baae8b0e0ff0ee9,chapmanb,chapmanb@50mail.com,Generalize analyze_locally in illumina_finished_msg for distributed setups; thanks to Sophie Creno,2012-01-02T14:00:17Z,chapmanb
add454185d457a82af374760a4bf1c7e16901f84,chapmanb,chapmanb@50mail.com,Move to standard logging setup for single and distributed running,2011-12-22T20:13:59Z,chapmanb
1b01547c4ba71db68a337fce1f534e2e8dd02f84,chapmanb,chapmanb@50mail.com,Remove log handlers; need a more general solution for distributed running,2011-12-22T15:58:48Z,chapmanb
7b92f1fa4cf485acf416c764cef277f37f221a3c,chapmanb,chapmanb@50mail.com,Organize logging functionality into single module,2011-12-22T15:40:06Z,chapmanb
c944a46f3121d423297fdd7b061b5321dac45dfc,chapmanb,chapmanb@50mail.com,Read-based haplotype phasing from GATK,2011-12-22T12:42:24Z,chapmanb
007f35da1f1c59819c75815dee2bd58d5b886ff3,chapmanb,chapmanb@50mail.com,Fix default for missing project summary information,2011-12-21T20:27:35Z,chapmanb
5a19b6ba717711a239ae0926a517d06819ec80e9,chapmanb,chapmanb@50mail.com,Update SNP hard filtering criteria to latest GATK recommendation,2011-12-21T20:24:50Z,chapmanb
d1f5c4247caf1eed9856107ba16d10452bd3a86c,chapmanb,chapmanb@50mail.com,Smarter cleanup of fastq files when part of processing,2011-12-20T18:18:00Z,chapmanb
89fe6689ae00fd01ae70963d9305d6684655357b,chapmanb,chapmanb@50mail.com,Generalize variant upload finding; use useful directory names if available,2011-12-20T11:47:06Z,chapmanb
9a4dd612e62b2643f252b603ee794baaf20bbe31,chapmanb,chapmanb@50mail.com,Avoid allowing snpEff 2.0.3 with GATK variant annotation,2011-12-18T20:07:32Z,chapmanb
0ed49ee2ef3860de0d8d83a434cf166f1c1fd500,chapmanb,chapmanb@50mail.com,Skip recalibration filtering if failed on first round and manual filtering found,2011-12-18T20:00:52Z,chapmanb
652babfb912a031bc2ad73f735ca26126acd3eca,chapmanb,chapmanb@50mail.com,Provide top level summary of metrics for a project,2011-12-18T01:27:31Z,chapmanb
7b0e5f5d3498fe541191119405b33e32fc6e42bf,chapmanb,chapmanb@50mail.com,Correct filtering direction for freebayes variants,2011-12-16T20:14:47Z,chapmanb
c9017c73c9330baea15c58727e336d9994e5f36b,chapmanb,chapmanb@50mail.com,Fix circular imports,2011-12-16T19:55:05Z,chapmanb
328c505673fdfc619365dc16dc28aed1eb710039,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-12-16T19:38:17Z,chapmanb
48aac3d498ebebf855054d30819c7397c9ffd5e2,chapmanb,chapmanb@50mail.com,Perform quality and depth filtering on FreeBayes calls,2011-12-16T19:38:07Z,chapmanb
eb533db30516f37fe986111602628046adf91903,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-12-16T19:32:58Z,chapmanb
fe1ac50c8a0cde93af34872f20385db3c9214af5,chapmanb,chapmanb@50mail.com,Novoalign parameters to add,2011-12-16T19:32:47Z,chapmanb
f19229fcc1833d2bda5d79a123ea5f91efc7dc13,chapmanb,chapmanb@50mail.com,Annotate freebayes output with dbSNP identifiers using GATK; post-filter GATK converted VCF output,2011-12-16T02:10:28Z,chapmanb
979f67031c8af6d202b9cd2bdd93b1fefa6c9e1c,chapmanb,chapmanb@50mail.com,Clean up revoke to always show original error message,2011-12-14T16:48:58Z,chapmanb
f19e42db1ae6f7428fe84197d32a11d27a2eef7d,chapmanb,chapmanb@50mail.com,Work around problem with non-variant base calls in freebayes,2011-12-14T02:20:22Z,chapmanb
2937cafe2feb52a03620854a0d3d47b702dcf009,chapmanb,chapmanb@50mail.com,Provide better cleanup for Celery TaskSet jobs that die,2011-12-14T01:59:11Z,chapmanb
5eb2df82d91578531ffa5c647cfb1dd23783c0a7,chapmanb,chapmanb@50mail.com,Temporary workaround to skip chromosome calls with freebayes errors,2011-12-13T02:07:48Z,chapmanb
cb6f67fec6b61ba96d413b568c979445ddd93b1c,chapmanb,chapmanb@50mail.com,Avoid reruns with emtpy realign files; up number of concurrent messages for larger projects,2011-12-11T21:52:26Z,chapmanb
bd72fe21a96ed9fc96f01de6501b32e30b29f545,chapmanb,chapmanb@50mail.com,Be explicit about supported versions of GATK Report for parsing to detect future changes,2011-12-09T18:49:32Z,chapmanb
74abe88fdb99a40c851cc227820e05e00e6fa9ed,chapmanb,chapmanb@50mail.com,Set Illumina flag in BWA based on quality_format input; thanks to Per Unneberg,2011-12-09T12:01:52Z,chapmanb
418471488c42c86a01a5504deaeb00ae727daf45,chapmanb,chapmanb@50mail.com,Support novoalign in pipeline processing,2011-12-08T15:18:10Z,chapmanb
f78a4da49c0a2b2c816c6874e09d2542636fd872,chapmanb,chapmanb@50mail.com,Set temporary directory to local for MosaikBuild,2011-12-08T11:33:59Z,chapmanb
0b2b67f0cfc57f764c5b8b8fc7c342e90eb6c5f8,chapmanb,chapmanb@50mail.com,Use local temporary directory for MosaikAligner,2011-12-08T10:51:06Z,chapmanb
5aec786a080b6e90a8b6dc5b76c0c2e05d95726b,chapmanb,chapmanb@50mail.com,Allow option to select and upload final processed files with user specified descriptions,2011-12-07T15:50:48Z,chapmanb
8629ec0f5ba028495df0dafe04b3f5f02399765f,chapmanb,chapmanb@50mail.com,Correctly merge run group information with mosaik; generalize to support named run groups with any aligner,2011-12-07T15:10:05Z,chapmanb
c7c71e143ed01305d7d5e8ebef94f5585495bb15,chapmanb,chapmanb@50mail.com,Use ambiguous barcode matching to avoid misclassifications with trailing illumina base,2011-12-07T12:37:37Z,chapmanb
9df19c3f32c757aee4ed4ff33b1c6e09427c8c57,chapmanb,chapmanb@50mail.com,Change recommended clone method to https instead of git; thanks to Kevin Lam for the report,2011-12-07T12:06:26Z,chapmanb
a0cdbb51d1dfc24091b08a2d4226058501b8b2be,chapmanb,chapmanb@50mail.com,Prefer FastQC GC metrics graph in final summary output,2011-12-05T20:10:52Z,chapmanb
daee8633bf9eca12d70aad51d5ae441d0bd99c9b,chapmanb,chapmanb@50mail.com,Allow BAM files as input to pipeline via intermediate conversion to FASTQ,2011-12-05T15:42:35Z,chapmanb
6307be1349c09fe02371e4fff5ecd3bbaa3ad3f5,chapmanb,chapmanb@50mail.com,Allow ambiguous N bases in barcodes for trimming,2011-12-05T12:46:04Z,chapmanb
10ae00a0a127b07daa45e83a7973f92c49bfe3dd,chapmanb,chapmanb@50mail.com,Initial support for mosaik in variant calling pipeline,2011-12-02T20:26:24Z,chapmanb
981c99f6d98d74ad242c7d9c8fba57cd9d8aef92,chapmanb,chapmanb@50mail.com,Add support for FreeBayes for variant calling,2011-12-02T16:17:02Z,chapmanb
a6c86650f1311817bf44213e66f3b0e0b96fc913,chapmanb,chapmanb@50mail.com,Generalize variant calling to allow plugging in multiple callers,2011-12-02T15:02:50Z,chapmanb
4c1a54a2ae6b00133903f9c1efa5bedb4f10536a,chapmanb,chapmanb@50mail.com,Update usage message to match script name; thanks to Marina Manrique Lopez for poiting out,2011-12-01T01:15:02Z,chapmanb
b37bf783fe8e39094ed9a01f6b04bf7029c872d1,chapmanb,chapmanb@50mail.com,Avoid trailing A during Illumina demultiplexing; contributed by Pontus Larsson @b97pla,2011-11-30T14:29:50Z,chapmanb
e6205c4d018bb6487ef7f2a4f1fe5f449d59cd7d,chapmanb,chapmanb@50mail.com,Support flag ignoring the final base; handles Illumina extra A case; by Pontus Larsson (@b97pla),2011-11-26T01:15:37Z,chapmanb
d9e95c61c4720fa7606c79b67ddb53f773438968,chapmanb,chapmanb@50mail.com,Provide post_process.yaml for testing as sample file; allow post_process.yaml subbed in if needed for alternate architectures; thanks to Roman Valls Guimera for suggestion,2011-11-26T00:47:29Z,chapmanb
f6fe088a810c3b56fe4883acbc8ad592e97553b9,chapmanb,chapmanb@50mail.com,Use original number of cores when checking resources if it is less than calculated cores,2011-11-25T21:35:14Z,chapmanb
13829c191c026d89aa7b1d32ec084378c4277159,chapmanb,chapmanb@50mail.com,Subset by chromosome splits for realignment to avoid duplicate reads passed through; thanks to Warren Emmett for the report,2011-11-25T21:29:54Z,chapmanb
85b824a147590beb22a7ab30df998f7117318ab1,chapmanb,chapmanb@50mail.com,Additional bowtie2 integration,2011-11-22T00:16:38Z,chapmanb
10a18c23606d9e67b9c9663f599baac515d8f7bc,chapmanb,chapmanb@50mail.com,Collect all queue instances for total available nodes on SGE,2011-11-21T12:56:24Z,chapmanb
0d0e59cb67ebf6c5aefed57ab7218dd7623dd47a,chapmanb,chapmanb@50mail.com,Collect all queue instances for total available nodes on SGE,2011-11-21T12:49:10Z,chapmanb
7be8a1cad65af204dc39c6493c0ac7d516bee4b8,chapmanb,chapmanb@50mail.com,Swap default test aligner back to bwa,2011-11-18T18:53:31Z,chapmanb
90ffdb1dc694bde9e08eaf98f42932ad8f59d2d7,chapmanb,chapmanb@50mail.com,Initial support for bowtie2 alignments,2011-11-18T15:30:01Z,chapmanb
e9c1c05b1ca8ab9d8bc938bbde2c25a5f9025e7e,chapmanb,chapmanb@50mail.com,GATK support for snpEff versions is very strict; generalize to allow minor version changes without breaking,2011-11-18T12:52:04Z,chapmanb
e523578f158f92c7da50d53e9c788a820eb431b6,chapmanb,chapmanb@50mail.com,Support BED interface files with GATK 1.3,2011-11-17T21:30:44Z,chapmanb
93f16d5c491a7beb6531463347e21f2ae09dbe28,chapmanb,chapmanb@50mail.com,Skip variant calling on chromosomes without aligned reads,2011-11-16T20:46:13Z,chapmanb
3d0c78e41eb7e2f5d2346a3fef0ffe2569b6af4a,chapmanb,chapmanb@50mail.com,Correctly handle empty fastq inputs with GATK 1.3; thanks to Valentine Svensson for the report,2011-11-16T12:20:53Z,chapmanb
0f0efd52f664a535891063fdbb6fd728d0c8927d,chapmanb,chapmanb@50mail.com,Catch fabric import errors from 1.3.2,2011-11-16T01:52:16Z,chapmanb
d0a5d004486ac112812706859fa1066241be3f89,Kwok Lab,lingfung.tang@ucsf.edu,adding multi-core option to cufflinks,2011-11-15T14:03:25Z,kwoklab-user
7efa2096023beb45d4d3517539a49c3565bc8ce0,chapmanb,chapmanb@50mail.com,Compatibility with GATK 1.3; remove min confidence parameter that is no longer used,2011-11-14T14:25:50Z,chapmanb
7a493e9b335c7839b9c9a8c1aeacb848885f4246,chapmanb,chapmanb@50mail.com,Fixes for dynamically using all nodes on a private cluster,2011-11-12T20:51:29Z,chapmanb
b2d4f18fed0da0a017fa0a58015bfae7d7f989d2,chapmanb,chapmanb@50mail.com,Allow use of all nodes in a cluster: nice default for cloud instances; allow specification of work directory when running analysis server,2011-11-12T01:08:10Z,chapmanb
9e3fa4a7cba31ff771c2a74376647148304f5022,chapmanb,chapmanb@50mail.com,"Add configuration parameters for tophat, bwa, bowtie and GATK multicore parallelization; thanks to  Warren Emmett",2011-11-09T13:30:39Z,chapmanb
263793beca2b4e4293112db87f0df88dd7e7a017,chapmanb,chapmanb@50mail.com,Add cufflinks path option to config file; thanks to Warren Emmett,2011-11-09T02:07:28Z,chapmanb
56874257d4767ef52f0e3e881888fbe688f04a15,chapmanb,chapmanb@50mail.com,Correct naming for calculating expected cores,2011-11-08T19:30:47Z,chapmanb
29ebd328c86f2925ae1868dfa136c01dcb5a70cc,chapmanb,chapmanb@50mail.com,Avoid fabric import in storage until required,2011-11-08T15:07:37Z,chapmanb
2c86078b34d1cd6ddec2c9c85ff54021781df20e,chapmanb,chapmanb@50mail.com,Index BAM files during single processor activities to avoid multi-indexing when parallelized,2011-11-07T14:35:55Z,chapmanb
6f42e78fae2d9922486117a30c6cf69cbc6e4f03,chapmanb,chapmanb@50mail.com,Work around Picard issue with MergeBamAlignments using BWA and single end reads; thanks to Sophie Creno for the report,2011-11-06T16:26:58Z,chapmanb
338447ab778253a38fccb252c1dbd57329546ba2,chapmanb,chapmanb@50mail.com,Avoid GATK trying to send reports to Amazon S3,2011-11-03T01:10:31Z,chapmanb
0e001a42dd3b46dd74406458fd455597acd64cd0,chapmanb,chapmanb@50mail.com,Generalize finding BAM file to upload,2011-11-02T17:27:54Z,chapmanb
f44c38f6c39503170eddc643af8c4466504aac3c,Brad Chapman,chapmanb@50mail.com,Use realigned final BAM files for sample stats,2011-10-27T21:27:14Z,chapmanb
c104e73135ae732329ca8ec487d20f33c914cf74,chapmanb,chapmanb@50mail.com,Improve checks for output files to avoid duplicates,2011-10-26T16:11:09Z,chapmanb
25ece9058338760e6f7fcba0b5795d53453c5876,chapmanb,chapmanb@50mail.com,Pass along unmapped reads during realignment; safely deepcopy dictionaries to avoid multiple simultaneous processes modifying,2011-10-26T15:57:35Z,chapmanb
7ce59c185cf183d9e546042ef5c127090a484ded,Brad Chapman,chapmanb@50mail.com,Reupload any missing files to Galaxy,2011-10-26T00:14:26Z,chapmanb
77f2fc132f63bf59f0c68a2b6831194d81e0b3ee,chapmanb,chapmanb@50mail.com,Copy over re-calibrated files without explicit de-duplication at the end,2011-10-25T20:28:46Z,chapmanb
3f9f33b8916d9ee91cc9288c5489a6b4b5451652,Brad Chapman,chapmanb@50mail.com,Avoid re-running de-deduplication for metrics if previously run; fall back to variant filtration if recalibration fails,2011-10-25T09:34:31Z,chapmanb
0f8b19b4f3b325fb2e3db792ad095c614446c0b7,Brad Chapman,chapmanb@50mail.com,Improve multiprocessor utilization of cores by recycling,2011-10-21T19:33:33Z,chapmanb
1f2d2e8362aad290a48a5f5aeb873edc4a48adf1,Brad Chapman,chapmanb@50mail.com,"Fixes for diskspace saving and parallelization: try unordered imap for better core distribution, handle unicode issues when distributed with celery",2011-10-19T15:44:57Z,chapmanb
9e69d2e49f5aa3f4bed84bd2f0e5c3bd30a20c0f,chapmanb,chapmanb@50mail.com,Respect upload_fastq flag when saving space,2011-10-18T12:04:30Z,chapmanb
b8c48c8de991e71fb8122a178cfd9eaf11fe5462,chapmanb,chapmanb@50mail.com,Additional points to save diskspace during processing,2011-10-18T10:31:07Z,chapmanb
02b478765820e7dd126dcf592c763aa14f28b8f3,chapmanb,chapmanb@50mail.com,Deal with directory based transaction using new safe transaction approach,2011-10-17T13:02:51Z,chapmanb
d4306442f5403ef1c3d6922a9c1e48b7f03f82f7,chapmanb,chapmanb@50mail.com,Move to new transaction mechanism; all file-based transactions updated,2011-10-17T11:41:23Z,chapmanb
744b9b46adea3426681d7e012e57a56ea75d394c,chapmanb,chapmanb@50mail.com,Move Picard run functionality to safer transaction scheme,2011-10-17T02:32:21Z,chapmanb
fd2f63b25a5cacb15f2f2a8d63b74f8bcfc70f30,chapmanb,chapmanb@50mail.com,Updated mechanism for transactions to handle non-clean shutdowns,2011-10-17T01:31:06Z,chapmanb
0932947f0dfd9fe34bf655feac98abb6015c3526,Brad Chapman,chapmanb@50mail.com,Fixes for config loader,2011-10-13T11:54:06Z,chapmanb
3f8d26d73968241b129c1b76fb3571dc1bad0c84,chapmanb,chapmanb@50mail.com,Update indel naming to match new GATK convention,2011-10-13T11:14:54Z,chapmanb
9de2d2320f47b698ec3bdf1a4645f44dc41b4185,chapmanb,chapmanb@50mail.com,Add configurable option to include short name in final output,2011-10-13T10:34:44Z,chapmanb
3e0aec973d09023e2fd83124e6c0bbec52cb997b,chapmanb,chapmanb@50mail.com,"Add memory restrictions for multicore processes, configurable in config; handles bigWig memory issues",2011-10-12T17:58:01Z,chapmanb
d49ed84ee3e44cf57a10de2310b6d4a38f2f89d3,chapmanb,chapmanb@50mail.com,Extract bigWig to separate parallel task; add hooks for memory-resource management,2011-10-12T17:14:39Z,chapmanb
08974c2a9e51178d46858da608e423fd588c0c90,chapmanb,chapmanb@50mail.com,Fix tabs/spaces,2011-10-12T11:20:49Z,chapmanb
75b1831d62c18e8a334d61f62f6e1f359e60a8f2,chapmanb,chapmanb@50mail.com,Catch and deal with non-string attribute error in a single location,2011-10-12T11:15:32Z,chapmanb
10c84cb0c48337c7280f20a17f2f68b75e950857,Valentine Svensson,valentine@nxn.se,Generalizing config_loader,2011-10-12T09:31:07Z,vals
0bd4007a954a620a200b536ddf901124253e73f4,Valentine Svensson,valentine@nxn.se,Generalized the config loader after I found that not all possible fields in the config was in the test suite.,2011-10-12T09:23:27Z,vals
37bddb664873f03089ac3b33f7987637a0a7fe45,Valentine Svensson,valentine@nxn.se,Applied the use of the config loading module in several places,2011-10-12T09:21:48Z,vals
f951d0a18d5e6b7a7370974c731abbd91c503422,Valentine Svensson,valentine@nxn.se,"Introduced a module for loading config from yaml files,
which expands environment variables.",2011-10-12T08:58:50Z,vals
e80594a155ef6e4d2ba32e6c3016c0b17a62ae33,chapmanb,chapmanb@50mail.com,Support retrieving unmatched barcodes from multiplexing; trim with base ends and process as normal; useful when unbarcoded items included along with barcoded,2011-10-10T20:26:39Z,chapmanb
018e8a30d79f171fc816eed2802f61a1fc98c5bc,chapmanb,chapmanb@50mail.com,Avoid realignment with no aligned reads in a region to work around GATK error,2011-10-09T15:20:32Z,chapmanb
9a9d90fa95369eb02909e8a4b5dc09906d5d0ae8,chapmanb,chapmanb@50mail.com,Handle mixed variant call and non-variant call processing with parallel genotyping,2011-10-09T14:20:44Z,chapmanb
e0a38787df8665071f463dd8b8f262e141b945c9,chapmanb,chapmanb@50mail.com,Generalize processing to handle alternative multiplexed inputs; multiplexing now standard with non-multiplexed a special case,2011-10-09T14:09:49Z,chapmanb
6ca795fe765708c4f90493ef985c4f0e680ecc84,chapmanb,chapmanb@50mail.com,Generalize barcode entry to support single and multiplexed specifications per lane; not yet turned on since downstream code needs updates,2011-10-08T22:06:22Z,chapmanb
90e919c91728b80e69e3745acecc5cc26eaa902b,chapmanb,chapmanb@50mail.com,Merge branch 'gatk_v1_2',2011-10-07T17:34:00Z,chapmanb
e21003e42d12baabfa1d34f27a7d2ea43b17a107,chapmanb,chapmanb@50mail.com,Update processed file selection and upload for integrated variant calling names,2011-10-07T01:05:36Z,chapmanb
1ac6c32df1bd5baa81928a65a43d8014a6be9245,chapmanb,chapmanb@50mail.com,Correctly get SNP metrics for summary PDF,2011-10-07T00:31:40Z,chapmanb
0c7b8160ecce1683130e277694008abb0e06fa6b,chapmanb,chapmanb@50mail.com,Fix percentBad variable naming; thanks to Warren Emmett,2011-10-06T11:05:26Z,chapmanb
c8d6c06ddbaa961a4ba837cc6938d73d0e58177d,chapmanb,chapmanb@50mail.com,Better cleanup of jobs when stopped while waiting,2011-10-05T20:12:59Z,chapmanb
f09b4c0a011829362f16b5e3b20b0ce0be897852,chapmanb,chapmanb@50mail.com,Correctly handle multi-argument data for previously finished tasks,2011-10-05T16:39:52Z,chapmanb
0d7e88706222127ad178f8eb4836f516d30f02fa,chapmanb,chapmanb@50mail.com,Pass in data as first argument instead of bare dictionary; more general approach for multiple argument support over hacking in special case in mappers,2011-10-05T16:00:02Z,chapmanb
c01f5ca0feced097d98bed30589fb09f3ee7c784,chapmanb,chapmanb@50mail.com,Allow configuration of number of workers on commandline,2011-10-05T15:43:13Z,chapmanb
4f73f353c5a207dce31953beae786c995d141a2e,chapmanb,chapmanb@50mail.com,Distributed variant calling split by chromosome; allow general split to pass along finished files for re-running idempotence,2011-10-05T14:47:37Z,chapmanb
364dd559e0f3d146fb96538d131f9c003c52728b,chapmanb,chapmanb@50mail.com,"Generalize data passing in sample processing into dictionary, avoiding multiple arguments",2011-10-04T18:22:18Z,chapmanb
8363838fbffb86d6fe231445caaecbd9b1acc1d1,chapmanb,chapmanb@50mail.com,More work on parallel genotyping; exposes need to generalize argument passing between functions,2011-10-04T14:18:11Z,chapmanb
be41881c0cd31423f53291cb85efbcd6616a7aa5,chapmanb,chapmanb@50mail.com,Begin generalizing variant calling for parallelization,2011-10-03T20:09:08Z,chapmanb
c7c4369488ec805cbc81d580c3c1292125639159,chapmanb,chapmanb@50mail.com,Reorganize parallel functions into shared and variant specific files,2011-10-03T18:44:26Z,chapmanb
74234b4478b02cee3255189f21b6330c69b94f77,chapmanb,chapmanb@50mail.com,Provide general framework for parallelizing long running single tasks; implement by chromosome splitting for indel realignment,2011-10-03T17:46:50Z,chapmanb
2a16dd1c33ceb1ab029d5358eb1bee7d28cc3e8d,chapmanb,chapmanb@50mail.com,Extract potential parallelization points in sample processing,2011-10-03T14:17:31Z,chapmanb
61ee192af11129e32204b5d8eedb1925c719be81,Valentine Svensson,valentine@nxn.se,Reverting post_process,2011-10-03T06:44:18Z,vals
cee34b26ced82a3decd7b1b1a7fbb6f72d6926d3,Valentine Svensson,valentine.svensson@scilifelab.se,"Made the align summary report compatible with swedish decimal-, by replacing , with . where needed.",2011-10-03T06:29:09Z,vals
66a9ea0b1b8b4faa722344572a980766895f596d,chapmanb,chapmanb@50mail.com,Default to high coverage on variants as more common case; improve filtering for VQSR on exome data according to v3 recommendations,2011-10-03T00:16:32Z,chapmanb
1506fd2d5e2408baec3ab15ba0030000fcbc3836,chapmanb,chapmanb@50mail.com,Utility function for providing more specific configurations on top of global,2011-09-30T20:25:47Z,chapmanb
41809a09ab60843cf04b720dcf174a98d49293a8,chapmanb,chapmanb@50mail.com,Fixes for move to generalized cluster framework,2011-09-30T14:49:31Z,chapmanb
bab80564faf8023597740b31bd2fff9180b1c847,chapmanb,chapmanb@50mail.com,Generalize distributed management for use outside of pipeline scripts,2011-09-30T14:12:24Z,chapmanb
e3385f48d2d679a21efdf0f8616d9f22f461c3a2,chapmanb,chapmanb@50mail.com,Generalize parallel run messaging to work with alternative imports for use outside of pipeline,2011-09-30T12:38:07Z,chapmanb
b65b4226a078ca1ca2f2becdc3cbe0d988226ea3,chapmanb,chapmanb@50mail.com,Merge branch 'gatk_v1_2' of github.com:chapmanb/bcbb into gatk_v1_2,2011-09-29T21:32:49Z,chapmanb
404c961533d66d2d91fb90881329b7634bccbff9,chapmanb,chapmanb@50mail.com,Annotate VCF file with snpEff,2011-09-29T21:32:31Z,chapmanb
203a9bceaf43f57adfa6941c00d83aa62fc61656,chapmanb,chapmanb@50mail.com,Bump version to 0.3a,2011-09-29T00:24:42Z,chapmanb
8bd88be79988d0943933e9a2835aa70f59e159e3,chapmanb,chapmanb@50mail.com,Documentation on variant calling configuration,2011-09-28T19:49:02Z,chapmanb
19528b66543eead5ee3701202cb9ac83cb46a7f4,chapmanb,chapmanb@50mail.com,GATK and snpEff version requirements,2011-09-28T19:32:47Z,chapmanb
9aedd9d4b1e6801c84b820223446ba6d957419ef,chapmanb,chapmanb@50mail.com,"Prioritze SNP over Indel in merging to be explicit, although there should be no overlap in practice",2011-09-28T19:31:10Z,chapmanb
ba47d6029c15ced9afb9547a2ef594bb119e707e,chapmanb,chapmanb@50mail.com,Annotate VCF files with output from snpEff,2011-09-28T19:22:15Z,chapmanb
bf03c4499cfc581bacc6d6078ca3a54ba8d6a81d,chapmanb,chapmanb@50mail.com,Require recalibration plots to be turned on; avoid time consuming process for sake of a graph unless needed,2011-09-28T18:37:26Z,chapmanb
40684dc0cc94ceab7d946150348a60a7fe29481a,chapmanb,chapmanb@50mail.com,Handle SNP/Indel filtering for partial regional coverage where recalibration not applicable; apply this to tests so they will pass; split and combine SNPs and Indels to allow separate filtering,2011-09-28T16:30:01Z,chapmanb
21f5c37553c92ce178bcf630e4f97a49b4c4b572,chapmanb,chapmanb@50mail.com,Move to Variant quality recalibration for filtering; include indel calls,2011-09-28T02:38:07Z,chapmanb
8b4dcf820c4a36eb016c7515d2454bcfb658057d,chapmanb,chapmanb@50mail.com,Additional files for variant quality recalibration; configuration options for low/high exome/human,2011-09-27T01:48:12Z,chapmanb
f16a13f826d4959c4929f0dd9e71f4c9b671ff3e,chapmanb,chapmanb@50mail.com,Update UnifiedGenotyper parameters for 1.2; call indels; add hook for low/high coverage depth,2011-09-27T01:23:11Z,chapmanb
fa15b526125654a3329cdea46631c1d86b506e35,chapmanb,chapmanb@50mail.com,Update option changes for GATK 1.2 and snpEff 2.0.2,2011-09-27T01:04:49Z,chapmanb
ebb7b5b50fa9dd1c44d49a2da7645e285f252d2c,chapmanb,chapmanb@50mail.com,Improve download of automated data for testing with versions; add test example for variant calling that includes SNPs,2011-09-26T17:56:45Z,chapmanb
c22b4327997954a8f8cc19e1311eee7faed0552b,chapmanb,chapmanb@50mail.com,Return directory from makedir for easier chaining,2011-09-19T12:49:05Z,chapmanb
7f2433387603e7b7191471d436bcb82f972d9b2e,chapmanb,chapmanb@50mail.com,"Start analysis server before workers, allowing jobs to start as nodes are scheduled",2011-09-18T01:00:37Z,chapmanb
f4ff4dd3cc6c62420a8adad2532a9f73c22c4490,chapmanb,chapmanb@50mail.com,Avoid extra chr in output file,2011-09-17T20:51:01Z,chapmanb
427998bf127c27f0a1f0e6d048986a1735679c4a,chapmanb,chapmanb@50mail.com,Fixes for supporting multiplex and partially empty results,2011-09-16T16:25:02Z,chapmanb
650ae17e7788b9ba15bb4e77e14c4c03ead15c1f,chapmanb,chapmanb@50mail.com,Integrate cufflinks for transcript reassembly,2011-09-16T15:14:59Z,chapmanb
db0d4d127326716046905a8e40cddde78d6cfb60,chapmanb,chapmanb@50mail.com,Test files and genomes for RNA-seq analysis,2011-09-16T13:40:15Z,chapmanb
c59c68f1825700bcdc515946a84f345c8e687a57,chapmanb,chapmanb@50mail.com,Utility script for preparing test and demo data,2011-09-16T11:52:42Z,chapmanb
d84e9ea5ea74ae3e2ac2ad7a43290627da0caf55,chapmanb,chapmanb@50mail.com,Allow flexible naming and location of output files to handle TopHat subfolders,2011-09-12T12:05:42Z,chapmanb
cff2e5ed72156478baeee19ce56e50880fb60158,chapmanb,chapmanb@50mail.com,Avoid symlinking tophat output file if previously exists,2011-09-10T14:39:42Z,chapmanb
b23d24e06f4eec4af1a84374a5d8aa55125bf140,chapmanb,chapmanb@50mail.com,Avoid pre-fetching for Celery tasks to prevent waiting jobs; keep killing jobs on finish if some have died,2011-09-09T12:05:59Z,chapmanb
392fe79cca481a2dc0f7d5b33ffcfaad5534dc2e,chapmanb,chapmanb@50mail.com,Fix tophat running code so it actually works after testing on real data,2011-09-07T19:47:05Z,chapmanb
997fbb0ea02d8ee5d9c884f90a52e4371ee40823,chapmanb,chapmanb@50mail.com,Initial TopHat alignment support for RNA-seq pipeline,2011-09-07T18:26:37Z,chapmanb
cd3e129c1951dbb1d2d99d454b1e07d96d1d5497,chapmanb,chapmanb@50mail.com,Support multi or non-multi mappers for bowtie alignments,2011-09-07T13:42:41Z,chapmanb
b9061dfa6c91ba6a5ad4031c9eb867b5dc7dbe78,chapmanb,chapmanb@50mail.com,Improve documentation clarity; update to version 0.2,2011-09-07T11:33:55Z,chapmanb
f87ebe7b08ef32cae2013bcfa5b74113e8f6fae0,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-09-02T12:04:35Z,chapmanb
de08f4743c188969f10ceaf0fc413394c7d9f682,chapmanb,chapmanb@50mail.com,Update transfer_info config example to match new illumina_finished_msg script with celery,2011-09-02T11:35:09Z,chapmanb
b505bfb92ea5738f1ca55345ee8e08fc301b25c4,chapmanb,chapmanb@50mail.com,Remove ps2pdf requirement in documentation,2011-08-31T00:46:50Z,chapmanb
1fcb7b7e6d01e18de2a3fb18604d6c40ae568f58,chapmanb,chapmanb@50mail.com,Additional cleanup to script,2011-08-30T17:05:09Z,chapmanb
8fa06df4cbf68e41d05dac64111b656068023bd8,chapmanb,chapmanb@50mail.com,Fix reference to configuration file for passing to messaging,2011-08-30T16:55:16Z,chapmanb
e8d38ee50bca6d9d4453cbc9fd81f66e9fb2a42c,chapmanb,chapmanb@50mail.com,Calculate Broad metrics from input BAM file in addition to pre-existing output directory,2011-08-23T23:33:41Z,chapmanb
ca3544cf36267d1f2d0c4f1d3bb2d20a549725d3,chapmanb,chapmanb@50mail.com,Calculate Broad metrics from input BAM file in addition to pre-existing output directory,2011-08-23T20:22:16Z,chapmanb
16e3acb1c90140a099e9316bf279b2eabaecd2a0,chapmanb,chapmanb@50mail.com,Use celery messaging for communication between Illumina and analysis/storage machines; amqp messaging and custom scripts no longer required,2011-08-23T09:19:25Z,chapmanb
d3294ee8b8ea1b6f6e190784c54a4f824ef91ff9,chapmanb,chapmanb@50mail.com,Support spaces in run_info.yaml flowcell names -- thanks to Warren Emmett for the report; handle flowcell names in run info different than in folder,2011-08-22T15:17:29Z,chapmanb
f7c3dc0370327add53c577644e7d339dc29d635a,chapmanb,chapmanb@50mail.com,Pass java memory argument to snpEff; thanks to Warren Emmett for reporting the problem,2011-08-21T11:19:43Z,chapmanb
ca3b0620303aee67c6bd2420416dd0be9d1e6c8a,chapmanb,chapmanb@50mail.com,Handle uploads back into Galaxy for processing that comes from pipeline front end,2011-08-15T17:20:48Z,chapmanb
054bcdf8e56212196399d9d79621d31589575f25,chapmanb,chapmanb@50mail.com,Remove extra CSV files after recalibration,2011-08-15T13:26:13Z,chapmanb
e4c6876e7ccbfe49cb9cf06cb80aa3d980907966,chapmanb,chapmanb@50mail.com,Handle standard quality format when assessing re-calibration,2011-08-15T13:14:29Z,chapmanb
6d27673430020e16e1778c2a9ef5925f41f4f2d4,chapmanb,chapmanb@50mail.com,Handle standard quality format when assessing re-calibration,2011-08-15T13:11:18Z,chapmanb
3daae7eb6aa120f80d90a59f015fef2f228fce44,chapmanb,chapmanb@50mail.com,Allow specification of fastq qualities in configuration using Picard conventions,2011-08-15T12:48:43Z,chapmanb
cb959b4f0ee0ab0bceeb16c992ec04716ab565ee,chapmanb,chapmanb@50mail.com,Allow specification of fastq qualities in configuration using Picard conventions,2011-08-15T12:42:19Z,chapmanb
3b5f1749a8065bb9241d6a8ed77c047a05b3f6e2,chapmanb,chapmanb@50mail.com,Handle temporary errors returned from SGE qstat,2011-08-13T21:02:04Z,chapmanb
8131e5ab9cf9afa76e0dc4e091ddf84bc5c817c6,chapmanb,chapmanb@50mail.com,Connect automated pipeline with Galaxy front end,2011-08-12T19:51:16Z,chapmanb
a9ba012dbba88eaaa29893841e701579532d7a1a,chapmanb,chapmanb@50mail.com,Remove running analysis on remote host through fabric; makes debugging through celery and fabric a nightmare and lots of extra configuration,2011-08-12T17:18:58Z,chapmanb
0a99009fe307c336f129f2d0bb6ca26f72d4fc08,chapmanb,chapmanb@50mail.com,Increase flexibility for running automated through celery with less input params,2011-08-12T17:08:18Z,chapmanb
0dba807e5f9fee139a7267be2119e44ff93c5288,chapmanb,chapmanb@50mail.com,Add docs in config example for new more general parameters; allow single or multiple filenames on files line,2011-08-12T11:43:17Z,chapmanb
2786b765ed886212f48fef7ae2d6cb52beb09a81,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-08-12T00:07:27Z,chapmanb
7e4eb359e25c8b3029df141c882e82c7d2b12f84,chapmanb,chapmanb@50mail.com,Tweaks for top level tasks run through celery messaging,2011-08-12T00:07:18Z,chapmanb
142d3d9bf66a8f9ce0b83dc9f9e9d5242a8fc676,chapmanb,chapmanb@50mail.com,Allow automated process to run single machine or distributed analysis,2011-08-10T19:35:47Z,chapmanb
e7c3ffbe3de092ac77797c456d7b28666d0589f0,chapmanb,chapmanb@50mail.com,Remove samtools requirement; no longer used directly from commandline,2011-08-10T14:37:50Z,chapmanb
20edaa668bc4aab17d706007cb95b31207f48532,chapmanb,chapmanb@50mail.com,Provide top level analysis module to do copying and analysis through Celery directly,2011-08-09T23:24:17Z,chapmanb
7d0b6ad42f4d757a06412e41bb4fc2aad06e8dfe,chapmanb,chapmanb@50mail.com,Pass in configuration file information to settings. Setup framework for running high level tasks through celery,2011-08-09T16:58:42Z,chapmanb
0503174201c22b7399cc80dfee4e943e29b6a0ee,Brad Chapman,chapmanb@50mail.com,Retrieve lane read statistics from fastqc files,2011-08-05T11:59:32Z,chapmanb
d57f477aaf8f5a1041a9e73050aa2f312dc174c1,chapmanb,chapmanb@50mail.com,Prepare setup and manifest for pypi upload,2011-08-03T10:27:05Z,chapmanb
4d1df0b3a2aab6ae8efef01bd5e1a2be97c61ddb,chapmanb,chapmanb@50mail.com,Improve description,2011-08-03T10:08:41Z,chapmanb
cbf85c8bc26abd78c7aa169b86c4c952ea223f48,chapmanb,chapmanb@50mail.com,Allow final data preparation to work with run_info.yaml configuration instead of Galaxy only,2011-08-02T19:30:15Z,chapmanb
b7ea0abcdf459b41b26c7224aef8320fbc5d5d25,chapmanb,chapmanb@50mail.com,Move BigWig conversion to end of process; cheap workaround to avoid potential memory issues if many processes run concurrently,2011-08-02T18:00:07Z,chapmanb
c5bff4666faefec8270023eddcad58e370f31081,chapmanb,chapmanb@50mail.com,Additional fix for VariantEval in new GATK; handle new stratificationModules and changed output columns,2011-08-02T15:33:58Z,chapmanb
ffad9f5b854184ef8b4d3a8c881a3786bc4e66e3,chapmanb,chapmanb@50mail.com,Parse new GATK format for variant evaluation output; write recalibrated files to designed output directory with absolute paths,2011-08-02T13:22:04Z,chapmanb
7956c11d364bdd0c9f709292869a0332148c2d63,chapmanb,chapmanb@50mail.com,Move summary generation to reusable module; summaries now generated in correct work directory on distributed processing systems,2011-08-02T11:45:21Z,chapmanb
0f4564ff95d66c78cb8dd1b14ba457cebf1ead6b,chapmanb,chapmanb@50mail.com,Support plain BED3 input for bait and target files in hybrid selection experiments,2011-08-02T09:46:37Z,chapmanb
a8801eaba34c9783dd4178c5c6da5f7a188de97a,chapmanb,chapmanb@50mail.com,Remove GATK recalibration TileCovariate; not in version 1.1,2011-08-02T09:09:47Z,chapmanb
2c677fd0485af3ec2840ec5fa32aa7d8daa6b72e,chapmanb,chapmanb@50mail.com,Safe rollbacks added to picard metrics generation,2011-08-02T09:03:18Z,chapmanb
bb99c014482fc489fd0cb6482c40ad436ce0ed9f,chapmanb,chapmanb@50mail.com,Automatically get number of workers needed unless configured specifically,2011-08-01T13:20:21Z,chapmanb
7117efc03a58162abd97331f73038ef6d24d50a0,chapmanb,chapmanb@50mail.com,Configure Celery for no prefetching and retry for our idempotent setup,2011-08-01T11:38:01Z,chapmanb
e88b57ddc49d7f3700d7c9bacf148f17108ca252,chapmanb,chapmanb@50mail.com,Improve message passing robustness by always returning results; configure hosts per core to use non-exclusive access,2011-07-28T20:13:10Z,chapmanb
0e351de3670c0922576a768b63950d2a55c1df80,chapmanb,chapmanb@50mail.com,Fixes for lowercase run IDs on recent illumina flowcells,2011-07-28T14:43:08Z,chapmanb
66319fd6cd7bb59805ac8959c6ace18f5b858e8f,chapmanb,chapmanb@50mail.com,Support SGE schedulers for running distributed jobs,2011-07-28T13:11:47Z,chapmanb
2a75e043cf38e38b27b60ca1f6788374d75052fd,chapmanb,chapmanb@50mail.com,Move variation effect calculation into reusable module for pipeline; allow for recovery if fail during effect calculation step,2011-07-27T16:05:26Z,chapmanb
27ccaf99f7d7b36f75067a85f744e6dc377d9d13,chapmanb,chapmanb@50mail.com,Improve ability to re-start pipeline by rolling back on failures in the middle of running external programs; partial file removal implemented with context statement.,2011-07-27T13:10:59Z,chapmanb
ca2abb0f10d2d37d878ca908f49d14eb4ff6b769,chapmanb,chapmanb@50mail.com,Run job manager on single cluster node; cleanup for killed jobs,2011-07-26T20:40:54Z,chapmanb
96e7c0446b22f31b58c06f109e7d27d69c72d10e,chapmanb,chapmanb@50mail.com,Allow specification of algorithm information directly with samples in run_info,2011-07-26T14:33:12Z,chapmanb
8c47155515ff3c703b4a2a7c713b3c600ae563c5,chapmanb,chapmanb@50mail.com,Generate lane and flowcell replacement information for passed in filenames,2011-07-26T12:42:30Z,chapmanb
f7499a3ac6bb8685a494e62597420c99637d3d5c,chapmanb,chapmanb@50mail.com,Fixes for generalized flowcell retrieval,2011-07-25T19:26:23Z,chapmanb
53b7ea7e8fc4152f2351cdd2891b209963db73db,chapmanb,chapmanb@50mail.com,Generalize get_fastq_files to handle fastq inputs from run_info.yaml not organized into a flowcell,2011-07-25T19:08:00Z,chapmanb
8b9d827e0a73d563609d4fe28fce94798332e673,chapmanb,chapmanb@50mail.com,Handle bjobs lines distributed over multiple hosts,2011-06-21T19:31:03Z,chapmanb
f44a7ed1f5f741897f5274b8129a58f55f3264cd,chapmanb,chapmanb@50mail.com,Catch errors with problem rpy2 intallations to skip plotting step,2011-06-21T18:04:23Z,chapmanb
9c5b0d56c4ba7ceb5c28ba4d92946ad6482bda18,chapmanb,chapmanb@50mail.com,Documentation on distributed helper script; update example configuration with better defaults,2011-06-21T17:46:46Z,chapmanb
10add50d591a44658a2ea9d92c984c2a1553efa3,chapmanb,chapmanb@50mail.com,Script to run distributed message passing analysis on LSF cluster,2011-06-20T18:43:34Z,chapmanb
e868743ba06987e6777715f95eae5f3cec3aa763,chapmanb,chapmanb@50mail.com,New illumina flowcell ID schema; thanks to Roman Valls for the fix; closes issue #32,2011-06-20T10:51:42Z,chapmanb
7ed641e2aca0d7edc9b8ee250082e2bd99a04b31,chapmanb,chapmanb@50mail.com,Merge branch 'master' of git@github.com:chapmanb/bcbb,2011-06-19T17:36:40Z,chapmanb
ddf3ddaed70045369b1a04c8496d698e0c47eee1,chapmanb,chapmanb@50mail.com,Index reference file with samtools before realignment,2011-06-19T17:36:32Z,chapmanb
cb85589325ece22c5f99e3bcd88869c91907c0cc,chapmanb,chapmanb@50mail.com,Formatting on documentation,2011-06-17T19:36:34Z,chapmanb
4df7305c7e43df8d7e1e4a69d839618e18bf469e,chapmanb,chapmanb@50mail.com,Parallel execution using RabbitMQ; generalize processing script to work with only configuration changes; documentation,2011-06-17T19:31:48Z,chapmanb
961cebf4dfe99c6b011c889c6537760985ffea73,chapmanb,chapmanb@50mail.com,Generalize parallelization to support multiple approaches; high level functions moved to importable modules,2011-06-17T16:24:45Z,chapmanb
49ef919460cc613ab706cba8a7eca3cd18a4130a,chapmanb,chapmanb@50mail.com,Avoid extra mate pair fix step in GATK realignment,2011-06-16T16:20:26Z,chapmanb
cb24993ffa4001796fb5b5af8079e7d172b20e2f,chapmanb,chapmanb@50mail.com,Provide map-compatible functionality for running distributed celery tasks,2011-06-16T14:12:16Z,chapmanb
16d493e657b9be1e2fe18ec3903de57b827f7d7f,chapmanb,chapmanb@50mail.com,Pull out ipython code which doesn't work in favor of upcoming message passing approach,2011-06-15T20:02:24Z,chapmanb
02d7edad3929d9610dc7d2f565e752fac6f76beb,chapmanb,chapmanb@50mail.com,Improve parallel speed by separating demultiplexing and alignments; remove unneeded parameters from example configuration file,2011-06-15T19:49:29Z,chapmanb
f27647fd03e69c7fe53c19fdccb02df68eef068a,chapmanb,chapmanb@50mail.com,Main processing cleanup; reduce passed variables into dictionaries; avoid multiple calls for determining directory structure,2011-06-15T19:23:25Z,chapmanb
fef466b24e1cc94becd3091c13a48b2f7389affa,chapmanb,chapmanb@50mail.com,Generalize retrieving BroadRunner from configuration inputs.,2011-06-15T17:28:54Z,chapmanb
35fb33b2b3e356adb6f0e81bdd99454b2303ee1f,chapmanb,chapmanb@50mail.com,Move variant evaluation to reusable module; generalize retrieving BroadRunner from configuration,2011-06-15T17:22:33Z,chapmanb
e090e1e4e248d9c45c02996f0250e09e4d2327de,chapmanb,chapmanb@50mail.com,Modularize realignment and genotyping into reusable functions; generalize additional picard functionality,2011-06-15T16:46:15Z,chapmanb
59230605423d240fef7dec8b2a613a45094d8dda,chapmanb,chapmanb@50mail.com,Move GATK recalibration code to reusable module; generalize Picard functionality for reuse in metrics,2011-06-15T15:43:06Z,chapmanb
4844f8650f7d4b9c374d8f35b8d2fc9f0553b37f,chapmanb,chapmanb@50mail.com,Move GATK recalibration code to reusable module; generalize Picard functionality for reuse in metrics,2011-06-15T15:42:37Z,chapmanb
899da9036e286858000e1c66a64827ac829d5c0c,chapmanb,chapmanb@50mail.com,Move variation pipeline code to separate module,2011-06-15T14:11:21Z,chapmanb
162f095cd6f01f59dd4069d5f105828993104a5a,chapmanb,chapmanb@50mail.com,Move quality control and summary generation to module,2011-06-15T13:10:33Z,chapmanb
e838d11d136c71a0f1ea5c137e4c7bee3f66c945,chapmanb,chapmanb@50mail.com,Move flowcell merge functionality to separate pipeline module,2011-06-15T12:36:17Z,chapmanb
984d476248fd148d9c09916c0f05ab9914f4eefd,chapmanb,chapmanb@50mail.com,Refactor multiplexing steps into separate importable module,2011-06-14T15:49:24Z,chapmanb
2c02a58b48e9b973ee130a24cfeaefd0eb359bab,chapmanb,chapmanb@50mail.com,Refactor sam to bam into re-usable function; install needed scripts for pipeline that were missing,2011-06-14T15:19:22Z,chapmanb
4847cd4b85942417c454ecc23bf5cf8fb54aaab0,chapmanb,chapmanb@50mail.com,Remove maq script which no longer worked as part of pipeline,2011-06-14T14:05:50Z,chapmanb
3f300c299605b3548241c3933073afe973b1beb5,chapmanb,chapmanb@50mail.com,Generalize alignment step of pipeline; centralize specifications for aligner to ease addition of new aligners,2011-06-14T14:04:51Z,chapmanb
7356bb03689f007aa6a384cff682be7eb83bf208,chapmanb,chapmanb@50mail.com,Addition refactoring of reusable Picard functionality,2011-06-13T20:16:24Z,chapmanb
5be55c27d646102439ac860ed256642347cefe75,chapmanb,chapmanb@50mail.com,Move already shared functionality out of script,2011-06-13T18:53:50Z,chapmanb
e838749c5cbb232685504e457a41904cab485cc3,chapmanb,chapmanb@50mail.com,Split Picard and GATK high level run functionality,2011-06-13T18:43:29Z,chapmanb
c77928f22bb62f5bf49bfe5d41420afa17068fd1,chapmanb,chapmanb@50mail.com,Generalize aligners; move out of main script into submodules,2011-06-13T18:03:02Z,chapmanb
5e31beed30d18ca2f480ab5feb3f33fe583aa644,chapmanb,chapmanb@50mail.com,Generalize realignment in scripts into high level run functionality,2011-06-13T17:21:25Z,chapmanb
507fad86e5359853addf928f6ffc36977bfeeb78,chapmanb,chapmanb@50mail.com,Generalize realignment in scripts into high level run functionality,2011-06-13T17:21:07Z,chapmanb
d2683228b966a2bb865c27274dc043a146f262b9,chapmanb,chapmanb@50mail.com,Initial framework for supporting distributed tasks though Celery message queues,2011-06-13T17:00:31Z,chapmanb
8fdca82888ec7b22ef817593823d41fa4cf70bd5,chapmanb,chapmanb@50mail.com,Add option to disallow gaps in barcode de-multiplexing; thanks to Roman Valls for ideas,2011-06-08T10:43:05Z,chapmanb
ca89dbdfc25acbf253ffa2b41d85fe67389f5ccd,chapmanb,chapmanb@50mail.com,Count gaps as part of mismatch penalty for increased stringency; thanks to Roman Valls Guimera for ideas,2011-06-08T01:19:55Z,chapmanb
fde3efd35e928f0031faa16bf89217fe62cac2c6,Brad Chapman,chapmanb@50mail.com,Add support for arabidopsis,2011-06-06T00:44:43Z,chapmanb
64a35d0f21a4eadad78bc3188c6beb27893e0841,chapmanb,chapmanb@50mail.com,Produce jar that can be fed to hadoop query in addition to local run,2011-06-05T23:10:54Z,chapmanb
a2df1ddd2def3bce41d516701290992cace4f5ee,chapmanb,chapmanb@50mail.com,Parameters for realigment in high coverage regions,2011-05-20T20:41:14Z,chapmanb
3896d4a8359a8b594c34f9aa5a7bc760ddfd6313,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-05-20T19:28:03Z,chapmanb
55e0e7dab2c4a8975b4975bea6c5da059bc137ee,chapmanb,chapmanb@50mail.com,Reusable indel realignment wrappers,2011-05-20T19:27:52Z,chapmanb
fb3ed93ac6f619cbda983a75c14b28cb057c49f7,chapmanb,chapmanb@50mail.com,Merge,2011-05-18T13:27:47Z,chapmanb
097ef5cad872b9a17ae06ee04282d24198889e5b,chapmanb,chapmanb@50mail.com,Decorator to handle checking for presence of output file,2011-05-18T13:26:14Z,chapmanb
5687881e7007dc187615c9ce589ae983a08c6f1a,Brad Chapman,chapmanb@50mail.com,Handle NFS failures for writing output summary; not stricly necessary so ignore problems and keep moving,2011-05-15T13:29:04Z,chapmanb
957d300accd05542490901dddf37d093c44f5564,chapmanb,chapmanb@50mail.com,Updated added test from Roman to trim expected sequence,2011-05-12T00:09:03Z,chapmanb
3448d5fb44922fef896ec852015b5b476fc96a06,chapmanb,chapmanb@50mail.com,Clean up formatting on README merge,2011-05-11T23:42:14Z,chapmanb
b9565bef6b19dd318439d3c75d0ebc584927b01e,chapmanb,chapmanb@50mail.com,"Merge Roman's changes; convert README to markdown, slightly reorganize",2011-05-11T20:38:14Z,chapmanb
f0351be1eb362fd190f9c864057396a040d49e60,chapmanb,chapmanb@50mail.com,Merge Roman's changes; do not pass run_yaml if not present,2011-05-11T20:22:09Z,chapmanb
6a1b32fdff1044f48edeea67e44ad02db0af4825,chapmanb,chapmanb@50mail.com,Merge Roman's changes; avoid duplicate code in search_for_new,2011-05-11T20:20:15Z,chapmanb
3e945b81c72a28f505b3faae8ac3e8b2a6caab48,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"All samples that have a barcode are barcoded, even if they only have 1 barcode",2011-05-11T14:45:54Z,N/A
083fcfaf3713cb4a5e3692d5e7dfcd3a5b3ac1de,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Clearer logging/error msg & merge,2011-05-11T11:06:54Z,N/A
3f4c53c1947b35c031f78288c752581632ba26a1,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of https://github.com/chapmanb/bcbb,2011-05-11T11:05:30Z,N/A
a92293c1b527b3026d07b830ce69b5930e6b8b00,Brad Chapman,chapmanb@50mail.com,Handle HiSeq output files: check RunInfo.xml for number of reads and set checkpoint file accordingly,2011-05-10T20:03:40Z,chapmanb
628fbbd623e11a97850855701a80ed0494e7e94c,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Remove cruft & fix before pull request,2011-05-10T16:01:55Z,N/A
9f278b22636d6714ef2323b8e1af4b39f662d8fe,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Added testcase for non-illumina custom barcodes,2011-05-10T15:31:47Z,N/A
01ca60240741e15f777e2b68417af327f4bffc2b,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of https://github.com/chapmanb/bcbb,2011-05-10T13:36:19Z,N/A
e29609b2bb5fac2ad6e08c1d0d4643860a3b8fad,chapmanb,chapmanb@50mail.com,Merge,2011-05-10T10:39:06Z,chapmanb
41937b41ce0ff6b1ad877c6a8aee444337bc0ee7,chapmanb,chapmanb@50mail.com,High level functionality to fetch or create data libraries in Galaxy,2011-05-10T10:37:15Z,chapmanb
49b0443b46d3178389b72efab2b9df2ac4a503ac,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-05-09T15:24:03Z,chapmanb
e9108a807e014bcc3d734e37c3fb12e585cba5e9,chapmanb,chapmanb@50mail.com,Support for uploading from filesystems paths in API,2011-05-09T15:11:22Z,chapmanb
506e1c26561ce23ad975f4643fc07afd10fd7c44,chapmanb,chapmanb@50mail.com,Allow configuration of memory used by java applications,2011-05-06T14:40:44Z,chapmanb
5bfbba09e60881f167fcdd7421e3275075567eb5,Brad Chapman,chapmanb@50mail.com,Allow specification of a separate copy host for NFS mounted directories,2011-05-05T12:48:48Z,chapmanb
3fcf310a36cfa93bfd8d94f90f118c9ddc714737,Brad Chapman,chapmanb@50mail.com,"Check for finished flowcells on recent Illumina RTA outputs, which write complete file at finish",2011-05-05T07:17:43Z,chapmanb
16a84134d4b5e876aa0fcdaa12b1e3c645a33db0,Roman Valls GuimerÃ ,romanvg@kth.se,Merge,2011-05-03T13:45:10Z,N/A
f4e77c8f5d99aa895dd6c18f9c41351c43dc1280,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Re-sorted logging, meaninful notifications",2011-05-01T19:02:27Z,N/A
285de14d1d97fe8c3d22b4e9e3413c525187a01f,Brad Chapman,chapmanb@50mail.com,Escape problem characters from FastQC for LaTeX input; only report top over-represented sequences in table,2011-05-01T16:43:48Z,chapmanb
f725173adb375730988af31b6b372e274cb5829c,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-04-30T12:33:46Z,chapmanb
41872b5c1069166c7c5bb8535a6c1ad6145f1a09,Brad Chapman,chapmanb@50mail.com,"On non-barcoded flowcells, don't worry about sizes at all",2011-04-30T12:33:42Z,chapmanb
2ea74525d7bf14fe7c6bdaf6b4766c01c34d60f1,chapmanb,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-04-28T14:03:05Z,chapmanb
4ab453fb440aa3fe4326232de6a976f2466d7314,chapmanb,chapmanb@50mail.com,Explictly handle adding in extra bases for illumina barcode tags; thanks to Roman Valls Guimera for the nudging to generalize,2011-04-28T14:02:54Z,chapmanb
16c47a5eb999d640d98fb6f5501ea1b5815ae75b,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-04-28T11:29:53Z,chapmanb
de70fb9ad24f234ce7287bc6030b1897d4663f22,Brad Chapman,chapmanb@50mail.com,Catch additional errors in dealing with API and retry,2011-04-28T11:29:47Z,chapmanb
e3b5d4f6da1bb8246444c26e27081c838981fa62,chapmanb,chapmanb@50mail.com,"Use FastQC for sequence analysis, removing requirements for fastx_toolkit and SolexaQA. Improves speed for large HiSeq flowcells and provides some additional metrics",2011-04-28T11:10:01Z,chapmanb
ab32876ffe281f5849a73830073edf73d57c121c,Brad Chapman,chapmanb@50mail.com,Retry on Galaxy API communication errors,2011-04-27T14:48:40Z,chapmanb
a7c4efeee02364eff323a2ed8e2872dcce50d019,Brad Chapman,chapmanb@50mail.com,Support file linking in latest revision of Galaxy library upload,2011-04-27T14:30:16Z,chapmanb
82f18808d3494603f0093b18ca26e7381808f85f,Brad Chapman,chapmanb@50mail.com,"Safer globbing for filenames, avoid problems with 1 and 12 barcodes",2011-04-27T13:45:50Z,chapmanb
e79b3bf84076d29c6188a33e723336705e77079b,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge,2011-04-26T15:51:08Z,N/A
d9ad009d8d8c54b9dcdd0357a5d3629ff1ae2993,Brad Chapman,chapmanb@50mail.com,Avoid re-running barcode trimming for lanes without barcodes on shared flowcells,2011-04-24T13:54:11Z,chapmanb
b19400dde33718bd482e5ef3d18d0d2ec0404bfe,chapmanb,chapmanb@50mail.com,Typo in config,2011-04-22T15:38:01Z,chapmanb
1c57a24e2cb32bc7ae4f4f4c3703573a846bce2f,chapmanb,chapmanb@50mail.com,Save diskspace during analysis processing by cleaning up intermediates that have been converted to other formats,2011-04-22T15:36:32Z,chapmanb
848e4bd84d6ee9ff8ba02a432bd5d71feb697f50,Brad Chapman,chapmanb@50mail.com,Small fixes for allowing post-processing on machine,2011-04-22T18:53:55Z,chapmanb
a4eccc4209d6a0a9ea7a53ae96953bc8f8760d23,chapmanb,chapmanb@50mail.com,Allow on machine analysis instead of messaging; thanks to Paul Tang for suggestion and initial implementation,2011-04-22T13:30:52Z,chapmanb
045157a80a75705c74782001177388dcdbb3d025,chapmanb,chapmanb@50mail.com,Allow output for non-default directory; thanks for Paul Tang for the patch,2011-04-22T11:14:29Z,chapmanb
2e5a886bba50ea2090e6683255da988bb2878746,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Revert... worked to filter cmdline mistakes but has side effects on auto,2011-04-18T16:09:16Z,N/A
4bbc1a596cbeb4ee971fa0fb3500117bc902166e,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Naming on documentation too...,2011-04-18T15:53:26Z,N/A
edd81cd4a7df666b8b50f4ed7dc89940173ad60f,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Remaining naming scheme changes...,2011-04-18T15:49:40Z,N/A
1297187bbc5d1696d5f80d4d729b89e0e7270514,Roman Valls GuimerÃ ,romanvg@kth.se,Merge branch 'master' of github.com:brainstorm/bcbb,2011-04-18T15:33:03Z,N/A
8e48d87890a9fedee6f1e81b29491ae79d7b78be,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Revert TMPDIR changes and avoid errors on user input for flowcell directories (leading /),2011-04-18T15:35:24Z,N/A
d43a06fa204ee8814bdd2e4ce35fc17c74f725ca,Roman Valls GuimerÃ ,romanvg@kth.se,Revert TMPDIR,2011-04-18T15:32:58Z,N/A
5e05596ebdde7580e6f34d7c79bf8b8379df0402,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Revert naming scheme change, should be handled as last step (delivery)",2011-04-18T09:05:22Z,N/A
49e7a4856a8b0e2a8459f48e7c3dcf5753091988,Roman Valls GuimerÃ ,romanvg@kth.se,Merge branch 'master' of github.com:brainstorm/bcbb,2011-04-18T08:58:35Z,N/A
65bb64202a89bad0aaadd0bcc0a942ca517b0f58,Roman Valls GuimerÃ ,romanvg@kth.se,Merge,2011-04-15T09:10:11Z,N/A
afa6dcb7b6c8d7e6ed84be91d03518d12121c603,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,minor fix,2011-04-14T15:11:18Z,N/A
82ec8ac483cc6b2a71ae0c72821ad727f520cb61,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Fix conflicts,2011-04-14T14:57:23Z,N/A
f6c78dee83bae8124ebf2088187512d3c6f9e6af,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Added documentation on which files the initial automatic analysis generates,2011-04-14T14:40:43Z,N/A
2a37d23447d40c9e6a5f88c014822267d0a3b6f1,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Further tweaks on fastq naming schema,2011-04-14T09:04:33Z,N/A
ba239ece860a33f6e49879e5c23ef9f4d1449d16,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Misc fixes,2011-04-13T15:58:07Z,N/A
e0a4a5e6d29deb3cbe5310cec71570c3935ff936,Roman Valls GuimerÃ ,romanvg@kth.se,Merge branch 'master' of github.com:brainstorm/bcbb,2011-04-13T15:54:24Z,N/A
9762d9f11763d2ae0e3f89926212f699a016ed5e,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Mail handler with injected Illumina run record on Subject,2011-04-13T13:53:29Z,N/A
c4779853af94416af819fb291a6a423af6c828df,Brad Chapman,chapmanb@50mail.com,Normalize by total mapped reads,2011-04-12T10:08:26Z,chapmanb
cfa4c68ed8e3ba5efc400e479df1ddd18bfea718,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,No need for localhost on init,2011-04-12T09:35:51Z,N/A
f5c318e9f442101fb891a79ed5a8173f06d83e32,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Use UNIX TMPDIR variable first and mailhandler working after logbook library fix,2011-04-12T09:30:04Z,N/A
326926771b32039e2ce559da025aa234d16a9e08,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'release/nofastqtxt',2011-04-11T13:36:22Z,N/A
2ca8300abd888d0d1499192d601333b06b67292b,Roman Valls GuimerÃ ,romanvg@kth.se,Merge,2011-04-11T13:36:04Z,N/A
1412374e5221fa2688b7f0a0bfbfafd8f433171e,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Removed .txt suffix on fastq files, caused confusion among customers",2011-04-11T13:34:20Z,N/A
58e32035aaf2d1a149aaf5b680120923b68d04f5,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Adding original csv samplesheet to run folder,2011-04-11T12:55:25Z,N/A
a040ac584316f70c0d78f8a71d38f1088b7a4cb3,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'release/email_notif',2011-04-11T12:41:16Z,N/A
98d5040eb99878ccd71540c14c230f67070e27f4,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of github.com:brainstorm/bcbb,2011-04-11T12:38:04Z,N/A
c3cdec60949699bc313b79d6acb9869b02b949ec,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of github.com:brainstorm/bcbb into feature/email_log_handler,2011-04-11T12:32:18Z,N/A
5fc2c3f2aa7c340f90f0ab1fb91cd50aa375c941,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Relevant files to keep, mail notifications testing",2011-04-11T12:30:18Z,N/A
4ac7c7567a72b97053ecd34b987d17a50cd67665,chapmanb,chapmanb@50mail.com,Point to new cloudbiolinux repository,2011-04-10T12:07:14Z,chapmanb
eaa042379ff844fc4ff376c6232440bc2afd86a5,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-04-07T20:53:02Z,chapmanb
b0c886f6c3d2411883bbc4788e0e56b139433fed,Brad Chapman,chapmanb@50mail.com,Provide parameter to use tempfile to avoid filling up /tmp directory,2011-04-07T20:52:55Z,chapmanb
d27f40a1b8ce02ecd9806a0058694dbf24f496f9,chapmanb,chapmanb@50mail.com,Provide parallelized upload and download from S3. Good prototype for fabfile scripts,2011-04-07T15:02:32Z,chapmanb
e6d78f64a35f32a73c7c117d8a5c9c5c4a9f6872,chapmanb,chapmanb@50mail.com,Avoid race conditions when creating directories concurrently,2011-04-07T12:20:49Z,chapmanb
72c82b36cc8c3e784cec7f8af97af066ef5fbce1,chapmanb,chapmanb@50mail.com,Optional upload of fastq files to data libraries,2011-04-04T13:21:28Z,chapmanb
669ed0cbd53d29f091d4826288aba1bebfe68130,Brad Chapman,chapmanb@50mail.com,For upload get barcoded and barcode trimmed fastq files,2011-04-01T12:22:08Z,chapmanb
79b5da4c24d79529bfbdffa17f6c858f137afc31,chapmanb,chapmanb@50mail.com,Fix upload glob regular expressions to capture barcode and non-barcode lanes on HiSeq flowcells,2011-04-01T11:19:13Z,chapmanb
a6dd20895d12e1d212621215cbd77f2e8d1698db,chapmanb,chapmanb@50mail.com,Merge in Roman's changes to get_fastq_size,2011-03-31T13:34:07Z,chapmanb
7464169ea90ecaee49298452a145b0623398281d,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/brainstorm/bcbb into brainstorm-master,2011-03-31T13:31:49Z,chapmanb
863014bd17878a1b34ed9004e4a0baed6cdbda46,chapmanb,chapmanb@50mail.com,Normalize based on reads mapped instead of total count; thanks Peter,2011-03-31T13:16:27Z,chapmanb
9a0bf4842746f2f5b083633760ab06e4f2203c8a,Roman Valls GuimerÃ ,romanvg@kth.se,Merge branch 'master' of github.com:/chapmanb/bcbb,2011-03-31T13:00:13Z,N/A
9e9ca16bd465fe83cbb696ca6ff76182594c3c10,chapmanb,chapmanb@50mail.com,Report errors if bowtie or bwa commandlines fail,2011-03-31T12:13:04Z,chapmanb
ad41f51f4bf39c321438c70ce8b67807fdcb10ee,chapmanb,chapmanb@50mail.com,Add commandline flag for normalizing the output BigWig by reads per million,2011-03-31T12:05:15Z,chapmanb
74df8a7d0f7d887fca7d15d6e5c077f8038f1ce5,Roman Valls GuimerÃ ,romanvg@kth.se,Merge branch 'master' of github.com:/chapmanb/bcbb,2011-03-30T19:26:48Z,N/A
922b82cbfc637d7121e13e34d740296920ebea20,Roman Valls GuimerÃ ,romanvg@kth.se,Handle zero size fastq files,2011-03-30T19:21:53Z,N/A
49172f640d9b7e31023d9108fff5f6601eaf6bc3,chapmanb,chapmanb@50mail.com,Merge in fixes from Peter to work with Galaxy tools,2011-03-29T11:52:28Z,chapmanb
27a539ed5d9fa55b9a52941c36d4e82e7498fe08,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"New OLB 1.9 cannot find clocs, using old _pos.txt instead, which are backwards compatible",2011-03-29T08:30:33Z,N/A
47e4940f3c8531369adfd28a5bf3a61b21ce8b04,peterjc,p.j.a.cock@googlemail.com,Use NamedTemporaryFile to avoid permissions problems,2011-03-28T17:53:38Z,peterjc
6059da5c12eafc2bb7e97e2e83a823d7bac7693b,peterjc,p.j.a.cock@googlemail.com,Adding basic argument sanity test,2011-03-28T17:43:28Z,peterjc
f20c0dcd8e47cb35905f4b36f2cfadbd9cb9e833,peterjc,p.j.a.cock@googlemail.com,Make bam_to_wiggle.py overwrite existing output file for use in Galaxy,2011-03-28T17:40:28Z,peterjc
8f856ea10ff0f1b42e8e551221aae5c1a4fb9665,chapmanb,chapmanb@50mail.com,"Fixes to work with latest versions of pysam, Picard, GATK",2011-03-28T11:55:00Z,chapmanb
b2fa5450626c9ce55b05c009dde8570b0776a7d2,Brad Chapman,chapmanb@50mail.com,Back up to trying to query by date for a flowcell if barcode is not found,2011-03-28T11:19:08Z,chapmanb
c0496fab39907de92feb3072bb2c87795a900e07,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge,2011-03-28T08:16:02Z,N/A
c256e6bba0977322298cd8515de52aa9293ee989,Brad Chapman,chapmanb@50mail.com,Handle latest OLB and changes to Illumina dump file names,2011-03-25T23:13:11Z,chapmanb
197b92a88f17926c0bb1acfc86437184c8caf4d2,Brad Chapman,chapmanb@50mail.com,Fix utils imports to new location,2011-03-25T20:54:25Z,chapmanb
fd2bbc1da8df3d469345a33850e18a41c7a0eb10,Roman Valls GuimerÃ ,romanvg@kth.se,Merge,2011-03-25T14:55:01Z,N/A
e11de9a473ec90211cdc7e8b151ffa29e7df4fb7,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,bcbio.broad does not contain utils,2011-03-25T10:30:18Z,N/A
f91291ad232c3126ced387f8ec139637cd810167,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge,2011-03-25T10:22:42Z,N/A
6ec753772526e1f4d39a4b49d6f0629afde2aec5,chapmanb,chapmanb@50mail.com,Handle changed bclToQseq parameters for OLB-1.9.0,2011-03-24T17:36:16Z,chapmanb
176243d7bffc7f09f6a3818c2da0d280ad97facc,chapmanb,chapmanb@50mail.com,Undo silent failure; needed for empty and other problem lanes in pipelines,2011-03-23T18:54:50Z,chapmanb
163aac327623d518ed48696e5661e0ce8b6850da,peterjc,p.j.a.cock@googlemail.com,Error message if wig step fails,2011-03-23T18:32:16Z,peterjc
8904c9041978aa16b51ad2d368856b94003839de,peterjc,p.j.a.cock@googlemail.com,Use BAM's explicit reference name and length fields rather than the optional SAM text header,2011-03-23T18:27:38Z,peterjc
9f7ae38b46d6e6be084b45c38e7032e0d90d7733,chapmanb,chapmanb@50mail.com,Only require PyYAML for configuration input files,2011-03-23T18:10:41Z,chapmanb
0cd48ddda6c6d56eaa5ac13c82124cbbc50ce393,chapmanb,chapmanb@50mail.com,"Generalize Picard to Broad for running tools, including hook for specifying GATK separately; thanks to Roman for raising the issue",2011-03-21T14:37:41Z,chapmanb
9d34537c8eaa0bf5f1309f610053f7c76ce51f45,chapmanb,chapmanb@50mail.com,Move metrics and utils imports to more general permanent locations,2011-03-21T13:52:16Z,chapmanb
74c7b71d42a53269063fee04333cab3aae0fc93a,chapmanb,chapmanb@50mail.com,"Generalize Picard runners to Broad tools to reflect actual functionality, with back compatible imports",2011-03-21T13:43:07Z,chapmanb
39f0b5231b2acf3d36f364f9aa24119e62b44592,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Saving logs and other potentially useful info, new finishing signature on last Illumina software update",2011-03-21T10:04:16Z,N/A
0524aff2a0c77d4315c481d68043ebf3f78f94f2,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'master' of git://github.com/chapmanb/bcbb,2011-03-19T11:20:13Z,brainstorm
78341abbbaed146f03545bbca4ad0a468f726a5b,chapmanb,chapmanb@50mail.com,Avoid error if creating image directory concurrently,2011-03-18T15:29:41Z,chapmanb
6f342b858ad10d6f53cd514dbb617f8371932150,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,New OLB 1.9 requires -b parameter,2011-03-17T09:40:54Z,N/A
4711b5ffc74c49874811b7056071bb7cc4daf15f,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of git://github.com/chapmanb/bcbb,2011-03-17T08:54:02Z,N/A
7ca51d9da832fb45f71e38289edda40fb412a611,chapmanb,chapmanb@50mail.com,Handle single and multiplex reads on same Illumina flowcell by trimming extra bases on single,2011-03-16T00:39:02Z,chapmanb
5675ff96fa7b456f7537f97720e5c84f8d369634,chapmanb,chapmanb@50mail.com,Nick Loman's hmmer search utilities as a library,2011-03-07T02:01:21Z,chapmanb
7fde187e96b57815796bc231d705f7b7039b8a8a,chapmanb,chapmanb@50mail.com,Utility to create working directorie for project,2011-03-06T13:44:06Z,chapmanb
7625caea4bd291e221197d2002267252688d4663,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'master' of git://github.com/chapmanb/bcbb,2011-03-05T19:34:08Z,brainstorm
0532a4ae8a5bccaa92e15cdb36591e5acf3ac9a9,chapmanb,chapmanb@50mail.com,Use generalized map framework in automated workflow; allow missing picard graphs,2011-03-05T17:57:47Z,chapmanb
78f677f50395cd547d39214f7fd211418b3c411c,chapmanb,chapmanb@50mail.com,Move general utilities out of Picard directory; add in helper functions for parallel work,2011-03-04T20:49:18Z,chapmanb
05ecd13ff17fb3e187bcf13956d94a3a1aeb8c0b,chapmanb,chapmanb@50mail.com,Move general utilities out of Picard directory; add in helper functions for parallel work,2011-03-04T19:03:50Z,chapmanb
79a67063b898cdac1dd547418d83a3fee58b7f71,Roman Valls GuimerÃ ,romanvg@kth.se,"Gatk template path, again, maybe needs to be generalized",2011-03-04T12:34:08Z,N/A
2dc3817f2c83851bdc96e8b9aabdfdbee1f46435,Roman Valls GuimerÃ ,romanvg@kth.se,Merge branch 'master' of github.com:/chapmanb/bcbb,2011-03-04T10:43:52Z,N/A
f8d6684f273afe0462c2d49b531c1c6c87f3eb6e,Roman Valls GuimerÃ ,romanvg@kth.se,"Having GATK installed on other directories than Picard is not supported, should be generalized or in separated classes",2011-03-04T10:43:23Z,N/A
b8358c8d30f119972bb50c7bfa6670b9b7f80282,chapmanb,chapmanb@50mail.com,Add tempfile helper function,2011-03-03T20:42:41Z,chapmanb
78c83a39dcea09d71e75e312965c17271679d4e5,chapmanb,chapmanb@50mail.com,Handle missing insert metrics from Picard,2011-03-03T20:08:15Z,chapmanb
8fa09a6541205132d3f3fefd69016cc7765b304d,chapmanb,chapmanb@50mail.com,Make R/rpy2 optional and skip recalibration plot if not installed; update documentation on requirements,2011-03-03T11:38:16Z,chapmanb
0b03b6684b5df8df59090f67c17a549e273d8456,chapmanb,chapmanb@50mail.com,Update work with latest GATK version; clean up errors associated with empty fastq files,2011-03-02T20:22:23Z,chapmanb
054e5053d79d3950c12a83b92e84e54d9febb2fa,chapmanb,chapmanb@50mail.com,Update cloudbiolinux to latest ubuntu packages plus ease local installs,2011-03-02T17:40:57Z,chapmanb
cfb230320b2663a07c73b6b7758b4a8576a2469d,chapmanb,chapmanb@50mail.com,Bump pysam version to latest which compiles directly,2011-03-01T20:10:15Z,chapmanb
e79550e1824b97e37c2d57c4b5774a7d76b91acb,chapmanb,chapmanb@50mail.com,Merge additions from Roman; fix log string formatting,2011-03-01T14:44:51Z,chapmanb
9f1a96e0b7eda6cb5ec693f436df94f89f74d5cf,chapmanb,chapmanb@50mail.com,Merge branch 'master' of https://github.com/brainstorm/bcbb into brainstorm-master,2011-03-01T14:20:48Z,chapmanb
60eafe1d4afc28a5f46d8e7256b6be4f62a5111c,Brad Chapman,chapmanb@50mail.com,Handle empty sequencing lanes in reports,2011-02-28T20:19:59Z,chapmanb
4b95f3ef39293a615ae9653c82434cf914cd95e2,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Parametrized genome build with sampleref column,2011-02-28T17:03:43Z,N/A
2bb004d2b169c55715cd0db026436ed000b05bfc,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Added two more samplesheet files,2011-02-28T16:41:22Z,N/A
37fffeb7709500e702291ecb424081e304f9d698,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge,2011-02-28T16:37:02Z,N/A
b6adf2ec740c03d8b52d12440624e11517dbf66b,Roman Valls GuimerÃ ,romanvg@kth.se,Merge samplesheet,2011-02-28T16:11:52Z,N/A
45f30b1da376c1e22048f036de4fe985e1b00d62,Roman Valls GuimerÃ ,romanvg@kth.se,Added preliminar support for tophat on automated_initial_analysis,2011-02-28T16:10:41Z,N/A
37710352b538f520a6b2ea778f01bb67b7df70d7,Brad Chapman,chapmanb@50mail.com,Allow data set transfer to researcher named directories instead of groups,2011-02-25T19:21:24Z,chapmanb
0585018139eb656f504f07bc57bd63000c075850,Brad Chapman,chapmanb@50mail.com,Prevent running alignment summary without reference file,2011-02-24T18:11:22Z,chapmanb
f35ef45c0315958c4662ed8bddc6df4f3ba953b3,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Do not group by sampleref column, only with fcid and lane",2011-02-24T16:25:59Z,N/A
4ccdde33cfdd1c5ebf093c5cea3342974670ff76,Brad Chapman,chapmanb@50mail.com,Support minimal workflow with no alignment,2011-02-24T12:14:46Z,chapmanb
c43dbd9b4b31d8dc145ca3062a4f6a20d017c208,Brad Chapman,chapmanb@50mail.com,BAM to BigWig without samtools executable required,2011-02-22T18:18:59Z,chapmanb
66c79585ac8ee69fd4b9061dbb0e2e006b385651,Brad Chapman,chapmanb@50mail.com,Initial steps to remove samtools requirement,2011-02-22T18:09:57Z,chapmanb
dcfba4c5160dc77f0929427610f6ecc5a5370245,Brad Chapman,chapmanb@50mail.com,Fix type,2011-02-21T14:07:07Z,chapmanb
f19278e1ba14d3c21316cd04bf189bfdb30cb02d,Brad Chapman,chapmanb@50mail.com,Gracefully handle fastq files with no or few sequences; fixes issue 13 -- thanks to Roman for the report,2011-02-21T13:27:59Z,chapmanb
484f6b304c8965bd6532e19502e04dc6754d90f2,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge,2011-02-21T10:03:07Z,N/A
7f120ad1427c6f725d0a9d93c5993d4c3e583f50,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Samplesheet organizing should only correlate with lane, not with SampleRef (genome build)",2011-02-21T10:02:08Z,N/A
f0bdcfdc55a71d860390088a8958e9427e439d5c,chapmanb,chapmanb@50mail.com,Better error messages from Galaxy API; added note about sequencers supported,2011-02-20T20:08:13Z,chapmanb
69a6741526735300975781cfc708d84ae30f0415,chapmanb,chapmanb@50mail.com,Re-initialize galaxy communication exchange is pre-declared as different type,2011-02-19T19:14:33Z,chapmanb
1eef579265285d73d08a4376fe75a02094858de7,Brad Chapman,chapmanb@50mail.com,Add in matrix2png requirement; thanks to Konrad,2011-02-18T18:08:02Z,chapmanb
aa142d0fcfc89f51ef12dacc37b13e5c5a7d1eab,Brad Chapman,chapmanb@50mail.com,Support multiple flowcells in samplesheet with flag,2011-02-18T12:13:55Z,chapmanb
79cef4f60ff6eee7647ee0e92e4583522e24e7ca,Brad Chapman,chapmanb@50mail.com,Add support for automated testing with bowtie; requires new download of genomes directory,2011-02-18T12:06:07Z,chapmanb
240f0b7d4478cd697e6094fbdf9e1e8700105017,Roman Valls GuimerÃ ,romanvg@kth.se,Merge branch 'master' of github.com:brainstorm/bcbb,2011-02-18T10:28:35Z,N/A
b3fd15665ea4d34a1d4dc592e8a8b01e19830d0b,Roman Valls GuimerÃ ,romanvg@kth.se,"More logging, samplesheet fixups and spotted limitations on py-amqplib",2011-02-18T10:28:12Z,N/A
dc79dd8563e314d6d9b4134d806f757475b8fb9b,Roman Valls GuimerÃ ,brainstorm@nopcode.org,"Removing tests data, already present on Brad's Amazon S3",2011-02-11T19:05:17Z,brainstorm
ac8ca427e001a84012050181782238e7bf94335d,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'master' of git://github.com/chapmanb/bcbb,2011-02-11T18:58:42Z,brainstorm
98047bbc994006d78f3444722fc56da777d96ac3,Roman Valls GuimerÃ ,romanvg@kth.se,"Check if run_info_yaml *file* is present, not arg",2011-02-11T18:37:51Z,N/A
9a3849924f79216a5536ab6507ef93f0dff78724,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,fixed run_yaml handling,2011-02-11T17:36:03Z,N/A
315f2db07ab069d933d6baa5273d9306abb6e7d9,Brad Chapman,chapmanb@50mail.com,Merge in cherry-picked samplesheet fixes from Roman,2011-02-08T16:55:46Z,chapmanb
23b829f9cd7cab4ecae6a445c139e1237307bd41,Brad Chapman,chapmanb@50mail.com,Add overview diagram to documentation,2011-02-08T16:18:32Z,chapmanb
217eddd2fb5066ec1174ed64d468ed7e2a4a0793,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of git://github.com/chapmanb/bcbb,2011-02-08T16:00:46Z,N/A
4739c056285d9e7cab24613582833051e8e3b3e3,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Add erroneous illumina samplesheet (several fcids in the same sheet file),2011-02-08T16:00:42Z,N/A
79693edecefac4ebe3f4ccf77ab08a7230b708d2,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Removed hooks and handles corner case on samplesheets,2011-02-08T15:54:40Z,N/A
b5c6d57bf04f89fbb10c6a0db02419339fbbd5a5,Brad Chapman,chapmanb@50mail.com,"Documentation on testing, software and data installation",2011-02-07T13:35:24Z,chapmanb
e1e273e56262c57687d4605027db6a1762a0be0e,Brad Chapman,chapmanb@50mail.com,"Documentation on testing, software and data installation",2011-02-07T13:32:01Z,chapmanb
9acdba662225f4d575ba0a4ed4ea6ef8a414c2fb,Brad Chapman,chapmanb@50mail.com,Merge,2011-02-07T11:50:15Z,chapmanb
5e32dc0a141dba99a550b9faa0878cbdd7155399,Brad Chapman,chapmanb@50mail.com,Merge,2011-02-07T11:50:15Z,chapmanb
af35f91d25b8d4f4ed5c5fccd5ab181b53343c31,chapmanb,chapmanb@50mail.com,Download and install required test files on demand from s3 buckets,2011-02-06T20:06:40Z,chapmanb
e903a21bff2189b60d612f8d5ff550ff093d67cf,chapmanb,chapmanb@50mail.com,Additional work on full automated test of barcoding and SNP calling,2011-02-06T19:38:22Z,chapmanb
1cce5601e0ab0bff8279843e6b826064d8b49ac1,chapmanb,chapmanb@50mail.com,Organize test files without separate directory for automated tests,2011-02-05T23:43:36Z,chapmanb
1bf4f04c47bd03f4a5c6481b2e1c7c9da187d5f4,chapmanb,chapmanb@50mail.com,Organize infrastructure for full automated pipeline tests,2011-02-04T20:38:43Z,chapmanb
075546ca04f2508e80714275ec0356dc069f690f,Brad Chapman,chapmanb@50mail.com,Provide return information from convenience picard functions,2011-02-02T16:58:45Z,chapmanb
f3f610b470cec19da75cfabf3e0bfc7ad9b23b6c,Brad Chapman,chapmanb@50mail.com,Provide return information from convenience picard functions,2011-02-02T16:58:45Z,chapmanb
d17137be4fe5e625ef3f3b657837bb95d029c2c6,Brad Chapman,chapmanb@50mail.com,Do not run bigwig coverter if output file exists,2011-02-02T15:43:12Z,chapmanb
613de52f79af7e9f54deb428c32b9b0b4850342d,Brad Chapman,chapmanb@50mail.com,Do not run bigwig coverter if output file exists,2011-02-02T15:43:12Z,chapmanb
5715c5006dd12cd36d39049dcf6bb8a0f2bfb6a3,Brad Chapman,chapmanb@50mail.com,Additional testing configuration files,2011-02-01T19:27:11Z,chapmanb
e885c7061ce3f5d0282a9846ab88dad360366527,Brad Chapman,chapmanb@50mail.com,Additional testing configuration files,2011-02-01T19:27:11Z,chapmanb
234ec3f56d00f42842be8de00097d3a94e23df46,Brad Chapman,chapmanb@50mail.com,Test fastq files for full barcoded analysis,2011-02-01T19:05:25Z,chapmanb
a8a2c7ca7aa0159d8b4366c89e1c9d4821a19bc4,Brad Chapman,chapmanb@50mail.com,Test fastq files for full barcoded analysis,2011-02-01T19:05:25Z,chapmanb
6fd782d776c8c592b423465b4f7f940baa72cf25,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-02-01T14:55:41Z,chapmanb
a04aa5e117d417478c71a7fd2d072a60993c1dd8,Brad Chapman,chapmanb@50mail.com,Generalize BAM count helper to include coverage,2011-02-01T14:55:31Z,chapmanb
07ea9a69dd0ad90e3de7e1a8d8e19aedd6b26f24,Brad Chapman,chapmanb@50mail.com,Finishing merging Roman's updates plus tests,2011-01-31T15:27:37Z,chapmanb
c40866ac11b7fae760264a9f52c022b1351a7e58,Brad Chapman,chapmanb@50mail.com,Merge in samplesheet integration code from Roman,2011-01-31T15:04:24Z,chapmanb
d2c2daae1f0aebb614669669b8ea3f4de59d8753,Brad Chapman,chapmanb@50mail.com,Merge in samplesheet integration code from Roman,2011-01-31T14:40:59Z,chapmanb
8badb3e8cb402e42da005f2511f5787bf54254a8,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/brainstorm/bcbb,2011-01-31T13:15:09Z,chapmanb
b2a95e3f45274d80bd35bce1bbd062c1decffd74,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Missing file re-added,2011-01-28T13:39:07Z,N/A
5cb2291a8425a6ac5ae0ce22ccecfc2bc9b0dcbf,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge with local branch,2011-01-28T13:35:54Z,N/A
95c987ce928ea78c0cbbd2995e914fc7683f12e5,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Illumina/Genesifter (beta) samplesheet conversion integrated in pipeline,2011-01-28T13:33:36Z,N/A
b59d6b38447f8f0d9e597a2d026eeab2e6a79b00,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"First approach to samplesheet processing, needs further testing & cleanup",2011-01-28T13:05:36Z,N/A
d92a0926a6bf983c3f61fed02141aa3242a19f1d,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,It's safer and more generalized to correlate by FC_ID within samplesheet instead of filename,2011-01-27T17:44:33Z,N/A
67ada0cbc42d2ece36fe9c9af36daafa7668eeb6,Brad Chapman,chapmanb@50mail.com,Improve error messages for finding references in galaxy .loc files,2011-01-26T14:05:55Z,chapmanb
0e5a97ae3b14c0ec23844f80efd40424ec20db17,Roman Valls GuimerÃ ,brainstorm@nopcode.org,"Samplesheets exported from Excel broke the parser
for not having universal newline enabled when reading

http://www.python.org/dev/peps/pep-0278/
http://selfsolved.com/problems/python-csv-and-universal-newline-mode",2011-01-26T13:31:06Z,brainstorm
2267def7801ea959ced1a3982869c912cc778f46,Roman Valls GuimerÃ ,brainstorm@nopcode.org,"Merge branch 'master' of git://github.com/chapmanb/bcbb

Conflicts:
	nextgen/scripts/automated_initial_analysis.py",2011-01-26T13:29:39Z,brainstorm
50b1aa7631494cfb5f36a14ea621d6ad3c74fbc9,Brad Chapman,chapmanb@50mail.com,Do not install pysam automatically as easy_install failing on some systems,2011-01-25T17:56:36Z,chapmanb
45b8abe682092948c413995ccab22d1db004aa99,Brad Chapman,chapmanb@50mail.com,Check for empty lines in .loc files; thanks Roman,2011-01-25T15:34:37Z,chapmanb
46868fea09add7874724a254fd82d3f32b374a1f,Roman Valls GuimerÃ ,romanvg@kth.se,Proper handling of newlines on tool-data/*.loc files,2011-01-25T15:04:35Z,N/A
5798f27abe154aae3fd02905a6e1c03ad4ebd711,Brad Chapman,chapmanb@50mail.com,Generalize utility functions for counting coverage in BAM files,2011-01-24T18:15:21Z,chapmanb
2d887723e29205a6ba28024eaa90bd3975fa9ac9,Brad Chapman,chapmanb@50mail.com,Leave out rpy2 requirement since R not needed in all environments,2011-01-24T12:10:49Z,chapmanb
2fb6cf656a4d97c124c0015d3380a8e80ac55adf,Brad Chapman,chapmanb@50mail.com,Generalize finding jar files for Picard and GATK,2011-01-21T16:57:50Z,chapmanb
46183839451c65f110f18e50cb27e5524a1de1bd,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2011-01-20T14:09:02Z,chapmanb
790dc725963c2342bff1e48331e5b0c8c270d7b0,Brad Chapman,chapmanb@50mail.com,Add documentation on python requirement,2011-01-20T14:08:50Z,chapmanb
0609f683097f1ccdb01eb8bdf9a54c9497d106c9,Brad Chapman,chapmanb@50mail.com,True minimum version of compatible rpy2,2011-01-19T12:19:31Z,chapmanb
c670c31e16d005e69bed57004e017260e1edfd4a,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/brainstorm/bcbb,2011-01-19T12:05:59Z,chapmanb
4fc4b89e97929d85bee77102d586d6a505d25c1f,Brad Chapman,chapmanb@50mail.com,Automatically install required python packages in setup,2011-01-19T12:05:16Z,chapmanb
0bdf8fe83a22122d37fe619844edc619ad1a6481,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Hotfix on hooks,2011-01-18T14:22:42Z,N/A
42df3c7945a705b0fb241692b2aac898eda8b8a0,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Generalize archiving and other post-dump operations by using a hook,2011-01-18T12:36:35Z,N/A
f6a901f2bb9feaba52c9ae4732e4f5e650a79075,Brad Chapman,chapmanb@50mail.com,Handle occassional non-JSON responses from uploading gracefully,2011-01-18T11:44:13Z,chapmanb
7b9385bb467f2315e87e773c688c2f4fece03944,Brad Chapman,chapmanb@50mail.com,Script to convert from Illumina sample sheets to input format for analysis,2011-01-14T15:01:13Z,chapmanb
b4e39ba8f6dbdc044fb7e00b9189f1934d418dc9,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/brainstorm/bcbb,2011-01-14T13:21:27Z,chapmanb
5b0a9b4dcddf2e8e54b5bd1034186c95f0fe6aff,Brad Chapman,chapmanb@50mail.com,Move RabbitMQ messaging documentation to separate section with details,2011-01-14T13:17:51Z,chapmanb
49b517df84fa5657ac4eb17b0785c9a7c9bce040,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Fixed archiving with tar and md5 generation,2011-01-13T14:46:22Z,N/A
eae901bfebd507a9a42ad6eef7ddbf38f2f49a34,Brad Chapman,chapmanb@50mail.com,Documentation on ssh key setup,2011-01-13T14:14:45Z,chapmanb
56d4683bf777f8ca510cfb9a38ab703161c8852b,Brad Chapman,chapmanb@50mail.com,Updated details on scripts and configuration,2011-01-13T13:51:35Z,chapmanb
f2d091325c8943a1923a73a40195792cfb397c06,Brad Chapman,chapmanb@50mail.com,Handle multiplexing and results notes for billing spreadsheet,2011-01-13T13:39:39Z,chapmanb
d47a615ff22c6ef5a706faf09ac2bac482eaef2a,Roman Valls GuimerÃ ,brainstorm@nopcode.org,"Fixed tar_md5 script, works together with VeriTAR",2011-01-13T09:52:31Z,brainstorm
09ffe68542bd6465b1c50f31eff66532d891dd14,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Doc minor fixes,2011-01-10T16:05:53Z,N/A
0e2ac5c1400e018eeb6396057e2f496a54370edd,Roman Valls GuimerÃ ,romanvg@kth.se,HOST environment variable does not exist,2011-01-10T16:04:15Z,N/A
298fb0b84ae1a7dafa26aceba7dfc94b7733df39,Brad Chapman,chapmanb@50mail.com,Clean up calling Picard helper functions; still needs re-work,2011-01-06T15:54:27Z,chapmanb
67204eb1b3341e5bf0c8856419b48fa0879e0a7a,Brad Chapman,chapmanb@50mail.com,Example configuration for offline data processing with multiplexing,2011-01-06T04:05:01Z,chapmanb
99991e6aa8ae6292eb470039323e8db059555c10,Brad Chapman,chapmanb@50mail.com,Allow analysis to push files and run scripts on remote machines,2011-01-06T03:33:42Z,chapmanb
5d6643a82684b0c2399afa4b78e5219ca55b9c56,Brad Chapman,chapmanb@50mail.com,Shorten NCBI identifiers and check for missing IDs in GenBank to GFF conversion,2011-01-04T18:55:12Z,chapmanb
f9edf694fecd20328a66d84b96a92be9adca725a,Brad Chapman,chapmanb@50mail.com,Clean up for automated analysis script changes,2010-12-29T15:14:24Z,chapmanb
2687d31f8e9c067d5dab9ed3922582333d8299aa,Brad Chapman,chapmanb@50mail.com,Default to no archival in preparation script,2010-12-29T14:48:25Z,chapmanb
de0328b1b6ad8c7e3e48a7a4a4bb14a73e1d7a5b,Brad Chapman,chapmanb@50mail.com,"Integrate improvements from Roman, generalize logbook setup",2010-12-29T13:45:53Z,chapmanb
416ed382794d725d1d7a7603e79aef5e24f0548f,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of https://github.com/brainstorm/bcbb into brainstorm-master,2010-12-29T12:41:41Z,chapmanb
6469132a1c2e4ddb5c135e33dc9ca8e935337cc2,Brad Chapman,chapmanb@50mail.com,Additional reusable picard functions,2010-12-28T21:14:40Z,chapmanb
f1876c2e89624e44fb1e4ad3558177ae055607da,Brad Chapman,chapmanb@50mail.com,Merge branch 'master' of github.com:chapmanb/bcbb,2010-12-28T17:58:58Z,chapmanb
a1330f6988e0ece113c4cd85a1f952a215a92c3c,Brad Chapman,chapmanb@50mail.com,Update GATK to latest release,2010-12-28T17:58:54Z,chapmanb
1bbcac43b85e43098ddfd8e632ba190e84b924ca,chapmanb,chapmanb@50mail.com,Provide general merge functionality using Picard,2010-12-27T22:08:38Z,chapmanb
6a4807461fb63ebf0b7a739db9812fb646063d43,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Added archiving script with tar,2010-12-27T20:54:44Z,N/A
9a943214218b6a6ba9f5dd069715ec2da64d9cba,chapmanb,chapmanb@50mail.com,Provide utility functions for common Picard tasks,2010-12-27T12:12:07Z,chapmanb
c526e4ad02631e37e721c34485215444a045bf71,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Fix markdown code formatting,2010-12-21T12:27:15Z,brainstorm
b84419aef2f47be0a03d906c369fa85b2026429a,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Install instructions,2010-12-21T12:23:25Z,brainstorm
ba5f57bd84bc69a13ea32ddb00925c62d02b4fcf,Roman Valls GuimerÃ ,brainstorm@nopcode.org,"In sync with brad, some manual merges",2010-12-21T11:31:46Z,brainstorm
08bccb24b8f15afca7690b1855f351873befad80,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'master' of github.com:brainstorm/bcbb,2010-12-21T11:14:20Z,brainstorm
987769f188fe6e943dfcc857c5bb63792da75626,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merges,2010-12-21T11:14:09Z,brainstorm
e6ba5838affed04a9d80eed71166255bbe656adb,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Logging in aia,2010-12-21T10:34:49Z,N/A
73fb9cf497935b4e7b5536b909e614b936a2bd9c,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Upstream merge,2010-12-21T10:33:37Z,N/A
69540ae46c9a4651d81f39cea21e5db7e33c015b,Brad Chapman,chapmanb@50mail.com,Retrieve sequencing details for monthly billing,2010-12-15T20:03:53Z,chapmanb
3517194c4793a679f907ed52065979613d46f99a,Brad Chapman,chapmanb@50mail.com,Per-base alignment qualities enabled as recommended from latest GATK,2010-12-13T14:19:41Z,chapmanb
7a6c7901e35bf1fe34e99635f2902fa78e0a202c,Brad Chapman,chapmanb@50mail.com,Fixes for automated analysis with parallel directory creation,2010-12-13T13:35:05Z,chapmanb
fa1d855263b273f41fc20d3f13444e1a4e4204ca,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Logging added to analysis quickstart,2010-12-10T10:36:10Z,N/A
1184b022ea0d1263ed1ebde846fee7379666c9dd,Brad Chapman,chapmanb@50mail.com,Allow analysis pipeline to be run with an input YAML configuration file,2010-12-08T14:16:18Z,chapmanb
2c8c4484e682a2c0d9b1154389bc88d3ad39a168,Brad Chapman,chapmanb@50mail.com,Automated analysis of variant effects with snpEff,2010-12-06T19:32:18Z,chapmanb
b77454797d5defe84c7b2e4a1dbe5123a393c98b,Brad Chapman,chapmanb@50mail.com,Upload readjustment to work with barcoded samples,2010-12-06T13:11:34Z,chapmanb
d11e4ece972d7514e9f214c4ab8f80772d5cb744,Brad Chapman,chapmanb@50mail.com,Additional summary metrics for assessing hybrid selection; latest GATK genotyper support,2010-12-02T13:06:25Z,chapmanb
b487625a9638bca85c069993190fa75d472b5c67,Brad Chapman,chapmanb@50mail.com,Statistics and uploading modified for world of barcoded samples,2010-11-30T20:58:32Z,chapmanb
342d4d64ec511ee1250de19f1318d11c548cee6e,Brad Chapman,chapmanb@50mail.com,Summary CSV file preparation for barcoded samples,2010-11-29T15:51:12Z,chapmanb
0b5bc3ae823cf85a8d9496acf340299fa3df4f88,Brad Chapman,chapmanb@50mail.com,Genotyping updates for latest GATK,2010-11-29T15:16:57Z,chapmanb
e9567b2037eb50b3c068b9fe6ad15f58d4aeabfd,Brad Chapman,chapmanb@50mail.com,Support for multiplexed output samples in processing; revisions for latest GATK (1.0.4705),2010-11-24T21:06:14Z,chapmanb
5aa50e414bb262dd4048efaaf698af6a345a5116,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of git://github.com/chapmanb/bcbb,2010-11-23T16:19:37Z,N/A
0b9efe60903041db9009538748cf92f491f01594,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Separating fastq and qseq generation logic,2010-11-23T16:19:23Z,N/A
cb84bc954166c430a8b2407010ae444b5dbc268f,Brad Chapman,chapmanb@50mail.com,Generate fastq from qseq with Illumina barcodes,2010-11-22T18:06:47Z,chapmanb
ece1a68ec122ef7cffff3e903149d571723f4130,Brad Chapman,chapmanb@50mail.com,Switch back to scp; rsync is creating additional directories,2010-11-22T15:53:48Z,chapmanb
a111bc6f209f1d88ff3321987953c085276f85bd,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Updated one of the scripts pre-processing (conversion) role,2010-11-22T15:53:48Z,brainstorm
bf66a19604a115e0bde6c696f1ae3df196074e2f,Brad Chapman,chapmanb@50mail.com,Do alignments only when mismatches are allowed,2010-11-22T15:53:48Z,chapmanb
01672075d45d7e97d978f2a2cc79c5c7a9d0b257,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Added conditional flags for qseq & fastq,2010-11-22T15:53:31Z,brainstorm
657ef1a6c6d1715414fbbd8301877ee04456a5d1,Brad Chapman,chapmanb@50mail.com,Allow multiple arguments for olb make command,2010-11-22T15:53:31Z,chapmanb
438881635e70287c3ef81cb0e591bffe9606f670,Brad Chapman,chapmanb@50mail.com,Create logging directory when missing,2010-11-22T15:53:31Z,chapmanb
af51ee91683fa7f4e812bfc4877a62fe73f6524d,Brad Chapman,chapmanb@50mail.com,"Improvements from Roman Valls Guimera (brainstorm): identify HiSeq flowcell names, transfer, and logging",2010-11-22T15:53:27Z,chapmanb
3586ded287ddcb407d68ef85479d0df3ac8bbcf9,Brad Chapman,chapmanb@50mail.com,Declare queue and exchange in passing script as well,2010-11-22T15:45:09Z,chapmanb
984bb6ff1038d74c20585226abd5b5ec6001400c,Brad Chapman,chapmanb@50mail.com,Use snpEff to provide summary of variant changes; update upload to handle barcoding changes,2010-11-22T15:45:08Z,chapmanb
9741bb7cd1682862c0d87110ed3bec0a607255ed,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Logbook logging,2010-11-22T15:45:08Z,N/A
37860b812444db5cd3e5ced4c84be09a734a514c,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge with remote,2010-11-22T15:45:04Z,N/A
da39528953bf0da75d2d676002d64fefc2543793,Brad Chapman,chapmanb@50mail.com,Switch back to scp; rsync is creating additional directories,2010-11-22T15:06:06Z,chapmanb
cbf7ec6cc484e1de817ea8fce024c5f335e92bd3,Brad Chapman,chapmanb@50mail.com,Do alignments only when mismatches are allowed,2010-11-18T18:52:23Z,chapmanb
20e9e70ed883050bdc71691da67fea844ef56553,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,eliminate gitignores,2010-11-18T14:59:37Z,N/A
f3592d5feb418e80122deda561762481cbf8eda9,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Added conditional flags for qseq & fastq,2010-11-18T14:49:57Z,brainstorm
e3d1db1f3887485aeb18a2584c054140276ad582,Roman Valls,romanvg@sbc.su.se,Merge upstream,2010-11-11T16:28:34Z,N/A
b7be76bd9b3f86c26e6f4321db336b79cc52bbda,Brad Chapman,chapmanb@50mail.com,Allow multiple arguments for olb make command,2010-11-10T17:05:31Z,chapmanb
3da8e7d2552dea5bd78575c1a94b1543eb0331df,Brad Chapman,chapmanb@50mail.com,Create logging directory when missing,2010-11-09T17:01:26Z,chapmanb
d0035b6e176ed8d1cbf4fc52e198b4e394a55cf8,Brad Chapman,chapmanb@50mail.com,"Improvements from Roman Valls Guimera (brainstorm): identify HiSeq flowcell names, transfer, and logging",2010-11-09T16:53:25Z,chapmanb
cfa48f81eb706b2c3e881d1071067894ddfcb0af,Brad Chapman,chapmanb@50mail.com,Declare queue and exchange in passing script as well,2010-11-09T15:38:12Z,chapmanb
48f9c72e1670f4f70f313609e68b00b7a6d8439b,Brad Chapman,chapmanb@50mail.com,Use snpEff to provide summary of variant changes; update upload to handle barcoding changes,2010-11-04T18:33:25Z,chapmanb
5ff3844b669e0cc114eecedc21eb9b0740cc6181,Roman Valls GuimerÃ ,brainstorm@nopcode.org,merge config template,2010-11-03T23:24:19Z,brainstorm
c5523421bca6695c85e13e4bb0e9fa98aa873e1f,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Logbook logging,2010-11-03T23:19:03Z,N/A
6e11f0ec218463fd570261aa21a2617c9a934aad,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge with remote,2010-11-03T22:30:46Z,N/A
c32d4c184478763c32f6a5f09544e2cd7e431195,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Template config files,2010-11-03T21:08:55Z,brainstorm
79d642d1562627d74dff8c21520689c0f00e6f6b,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Ignore config files on dev,2010-11-03T21:03:41Z,brainstorm
5d36f9b0f541ad4872a990ad961241cd12eff6d7,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Config files to origin,2010-11-03T17:21:03Z,brainstorm
56266f17fc74dbaad3cd6bd2be06cd6c9c742482,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Basic Logging added,2010-11-03T16:57:40Z,brainstorm
ba909dbe24bc0ffd73a9272cbdccce95cc5456c8,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'dev' of ssh://cbg/home/roman.valls.guimera/dev/bcbb into dev,2010-11-03T15:02:31Z,brainstorm
d927ca16262a648529a5845fe221e5b31c80410c,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,added nice/ionice to prevent high load average,2010-11-03T15:02:24Z,N/A
bae9e680921eca79e2805c5f9dfdc757f35e1df6,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'dev' of ssh://cbg/home/roman.valls.guimera/dev/bcbb into dev,2010-11-03T14:57:44Z,brainstorm
5f23f33f666ecdfee9da1b191d00685b70fe90c4,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'master' of http://github.com/chapmanb/bcbb into dev,2010-11-03T14:54:42Z,brainstorm
14e3611497d2efbdee5dfd238a2d1fe1754069e3,Brad Chapman,chapmanb@50mail.com,Include basic variant statistics in automated SNP pipeline,2010-11-02T18:04:07Z,chapmanb
6a7afbd74a58e0a573975c97c05872c37f11768d,Brad Chapman,chapmanb@50mail.com,Handle input BED files for conversion to interval lists,2010-11-01T12:32:57Z,chapmanb
25f3a00949ffdc6ef0f76bd4ed403cc916668fbc,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,rsync instead of scp for better deltas management,2010-11-01T11:02:46Z,N/A
e3ed9f7bfe8eb05081ae076ac2a881cf349f6ddd,Roman Valls GuimerÃ ,brainstorm@nopcode.org,Merge branch 'master' of http://github.com/chapmanb/bcbb into dev,2010-10-31T20:55:35Z,brainstorm
dda9c40652ce9d8ca8f26e1b9afc702961e11e56,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of git://github.com/chapmanb/bcbb into dev,2010-10-29T15:33:47Z,N/A
ec542260c02975112c81cd65683af6e656fe9288,Brad Chapman,chapmanb@50mail.com,Update file upload to handle separate folders for barcode multiplexing,2010-10-29T11:46:03Z,chapmanb
b029ba95ed1322afb3e030c8bd5f7530a485b44f,Brad Chapman,chapmanb@50mail.com,Correctly handle non-barcoded cases,2010-10-28T15:50:43Z,chapmanb
10613e4e853b32500b178d20ff7f637df206cce7,Brad Chapman,chapmanb@50mail.com,Adjust automated workflow for local barcode script,2010-10-28T15:37:11Z,chapmanb
5612835176e578f1e24e27c4a9c1e8b7f9804dec,Brad Chapman,chapmanb@50mail.com,Standalone script to sort multiplexed fastq by barcodes with trimming,2010-10-28T14:50:50Z,chapmanb
2865cc07d40d7169da1f8626df6ebdb2060ab616,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Upstream merge,2010-10-27T21:53:30Z,N/A
a07a31f60456d44004e57623319cac048010b4fd,Brad Chapman,chapmanb@50mail.com,Initial steps toward barcode processing support,2010-10-27T12:18:57Z,chapmanb
01bc9cfe35d3330ccce1e1037f6a71bab4b2ef6c,Brad Chapman,chapmanb@50mail.com,Clean up old header documentation and functions,2010-10-25T17:45:57Z,chapmanb
ea55627bcfc2dfdb3632328df9a5d3570385e58e,Brad Chapman,chapmanb@50mail.com,Generate qseq files from bcl inputs when missing,2010-10-25T11:34:32Z,chapmanb
7360ef5cb1a2bd71897eba9ecb832dfb5f0e9e8e,Brad Chapman,chapmanb@50mail.com,Limit SNP analysis by provided intervals of interest,2010-10-22T15:48:22Z,chapmanb
8d9071009f64e47c6ceab5006a100c832c921a13,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,Merge branch 'master' of git://github.com/chapmanb/bcbb into production,2010-10-22T15:17:18Z,N/A
f4b04183e82043b560a336619b10b722b7cca7f9,Brad Chapman,chapmanb@50mail.com,Initial pass at high level GATK variant analysis,2010-10-21T20:14:13Z,chapmanb
c5f55293d9d78873cb30eb451a7304d531b4a73b,Brad Chapman,chapmanb@50mail.com,Fix up options for selective message passing,2010-10-18T12:20:37Z,chapmanb
bf92d1be884782b393537804b4d5f4b0fd641f84,Brad Chapman,chapmanb@50mail.com,Allow sending specific messages on finished sequencing,2010-10-18T12:22:49Z,chapmanb
6a81285ef789eae2b21c8059fa6912e1d48f549a,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,"Lanes have no qseq.txt, but .bcl instead",2010-10-17T23:16:50Z,N/A
8ad6211be814c86125de22db1d72e4e78c94de13,Roman Valls Guimera,roman.valls.guimera@scilifelab.se,It seems that there are more changes to be done for it to work with HiSeq 2000,2010-10-17T23:14:45Z,N/A
89a2b240e6e8e096dda5ed5f1c47f761de5982b8,Brad Chapman,chapmanb@50mail.com,High level script to re-process previous samples,2010-10-15T20:21:29Z,chapmanb
e989763f704a77cb86e9f5f3dd091a69648b5e05,Brad Chapman,chapmanb@50mail.com,Add hook to eliminate short name if desired,2010-10-15T13:09:13Z,chapmanb
519e2e090576d7a35793d25a799aa6474a59d364,Brad Chapman,chapmanb@50mail.com,Generalize wild card for finding illumina output directories,2010-10-15T11:18:06Z,chapmanb
4d190f3283d9745d5de258c85adb8136cc97714a,Brad Chapman,chapmanb@50mail.com,Update example configuration files for post-processing,2010-10-14T13:25:52Z,chapmanb
ca3a439b05a3f82f1f95b77faf33ffdc6a1cbe3c,Brad Chapman,chapmanb@50mail.com,Update analysis pipeline for latest GATK release,2010-10-13T13:40:36Z,chapmanb
0aecb79463d8719ea6fc1b9772727c43535cc726,Brad Chapman,chapmanb@50mail.com,Show error plots only in pdf output,2010-10-07T16:52:46Z,chapmanb
a0257df9af3f9bedbd4689731aafc0921773923b,Brad Chapman,chapmanb@50mail.com,Add solexaQA graphs to summary reports,2010-10-07T15:11:06Z,chapmanb
95a86ac1201f1ea010e36c688def6a838a70ce67,Brad Chapman,chapmanb@50mail.com,Create target directories if missing when copying fastq files,2010-10-05T20:25:21Z,chapmanb
98b424276e9d387d02d2f4e734d06b8ce60e7ff3,Brad Chapman,chapmanb@50mail.com,Handle case with read pair on non-passed through chromosome,2010-09-29T17:51:18Z,chapmanb
d1c6d70aa3e65895e515a48340f069435715bb0c,Brad Chapman,chapmanb@50mail.com,Allow resorting of BAMs based on an input reference dictionary to match,2010-09-29T16:50:59Z,chapmanb
4547feddbb963ae90a779fe9b0a201d88720534c,Brad Chapman,chapmanb@50mail.com,Utility to resort a BAM file karyotipicially to match GATKs preferred ordering,2010-09-29T13:19:38Z,chapmanb
185f73fd6338bff6285636f2b440326bcc6990e4,Brad Chapman,chapmanb@50mail.com,Option to write non-passing qseq reads to separate fastq files,2010-09-28T12:24:19Z,chapmanb
180b292769fda03861e58a42c152687879f0ab8f,Brad Chapman,chapmanb@50mail.com,Remove old code workflow for simplicity,2010-09-28T12:04:35Z,chapmanb
6c13954deef86a0b55c9909d6a32ac8be633dab7,Brad Chapman,chapmanb@50mail.com,Provide server for transferring read images to storage in addition to processing,2010-09-27T13:54:16Z,chapmanb
4ad369403c17c72cf8bd1f3e2dc694021cc76677,Brad Chapman,chapmanb@50mail.com,Provide server for transferring read images to storage in addition to processing,2010-09-27T13:53:30Z,chapmanb
8a8efa0031330c3cb97d7fd738a24753575385fc,Brad Chapman,chapmanb@50mail.com,Directly pass tile directories for copying,2010-09-27T13:47:22Z,chapmanb
b271be03e7337f78c450726bf3dcc6e8ddb100ba,Brad Chapman,chapmanb@50mail.com,Directly pass tile directories for copying,2010-09-27T11:05:08Z,chapmanb
28be935bbd0509e9bcdd0cdd2c677617ffac0d2c,Brad Chapman,chapmanb@50mail.com,Working version of illumina transfer with fastq on machine,2010-09-24T19:06:14Z,chapmanb
abec1e8984d7bfacc520d3ee6896957501b3824c,Brad Chapman,chapmanb@50mail.com,Transfer images by lane,2010-09-24T17:06:18Z,chapmanb
a6a22965c3b79927d2ea9ff3073d9f58e67f7ff9,Brad Chapman,chapmanb@50mail.com,Working version of illumina transfer with fastq on machine,2010-09-24T17:00:24Z,chapmanb
d1ac9ab15c12168c2e8d4355c3f499af62d20e04,Brad Chapman,chapmanb@50mail.com,"Move fastq processing to sequencing directory, transferring after",2010-09-24T16:30:20Z,chapmanb
99766ff130e6563ad41b7376e057dd07911cb8cb,Brad Chapman,chapmanb@50mail.com,Script to rename samples removing colons and spaces,2010-09-22T17:10:14Z,chapmanb
97cf090a12c98759be06952d2673c5042af33cf4,Brad Chapman,chapmanb@50mail.com,Generalize cross organism BLAST code,2010-09-21T20:20:03Z,chapmanb
f1165ed719fed8eb23062a65fd1ed842843b05a6,Brad Chapman,chapmanb@50mail.com,More flexible arguments for BAM to wiggle,2010-09-16T20:27:47Z,chapmanb
2df4e2052196d7198fc0e39be81f32101a8f511e,Brad Chapman,chapmanb@50mail.com,"Provide automated coverage files as BigWig, uploaded to Galaxy",2010-09-15T14:57:50Z,chapmanb
bbf126b74cce525e7f316e10dc4e82b686eacea4,Brad Chapman,chapmanb@50mail.com,Update coverage sampling argument to match latest version of GATK,2010-09-10T13:13:16Z,chapmanb
a35fa4061efe2f8f8bf069e304b9f0854fd0a8d3,Brad Chapman,chapmanb@50mail.com,Update output file commands for unified genotyper to match GATK changes,2010-09-10T11:09:33Z,chapmanb
3f47b0f87eabc1c3fee66ca08fd5f5635e2fe2f8,Brad Chapman,chapmanb@50mail.com,Use local tempdirs to avoid /tmp memory issues; use check_call to exit on errors,2010-09-09T13:31:04Z,chapmanb
9d2a712becb7ed4713aaa60b3bc2c0f2aa5beaf0,Brad Chapman,chapmanb@50mail.com,Update indel realignment to work with latest changes to GATK for mate pair resolution,2010-09-07T18:24:47Z,chapmanb
ccab9cc59ffb17d8282cd961780c1d7ccbca09bc,Brad Chapman,chapmanb@50mail.com,Initial move of next gen automated analysis into git revision control,2010-09-01T15:53:27Z,chapmanb
e67eda67ea8d5ce12ae009779cdb6694f47a9596,Brad Chapman,chapmanb@50mail.com,Remove old import,2010-07-30T12:57:30Z,chapmanb
60ea7c9b2198b06b3cf31dd448d04f3f617e3d38,Brad Chapman,chapmanb@50mail.com,Improve script documentation,2010-07-24T12:07:54Z,chapmanb
fe58d4f101c57bb62be742e6da5c0fb4d7015e23,Brad Chapman,chapmanb@50mail.com,Convert directory of solexa qseq files to fastq format,2010-07-24T12:00:50Z,chapmanb
