commit_sha,commit_author_name,commit_author_email,commit_message,commit_date,login
b16b3e3067e2d188227f80f1a637f76b5a8fdfab,Johannes Köster,johannes.koester@tu-dortmund.de,fix: update pangolin to 4.3.1 (#675),2024-11-07T14:00:17Z,johanneskoester
093fb55522b3c598256e8fc53b96f9bb9b2882c5,Johannes Köster,johannes.koester@tu-dortmund.de,fix: properly write to log file in order_contigs rule (#677),2024-11-06T13:53:08Z,johanneskoester
17b4f32f25709a294f3aed98c37c00b839977e82,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 1.1.1 (#674)

* chore(master): release 1.1.1

* Changed containerized tag to 1.1.1

---------

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2024-11-04T10:54:34Z,github-actions[bot]
c28db9608c816cc775397096d45bd33c8e59aace,Hamdiye Uzuner,hamdiyeuzuner@gmail.com,"fix: fix file not found error on shared fs storage (#673)

* fix file not found error

* add missing option",2024-11-04T10:49:02Z,huzuner
e2dbeca1cb3cbd01908189626ff7628d7982f564,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump super-linter/super-linter from 6.7.0 to 7.1.0 (#672)

Bumps [super-linter/super-linter](https://github.com/super-linter/super-linter) from 6.7.0 to 7.1.0.
- [Release notes](https://github.com/super-linter/super-linter/releases)
- [Changelog](https://github.com/super-linter/super-linter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/super-linter/super-linter/compare/v6.7.0...v7.1.0)

---
updated-dependencies:
- dependency-name: super-linter/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2024-11-03T07:43:31Z,dependabot[bot]
9e7c488d5a9b5fada3d33944d8cf67c593b85c3a,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 1.1.0 (#657)

* chore(master): release 1.1.0

* Changed containerized tag to 1.1.0

---------

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2024-10-31T14:59:02Z,github-actions[bot]
e64e9db7e81a295ff1775b880c255b71274448fd,vBassewitz,104062464+vBassewitz@users.noreply.github.com,"fix: replace ragoo with ragtag (#591)

* replaced ragoo with ragtag and changed env

* changes in benchmarking and report

* fix

* Changed RagTag options

* deactivate non SARS-CoV-2 benchmarking

---------

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-10-31T13:30:30Z,vBassewitz
02fb4da981475b7f8375223aace4acf4f52b9248,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump super-linter/super-linter from 5.7.2 to 6.7.0 (#660)

* chore(deps): bump super-linter/super-linter from 5.7.2 to 6.7.0

Bumps [super-linter/super-linter](https://github.com/super-linter/super-linter) from 5.7.2 to 6.7.0.
- [Release notes](https://github.com/super-linter/super-linter/releases)
- [Changelog](https://github.com/super-linter/super-linter/blob/main/CHANGELOG.md)
- [Commits](https://github.com/super-linter/super-linter/compare/v5.7.2...v6.7.0)

---
updated-dependencies:
- dependency-name: super-linter/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update main.yml

Changes fetch-depth for Super-Linter

---------

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2024-10-31T07:58:41Z,dependabot[bot]
3b81486692d71c19a287961b59b10419995e05e7,Hamdiye Uzuner,hamdiyeuzuner@gmail.com,fix log not being found by the system (#671),2024-10-30T07:59:32Z,huzuner
9cb1576a8c41c23344940f2248e5d44464a53b2e,Hamdiye Uzuner,hamdiyeuzuner@gmail.com,"fix: move primer file location under workflow; this avoids file not being found in shared filesystems (#665)

* fix: move nCoV-2019.primer.bed under workflow/resources

* fix: fix path of primers in main config

* fix: fix primer path to be called internally

* fix: fix same in previous commit in read_clipping.smk

* define a function for getting kracken input in common.smk

* fix get_kracken_input()

* use get_kracken_input in qc.smk

* restore all changes

* refactor: move checking the primer file for URL into the script

* chore: fmt

* fix: disable formatting temporarily

* Update main.yml

* Update main.yml

* fmt script

* add missing key to artifact name

---------

Co-authored-by: Johannes Köster <johannes.koester@uni-due.de>",2024-10-23T12:00:37Z,huzuner
576329c0b82ebe5784fb5cdd845f77ee8834a84d,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump peter-evans/create-pull-request from 6 to 7 (#666)

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 6 to 7.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v6...v7)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-10-18T06:46:51Z,dependabot[bot]
b8c5c449f81ba9c08bcdb68a099318eca1e64066,Johannes Köster,johannes.koester@tu-dortmund.de,"chore: checkout full history for formatting (#668)

* chore: checkout full history for formatting

* force latest pangolin

* work around pangolin dependency issues

* Update spades.yaml

---------

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>
Co-authored-by: Alex Thomas <alex.thomas89@gmail.com>",2024-10-17T16:31:12Z,johanneskoester
5c5a108acbb8131c1f036ba6ba4eb3b9a7433205,vBassewitz,104062464+vBassewitz@users.noreply.github.com,"Revert ""feat: FLiRT Mutations column (#664)"" (#667)

This reverts commit f77d42e2154a95b6ca0e2c127df8ca134eda1789.",2024-09-11T15:22:22Z,vBassewitz
f77d42e2154a95b6ca0e2c127df8ca134eda1789,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"feat: FLiRT Mutations column (#664)

* init

* fmt

* add to other config.yaml and template files

* add def

* add to env output

* fmt",2024-08-29T10:18:01Z,alethomas
f46ec833ed56c39820c0a0e8d8e0295050a334ab,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: pangolin data updates (#662)

* restructure data download

* fmt

* change name

* change name of rule

* remove old rules

* change input name",2024-08-20T11:58:39Z,alethomas
6d78c8ac11baa37b0b938bedb0c8a00f0a3e924a,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump docker/build-push-action from 5 to 6 (#658)

Bumps [docker/build-push-action](https://github.com/docker/build-push-action) from 5 to 6.
- [Release notes](https://github.com/docker/build-push-action/releases)
- [Commits](https://github.com/docker/build-push-action/compare/v5...v6)

---
updated-dependencies:
- dependency-name: docker/build-push-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2024-07-29T09:55:07Z,dependabot[bot]
6aa8b873be46a4905b08bc6bc446d9aff3267a49,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump alstr/todo-to-issue-action from 4.13 to 5 (#659)

Bumps [alstr/todo-to-issue-action](https://github.com/alstr/todo-to-issue-action) from 4.13 to 5.
- [Release notes](https://github.com/alstr/todo-to-issue-action/releases)
- [Commits](https://github.com/alstr/todo-to-issue-action/compare/v4.13...v5)

---
updated-dependencies:
- dependency-name: alstr/todo-to-issue-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2024-07-25T13:33:57Z,dependabot[bot]
b62007c7b10b9d933528a6b02933cca4bd751100,vBassewitz,104062464+vBassewitz@users.noreply.github.com,"fix: changed kraken input files for ont (#650)

* Changed kraken input files for ont

* Formatting

---------

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-06-06T13:37:26Z,vBassewitz
2bf92c2c0474b36bb9a95a90484cde68d02c38bb,Alexander Thomas,77535027+alethomas@users.noreply.github.com,Update README.md (#651),2024-06-02T18:26:49Z,alethomas
53b99c46f847932120906c66e37584431d812be3,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 1.0.0 (#615)

* chore(master): release 1.0.0

* Changed containerized tag to 1.0.0

---------

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-04-18T11:42:42Z,github-actions[bot]
22a37da4ec74ee18597cbc367a4907b885a42892,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix (#647),2024-04-17T09:00:42Z,alethomas
762cbb92b7f7391887e2ce6b183b80ce71cf6b66,Alexander Thomas,77535027+alethomas@users.noreply.github.com,clip ont primers properly (#644),2024-04-17T08:20:15Z,alethomas
38d51443815de67a833242a7f53f96a2bcbcc09c,Alexander Thomas,77535027+alethomas@users.noreply.github.com,bwa + samtools (#645),2024-04-17T06:14:35Z,alethomas
186926b8d2bee0eeefff9558c23f98891433e453,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix calculation (#646),2024-04-16T13:10:17Z,alethomas
07d6fe29a99430c4b01a24aa6a4390d66ace177b,Johannes Koester,johannes.koester@uni-due.de,"chore: release 1.0.0

Release-As: 1.0.0",2024-04-16T12:59:26Z,johanneskoester
6413a5ae85a882d113ca774675c518e14872f4b7,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump actions/upload-artifact from 3 to 4 (#619),2024-04-11T05:43:55Z,dependabot[bot]
92ec1be4438e74592bfe8d7fed5b55a2f47e4010,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump google-github-actions/release-please-action (#617)

Bumps [google-github-actions/release-please-action](https://github.com/google-github-actions/release-please-action) from 3 to 4.
- [Release notes](https://github.com/google-github-actions/release-please-action/releases)
- [Changelog](https://github.com/google-github-actions/release-please-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/google-github-actions/release-please-action/compare/v3...v4)

---
updated-dependencies:
- dependency-name: google-github-actions/release-please-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-04-10T08:01:13Z,dependabot[bot]
dadf4c9437cd51e8ede7576ad7d361f0edb1cd0b,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump actions/setup-python from 4 to 5 (#618)

Bumps [actions/setup-python](https://github.com/actions/setup-python) from 4 to 5.
- [Release notes](https://github.com/actions/setup-python/releases)
- [Commits](https://github.com/actions/setup-python/compare/v4...v5)

---
updated-dependencies:
- dependency-name: actions/setup-python
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-04-09T13:22:52Z,dependabot[bot]
b0cac36530c943bd9868fdbfdf4c0d0c47b273dd,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump jlumbroso/free-disk-space from 1.3.0 to 1.3.1 (#632)

Bumps [jlumbroso/free-disk-space](https://github.com/jlumbroso/free-disk-space) from 1.3.0 to 1.3.1.
- [Release notes](https://github.com/jlumbroso/free-disk-space/releases)
- [Commits](https://github.com/jlumbroso/free-disk-space/compare/v1.3.0...v1.3.1)

---
updated-dependencies:
- dependency-name: jlumbroso/free-disk-space
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-04-09T08:43:40Z,dependabot[bot]
20a8034fb99a0603e180f1d691866f178c7008ca,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump alstr/todo-to-issue-action from 4.12 to 4.13 (#640)

Bumps [alstr/todo-to-issue-action](https://github.com/alstr/todo-to-issue-action) from 4.12 to 4.13.
- [Release notes](https://github.com/alstr/todo-to-issue-action/releases)
- [Commits](https://github.com/alstr/todo-to-issue-action/compare/v4.12...v4.13)

---
updated-dependencies:
- dependency-name: alstr/todo-to-issue-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-04-09T07:42:53Z,dependabot[bot]
e9b4bbf92eb4825181218294b35cbcc2a0e35bed,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"refactor: docs (#639)

* first init

* add figs

* txt

* add wf picture

* typo

* change links

* add newline

* changes

* rm files

* fmt and rm

* fmt

* Update configuration.md

* typo

---------

Co-authored-by: Ann-Kathrin Brüggemann <90249112+AKBrueggemann@users.noreply.github.com>",2024-04-08T09:50:18Z,alethomas
166fee405139828130ba31f25f9d9f2844afa1f6,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump peter-evans/create-pull-request from 5 to 6 (#627)

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 5 to 6.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v5...v6)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2024-03-06T14:21:15Z,dependabot[bot]
a68a85ae6ec41a4a643b3628637590f5ecc02ed6,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"Revert ""first init (#637)"" (#638)

This reverts commit 361fd5e4896bec8626575d6c92db74a965118526.",2024-03-05T14:01:18Z,alethomas
361fd5e4896bec8626575d6c92db74a965118526,Alexander Thomas,77535027+alethomas@users.noreply.github.com,first init (#637),2024-03-04T13:08:14Z,alethomas
dd767b0348a4a8b0736a65475339aed80e96f5cb,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: docs deployment (#635)

* add files

* fmt

* date

* commit empty file

* commit empty files",2024-02-27T13:34:53Z,alethomas
a4e1ea814fcaae5a013ad53dcafceb2c4191ad1d,Johannes Köster,johannes.koester@tu-dortmund.de,fix: pin to varlociraptor 8.4.4 (#634),2024-02-26T16:05:25Z,johanneskoester
b34c9957048dcf641587ee4344d5fa8b62a5ad76,Folker Meyer,folkerwork@gmail.com,"docs: cleanup of documentation (#621)

* cleanup of documentation

* docs: added name

* fixed linting error

* with local linter

* Update about.md

* fit

* fmt

* fmt

* pin python for ragoo

* rev

---------

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-02-26T08:45:03Z,folker
a48a357e37590abce028216277eeb7105e205945,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: pipe of stdout (#631)

* fix pipe of stderr

* free CI space

---------

Co-authored-by: Johannes Koester <johannes.koester@uni-due.de>",2024-02-22T16:10:19Z,alethomas
c6fc4151957f770efd758d82808ebb82ad4120a3,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump conda-incubator/setup-miniconda from 2 to 3 (#616)

Bumps [conda-incubator/setup-miniconda](https://github.com/conda-incubator/setup-miniconda) from 2 to 3.
- [Release notes](https://github.com/conda-incubator/setup-miniconda/releases)
- [Changelog](https://github.com/conda-incubator/setup-miniconda/blob/main/CHANGELOG.md)
- [Commits](https://github.com/conda-incubator/setup-miniconda/compare/v2...v3)

---
updated-dependencies:
- dependency-name: conda-incubator/setup-miniconda
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2024-02-05T12:20:23Z,dependabot[bot]
f73fb20aeaa696b4fdc20deff9b3385969826389,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump alstr/todo-to-issue-action from 4.11 to 4.12 (#623)

Bumps [alstr/todo-to-issue-action](https://github.com/alstr/todo-to-issue-action) from 4.11 to 4.12.
- [Release notes](https://github.com/alstr/todo-to-issue-action/releases)
- [Commits](https://github.com/alstr/todo-to-issue-action/compare/v4.11...v4.12)

---
updated-dependencies:
- dependency-name: alstr/todo-to-issue-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-01-31T12:01:13Z,dependabot[bot]
e3f4097e95b01383c0411094dd4f796e154d4bb2,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix (#625)

Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2024-01-30T00:04:43Z,alethomas
e6476b6dee7d5fe1641dcba7cc83f1dcd22ea989,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: update link for covariants (#626)

* update link

* fmt

* Update super linter in main.yml

* Update main.yml

* Update collect-lineage-variants.py

* Update collect-lineage-variants.py",2024-01-29T17:02:15Z,alethomas
07804327aac40572f9d6c3345154560df9fa285c,Folker Meyer,folkerwork@gmail.com,"refactor: Update README.md (#622)

* Update README.md

removed fancy formatting to improve readability

* fit

---------

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2024-01-16T14:58:54Z,folker
4f1b56bf4043743c1cb63b85e433742b677a6ac8,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: remove -r flag (#624)

* remove -r flag

* fix",2024-01-16T09:04:56Z,alethomas
b521e42f1036ee2f15df59e214644f64a870a5aa,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"refactor: update README.md (#620)

* update README.md

* change

* change

* fix

* fix

* fix",2023-12-21T10:16:33Z,alethomas
77f796056709364d65b41126c2ee5208b56ef0d5,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: more meaningful info for patient overview table (#609)

* more meaningful info

* fmt

---------

Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-22T22:08:13Z,alethomas
b232c0043134cc15f7d0bbedcd02275d16ef38d1,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump docker/setup-qemu-action from 2 to 3 (#604)

Bumps [docker/setup-qemu-action](https://github.com/docker/setup-qemu-action) from 2 to 3.
- [Release notes](https://github.com/docker/setup-qemu-action/releases)
- [Commits](https://github.com/docker/setup-qemu-action/compare/v2...v3)

---
updated-dependencies:
- dependency-name: docker/setup-qemu-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-18T17:36:45Z,dependabot[bot]
c44761161720004ad505eb1bbfafd76881d77ffe,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump alstr/todo-to-issue-action from 4.6 to 4.11 (#603)

Bumps [alstr/todo-to-issue-action](https://github.com/alstr/todo-to-issue-action) from 4.6 to 4.11.
- [Release notes](https://github.com/alstr/todo-to-issue-action/releases)
- [Commits](https://github.com/alstr/todo-to-issue-action/compare/v4.6...v4.11)

---
updated-dependencies:
- dependency-name: alstr/todo-to-issue-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-18T15:51:57Z,dependabot[bot]
521df0ce4a667d16800f3509b796c9f7ce0564b8,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump docker/login-action from 2 to 3 (#601)

Bumps [docker/login-action](https://github.com/docker/login-action) from 2 to 3.
- [Release notes](https://github.com/docker/login-action/releases)
- [Commits](https://github.com/docker/login-action/compare/v2...v3)

---
updated-dependencies:
- dependency-name: docker/login-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-18T14:08:09Z,dependabot[bot]
99ad0e14c8ac6196dd18dbe4f16f1bc01b90b035,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump snakemake/snakemake-github-action (#600)

Bumps [snakemake/snakemake-github-action](https://github.com/snakemake/snakemake-github-action) from 1.24.0 to 1.25.1.
- [Release notes](https://github.com/snakemake/snakemake-github-action/releases)
- [Changelog](https://github.com/snakemake/snakemake-github-action/blob/master/CHANGELOG.md)
- [Commits](https://github.com/snakemake/snakemake-github-action/compare/v1.24.0...v1.25.1)

---
updated-dependencies:
- dependency-name: snakemake/snakemake-github-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-18T11:00:31Z,dependabot[bot]
4b2f34c54b522152f402112b7d82c42d6c95b95d,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump docker/build-push-action from 3 to 5 (#599)

Bumps [docker/build-push-action](https://github.com/docker/build-push-action) from 3 to 5.
- [Release notes](https://github.com/docker/build-push-action/releases)
- [Commits](https://github.com/docker/build-push-action/compare/v3...v5)

---
updated-dependencies:
- dependency-name: docker/build-push-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-17T15:07:09Z,dependabot[bot]
d87c9ad42cd295f429b5e5f8d17fba1ad7d11e60,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump peter-evans/create-pull-request from 4 to 5 (#592)

Bumps [peter-evans/create-pull-request](https://github.com/peter-evans/create-pull-request) from 4 to 5.
- [Release notes](https://github.com/peter-evans/create-pull-request/releases)
- [Commits](https://github.com/peter-evans/create-pull-request/compare/v4...v5)

---
updated-dependencies:
- dependency-name: peter-evans/create-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-17T13:17:16Z,dependabot[bot]
ed041c832987f014e267a85686465b1ac469fa11,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 0.16.0 (#586)

* chore(master): release 0.16.0

* Changed containerized tag to 0.16.0

---------

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-17T09:13:44Z,github-actions[bot]
b986b20b226a0bae74cec0cbe815892b20debe5f,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump khan/pull-request-workflow-cancel from 1.0.0 to 1.0.1 (#580)

Bumps [khan/pull-request-workflow-cancel](https://github.com/khan/pull-request-workflow-cancel) from 1.0.0 to 1.0.1.
- [Release notes](https://github.com/khan/pull-request-workflow-cancel/releases)
- [Commits](https://github.com/khan/pull-request-workflow-cancel/compare/1.0.0...1.0.1)

---
updated-dependencies:
- dependency-name: khan/pull-request-workflow-cancel
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-16T16:09:14Z,dependabot[bot]
7f6146e925913480d26b600abd8815ae83127fad,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump actions/checkout from 2 to 4 (#602)

Bumps [actions/checkout](https://github.com/actions/checkout) from 2 to 4.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v2...v4)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: vBassewitz <104062464+vBassewitz@users.noreply.github.com>",2023-11-16T13:36:28Z,dependabot[bot]
2bb74bfc26dee80af7d04089aafe636ea7c6d76a,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: QA genome generation (#613)

* fix deprecated squeeze

* fix wrong seq name

* fmt

* remove not needed file handling",2023-11-15T13:43:15Z,alethomas
33ac5f7b4f7af8bbb500e9f531ccbdc45ac9427f,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"feat: Update README.md for dark/light theme (#614)

* Update README.md for dark/light theme

* Update README.md

* Update README.md

* Update README.md",2023-11-15T10:53:40Z,alethomas
34701af485aa1ec199a418ec1487a97677f624ca,Johannes Köster,johannes.koester@tu-dortmund.de,"perf: update to varlociraptor 8.4 (#596)

* Update to latest varlociraptor

* Update varlociraptor.yaml

* Update config.yaml

* trigger rerun

---------

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2023-11-13T12:03:17Z,johanneskoester
7106afa390bdfdde8048d28ade9cff80b1187640,Alexander Thomas,77535027+alethomas@users.noreply.github.com,update pangolin to version 4.3 (#610),2023-11-06T08:56:04Z,alethomas
0070d8927290dd01f418b876b60f3405158f1ab9,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: update multiqc (#607)

* update multiqc

* change action with pinned python version

* re-implement ont testing

* update multiqc

* leave old fastqc version

* input only one fastq file

* update fastqc and add resources

* add new input rule for only one fastq file

* fmt

* fmt

* fmt

* update multiqc

* exclude kraken input

* iclude TODO for kraken in multiqc",2023-10-31T13:33:10Z,alethomas
6bd84342cce0727d1af8dd35f92f967bd43eb2e2,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump docker/setup-buildx-action from 2 to 3 (#605)

Bumps [docker/setup-buildx-action](https://github.com/docker/setup-buildx-action) from 2 to 3.
- [Release notes](https://github.com/docker/setup-buildx-action/releases)
- [Commits](https://github.com/docker/setup-buildx-action/compare/v2...v3)

---
updated-dependencies:
- dependency-name: docker/setup-buildx-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2023-10-24T14:58:25Z,dependabot[bot]
182121ba0ae7b5121a8719a008806bc156cfb066,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump github/super-linter from 4.10.1 to 5.0.0 (#593)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.10.1 to 5.0.0.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.10.1...v5.0.0)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2023-10-10T07:55:21Z,dependabot[bot]
d0f293d2b8136fb0d8ef3753733ab1d30fb20d56,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: switch from jupyter notebook to script (#598)

* switch from jupyter notebook to script

* change code format

* fmt",2023-09-21T14:07:57Z,alethomas
9bc814f7cb9e9d9e53d557d463e782801070b46e,Johannes Köster,johannes.koester@tu-dortmund.de,"fix: use homopolymer-pair-HMM-mode of Varlociraptor in case of nanopore reads (#587)

* Revert ""Revert ""fix: use homopolymer-pair-HMM-mode of Varlociraptor in case of nanopore reads""""

This reverts commit 91274a59de8f8802cb524655c2b202e43d10d236.

* properly retrieve sample data frame

* use pep sample table

* fix typo

* fix technology call

---------

Co-authored-by: Alex Thomas <alex.thomas89@gmail.com>",2023-09-14T12:19:46Z,johanneskoester
aced95e798fd0483e99120550f49614e680f56dd,Johannes Köster,johannes.koester@tu-dortmund.de,"fix: improved clonality event definition, usage of major subclone for assembly polishing; upgrade to varlociraptor 6.0 (#585)

* fix: improved clonality event definition, usage of major subclone for assembly polishing; upgrade to varlociraptor 6.0

* adapt wildcard constraints",2023-03-23T15:22:55Z,johanneskoester
406d456edd15715f7e14338b8195d2a09a807e49,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"fix: changes in path requirements for snakedeploy (#590)

* Changes in path requirements for snakedeploy

* fmt

* Changed path

* Different approach to url passing

* fmt

* Changed path creation

* Update workflow/rules/common.smk

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* fmt

* Rewind change

* Change in directory call

* Revert ""Change in directory call""

This reverts commit b5501c414a7275e8ad0cb41bfc918e8a663a88d2.

---------

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: Johannes Köster <johannes.koester@uni-due.de>",2023-03-23T12:53:47Z,AKBrueggemann
9455a572dead7f448cb8af7679f1f89ce7033a3e,Johannes Köster,johannes.koester@tu-dortmund.de,chore: temporarily disable pre-commit ci action as it currently fails during installation (waiting for new release) (#588),2023-03-01T21:09:49Z,johanneskoester
91274a59de8f8802cb524655c2b202e43d10d236,Johannes Köster,johannes.koester@uni-due.de,"Revert ""fix: use homopolymer-pair-HMM-mode of Varlociraptor in case of nanopore reads""

This reverts commit 505a2714ba0e5642312051f5e5154f7d454ff57f.",2023-03-01T14:58:03Z,johanneskoester
505a2714ba0e5642312051f5e5154f7d454ff57f,Johannes Köster,johannes.koester@uni-due.de,fix: use homopolymer-pair-HMM-mode of Varlociraptor in case of nanopore reads,2023-03-01T14:57:28Z,johanneskoester
444f89c5426ceec5da7c3ce04942ae6f5d1f3c1c,Johannes Köster,johannes.koester@tu-dortmund.de,"refactor: work around bug in snakefmt that adds two lines after each include by moving an if statement into common.smk (#578)

* refactor: work around bug in snakefmt that adds two lines after each include by moving an if statement into common.smk

* more refactoring",2023-01-26T19:22:41Z,johanneskoester
c11ee96f3fdb5f9ac66085f463ab83cff8f84fb6,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump github/super-linter from 4.9.7 to 4.10.1 (#577)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.9.7 to 4.10.1.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.9.7...v4.10.1)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2023-01-25T11:23:46Z,dependabot[bot]
79d288cfa7c5870932635a79dacb7c8bbf2bdefa,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 0.15.1 (#536)

* chore(master): release 0.15.1

* Changed containerized tag to 0.15.1

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2022-12-01T11:00:09Z,github-actions[bot]
cacd8b9a0bfc36d79c1d56af899de406fdcc0a35,simakro,74452164+simakro@users.noreply.github.com,"refactor: Update medaka and deps for ont (#561)

* update medaka version, dependencies and mode

* cleanup

* use alternative output-folder for medaka results

* reset sample-sheet

* style: linting

* style: nl eof

* small change

* fix actions run

* change priority

* change dependency order

* chore: use safer path for temp-output of medaka_variant.

Co-authored-by: Simon Magin <simon@c46.ikim.uk-essen.de>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>
Co-authored-by: Alex Thomas <alex.thomas89@gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2022-11-30T09:31:42Z,simakro
fa957fd44594920c12df3821a23905055b1de9c9,Johannes Köster,johannes.koester@tu-dortmund.de,"fix: use latest varlociraptor release and ignore all biases in case of known lineage variant calling (#575)

* fix: use latest varlociraptor release and ignore all biases in case of known lineage variant calling

* Update common.smk",2022-11-08T11:34:21Z,johanneskoester
3b9e9862b216eaa7e3e0f9c96aa0c261f7633b98,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix kraken db (#574),2022-10-31T10:20:58Z,alethomas
3d39461576fc16ab9fc92984c2917923805d1093,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump snakemake/snakemake-github-action (#563)

Bumps [snakemake/snakemake-github-action](https://github.com/snakemake/snakemake-github-action) from 1.23.0 to 1.24.0.
- [Release notes](https://github.com/snakemake/snakemake-github-action/releases)
- [Changelog](https://github.com/snakemake/snakemake-github-action/blob/master/CHANGELOG.md)
- [Commits](https://github.com/snakemake/snakemake-github-action/compare/v1.23.0...v1.24.0)

---
updated-dependencies:
- dependency-name: snakemake/snakemake-github-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-10-31T10:15:48Z,dependabot[bot]
7f9ef833efff63f29b136741e5d731832d6697b7,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump github/super-linter from 4.9.6 to 4.9.7 (#565)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.9.6 to 4.9.7.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.9.6...v4.9.7)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-10-31T10:15:36Z,dependabot[bot]
3ae213ca97d48066cfc98a8fdb556cf77adc27c9,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump amannn/action-semantic-pull-request from 4 to 5 (#567)

Bumps [amannn/action-semantic-pull-request](https://github.com/amannn/action-semantic-pull-request) from 4 to 5.
- [Release notes](https://github.com/amannn/action-semantic-pull-request/releases)
- [Changelog](https://github.com/amannn/action-semantic-pull-request/blob/main/CHANGELOG.md)
- [Commits](https://github.com/amannn/action-semantic-pull-request/compare/v4...v5)

---
updated-dependencies:
- dependency-name: amannn/action-semantic-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2022-10-31T10:15:23Z,dependabot[bot]
f34330b9e7228b22411a67cd8002ab21a2d85aca,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 4.1.3 (#568)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-10-21T16:30:24Z,github-actions[bot]
a0b6fd0557b7e6cb3aeddd22e6a3350560c18415,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: update channel priorities and snakemake wrappers (#562)

* change channel priorities in all environments

* fix

* change python version

* fix typo

* remove stage in

* revert python version pinning

* updated versions of wrappers in rules

* removed dependency of entrez-direct from entrez.yaml as a test because of error message

* fix entrez env

* Update bcftools concat wrapper

* update bcftools concat wrapper

* bump to latest entrez

* fix output file names for bwa index wrappers

* adapt sort argument of bwa mem wrapper to latest version

* adapt mark duplicates to wrapper changes

* bump pangolin

* requre older tabulate version

* fmt

* try bumping notebook version

* fix: notebook versions

* fix wrapper name

* bump bcftools concat wrapper

* updated and checked all wrappers

* cleanup

* fix extra args

Co-authored-by: lenakinzel <l.kinzel@web.de>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: Johannes Köster <johannes.koester@uni-due.de>",2022-10-12T14:07:19Z,alethomas
a4951a60f16548e93cbc99d0544eef4837fb2a19,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump github/super-linter from 4.9.4 to 4.9.6 (#557)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.9.4 to 4.9.6.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.9.4...v4.9.6)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-08-03T09:06:33Z,dependabot[bot]
bb00f7836500c28bf5eeb0e5f7c1d8e66a3318d8,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump github/super-linter from 4.9.2 to 4.9.4 (#540),2022-08-02T14:47:12Z,dependabot[bot]
cf2e08e1696b0233104e51ddf09d500ee6d60fa5,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump actions/setup-python from 3 to 4.1.0 (#548),2022-08-02T11:49:02Z,dependabot[bot]
d7539105fdd201e10ae5974ea7057af492f3f29a,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,Update pangolin to 4.1.2 (#550),2022-08-02T08:56:20Z,github-actions[bot]
2c2bde32b0bdf00fccd9eba39a0e8d974f448ffd,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"Revert ""refactor: fgbio read clipping (#545)"" (#551)",2022-08-02T08:33:56Z,alethomas
56e46ef7e1663b4de3447068df7cb8b9d1d7b67f,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: disable ont actions (#555),2022-08-02T07:09:56Z,alethomas
57e868e877976324164973234496e99c215eb26f,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 4.1.1 (#547)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Ann-Kathrin Brüggemann <90249112+AKBrueggemann@users.noreply.github.com>",2022-07-15T06:56:58Z,github-actions[bot]
08b19cf6377cd7af9f47c4f0557f614e8d591bd9,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 4.1 (#546)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Ann-Kathrin Brüggemann <90249112+AKBrueggemann@users.noreply.github.com>",2022-07-04T09:17:47Z,github-actions[bot]
711045acd4ab2cb2260350d2413a385f4a5d6bdf,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"refactor: fgbio read clipping (#545)

* change primer file formatting

* change read clipping

* fmt

* fix primer clipping plot

* fix primer clipping plot

* fix

* fix

* typo

* test",2022-07-01T09:11:19Z,alethomas
4a4000310cba4f3e8640172eadebcd35239b2e34,vBassewitz,104062464+vBassewitz@users.noreply.github.com,"fix: Replace outdated df append (#544)

* replaced all df.append with pd.concat

* replaced df.append with pd.concat

* replace df.append with pd.concat

* replaced df.append with pd.concat

* replaced df.append with pd.concat

* replaced df.append with pd.concat

Co-authored-by: lenakinzel <l.kinzel@web.de>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-06-28T15:20:08Z,vBassewitz
db6eb175aa7c25948677a9b64258afd377016d8c,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: voc probability (#541),2022-06-18T15:37:09Z,alethomas
2ac229c5026348e9e9d9bce3bc5dd45b2a4a6f12,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump pre-commit/action from 2.0.3 to 3.0.0 (#542)

Bumps [pre-commit/action](https://github.com/pre-commit/action) from 2.0.3 to 3.0.0.
- [Release notes](https://github.com/pre-commit/action/releases)
- [Commits](https://github.com/pre-commit/action/compare/v2.0.3...v3.0.0)

---
updated-dependencies:
- dependency-name: pre-commit/action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-06-08T11:42:31Z,dependabot[bot]
f53b1147ecd922855a6b72634134a903b24318ec,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix squeeze (#531),2022-05-13T11:12:04Z,alethomas
ab86c71ba806ac11ca03144fc7f644634335183c,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump peter-evans/create-pull-request from 3 to 4 (#511),2022-05-11T08:56:35Z,dependabot[bot]
ae0199c5a755396d44e6eb1705491444cc090691,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump actions/upload-artifact from 2 to 3 (#524),2022-05-11T06:50:38Z,dependabot[bot]
70c6271ac13c40384e8657ad7a55192cd905338d,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump docker/login-action from 1 to 2 (#532),2022-05-11T06:37:02Z,dependabot[bot]
6db25d793b200d578db31c71a91431ef28807b86,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump docker/setup-buildx-action from 1 to 2 (#533)

Bumps [docker/setup-buildx-action](https://github.com/docker/setup-buildx-action) from 1 to 2.
- [Release notes](https://github.com/docker/setup-buildx-action/releases)
- [Commits](https://github.com/docker/setup-buildx-action/compare/v1...v2)

---
updated-dependencies:
- dependency-name: docker/setup-buildx-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-05-10T11:38:32Z,dependabot[bot]
c6d01bab56641e96c79d172adb1ae9d0f446e6d6,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump docker/build-push-action from 2 to 3 (#534),2022-05-10T08:45:32Z,dependabot[bot]
70d08c048feb8f068c78d6b3f2daece298e85c29,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump docker/setup-qemu-action from 1 to 2 (#535)

Bumps [docker/setup-qemu-action](https://github.com/docker/setup-qemu-action) from 1 to 2.
- [Release notes](https://github.com/docker/setup-qemu-action/releases)
- [Commits](https://github.com/docker/setup-qemu-action/compare/v1...v2)

---
updated-dependencies:
- dependency-name: docker/setup-qemu-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-05-09T10:08:43Z,dependabot[bot]
723c6b2d9feee57fd9f1c90b415556f31e578fea,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump github/super-linter from 4.9.1 to 4.9.2 (#520),2022-05-09T06:10:44Z,dependabot[bot]
2273b7d49d21dfe48812f7e3e4d33969b62e1d9e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix(ci): update black to rev 22.3.0 (#523),2022-05-07T21:38:14Z,thomasbtf
79567ae6b83ded5f1baf77482734d7980d478aea,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 4.0.6 (#528)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-04-21T11:12:23Z,github-actions[bot]
19c34a84f06a979706fe055503eb07d81f85a828,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 4.0.5 (#526)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: kblock-due <80524905+kblock-due@users.noreply.github.com>",2022-04-13T12:30:16Z,github-actions[bot]
973a88dd64fe87e7c1dbdf1e4a30bbe6f565c39c,Alexander Thomas,77535027+alethomas@users.noreply.github.com,change status from qc_status (#527),2022-04-13T12:22:54Z,alethomas
36deee4dcf43a48b30cc14ab333c71bcfcaf5fd7,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 4.0.4 (#525)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-04-11T14:40:50Z,github-actions[bot]
55cdbc416edbd46b02ffd4b24d9d3fe5beb34704,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump github/super-linter from 4.9.0 to 4.9.1 (#516),2022-03-30T04:22:49Z,dependabot[bot]
d3bb01b3d6d2bff47a844ae64b2d06b00786fcf3,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 0.15.0 (#512)

* chore(master): release 0.15.0

* Changed containerized tag to 0.15.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2022-03-25T11:46:31Z,github-actions[bot]
5c886fa439399c129fcec536b6d149b4e1741685,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: primer clipping add up- and downstream (#515),2022-03-24T17:55:25Z,alethomas
91b5ac585177b127a80548235abe7469a04e97cc,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"feat: update rbt to 0.39 (#510)

* fix: update rbt to the newest version

hard code newest version of rbt to easily fix all used branches

* Update workflow/envs/rbt.yaml

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-03-24T07:14:11Z,alethomas
381007c351db1809d6c93dc337920d9e9fa3ed54,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: add nofilter flag for variant calls (#505)

* fix: add nofilter flag for varaint calls

* add {reference} instead of main

* fix typo",2022-03-24T07:09:47Z,thomasbtf
97fdaac7967e8c2af3a2cc39f5234308e150b661,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 0.14.0 (#446)

* chore(master): release 0.14.0

* Changed containerized tag to 0.14.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2022-03-21T09:59:04Z,github-actions[bot]
1c7c954ab3f02ffcfb2086798d3bde858857adae,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: upload correct report (#501),2022-03-21T07:57:36Z,thomasbtf
5fce3710226db116bf0be05d4f0dac823ace1bb5,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: remove old primer files from test (#500),2022-03-21T07:57:16Z,thomasbtf
8a8f53347aa90c66075c1418e9cdf34bbecc02bc,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: reduce loading time of coverage plots (#498),2022-03-21T07:56:54Z,thomasbtf
f502dd287be37c76997f44054389124494e23ab7,simakro,74452164+simakro@users.noreply.github.com,"perf: ont downsampling normalisation (#489)

* wrote new script map_bin_amp_sampler.py for 'normalizing' reducing/coverage on each amplicon to a common cutoff and started modifying rule long_read.smk to do the reuired mapping and run the script

* added write out and convert of picked reads from source fastq to out-fasta

* change in- and output file-extensions for all rules downstream of cap_cov_amp from fastq to fasta; changed also in get_reads_by_stage

* fixed several snakemake related bugs

* multiple restorations to repair broken workflow

* established custom script for trimming of primers work-title: map-trim

* improved coverage-capping amp_covcap_sampler.py and amplicon primer-trimming map_trim.py scripts, including reverse strand swap for trimming

* added improved logic for clipping of '-' strand aligning reads

* use only one map-trim to remove all, reinstated porechop; multiple adaptations and fixes in assembly.smk, common.smk, long_read.smk, qc.smk, amp_covcap_sampler.py, map_trim.py; repaired workflow and changed naming patterns and formatting for ont; medaka rule -v; get_reads_by_stage, get trimmed reads, species diversity_before_se, seqtk.yaml

* remove map-trim in order to reorganize

* perform all clipping and downsampling with notramp

* multiple renamings and adaptions

* cleanup

* adjusted output canu_correct

* linting

* get_artic_primer

* increased notramp version; reroute stdout+stderr to log in canu_correct

* restored get_artic_primers to get the bed file

* get_output_dir comments

* restore sample-table

* envs version nums

* envs conda-forge

* resolving comments

* updated primer paths

* rmv amp_covcap_sampler.py

* canu_correct: moved corr_gz from output to parameters

* nanofilt accept de/compressed

* change gzip to compressed

* with corr_gz in output

* take out bcf rules

* orf

* echo test

* remove parenthesis

* added gzip to nanofilt env and replace gunzip with gzip in rule nanofilt

* add file to nanofilt env

* set corMemory for testing to 6GB

* corona-spades in long_read.smk

* solved all issues with wrong input-files for ont de-novo assembly

* cleanup and temp-notes

* restored sample-table, removed echos, removed hard-coded path

* resolve log issue

* notramp env

* undo changes in test config

* undo changes in test primer

* add missing version in nanofilt.yaml

* add remvoed temp flags back in

* rmv whitespace

* update env file

* add canu logging

* update config

* add temp

* rmv hardcoded date path

* add logs

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2022-03-15T17:38:56Z,simakro
f44942d49fa2e49df8df30969d87340de7e60b79,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#495)

Co-authored-by: alethomas <alethomas@users.noreply.github.com>",2022-03-04T11:01:45Z,github-actions[bot]
016bcfb3721ed31b208b29a9bdab7957be32439d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,feat: add variant call details based on protein annotation (#487),2022-03-04T06:08:21Z,thomasbtf
82405ee8e1d0eddcf40315888ef3a32eda7b3954,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: VOC mutation table similarity calculation (#484)

* refactor voc table generation

* fmt

* top 10 and minor fix

* add formatting for read depth column

* add read depth, fix prob calc

* fmt

* fix formatting, add exp notation

* Update workflow/scripts/generate-lineage-variant-table.py

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-03-03T20:44:40Z,alethomas
4a9a2950e85c1a5d6c53153bf7728a9a02c52dbd,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs(readme): remove author list (#493),2022-03-03T20:40:57Z,thomasbtf
ac996baadc1e9968f638fc4b5eea982d9a578a47,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump actions/setup-python from 2 to 3 (#490)

Bumps [actions/setup-python](https://github.com/actions/setup-python) from 2 to 3.
- [Release notes](https://github.com/actions/setup-python/releases)
- [Commits](https://github.com/actions/setup-python/compare/v2...v3)

---
updated-dependencies:
- dependency-name: actions/setup-python
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-03-02T19:02:43Z,dependabot[bot]
1118fd91a815f002188ba9969ece6a159279953a,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: untmp recalibrated bam (#491),2022-03-01T20:28:18Z,alethomas
311e8578a7d9956ffb532314da60b01211a90b60,lenakinzel,93591767+lenakinzel@users.noreply.github.com,"feat: make sending lab column in rki report csv adjustable via config file (#492)

* added parameter in order to make the sending lab column in rki report csv adjustable via the config file

* added the date of the current run to the generate_output.smk to refill the date_draw column

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-03-01T17:55:38Z,lenakinzel
14b4be01ee1ff586b0e12d13b15c254d739e260b,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix(ci): change human reference from NC_000021.9 to BA000005.3 (#488),2022-03-01T16:54:00Z,thomasbtf
9e368d572abfb4816f8a3270b8deb22c198234ad,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: pangolin plot color (#483),2022-02-23T19:39:05Z,alethomas
a76f49f345fd3418e0b8bb3e11edd3f7123f4332,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump github/super-linter from 4.8.7 to 4.9.0 (#472)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.8.7 to 4.9.0.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.8.7...v4.9.0)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-02-20T11:36:01Z,dependabot[bot]
04ce5d596591f03df043d3a174884f33b9b271cb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"refactor(deps): update environment files (#478)

* added use-data-handling flag in config file in order to define whether the reorganization and the archiving within the data-handling

* changes according to failing formatting test

* fmt

* solve key error by reverting changes done before in order to solve formatting error

* added second flag in order to switch archiving on/off independently

* added data-handling flags to .test/config

* changed download link for fastq.gz-file in main.yml

* reduce packages

* add python back in for porechop

* pin samtools to 1.14

Co-authored-by: lenakinzel <l.kinzel@web.de>",2022-02-20T11:35:36Z,thomasbtf
603d3b5edfbc7864e279950f8981c534397105d9,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix(ci): change release please PR branch (#481)

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-02-18T09:56:33Z,thomasbtf
497bfcdd1bda588209295e7cc3e7d3acf20a2182,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: canu and porechop logs (#473)

* fix logging

* add redirect

* ...

* Update long_read.smk

add temp flags for different directories

* Update long_read.smk

* Update long_read.smk

* Revert ""Update long_read.smk""

This reverts commit 63ae2468f44ab7a5c1ca1059a91f75344a73e05f.

* Revert ""Update long_read.smk""

This reverts commit 095d223b47afd59e319157e7d560630910b03001.

* Revert ""Update long_read.smk""

This reverts commit 35d0b56753ce68327ef43b6fa2828ff6c1a35fce.

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>",2022-02-18T05:54:18Z,thomasbtf
16baef1c440dbf6e059b81d2c3f7f100c53ee692,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: add missing voc variant report to environmental report (#479),2022-02-18T05:53:52Z,alethomas
1697fb50b2e4b3d249c4a83e83ecab2876118a91,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: add missing fasta index to vcf report (#480),2022-02-18T05:52:57Z,alethomas
03a69bfe23097222cf88f43f15d4b40b5f4fb3de,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix(ci): release please checkout branch (#477)

* added use-data-handling flag in config file in order to define whether the reorganization and the archiving within the data-handling

* changes according to failing formatting test

* fmt

* solve key error by reverting changes done before in order to solve formatting error

* added second flag in order to switch archiving on/off independently

* added data-handling flags to .test/config

* changed download link for fastq.gz-file in main.yml

* fix(ci): changed branch to pull

Co-authored-by: lenakinzel <l.kinzel@web.de>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-02-18T05:40:02Z,thomasbtf
6447583800b756c573bcf959d14d0d6f29eebd21,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"perf: add ont temp flags (#475)

* add ont temp flags

* whitespace fmt

* whitespace fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-02-17T15:30:18Z,alethomas
6a0b899454883d6c53c4234f2b356f20ac503249,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix(ci): add missing missing echo to release please (#476),2022-02-17T07:38:36Z,thomasbtf
eb598b7f4feb51d8d5679dc2ef0aa823a7127a52,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix(ci): parse new json output from release please (#474)

* parse new json output form release please

* rmv typo

* change download path",2022-02-16T20:32:20Z,thomasbtf
559e9c1c1af503398a1669fd0e4f04e7d4b4a7ac,lenakinzel,93591767+lenakinzel@users.noreply.github.com,"feat: make incoming and archive structure data-handling optional (#443)

* added use-data-handling flag in config file in order to define whether the reorganization and the archiving within the data-handling

* changes according to failing formatting test

* fmt

* solve key error by reverting changes done before in order to solve formatting error

* added second flag in order to switch archiving on/off independently

* added data-handling flags to .test/config

* changed download link for fastq.gz-file in main.yml

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-02-16T15:36:04Z,lenakinzel
2606a61ca30570f6718102714d5912a2aab1f0ed,Thomas Battenfeld,thomas.battenfeld@gmail.com,"Revert ""fix: canu and porechop logging""

This reverts commit 5db09352abdcb2af41ae5b72250b26c547951877.",2022-02-16T07:08:10Z,thomasbtf
5db09352abdcb2af41ae5b72250b26c547951877,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: canu and porechop logging,2022-02-16T07:05:01Z,thomasbtf
c5b9f6c02c6e65646d0bc748cef5962b56322b3e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: remove removal of .indicators/replacement_notice.txt for int (#457)

* fix: remove removal of .indicators/replacement_notice.txt for int

* fmt

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-02-15T14:44:02Z,thomasbtf
429e5d9447b64dfbd20bcfaa924feb5fae7ddfb9,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"fix: order of include flag sample (#462)

* Fixed include flag sample order

* Added include-flag to main.yaml

* Added includeflag to further functions in main.yml

* KeyError for missing flags

* Correction main.yml

* Code style changes",2022-02-09T18:34:57Z,AKBrueggemann
78cb7f4452fe703194aed2fb393649572b60519c,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"feat(deps): update pangolin to 3.1.20 (#467)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-02-09T14:01:03Z,github-actions[bot]
1713daf2c1aa27fa3b9180a7ec93162a9a403fd1,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump alstr/todo-to-issue-action from 4.5.4 to 4.6 (#466),2022-02-05T10:33:02Z,dependabot[bot]
d2d8b8f485fc1fafd9d8b76c2188c2a13f7fcfb0,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump amannn/action-semantic-pull-request from 3.6.0 to 4 (#465)

Bumps [amannn/action-semantic-pull-request](https://github.com/amannn/action-semantic-pull-request) from 3.6.0 to 4.
- [Release notes](https://github.com/amannn/action-semantic-pull-request/releases)
- [Changelog](https://github.com/amannn/action-semantic-pull-request/blob/master/CHANGELOG.md)
- [Commits](https://github.com/amannn/action-semantic-pull-request/compare/v3.6.0...v4)

---
updated-dependencies:
- dependency-name: amannn/action-semantic-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-02-03T18:52:58Z,dependabot[bot]
21f824c8c0c1c7a67fd7c6fd77188784ca83deea,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#463)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-02-02T15:13:26Z,github-actions[bot]
f833ae201d1d687e81b73f6b69d00cdec93439f4,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"docs: description to customize the primer bed file (#450)

* Description to customize the primer bed file

* Apply suggestions from code review

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* fmt

* Update configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2022-02-02T15:13:11Z,AKBrueggemann
3022eab0854992fb40894c7b1dd0feca8400b2fc,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"feat: rule and script bed_to_bedpe (#447)

* Rule and script bed_to_bedpe

* Added bed to config, changed rule input paths

* Bed files can be downloaded via url in config

* fmt",2022-02-02T09:46:56Z,AKBrueggemann
c18f2412f576b26050e3296bdcc509cd5facf462,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"feat(deps): bump github/super-linter from 4.8.6 to 4.8.7 (#459)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.8.6 to 4.8.7.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.8.6...v4.8.7)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-01-29T18:00:36Z,dependabot[bot]
3971687db229577fa862b40f900701f18270011d,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"feat(deps): update pangolin to 3.1.19 (#461)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-01-29T17:57:30Z,github-actions[bot]
d5f42ca229c038adaf0ccb1ce772aaa4e229b1fe,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"feat(deps): update pangolin to 3.1.19 (#461)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-01-29T17:56:11Z,github-actions[bot]
7df2a3e728a35bfac93b07cff39a249bdfea4e2d,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump github/super-linter from 4.8.5 to 4.8.6 (#458)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.8.5 to 4.8.6.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.8.5...v4.8.6)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-01-27T06:11:00Z,dependabot[bot]
e844fc40923fcaa8c680079a05cd09173027fb00,simakro,74452164+simakro@users.noreply.github.com,"perf: optimisations for ont - barcode+adapter-trimming, primer-trimming (porechop) and read correction (Canu) (#454)

* removed threads parameter and maxThreads option from canu_correct

* introduced corConcurrency parameter and option for canu

* add comments

* remove replacement notice

* restore sample.csv

* cleanup old comments

* last style change

* style: pre-commit style changes

* style: final adjustment

* fix: resolved low thread-number testing-issue in canu-correct

* switched to get_canu_concurrency function

* fix: testing combine solutions for memory and thread maxima

* chore: review changes",2022-01-25T09:56:14Z,simakro
d6e7d8f299a46a308bd6b90cd585ecae08c3ab6f,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,chore: update copyright preamble (#455),2022-01-23T17:21:30Z,github-actions[bot]
9ad720c32f1b246b5ef8a20871063a05dfd682b8,Johannes Köster,johannes.koester@tu-dortmund.de,"feat: call known lineage variants (#392)

* feat: call known lineage variants

* fmt

* include rule in snakefile

* fix: url

* add file paths

* fixes

* collect gene starts from gff

* fixes

* add lineage variant annotation rule

* add new annotion plus editing

* debug

* fix: fix off by one error; fix hardcoded special case for ORF10

* remove print statements

* add rule for lineage variant table

* script for generating variant table

* fix sorting

* fmt

* code cleanup

* fmt

* fmt

* dummy commit

* add row for Jaccard coefficient

* add row for Jaccard coefficient

* refactor and code cleanup

* add specified sorting categories, roung values

* change file directories

* add stylesheet for lineage variant table

* correct path

* table formatting

* fix: indel recording

* chore: cleanup

* update todos in script

* integrate formatting for nucleotide mutations

* renaming columns

* add documentation

* finish formatting

* change pin until to new naming

* change position in report

* add .gff

* add .rst

* remove static gff

* use zipped gff

* add logging

* remove unused rule

* rename header, fix duplication

* rm print statement

* add consumer guide description

* fix: account for ambiguity when translating AA deletions and insertions into DNA alterations

* add new lineage statically

* add default coloring for not yet encoded lineages

* unify sorted prefix

* Apply suggestions from code review

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* formatting

* formatting

* Update report-structure.md

add best quality line separately

* remove unused script

* add Covarianta to readme

* fix trailing whitespace

* Update workflow/scripts/collect-lineage-variants.py

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

Co-authored-by: alethomas <alex.thomas89@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-01-21T16:21:35Z,johanneskoester
5ad38d5983c795a3b903af9797e2a03e55666a97,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump alstr/todo-to-issue-action from 4.5.3 to 4.5.4 (#453)

Bumps [alstr/todo-to-issue-action](https://github.com/alstr/todo-to-issue-action) from 4.5.3 to 4.5.4.
- [Release notes](https://github.com/alstr/todo-to-issue-action/releases)
- [Commits](https://github.com/alstr/todo-to-issue-action/compare/v4.5.3...v4.5.4)

---
updated-dependencies:
- dependency-name: alstr/todo-to-issue-action
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2022-01-21T06:50:06Z,dependabot[bot]
f47dad20891a447e202aa2ff3f1712b77daaa593,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"fix: fixed include flag KeyError (#452)

* Fixed include flag KeyError

* Deleted else",2022-01-20T08:27:12Z,AKBrueggemann
42fbcd8bc442d5c1e2142fc6c14406819c2b63bb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix(deps): update multiqc wrapper (#329)

* update multiqc wrapper

* Update qc.smk",2022-01-19T14:47:54Z,thomasbtf
e85fa15f0489185b9fc7a851005da1078c06c3fb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: bump rust-bio-tools to 0.38 (#449),2022-01-15T09:12:08Z,thomasbtf
ee30a46bc966413fbd1f8d616a3f1f97b356ff72,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: reset over table formatter (#448),2022-01-13T11:45:11Z,thomasbtf
c71f72bad90cc32923b7de6ffcc6de66367cf6ff,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: correct filtering in plot-lineages-over-time (#445)

* fix: correct filtering in df

* fmt",2022-01-11T14:04:57Z,alethomas
8ba21d90caa0e312e4619fc02e1a38f84039805b,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: rename column header in report formatter (#444)

After renaming columns of the overview table, the names in the formatter were not changed",2022-01-11T14:04:22Z,alethomas
074d3d42eae88b9f6f2cdcf6dd750dc6ca51c619,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 0.13.2 (#442)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",2022-01-06T13:11:52Z,github-actions[bot]
1a6896926c4f38d897541a6d38dc874d54b57176,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: wrong enumeration with kallisto included (#439)

* fix: wromg enumeration with kallisto included

* refactor: change order of category 1 subcategores

* Update generate_output.smk

* Update generate_output.smk

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-01-06T12:28:28Z,alethomas
c4b943fc741fee63b7c604b451744c936c519c71,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,chore(deps): bump amannn/action-semantic-pull-request (#441),2022-01-05T22:11:51Z,dependabot[bot]
385ddb3eb2fa177af88fa2ebbcff86ec8f33e8d5,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 0.13.1 (#440)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",2022-01-04T08:01:16Z,github-actions[bot]
6a8155ec0b227da9907fb709c909afdb35571375,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"fix: relative aggregation sample plot (#412)

* Changed plots occurence threshold to relative

* fmt

* Name changed: number of occurences in plot

* fmt

* Changed threshold values for variant/lineage plots

* Changed way of thresholding lineages/variants

* fmt

* Changed name for other occ. in plot

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-01-04T07:43:04Z,AKBrueggemann
0e8f9934f68e056e6f3829ec5767752fe46e9b52,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore(master): release 0.13.0 (#438)

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>",2022-01-03T15:47:42Z,github-actions[bot]
9ac2002e733ecd215e89f5043409c4ab90d9064b,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add patient or environmental mode flag (#420)

* add new environment report

* add check

* add missing wildcards

* modiy input of rule rule

* fix typo

* add docs

* fmt

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-01-03T15:44:54Z,thomasbtf
077b80d2b2b00026fc9944a26c0183505f9060cf,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: generate high quality report .csv file (#433),2022-01-03T13:18:15Z,thomasbtf
f883ce24231d3e249c1c3a2798ad5c42cd954342,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add optional column for adapters (#419)

* add optional adapters column

* add missing .markdownlint.yaml

* update test config

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* Update docs/user-guide/configuration.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

* run pre-commit

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2022-01-03T13:17:48Z,thomasbtf
dab587976a2b65744724860a09c63a3eac507fcf,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"chore: update copyright preamble to 2022 🎇 (#437)

* chore: update copyright preamble to 2022

* rmv import",2022-01-03T13:17:27Z,thomasbtf
e7cb0a7a6de37b767befb314bdd32828437c53b7,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add prettier to pre-commit (#427)

* add prettier

* add prettier fixes

* add var name to formatter

* add """" to Lineage

* fmt table formatter

* dont check fomatter

* run pre-commits",2022-01-03T08:40:20Z,thomasbtf
0245c9f40c42998c3d70d5f3e9cc0d7b9b7d421e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs: add comment how to run pre-commit manually (#422),2022-01-03T08:40:03Z,thomasbtf
666c3cd322a089e0e5d09c23d417e51999e5c6a1,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump GoogleCloudPlatform/release-please-action from 2 to 3 (#436)

Bumps [GoogleCloudPlatform/release-please-action](https://github.com/GoogleCloudPlatform/release-please-action) from 2 to 3.
- [Release notes](https://github.com/GoogleCloudPlatform/release-please-action/releases)
- [Changelog](https://github.com/google-github-actions/release-please-action/blob/main/CHANGELOG.md)
- [Commits](https://github.com/GoogleCloudPlatform/release-please-action/compare/v2...v3)

---
updated-dependencies:
- dependency-name: GoogleCloudPlatform/release-please-action
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2022-01-03T08:38:36Z,dependabot[bot]
7966db3668dec7cf37168a835eda27294a53d31e,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#434)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2022-01-03T08:31:15Z,github-actions[bot]
5ffe5307845c26bc64123baec496c7651e4fc513,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.12.0 (#435)

* chore: release 0.12.0

* Changed containerized tag to 0.12.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-24T10:06:55Z,github-actions[bot]
3ec79756226500f2e686c1f5e7ed83d50de545c3,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add varlociraptor test case generation (#429)

* add optional adapters column

* add missing .markdownlint.yaml

* update test config

* add test cases

* fmt

* redesign structure

* fmt

* add missing qoutes in new ci

* add docs

* ci: fix test data download

* add missing scripts",2021-12-23T16:31:41Z,thomasbtf
3af43b991af218931996d9093ecf944bff907476,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: update the mutations columns in the overview table formatter (#423),2021-12-23T12:09:35Z,thomasbtf
a0e3d96e718252163629501c6a99f2449e63804e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,chore: add temp flags (#428),2021-12-22T21:45:21Z,thomasbtf
300decd6cb6d9bd493638d85ac53ba50e698292a,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.11.0 (#425)

* chore: release 0.11.0

* Changed containerized tag to 0.11.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-21T12:37:47Z,github-actions[bot]
b572f24529a4f5f6fe2b029e20c796fb4eb03951,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump github/super-linter from 4.8.4 to 4.8.5 (#426)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.8.4 to 4.8.5.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.8.4...v4.8.5)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2021-12-21T06:31:55Z,dependabot[bot]
5a7ca5be08afdc6642a0db103c9fec2f6842fc53,Johannes Köster,johannes.koester@tu-dortmund.de,feat: update to varlociraptor 4.9 (#424),2021-12-20T14:53:54Z,johanneskoester
8f669159d7db8dad503cccf505c34a8271795bcd,Johannes Köster,johannes.koester@tu-dortmund.de,"feat: update to rust-bio-tools 0.33 (#388)

* feat: update to rust-bio-tools 0.33

This should deliver various little bug fixes and visualization improvements.

* pre-commit changes

* Update rbt.yaml

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-12-20T13:38:23Z,johanneskoester
37ba15635a1c08e6652fd8d31897b66e12e7b1c1,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.10.2 (#421)

* chore: release 0.10.2

* Changed containerized tag to 0.10.2

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-19T22:14:04Z,github-actions[bot]
9690f12e6725447e035903d3b4eecf31d01b1576,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: pangolin input for overview table, bamclipper samtools error, include flag for high quality genome report (#418)

* fixes from production

* fmt",2021-12-19T17:32:11Z,thomasbtf
cf9ec16060c685fd20edb835e08f7cf949250c2e,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,chore: release 0.10.1 (#417),2021-12-19T16:40:52Z,github-actions[bot]
0548c1e123b9e2ffe8d860e36ad8a927a2a0c952,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"refactor: changed voc/voi into ""mutations to be highlighted"" (#416)

* Changed voc/voi into ""mutations to be highlighted""

* Chnaged ""Highlighted Mutations"" to ""VOC Mutations""

* Changed voc in test config",2021-12-17T15:03:00Z,AKBrueggemann
e5dbcbd61fc836e8705a08ac189235c78fd1db65,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: names in report (#410),2021-12-17T10:37:15Z,thomasbtf
0347249d80bb664df7402f73e6519cc36571fefd,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.10.0 (#413)

* chore: release 0.10.0

* Changed containerized tag to 0.10.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-17T08:03:10Z,github-actions[bot]
24c06b6d79aef611aafbf6b60d2a3d410e161c31,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump alstr/todo-to-issue-action from 4.5.2 to 4.5.3 (#414)

Bumps [alstr/todo-to-issue-action](https://github.com/alstr/todo-to-issue-action) from 4.5.2 to 4.5.3.
- [Release notes](https://github.com/alstr/todo-to-issue-action/releases)
- [Commits](https://github.com/alstr/todo-to-issue-action/compare/v4.5.2...v4.5.3)

---
updated-dependencies:
- dependency-name: alstr/todo-to-issue-action
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2021-12-16T21:52:47Z,dependabot[bot]
55b2dcce83c6349b4651c07acfda2cfe885ed0f6,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: complete workflow if no samples pass the quality filter (#411)

* update script

* add notebooks resource, add comment

* fmt",2021-12-16T16:10:27Z,thomasbtf
4691ceedeb9c480c6ce118e0f9286aaa77c9a9a7,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.9.0 (#408)

* chore: release 0.9.0

* Changed containerized tag to 0.9.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-16T07:03:36Z,github-actions[bot]
756213d21edc5761d1b7ab537a9d71e9c2947caa,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(deps): bump amannn/action-semantic-pull-request (#409)

Bumps [amannn/action-semantic-pull-request](https://github.com/amannn/action-semantic-pull-request) from 3.4.6 to 3.5.0.
- [Release notes](https://github.com/amannn/action-semantic-pull-request/releases)
- [Changelog](https://github.com/amannn/action-semantic-pull-request/blob/master/CHANGELOG.md)
- [Commits](https://github.com/amannn/action-semantic-pull-request/compare/v3.4.6...v3.5.0)

---
updated-dependencies:
- dependency-name: amannn/action-semantic-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2021-12-15T22:13:23Z,dependabot[bot]
bd5048af11d3f1f28a1853a9ec1070fe85ff977b,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"feat: added variants-over-time-plot to report again (#405)

* Added variant-plots-over-time to report

* fmt

* Correction of code in snakemake_reports

* fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-15T16:28:36Z,AKBrueggemann
74f3077b9b652b54d72a1159551b6ef7fc2eb176,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.8.0 (#404)

* chore: release 0.8.0

* Changed containerized tag to 0.8.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-15T15:45:55Z,github-actions[bot]
76e46db8c760955b25bddfb3a366db8cc23823fd,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"ci: update PR template with pre-commit pointer (#407)

* ci: update PR template with pre-commit pointer

* Update pull_request_template.md

* igone PR template",2021-12-15T14:25:53Z,thomasbtf
a9ddc4ee0299b5ef942a3e973eb966ff29df1913,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#406)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-12-15T12:34:02Z,github-actions[bot]
953211a552f0ce84594e598318cc25a7d406c3cd,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add pangolin call table (#397)

* feat-add-pangolin-call-table

* fmt

* add missing stage wildcard

* add get_assemblies_for_submission to input due to Workflow Error

* evaluate_strain_call_error update

* update pangolin paths

* change input of get_assemblies_for_submission

* fmt

* update evaluate-strain-call-error.py

* change back to get_assemblies_for_submission

* fmt

* change back

* mv assembly_used to input

* Revert ""mv assembly_used to input""

This reverts commit 6e121f6ba76e32cc6babfca3d12d2ae53c0a5f89.

* add -pr statement to ci

* add new input function

* fmt

* add _csv to rule

* add missing all_samples_for_date

* lineages over times: add handling if no lineage was called

* fmt

* update content of table

* add docs

* update docs

* fmt, update docs

* pre-commit changes

* Update docs/consumer-guide/index.md

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2021-12-15T12:27:56Z,thomasbtf
d2e6d20de0429323989d107eac5c4282561b57ce,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"feat: add rki include/exclude flag (#319)

* Adding RKI flag to sample sheet

* High-quality-include-flag read functions

* Inclusion flag content added

* Comments changed code clean-up

* fmt

* fmt

* Adding rki-flag to test sample_sheet

* Changed sample name on test sample_sheet

* Changed flag-input for rki-filter

* Changed filtering for flag creation

* Added flag to sample sheet

* fmt

* fmt

* fmt

* Changed creation of flag in update-sample-sheet

* Changed location of filtering for high quality

* Changed object given to method

* fmt

* refactor

* fmt

* handle missing flag

* Update generate_output.smk

* Update quality-filter.py

* handeling of several entries in sample sheet

* pre-commit checks

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-12-15T11:16:26Z,AKBrueggemann
3222bb2220ce517ba514f28f416c730ef884d52f,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: rmv pipe from pre-commit (#401)

* fix: rmv pipe from pre-commit

* fix multiqc

* fix CONTRIBUTING.md

* update action

* dont run pre-commit on master. Will always fail",2021-12-15T09:39:12Z,thomasbtf
d2ecaaa55efaf916fe380f042758f1560a5b389f,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: change report structure, add masked sequence, pangolin call on polished sequence (#396)

* fix: generation of high qualtiy genomes

* fmt

* change report (Aessembly -> Sequences), pangolin on polished sequnces

* fmt",2021-12-15T09:38:09Z,thomasbtf
fda1fa4e0d81b35c38c1054703f62229d1590b13,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: disable cache (#403),2021-12-15T08:49:51Z,thomasbtf
38e34bba65ab28481466e5897019f060d57596f8,lenakinzel,93591767+lenakinzel@users.noreply.github.com,"feat: added column in overview table for the clear name of the lineage (#400)

* added the generation of a new column called 'WHO Label' in generate-overview-table.py for the clear name of the called lineage, also changed the column name for the lineage itself from 'Pangolin Strain' to 'Pangolin Lineage'

* Update workflow/scripts/generate-overview-table.py

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* Update workflow/scripts/generate-overview-table.py

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* fill nan with ""-""

* replace nans

* fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-12-14T23:37:32Z,lenakinzel
d7cd30b8e706081c57e5df4c30c0d8f9318a3136,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.7.0 (#399)

* chore: release 0.7.0

* Changed containerized tag to 0.7.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-14T23:31:16Z,github-actions[bot]
1e0068a8603adc82a0f135d97b70e05ad0adc0f4,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs: update contributing (#402),2021-12-14T15:26:44Z,thomasbtf
e240aeb5f13d38a2ccf14ce1cb2277af197d9117,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: trigger docs build on release created (#391),2021-12-14T14:33:41Z,thomasbtf
44d49d34e7ed2ad94002ed9b9e8868ec9665a541,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: remove cwd-check in update sample sheet script (#393),2021-12-14T13:50:59Z,thomasbtf
6982b3dcaca308840d9a70caec22e79bdb9025fc,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add pre commit checks (#398)

* add pre commit

* add precommit changes

* add more changes",2021-12-14T12:10:03Z,thomasbtf
fab93725005010050eff361d0e0ede027bddbef2,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.6.0 (#390)

* chore: release 0.6.0

* Changed containerized tag to 0.6.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-13T14:33:39Z,github-actions[bot]
da00975893a20144c28cf4185c9263f6bd6c5a7c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: generation of high quality genomes (#394)

* fix: generation of high qualtiy genomes

* fmt",2021-12-13T12:00:00Z,thomasbtf
009637621a3f55b8852c2aa9b428775f1286f40b,Johannes Köster,johannes.koester@tu-dortmund.de,"feat: update varlociraptor to version 4.8 (#331)

* feat: update varlociraptor to version 4.7

* adapt scenario

* add csi, catch TypeError

* fmt

* bumpt varlociraptor from 4.7 to 4.8

* bump varlociraptor from 4.8.0 to 4.8.1

* Update varlociraptor.yaml

* Remove odds filtering and use local FDR instead

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-12-11T21:19:08Z,johanneskoester
ebe556c3dfa7d1bbf6797d51452d06e53184f679,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"fix: relative aggregation of samples for variants and lineages over time plots (#382)

* Changed plots occurence threshold to relative

* fmt

* Name changed: number of occurences in plot

* fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-10T12:29:33Z,AKBrueggemann
23ed39e6b7471a7f4efc649efb51882cf692e125,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"feat: update pangolin to 3.1.17 (#389)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-12-10T07:53:38Z,github-actions[bot]
1a8aa55bcf6f5c5de16da98e9b5cc36275f2cbdb,Johannes Köster,johannes.koester@tu-dortmund.de,"Revert ""Update rbt.yaml""

This reverts commit c2c8d5a46d2eaf15b2910428e93fb8779e0d5dc3.",2021-12-09T16:41:41Z,johanneskoester
c2c8d5a46d2eaf15b2910428e93fb8779e0d5dc3,Johannes Köster,johannes.koester@tu-dortmund.de,Update rbt.yaml,2021-12-09T16:40:37Z,johanneskoester
77251b622c25880a1d9b34d24c52dca5b858cf26,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#385)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-09T14:08:19Z,github-actions[bot]
0f97fead889856bac0d32c1629455ef56af7ba14,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.5.0 (#386)

* chore: release 0.5.0

* Changed containerized tag to 0.5.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-09T14:07:46Z,github-actions[bot]
288777cef21485fb0365c5c552690f2bf94b6e11,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat(technology): add ion torrent processing (#383)

* add ont toolchain

* move medka

* add primer clipping

* add env for primer clipping

* integrate reads in common.smk

* fmt

* add medaka_model to test config

* update sample sheet

* add check for benchmark data

* fmt

* add ci for ont

* change schema for new sample sheet

* linting

* add ARTIC_v3_adapters

* fmt

* add ARTIC primers to resources

* integrate ont pipieline

* fmt

* add missing wildcards

* agg is_sample_technongoly in is_technology

* change ont assembly from canu to spades se

* fmt

* make artic primers version adjustable

* adjust fastp, kranken and samtools depth

* rename rules

* adjust kallisto

* fmt

* fmt

* fix: kallisto_metrics log

* fmt

* fix: get_kraken_output date input

* ci: change to -o

* ci: add github ont reads

* config update

* adjust kallisto input

* fmt

* adjust assembler comparison for illumina only

* fmt

* fix: wildcard -> wildcards

* refactor: get_technology

* fmt

* fix: call function

* ci: rmv amplicon file

* add threads for canu

* add corThreads

* add maxMemory

* rmv restrictions

* add corThreads

* add threads

* add redMemory

* change to maxThreads and maxMemory

* Revert ""change to maxThreads and maxMemory""

This reverts commit f053dcb521c620dc3d49ccdd4293c0a76ac4d49d.

* add oeaMemory

* add debug statement

* print kallisto metrics

* add missing space

* add print for debug

* add if

* add testing return

* fmt

* adjust test log date and names

* make canu params for testing

* fmt

* add lambda expression for testing

* fix typo

* fill empty rows in qc data sheet with ""0""

* add nano qc

* fmt

* update spades env

* add vcf to medaka output

* add polishing with medeka on de novo assembly

* rmv print debug statements

* refactor masking script

* fmt

* fix masked sequence writer

* remove ""manual"" fasta parser

* fmt

* deal with empty rki filter

* update sample sheet generation

* extract ont read numbers for qc table

* fmt

* fix read counting

* fix spades assembeler path due to version update

* fmt

* change to contigs.fasta

* use raw_contigs with pe spades

* add if statement

* change to wildcard

* change *

* add missing wildcards

* rmv canu correct folder

* remove to long string from ""Other Variants"" column

* add medaka variant calling

* fmt

* fix kraken

* change to trimmed and not corrected reads for polishing

* Revert ""change to trimmed and not corrected reads for polishing""

This reverts commit 81b303046a384364a46c9f8b0e41e802f3516b8b.

* add missing gz

* make rki-filter less errorprone regarding samplenames

* fmt

* add human removal

* fix samtools in bamclipper

* add consesus

* add identity overview

* fmt

* fixes

* more fixes

* change path of indicators

* update report descriptions

* update more descs

* updats scripts

* Change Pangolin Call to Lineage

* comments

* fix quast call

* fixes, comments

* fmt

* fix in masking script

* add longshot

* fmt

* change logging of porechop_primer_trimming

* add porechop debug

* update report generation

* cleanup rule all

* fmt

* remove debug

* add gzip keep flag

* add polishing of consenus

* fmt

* fmt

* fmt

* fmt

* touch ups

* fmt

* fmt

* rmv unnecessary code

* add ion torrent

* fmt

* refactor todos

* improvements

* fmt

* update selection functions

* add docstrings

* updat samplesheet

* fmt

* renaming

* rmv patterns from get_reads_after_qc

* update testing

* fix technology matrix

* split all and benchmarks

* fmt

* fmt

* add data for compare_assemblers

* fix indent

* indent

* another indent

* rmv paranthesis

* Always download test data

* update artifacts

* add amplicon tests

* add missing patterns

* fmt

* update assembler config

* update test config, main.yml

* add qoutes

* add missing gz

* fix path

* add pe flags for assembler comparison

* rmv contigs output flag

* temp fix adapters

* add conda caching

Co-authored-by: simakro <simonmagin80@gmail.com>",2021-12-09T10:49:25Z,thomasbtf
855061bd9ee2b2c3cc93238e2224da42208179a1,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.4.1 (#373)

* chore: release 0.4.1

* Changed containerized tag to 0.4.1

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-08T09:50:17Z,github-actions[bot]
45d180bb48aaea6b216306f3e26a4ae847e0fdad,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs: add missing consumer guide index (#380),2021-12-07T12:44:08Z,thomasbtf
177e432d9e2bbb625da4c505686c989fe0143c88,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"docs: change order of release notes nav (#377)

* docs: change order of release notes nav

* Update documentation.yml",2021-12-07T12:40:01Z,thomasbtf
3e13f6c7237bb49c8a8edf328aa8959964e1a743,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: remove linting of change-og (#378),2021-12-07T12:39:29Z,thomasbtf
40426cbb8ed9cca1562dfb4a899df479b8a34873,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs: add consumer guide (#379),2021-12-07T12:38:21Z,thomasbtf
7db1fd10c242b20808ff6eb2effb0e8b9221dfcb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"docs: add documentation skeleton (#374)

* docs: add docs skeleton

* update docs GitHub Action

* fix typo, update PR template

* Update pull_request_template.md

* fix typo, uddate color",2021-12-06T14:55:37Z,thomasbtf
7750862a98890937885164b469b5f487ae70488a,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: GISAID lineage extraction [B.1.1.529 (probably).fasta] (#372)

* fix: GISAID lineage extraction

* fmt",2021-12-03T10:05:32Z,thomasbtf
e067895adc368414000cba5e4db73edbb3d03b95,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix(ci): adjust commit message of copyright-preamble.yml to fit conventional commits format (#369),2021-12-02T22:57:08Z,thomasbtf
d7fd30ee6412e490f93389703952cc4770f41781,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: fix typo in pr template (#370),2021-12-02T22:56:56Z,thomasbtf
a8d0e35c21661726d7444399e7c0172ac152735d,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#367)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-12-02T22:04:02Z,github-actions[bot]
390348be8209a4ca22c9b1fd9bf4d32a8a5e2e31,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.4.0 (#368)

* chore: release 0.4.0

* Changed containerized tag to 0.4.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-12-02T22:02:15Z,github-actions[bot]
55f38f3f94146355c245f76d6c210dbf351a6eaf,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat(technology): add Oxford Nanopore processing (#305)

* add ont toolchain

* move medka

* add primer clipping

* add env for primer clipping

* integrate reads in common.smk

* fmt

* add medaka_model to test config

* update sample sheet

* add check for benchmark data

* fmt

* add ci for ont

* change schema for new sample sheet

* linting

* add ARTIC_v3_adapters

* fmt

* add ARTIC primers to resources

* integrate ont pipieline

* fmt

* add missing wildcards

* agg is_sample_technongoly in is_technology

* change ont assembly from canu to spades se

* fmt

* make artic primers version adjustable

* adjust fastp, kranken and samtools depth

* rename rules

* adjust kallisto

* fmt

* fmt

* fix: kallisto_metrics log

* fmt

* fix: get_kraken_output date input

* ci: change to -o

* ci: add github ont reads

* config update

* adjust kallisto input

* fmt

* adjust assembler comparison for illumina only

* fmt

* fix: wildcard -> wildcards

* refactor: get_technology

* fmt

* fix: call function

* ci: rmv amplicon file

* add threads for canu

* add corThreads

* add maxMemory

* rmv restrictions

* add corThreads

* add threads

* add redMemory

* change to maxThreads and maxMemory

* Revert ""change to maxThreads and maxMemory""

This reverts commit f053dcb521c620dc3d49ccdd4293c0a76ac4d49d.

* add oeaMemory

* add debug statement

* print kallisto metrics

* add missing space

* add print for debug

* add if

* add testing return

* fmt

* adjust test log date and names

* make canu params for testing

* fmt

* add lambda expression for testing

* fix typo

* fill empty rows in qc data sheet with ""0""

* add nano qc

* fmt

* update spades env

* add vcf to medaka output

* add polishing with medeka on de novo assembly

* rmv print debug statements

* refactor masking script

* fmt

* fix masked sequence writer

* remove ""manual"" fasta parser

* fmt

* deal with empty rki filter

* update sample sheet generation

* extract ont read numbers for qc table

* fmt

* fix read counting

* fix spades assembeler path due to version update

* fmt

* change to contigs.fasta

* use raw_contigs with pe spades

* add if statement

* change to wildcard

* change *

* add missing wildcards

* rmv canu correct folder

* remove to long string from ""Other Variants"" column

* add medaka variant calling

* fmt

* fix kraken

* change to trimmed and not corrected reads for polishing

* Revert ""change to trimmed and not corrected reads for polishing""

This reverts commit 81b303046a384364a46c9f8b0e41e802f3516b8b.

* add missing gz

* make rki-filter less errorprone regarding samplenames

* fmt

* add human removal

* fix samtools in bamclipper

* add consesus

* add identity overview

* fmt

* fixes

* more fixes

* change path of indicators

* update report descriptions

* update more descs

* updats scripts

* Change Pangolin Call to Lineage

* comments

* fix quast call

* fixes, comments

* fmt

* fix in masking script

* add longshot

* fmt

* change logging of porechop_primer_trimming

* add porechop debug

* update report generation

* cleanup rule all

* fmt

* remove debug

* add gzip keep flag

* add polishing of consenus

* fmt

* fmt

* fmt

* fmt

* touch ups

* fmt

* fmt

* rmv unnecessary code

Co-authored-by: simakro <simonmagin80@gmail.com>",2021-12-02T18:42:06Z,thomasbtf
5f5dd27311d1bc27787b2061bba2312a50fbf720,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: add bam index for extract_reads_of_interest (#366)

* fix: add bam index for extract_reads_of_interest

* Update extract-reads-of-interest.py

* fmt",2021-12-02T17:18:53Z,thomasbtf
49c68b21f6fffa718dfc2723e5cdac9115926ad1,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,chore(gitignore): only track version of config.yaml and samples.csv in config/pep (#362),2021-12-02T17:18:25Z,thomasbtf
7f371b845d2e5a039f508965b86a2e8296fbefbb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"chore(pr_template): update checklist and hide type of changes (#363)

* chore(pr_template): update checklist and hide type of changes

* Update pull_request_template.md",2021-12-02T17:03:20Z,thomasbtf
2d2b3b324ab32dcea743a2f7816b70677b4b3033,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"ci: change prefix of dependabots PRs (#360)

* ci: change prefix of dependabots PRs

* Update dependabot.yml",2021-12-02T15:01:55Z,thomasbtf
75e62f20b88eaeb19389908e325b264b0f64081d,lenakinzel,93591767+lenakinzel@users.noreply.github.com,fix: changed JSON schema validator and updated files #364,2021-12-02T13:36:32Z,lenakinzel
b9e5c49dbf8910ad0332a73dba0c027bf3545c81,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"perf: changed chunksize of read json file from gisaid, excluded lineage without name (#328)

* Changed chunksize, excluded lineage without name

* fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-02T09:05:05Z,AKBrueggemann
e64aaeb6652f953d1a1cd3d4d94676c050a78994,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(ci): bump amannn/action-semantic-pull-request from 3.4.0 to 3.4.6 (#348)

Bumps [amannn/action-semantic-pull-request](https://github.com/amannn/action-semantic-pull-request) from 3.4.0 to 3.4.6.
- [Release notes](https://github.com/amannn/action-semantic-pull-request/releases)
- [Changelog](https://github.com/amannn/action-semantic-pull-request/blob/master/CHANGELOG.md)
- [Commits](https://github.com/amannn/action-semantic-pull-request/compare/v3.4.0...v3.4.6)

---
updated-dependencies:
- dependency-name: amannn/action-semantic-pull-request
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-02T07:43:43Z,dependabot[bot]
f39cf6a0378e02d096dd3d2c56ca0e3aa325ebb9,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(ci): bump github/super-linter from 4.7.3 to 4.8.4 (#349)

Bumps [github/super-linter](https://github.com/github/super-linter) from 4.7.3 to 4.8.4.
- [Release notes](https://github.com/github/super-linter/releases)
- [Changelog](https://github.com/github/super-linter/blob/main/docs/release-process.md)
- [Commits](https://github.com/github/super-linter/compare/v4.7.3...v4.8.4)

---
updated-dependencies:
- dependency-name: github/super-linter
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2021-12-02T07:43:10Z,dependabot[bot]
8d411ce5d2065e038f38d1bbeac12c61507ed474,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,"chore(ci): bump alstr/todo-to-issue-action from 4.2 to 4.5.2 (#350)

Bumps [alstr/todo-to-issue-action](https://github.com/alstr/todo-to-issue-action) from 4.2 to 4.5.2.
- [Release notes](https://github.com/alstr/todo-to-issue-action/releases)
- [Commits](https://github.com/alstr/todo-to-issue-action/compare/v4.2...v4.5.2)

---
updated-dependencies:
- dependency-name: alstr/todo-to-issue-action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",2021-12-02T07:42:36Z,dependabot[bot]
f31687bd7a13847a0c95ade6a5effacea253f964,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: add dependabot for github-actions (#341),2021-12-02T06:08:53Z,thomasbtf
f4d7b9216b42b6c026c938062b2be9a388dbfd3a,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"chore(ci): add bug report, feature request, question (#342)

* add bug report, feature request, question

* gramma",2021-12-02T06:07:20Z,thomasbtf
6ad40fef3f7f110b152d393158b5e1c525fc4ddd,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"chore(ci): update pr template (#343)

* update pr template, add code of condcut, contributing

* add missing files",2021-12-02T06:07:06Z,thomasbtf
92fa92e78a954a8d7d6b0274e9b4dff86235ea51,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,build(workflow catalog): don't create another report (#346),2021-12-02T06:06:52Z,thomasbtf
2d0e2465217470f0e9f089b9c3e240cddfc6336e,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"fix: changed contigs file for quast-rule to avoid workflow to stop because of low read numbers (#338)

* Changed used contigs fasta for quast-rule

* fmt

* Removed get_expanded_contigs method from common

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-12-01T15:02:01Z,AKBrueggemann
9da0e33e8f8719559c4e85da238b71b73fe50419,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.3.1 (#324)

* chore: release 0.3.1

* Changed containerized tag to 0.3.1

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-11-30T10:56:01Z,github-actions[bot]
4e0121ddea3338e8f82512fe29394f0e053ab510,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"docs: update README.md with correct link to catalog (#320)

* docs: update README.md with correct linkt catalog

* move tools used to main README",2021-11-29T13:24:38Z,thomasbtf
497d74e6ab4cb0fb16d11ce1416e05d0d54fbc61,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: update snakemake action to v1.24.0,2021-11-26T16:11:27Z,thomasbtf
2fdb1279e1c4fc34b211ae6cbf48c0115a0a88d7,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"build: temporarily change MultiQC wrapper to env rule (#330)

* change multiqc wrapper to env

* fmt

* fix shell inputs & params

* uncomment small kraken db

* refactor: sort call-strains imports

* change multiqc wrapper to shell invocation

* fmt

* update snakemake to 6.10

* include peppy patch version

* Revert ""include peppy patch version""

This reverts commit 9ecfff0a7c5fce45ba154cef16093749d793233a.",2021-11-23T17:16:43Z,thomasbtf
91e3ce922132309d3d226a9efceb995ce99b4489,Alexander Thomas,77535027+alethomas@users.noreply.github.com,fix: nested function usage and remove code duplication (#323),2021-11-09T22:27:35Z,alethomas
e7086ea4a8fed4da42ed42ba61ed3c0dd3c15aa0,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.3.0 (#276)

* chore: release 0.3.0

* Changed containerized tag to 0.3.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-11-05T13:46:55Z,github-actions[bot]
fa47ebdc9ae28347d5ef0b7419615e165148c915,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update copyright preamble (#315)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-11-05T09:01:09Z,github-actions[bot]
66ab12115814597a569a9662cba51ac679b1a81d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add plot of variants over time (#279)

* feat: add variant plot over time

* fmt

* fmt

* fmt

* Variants-over-time-plot for seperated orfs

* Variants over time: changed orf-filtering

* Changed plot order for report

* fmt

* fmt

* fmt

* Adding orf-names to test-config

* Create df for plot if length greater one

* Adding other orfs to config and plots

* Corrected variable names, added description

Co-authored-by: Ann-Kathrin Brueggemann <ann-kathrin.brueggemann@uk-essen.de>
Co-authored-by: Ann-Kathrin Brüggemann <90249112+AKBrueggemann@users.noreply.github.com>
Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2021-11-03T16:23:55Z,thomasbtf
509860512f819887cfcb15786f127157382d5b29,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"feat: add more voc mutations to config (#314)

* add more voc mutations to config

remove duplication

* change deletion formats

* move voc's before benchmarking block

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-11-02T13:58:48Z,alethomas
3f3910e5722b15adb820453b2d63fde9fafe6326,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 3.1.16 (#313)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-10-30T11:59:21Z,github-actions[bot]
f0eef9d3fb33c5c372c6886903a1b7e827349c81,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: fix link to new pangolin version (#311),2021-10-27T07:49:58Z,thomasbtf
c23690a574a3cb50732898b498ac6e4fb0c2e550,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update pangolin to 3.1.15 (#310)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-10-25T07:54:54Z,github-actions[bot]
2e5212c08604cc4b61704fc07711d00f964078d1,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: add ""snakemake"" in the readme for the Snakemake Workflow Catalog requirements (#309)",2021-10-19T14:03:38Z,thomasbtf
d30f02b756699647bfbdcce802a33442bf324a76,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix: shotgun typo in config.yaml  (#308)

fix typo",2021-10-19T11:45:11Z,alethomas
406aef7ae411cc13ef9b1df3892922862104d01d,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,fix: changed call config file in update-sample-sheet (#307),2021-10-17T17:58:27Z,AKBrueggemann
09976b3b901f224374cc9baa3df1a65eed89822c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add schemes for sample sheet and config file (#278)

* feat: add todo action

* change sample sheets run_id to date

* change RKI-quality-criteria to quality-criteria

* change assembler config

* agg. rki-output in quality-criteria

* feat: add schemes for sample sheet and config file

* fmt

* update sample sheet

* fmt

* adjust .tests config and sample sheet

* rename adapters

* remove minimum-length

* change schemas",2021-10-12T18:07:06Z,thomasbtf
20135333faf2247f2a11e3201d362125de53e3b4,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add workflow catalog yml (#199)

* add workflow catalog yml

* add workflow readme

* docs: update readme and config readme",2021-10-12T18:03:34Z,thomasbtf
e9be78e384d4bdb809e28cfdcf12fea65079afe3,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"ci: fix ci (#306)

* fix python env

* rmv polynomial_fit

* fix jsonschema=3.20

* fix jsonschema=3.2.0",2021-10-12T16:06:11Z,thomasbtf
a5b3b1f1a3a9bd8d62198b0190fa703161bf3b01,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: remove double newline in gisaid simulation (#302),2021-10-01T15:23:50Z,thomasbtf
ac2d8c533f83dbffe1c2e771f52f67e264616477,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"refactor: fasta parser and table writer in rki_report (#301)

* Refactor fasta parser and table writer

* fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-10-01T12:38:40Z,AKBrueggemann
57852d77b8ee129637e23d844543f5e23a2bfcc1,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"refactor: fasta parser and table writer in rki_report (#301)

* Refactor fasta parser and table writer

* fmt

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-10-01T12:38:14Z,AKBrueggemann
738cfafd47c33a37fff19a8cbec7db74abc14aa1,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs: update links in readme (#299),2021-10-01T10:22:12Z,thomasbtf
2da4c7607b560223050195ff8a1a742e63540dd2,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#300)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-10-01T09:14:52Z,github-actions[bot]
6bb32f6cda5cddf6cb598e566bbee9b2af26f190,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add standard reference lineages for kallisto based lineage calling (#280)

* change use-gisaid flag to use-genbank flag

* rmv use-kallisto flag

* add use-gisaid flag

* fmt

* update test config

* fix test config file

* change the old ""use-gisaid"" (now ""use-genbank"") flag back to False

* add testingblock in config

* change testing

* change flag

* add debug statement

* Update common.smk",2021-10-01T07:20:04Z,thomasbtf
6841468f7634d9801108e88f66056205475707fa,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update copyright preamble (#298)

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>",2021-10-01T05:24:22Z,github-actions[bot]
982f997b73fa110babde87cf9bea0406350fb0e7,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add plot of reads needed for sufficient lineage calling (#263)

* add read benchmarkt

* add plotting

* fmt

* add reproduciable selection of lineages

* add ci for read testing

* change number of samples to generate

* adjust plot

* update number_of_reads scale

* update plot notebook

* make lineages unique

* fmt

* update notebook

* fmt

* adjust get_assemblies_for_submission

* fmt

* add if statement for sample check",2021-10-01T05:18:43Z,thomasbtf
a93bc18bae5976bcdb045d8daab6760e03e3a6ea,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"feat: add aggregation rule for publication plots (#275)

* add: new rule for publication plots

* fmt

* add assembler comparison

* fmt

* Update publication-assembler-comparison.rst

Co-authored-by: Alexander Thomas <77535027+alethomas@users.noreply.github.com>",2021-09-30T14:43:28Z,thomasbtf
9af97dc9519d983cde006f425be8d26272a9c50e,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"build: update Pangolin to 3.1.14 (#285)

* Update pangolin to 3.1.14

* trigger actions

* rmv snakemake dependency

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-09-30T14:39:41Z,github-actions[bot]
fb4d3e717bc32dd8d59cf21885001a06b88a7db6,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: update copyright preamble (#297)

* Update copyright preamble

* Update Snakefile

* fmt

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-30T14:33:29Z,github-actions[bot]
c1e44c5ee2ad7c9bd2b9cbf5182616a36c50a38d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,feat: add todo action (#277),2021-09-30T13:54:40Z,thomasbtf
f088b7276675587bc963b6d0d8c31d5495fe0133,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: update paths of copyright preamble (#296),2021-09-30T13:09:08Z,thomasbtf
bb2b66d4d6f470a37f16c0fc2e62061d4a4668bb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: update copyright action (#294),2021-09-30T12:52:18Z,thomasbtf
ef80f67e8b3177d37b8a120687b805e804300065,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: fix newline in copyright preamble (#291),2021-09-30T12:38:53Z,thomasbtf
5d0e22926120acbb396129487bd054bf1ea5588c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"ci: update pangolin action with conventional commit message (#286)

* ci: update pangolin action

* rmv snakemake dependency

* Revert ""Update pangolin to 3.1.14""

This reverts commit 409cf145fce3a2ddce57e1bf0b0efba3472df4f7.

* cleanup",2021-09-30T11:22:26Z,thomasbtf
78b9f51f3fbc78fc040626784b21951cc0bc7948,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,ci: add newline to preamble action (#289),2021-09-30T11:19:54Z,thomasbtf
4d84a8d11614030d0893f5af78c497d03f11758b,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"ci: add action for copyright preamble (#281)

* Add action for copyright preamble

* change to BSD 2-Clause License

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-09-30T09:09:58Z,AKBrueggemann
b5a0903b26d73b33c4ca9cf4495a3f0912c40890,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"docs: add list of tools used (#283)

* add list of tools used

* add wrapper tools",2021-09-30T08:48:06Z,thomasbtf
7794ef1c8e38da89cc7ff333ee1c43a91936c0a9,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs: update pr template (#287),2021-09-30T08:43:12Z,thomasbtf
79a12a8fbecb0a83f263779880f9384cecf57529,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: specify snakemake version used in pangolin env (#284),2021-09-29T09:42:29Z,thomasbtf
8233829467b9cfaa45291225d05a8d6e34da044c,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"feat: comparison of assemblers (#172)

* first init

* add different assemblers

* add new envs

* fmt

* remove assembly benchmark flag

* add compare assemblers benchmark

* add assembler rules and downstream processing

* plotting script

* mv rules to benchmarking.smk

* add abyss env

* fmt

* Update samples.csv

* abyss

* sample sheets

* add assemblers

* amplicon states

* plot assembly comparison

* fmt

* request both quast outputs

* ref

* fmt

* cleanup

* fmt

* fix unintentionally deleted rules

* expand over sample files

* include assembler list

* use expand rules

* cleanup of data structure and plots

* rm samples

* delete sample sheets

* fmt

* fmt

* typo

* collapse rules and add wildcards

* add function for megahit preset

* cleanup code

* fmt

* add wilcard constraints

* fmt

* fix combined plot

* adjust plots

* add git action for assembler comparison

* add assemblers to config files

* run assembly comparison for all samples in sheet

* generalize the main assemblers

* use rule inheritance

* simplify and add of features

* add log

* add log, fix typo

* switch to wildcards instead of just sample

* fmt

* fmt

* fmt

* typo

* fmt

* fix return assembler

* make oder contigs rule dedicated for assembly comp

* remove additional lines

* re-format assembler structure

* re-format assembler structure

* fix

* fix config

* generalize assembler comp for all dates

* fmt

* tmp files

* fmt

* re-fmt

* add lambda

* add wildcards to expand_samples_for_date_assembler func

* change function name to get_samples_for_assembler_comparison

* rmv wildcards arg

* adjust function calls

* sort imports in script

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-23T12:52:07Z,alethomas
07d7a956f4330511555dc9bad763650c2d9d20d3,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.2.5 (#274)

* chore: release 0.2.5

* Changed containerized tag to 0.2.5

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-23T09:18:41Z,github-actions[bot]
b6d126582c630d64341ac18f18c982a584022f7e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: sha tag name (#273),2021-09-23T09:10:08Z,thomasbtf
43464f0eec492eff5e5f3c2396a24ebcc53924f6,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.2.4 (#272)

* chore: release 0.2.4

* Changed containerized tag to 0.2.4

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-23T08:56:00Z,github-actions[bot]
16080de6a68c551698be9be6dbabd441f55befb0,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: add log in to quay registry (#271)

* fix: add log in to quay registry

* fmt",2021-09-23T08:50:37Z,thomasbtf
61bf40bda5831cc70d2566d525775595a40a8a5a,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.2.3 (#270)

* chore: release 0.2.3

* Changed containerized tag to 0.2.3

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-23T07:26:02Z,github-actions[bot]
19129a91fae5a068deb55d5243fc1c47953d5d3c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: update readme to trigger release (#269),2021-09-23T07:10:24Z,thomasbtf
a7e4a9be08c0d593a56f875f34907bdce5111bff,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,update linting (#268),2021-09-23T06:57:01Z,thomasbtf
fc7bc9a790b93b53a0d66986e22682e03048d99e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,change to docker/build-push-action action (#267),2021-09-22T21:07:30Z,thomasbtf
afff64290f61893ff729ec7daaf2548c32cf34b3,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.2.2 (#266)

* chore: release 0.2.2

* Changed containerized tag to 0.2.2

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-22T20:22:20Z,github-actions[bot]
2341a61623d4a905c8ace15363e57db8ada173dd,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: rmv path for buildah (#265),2021-09-22T18:32:27Z,thomasbtf
3c481ff52843eed4d96cd82f0d73fd4f2ce956c6,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.2.1 (#264)

* chore: release 0.2.1

* Changed containerized tag to 0.2.1

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-22T17:10:19Z,github-actions[bot]
d4c1ef6b69439b92932b8398bf1cc8c753f16003,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: container version tag (#262),2021-09-22T16:26:58Z,thomasbtf
c0c4a55059fdd281ee414d7a430ec13237e8a8be,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.2.0 (#260)

* chore: release 0.2.0

* Changed containerized tag to 0.2.0

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-22T15:07:23Z,github-actions[bot]
0de2cc92c75bfa4f69ca48b576a57bd688f539b1,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: maximize build space for container image (#261),2021-09-22T15:01:06Z,thomasbtf
3878c1b0089396e79dac614c09bf3985d74de96b,Ann-Kathrin Brüggemann,90249112+AKBrueggemann@users.noreply.github.com,"feat: adding new rule update_sample to workflow (#254)

* Add pandas.env

* Add pandas.env to rule

* Moved sample_sheet to scripts

* feat: added new rule for sample_sheet update

* fmt

* fmt

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-09-21T14:23:26Z,AKBrueggemann
eeae325134121ee5676932460b57bf6fd7ed2c15,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.8 (#259)

* chore: release 0.1.8

* Changed containerized tag to 0.1.8

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-20T15:41:21Z,github-actions[bot]
e733d2dd1081e632ce39b71cb47d122225011b6d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: add missing path to the Dockerfile job (#258),2021-09-20T15:16:49Z,thomasbtf
73e10b2ac4d60303526d4dd39eded518fcf89fdc,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.7 (#257)

* chore: release 0.1.7

* Changed containerized tag to 0.1.7

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-09-20T15:10:21Z,github-actions[bot]
e722c9f47761ee8734e6e2b9d2235a603ab337ba,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,docs: update PR template (#255),2021-09-20T14:52:30Z,thomasbtf
cb31e92d263dfcdc94675aa3ef8a9274b472654a,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: update snakemake actions for container file (#256)

* chore: release 0.1.6

* Changed containerized tag to 0.1.6

* trigger actions

* fix: change path of container file of build action

* update snakemake action for Dockerfile creating

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",2021-09-20T14:49:50Z,thomasbtf
0a96e8588a9a64fec323233d27caa8e67ad9b7e1,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"style: Add logo and change title (#250)

* Update README.md

add logo

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

* Update README.md

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-09-18T08:47:21Z,alethomas
a09718e635260129e3c9e6a51491b3df36249928,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.6 (#252)

* chore: release 0.1.6

* Changed containerized tag to 0.1.6

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-16T13:22:21Z,github-actions[bot]
1abebcff23ef6c4eb82a414a9a9ceadd84cc0c4d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: change path of docker file (#251),2021-09-16T13:16:27Z,thomasbtf
f73e17efe70f05db8ad30c03077a70a7880f6127,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.5 (#249)

* chore: release 0.1.5

* Changed containerized tag to 0.1.5

* trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-15T15:01:32Z,github-actions[bot]
e859aedea76e37594c6a1070827dbc59c3a69b83,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: add GISAID var to env (#248),2021-09-15T14:17:37Z,thomasbtf
3f39d5e483d38d74f614725684eff47529ca1769,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.4 (#247)

* chore: release 0.1.4

* Changed containerized tag to 0.1.4

* trigger actions

* rmv samples

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-09-15T13:36:03Z,github-actions[bot]
ffca4975410e8e1e6de96f058c907e19bc5ed5d5,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: change "" to ' (#246)",2021-09-14T12:19:13Z,thomasbtf
b459dd9dc2571a2a0bf128e1eb27a818bfc8cb99,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"refactor: release condition (#245)

* refactor: release context and expression syntax

* rmv: if from checkout

* add debug prints",2021-09-14T11:27:18Z,thomasbtf
ad4ae939103629dfad2de4d98bb45030d03c217d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,refactor: release please if statements (#242),2021-09-14T10:15:56Z,thomasbtf
0f5d1e9943956e0b510aa06a4d6a824e39600abf,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"refactor: release pr check (#241)

* add debug prints to release please action

* refactor: relase please pr check",2021-09-14T09:43:36Z,thomasbtf
6c03349983ed7f8672cd16f5d4a56bdd09e88b0f,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,add debug prints to release please action (#240),2021-09-14T08:35:20Z,thomasbtf
b603f11160f668606a1eb547eb26ffbd77f5e2c6,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.3 (#236)

* chore: release 0.1.3

* Changed containerized tag to 0.1.3

* Trigger actions

* chore: release 0.1.3

* Changed containerized tag to 0.1.3

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-13T15:39:42Z,github-actions[bot]
12cc85f672c71361da48b617869582207c5d3f3e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: improve if statement with release check (#239),2021-09-09T11:23:43Z,thomasbtf
2fe0953e5bd5ee241a8d9282bdc52326fd1d3df1,Johannes Köster,johannes.koester@tu-dortmund.de,"refactor: cleanup of rules and scripts (#209)

* cleanup of rules

* fixes and formatting

* fmt

* fmt

* add missing return

* script cleanup

* fmt

* rmv pangolin plots

* fix: index prefix calculation

* fix: add missing bai to masking

* refactor: undo changes as strings are immutable

* refactor: undo changes, as too many values to unpack. Script will be completely refactor anyways.

* fmt

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-09-09T05:04:50Z,johanneskoester
2b94752704a669d0a29d05eab23bb9e8d7d11fc5,AKBrueggemann,90249112+AKBrueggemann@users.noreply.github.com,"fix: add extract gisaid env (#235)

* Add pandas.env

* Add pandas.env to rule",2021-09-08T12:10:56Z,AKBrueggemann
042d0c0baed1c715b3c7aec57e22eca5f67c49e7,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.2 (#233)

* chore: release 0.1.2

* Changed containerized tag to 0.1.2

* chore: trigger actions

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-07T12:10:54Z,github-actions[bot]
301043f7e1b5a913f3b216eaf66640ae79756f67,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: remove pre von relase action (#232),2021-09-06T12:44:13Z,thomasbtf
e9d782dc5db6bd24d097d95f6f945cb02a1ff3aa,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: merge push to quay.io into release please (#231)

* fix: release please if statement

* merge push to release into release please",2021-09-06T09:28:43Z,thomasbtf
12b2e925d558788c69cd66cd61a8b8fbe60afa81,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.1 (#224)

* chore: release 0.1.1

* Changed containerized tag to 0.1.1


Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-01T12:48:30Z,github-actions[bot]
1464ece23a689df6f5c9ef0db3a1252b53612cfc,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: change trigger of registry release action (#223),2021-09-01T10:03:10Z,thomasbtf
881f5d2749984d949e2ce78c052e0d9e4c778ffb,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"chore: release 0.1.0 (#213)

* chore: release 0.1.0

* Changed containerized tag to 0.1.0

Co-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>
Co-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-09-01T07:55:53Z,github-actions[bot]
0003da90e8bf65b34ace990576d4e27f5494330c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: release please rmv double dollar (#222)

* fix: rmv double $",2021-08-31T10:49:56Z,thomasbtf
b348aa7ea1eebf00621ee62c52aca655fa8f4c83,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: release please local PR checkout (#221)

* fix: release please if statement

* fix: replease please local checkout",2021-08-31T09:47:41Z,thomasbtf
41f41d5f21a1f3b1864ee2ad6a1abc8e15a50593,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: release please if statement (#220),2021-08-31T09:38:35Z,thomasbtf
fb84404bad162ebdc939d8a67ed379ea86d77b75,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: release command (#219),2021-08-30T14:41:02Z,thomasbtf
7c646897d2ff69289b85f24a11bb641628e78c86,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: release please command (#218),2021-08-30T14:30:00Z,thomasbtf
20af1dba16d69802a5ed48d453f3a7dc024c26e1,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: change release-please-action (#217),2021-08-30T14:12:23Z,thomasbtf
9140a2916a34e616c39de4c052567c2dbc51bd3d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: relase plase indent (#216),2021-08-30T13:40:20Z,thomasbtf
5d54bb4435d6ac8cdaf696c2b5b991a6ceb49c11,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: release please pr tag (#215)

* change pr checkout",2021-08-30T13:31:29Z,thomasbtf
fa5a9cccf6930058d169ff2e4a8cbab30bde0ad7,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"fix: release please step id (#214)

* fix missing id: release",2021-08-30T13:07:31Z,thomasbtf
c7a9978c8d4439ae77042703b58daa93b416a8a7,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix: change trigger of release please (#212),2021-08-30T12:58:07Z,thomasbtf
f211058ffe0aa8c58b2d35bfb84838ec031b1283,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"chore: release 0.1.0 (#201)

Release-As: 0.1.0",2021-08-30T11:37:03Z,thomasbtf
d8e2957ddf9c0ad294c798753655f85baff3b5a5,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,activate black and fmt (#204),2021-08-27T08:23:06Z,thomasbtf
7c740fbb9b0ca6236adf7bcbad2e11b21526c7b6,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,chore: BSD 2-Clause License (#203),2021-08-27T08:21:35Z,thomasbtf
af92aca51e3a4dc501be560bc910e03802f8c24c,Johannes Köster,johannes.koester@tu-dortmund.de,chore: improve PR template,2021-08-20T19:23:25Z,johanneskoester
08e3f5fdc11518acc7be48ac0210fe3653915ac4,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix release please indent (#200),2021-08-20T11:32:41Z,thomasbtf
69c233dead46fa92f64d3deb2507f7748d5b30cb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Add release action (#171)

* add docker release action

* change to quay.io

* adjust tags

* Update image name

* Update image name

* add contianer badge

* rmv latest push

* rmv debug statements

* add containerized

* add release action

* fmt

* move release into main

* change containerized version

* Update main.yml

* Update publish-release.yaml

* rmv named group

* fix inded

* Update action name

* Update containerized

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* add release-please

* change containerized format

* add change of containerized version

* rmv comments

* fmt

* add pr template

* add pr number check

* add lint pr

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-08-20T08:43:07Z,thomasbtf
89ad20b7047b12b535053acb329e243b3c6bf255,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Link to outbreak.info (#197)

* add snakemake env for report

* change link to outbreak.info

* Update report-table-formatter.js",2021-08-20T07:40:46Z,thomasbtf
bf067891672c8b2579ee89df5dde4f7a02ca2468,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,make reference files adjustable (#198),2021-08-19T14:51:53Z,thomasbtf
aa871843d0f7db01b4a177707de47fb228fc1d77,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Adjust lineages plot (#196)

* change to stacked bar chart and percentage

* fmt

* Change ""share"" to ""fraction""",2021-08-17T12:10:55Z,thomasbtf
7727efa32474de316262425f1c8d394aaf8432a9,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update Pangolin to 3.1.11 (#195)

* Update pangolin to 3.1.11

* trigger actions

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-08-17T08:20:04Z,github-actions[bot]
6282006c98bc4f2db7c365463e64cb085d61f585,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update Pangolin to 3.1.9 (#193)

* Update pangolin to 3.1.9

* trigger run

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-08-06T08:55:37Z,github-actions[bot]
73e0ece498d9c685e485cb186fd3630db8f1bdaf,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update Pangolin to 3.1.8 (#192)

* Update pangolin to 3.1.8

* trigger rerun

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-08-04T12:27:45Z,github-actions[bot]
510be57f4117cd242dc6d714fb195a88ab1da245,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,update naming of subsection (#191),2021-07-19T08:47:16Z,thomasbtf
fc57681fae6e9f10edd83f68cdd7365852d988a9,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,update kallisto per sample plot (#189),2021-07-19T06:07:01Z,thomasbtf
9ed4de89b6b07375386c82958c698bcc25d3a997,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,update rbt (#190),2021-07-16T19:05:20Z,thomasbtf
ecaa9df97a5b849e029f314b94aadf38ce70428f,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update Pangolin to 3.1.7 (#188)

* Update pangolin to 3.1.7

* trigger test

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-07-16T16:06:50Z,github-actions[bot]
dfac31f47a2f5fcba46597e5e32a0aebb188f6e0,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Add execution time measurement script (#187)

* add time script

* change to 11 iterations, b.c. setup time in first iteration

* add samples",2021-07-16T15:04:10Z,thomasbtf
414b4daedca2b18207c9d24e7832f49f6c51836d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Add plot for share of called PANGO lineage in sample (#181)

* create output folder, if not exist

* fmt

* add plot

* fmt

* activate plot

* fmt

* Update env",2021-07-14T16:01:07Z,thomasbtf
5c0b1dc2c6ac4854c5f89f7607bd96d7f37d1018,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,add log for snakemake reports (#186),2021-07-12T14:54:54Z,thomasbtf
8bd1859b9e60794400372220bbdcc946e6815fcd,github-actions[bot],41898282+github-actions[bot]@users.noreply.github.com,"Update Pangolin to 3.1.6 (#184)

* Update pangolin to

* trigger rerun

Co-authored-by: thomasbtf <thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-07-12T14:21:49Z,github-actions[bot]
d8fcc58d1876a70459571bf19e99512a7dd2c9c3,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Add plot of lineages development over time (#183)

* add plot

* integrate in report

* fmt

* change report

* change width and legend

* add missing comma

* add.csv table with all samples

* mv csv writing to unedited point

Co-authored-by: alethomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <alex.thomas89gmail.com>",2021-07-12T13:49:18Z,thomasbtf
f0ef0b69805f1b137715954e84b546613dab1534,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,change to correct env variable (#185),2021-07-12T13:10:40Z,thomasbtf
ae1321edb86474957412889ffcd83906ab777216,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Activate kallisto output in report (#182)

* activate kallisto

* fmt",2021-07-12T12:27:41Z,thomasbtf
de3fb287cf4ca2b006cd27199431a2d4d9a4c427,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,activate_NC_004718 (#179),2021-07-12T10:23:04Z,thomasbtf
b48caf6a299f5bf97dec99bc9162681765acee3b,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Add statistics for pangolin calls synth samples with 1 strain (#180)

* create output folder, if not exist

* fmt

* add table and plot for sim. strains based in 1 reference for pangolin

* fmt

* Rmv unnecessary params

* Add comments",2021-07-12T09:27:05Z,thomasbtf
1294d624b188cf4eaaec2763f7318bda775dd6c8,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Fix extraction of genomes from GISAID (#178)

* create output folder, if not exist

* fmt",2021-07-12T08:57:01Z,thomasbtf
02a8d83b4b23d769edcf1dca056fd7479ac60643,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Add action to create PR to update Pangolin if new release is available (#177)

* add pangolin update action

* fix typo",2021-07-04T07:14:51Z,thomasbtf
73728fe743001170bc28faa0f6dfa3ca40862fb7,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Summarize length of all reads (#175)

* add script and rule

* change max reads for mason to generate

* fmt",2021-07-02T14:21:21Z,thomasbtf
64ff1e3301ee60781bea0c68a05edab9dd79544c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Update pangolin to 3.1.5 (#173)

* Update pangolin to 3.1.5

* Fix typo

* change worklow for new table structure

* rmv SNPs

* add todo hint

* rmv debug print

* assume that scorpio_support is probaility

* rmv debug prints

* add more renaming

* add missing key",2021-07-01T12:55:08Z,thomasbtf
97f65d9e50c9757a6e5bc8992f466ddf0f81ea4d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Strain caller benchmarking with mixtures (#101)

* Update LICENSE

* Obtain strain seqs (#1)

* generalize get_genome to retrieve arbitrary accessions

* add rule to retrieve accessions

* Trimming (#4)

* add read trimming

* fixes

* Update vcf-report (#6)

* Update js template for rbt v0.17.0

* Update rbt version and report call

* activate report (#8)

* Kallisto (#10)

* first steps sourmash gather

* Add sourmash.yaml

* Add helper for genome download

* Mod. for use of Folkers files

* Modified genome path

* Removed sourmash search

* chang of download no

* remove singelton flag

* Add Johannes covid files

* Add comment and red. no.
samples

* Removed old code

* Add TODOs, smash search, fix gather

* Add comment

* Update TODO comments

* Fix TODO list

* Update TODOs

* download strain accessions if not there

* singletin flag needed?

* excluded cat_trimmed_samples, icluded merged reads

* limit strain genomes, formatting, linter fixes (missing log files)

* refactor main genome path

* limit to 10 genomes for testing

* limit to one strain genome

* latest github action

* squeeze accession dataframe into series.

* add benchmarking functionality

We simulate reads from given strains, and check whether sourmash determines the correct strain again.
In the future, we will further check the correct abundance by simulating mixtures.

* fix check for main genome

* fix get signatures

* check benchmark results

* fmt

* make min match threshold configurable

* fixes

* fmt

* more configurability

* Call strains using Kallisto. Reporting.

* fix filenames

* fmt

* fix wildcard constraint, temporarily deactivate VCF report until intergenic calls are properly displayed.

* limit number of cores

* limit ncbi api requests

* add instructions to readme.

* set min-fraction to 2%.

* fix benchmark evaluation logic in github action

* fmt

* add assembly.smk and dependencies (#12)

* fmt

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <77535027+alethomas@users.noreply.github.com>

* add .dockerignore (#15)

* Move js into separate file (#16)

* Split js template

* Improve js

* Combine js file params

* Use format

* Format

* Add missing comma

* pangolin rule, envs, snakefile (#21)

* pangolin rule, envs, snakefile

* Update pangolin.yaml

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* allow definition of custom strain sequences (#18)

* allow custom strain sequences

* trigger rebuild

* plot overview of all called strains (#22)

* fastp_trimming (#14)

* add an adapter db file

* make adapter db available

* add rule to get adapters (unfinished)

* add fastp instead of cutadapt (unfinished)

* fixed trimming

* unfinished get_adapters

* snakefmt

* remove wrong adapter calling

* add adapters to config/config.yaml and .test

* call adapters from config

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use rbt 0.18 (#19)

* use rbt 0.18

* fmt

* integrated pangolin calling (#23)

* integrated pangolin calling

* Revert ""Merge branch 'master' into integrate-pangolin-calls""

This reverts commit 76cfb06d5e158ef6fce5705f7054f27a6b380952, reversing
changes made to 5726850ddc2aa53b338c9cfd6c806095d946ad8d.

* fix benchmark

* plotting

* fmt

* manually merge in changes from master that have been accidentally reverted here.

* fmt

* fixes

* plot all pangolin strains

* fmt

* add caption

* fixes

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

* fixes from production branch (#25)

* fixes from production branch

* fmt

* define container (#28)

* define container

* add testcase

* raGOO & Quast (#26)

* add ragoo env

* rmv ragoo yaml

* add raGOO rule

* fmt

* fmt

* add viz

* change pangolin input to ordered_contigs  from assembly

* add env

* fix

* fix

* add quast for vis

* move ragoo contigs for easy pangolin access

* fmt

* add channels in env

* quast output per sample

* integrate move into ragoo rule

* fix quast

* Polish with varlociraptor (#29)

* polish assembly with varlociraptor

* fmt

* fix log file output of quast

* fmt

* configure action

* add bcf index

* fix path

* fmt

* only test if formatting and linting pass

* fix quast

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* add rule to exclude chr0 contigs from ragoo ouput (#30)

* add rule to exclude chr0 contigs from ragoo outout

* fmt

* added skeleton code for benchmarking the assembly (#17)

* added skeleton code for benchmarking the assembly

* add minimap2 yaml

* finish summarize assembly results rule

* fix minimap2

* unsuccessful assembly fix

* create of assembly benchmark notebook

* fmt

* add benchmark assembly

* add force flag

* update gitactions

* fmt

* integrate the right trimming

* fmt

* update notebook

* update notebook

* update notebook

* update python env with pysam

* change check assembly git action

* create pysam env

* update env

* activate snakemake

* python file instead of notebook

* update notebook

* Increased number of simulated reads (this should improve the assembly quality)

* trigger rerun

* Add two more indices (# of contigs & smallest cov)

* fix snakemake usage

* increased number of simulated reads

* change eval. criteria of git action

* fmt

* trigger rebuild

* Cleanup unused file.

* git actions typo fix

* change < to -lt

* use polished assembly for benchmarking

* fix git action

* fix path of assembly.csv summary

* trigger rebuild

* Fixed assembly benchmark evaluation (do not consider substitutions where the reference contains an ambiguous base). Fix polishing to use variant calls against proper reference.

* Do not count edit distance in regions that are already uncertain in the reference used for read simulation. Fix strain accession list for testing.

* rename output files

Co-authored-by: thomasbtf <thomas.battenfeld@gmail.com>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <77535027+alethomas@users.noreply.github.com>

* use polished contigs for pangolin (#33)

* add-flagstat-qc (#32)

* add co assembly rule

* added indexing

* add alignment to reference

* added another example

* added combined package für co assembly

* added package for co assembly

* full workflow for vcf and consensus seq

* fmt

* implement rule for automatic calling

* fmt

* remove redundant rule

* add logs

* fmt

* infos

* add flagstat to qc

* fmt

* Update workflow/rules/qc.smk

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* delete not needed envs

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* Update rust-bio-tools version (#34)

* Remove empty lines from linkouts

* Update to latest rbt version

* change docker image (#31)

* update varlociraptor to 2.6.1 (#36)

* Fix annotation, add annotation based filtering (#37)

* fix annotation by using the ensembl gtf, containing correct biotypes

* add filtering with vembrane

* fixes

* fmt

* configure filters

* escape regex words

* add nofilter wildcard to assembly based calling.

* remove human contamination (#35)

* add kraken and krona

* include of several modules in multiqc

* add multiqc config

* clean up snakefile

* fmt

* add rule to align reads against human reference

* add rule to download human genome

* fix download

* fmt

* human genome filtering

* update extract unmapped reads

* update multiqc config

* remove eukaryote quasts eukaryote flag

* add resources to minimap alignment against human

* add fq2 to fastqc

* fmt

* newer version of fastqc wrapper

* change std printouts

* switch to human filtered reads

* change std stream

* fmt

* add human filtering to all

* format std flow

* fmt

* fmt

* fix final.contigs.fa to {sample}.contigs.fa

* fix sample

* fmt

* undid ""fix""

* deactivated crona charts output (some problem with downloading the taxonomy)

* add multiqc config to .tests

* mod git actions: download ftp files before running the workflow

* update mamba in git action

* add channel for mamba

* change syntax

* change syntax

* update multiqc

* Update multiqc config

* Update main.yml

* Update main.yml

* trigger rerun

* Update main.yml

* Update main.yml

* Use 8GB db and no maximize-build-space action

* Update main.yml

* Don't use whole human genome in test action

* rmv data samples

* use bwa for alignment

* use chr21 for testing

* use master of bio/vep/annotate

* reduce no. of strain genomes to test

* Update variant_annotation.smk

* Update workflow/rules/qc.smk

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* renaming contigs into reads

* fmt

* trigger rerun

Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* update to latest rbt (#43)

* update to latest rbt

* mark output files as temp

* temp files and formatting (#44)

* temp files and formatting

* more temp files

* Script for sample sheet update (#52)

* update gitignore

* add script to process incoming data and update sample sheet

* add function to get samples from latest run

* update readme

* Pangolin update rule (#56)

* update pangolin env from 2.1.7 to 2.2.2

* add rule to run pangolin --update every run

* Pangolin fix (#63)

* change pangolin to 2.2.1

* update pangolin via git and not by running --update

* fmt

* use gisaid strain genomes (#64)

* Handeling of not assemblable samples (#69)

* add rules to handle not assemblable samples

* fmt

* add Picard and Kallisto to MultiQC (#70)

* Improve GitHub workflow (#71)

* change to actions/checkout@v2

* use 2 cores

* get report to examine runtime of rules

* update caching

* update caching for benchmarking

* add caching of .tests/.snakemake

* add test data to benchmarking

* add hashing of .snakemake/conda

* change permission for caching

* change reporting target of benchmarks

* update hashFiles

* temp disable testing

* fastqc test

* use wildcard

* trigger rerun

* add unit tests

* change threads of pangolin to 1

* trigger rerun

* add hash in key for .tests/data and .tests/resources

* fix hash

* disable unit tests

* change add .tests/.snakemake/conda to cach path

* change to .tests/.snakemake/conda/

* add *.yaml

* change key structure

* add caching result

* split cach

* change key structure

* disable -R commands

* trigger rerun

* split caching also for benchmarking

* trigger rerun

* trigger rerun

* parallelization test and benchmarking

* change what to cach

* update job names

* fix indentation

* fix indentation

* trigger rerun

* trigger rerun

* add testing as needs

* update cache key

* rmv needs testing

* trigger rerun

* matrix test

* add caching results for all rule

* fix id of cache results

* add '' to if

* udate rule

* update matrix

* update report

* get runner disk space

* update rule

* add date

* trigger rerun

* incl. check in matrix

* update names

* trigger rerun

* add benchmark_strain_calling

* trigger rerun

* add -f flag

* lint test

* Revert ""lint test""

This reverts commit 967026e2d5b2fd9245d448a1c6ae45b4a1d2eee9.

* change to -F

* update cache resource path

* add tree

* rmvd double id

* add trees

* add tree flags

* update tree params

* use only selected genbank genomes for benchmarkung

* fmt

* change selection of strain genomes

* fix

* trigger rerun

* update keys

* trigger rerun

* add singularity

* -R `snakemake --list-input-changes`

* add space

* remove `

* test       - name: snakemake --list-input-changes
        run: snakemake --list-input-changes

* use sm action

* add if

* update key

* trigger rerun

* rmv testing

* add testing back

* trigger rerun

* trigger rerun

* add step to cancel running jobs on previous commits. (#75)

* add step to cancel running jobs on previous commits.

* Update main.yml

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* add 2nd, separate dependency cache for benchmark (#76)

* add 2nd dependency cache for benchmark

* fix syntax error

* trigger rerun to see improvments

* Integrate postprocessing (#66)

* output rule for diff cases

* correct test

* fmt

* changed format for csv

* change path and move script

* add min length to config

* change to generate all date based reports

* fmt

* fmt

* trigger rerun

* Update config/pep/samples.csv

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* add combined reference

* fmt

* update samtools

* fmt

* copy from standard config

* fmt

* cleaning code

* corrected alignment filtering

* fmt

* fmt

* Change Samtools flag from 2 to 1

* edit to new format

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Combine references (#73)

* add combined reference

* fmt

* update samtools

* fmt

* update quast before --min-contig to 1

* test with only human ref

* rmv samtools

* Revert ""test with only human ref""

This reverts commit 120e43208448f052c637fc1afe4d691d891b6ca2.

* Revert ""rmv samtools""

This reverts commit df92aaf1ca84e32745c16fa6bf90f56b8b6d579a.

* change samtools view flag for NC_045512 from 2 (PROPER_PAIR) to 1 (PAIRED)

* change filtering alignment

* change filter

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: alethomas <alex.thomas89@gmail.com>

* add if statement for cancel previous jobs (#79)

* skeleton/extract-reads-of-interest (#77)

* add skeleton code

* cleanup

* integrate script for extracting rof

* fmt

* change naming for git testing

* change naming for git testing

* correction

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* RKI quality criteria (#74)

* add Picard and Kallisto to MultiQC

* add reads qc an config

* add diff. btw illumina and ont

* add script for filtering

* fmt

* fmt config

* add try/except for not assemblable samples

* update test config

* add skeleton code

* cleanup

* integrate script for extracting rof

* fmt

* integrate filter before rki report generation

* add filter possiblity to get_samples_for_date

* add temp flag for txt

* clean code

* update logging of rki output

* fmt

* change naming for git testing

* rmv _nonhuman

* Update samples.csv

Change fq2 read from ERR4861412_1 to ERR4861412_2

* update key if cache

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: alethomas <alex.thomas89@gmail.com>

* date differentiation by sample in results and logs folder (#81)

* add date wildcard

* change storage of large bwa indices and fmt

* activate storage of large indices

* adjust benchmarking to changes folder structure

* update move script

* activate vcf-report

* rmv countlist

* multiqc and rki results per run

* storage pangolin db in corresponding results

* change gitactions according to changed folder structure

* change all of vcf-report

* fmt

* update .gitignore (#82)

* update .gitignore

* trigger rerun

* fix plot of all calls for run (#83)

* add rule to create snakemake reports per run (#85)

* fix plot of all calls for run

* add new rule

* change outout of ""all"" plots to avoid ambiguity

* fmt

* add param for testing

* fmt

* add --unlock

* change to --nolock

* save results rule (#84)

* add first steps

* add rule to save results of latest run to archive

* add subcategory for kallisto calls (#87)

* obtain total counts from fastq, and report unmapped reads in kallisto based abundance estimations (#91)

* non-sars-cov-2 test case (#90)

* add test cases for non-sars-cov-2 genomes

* add test case to github actions

* add rule for report

* fmt

* deactivate test of non sars cov 2

* change ""is sars-cov-2"" to ""assembly failed""

* add accessions to params

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use zip with params

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use zip with params on kallisto

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* handover params to functions

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* agg into benchmark.smk and small fix

* activate github actions for test_non_cov2

* Update main.yml

Print kallisto calls

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* masking for RKI (#96)

* add rule to determine coverage with samtools

* add pysam script

* housekeeping and fmt

* add Allel freq masking

* small fix of log

* fixes

* comments and fmt

* generalized quast rule

* update coverage plot

* add .rst for plot

* use masked contigs for rki report

* fmt

* Update mask-contigs.py

* first rules

* add mixture rule and add evaluation script

* add option to use predefined and not rnd mixtures; add rmse

* add plot

* add temp flags

* integrate automatic virologist output generation (#88)

* add script

* integrate automatic virologist output generation

* push csv into snakemake html report

* add pandas to pysam env and add env to rule

* preparation for initial contig check

* updated rbt version

* include more fields in viro table

* add initial contig

* fix and expand viro output

* make important files non temporary

* generate csv and html output for snkmk report

* fmt

* fmt

* formatting table

* add try and except to pass git tests -.-

* fmt

* change githun actions

* change githun actions

* move voc to config

* format and clean script, use voc from confid

* fmt

* fmt

* reactivate report

* Delete extract-protein-alterations.py

* hash multiple variants

* Update config/pep/samples.csv

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* provide vcfs for the ucsc genome browser (#99)

* provide vcfs for the ucsc genome browser

* add some temp flags to free disk space

* undo 'add some temp flags to free disk space'

* add github action job to free up some disk space one the runner

* fmt

* change structure of snakemake report (#98)

* change structure of snakemake report

* add workflow.rst and custom sytle sheet

* add custom stylesheet for tests

* activate coverage plot

* header renaming

* fixes

* add H69_V70del (#103)

* add custom stylesheet (#102)

* add heatmap

* do not mark recalibrated read alignments as temporary (#104)

* add regression

* fmt

* split outpur

* generlize rule

* Allow to configure the workflow for amplicon data (#105)

* add column

* latest super-linter

* special handling of benchmark samples

* handle non-cov2-testcase

* add param to shell command

* add new sample sheet to test config

* add additional adapters

* add additional adapter acces (unfinished w/o auto)

* add new adapters to test config

* change varlociraptor version

* new

* back to old version (new not yet available)

* new varlociraptor version 2.6.4

* Update varlociraptor.yaml

Co-authored-by: alethomas <alex.thomas89@gmail.com>

* bamclipper and plot for read coverage (#109)

* add rule

* fmt

* add new adapter

* change from polished to ordered contigs

* no temp flag

* correcting log parsing

* add MN908947

* add plot for coverage of reads for main genome

* fmt

* changes for test

* add function to get correct bam

* undo some changes

* reduce super linter version to pass formating

* use nonhuman-reads, not clipped for megahit

* rename clip rule

* add logging for bamclipper

* use correct reads for kallisto

* fix is_amplicon_data

* use different adapters for trimming

* add reference to config

* fmt

Co-authored-by: alethomas <alex.thomas89@gmail.com>

* Fixes from production on c59 (#107)

* change download of pangolin data to wget; svn has problems with the proxy

* add anaconda channel for download of altair_data_saver dependency

* fmt

* trigger rerun

* Change super linter version

* Metaspades (#114)

* add metaspades assembly

* add functions and switch

* add read counts and move for viro report

* reintegrate viro report

* integrate function to have access to either assemb

* reconfigure used files

* fmt

* reactivate report

* formatting

* generalize assembly rules and read count

* rename .fa > .fasta

* adjust functions for amplicon flag

* use generalized functions to call assembled cont

* add samples from snakemake params

* fmt

* remove print

* dynamic assembler link

* both assembler links

* param for dynamic assembler link

* exclude results

* rmv subprocess

Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* renaming

* more renaming

* add MIXTURE_PREFIX

* Upload logs as artifacts (#115)

* add MIXTURE_PERCENTAGE_INDICATOR variable

* linting fix

* fmt

* add to benchmark_strain_call_error to github actions

* add placeholders for gisaid data

* update get_genome_fasta context manager

* move context manager

* fmt

* add percentage indicator variable

* update test config

* Add formatter to qc report (#108)

* Add formatter file for csv-report

* Reformat variants of interest column for csv-report

* Update rbt version

* Add formatter to qc_html_report

* Remove multiple columns

* Update rbt.yaml

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Use js format and multiline strings

* Show alteration for variants of interests column

* Use helper function to reduce lines

* Fix split statement in generate_virologist_output.py

* Simplify if-elif construction

* Directly iterate over values of dictionary

* Add debug print

* Fix split statement

* Fix split statement

* Remove escaped double quotes

* Remove column drop of other variants

* Add debug prints

* Some refactoring and more debug prints

* Fix for refactoring

* Fix wrong table initialization

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: Felix Wiegand <fxwiegand@wgdsrv>

* change mixture separators

* change mixture separators

* adjust agg and plot scripts

* Workaround: explicitly add mkl as a dependency to the rbt env (#116)

* fix random mixture generation

* split generating of mixtures and expand for callers

* Separate genes by comma (#118)

* Separate genes by comma

* Remove trailing comma

Co-authored-by: Felix Wiegand <fxwiegand@wgdnet.de>

* Report polishing (#119)

* Remove special variant table, adjust categories.

* fmt

* remove obsolete output file

* remove obsolete file

* Fix preprocess to use amplicon flag, exclude empty files, check for duplicates (#120)

* discard empty files + add amp flag

* add check for empty files, duplicates and amp flag

* fmt

* add 3rd plot

* linting

* fmt

* fix typo

* remove whitespaces in strain fastas

* add try / except for short dfs

* agg evaluate strain call errors scripts

* fix typo

* change github action key for resources

* Update report-table-formatter.js (#122)

* polish link styling in table (#124)

* polish link styling in table

* [ci skip] remove trimming, which is anyway unnecessary

* SV calling (#123)

* add structural variant calling with delly

* extend vartypes

* fix input file pattern

* only call small variants in case of assembly polishing

* fix input file name

* updated GISAID data and extraction script (#125)

* output empty BCF in case there are not enough reads for delly to estimate library parameters (#127)

* output empty BCF in case there are not enough reads for delly to estimate library parameters

* add index, add header line

* fix header information for arbitrary reference genomes

* do not format numbers as strings in qc table (#126)

* make sure to exit after writing empty bcf in case of too few reads in sample (#129)

* Integrate pangolin lineages into virologist report (#117)

* Add download rule for pangolin lineages

* Read lineages in generate_virologist_output.py

* Use tar instead of unzip

* Download repo as tar.gz instead of zip

* Strip alterations

* Check if pangolin data contains alterations for lineages

* Fix key error

* Add debug prints

* Remove wrong pop() call

* switch to B.1.1.7 test sample

* Revert ""switch to B.1.1.7 test sample""

This reverts commit 966848645515cee819f3e814b56b151d3eb5d374.

* modify one test genome for simulation to be B.1.1.7

* Revert ""modify one test genome for simulation to be B.1.1.7""

This reverts commit cc63134292d9dda0beb3be7d7b131473d1b3e028.

* Add test sample in generate_virologist_output.py

* Add formatting for pangolin lineages

* Minor js fix

* Add popover activation and debug print

* Remove href=""#""

* Make table in popover scrollable and set fixed size

* Add href=""#""
This works with role=""button"" in Safari

* Fix adding variants multiple times

* More fixes

* More minor fixes

* Move statement out of for loop

* Do not display (0/0)

* Update column title

* Display allele frequency after checkmark

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Remove horizontal scrolling in popover

* Add overflow-y: auto to all popovers

* Minor table styling

* Set max-width to none

* Use template for styling popover

* remove debug code

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Revert ""Integrate pangolin lineages into virologist report (#117)"" (#130)

This reverts commit c7698de52d782d9df369d8884919e04faf055238.

* rbt 0.20.4 (#132)

* pangolin v2.3.8 (#133)

* change to B.1.1.7 test reads (#137)

* change to B.1.1.7 test sample

* add placeholder in sample sheet

* Fix downloading B117 reads (#140)

* disable caches (#141)

* disable caches

* check for emptyness of efetched file

* fix filenames

* Pin sample column of qc report (#138)

* Pin sample column of qc report

* Remove minor version of rbt

* Update rbt.yaml

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Fix dry run by moving shell command into script (#121)

* add bcftools

* switch to script instead of shell

* script to fix dry run

* fmt

* updated rbt version

* change rbt version

* switch to snakemake shell

* add dryrun test flag

* add if statement for report test

* fmt

Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* move benchmarking rules to snakefile

* Update plot-caller-error.py

* Update readme (#146)

* update readme

* fix amplicon clipping (#145)

* update samples

* update gisaid meta and sequence data

* change back to older gisaid data

* fixes

* add samples from 2021-03-19

* add sample from 26.03.2021

* remove 38000

* add samples from 06.04.2021

* add samples from 06.04.2021

* add critcal samples

* add samples from 16.04.2021

* add samples from 24.04.2021

* include hard clipping for amplicon primers

* fmt

* correcting the hardclipping

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* change ""../logs/"" to ""logs/"" (#150)

* Integration of GISAID API for the use of the latest strain genomes (#148)

* switch from file to API

* adjust strain fasta und kallisto index

* comments

* fmt

* add api key placeholder

* add placeholder for key

* change to env var

* fmt

* add env vari to lint action

* change to env context, use env variable directly

* add space

* add use kallisto flag

* fmt

* Pseudoassembly (#156)

* implement pseudoassembly

* fmt

* Add wildcard {assembly_type} to log

* fixes

* handle unexpected alleles

* mask low depth regions as uncertain

* add log

* use latest snakemake action

* set minimum snakemake version

* add parent folder for assembly analysis

* adapt events

* remove temp file

* fix variable name

* fix sets

* fix args

* fixed seq masking

* low coverage

* fix obtaining probability

* fix access

* fix attribute access

* fix if case

* fix iupac handling

* unpack into single base

* do not add seq if next variant is a next position

* fix last_pos

* consider hard clips

* check benchmark results

* latest varlociraptor release

* fix paths

* fixes

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* Handle multiple records at same position: ignore subsequent after the first was accepted (#158)

* implement pseudoassembly

* fmt

* Add wildcard {assembly_type} to log

* fixes

* handle unexpected alleles

* mask low depth regions as uncertain

* add log

* use latest snakemake action

* set minimum snakemake version

* add parent folder for assembly analysis

* adapt events

* remove temp file

* fix variable name

* fix sets

* fix args

* fixed seq masking

* low coverage

* fix obtaining probability

* fix access

* fix attribute access

* fix if case

* fix iupac handling

* unpack into single base

* do not add seq if next variant is a next position

* fix last_pos

* consider hard clips

* check benchmark results

* latest varlociraptor release

* fix paths

* fixes

* handle multiple records at same position

* fix low coverage handling

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* handle none probabilities (zero coverage loci) (#160)

* handle none probabilities (zero coverage loci)

* add global flags, add check ""DP"" if is None

* add logging, fix sample name

* add sample param to rule

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

* Clean up generation of table report (#144)

* clean up generation of table report, modify config file to list the protein in addition to the VOCs.

* report table name

* add bc to github actions env

* small fixes in script

* activate stdout

* Move bc to snakemake env

* rmv bc

* pangolin fmt and type casting

* fix kraken join, rmv stdout redirection

* table header fmt

* fmt

* Change pin from ""sample"" to ""Sample""

* float fmt

* handle duplicate variant calls

* add comment

* fmt

* only cast int columns

* Update report-table-formatter.js with new headers

* change dtype to int and add .items()

* add k-seperator

* fix rendering of vocs

* minor

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

* linting & fmt

* Compare assemblies (#161)

* add comperison of assemblies

* fmt

* integrate comparison

* add missing comma

* rmv print

* Use pseudo-assembly fallback in RKI output, QC overview table and … (#163)

* use pseudo-assembly fallback in rki output, qc overview table and pangolin calls

* fmt and log fix

* contig renaming & path fix

* exclude benchmarking

* fmt

* fix ragoo cd

* add some debug prints

* clean up github actions

* fix load data

* change path of test for non-sars-cov-2 test

* Fix typo

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Change to elif

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Fix typo

* Change to elif

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* fix paths

* add peseudo contig length, fix use for rki submission

* fmt & change order of columns

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* update github actions

* change test-cases to benchmarking

* fix InputFunctionException by poviding date

* fmt and debug prints

* add other missing date statement

* fix extraction from gisaid

* add missing input file to rule generate_mixtures

* fmt

* rmv double space

* mod. github action

* fix curl

* adjust path

* add removal of curls last line

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: Felix Wiegand <fxwiegand@wgdnet.de>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <77535027+alethomas@users.noreply.github.com>
Co-authored-by: Felix Wiegand <fxwiegand@gmail.com>
Co-authored-by: Felix Wiegand <fxwiegand@wgdsrv>",2021-06-25T07:45:13Z,thomasbtf
b136c1c4cde9de56b74f1d40faf87d91fd5aa84a,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"Switch numbering, RKI submission last (#170)

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-06-24T06:13:07Z,alethomas
7f5a9b563464cc220f561e73cda54b62ee89459d,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,Update Snakemake version in readme (#169),2021-06-21T13:06:17Z,thomasbtf
93157f32c3a0f0252380743ef9d0be5ef7ed2468,Johannes Köster,johannes.koester@tu-dortmund.de,fmt,2021-06-07T13:51:07Z,johanneskoester
61640d59c2c606c514866835f4d346022b1a6076,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"Plot primer clipping (#165)

* Update LICENSE

* Obtain strain seqs (#1)

* generalize get_genome to retrieve arbitrary accessions

* add rule to retrieve accessions

* Trimming (#4)

* add read trimming

* fixes

* Update vcf-report (#6)

* Update js template for rbt v0.17.0

* Update rbt version and report call

* activate report (#8)

* Kallisto (#10)

* first steps sourmash gather

* Add sourmash.yaml

* Add helper for genome download

* Mod. for use of Folkers files

* Modified genome path

* Removed sourmash search

* chang of download no

* remove singelton flag

* Add Johannes covid files

* Add comment and red. no.
samples

* Removed old code

* Add TODOs, smash search, fix gather

* Add comment

* Update TODO comments

* Fix TODO list

* Update TODOs

* download strain accessions if not there

* singletin flag needed?

* excluded cat_trimmed_samples, icluded merged reads

* limit strain genomes, formatting, linter fixes (missing log files)

* refactor main genome path

* limit to 10 genomes for testing

* limit to one strain genome

* latest github action

* squeeze accession dataframe into series.

* add benchmarking functionality

We simulate reads from given strains, and check whether sourmash determines the correct strain again.
In the future, we will further check the correct abundance by simulating mixtures.

* fix check for main genome

* fix get signatures

* check benchmark results

* fmt

* make min match threshold configurable

* fixes

* fmt

* more configurability

* Call strains using Kallisto. Reporting.

* fix filenames

* fmt

* fix wildcard constraint, temporarily deactivate VCF report until intergenic calls are properly displayed.

* limit number of cores

* limit ncbi api requests

* add instructions to readme.

* set min-fraction to 2%.

* fix benchmark evaluation logic in github action

* fmt

* add assembly.smk and dependencies (#12)

* fmt

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <77535027+alethomas@users.noreply.github.com>

* add .dockerignore (#15)

* Move js into separate file (#16)

* Split js template

* Improve js

* Combine js file params

* Use format

* Format

* Add missing comma

* pangolin rule, envs, snakefile (#21)

* pangolin rule, envs, snakefile

* Update pangolin.yaml

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* allow definition of custom strain sequences (#18)

* allow custom strain sequences

* trigger rebuild

* plot overview of all called strains (#22)

* fastp_trimming (#14)

* add an adapter db file

* make adapter db available

* add rule to get adapters (unfinished)

* add fastp instead of cutadapt (unfinished)

* fixed trimming

* unfinished get_adapters

* snakefmt

* remove wrong adapter calling

* add adapters to config/config.yaml and .test

* call adapters from config

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use rbt 0.18 (#19)

* use rbt 0.18

* fmt

* integrated pangolin calling (#23)

* integrated pangolin calling

* Revert ""Merge branch 'master' into integrate-pangolin-calls""

This reverts commit 76cfb06d5e158ef6fce5705f7054f27a6b380952, reversing
changes made to 5726850ddc2aa53b338c9cfd6c806095d946ad8d.

* fix benchmark

* plotting

* fmt

* manually merge in changes from master that have been accidentally reverted here.

* fmt

* fixes

* plot all pangolin strains

* fmt

* add caption

* fixes

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

* fixes from production branch (#25)

* fixes from production branch

* fmt

* define container (#28)

* define container

* add testcase

* raGOO & Quast (#26)

* add ragoo env

* rmv ragoo yaml

* add raGOO rule

* fmt

* fmt

* add viz

* change pangolin input to ordered_contigs  from assembly

* add env

* fix

* fix

* add quast for vis

* move ragoo contigs for easy pangolin access

* fmt

* add channels in env

* quast output per sample

* integrate move into ragoo rule

* fix quast

* Polish with varlociraptor (#29)

* polish assembly with varlociraptor

* fmt

* fix log file output of quast

* fmt

* configure action

* add bcf index

* fix path

* fmt

* only test if formatting and linting pass

* fix quast

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* add rule to exclude chr0 contigs from ragoo ouput (#30)

* add rule to exclude chr0 contigs from ragoo outout

* fmt

* added skeleton code for benchmarking the assembly (#17)

* added skeleton code for benchmarking the assembly

* add minimap2 yaml

* finish summarize assembly results rule

* fix minimap2

* unsuccessful assembly fix

* create of assembly benchmark notebook

* fmt

* add benchmark assembly

* add force flag

* update gitactions

* fmt

* integrate the right trimming

* fmt

* update notebook

* update notebook

* update notebook

* update python env with pysam

* change check assembly git action

* create pysam env

* update env

* activate snakemake

* python file instead of notebook

* update notebook

* Increased number of simulated reads (this should improve the assembly quality)

* trigger rerun

* Add two more indices (# of contigs & smallest cov)

* fix snakemake usage

* increased number of simulated reads

* change eval. criteria of git action

* fmt

* trigger rebuild

* Cleanup unused file.

* git actions typo fix

* change < to -lt

* use polished assembly for benchmarking

* fix git action

* fix path of assembly.csv summary

* trigger rebuild

* Fixed assembly benchmark evaluation (do not consider substitutions where the reference contains an ambiguous base). Fix polishing to use variant calls against proper reference.

* Do not count edit distance in regions that are already uncertain in the reference used for read simulation. Fix strain accession list for testing.

* rename output files

Co-authored-by: thomasbtf <thomas.battenfeld@gmail.com>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <77535027+alethomas@users.noreply.github.com>

* use polished contigs for pangolin (#33)

* add-flagstat-qc (#32)

* add co assembly rule

* added indexing

* add alignment to reference

* added another example

* added combined package für co assembly

* added package for co assembly

* full workflow for vcf and consensus seq

* fmt

* implement rule for automatic calling

* fmt

* remove redundant rule

* add logs

* fmt

* infos

* add flagstat to qc

* fmt

* Update workflow/rules/qc.smk

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* delete not needed envs

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* Update rust-bio-tools version (#34)

* Remove empty lines from linkouts

* Update to latest rbt version

* change docker image (#31)

* update varlociraptor to 2.6.1 (#36)

* Fix annotation, add annotation based filtering (#37)

* fix annotation by using the ensembl gtf, containing correct biotypes

* add filtering with vembrane

* fixes

* fmt

* configure filters

* escape regex words

* add nofilter wildcard to assembly based calling.

* remove human contamination (#35)

* add kraken and krona

* include of several modules in multiqc

* add multiqc config

* clean up snakefile

* fmt

* add rule to align reads against human reference

* add rule to download human genome

* fix download

* fmt

* human genome filtering

* update extract unmapped reads

* update multiqc config

* remove eukaryote quasts eukaryote flag

* add resources to minimap alignment against human

* add fq2 to fastqc

* fmt

* newer version of fastqc wrapper

* change std printouts

* switch to human filtered reads

* change std stream

* fmt

* add human filtering to all

* format std flow

* fmt

* fmt

* fix final.contigs.fa to {sample}.contigs.fa

* fix sample

* fmt

* undid ""fix""

* deactivated crona charts output (some problem with downloading the taxonomy)

* add multiqc config to .tests

* mod git actions: download ftp files before running the workflow

* update mamba in git action

* add channel for mamba

* change syntax

* change syntax

* update multiqc

* Update multiqc config

* Update main.yml

* Update main.yml

* trigger rerun

* Update main.yml

* Update main.yml

* Use 8GB db and no maximize-build-space action

* Update main.yml

* Don't use whole human genome in test action

* rmv data samples

* use bwa for alignment

* use chr21 for testing

* use master of bio/vep/annotate

* reduce no. of strain genomes to test

* Update variant_annotation.smk

* Update workflow/rules/qc.smk

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* renaming contigs into reads

* fmt

* trigger rerun

Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* update to latest rbt (#43)

* update to latest rbt

* mark output files as temp

* temp files and formatting (#44)

* temp files and formatting

* more temp files

* Script for sample sheet update (#52)

* update gitignore

* add script to process incoming data and update sample sheet

* add function to get samples from latest run

* update readme

* Pangolin update rule (#56)

* update pangolin env from 2.1.7 to 2.2.2

* add rule to run pangolin --update every run

* Pangolin fix (#63)

* change pangolin to 2.2.1

* update pangolin via git and not by running --update

* fmt

* use gisaid strain genomes (#64)

* Handeling of not assemblable samples (#69)

* add rules to handle not assemblable samples

* fmt

* add Picard and Kallisto to MultiQC (#70)

* Improve GitHub workflow (#71)

* change to actions/checkout@v2

* use 2 cores

* get report to examine runtime of rules

* update caching

* update caching for benchmarking

* add caching of .tests/.snakemake

* add test data to benchmarking

* add hashing of .snakemake/conda

* change permission for caching

* change reporting target of benchmarks

* update hashFiles

* temp disable testing

* fastqc test

* use wildcard

* trigger rerun

* add unit tests

* change threads of pangolin to 1

* trigger rerun

* add hash in key for .tests/data and .tests/resources

* fix hash

* disable unit tests

* change add .tests/.snakemake/conda to cach path

* change to .tests/.snakemake/conda/

* add *.yaml

* change key structure

* add caching result

* split cach

* change key structure

* disable -R commands

* trigger rerun

* split caching also for benchmarking

* trigger rerun

* trigger rerun

* parallelization test and benchmarking

* change what to cach

* update job names

* fix indentation

* fix indentation

* trigger rerun

* trigger rerun

* add testing as needs

* update cache key

* rmv needs testing

* trigger rerun

* matrix test

* add caching results for all rule

* fix id of cache results

* add '' to if

* udate rule

* update matrix

* update report

* get runner disk space

* update rule

* add date

* trigger rerun

* incl. check in matrix

* update names

* trigger rerun

* add benchmark_strain_calling

* trigger rerun

* add -f flag

* lint test

* Revert ""lint test""

This reverts commit 967026e2d5b2fd9245d448a1c6ae45b4a1d2eee9.

* change to -F

* update cache resource path

* add tree

* rmvd double id

* add trees

* add tree flags

* update tree params

* use only selected genbank genomes for benchmarkung

* fmt

* change selection of strain genomes

* fix

* trigger rerun

* update keys

* trigger rerun

* add singularity

* -R `snakemake --list-input-changes`

* add space

* remove `

* test       - name: snakemake --list-input-changes
        run: snakemake --list-input-changes

* use sm action

* add if

* update key

* trigger rerun

* rmv testing

* add testing back

* trigger rerun

* trigger rerun

* add step to cancel running jobs on previous commits. (#75)

* add step to cancel running jobs on previous commits.

* Update main.yml

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* add 2nd, separate dependency cache for benchmark (#76)

* add 2nd dependency cache for benchmark

* fix syntax error

* trigger rerun to see improvments

* Integrate postprocessing (#66)

* output rule for diff cases

* correct test

* fmt

* changed format for csv

* change path and move script

* add min length to config

* change to generate all date based reports

* fmt

* fmt

* trigger rerun

* Update config/pep/samples.csv

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* add combined reference

* fmt

* update samtools

* fmt

* copy from standard config

* fmt

* cleaning code

* corrected alignment filtering

* fmt

* fmt

* Change Samtools flag from 2 to 1

* edit to new format

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Combine references (#73)

* add combined reference

* fmt

* update samtools

* fmt

* update quast before --min-contig to 1

* test with only human ref

* rmv samtools

* Revert ""test with only human ref""

This reverts commit 120e43208448f052c637fc1afe4d691d891b6ca2.

* Revert ""rmv samtools""

This reverts commit df92aaf1ca84e32745c16fa6bf90f56b8b6d579a.

* change samtools view flag for NC_045512 from 2 (PROPER_PAIR) to 1 (PAIRED)

* change filtering alignment

* change filter

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: alethomas <alex.thomas89@gmail.com>

* add if statement for cancel previous jobs (#79)

* skeleton/extract-reads-of-interest (#77)

* add skeleton code

* cleanup

* integrate script for extracting rof

* fmt

* change naming for git testing

* change naming for git testing

* correction

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* RKI quality criteria (#74)

* add Picard and Kallisto to MultiQC

* add reads qc an config

* add diff. btw illumina and ont

* add script for filtering

* fmt

* fmt config

* add try/except for not assemblable samples

* update test config

* add skeleton code

* cleanup

* integrate script for extracting rof

* fmt

* integrate filter before rki report generation

* add filter possiblity to get_samples_for_date

* add temp flag for txt

* clean code

* update logging of rki output

* fmt

* change naming for git testing

* rmv _nonhuman

* Update samples.csv

Change fq2 read from ERR4861412_1 to ERR4861412_2

* update key if cache

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: alethomas <alex.thomas89@gmail.com>

* date differentiation by sample in results and logs folder (#81)

* add date wildcard

* change storage of large bwa indices and fmt

* activate storage of large indices

* adjust benchmarking to changes folder structure

* update move script

* activate vcf-report

* rmv countlist

* multiqc and rki results per run

* storage pangolin db in corresponding results

* change gitactions according to changed folder structure

* change all of vcf-report

* fmt

* update .gitignore (#82)

* update .gitignore

* trigger rerun

* fix plot of all calls for run (#83)

* add rule to create snakemake reports per run (#85)

* fix plot of all calls for run

* add new rule

* change outout of ""all"" plots to avoid ambiguity

* fmt

* add param for testing

* fmt

* add --unlock

* change to --nolock

* save results rule (#84)

* add first steps

* add rule to save results of latest run to archive

* add subcategory for kallisto calls (#87)

* obtain total counts from fastq, and report unmapped reads in kallisto based abundance estimations (#91)

* non-sars-cov-2 test case (#90)

* add test cases for non-sars-cov-2 genomes

* add test case to github actions

* add rule for report

* fmt

* deactivate test of non sars cov 2

* change ""is sars-cov-2"" to ""assembly failed""

* add accessions to params

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use zip with params

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use zip with params on kallisto

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* handover params to functions

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* agg into benchmark.smk and small fix

* activate github actions for test_non_cov2

* Update main.yml

Print kallisto calls

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* masking for RKI (#96)

* add rule to determine coverage with samtools

* add pysam script

* housekeeping and fmt

* add Allel freq masking

* small fix of log

* fixes

* comments and fmt

* generalized quast rule

* update coverage plot

* add .rst for plot

* use masked contigs for rki report

* fmt

* Update mask-contigs.py

* integrate automatic virologist output generation (#88)

* add script

* integrate automatic virologist output generation

* push csv into snakemake html report

* add pandas to pysam env and add env to rule

* preparation for initial contig check

* updated rbt version

* include more fields in viro table

* add initial contig

* fix and expand viro output

* make important files non temporary

* generate csv and html output for snkmk report

* fmt

* fmt

* formatting table

* add try and except to pass git tests -.-

* fmt

* change githun actions

* change githun actions

* move voc to config

* format and clean script, use voc from confid

* fmt

* fmt

* reactivate report

* Delete extract-protein-alterations.py

* hash multiple variants

* Update config/pep/samples.csv

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* provide vcfs for the ucsc genome browser (#99)

* provide vcfs for the ucsc genome browser

* add some temp flags to free disk space

* undo 'add some temp flags to free disk space'

* add github action job to free up some disk space one the runner

* update samples

* update gisaid meta and sequence data

* change structure of snakemake report (#98)

* change structure of snakemake report

* add workflow.rst and custom sytle sheet

* add custom stylesheet for tests

* activate coverage plot

* header renaming

* fixes

* add H69_V70del (#103)

* add custom stylesheet (#102)

* do not mark recalibrated read alignments as temporary (#104)

* change back to older gisaid data

* Allow to configure the workflow for amplicon data (#105)

* add column

* latest super-linter

* special handling of benchmark samples

* handle non-cov2-testcase

* add param to shell command

* add new sample sheet to test config

* add additional adapters

* add additional adapter acces (unfinished w/o auto)

* add new adapters to test config

* change varlociraptor version

* new

* back to old version (new not yet available)

* new varlociraptor version 2.6.4

* Update varlociraptor.yaml

Co-authored-by: alethomas <alex.thomas89@gmail.com>

* fixes

* add samples from 2021-03-19

* bamclipper and plot for read coverage (#109)

* add rule

* fmt

* add new adapter

* change from polished to ordered contigs

* no temp flag

* correcting log parsing

* add MN908947

* add plot for coverage of reads for main genome

* fmt

* changes for test

* add function to get correct bam

* undo some changes

* reduce super linter version to pass formating

* use nonhuman-reads, not clipped for megahit

* rename clip rule

* add logging for bamclipper

* use correct reads for kallisto

* fix is_amplicon_data

* use different adapters for trimming

* add reference to config

* fmt

Co-authored-by: alethomas <alex.thomas89@gmail.com>

* Fixes from production on c59 (#107)

* change download of pangolin data to wget; svn has problems with the proxy

* add anaconda channel for download of altair_data_saver dependency

* fmt

* trigger rerun

* Change super linter version

* add sample from 26.03.2021

* remove 38000

* Metaspades (#114)

* add metaspades assembly

* add functions and switch

* add read counts and move for viro report

* reintegrate viro report

* integrate function to have access to either assemb

* reconfigure used files

* fmt

* reactivate report

* formatting

* generalize assembly rules and read count

* rename .fa > .fasta

* adjust functions for amplicon flag

* use generalized functions to call assembled cont

* add samples from snakemake params

* fmt

* remove print

* dynamic assembler link

* both assembler links

* param for dynamic assembler link

* exclude results

* rmv subprocess

Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Upload logs as artifacts (#115)

* Add formatter to qc report (#108)

* Add formatter file for csv-report

* Reformat variants of interest column for csv-report

* Update rbt version

* Add formatter to qc_html_report

* Remove multiple columns

* Update rbt.yaml

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Use js format and multiline strings

* Show alteration for variants of interests column

* Use helper function to reduce lines

* Fix split statement in generate_virologist_output.py

* Simplify if-elif construction

* Directly iterate over values of dictionary

* Add debug print

* Fix split statement

* Fix split statement

* Remove escaped double quotes

* Remove column drop of other variants

* Add debug prints

* Some refactoring and more debug prints

* Fix for refactoring

* Fix wrong table initialization

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: Felix Wiegand <fxwiegand@wgdsrv>

* add samples from 06.04.2021

* Workaround: explicitly add mkl as a dependency to the rbt env (#116)

* Separate genes by comma (#118)

* Separate genes by comma

* Remove trailing comma

Co-authored-by: Felix Wiegand <fxwiegand@wgdnet.de>

* Report polishing (#119)

* Remove special variant table, adjust categories.

* fmt

* remove obsolete output file

* remove obsolete file

* Fix preprocess to use amplicon flag, exclude empty files, check for duplicates (#120)

* discard empty files + add amp flag

* add check for empty files, duplicates and amp flag

* fmt

* add samples from 06.04.2021

* Update report-table-formatter.js (#122)

* polish link styling in table (#124)

* polish link styling in table

* [ci skip] remove trimming, which is anyway unnecessary

* add critcal samples

* SV calling (#123)

* add structural variant calling with delly

* extend vartypes

* fix input file pattern

* only call small variants in case of assembly polishing

* fix input file name

* updated GISAID data and extraction script (#125)

* output empty BCF in case there are not enough reads for delly to estimate library parameters (#127)

* output empty BCF in case there are not enough reads for delly to estimate library parameters

* add index, add header line

* fix header information for arbitrary reference genomes

* do not format numbers as strings in qc table (#126)

* make sure to exit after writing empty bcf in case of too few reads in sample (#129)

* Integrate pangolin lineages into virologist report (#117)

* Add download rule for pangolin lineages

* Read lineages in generate_virologist_output.py

* Use tar instead of unzip

* Download repo as tar.gz instead of zip

* Strip alterations

* Check if pangolin data contains alterations for lineages

* Fix key error

* Add debug prints

* Remove wrong pop() call

* switch to B.1.1.7 test sample

* Revert ""switch to B.1.1.7 test sample""

This reverts commit 966848645515cee819f3e814b56b151d3eb5d374.

* modify one test genome for simulation to be B.1.1.7

* Revert ""modify one test genome for simulation to be B.1.1.7""

This reverts commit cc63134292d9dda0beb3be7d7b131473d1b3e028.

* Add test sample in generate_virologist_output.py

* Add formatting for pangolin lineages

* Minor js fix

* Add popover activation and debug print

* Remove href=""#""

* Make table in popover scrollable and set fixed size

* Add href=""#""
This works with role=""button"" in Safari

* Fix adding variants multiple times

* More fixes

* More minor fixes

* Move statement out of for loop

* Do not display (0/0)

* Update column title

* Display allele frequency after checkmark

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Remove horizontal scrolling in popover

* Add overflow-y: auto to all popovers

* Minor table styling

* Set max-width to none

* Use template for styling popover

* remove debug code

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Revert ""Integrate pangolin lineages into virologist report (#117)"" (#130)

This reverts commit c7698de52d782d9df369d8884919e04faf055238.

* rbt 0.20.4 (#132)

* pangolin v2.3.8 (#133)

* add samples from 16.04.2021

* change to B.1.1.7 test reads (#137)

* change to B.1.1.7 test sample

* add placeholder in sample sheet

* Fix downloading B117 reads (#140)

* disable caches (#141)

* disable caches

* check for emptyness of efetched file

* fix filenames

* Pin sample column of qc report (#138)

* Pin sample column of qc report

* Remove minor version of rbt

* Update rbt.yaml

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* add samples from 24.04.2021

* Fix dry run by moving shell command into script (#121)

* add bcftools

* switch to script instead of shell

* script to fix dry run

* fmt

* updated rbt version

* change rbt version

* switch to snakemake shell

* add dryrun test flag

* add if statement for report test

* fmt

Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* include hard clipping for amplicon primers

* fmt

* Update readme (#146)

* update readme

* correcting the hardclipping

* fix amplicon clipping (#145)

* update samples

* update gisaid meta and sequence data

* change back to older gisaid data

* fixes

* add samples from 2021-03-19

* add sample from 26.03.2021

* remove 38000

* add samples from 06.04.2021

* add samples from 06.04.2021

* add critcal samples

* add samples from 16.04.2021

* add samples from 24.04.2021

* include hard clipping for amplicon primers

* fmt

* correcting the hardclipping

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* change ""../logs/"" to ""logs/"" (#150)

* Integration of GISAID API for the use of the latest strain genomes (#148)

* switch from file to API

* adjust strain fasta und kallisto index

* comments

* fmt

* add api key placeholder

* add placeholder for key

* change to env var

* fmt

* add env vari to lint action

* change to env context, use env variable directly

* add space

* add use kallisto flag

* fmt

* Pseudoassembly (#156)

* implement pseudoassembly

* fmt

* Add wildcard {assembly_type} to log

* fixes

* handle unexpected alleles

* mask low depth regions as uncertain

* add log

* use latest snakemake action

* set minimum snakemake version

* add parent folder for assembly analysis

* adapt events

* remove temp file

* fix variable name

* fix sets

* fix args

* fixed seq masking

* low coverage

* fix obtaining probability

* fix access

* fix attribute access

* fix if case

* fix iupac handling

* unpack into single base

* do not add seq if next variant is a next position

* fix last_pos

* consider hard clips

* check benchmark results

* latest varlociraptor release

* fix paths

* fixes

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* Handle multiple records at same position: ignore subsequent after the first was accepted (#158)

* implement pseudoassembly

* fmt

* Add wildcard {assembly_type} to log

* fixes

* handle unexpected alleles

* mask low depth regions as uncertain

* add log

* use latest snakemake action

* set minimum snakemake version

* add parent folder for assembly analysis

* adapt events

* remove temp file

* fix variable name

* fix sets

* fix args

* fixed seq masking

* low coverage

* fix obtaining probability

* fix access

* fix attribute access

* fix if case

* fix iupac handling

* unpack into single base

* do not add seq if next variant is a next position

* fix last_pos

* consider hard clips

* check benchmark results

* latest varlociraptor release

* fix paths

* fixes

* handle multiple records at same position

* fix low coverage handling

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* handle none probabilities (zero coverage loci) (#160)

* handle none probabilities (zero coverage loci)

* add global flags, add check ""DP"" if is None

* add logging, fix sample name

* add sample param to rule

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

* Clean up generation of table report (#144)

* clean up generation of table report, modify config file to list the protein in addition to the VOCs.

* report table name

* add bc to github actions env

* small fixes in script

* activate stdout

* Move bc to snakemake env

* rmv bc

* pangolin fmt and type casting

* fix kraken join, rmv stdout redirection

* table header fmt

* fmt

* Change pin from ""sample"" to ""Sample""

* float fmt

* handle duplicate variant calls

* add comment

* fmt

* only cast int columns

* Update report-table-formatter.js with new headers

* change dtype to int and add .items()

* add k-seperator

* fix rendering of vocs

* minor

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

* Compare assemblies (#161)

* add comperison of assemblies

* fmt

* integrate comparison

* add missing comma

* rmv print

* first init

* Use pseudo-assembly fallback in RKI output, QC overview table and … (#163)

* use pseudo-assembly fallback in rki output, qc overview table and pangolin calls

* fmt and log fix

* contig renaming & path fix

* exclude benchmarking

* fmt

* fix ragoo cd

* add some debug prints

* clean up github actions

* fix load data

* change path of test for non-sars-cov-2 test

* Fix typo

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Change to elif

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Fix typo

* Change to elif

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* fix paths

* add peseudo contig length, fix use for rki submission

* fmt & change order of columns

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* enable plotting

* fmt

* fmt

* fmt script

* fixes

* add plot to report

* add plot to report

* fix

* add intervaltree

* intervatree version

* externalize bam sorting for correct indexing

* fmt

* latest rbt (#167)

* add amplicon differentiation

* fmt

* add dummy coodinates

* get primer clipping plot only for amplicon samples

* Prod fixes (#164)

* rmv print

* clear old pangolin directories

* add exception, if bam is empty and has no NM tag

* tmp fixes to vcf-to-fasta.py

* change chunk_low_cov handeling

* add if statemant to chunk_seq[chunk_low_cov]

* change delly read_count to number of mapped reads

* rmv read count variable

* fix

* fix

* anonymous dummy

* period

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: Felix Wiegand <fxwiegand@wgdnet.de>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Felix Wiegand <fxwiegand@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Felix Wiegand <fxwiegand@wgdsrv>
Co-authored-by: alethomas <alex.thomas89gmail.com>",2021-06-07T05:42:05Z,alethomas
5fc463549b81dd97ce947b8f3d006f26f70c19ac,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Prod fixes (#164)

* rmv print

* clear old pangolin directories

* add exception, if bam is empty and has no NM tag

* tmp fixes to vcf-to-fasta.py

* change chunk_low_cov handeling

* add if statemant to chunk_seq[chunk_low_cov]

* change delly read_count to number of mapped reads

* rmv read count variable",2021-05-21T14:30:23Z,thomasbtf
13dc0cd430149d5ad28e0db5a7dd9ead997a0dea,Johannes Köster,johannes.koester@tu-dortmund.de,latest rbt (#167),2021-05-20T21:34:19Z,johanneskoester
237e105621ef74ac9410f7658328cd719aa4d557,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Use pseudo-assembly fallback in RKI output, QC overview table and … (#163)

* use pseudo-assembly fallback in rki output, qc overview table and pangolin calls

* fmt and log fix

* contig renaming & path fix

* exclude benchmarking

* fmt

* fix ragoo cd

* add some debug prints

* clean up github actions

* fix load data

* change path of test for non-sars-cov-2 test

* Fix typo

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Change to elif

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Fix typo

* Change to elif

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* fix paths

* add peseudo contig length, fix use for rki submission

* fmt & change order of columns

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-05-17T13:22:01Z,thomasbtf
220f381ac0df5d20156265f83c5f6233757b52be,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Compare assemblies (#161)

* add comperison of assemblies

* fmt

* integrate comparison

* add missing comma

* rmv print",2021-05-14T15:39:41Z,thomasbtf
078219296d896786e3f23b72f57a3581ef36c5d6,Johannes Köster,johannes.koester@tu-dortmund.de,"Clean up generation of table report (#144)

* clean up generation of table report, modify config file to list the protein in addition to the VOCs.

* report table name

* add bc to github actions env

* small fixes in script

* activate stdout

* Move bc to snakemake env

* rmv bc

* pangolin fmt and type casting

* fix kraken join, rmv stdout redirection

* table header fmt

* fmt

* Change pin from ""sample"" to ""Sample""

* float fmt

* handle duplicate variant calls

* add comment

* fmt

* only cast int columns

* Update report-table-formatter.js with new headers

* change dtype to int and add .items()

* add k-seperator

* fix rendering of vocs

* minor

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-05-11T16:56:46Z,johanneskoester
105ee0c751356d5f5c4a3f76b205a711146fb867,Johannes Köster,johannes.koester@tu-dortmund.de,"handle none probabilities (zero coverage loci) (#160)

* handle none probabilities (zero coverage loci)

* add global flags, add check ""DP"" if is None

* add logging, fix sample name

* add sample param to rule

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-05-11T08:07:47Z,johanneskoester
479d9a42396e09eaea6004270bb228a101e4fb19,Johannes Köster,johannes.koester@tu-dortmund.de,"Handle multiple records at same position: ignore subsequent after the first was accepted (#158)

* implement pseudoassembly

* fmt

* Add wildcard {assembly_type} to log

* fixes

* handle unexpected alleles

* mask low depth regions as uncertain

* add log

* use latest snakemake action

* set minimum snakemake version

* add parent folder for assembly analysis

* adapt events

* remove temp file

* fix variable name

* fix sets

* fix args

* fixed seq masking

* low coverage

* fix obtaining probability

* fix access

* fix attribute access

* fix if case

* fix iupac handling

* unpack into single base

* do not add seq if next variant is a next position

* fix last_pos

* consider hard clips

* check benchmark results

* latest varlociraptor release

* fix paths

* fixes

* handle multiple records at same position

* fix low coverage handling

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-05-09T11:47:31Z,johanneskoester
f0f1bab9eede216a60a8ab23b0b7f0073b5d1385,Johannes Köster,johannes.koester@tu-dortmund.de,"Pseudoassembly (#156)

* implement pseudoassembly

* fmt

* Add wildcard {assembly_type} to log

* fixes

* handle unexpected alleles

* mask low depth regions as uncertain

* add log

* use latest snakemake action

* set minimum snakemake version

* add parent folder for assembly analysis

* adapt events

* remove temp file

* fix variable name

* fix sets

* fix args

* fixed seq masking

* low coverage

* fix obtaining probability

* fix access

* fix attribute access

* fix if case

* fix iupac handling

* unpack into single base

* do not add seq if next variant is a next position

* fix last_pos

* consider hard clips

* check benchmark results

* latest varlociraptor release

* fix paths

* fixes

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-05-08T13:10:09Z,johanneskoester
32e5c85f8d10bb1dc47ccda962b17392bc142fee,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Integration of GISAID API for the use of the latest strain genomes (#148)

* switch from file to API

* adjust strain fasta und kallisto index

* comments

* fmt

* add api key placeholder

* add placeholder for key

* change to env var

* fmt

* add env vari to lint action

* change to env context, use env variable directly

* add space

* add use kallisto flag

* fmt",2021-05-06T17:55:57Z,thomasbtf
a70fc3787e01f83775a2d52539d49c092dafaa72,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"change ""../logs/"" to ""logs/"" (#150)",2021-05-04T12:19:44Z,thomasbtf
6c7196c8b9e608bdde6f06b86eefd57c6233da7a,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"fix amplicon clipping (#145)

* update samples

* update gisaid meta and sequence data

* change back to older gisaid data

* fixes

* add samples from 2021-03-19

* add sample from 26.03.2021

* remove 38000

* add samples from 06.04.2021

* add samples from 06.04.2021

* add critcal samples

* add samples from 16.04.2021

* add samples from 24.04.2021

* include hard clipping for amplicon primers

* fmt

* correcting the hardclipping

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-04-30T13:24:53Z,alethomas
756058503d3a3d21be025507352050457c5e3368,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Update readme (#146)

* update readme",2021-04-30T09:20:24Z,thomasbtf
423f94013058e67f0864ca9c0dab9aa9eda0a7d5,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"Fix dry run by moving shell command into script (#121)

* add bcftools

* switch to script instead of shell

* script to fix dry run

* fmt

* updated rbt version

* change rbt version

* switch to snakemake shell

* add dryrun test flag

* add if statement for report test

* fmt

Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-04-29T11:06:36Z,alethomas
edaef433be9f89d25f8583871552b8e7d54dcc73,Felix Wiegand,fxwiegand@wgdnet.de,"Pin sample column of qc report (#138)

* Pin sample column of qc report

* Remove minor version of rbt

* Update rbt.yaml

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-04-20T17:18:47Z,fxwiegand
a5424c89c5cf8b2618d13eccdb6d2ce2be4a8db2,Johannes Köster,johannes.koester@tu-dortmund.de,"disable caches (#141)

* disable caches

* check for emptyness of efetched file

* fix filenames",2021-04-20T15:43:44Z,johanneskoester
ff4ea0bdad38a7c561b8be0f32f922994448eb30,Felix Wiegand,fxwiegand@wgdnet.de,Fix downloading B117 reads (#140),2021-04-20T09:49:48Z,fxwiegand
1598db0bc63619506763677a84bb6b97fcdc6e3c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"change to B.1.1.7 test reads (#137)

* change to B.1.1.7 test sample

* add placeholder in sample sheet",2021-04-19T08:43:57Z,thomasbtf
03136ccf90c5e2971eb1504a3c118e3f7512f61c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,pangolin v2.3.8 (#133),2021-04-16T11:34:26Z,thomasbtf
679370f87563ac3722da70607afa5acde824c963,Johannes Köster,johannes.koester@tu-dortmund.de,rbt 0.20.4 (#132),2021-04-15T12:11:31Z,johanneskoester
0708627eca76805114c3ad1d62d358125710b4a9,Johannes Köster,johannes.koester@tu-dortmund.de,"Revert ""Integrate pangolin lineages into virologist report (#117)"" (#130)

This reverts commit e7082582ffb9b33b5e5dafa688f779651cb00ece.",2021-04-15T11:45:41Z,johanneskoester
e7082582ffb9b33b5e5dafa688f779651cb00ece,Felix Wiegand,fxwiegand@wgdnet.de,"Integrate pangolin lineages into virologist report (#117)

* Add download rule for pangolin lineages

* Read lineages in generate_virologist_output.py

* Use tar instead of unzip

* Download repo as tar.gz instead of zip

* Strip alterations

* Check if pangolin data contains alterations for lineages

* Fix key error

* Add debug prints

* Remove wrong pop() call

* switch to B.1.1.7 test sample

* Revert ""switch to B.1.1.7 test sample""

This reverts commit 715108d6ca1d5ab281bd67aa5f035fe58fc9db19.

* modify one test genome for simulation to be B.1.1.7

* Revert ""modify one test genome for simulation to be B.1.1.7""

This reverts commit a2e5d51b889d5b19bf1cf58dee7552a7f3e53b38.

* Add test sample in generate_virologist_output.py

* Add formatting for pangolin lineages

* Minor js fix

* Add popover activation and debug print

* Remove href=""#""

* Make table in popover scrollable and set fixed size

* Add href=""#""
This works with role=""button"" in Safari

* Fix adding variants multiple times

* More fixes

* More minor fixes

* Move statement out of for loop

* Do not display (0/0)

* Update column title

* Display allele frequency after checkmark

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Remove horizontal scrolling in popover

* Add overflow-y: auto to all popovers

* Minor table styling

* Set max-width to none

* Use template for styling popover

* remove debug code

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-04-15T09:56:17Z,fxwiegand
5507486ea860a5a31bd4ff53b20ffc6f111bef95,Johannes Köster,johannes.koester@tu-dortmund.de,make sure to exit after writing empty bcf in case of too few reads in sample (#129),2021-04-14T13:34:57Z,johanneskoester
faf5fa4d3859be9cce0273a7555305671c0ff20d,Johannes Köster,johannes.koester@tu-dortmund.de,do not format numbers as strings in qc table (#126),2021-04-14T08:13:57Z,johanneskoester
6fcf2c82d1e790e2f93edca6ced267e2eab8a49d,Johannes Köster,johannes.koester@tu-dortmund.de,"output empty BCF in case there are not enough reads for delly to estimate library parameters (#127)

* output empty BCF in case there are not enough reads for delly to estimate library parameters

* add index, add header line

* fix header information for arbitrary reference genomes",2021-04-13T21:49:40Z,johanneskoester
0a2051e4dad494aef6e5afbe2af7d07a620954d1,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,updated GISAID data and extraction script (#125),2021-04-13T12:07:06Z,thomasbtf
465422ad5c7d02829976f362413e5c6a2afb8e57,Johannes Köster,johannes.koester@tu-dortmund.de,"SV calling (#123)

* add structural variant calling with delly

* extend vartypes

* fix input file pattern

* only call small variants in case of assembly polishing

* fix input file name",2021-04-13T05:37:27Z,johanneskoester
e957f6d5c6c3121fe37d140db449aed637614f48,Johannes Köster,johannes.koester@tu-dortmund.de,"polish link styling in table (#124)

* polish link styling in table

* [ci skip] remove trimming, which is anyway unnecessary",2021-04-12T12:18:24Z,johanneskoester
a9f97b5c5c65d95ffd8809dc152e813e18569cd7,Johannes Köster,johannes.koester@tu-dortmund.de,Update report-table-formatter.js (#122),2021-04-12T05:03:14Z,johanneskoester
783dc923b948f18c38dc7b872389888a8d8fabb4,Alexander Thomas,77535027+alethomas@users.noreply.github.com,"Fix preprocess to use amplicon flag, exclude empty files, check for duplicates (#120)

* discard empty files + add amp flag

* add check for empty files, duplicates and amp flag

* fmt",2021-04-08T11:49:19Z,alethomas
1a3792360691a4cc48007dbc4d871d6ac044a5f2,Johannes Köster,johannes.koester@tu-dortmund.de,"Report polishing (#119)

* Remove special variant table, adjust categories.

* fmt

* remove obsolete output file

* remove obsolete file",2021-04-07T13:40:48Z,johanneskoester
aa31cd00df0220bf111a0aa2601dcc90efe133a7,Johannes Köster,johannes.koester@tu-dortmund.de,"Separate genes by comma (#118)

* Separate genes by comma

* Remove trailing comma

Co-authored-by: Felix Wiegand <fxwiegand@wgdnet.de>",2021-04-07T13:39:55Z,johanneskoester
17a88df1a9b41cc87b500b1fb977ea5986debfc9,Johannes Köster,johannes.koester@tu-dortmund.de,Workaround: explicitly add mkl as a dependency to the rbt env (#116),2021-04-07T05:31:53Z,johanneskoester
6a761a83980ffd9b44f39b2f08fca07ac4408b49,Felix Wiegand,fxwiegand@wgdnet.de,"Add formatter to qc report (#108)

* Add formatter file for csv-report

* Reformat variants of interest column for csv-report

* Update rbt version

* Add formatter to qc_html_report

* Remove multiple columns

* Update rbt.yaml

* Update workflow/scripts/generate_virologist_output.py

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* Use js format and multiline strings

* Show alteration for variants of interests column

* Use helper function to reduce lines

* Fix split statement in generate_virologist_output.py

* Simplify if-elif construction

* Directly iterate over values of dictionary

* Add debug print

* Fix split statement

* Fix split statement

* Remove escaped double quotes

* Remove column drop of other variants

* Add debug prints

* Some refactoring and more debug prints

* Fix for refactoring

* Fix wrong table initialization

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: Felix Wiegand <fxwiegand@wgdsrv>",2021-04-06T05:21:42Z,fxwiegand
300d6253f2f6d46ade70e4d9332f8f2772e70529,Felix Wiegand,fxwiegand@wgdnet.de,Upload logs as artifacts (#115),2021-04-01T13:29:15Z,fxwiegand
9e9b3074f6abbffd59c900f3f528a5f9a8496726,alethomas,77535027+alethomas@users.noreply.github.com,"Metaspades (#114)

* add metaspades assembly

* add functions and switch

* add read counts and move for viro report

* reintegrate viro report

* integrate function to have access to either assemb

* reconfigure used files

* fmt

* reactivate report

* formatting

* generalize assembly rules and read count

* rename .fa > .fasta

* adjust functions for amplicon flag

* use generalized functions to call assembled cont

* add samples from snakemake params

* fmt

* remove print

* dynamic assembler link

* both assembler links

* param for dynamic assembler link

* exclude results

* rmv subprocess

Co-authored-by: alethomas <alex.thomas89gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-04-01T08:29:06Z,alethomas
b111710a78a5034ad2fade6d68e4a6e14fc07bdf,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Fixes from production on c59 (#107)

* change download of pangolin data to wget; svn has problems with the proxy

* add anaconda channel for download of altair_data_saver dependency

* fmt

* trigger rerun

* Change super linter version",2021-03-26T10:11:32Z,thomasbtf
955d1d259bbc60f09ca429737524b6b37db8fe18,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"bamclipper and plot for read coverage (#109)

* add rule

* fmt

* add new adapter

* change from polished to ordered contigs

* no temp flag

* correcting log parsing

* add MN908947

* add plot for coverage of reads for main genome

* fmt

* changes for test

* add function to get correct bam

* undo some changes

* reduce super linter version to pass formating

* use nonhuman-reads, not clipped for megahit

* rename clip rule

* add logging for bamclipper

* use correct reads for kallisto

* fix is_amplicon_data

* use different adapters for trimming

* add reference to config

* fmt

Co-authored-by: alethomas <alex.thomas89@gmail.com>",2021-03-26T09:48:31Z,thomasbtf
eb840cff037a59e01bf50e77b3446b3c959f75a1,Johannes Köster,johannes.koester@tu-dortmund.de,"Allow to configure the workflow for amplicon data (#105)

* add column

* latest super-linter

* special handling of benchmark samples

* handle non-cov2-testcase

* add param to shell command

* add new sample sheet to test config

* add additional adapters

* add additional adapter acces (unfinished w/o auto)

* add new adapters to test config

* change varlociraptor version

* new

* back to old version (new not yet available)

* new varlociraptor version 2.6.4

* Update varlociraptor.yaml

Co-authored-by: alethomas <alex.thomas89@gmail.com>",2021-03-19T19:37:14Z,johanneskoester
df4f5a3e1f5fa0bead73ed75f2361030f9e7853b,Johannes Köster,johannes.koester@tu-dortmund.de,do not mark recalibrated read alignments as temporary (#104),2021-03-16T17:38:56Z,johanneskoester
6cf95d93b15098e50b1b4fad9a122bb48b548920,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,add custom stylesheet (#102),2021-03-16T10:46:48Z,thomasbtf
9575c0af5c26ff3b2782a435d0eacb7597f2ce21,alethomas,77535027+alethomas@users.noreply.github.com,add H69_V70del (#103),2021-03-16T10:46:20Z,alethomas
f33fe5e8ef19485b83ef2d1aad1073b852a63d1e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"change structure of snakemake report (#98)

* change structure of snakemake report

* add workflow.rst and custom sytle sheet

* add custom stylesheet for tests

* activate coverage plot

* header renaming

* fixes",2021-03-16T08:43:33Z,thomasbtf
a43480e5c788f62d92809f43ad6e9dc9e71d9079,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"provide vcfs for the ucsc genome browser (#99)

* provide vcfs for the ucsc genome browser

* add some temp flags to free disk space

* undo 'add some temp flags to free disk space'

* add github action job to free up some disk space one the runner",2021-03-15T14:42:48Z,thomasbtf
f056e9bbceb19914fda73e5185430684128e5eac,alethomas,77535027+alethomas@users.noreply.github.com,"integrate automatic virologist output generation (#88)

* add script

* integrate automatic virologist output generation

* push csv into snakemake html report

* add pandas to pysam env and add env to rule

* preparation for initial contig check

* updated rbt version

* include more fields in viro table

* add initial contig

* fix and expand viro output

* make important files non temporary

* generate csv and html output for snkmk report

* fmt

* fmt

* formatting table

* add try and except to pass git tests -.-

* fmt

* change githun actions

* change githun actions

* move voc to config

* format and clean script, use voc from confid

* fmt

* fmt

* reactivate report

* Delete extract-protein-alterations.py

* hash multiple variants

* Update config/pep/samples.csv

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-03-15T14:39:24Z,alethomas
da1d29ea839ffadf59c5d677c6c6402512ac15b4,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"masking for RKI (#96)

* add rule to determine coverage with samtools

* add pysam script

* housekeeping and fmt

* add Allel freq masking

* small fix of log

* fixes

* comments and fmt

* generalized quast rule

* update coverage plot

* add .rst for plot

* use masked contigs for rki report

* fmt

* Update mask-contigs.py",2021-03-09T11:35:37Z,thomasbtf
160798238d4a675c67a381dc595e09b222ae86ed,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"non-sars-cov-2 test case (#90)

* add test cases for non-sars-cov-2 genomes

* add test case to github actions

* add rule for report

* fmt

* deactivate test of non sars cov 2

* change ""is sars-cov-2"" to ""assembly failed""

* add accessions to params

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use zip with params

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* use zip with params on kallisto

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* handover params to functions

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* agg into benchmark.smk and small fix

* activate github actions for test_non_cov2

* Update main.yml

Print kallisto calls

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-03-03T21:09:49Z,thomasbtf
8a84169a8795a3cecf94fb47bd22a744a2be8cbd,Johannes Köster,johannes.koester@tu-dortmund.de,"obtain total counts from fastq, and report unmapped reads in kallisto based abundance estimations (#91)",2021-03-03T14:16:33Z,johanneskoester
6aaec43eb9755b9d30d0a455d26b62dc8e4c87fc,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,add subcategory for kallisto calls (#87),2021-03-02T10:20:31Z,thomasbtf
20e7d31e77c9170419315bf84111d0d1451b8aff,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"save results rule (#84)

* add first steps

* add rule to save results of latest run to archive",2021-03-02T09:49:07Z,thomasbtf
cd72e1cc7d19a7cd24869a237f345dc2b6beb7a0,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"add rule to create snakemake reports per run (#85)

* fix plot of all calls for run

* add new rule

* change outout of ""all"" plots to avoid ambiguity

* fmt

* add param for testing

* fmt

* add --unlock

* change to --nolock",2021-03-02T09:47:50Z,thomasbtf
a1d4e9bca212cc2933620e6a0fc097580ccb8caa,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,fix plot of all calls for run (#83),2021-03-02T09:46:55Z,thomasbtf
d4a29e5d07eda6366239e415cd03e89335ce6f25,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"update .gitignore (#82)

* update .gitignore

* trigger rerun",2021-03-02T09:46:28Z,thomasbtf
10576904fea1e537d0166eb071f15fee954a2f28,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"date differentiation by sample in results and logs folder (#81)

* add date wildcard

* change storage of large bwa indices and fmt

* activate storage of large indices

* adjust benchmarking to changes folder structure

* update move script

* activate vcf-report

* rmv countlist

* multiqc and rki results per run

* storage pangolin db in corresponding results

* change gitactions according to changed folder structure

* change all of vcf-report

* fmt",2021-03-01T08:45:21Z,thomasbtf
a0635e8600890106dbf58f55f250af2f0eb868c4,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"RKI quality criteria (#74)

* add Picard and Kallisto to MultiQC

* add reads qc an config

* add diff. btw illumina and ont

* add script for filtering

* fmt

* fmt config

* add try/except for not assemblable samples

* update test config

* add skeleton code

* cleanup

* integrate script for extracting rof

* fmt

* integrate filter before rki report generation

* add filter possiblity to get_samples_for_date

* add temp flag for txt

* clean code

* update logging of rki output

* fmt

* change naming for git testing

* rmv _nonhuman

* Update samples.csv

Change fq2 read from ERR4861412_1 to ERR4861412_2

* update key if cache

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: alethomas <alex.thomas89@gmail.com>",2021-02-25T14:06:22Z,thomasbtf
9530b6e1617f59c329aa02b4c865720767bb154b,alethomas,77535027+alethomas@users.noreply.github.com,"skeleton/extract-reads-of-interest (#77)

* add skeleton code

* cleanup

* integrate script for extracting rof

* fmt

* change naming for git testing

* change naming for git testing

* correction

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-02-25T13:06:56Z,alethomas
d5a5cce9d2ae26c6b771248854dd43098e596d32,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,add if statement for cancel previous jobs (#79),2021-02-25T10:38:31Z,thomasbtf
760009f165d36b44812240c4702f33b76c4ed622,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Combine references (#73)

* add combined reference

* fmt

* update samtools

* fmt

* update quast before --min-contig to 1

* test with only human ref

* rmv samtools

* Revert ""test with only human ref""

This reverts commit 120e43208448f052c637fc1afe4d691d891b6ca2.

* Revert ""rmv samtools""

This reverts commit df92aaf1ca84e32745c16fa6bf90f56b8b6d579a.

* change samtools view flag for NC_045512 from 2 (PROPER_PAIR) to 1 (PAIRED)

* change filtering alignment

* change filter

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>
Co-authored-by: alethomas <alex.thomas89@gmail.com>",2021-02-24T12:01:06Z,thomasbtf
e712f2bdce656b92282fb4f96b21da342a579997,alethomas,77535027+alethomas@users.noreply.github.com,"Integrate postprocessing (#66)

* output rule for diff cases

* correct test

* fmt

* changed format for csv

* change path and move script

* add min length to config

* change to generate all date based reports

* fmt

* fmt

* trigger rerun

* Update config/pep/samples.csv

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* add combined reference

* fmt

* update samtools

* fmt

* copy from standard config

* fmt

* cleaning code

* corrected alignment filtering

* fmt

* fmt

* Change Samtools flag from 2 to 1

* edit to new format

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-02-24T12:00:36Z,alethomas
6ece35e223b175e07c939744d903a11527948d0e,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"add 2nd, separate dependency cache for benchmark (#76)

* add 2nd dependency cache for benchmark

* fix syntax error

* trigger rerun to see improvments",2021-02-24T09:54:58Z,thomasbtf
a41640c7b3850685df288326908be2f459240d1b,Johannes Köster,johannes.koester@tu-dortmund.de,"add step to cancel running jobs on previous commits. (#75)

* add step to cancel running jobs on previous commits.

* Update main.yml

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-02-24T05:52:28Z,johanneskoester
c8100df36d0d8b563d4ab5d9badab0881c9c7684,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Improve GitHub workflow (#71)

* change to actions/checkout@v2

* use 2 cores

* get report to examine runtime of rules

* update caching

* update caching for benchmarking

* add caching of .tests/.snakemake

* add test data to benchmarking

* add hashing of .snakemake/conda

* change permission for caching

* change reporting target of benchmarks

* update hashFiles

* temp disable testing

* fastqc test

* use wildcard

* trigger rerun

* add unit tests

* change threads of pangolin to 1

* trigger rerun

* add hash in key for .tests/data and .tests/resources

* fix hash

* disable unit tests

* change add .tests/.snakemake/conda to cach path

* change to .tests/.snakemake/conda/

* add *.yaml

* change key structure

* add caching result

* split cach

* change key structure

* disable -R commands

* trigger rerun

* split caching also for benchmarking

* trigger rerun

* trigger rerun

* parallelization test and benchmarking

* change what to cach

* update job names

* fix indentation

* fix indentation

* trigger rerun

* trigger rerun

* add testing as needs

* update cache key

* rmv needs testing

* trigger rerun

* matrix test

* add caching results for all rule

* fix id of cache results

* add '' to if

* udate rule

* update matrix

* update report

* get runner disk space

* update rule

* add date

* trigger rerun

* incl. check in matrix

* update names

* trigger rerun

* add benchmark_strain_calling

* trigger rerun

* add -f flag

* lint test

* Revert ""lint test""

This reverts commit 967026e2d5b2fd9245d448a1c6ae45b4a1d2eee9.

* change to -F

* update cache resource path

* add tree

* rmvd double id

* add trees

* add tree flags

* update tree params

* use only selected genbank genomes for benchmarkung

* fmt

* change selection of strain genomes

* fix

* trigger rerun

* update keys

* trigger rerun

* add singularity

* -R `snakemake --list-input-changes`

* add space

* remove `

* test       - name: snakemake --list-input-changes
        run: snakemake --list-input-changes

* use sm action

* add if

* update key

* trigger rerun

* rmv testing

* add testing back

* trigger rerun

* trigger rerun",2021-02-22T18:50:45Z,thomasbtf
3d0508136bd817b92b532b298a714e794fd563b8,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,add Picard and Kallisto to MultiQC (#70),2021-02-22T13:10:33Z,thomasbtf
78d534c33826f2f6279c2c8887ad56e14d19f23c,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Handeling of not assemblable samples (#69)

* add rules to handle not assemblable samples

* fmt",2021-02-22T13:10:16Z,thomasbtf
2b5681c73679d4dba90e9c85240322c97fda4beb,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,use gisaid strain genomes (#64),2021-02-18T22:54:42Z,thomasbtf
e43990237a25709a90d6eaf6d6550c830ef23abd,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Pangolin fix (#63)

* change pangolin to 2.2.1

* update pangolin via git and not by running --update

* fmt",2021-02-18T15:25:02Z,thomasbtf
d0c662f65d388e7a2e202ce892f3694d1b299090,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Pangolin update rule (#56)

* update pangolin env from 2.1.7 to 2.2.2

* add rule to run pangolin --update every run",2021-02-17T16:04:46Z,thomasbtf
6350696c9af9024eee6048f9813a14af5c361488,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"Script for sample sheet update (#52)

* update gitignore

* add script to process incoming data and update sample sheet

* add function to get samples from latest run

* update readme",2021-02-17T06:34:53Z,thomasbtf
33555f5a5684520f550965e32952cdbea4c6cc5d,Johannes Köster,johannes.koester@tu-dortmund.de,"temp files and formatting (#44)

* temp files and formatting

* more temp files",2021-02-16T06:59:32Z,johanneskoester
307f99b00b442c16d69d1e2e63c4128716558089,Johannes Köster,johannes.koester@tu-dortmund.de,"update to latest rbt (#43)

* update to latest rbt

* mark output files as temp",2021-02-16T06:59:14Z,johanneskoester
24cb4f96d1e9b131338480b08f4fbde02428e199,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"remove human contamination (#35)

* add kraken and krona

* include of several modules in multiqc

* add multiqc config

* clean up snakefile

* fmt

* add rule to align reads against human reference

* add rule to download human genome

* fix download

* fmt

* human genome filtering

* update extract unmapped reads

* update multiqc config

* remove eukaryote quasts eukaryote flag

* add resources to minimap alignment against human

* add fq2 to fastqc

* fmt

* newer version of fastqc wrapper

* change std printouts

* switch to human filtered reads

* change std stream

* fmt

* add human filtering to all

* format std flow

* fmt

* fmt

* fix final.contigs.fa to {sample}.contigs.fa

* fix sample

* fmt

* undid ""fix""

* deactivated crona charts output (some problem with downloading the taxonomy)

* add multiqc config to .tests

* mod git actions: download ftp files before running the workflow

* update mamba in git action

* add channel for mamba

* change syntax

* change syntax

* update multiqc

* Update multiqc config

* Update main.yml

* Update main.yml

* trigger rerun

* Update main.yml

* Update main.yml

* Use 8GB db and no maximize-build-space action

* Update main.yml

* Don't use whole human genome in test action

* rmv data samples

* use bwa for alignment

* use chr21 for testing

* use master of bio/vep/annotate

* reduce no. of strain genomes to test

* Update variant_annotation.smk

* Update workflow/rules/qc.smk

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>

* renaming contigs into reads

* fmt

* trigger rerun

Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-02-15T09:48:27Z,thomasbtf
92d2ae298f6b5fc9da946e7b69c57cd505bd053b,Johannes Köster,johannes.koester@tu-dortmund.de,"Fix annotation, add annotation based filtering (#37)

* fix annotation by using the ensembl gtf, containing correct biotypes

* add filtering with vembrane

* fixes

* fmt

* configure filters

* escape regex words

* add nofilter wildcard to assembly based calling.",2021-02-12T23:03:30Z,johanneskoester
881741b73afc0f2fadcbc2326b3e583c5b41a01a,Johannes Köster,johannes.koester@tu-dortmund.de,update varlociraptor to 2.6.1 (#36),2021-02-11T05:09:31Z,johanneskoester
7a631e6d420898aeb60ce72c77109b7ae9732b80,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,change docker image (#31),2021-02-10T14:05:31Z,thomasbtf
6320191c9848f064c16c33d755e6177523e12281,Felix Wiegand,fxwiegand@gmail.com,"Update rust-bio-tools version (#34)

* Remove empty lines from linkouts

* Update to latest rbt version",2021-02-10T13:50:36Z,fxwiegand
ba3e9a48fa07120d96d5c823d6db532125ee24a6,alethomas,77535027+alethomas@users.noreply.github.com,"add-flagstat-qc (#32)

* add co assembly rule

* added indexing

* add alignment to reference

* added another example

* added combined package für co assembly

* added package for co assembly

* full workflow for vcf and consensus seq

* fmt

* implement rule for automatic calling

* fmt

* remove redundant rule

* add logs

* fmt

* infos

* add flagstat to qc

* fmt

* Update workflow/rules/qc.smk

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>

* delete not needed envs

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>",2021-02-08T15:35:54Z,alethomas
9a89085f350f2f1009d61e779ffe82d61aeafaed,Johannes Köster,johannes.koester@tu-dortmund.de,use polished contigs for pangolin (#33),2021-02-05T07:25:53Z,johanneskoester
225d873e7658027601928fb20c38368b4fad69e1,Johannes Köster,johannes.koester@tu-dortmund.de,"added skeleton code for benchmarking the assembly (#17)

* added skeleton code for benchmarking the assembly

* add minimap2 yaml

* finish summarize assembly results rule

* fix minimap2

* unsuccessful assembly fix

* create of assembly benchmark notebook

* fmt

* add benchmark assembly

* add force flag

* update gitactions

* fmt

* integrate the right trimming

* fmt

* update notebook

* update notebook

* update notebook

* update python env with pysam

* change check assembly git action

* create pysam env

* update env

* activate snakemake

* python file instead of notebook

* update notebook

* Increased number of simulated reads (this should improve the assembly quality)

* trigger rerun

* Add two more indices (# of contigs & smallest cov)

* fix snakemake usage

* increased number of simulated reads

* change eval. criteria of git action

* fmt

* trigger rebuild

* Cleanup unused file.

* git actions typo fix

* change < to -lt

* use polished assembly for benchmarking

* fix git action

* fix path of assembly.csv summary

* trigger rebuild

* Fixed assembly benchmark evaluation (do not consider substitutions where the reference contains an ambiguous base). Fix polishing to use variant calls against proper reference.

* Do not count edit distance in regions that are already uncertain in the reference used for read simulation. Fix strain accession list for testing.

* rename output files

Co-authored-by: thomasbtf <thomas.battenfeld@gmail.com>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <77535027+alethomas@users.noreply.github.com>",2021-02-04T06:37:50Z,johanneskoester
a34235d2b4a52e50325878ba753b278f57d13cf5,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"add rule to exclude chr0 contigs from ragoo ouput (#30)

* add rule to exclude chr0 contigs from ragoo outout

* fmt",2021-02-03T19:46:44Z,thomasbtf
849511cfd26b4e61903752810806802ea63f0806,Thomas Battenfeld,46334240+thomasbtf@users.noreply.github.com,"raGOO & Quast (#26)

* add ragoo env

* rmv ragoo yaml

* add raGOO rule

* fmt

* fmt

* add viz

* change pangolin input to ordered_contigs  from assembly

* add env

* fix

* fix

* add quast for vis

* move ragoo contigs for easy pangolin access

* fmt

* add channels in env

* quast output per sample

* integrate move into ragoo rule

* fix quast

* Polish with varlociraptor (#29)

* polish assembly with varlociraptor

* fmt

* fix log file output of quast

* fmt

* configure action

* add bcf index

* fix path

* fmt

* only test if formatting and linting pass

* fix quast

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-02-02T22:14:56Z,thomasbtf
ee150fca3ac8975a956561985788468680a30f15,Johannes Köster,johannes.koester@tu-dortmund.de,"define container (#28)

* define container

* add testcase",2021-02-02T16:24:58Z,johanneskoester
fb108778ee06ccc1822ba30017521dd9a8878e8c,Johannes Köster,johannes.koester@tu-dortmund.de,"fixes from production branch (#25)

* fixes from production branch

* fmt",2021-01-29T08:48:31Z,johanneskoester
231650a12448bffadf6416070b262ce4a832c0fd,Johannes Köster,johannes.koester@tu-dortmund.de,"integrated pangolin calling (#23)

* integrated pangolin calling

* Revert ""Merge branch 'master' into integrate-pangolin-calls""

This reverts commit 76cfb06d5e158ef6fce5705f7054f27a6b380952, reversing
changes made to 5726850ddc2aa53b338c9cfd6c806095d946ad8d.

* fix benchmark

* plotting

* fmt

* manually merge in changes from master that have been accidentally reverted here.

* fmt

* fixes

* plot all pangolin strains

* fmt

* add caption

* fixes

Co-authored-by: Thomas Battenfeld <46334240+thomasbtf@users.noreply.github.com>
Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>",2021-01-29T06:56:47Z,johanneskoester
6a577515c2809717a9c9a13caca9bdf24950a73b,Johannes Köster,johannes.koester@tu-dortmund.de,"use rbt 0.18 (#19)

* use rbt 0.18

* fmt",2021-01-28T20:00:27Z,johanneskoester
ecd4768cf404ca9b49ce6b37aacd78a7089a5867,alethomas,77535027+alethomas@users.noreply.github.com,"fastp_trimming (#14)

* add an adapter db file

* make adapter db available

* add rule to get adapters (unfinished)

* add fastp instead of cutadapt (unfinished)

* fixed trimming

* unfinished get_adapters

* snakefmt

* remove wrong adapter calling

* add adapters to config/config.yaml and .test

* call adapters from config

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-01-27T22:03:08Z,alethomas
bd5500c1c27c2be9b01c16a5fcafb151913218fe,Johannes Köster,johannes.koester@tu-dortmund.de,plot overview of all called strains (#22),2021-01-27T21:57:40Z,johanneskoester
c9730bcd879f6abc9e6473e75f402b8be54eeb43,Johannes Köster,johannes.koester@tu-dortmund.de,"allow definition of custom strain sequences (#18)

* allow custom strain sequences

* trigger rebuild",2021-01-27T16:19:29Z,johanneskoester
899627ed6b8ad90156992c12eb46d48255e7e256,alethomas,77535027+alethomas@users.noreply.github.com,"pangolin rule, envs, snakefile (#21)

* pangolin rule, envs, snakefile

* Update pangolin.yaml

Co-authored-by: Johannes Köster <johannes.koester@tu-dortmund.de>",2021-01-27T16:04:12Z,alethomas
66e6572ddf93a2f9a0134c3842dddc2f9194b3ad,Felix Wiegand,fxwiegand@gmail.com,"Move js into separate file (#16)

* Split js template

* Improve js

* Combine js file params

* Use format

* Format

* Add missing comma",2021-01-27T13:47:26Z,fxwiegand
4655412281a4f6133cb572ea51f57639bf44af11,Johannes Köster,johannes.koester@tu-dortmund.de,add .dockerignore (#15),2021-01-27T07:03:06Z,johanneskoester
473461cb8f58ebae39efb8f604acf78593bc2803,Johannes Köster,johannes.koester@tu-dortmund.de,"Kallisto (#10)

* first steps sourmash gather

* Add sourmash.yaml

* Add helper for genome download

* Mod. for use of Folkers files

* Modified genome path

* Removed sourmash search

* chang of download no

* remove singelton flag

* Add Johannes covid files

* Add comment and red. no.
samples

* Removed old code

* Add TODOs, smash search, fix gather

* Add comment

* Update TODO comments

* Fix TODO list

* Update TODOs

* download strain accessions if not there

* singletin flag needed?

* excluded cat_trimmed_samples, icluded merged reads

* limit strain genomes, formatting, linter fixes (missing log files)

* refactor main genome path

* limit to 10 genomes for testing

* limit to one strain genome

* latest github action

* squeeze accession dataframe into series.

* add benchmarking functionality

We simulate reads from given strains, and check whether sourmash determines the correct strain again.
In the future, we will further check the correct abundance by simulating mixtures.

* fix check for main genome

* fix get signatures

* check benchmark results

* fmt

* make min match threshold configurable

* fixes

* fmt

* more configurability

* Call strains using Kallisto. Reporting.

* fix filenames

* fmt

* fix wildcard constraint, temporarily deactivate VCF report until intergenic calls are properly displayed.

* limit number of cores

* limit ncbi api requests

* add instructions to readme.

* set min-fraction to 2%.

* fix benchmark evaluation logic in github action

* fmt

* add assembly.smk and dependencies (#12)

* fmt

Co-authored-by: Thomas Battenfeld <thomas.battenfeld@gmail.com>
Co-authored-by: Alexander Thomas <alex.thomas89@gmail.com>
Co-authored-by: alethomas <77535027+alethomas@users.noreply.github.com>",2021-01-25T15:56:46Z,johanneskoester
9bcc467dff24d60998485b3fac4e67697698063e,Johannes Köster,johannes.koester@tu-dortmund.de,activate report (#8),2021-01-24T20:44:45Z,johanneskoester
e5b8d0f97ea32a4b4fa8f580a842098051cc2ad2,Felix Wiegand,fxwiegand@wgdnet.de,"Update vcf-report (#6)

* Update js template for rbt v0.17.0

* Update rbt version and report call",2021-01-23T11:56:20Z,fxwiegand
ab69904d17513cceb2d3ec31d2db63e95cf4f658,Johannes Köster,johannes.koester@tu-dortmund.de,"Trimming (#4)

* add read trimming

* fixes",2021-01-22T07:03:11Z,johanneskoester
bf32acb24baf447adcebfb0008eb392967bcbc09,Johannes Köster,johannes.koester@tu-dortmund.de,"Obtain strain seqs (#1)

* generalize get_genome to retrieve arbitrary accessions

* add rule to retrieve accessions",2021-01-21T14:07:10Z,johanneskoester
ee9b1ba5845b2087507f11b49790ee111e0caca0,Johannes Köster,johannes.koester@tu-dortmund.de,Update LICENSE,2021-01-21T11:26:48Z,johanneskoester
3582f1685414eb5d6b2063fc5b42d29a7520dba4,Johannes Köster,johannes.koester@tu-dortmund.de,fix path,2021-01-21T00:08:38Z,johanneskoester
102fd260ae283b8510d7bd80d843318a24807adb,Johannes Köster,johannes.koester@tu-dortmund.de,fmt,2021-01-21T00:02:58Z,johanneskoester
2a61da09c6fd07e1391b52f86d541e4a52754f1b,Johannes Köster,johannes.koester@tu-dortmund.de,fix resource path,2021-01-21T00:02:10Z,johanneskoester
75dc022a882bfd7fa7009f39446a2b6a1f0cf5c6,Johannes Köster,johannes.koester@tu-dortmund.de,add captions,2021-01-20T23:59:22Z,johanneskoester
655d1ae2f27919ade325dc42feab2a908a82d2e3,Johannes Köster,johannes.koester@tu-dortmund.de,fixes,2021-01-20T23:54:44Z,johanneskoester
bd5809815b246f8597f5c197dd0414ac1f9f89be,Johannes Köster,johannes.koester@tu-dortmund.de,add variant filtration and reporting,2021-01-20T23:22:55Z,johanneskoester
839df22aea12ab0b7266786ff77256127b5e04c8,Johannes Köster,johannes.koester@tu-dortmund.de,add synonyms,2021-01-20T22:27:58Z,johanneskoester
5e3f57bece40c18ac85a58909f85b3d2043eae66,Johannes Köster,johannes.koester@tu-dortmund.de,variant calling and annotation,2021-01-20T22:27:33Z,johanneskoester
ff49f1eafc0739ad85b7ff7830d83a6624a422e3,Johannes Köster,johannes.koester@tu-dortmund.de,fmt,2021-01-20T21:23:49Z,johanneskoester
3ea2e4f5509e822be019fdf29c1bd2cbff584434,Johannes Köster,johannes.koester@tu-dortmund.de,fix lints,2021-01-20T21:23:25Z,johanneskoester
fddef0dc271228cfb001c8351c99e78eaa877265,Johannes Köster,johannes.koester@tu-dortmund.de,fix scenario,2021-01-20T21:21:29Z,johanneskoester
808c6be7e3e67adf8879a6fffd0e3f34c7e12e2c,Johannes Köster,johannes.koester@tu-dortmund.de,add missing scenario templates,2021-01-20T21:20:50Z,johanneskoester
47049b11ea8a2c0c13756a9bd0a3493dc734f449,Johannes Köster,johannes.koester@tu-dortmund.de,mapping and calling,2021-01-20T21:19:20Z,johanneskoester
30e46917690bd46a9852fcd1a836da8cad770041,Johannes Köster,johannes.koester@tu-dortmund.de,remote todo,2021-01-20T19:34:52Z,johanneskoester
05754079423b0cf10c9ee84c83605b052c088f0c,Johannes Köster,johannes.koester@tu-dortmund.de,fmt,2021-01-20T19:34:33Z,johanneskoester
c5f3f6341ce715bb98baed5a5d423ddae60778b1,Johannes Köster,johannes.koester@tu-dortmund.de,logging,2021-01-20T19:33:34Z,johanneskoester
36b99dd80b6f6c8cc7b3f3c26924d21c6d69acf5,Johannes Köster,johannes.koester@tu-dortmund.de,mark problematic sites as temp,2021-01-20T19:32:27Z,johanneskoester
b584c814d9ce8c5ce1ed29632d3ed1db70258487,Johannes Köster,johannes.koester@tu-dortmund.de,"Download reference, annotation and problematic sites.",2021-01-20T19:31:08Z,johanneskoester
85e6234d5a7990711675f614165fdfb86d866618,Johannes Köster,johannes.koester@tu-dortmund.de,fix,2021-01-20T17:10:57Z,johanneskoester
def237e28005e9ceec73ad6672a4a075bf28a1de,Johannes Köster,johannes.koester@tu-dortmund.de,fmt,2021-01-20T17:08:10Z,johanneskoester
1ad9bd77f339d6c0744cbf25fdf6ba714117630a,Johannes Köster,johannes.koester@tu-dortmund.de,fmt,2021-01-20T17:04:50Z,johanneskoester
dedfe9b5ac301183e053cf21b1d4bb35e51e57bb,Johannes Köster,johannes.koester@tu-dortmund.de,fixes,2021-01-20T17:04:09Z,johanneskoester
43d8a294ac809ded644f4474b1742bcc626d0176,Johannes Köster,johannes.koester@tu-dortmund.de,add peppy,2021-01-20T16:57:24Z,johanneskoester
0cf775f9735b8d9485e36c18a0d71d466f97d9f5,Johannes Köster,johannes.koester@tu-dortmund.de,fix path,2021-01-20T16:56:31Z,johanneskoester
5d4f605c970c3981276f9a72c3a47936e7a3802f,Johannes Köster,johannes.koester@tu-dortmund.de,set env,2021-01-20T16:53:34Z,johanneskoester
99f680e46caeeddfbb12743b8a57ffe3a1b21798,Johannes Köster,johannes.koester@tu-dortmund.de,add channel,2021-01-20T16:42:15Z,johanneskoester
afb320cb7f9c776deb741cfd5b5f76217682595a,Johannes Köster,johannes.koester@tu-dortmund.de,add peppy,2021-01-20T16:38:33Z,johanneskoester
984f16c69cbcfcf1d63652d08aa838f8ca93afe9,Johannes Köster,johannes.koester@tu-dortmund.de,update github action,2021-01-20T16:36:38Z,johanneskoester
aa4f6ae4877ed59c4f31f832a14cc0b1662636e4,Johannes Köster,johannes.koester@tu-dortmund.de,add missing config,2021-01-20T16:30:39Z,johanneskoester
2cad9c3a47facbd209e6c51477a44b8f89acf175,Johannes Köster,johannes.koester@tu-dortmund.de,fix key,2021-01-20T16:27:03Z,johanneskoester
6b88ca8aa80e5ffbe49b0e0e835c405b043909b5,Johannes Köster,johannes.koester@tu-dortmund.de,add test config,2021-01-20T16:24:05Z,johanneskoester
ce485b5e30fab545b88d7c65d8ccb052a8e6db4f,Johannes Köster,johannes.koester@tu-dortmund.de,add data cache,2021-01-20T16:23:23Z,johanneskoester
631e56cb3b5e7c7ff064356778498d501722b050,Johannes Köster,johannes.koester@tu-dortmund.de,create data dir,2021-01-20T16:18:57Z,johanneskoester
0d709aa7bacebebaf2fa8e38047dad5a0447ff0b,Johannes Köster,johannes.koester@tu-dortmund.de,fixes,2021-01-20T16:17:44Z,johanneskoester
d83d0b9694b439843714784b24b5033daff1255c,Johannes Köster,johannes.koester@tu-dortmund.de,add missing include,2021-01-20T16:16:44Z,johanneskoester
1a2c6e4467e12f2f570b027ef5de24352f82a1fd,Johannes Köster,johannes.koester@tu-dortmund.de,update readme,2021-01-20T16:15:51Z,johanneskoester
bcc98238786f1b0f6ba1ea78a9a9777b7be5608f,Johannes Köster,johannes.koester@tu-dortmund.de,initial commit,2021-01-20T16:11:49Z,johanneskoester
