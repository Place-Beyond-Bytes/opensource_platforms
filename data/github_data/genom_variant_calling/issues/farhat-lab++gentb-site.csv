id,title,state,created_at,updated_at,closed_at,body,user,url
MDU6SXNzdWUxMzkwOTE3NTI=,Make a list of improvements to streamline work flow,CLOSED,2016-03-07T20:56:54Z,2016-03-07T22:09:14Z,2016-03-07T22:08:50Z,"This will involve examining the architecture of the predict page, including data input and output and identifying tasks to help improve work flow. We can start with predict and move to the other 3 genTB pages subsequently. We will then post each improvement as a separate issue on this list.

Due date 3/11/2016.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/1
MDU6SXNzdWUxMzkwOTMwNTI=,Possible Deployment Improvements,CLOSED,2016-03-07T21:03:26Z,2016-03-25T19:00:28Z,2016-03-25T19:00:28Z,"The gentb website currently has settings for live and a couple of other setup warts. This issue tracks those issues and their resolution.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/2
MDU6SXNzdWUxMzkxMTcyODM=,Upload updated TBpredict.R script into orchestra,CLOSED,2016-03-07T22:44:22Z,2016-03-08T20:03:38Z,2016-03-08T20:03:38Z,"The updated script generates the heatmap html files one of three types of output files for the predict page
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/3
MDU6SXNzdWUxMzkxMTgzMDE=,incorporate display of heatmap output on predict page,CLOSED,2016-03-07T22:49:38Z,2016-04-08T19:13:20Z,2016-04-08T19:13:20Z,"Currently the predict page only intakes fastq or vcf files and triggers the pipeline, and checks for completion, we need it to also fetch the heatmap html file output from the output directory.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/4
MDU6SXNzdWUxMzkxNzMzMjk=,Identify R-code that generates mutation per strain html plots from json file ,CLOSED,2016-03-08T04:01:21Z,2016-03-25T15:08:54Z,2016-03-25T15:08:54Z,"This code I believe was already written we just need to find it
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/5
MDU6SXNzdWUxMzkxNzQ3Mzc=,Allow download of predict pipeline intermediary files,CLOSED,2016-03-08T04:14:09Z,2016-08-26T21:26:21Z,2016-08-26T21:26:21Z,"these are the .vcf and .var files that are stored in the same output folder as the .html, .json and other output files that are generated by the predict pipeline. We need to build the website to allow the user to request these files and be able to receive them.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/6
MDU6SXNzdWUxMzkxNzU0MjM=,Decide on coding strategy and approach to convert maps from R to python,CLOSED,2016-03-08T04:16:51Z,2017-01-20T16:04:11Z,2017-01-20T16:04:11Z,"This will have to be d3 based, question is which wrapper to use, need to decide on this, and then define the task list to achieve this milestone.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/7
MDU6SXNzdWUxMzkzODExNDM=,Move predict dependencies into new less private location on orchestra,CLOSED,2016-03-08T20:11:36Z,2016-03-25T20:15:57Z,2016-03-25T20:15:57Z,"This will include predict pipeline, test folder and files and data storage folders.

1- I am awaiting input from Orchestra on the new location
2- Will need to confirm that Martin has access to the new location.
3- Will need to run this by Raman, he has already provided the following input by email:

To change the value in production.
(1) Open this file:
    /www/gentb.hms.harvard.edu/code/gentb-site/gentb_website/tb_website/tb_website/settings/secret_settings_prod_hms.json
(2) Change the value of variable “TB_SHARED_DATAFILE_DIRECTORY”
(3) You probably have to restart the server (supervisord):
https://github.com/IQSS/gentb-site/blob/master/docs/ORCHESTRA-SETUP.md#stop-and-restart-supervisord
——————————————
(extra information)
Settings file references (buried) in the docs are here:
   https://github.com/IQSS/gentb-site/blob/master/docs/ORCHESTRA-SETUP.md#add-production-settings
Where the  “TB_SHARED_DATAFILE_DIRECTORY” value is pulled into the Django code:
    https://github.com/IQSS/gentb-site/blob/master/gentb_website/tb_website/tb_website/settings/production_hms.py#L116
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/8
MDU6SXNzdWUxNDA3NTk0MzM=,Review Users,CLOSED,2016-03-14T18:31:01Z,2016-11-04T22:37:50Z,2016-11-04T22:37:50Z,"The users app tb_user is somewhat disconnected to the contrib auth user, we should review to make sure it's not insecure. This should be a low priority for now.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/9
MDU6SXNzdWUxNDA3NjEyODg=,Add shortcut icon aka Favicon,CLOSED,2016-03-14T18:37:31Z,2016-04-28T18:21:01Z,2016-04-28T18:21:01Z,"For both the main template and the admin, they should have a favicon installed.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/10
MDU6SXNzdWUxNDEwMTk4NzU=,Generate mutation count per gene scatter plots interactively from the heatmap,CLOSED,2016-03-15T16:01:46Z,2016-04-22T13:32:08Z,2016-04-22T13:32:08Z,"Here are detailed instructions on this. I included example html files in the apps/predict folder under a subfolder html (as I couldn't attach html files here)

[TBpredict_output.pdf](https://github.com/IQSS/gentb-site/files/174267/TBpredict_output.pdf)
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/11
MDU6SXNzdWUxNDM1MjI2NDg=,Write/store input files from Predict into new gentb location,CLOSED,2016-03-25T15:20:54Z,2016-03-25T20:14:36Z,2016-03-25T20:14:36Z,"Currently input files that users upload through dropbox are written to the following orchestra folder:
/groups/murray/gentb

however this is a private location, so instead we should create a new folder under the gentb groups folder called predictData and store all the input files there:

/groups/gentb_www/predictData
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/12
MDU6SXNzdWUxNDU0NDQ4NjY=,Data in murray should be moved,CLOSED,2016-04-03T02:22:24Z,2016-04-22T12:57:25Z,2016-04-22T12:57:25Z,"This may need an orchestra ticket, but we have reconfigured the directory of the gentb data from /groups/murray/gentb to /groups/gentb_www/predictData/ we have not moved any of that data to our new location.

Data should be moved to the new directory (I would do it but I can't access murray)
",doctormo,https://github.com/farhat-lab/gentb-site/issues/13
MDU6SXNzdWUxNTA0Mzc1NTE=,Predict start-to-finish testing,CLOSED,2016-04-22T18:15:06Z,2017-03-23T17:41:53Z,2017-03-23T17:41:53Z,"test processing time and bugs with running the predict app start to finish including each of the following scenarios:

1- user uploads one fastq file
2- user uploads one vcf file
3- user uploads 50 fastq files
4- user uploads 50 vcf files
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/14
MDU6SXNzdWUxNTA0MzgxMzE=,Add drop down option for selecting mutations for prediciton,CLOSED,2016-04-22T18:17:30Z,2019-06-07T19:00:27Z,2019-06-07T19:00:27Z,"This is an alternative form of data input instead of upload a file, the user can select one or more mutations from a list, or copy paste a list of mutations into a box. This data is then the input for the pipeline and would enter as a var file. This will allow users who don't have large sequence files including clinicians or laboratory technicians to use the prediction pipeline without having any sequence data on hand.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/15
MDU6SXNzdWUxNTA0NDEzMzQ=,updates to/reformating of predict output page,CLOSED,2016-04-22T18:32:09Z,2016-05-02T19:01:21Z,2016-05-02T19:01:21Z,"1- remove title field
2- display status only if processing was NOT successful
3- move desc, file type, filenames to the top above the graphical result display
4- move y axis of heatmap to the left hand side
5- rename heatmap to ""resistance prediction results""
6- add ? symbol that displays the following text when hovered over:
""Colors more towards the red spectrum represent a higher probability of resistance, colors more blue represent less evidence for resistance. Please note that some error is expected in these predicted probabilities. Hovering over each box corresponding to each strain/drug combination displays the predicted probability of resistance as well as the false positive resistance rate ( resistance probability being falsely >50%), and the false negative resistance rate (resistance probability being falsely <50%). Clicking on each box displays a plot of the mutations contributing to resistance prediction (see minimal list of predictive mutations Farhat et al. AJRCCM 2016)""
7- Display strain/drug title for scatter plot or highlight the clicked box in the heatmap.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/16
MDU6SXNzdWUxNTA0NDU4NDg=,Updates to genTB site text,CLOSED,2016-04-22T18:54:00Z,2016-04-28T15:42:15Z,2016-04-28T15:42:15Z,"Please make the following changes:

1- 
in the <About> page, and under the heading <Random Forest Classifer> please change the following sentence:
""Development and validation of this Prediction classifier is described in detail in Farhat MR, Razvan S et. al. under review.""
to 
""Development and validation of this Prediction classifier is described in detail in Farhat MR, Razvan S et. al. Genetic Determinants of Drug Resistance in Mycobacterium tuberculosis and Their Diagnostic Value. AJRCCM 2016""

Embedding the following link in ""Farhat MR .... 2016"":  http://www.ncbi.nlm.nih.gov/pubmed/26910495

2- Please remove ""Finally"" from the beginning of the paragraph under explore

3- in the <Predict> page please change the following text:
""Minimal genotypic information for accurate resistance predictions are below. Genetic regions are listed in order of decreasing importance. For more detailed list of genetic variants see reference Farhat MR, Sultana R et al. under review""

to 
""Minimal genotypic information for accurate resistance predictions are below. Genetic regions are listed in order of decreasing importance. For more detailed list of genetic variants see reference Farhat MR, Sultana R et al. Genetic Determinants of Drug Resistance in Mycobacterium tuberculosis and Their Diagnostic Value. AJRCCM 2016""

Embedding the following link in ""Farhat MR .... 2016"":  http://www.ncbi.nlm.nih.gov/pubmed/26910495  
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/17
MDU6SXNzdWUxNTE4ODUyMTU=,contact information,CLOSED,2016-04-29T14:49:03Z,2016-05-02T19:01:12Z,2016-05-02T19:01:12Z,"We seem to have lost the contact information:

I can't exactly what we had there but it should say my name and at least an email address tbpredict@gmail.com
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/18
MDU6SXNzdWUxNTI2MDIzMDA=,All generated files can be downloaded,CLOSED,2016-05-02T17:35:15Z,2017-01-20T17:43:22Z,2017-01-20T17:43:22Z,"On the predict dataset page, all var and vcf files should be downloadable directly from a link on the page.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/19
MDU6SXNzdWUxNTQ5MjUxOTE=,Push Privileges ,CLOSED,2016-05-15T19:25:49Z,2016-05-16T15:23:05Z,2016-05-16T15:23:05Z,"Hello, I work with Maha on the predictive modeling tools. I'm putting together Neural Network predictive codes in python and I'd like to push my codes in the repository. Is it something that I can be allowed to? Thanks a lot.
",jimmyroyer,https://github.com/farhat-lab/gentb-site/issues/20
MDU6SXNzdWUxNTYxNzIyODI=,Predict page proposal,CLOSED,2016-05-22T20:55:06Z,2016-05-25T16:57:59Z,2016-05-25T16:57:59Z,"Maha, attached is a screenshot for the predict page.

It shows a buttons per row with a right hand side description, when the button is clicked to takes the user tot he specific form for that type of data entry. If it's a single fastq or  vcf then it's one file from dropbox, if it's pair fastq then it's two dropbox files and the manual is our new drop downs. (all pages would have the name and description fields first)

This should give us the space to describe to the user what each thing is and help them to the right option they need.

What do you think of this layout?
![screenshot from 2016-05-22 16-51-53](https://cloud.githubusercontent.com/assets/589384/15456436/ebe2a5dc-203d-11e6-95b0-a719ba7fd459.png)
",doctormo,https://github.com/farhat-lab/gentb-site/issues/21
MDU6SXNzdWUxNjA5MDIxNTk=,user upload of multiple fastq or multiple vcf files representing multiple strains,CLOSED,2016-06-17T14:33:32Z,2016-07-19T00:32:49Z,2016-07-19T00:32:49Z,"Need to allow user to batch upload multiple sequence files representing multiple strains
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/22
MDU6SXNzdWUxNjA5MDI4MjI=,x-axis of mutation scatter plot in predict output,CLOSED,2016-06-17T14:36:35Z,2016-08-14T21:58:13Z,2016-08-14T21:58:13Z,"need to make sure x-axis changes for each drug, only plotting the relevant genes for each drug.
[TBpredict_output.pdf](https://github.com/IQSS/gentb-site/files/320689/TBpredict_output.pdf)

)
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/23
MDU6SXNzdWUxNzA4OTk3ODg=,More data on predict pages,CLOSED,2016-08-12T15:40:10Z,2017-03-23T17:42:27Z,2017-03-23T17:42:27Z,"We need to show the total run time of the predict pipeline as well as the errors file that could give us information about why a pipeline failed or the data doesn't look right.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/24
MDU6SXNzdWUxNzEwODExOTY=,Show false positive and false negative data,CLOSED,2016-08-14T21:59:39Z,2016-08-14T21:59:57Z,2016-08-14T21:59:57Z,"On the heatmap tooltip, we need to show the false positive and false negative statistical data. Labeled as FP Rate and FN Rate.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/25
MDU6SXNzdWUxNzIyMDIzNTk=,Reset password failure,CLOSED,2016-08-19T19:23:11Z,2016-11-04T22:37:11Z,2016-11-04T22:37:11Z,"This error occurs when you reset the password:

NoReverseMatch: Reverse for 'password_reset_confirm' with arguments '()' and keyword arguments '{u'uidb64': 'Mg', u'token': u'4el-7f6a9a64c9ba78d6c911'}' not found. 0 pattern(s) tried: []
",doctormo,https://github.com/farhat-lab/gentb-site/issues/26
MDU6SXNzdWUxNzIyMDQ5NDE=,Benchmarking files,CLOSED,2016-08-19T19:37:53Z,2016-08-19T20:26:14Z,2016-08-19T20:26:14Z,"Some standard fastq and vcf files are needed in order to conduct benchmarking research on the code.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/27
MDU6SXNzdWUxNzIyMDUwODc=,updates to website txt,CLOSED,2016-08-19T19:38:44Z,2017-05-23T03:40:02Z,2017-05-23T03:40:02Z,"Maha needs to update these, likely most efficient if Maha can edit the text in the html code directly. Please teach her how and where to look
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/28
MDU6SXNzdWUxNzIyMTUyMjA=,Json decode error: apache caching,CLOSED,2016-08-19T20:35:48Z,2016-08-19T21:05:29Z,2016-08-19T21:05:29Z,"When attempting to upload a new predict, this error happens:

ValueError: No JSON object could be decoded

This is because the front end javascript is stale and it's not creating json content that describes the file from dropbox. These files are being cached by the gentb apache webserver and need to be invalidated.

A ticket has been opened with orchestra support to query how we can automatically deal with caches.

One possible solution is to use static hashes, I will look into this workaround.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/29
MDU6SXNzdWUxNzIyMjA1ODc=,Uploading the same file in both fastq,CLOSED,2016-08-19T21:06:17Z,2016-08-26T18:59:05Z,2016-08-26T18:59:05Z,"When creating a new fastq prediction, if you use the same file in both ends, it causes an error. This is because the filenames are exactly the same in the system.

> IntegrityError: (1062, ""Duplicate entry 'h37rv.fastq-27' for key 'dropbox_dropboxfile_filename_3ebd2d951009cff5_uniq'"")
",doctormo,https://github.com/farhat-lab/gentb-site/issues/30
MDU6SXNzdWUxNzIyMjM2MTk=,uploading paired-end files from one button,CLOSED,2016-08-19T21:25:18Z,2016-08-26T18:58:49Z,2016-08-26T18:58:49Z,"We discussed a Javascript solution that automatically separates the files.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/31
MDU6SXNzdWUxNzM0NjcxNTE=,"Update frequency ""My datasets"" page",CLOSED,2016-08-26T14:31:20Z,2016-10-11T15:16:08Z,2016-10-11T15:16:08Z,"Ideally we should have this be updated frequently, or at least that results be pushed immediately to the sites when available. Processing a VCF should take only a few minutes, but 20minutes later the status is still ""Dataset CONFIRMED for Dropbox file retrieval ""
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/32
MDU6SXNzdWUxNzM0NjcyODA=,Option to receive email when job is successfully completed,CLOSED,2016-08-26T14:31:54Z,2016-10-11T12:52:09Z,2016-10-11T12:51:39Z,"We need to make sure we implement this if we haven't already
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/33
MDU6SXNzdWUxNzM0Njg3MzY=,Predict Job delays and need to maintain a record of processing times,CLOSED,2016-08-26T14:38:11Z,2016-09-02T21:20:10Z,2016-09-02T21:20:10Z,"It seems that jobs are taking too long to run: this could be 1 of at least 3 reasons:

1- issues/delays with dispatching jobs immediately after data upload
2- jobs are not running 
3- results are available but site is not updated

We have to document the timing of each of these steps at least as we develop this (no need to share with user).
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/34
MDU6SXNzdWUxNzM0ODUwNjE=,Mutation plots on resistance prediction page missing x-axis labels when only one x-axis label is required,CLOSED,2016-08-26T15:51:32Z,2016-09-02T18:09:46Z,2016-09-02T18:09:46Z,"for the following drugs only:
LEVO
CAP
AMK
RIF
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/35
MDU6SXNzdWUxNzM0ODU1MjA=,reposition X-axis labels (and corresponding data points) at coordinates in ward from axis edges,CLOSED,2016-08-26T15:53:50Z,2016-08-26T18:58:16Z,2016-08-26T18:58:16Z,"For example for drugs with only two x-axis labels (loci names), these currently lie at the origin and at the extreme right of the x-axis, this is visually challenging. if we can pull those in wards from the extremes a little
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/36
MDU6SXNzdWUxNzM0OTA0ODI=,"X-axis label text of mutation plots cutting off, plot title text with font that is too big",CLOSED,2016-08-26T16:18:37Z,2016-09-02T18:08:39Z,2016-09-02T18:08:39Z,"perhaps if we shrink the plot title text a little we can fit the x-label text?
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/37
MDU6SXNzdWUxNzQxMDE5Mjg=,"When multiple files are input for prediction, only results for one is appearing on the heat map",CLOSED,2016-08-30T19:18:01Z,2016-08-31T18:33:32Z,2016-08-31T18:33:32Z,"check out dataset test_8_30 results page
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/38
MDU6SXNzdWUxNzQ3OTUyNTM=,minor adjustment to predict result page text,CLOSED,2016-09-02T16:10:32Z,2016-09-02T17:58:38Z,2016-09-02T17:58:38Z,"Please relabel the heatmap section from ""Mutations"" to "" Resistance prediction""
and the mutation/locus bar chart from ""Resistance prediction"" to ""Mutations""
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/39
MDU6SXNzdWUxNzQ3OTU5OTQ=,Allow user to reorder lines (isolates) in the heatmap by drag and drop or to sort them by name,CLOSED,2016-09-02T16:13:54Z,2017-03-11T03:01:13Z,2017-03-11T03:01:13Z,"for example in Italian dataset it would be very useful if the user can reorder the lines by Italian1, Italian2, Italian3 etc to Italian10 by draging lines to the right place.

Or alternatively ordering the lines by hierarchical clustering of the colors/probabilites would be even better.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/40
MDU6SXNzdWUxNzcxNDk2NDg=,Manual prediction doesnot complete processing,CLOSED,2016-09-15T11:13:37Z,2016-10-07T19:02:00Z,2016-10-07T16:07:51Z,"Please look at latest dataset ""test"" that has not completed processing despite >12hours. Not sure where it's getting stuck 
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/41
MDU6SXNzdWUxODE3MTczMjE=,Add quality control step for fastq and vcf processing,CLOSED,2016-10-07T16:48:39Z,2017-03-23T17:42:44Z,2017-03-23T17:42:44Z,"checks coverage at important mutations and returns poor coverage error if >5% are at less than 20x coverage
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/42
MDU6SXNzdWUxODE3MzIyNjg=,mutation plots now too crowded after database update,CLOSED,2016-10-07T18:03:39Z,2016-10-11T05:53:55Z,2016-10-11T05:53:54Z,"![crowded xaxis fw](https://cloud.githubusercontent.com/assets/8130645/19200392/d423ecc4-8c96-11e6-8f52-7a6616b31b3d.png)
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/43
MDU6SXNzdWUxODE3MzMwMzY=,mutation plot x-axis not refreshing accurately when moving from one drug to the other,CLOSED,2016-10-07T18:07:39Z,2016-10-11T05:21:21Z,2016-10-11T05:21:21Z,"clicking INH you get:

![crowded xaxis fw](https://cloud.githubusercontent.com/assets/8130645/19200451/089a8eae-8c97-11e6-8b3e-5347899c71b2.png)

then clicking RIF you get:
![incorrect x-axis fw](https://cloud.githubusercontent.com/assets/8130645/19200492/549fe20e-8c97-11e6-9155-2bc80e1deb97.png)

but if you refresh the page the click RIF you get an accurate plot with promoter rpoB and rpoB on the X-axis!
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/44
MDU6SXNzdWUxODE3NDQ1MjU=,Manual input: allow user to filter down mutations by entering a few characters that match mutation,CLOSED,2016-10-07T19:04:18Z,2016-10-11T03:26:46Z,2016-10-11T03:26:46Z,"in the mutation drop down the user should be able to filter down the options by  entering a few matching characters. The list of mutations is now long and it's difficult to look through without further filtering. We should also sort the mutations before displaying them preferably by the second field. The second field is a 1-6 digit integer indicating the genomic coordinate of the mutation)
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/45
MDU6SXNzdWUxODE3NTA1MDM=,In hover box over the heat map FP and FN are switched,CLOSED,2016-10-07T19:33:44Z,2016-10-11T01:06:16Z,2016-10-11T01:06:16Z,"FP should be replaced by FN and vice versa in the hover box from the heatmap
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/46
MDU6SXNzdWUxODE3NTg2ODI=,contact email link missing in about and home pages,CLOSED,2016-10-07T20:17:25Z,2016-10-18T14:20:23Z,2016-10-18T14:20:23Z,"email address TBpredict@gmail.com is missing from 

> about>features and tools in development 
> after: ""to receive updates on these features please email us at .""

and 

> data>contribute your data>steps
> after: ""Questions? Please contact us at ""
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/47
MDU6SXNzdWUxODIxODEwODI=,Deployment is hard because there's no deploy script,CLOSED,2016-10-11T06:05:13Z,2016-10-11T06:05:27Z,2016-10-11T06:05:19Z,"Write a deployment script that can run all the required commands and restart the supervisord as needed.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/48
MDU6SXNzdWUxODIyNzAzODQ=,Other mutations not showing in plot,CLOSED,2016-10-11T13:55:20Z,2017-03-23T17:40:52Z,2017-03-23T17:40:52Z,"I need to see why other mutations are not ending up in json file after manual entry
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/49
MDU6SXNzdWUxODIzMDQxNjU=,promoter mutation not displaying in plot,CLOSED,2016-10-11T15:57:45Z,2016-10-18T14:16:20Z,2016-10-18T14:16:20Z,"by manual entry I selected this mutation:
SNP_P_1673425_C15T_promoter_fabG1.inhA
which is an important mutation for inh and eth resistance (it shows up in the json file) in the following folder:
/groups/gentb_www/predictData/tbdata_00000049

but at the moment this is not displaying in the plot, not sure why (see dataset title strain123)
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/50
MDU6SXNzdWUxODM3MTQ4MTg=,Describe dv genotype phenotype columns,CLOSED,2016-10-18T15:09:24Z,2016-10-28T18:39:11Z,2016-10-28T18:39:11Z,"In order to create good database models from the csv data, we need to be able to re-group the columns from `shinyapps.io/genTB/dv_genotype_phenotype_with_country.csv` into their appropriate tables.
#7 depends on this issue. This is the data so far with their unique counts:

Strain Mutation:
- old_id: 156887
- snpname: 26950
- ResistanceType: 5
- IsoniazidDST: 4
- EthionamideDST: 4
- RifampicinDST: 3
- RifabutinDST: 3
- EthambutolDST: 3
- PyrazinamideDST: 3
- StreptomycinDST: 3
- AmikacinDST: 3
- CapreomycinDST: 4
- KanamycinDST: 3
- OfloxacinDST: 4
- CiprofloxacinDST: 3
- LevofloxacinDST: 3
- MoxifloxacinDST: 4
- GatifloxacinDST: 3
- ParaAminoSalicylicAcidDST: 4
- CycloserineDST: 3
- ThioacetazoneDST: 3
- ProthionamideDST: 3
- ClofazimineDST: 3
- ClarithromycinDST: 3
- AmoxicillinClavulanateDST: 3
- LinezolidDST: 3:
- \+ Strain/Sample

Strain/Sample:
- strain: 1862
- Name: 1843
- Date: 866
- City: 19
- Source: 17
- \+ Patient
- \+ Country

Patient:
- PatientID: 621
- PatientAge: 48
- PatientSex: 3
- HIVStatus: 2

Duplicate Data from snpname (thrown away):
- sub.ins.del: 4
- coding.silent: 13
- genomic.coordinate: 26656
- genetic.change: 13014
- amino.acid.change: 16761
- region: 5027

Country:
- Country_code: 78
- Country: 78
- lat: 59
- lon: 62

Unknown:
- Setting: 47
- Spfamily_parentstrain: 10
- RFLPfamily: 62
- Spoligo_octal: 3
",doctormo,https://github.com/farhat-lab/gentb-site/issues/51
MDU6SXNzdWUxODU5OTc1Mjg=,Remaining Explainations,CLOSED,2016-10-28T19:04:22Z,2016-11-04T16:23:05Z,2016-11-04T16:23:05Z,"These fields need a description:
-      sptype?
-      inttype?  
-      IS6110?
-      RFLPfamily?
-      spfamily_parentstrain?
-      PGG?
-      spoligo_octal?  

Also can you explain what h34rv is, it's a code of some kind?
- hqr
- hqrref
- fq
- aavar 
",doctormo,https://github.com/farhat-lab/gentb-site/issues/52
MDU6SXNzdWUxODY4MDM0NjU=,New User login not working,CLOSED,2016-11-02T13:41:17Z,2016-11-04T15:17:53Z,2016-11-04T15:16:52Z,"Message from a prospective new user 

""I’m trying to logging in after registering myself, but it does not recognize my password. I tried the recovery password function but it does not work and it displays the following:""

 Error is: ""Page no found. 404 Error""

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/53
MDU6SXNzdWUxODcwNjQ3NzE=,"After logging out, user is diverted to admin page",CLOSED,2016-11-03T13:50:06Z,2016-11-04T20:50:54Z,2016-11-04T20:50:54Z,"after clicking log out a temp page appears that thanks the user and provides a link for log in: this is diverting to the following URL:
https://gentb.hms.harvard.edu/gentb-admin/login/?next=/gentb-admin/

which is an admin login page that looks temporary",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/54
MDU6SXNzdWUxODc3NTM1NjI=,update dataverse logo from network to project,CLOSED,2016-11-07T16:11:47Z,2016-11-18T17:05:37Z,2016-11-18T17:05:37Z,update what's currently on the site to the logo present at http://dataverse.org/,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/55
MDU6SXNzdWUxODgwOTQ0NDk=,Cosmetic improvement of predict output page,CLOSED,2016-11-08T20:24:46Z,2017-02-17T21:35:16Z,2017-02-17T21:35:16Z,"(1) Let's move the Raw Results Files section out of the admin section into the results area right after ""Mutations"". This relabel this as ""Full Genetic Variant Data"". Exclude the json file from here.

(2) Let's hide the rest of administrative info (so it can be seen only if user hits a tab or icon called ""Admin"").

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/56
MDU6SXNzdWUxODgzMzIxNTQ=,Notes from Mike,CLOSED,2016-11-09T19:30:20Z,2017-01-24T14:09:24Z,2017-01-21T03:59:09Z,"**Homepage**
- [x] Terms of Use/Supporters/Contact/Cite/FAQs block clean up layout -- the collapsable panels don’t provide much UX value
- [x] Citation, “Murray M” listed twice
- [x] Citation, does the URL need to be a link?
- [x] Contact Information panel has a bad URL, that returns a 404, the correct URL for that link should be “mailto:tbpredict@gmail.com”
- [x] Page title for browser window only reads “- genTB” and should have a brief description here, maybe “genTB - Translational Genomics of Tuberculosis”

**Footer**
- [x] Update Dataverse Project logo (updated logo can be found at Dataverse in GitHub)

**Predict**

- [x] All of the prediction method titles include “New”, since the site is new, and all these methods are labeled new, do we need to explicitly label them as such? (I also wanted to say all “Prediction” was also too redundant, but I can understand if that is necessary)
- [x] Since “Variant Call Format” is often referred to as “VCF” in the site, maybe include that in parentheses in the section title, “Variant Call Format (VCF) Prediction”
- [x] “New Variant Call Format Prediction” description, the link “More information” shouldn’t be capitalized and the URL points to this same Predict pg, also “vcf” should be capitalized
- [x] “New Manually Entered Prediction” description, “vcf” should be capitalized
- [x] There is a thin gray line at the top of the column on right-side of page, remove this column if it’s not needed and let the content extend full width
- [x] When the browser window is narrow (~1020px), the footer copyright and links shoots right into this extra column space
- [x] Page title for browser window only reads “Create Prediction - genTB” and should been consistent with the heading “Predict - genTB”

**Predict > FastQ Pair-Ended**

- [x] Info/help text is restricted to column on left-side of page, it should extend full-width, above both columns
- [x] “Dataset information” title should be capitalized, align left, increase font size to be equal to “FASTQ files” title
- [x] Since you have “dataset” in that section title, you shouldn’t need it in the form labels, so I suggest using just “Title” and “Description”, and no need for the colons (“:”)
- [x] “FASTQ files” title should follow the “FastQ” format style that is used on the Predict pg, “files” should be capitalized
- [x] Will there is no standard I can refer to, typically the Save/Submit buttons is on the left, and the Cancel button is on the right, there is be extra space added between them in order to avoid accidental clicks

**Predict > FastQ Single-Ended**

- [x] Info/help text is restricted to column on left-side of page, it should extend full-width, above both columns
- [x] “Dataset information” title should be capitalized, align left, increase font size to be equal to “FASTQ files” title
- [x] Since you have “dataset” in the section title, you shouldn’t need it in the form labels, so I suggest using just “Title” and “Description”, and no need for the colons (“:”)
- [x] “FASTQ files” title should follow the “FastQ” format style that is used on the Predict pg, “files” should be capitalized
- [x] Will there is no standard I can refer to, typically the Save/Submit buttons is on the left, and the Cancel button is on the right, there is be extra space added between them in order to avoid accidental clicks

**Predict > Variant Call Format**
- [x] Info/help text is restricted to column on left-side of page, it should extend full-width, above both columns
- [x] “Dataset information” title should be capitalized, align left, increase font size to be equal to “vcf file” title
- [x] Since you have “dataset” in the section title, you shouldn’t need it in the form labels, so I suggest using just “Title” and “Description”, and no need for the colons (“:”)
- [x] “vcf file” title should be capitalized, “VCF File”
- [x] Will there is no standard I can refer to, typically the Save/Submit buttons is on the left, and the Cancel button is on the right, there is be extra space added between them in order to avoid accidental clicks

**Predict > Manually Entered**

- [x] “Manual Mutations Entry” heading doesn’t follow the “New Manually Entered Prediction” heading on the previous Predict pg, they should be labeled in a consistent manner
- [x] Info/help text is restricted to column on left-side of page, it should extend full-width, above both columns
- [x] “Dataset information” title should be capitalized, align left, increase font size to be equal to “Instructions” title
- [x] Since you have “dataset” in the section title, you shouldn’t need it in the form labels, so I suggest using just “Title” and “Description”, and no need for the colons (“:”)
- [x] “Genetic information” title should be capitalized
- [x] Will there is no standard I can refer to, typically the Save/Submit buttons is on the left, and the Cancel button is on the right, there is be extra space added between them in order to avoid accidental clicks

**Data**
- [x] The two-column layout doesn’t give enough space to the Dataverse widget, I would recommend trying a tab component to display one workflow at a time
- [x] Page title for browser window only reads “Share - genTB - genTB” and should been consistent with the link that was clicking in the navbar heading “Data - genTB”

**Data > Contribute**

- [x] First sentence in first paragraph references the “Harvard Dataverse Application”, which should only be “Harvard Dataverse”
- [x] Sentence in second paragraph has “FASTQ” reference, should follow the “FastQ” format style that is used on previous pgs
- [x] Sentence in third paragraph has two links to the same page -- to avoid this, I suggest revising the sentence to read “Please view the Data Upload Instructions guide for more information on how to prepare your data for sharing.”
- [x] Step 1 should be changed to read, “Go to the Harvard Dataverse to create an account” -- that link brings the user right to the Create Account pg, and will redirect them to your Tuberculosis Dataverse, no other links should required in the following steps
- [x] Step 2 should be changed to read, “Upon creating your account, you’ll be redirected to the Tuberculosis Dataverse, then click the Add Data button, and select New Dataset.”
- [x] Last paragraph has a bad URL, that returns a 404, the correct URL for that link should be “mailto:tbpredict@gmail.com”

**Data Upload Instructions**

- [x] Link to “Dataverse” should open in a new window, and should read “Harvard Dataverse”
- [x] “Genotype data files”  title should be capitalized
- [x] “FASTQ” references should follow the “FastQ” format style that is used on previous pgs
- [x] “FASTQ paired end files”  title should be capitalized, also should it be the same font size as the other titles?
- [x] “Phenotype data files” title should be capitalized
- [x] Page title for browser window only reads “Data Upload Instructions - genTB - genTB”, the second “- genTB” should be removed

**Map**
--REDACTED

**Explore**

- [x] Help text at top of page contains two links to the same video URL. Suggest changing to read, “Please watch our tutorial video for a quick demonstration of how to use this analysis tool.”
- [x] Also, related to the demo video on YouTube, the description reads “For more information, visit http://tb.datascience.iq.harvard.edu/”, and that URL seems to point to a different (older?) installation of genTB than your current site
- [x] Clicking “Open Codebook” results in 403 Not Authorized (Harvard Dataverse), should also open in new window/tab
- [x] Iframe border around TwoRavens is heavy and could be removed or made a lighter gray

**About**

- [x] Intro sentence is formatted in italic, no other sections use this formatted style, maybe apply it to the help/info msgs on the other pages
- [x] Predict DR/Share/Map/Explore -- move these section descriptions into the help/info msgs of each page, where they’re more useful to the users
- [x] “Predict DR” section title vs. “Predict” pg used across the site, this section should be referenced in a consistent manner
- [x] “Share” section I believe is intended to describe the Data pg, this section should be referenced in a consistent manner
- [x] “Share” section has a link to “Digital Object Identifier (DOI)” that should open in a new window/tab
- [x] “Explore” section has a link to “TwoRavens” that should open in a new window/tab
- [x] “Features and Tools in Development” section has a bad URL, that returns a 404, the correct URL for that link should be “mailto:tbpredict@gmail.com”
- [x] “Training data sources are described in” section has links in the citations that should open in a new window/tab, the title should be capitalized, and read “Training Data Sources”
- [x] “Random Forest Classifier” section has a link that should open in a new window/tab
- [ ] Terms of Use/Supporters/Contact/Cite block clean up layout -- this section is the same info as on the homepage, maybe they could share a consistent layout (see quick mockup I attached below…)
- [x] “Contact” section has a bad URL, that returns a 404, the correct URL for that link should be “mailto:tbpredict@gmail.com”
- [x] “Terms of use statement” title should be capitalized
- [x] “Terms of use statement” different than the “Terms of Use” pg
- [x] Citation, “Murray M” listed twice
- [x] Citation, does the URL need to be a link?
- [x] Page title for browser window only reads “About - Phthisis Ravens - genTB”, the name “Phthisis Ravens” isn’t included anywhere else in the app, and should be removed

**Terms of Use**

- [x] “Terms of Use” pg different than the “Terms of use statement” on About pg

Tuberculosis Dataverse
Update description of the Tuberculosis Dataverse to point to the genTB app

**Sample Mockups**

- [x] Termsof Use/Cite the Project/Funding block mockup for the Home + About pgs

![mockup](https://cloud.githubusercontent.com/assets/589384/20151685/16d4fb42-a689-11e6-88b5-abd7b4d8464a.png)",doctormo,https://github.com/farhat-lab/gentb-site/issues/57
MDU6SXNzdWUxODgzNjg4NTI=,Targeting Regions,CLOSED,2016-11-09T22:26:48Z,2016-11-15T15:12:22Z,2016-11-15T15:12:22Z,"What are the target regions tables called in the gtbdr database.

This is blocking.",doctormo,https://github.com/farhat-lab/gentb-site/issues/58
MDU6SXNzdWUxODk0Mzg4MjI=,"Duplicate Mutations, same Name",CLOSED,2016-11-15T16:25:06Z,2016-11-18T17:04:49Z,2016-11-18T17:04:49Z,"In our mutations app we have duplicates for the same gene_locus and mutations. These gene_locus's are owned by different drugs, which is fine for the predict use, but it makes it hard to bring in the maps data as they don't have drugs attached to them in the same way.

It looks like we need to make gene_locus unique and drugs shouldn't own gene_locuses. but you will know better than me.

This is a blocker.",doctormo,https://github.com/farhat-lab/gentb-site/issues/59
MDU6SXNzdWUxOTExMjYzNzc=,Log in Error,CLOSED,2016-11-22T21:16:40Z,2016-11-23T20:45:20Z,2016-11-23T20:45:20Z,"getting the following error when I try to log in using firefox:


Forbidden (403)

CSRF verification failed. Request aborted.

You are seeing this message because this site requires a CSRF cookie when submitting forms. This cookie is required for security reasons, to ensure that your browser is not being hijacked by third parties.

If you have configured your browser to disable cookies, please re-enable them, at least for this site, or for 'same-origin' requests.
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/60
MDU6SXNzdWUxOTExMjgzMDQ=,"""add"" button not working for manual prediction using microsoft edge",CLOSED,2016-11-22T21:25:37Z,2017-01-21T10:34:04Z,2017-01-21T10:34:04Z,"drop down list for mutations is acting strangely, list is slow to appear and is in very large font, and is also misplaced relative to the mutations box. Once a mutation is selected clicking on ""add"" does not result in addition of the mutation to the list",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/61
MDU6SXNzdWUxOTEzODI1NzM=,Strain Mutation Repeats,CLOSED,2016-11-23T21:22:27Z,2016-11-23T22:13:26Z,2016-11-23T22:13:26Z,"Sometimes a mutation is repeated in the table strain_var_h37rv for example:

{""bidir"": ""N"", ""snpid"": ""1473136AT"", ""aavar"": """", ""fq"": 69, ""hqr"": 102, ""qual"": 200, ""depth"": 127, ""hqrref"": 25, ""id"": 1514},
{""bidir"": ""N"", ""snpid"": ""1473136AT"", ""aavar"": """", ""fq"": 68, ""hqr"": 245, ""qual"": 200, ""depth"": 272, ""hqrref"": 27, ""id"": 1514},
{""bidir"": ""N"", ""snpid"": ""2726338TG"", ""aavar"": ""G"", ""fq"": 40, ""hqr"": 252, ""qual"": 200, ""depth"": 267, ""hqrref"": 15, ""id"": 1514},
{""bidir"": ""N"", ""snpid"": ""2726338TG"", ""aavar"": ""G"", ""fq"": 39, ""hqr"": 420, ""qual"": 200, ""depth"": 456, ""hqrref"": 36, ""id"": 1514},

This shows two strain mutations, two slightly different bits of data.",doctormo,https://github.com/farhat-lab/gentb-site/issues/62
MDU6SXNzdWUxOTM1NTk4Njc=,Add a refresh for the results,CLOSED,2016-12-05T17:25:45Z,2017-03-23T17:40:15Z,2017-03-23T17:40:15Z,"if a result has been done, show the predict item page when it's ready. This requires a refresh system of checking the status.",doctormo,https://github.com/farhat-lab/gentb-site/issues/63
MDU6SXNzdWUxOTM1NTk5OTg=,Uploaders not aware of delay,CLOSED,2016-12-05T17:26:24Z,2017-03-23T17:39:51Z,2017-03-23T17:39:51Z,Make sure uploaders are aware there will be a delay between the upload and the prediction. It will email you but you should check the final screen after upload for the right messages with the right display.,doctormo,https://github.com/farhat-lab/gentb-site/issues/64
MDU6SXNzdWUxOTM1NjAwODY=,Country use,CLOSED,2016-12-05T17:26:48Z,2016-12-09T22:59:39Z,2016-12-09T22:59:39Z,The mutations app should use a dedicated country model.,doctormo,https://github.com/farhat-lab/gentb-site/issues/65
MDU6SXNzdWUxOTM5MDI1Njc=,Source quality is often negative,CLOSED,2016-12-06T22:22:52Z,2016-12-13T00:11:07Z,2016-12-13T00:11:07Z,Th values in gtbdr database under the column fq in table strain_var_h37rv are almost always negative. The quality field is often positive (depth?),doctormo,https://github.com/farhat-lab/gentb-site/issues/66
MDU6SXNzdWUxOTQ3MTc1NDQ=,Old data settings value,CLOSED,2016-12-09T22:58:17Z,2016-12-16T17:17:35Z,2016-12-16T17:17:35Z,"These items are in the settings column and need translating.

- Endemic beijing
- highly transmitted in NYC
- FZB Lineage6
- FZB Lineage5
- patient-1 RFLP w1 1/5 cases from contam b-scope
- mine
- FZB Lineage1
- Endemic strain(s) from identical spoligocluster with progressive resistance
- RIVM Lineage2
- derived from lung extracts of patient with original H37 strain
- Lab generated mutant with isolated low level kanamycin resistance
- isolated in SF Lineage4B
- Community outbreak  with identical spoligotype
- isolated from a single host during the course of a chronic infection
- RIVM Lineage4C
- RIVM Lineage4B
- Endemic Beijing
- Outbreak Northern BC
- Multiple countries, first isolated in Haarlem, The Netherlands
- Endemic strain(s) from identical spoligocluster with variable levels of resistance
- |N
- Endemic beijing family strain(s) with relatively low transmission
- isolated in SF from patient born in China Hirsh et al 2004 Lineage3C
- Philip Hopewell
- Virulent reference beijing
- None
- isolated from patient in Gambia 2002 previously analyzed by genomic deletion analysis Gagneux et al 2006 Lineage1
- Single IV-Drug User with non-compliance
- russian clin isolate w high level cap resistance
- highly drug resistant
- isolated in SF Lineage3C
- isolated in SF Lineage3B
- clin isolate w unknown mech pza resistance
- RIVM LineageM_canettii
- Community outbreak  with progressive resistance with similar but non identical spoligotype
- isolated in SF from patient born in Philipines Hirsh et al 2004 Lineage4A
- RIVM Lineage3A
- RIVM Lineage1
- Endemic beijing-low-copy-clade family strain(s) with relatively low transmission
- 2177-N / clin isolate in college student travel to india com to another pt
- isolated in SF Lineage6
- Mine outbreak
- isolated in SF Lineage2 Philip Hopewell
- russian clin isolate w low level kan resistance
",doctormo,https://github.com/farhat-lab/gentb-site/issues/67
MDU6SXNzdWUyMDIxNjAyOTA=,Add django command for adding a data set manually to the pipeline,CLOSED,2017-01-20T14:58:17Z,2019-06-07T18:20:48Z,2019-06-07T18:20:48Z,"The pipeline currently only takes data from dropbox, sometimes we may want to take existing data on the machine and create a new dataentry object and copy the files into the pipeline data directories.",doctormo,https://github.com/farhat-lab/gentb-site/issues/68
MDU6SXNzdWUyMDIyNDY4Nzg=,Reconstruct local.py settings on orchestra,CLOSED,2017-01-20T21:29:32Z,2017-01-21T03:02:38Z,2017-01-21T03:02:38Z,A regression in the local.py happened and it needs to be rewritten.,doctormo,https://github.com/farhat-lab/gentb-site/issues/69
MDU6SXNzdWUyMDQ5ODI0MzY=,edit ERROR 500 message page,CLOSED,2017-02-02T20:10:24Z,2017-03-21T16:19:20Z,2017-03-21T16:19:20Z,"modify error 505 message page, to report to the user something to the effect that ""sorry you have encountered this error, we have been notified and will work on it asap, please try us again in 24-48 hours""",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/70
MDU6SXNzdWUyMDQ5ODgwMzM=,manual prediction matrix is too large ,CLOSED,2017-02-02T20:31:39Z,2017-03-21T18:07:12Z,2017-03-21T18:07:12Z,"Matrix generated by manual prediction input currently allows too many variables (essentially all that are in the database), we need to limit these to the 992 variables that are in the variable_name_list.csv file in the bin folder. This will speed up the processing considerably.",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/71
MDU6SXNzdWUyMDQ5OTkxMzY=,Varient list creator should come out of pipeline code.,CLOSED,2017-02-02T21:18:34Z,2017-04-28T18:19:46Z,2017-04-28T18:19:46Z,"I'd like to get the variant_list.py file folded into the site code as well, as it'd be helpful to keep all the data in the same place.

This is related to issue #71 where we want to fold in the csv data to the database. So it only makes sense to also fold in the generator code too.",doctormo,https://github.com/farhat-lab/gentb-site/issues/72
MDU6SXNzdWUyMDUyMTM2ODM=,Mutations management command for marking mutations as predictor,CLOSED,2017-02-03T17:03:28Z,2017-03-17T15:22:12Z,2017-03-17T15:22:12Z,"We need a new mutations management command that can take in a list of mutations, mark OR unmark them as predictors and warn if they don't exist.",doctormo,https://github.com/farhat-lab/gentb-site/issues/73
MDU6SXNzdWUyMDg1NjMwMzk=,Samtool Quality Checking,CLOSED,2017-02-17T21:34:59Z,2017-03-17T14:23:14Z,2017-03-17T14:23:14Z,"The samtools depth command should be run against the bam file to get the quality of the alignments. This should then cause an error if there is a bad quality score.

We don't know what counts as a good quality score and what counts as a bad one.",doctormo,https://github.com/farhat-lab/gentb-site/issues/74
MDU6SXNzdWUyMTM1MDA1OTc=,Clean up Snpnames,CLOSED,2017-03-11T03:05:22Z,2017-05-05T21:59:52Z,2017-05-05T21:59:52Z,"In the website database, the wgs snps are labeled without an mrnaposition, and the targeted sequencing strains are labeled with an mrna position. I need to clean these up to avoid inaccuracies in mapping

eg. SNP_CZ_2155101_G1011C_Y337._katG
vs.  SNP_CZ_2155101_GC_Y337._katG",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/75
MDU6SXNzdWUyMTQ4MTU1MjU=,LSF Times are in EST not in UTC,CLOSED,2017-03-16T19:36:01Z,2017-03-17T08:07:44Z,2017-03-17T08:07:44Z,"The date times reported by the LSF server on orchestra are not in UTC, so our time calculations come out wrong. We need to attach the right timezone to the datetimes as we generate them to get the right time calculations.",doctormo,https://github.com/farhat-lab/gentb-site/issues/76
MDU6SXNzdWUyMTUyMzEwNDQ=,intermediate file upload links are broken,CLOSED,2017-03-19T00:11:48Z,2017-03-19T01:07:54Z,2017-03-19T01:07:54Z,"under the output files tab the links to the files are not working: the links look something like this
https://gentb.hms.harvard.edu/tb/media/datatbdata_00000076/Italian1.sam

I think they should be:

https://gentb.hms.harvard.edu/data/media/data/tbdata_00000076/Italian1.sam

but even when I correct this I get a 404 error, is it a permissions issue, are these just links to the data under the /groups/gentb_www/ folder?",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/77
MDU6SXNzdWUyMTUyMzQ2NDg=,update other mutation list,CLOSED,2017-03-19T01:44:06Z,2019-06-10T13:22:16Z,2019-06-10T13:22:16Z,"I need to include all variants in the canonical genes list of interest even when they are new relative to the current version of the prediction pipeline/classifier. 

best strategy may be to parse var file in a separate step to generate an abreviated list of mutations and their quality and purity parameters",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/78
MDU6SXNzdWUyMTUyMzQ2OTE=,update mutation name display in json file,CLOSED,2017-03-19T01:45:19Z,2017-03-23T17:33:06Z,2017-03-23T17:33:06Z,"to reflect new change that I consider all frame shifts at same site equivalent, and that all nuc change causing the same aa changes equivalent. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/79
MDU6SXNzdWUyMTUyMzQ3NTM=,color of important and other mutations bars,CLOSED,2017-03-19T01:46:52Z,2017-03-19T02:07:43Z,2017-03-19T02:07:43Z,"these need to be different, in new version they are both black, and may cause some confusion. my preference is for red for important and black for other",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/80
MDU6SXNzdWUyMTY1MTYwMTM=,Map start to end testing,CLOSED,2017-03-23T17:46:49Z,2017-04-28T18:18:22Z,2017-04-28T18:18:22Z,"Maps is designed to have display subsets of the genotype (mutation), phenotype (drug resistance data) by geography and lineage. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/81
MDU6SXNzdWUyMTY1MTcxNzk=,Users want the option to flag input data to be deleted as soon as final prediction is generated,CLOSED,2017-03-23T17:50:32Z,2017-04-28T18:17:55Z,2017-04-28T18:17:55Z,"some users have data (fastq's, vcfs etc) that they cannot share with the public. They would like the comfort of knowing their data has been deleted after prediction ie. csv and json file's have been generated. 

Can we create a dropdown that defaults to not delete Fastq's, but allows for deletion for those that want it?",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/82
MDU6SXNzdWUyMTg1Mjg3NDc=,Link spegettii models to menu,CLOSED,2017-03-31T15:01:43Z,2017-04-28T17:58:30Z,2017-04-28T17:58:30Z,The models description is useful and needs to be linked from the interface limited to admins only.,doctormo,https://github.com/farhat-lab/gentb-site/issues/83
MDU6SXNzdWUyMjAyODYwMjI=,Chrome: Manual gene selection failes to active Add button,CLOSED,2017-04-07T18:00:52Z,2017-04-28T18:17:38Z,2017-04-28T18:17:38Z,"When using the Chrome web browser (Chrome, Chromium etc) the Add button on the manual prediction adding page does not activate when a mutation is selected from the list. Instead the button is activated when the text in the box is selected.",doctormo,https://github.com/farhat-lab/gentb-site/issues/84
MDU6SXNzdWUyMjAzNDM1NTg=,Mutations selector,CLOSED,2017-04-07T22:23:55Z,2017-04-28T17:41:58Z,2017-04-28T17:41:58Z,"The drop down for mutations needs to be a search box that people can type in which does an ajax request for possible values to select.

This is because our drop down will be very quickly swamped by millions mutations and our cap will stop before we have the interesting ones in our list.",doctormo,https://github.com/farhat-lab/gentb-site/issues/85
MDU6SXNzdWUyMjM5NDA5MzY=,manual predict mutations selector not subset appropriately,CLOSED,2017-04-24T20:27:11Z,2017-04-28T17:41:40Z,2017-04-28T17:41:40Z,"if you select drug, and then a gene, the mutations that drop down are not restricted by the selected gene.",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/86
MDU6SXNzdWUyMjYwOTUyOTc=,"after selecting country and drug,  observations are not filtered/subset",CLOSED,2017-05-03T19:50:11Z,2017-05-05T18:08:50Z,2017-05-05T18:08:50Z,"Select Canada, then AMK, from drug histogram expect 33 isolates, but when you reach mutation tab and select rrs_1401 you still see 1036 sensitive samples, and 342 resistant",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/87
MDU6SXNzdWUyMjYwOTU2MzY=,No method to deselect drug,CLOSED,2017-05-03T19:51:33Z,2017-05-05T18:54:34Z,2017-05-05T18:54:34Z,Can we introduce a way for user to deselect or reset drug selection after this is made?,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/88
MDU6SXNzdWUyMjYwOTYxODc=,Bug in map display when you select another tab and return to country/world tab,CLOSED,2017-05-03T19:53:42Z,2017-05-05T18:14:06Z,2017-05-05T18:14:06Z,"When you select canada, then move on to drug and mutation and then return to map/country and hover over canada the pop-up states ""Canada select"" instead of ""Canada deselect""",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/89
MDU6SXNzdWUyMjYwOTgxMjQ=,Lineage tab >RFLP,CLOSED,2017-05-03T20:01:04Z,2017-05-05T16:20:03Z,2017-05-05T16:20:03Z,"If no RFLP data is available we need to display ""data not available"" instead of one bar with no label on the X-axis:

to reproduce the error:
select amk, click lineage tab, then click on RFLP circle",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/90
MDU6SXNzdWUyMjc1MzgxNTg=,Predict not running,CLOSED,2017-05-10T00:50:37Z,2017-05-12T14:38:06Z,2017-05-12T14:38:06Z,"I tried to do both a manual prediction and a fastq prediction, data is uploaded but pipeline is not run, stays pending for hours and status says ""processing success""",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/91
MDU6SXNzdWUyMjc1NDgzNzI=,incorporate a lineage call on the prediction page,CLOSED,2017-05-10T02:12:32Z,2017-05-12T21:53:58Z,2017-05-12T21:53:58Z,"input will not change, but we need to include some additional code and a small lineage database that acts on one gunzipped fastq file (it could be either one of the two paired files) and will give an output similar to this:

Peru2959_R1     777777777760771 53      777777777760771 43      T1     4

First field is the input file name, second field in the inferred spoligotype, ignore the third field, fourth field is closest spoligotype from the database, fifth field is the number of spacers matched out of 43, and sixth field is the spoligotype family and the last field is the lineage number. 

I know that we have structured the pipeline to have several serial steps, but is it possible for it to run the lineage call in parallel with the resistance prediction, perhaps after the stampy step so they are not both reading the same file. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/92
MDU6SXNzdWUyMjc1NDk5OTA=,Map: denominator incorrect in mutation bar char,CLOSED,2017-05-10T02:25:32Z,2017-05-12T15:34:58Z,2017-05-12T15:34:58Z,when you hover over mutation bar chart after filtering by country or by drug (or both) you still get the denominator as the total unfiltered number ( I think the numerator is also incorrect) ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/93
MDU6SXNzdWUyMjc1NTA3MzU=,more user direction/info for interacting with maps,CLOSED,2017-05-10T02:31:41Z,2017-05-12T15:59:34Z,2017-05-12T15:59:34Z,"It's not obvious that one can deselect a drug by clicking outside of the bar, or that one can select by clicking on the bar, some guidance should be given to the user perhaps above the map/bar",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/94
MDU6SXNzdWUyMjc1NTEwMzY=,Maps: country based counts no longer make sense,CLOSED,2017-05-10T02:34:05Z,2017-05-12T16:20:20Z,2017-05-12T16:20:20Z,"We should have about 700+ isolates from Peru, but I only see 203??",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/95
MDU6SXNzdWUyMjk5NzMxODI=,trouble with maps mutations drop down,CLOSED,2017-05-19T13:21:08Z,2017-07-28T14:56:34Z,2017-07-28T14:56:34Z,"after selecting a gene, in the mutations tab, if there are many potential mutations, no suggestions are given in the drop down, if the user types a digit or letter, the drop down is not filtering correctly ie too small of a subet is produced. For example:

select drug PZA
under mutations select gene pncA, in the mutations drop down is says tow many 200something, then look for mutations that contain the digits ""13"" only one drops down whereas if you then delete the two digits about a dozen drop down? bizarre?",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/96
MDU6SXNzdWUyMjk5NzMzNTg=,manual predict broken,CLOSED,2017-05-19T13:21:45Z,2017-05-23T03:30:34Z,2017-05-23T03:30:34Z,"got the following error after selecting one mutation for prediciton:

Attaching package: ‘jsonlite’ The following object(s) are masked from ‘package:utils’: View Error in eval(expr, envir, enclos) : object 'INS_CF_4247350_i836TTCCAGAATATTGG_279_embB' not found Execution halted ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/97
MDU6SXNzdWUyMjk5NzcwNTc=,updates to manual & VCF predict text,CLOSED,2017-05-19T13:35:33Z,2017-05-22T17:12:54Z,2017-05-22T17:12:54Z,"currently the following list of loci is described under the VCF predict page, this needs to be moved to the Manual predict page.

Also on the predict page the description of VCF prediction: ""Minimal genotypic information for accurate resistance predictions are below. Genetic regions are listed in order of decreasing importance. For more detailed list of genetic variants see reference Farhat MR, Sultana R et al. Genetic Determinants of Drug Resistance in Mycobacterium tuberculosis and Their Diagnostic Value. AJRCCM 2016 ""

is actually the description of the manual prediction.

VCF prediction description should be: ""Create a prediction from a variant call file in VCF format. Get more information about the VCF format here."" move the link to 1000 genomes project so its still accessible. 

Manual prediction description should be:""Create a prediction though manual selection of 1 or more mutations from a list. This option involves the shortest processing time but does assume that any non-entered mutations have been tested for and are absent. Minimal genotypic information for accurate resistance predictions are below. Genetic regions are listed in order of decreasing importance. For more detailed list of genetic variants see reference Farhat MR, Sultana R et al. Genetic Determinants of Drug Resistance in Mycobacterium tuberculosis and Their Diagnostic Value. AJRCCM 2016""



Here is the recommended minimum list of resistance loci that should be genotyped for accurate resistanc prediction. 

Drug 	Genes
Isoniazid 	katG, inhA promoter, inhA, embB, iniB, kasA, embAB promoter, and ahpC
Rifampicin 	rpoB
Pyrazinamide 	pncA and pncA promoter
Ethambutol 	embB, iniB, embAB promoter, embAB, and embC
Streptomycin 	rpsL, rrs, gid, and rrs-rrl intergenic region
Ethionamide 	inhA promoter, ethA, and inhA
Kanamycin* 	rrs, tlyA*
Capreomycin 	rrs
Amikacin 	rrs
Fluoroquinolones 	gyrA, gyrB
Para-aminosalicylic acid 	thyA
* Note: Gene eis is a predictor of kanamycin resistance, but data for this gene was not available when the predictive model was built. 

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/98
MDU6SXNzdWUyMjk5NzgxODE=,incorporate Mykrobe as a pre-processing pipeline from bam to matrix,CLOSED,2017-05-19T13:39:42Z,2017-06-23T18:04:18Z,2017-06-23T18:04:18Z,"We're starting a collaboration with Zam Iqbal.

here is the repository:
https://github.com/iqbal-lab/Mykrobe-predictor

we will use his code to go from bam to a json representation of the mutations, we then need to write some code that can convert this back to a VCF or matrix for intake by the random forest model",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/99
MDU6SXNzdWUyMzA1NjcyMjQ=,lineage calls failing from pair-end fastq files,CLOSED,2017-05-23T02:05:58Z,2017-06-23T17:06:01Z,2017-06-23T17:06:01Z,"only use the _R1.fastq file, no need to input both to the script (I think it may fail if you do that). ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/100
MDU6SXNzdWUyMzA1NzA2NTQ=,long strains names cutting off in predict heat map,CLOSED,2017-05-23T02:32:32Z,2017-05-23T03:30:42Z,2017-05-23T03:30:42Z,Can we scale to fit?,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/101
MDU6SXNzdWUyMzExOTY5NzE=,Predict file name inputs are too strict,CLOSED,2017-05-24T23:10:35Z,2017-06-16T19:00:10Z,2017-06-16T19:00:10Z,"Can we modify the pipeline to treat the following as equivalent alternative names

1) .fastq = .fq
2) _R1.fastq = _1.fastq = .1.fastq
3) _R2.fastq = _2.fastq = .2.fastq
4) .fastq.gz = .fq.gz

some users are having trouble, and it's a pain to rename all of their files once in dropbox",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/102
MDU6SXNzdWUyMzY1NjY4MTU=,Computer to Server Uploading for Predict,CLOSED,2017-06-16T19:00:52Z,2017-06-16T19:01:08Z,2017-06-16T19:01:08Z,We need to be able to upload large files from a computer without going through dropbox first.,doctormo,https://github.com/farhat-lab/gentb-site/issues/103
MDU6SXNzdWUyNDEwMTU3MTM=,Mykrobe implementation,CLOSED,2017-07-06T16:33:48Z,2019-04-15T00:33:43Z,2019-04-15T00:33:43Z,"we have to first reformat our variant_name_list.csv file (/www/gentb.hms.harvard.edu/data/variant_name_list.csv) into the Mykrobe Panel file format which looks like this:


gene change DNA/protein
ahpC	C-57T	DNA
gyrA         A74S       PROT


full file at:
https://github.com/iqbal-lab/Mykrobe-predictor/blob/master/example-data/tb-walker-2015-panel.txt

for example SNP_CZ_4327148_C326T_W109._ethA
can be rewritten as
ethA  W109X   PROT

another example for SNP_P_2289252_T11G_promoter_pncA
can be rewritten as 
pncA  T-11G DNA  (- ""minus"" designates a promoter region)

There may be several special cases, for example insertions and deletions and I'm not sure if Mykrobe can handle new genes/regions not already in the list



",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/104
MDU6SXNzdWUyNDEzMTAwNTU=,Move repository to farhat-lab,CLOSED,2017-07-07T16:07:36Z,2017-07-14T21:54:58Z,2017-07-14T21:54:58Z,"The site should be moved and anyone with a checkout should run with git command to move their local remote.

    git remote set-url origin git@github.com:farhat-lab/gentb-site.git",doctormo,https://github.com/farhat-lab/gentb-site/issues/105
MDU6SXNzdWUyNDMwOTg4MDI=,package gentb for individual desktop use,OPEN,2017-07-14T20:06:37Z,2021-09-22T11:25:01Z,,Plan is to package genTB into a modular desktop app with a Django output to allow users to interact with the results same as on the web,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/106
MDU6SXNzdWUyNDMxMjE5MTU=,FastA files submitted by Avika,CLOSED,2017-07-14T21:54:38Z,2017-12-01T21:33:50Z,2017-12-01T21:33:50Z,"fasta should not be accepted for fastq files in the proccess. We don't know how these fasta files were submitted, but they should not be accepted.",doctormo,https://github.com/farhat-lab/gentb-site/issues/107
MDU6SXNzdWUyNDYzNzMwOTY=,[maps.usability] Colour of countries in map uses the wrong variable.,CLOSED,2017-07-28T14:59:49Z,2021-04-15T18:33:37Z,2021-04-15T18:33:37Z,"1) at the landing page (first ""map"" tab) the countries are only colored by the number of data points available for each one, it would be great to allow users to color countries by percent of resistance (in fact that should be the default view). we can just color by % of MDR for now. but let's talk about the possibility of showing % resistance for each of the drugs across teh map. The benefit of this over the drugs tab, is that users can compare countries more easily",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/108
MDU6SXNzdWUyNDY0MTk5ODU=,[maps.data] PGG Data is missing from some countries,CLOSED,2017-07-28T18:07:37Z,2019-05-31T17:28:08Z,2019-05-31T17:28:07Z,PGG data should be available for all strains yet it only shows for some countries- we need to investigate why and repair this,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/109
MDU6SXNzdWUyNDY0MjA5MDY=,[maps.usability] Add most common mutations to mutations tab,CLOSED,2017-07-28T18:11:47Z,2018-07-27T16:10:15Z,2018-07-27T16:10:15Z,In the mutation tab user should be greeted with a a list of the most common mutations seen in all strains from that country with the frequency listed next to the name. User should be able to click on the mutations they are interested in to see their distribution by drug resistance (as you get from the drop down mutation selection). It would be great to have a short sentence/schematic underneath the drop down that describes what mutation names look like i.e. SNP_2369475_G456T_S315T_katG etc,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/110
MDU6SXNzdWUyNTEzNTM0MjY=,Replace matrix squares d3 with html,CLOSED,2017-08-18T20:40:53Z,2017-12-06T17:56:52Z,2017-12-06T17:05:01Z,"The d3 construction for the matrix squares is very very hard to maintain. The svg it generates is bad quality and split out into a number of documents. To get better results, we should replace with all with a simple single html table.",doctormo,https://github.com/farhat-lab/gentb-site/issues/111
MDU6SXNzdWUyNTYwMjcwMTc=,update gentb-site flatannotator,CLOSED,2017-09-07T18:20:15Z,2019-06-10T13:23:26Z,2019-06-10T13:23:26Z,"the flatAnnotator on the genTB site has a slightly different functionality that the version 2.0 on work-horse, as it actually splits the variants by codon, and this is desirable to line up variants witht he randomforest predictor list more readily. 

But right now the genTB flat annotator is lacking in speed and ability to take in pilon format vcf, so it would be helpful to incorporate those changes.",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/112
MDU6SXNzdWUyNTgxNTU3NjA=,set up pipeline for new strain addition to genTB database,CLOSED,2017-09-15T20:29:32Z,2018-09-07T14:01:39Z,2018-09-07T14:01:39Z,"In the future as new strain sequencing and phenotype data become available we need to batch process this data and add it to the gentb database (for maps, but also for just sql queries (perhaps from a clone database). This will involve the same pipelines that we are currently applying (megapipe, flatannotator2.0, var2tab, but we may need to adds steps to guard against adding the same strain (with the same ID twice)

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/113
MDU6SXNzdWUyNjgwNDgzMTI=,map mutations tab stays blank if there are no hits/matches,CLOSED,2017-10-24T14:12:18Z,2017-12-05T19:16:07Z,2017-12-05T19:16:07Z,"ideally the user gets some obvious feedback that there are no mutation matches, the pop up is a little buggy and fades quickly",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/114
MDU6SXNzdWUyNjgwNDkyMDk=,ecoli-TB rpoB coordinate look up,CLOSED,2017-10-24T14:14:34Z,2017-12-01T20:40:16Z,2017-12-01T20:40:16Z,"for the rpoB gene, a good proportion of scientists use the ecoli coordinate numbering and not our current numbering system, a possible solution is one to 1- add another field to the SNP name that specifies the ecoli number (simpler for the user more complicated on the back end?) or 2- include a look up table for the user so the can find the right coordinate to search for (more complicated for the user)

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/115
MDU6SXNzdWUyOTM5NTUxNDg=,Mutations User Interface Rework,CLOSED,2018-02-02T16:57:00Z,2018-07-02T08:30:53Z,2018-07-02T08:30:53Z,"After talking with Maha and Luca about how to make the mutations user interface better for the maps section of the website we decided to design more visual ways of drilling into the mutations table.

Firstly through selecting a gene locus. This will have to be changed from a drop down to a text box where one can type in the name or alt-name of a locus.

Next is the mutation itself. This will be an alternation of typing in a name (as currently) or clicking on one of the 50 blocks marked on a simple bar chart, each block would contain the number of mutations in that section of this locus that we store.

Once a block is clicked on, then we can expand into the specific mutations in that block and allow the user to choose one. We should try and divide the blocks into their buckets at the aminoacid position rather than at just any nucleotide position.",doctormo,https://github.com/farhat-lab/gentb-site/issues/116
MDU6SXNzdWUyOTM5NzI1Njc=,VCF File Long format should be filtered,CLOSED,2018-02-02T17:57:11Z,2018-02-02T21:03:36Z,2018-02-02T21:03:36Z,Pylon produces vcf files which have the long format which means they include every invarient as well as varient section. These should be removed.,doctormo,https://github.com/farhat-lab/gentb-site/issues/117
MDU6SXNzdWUyOTQ1NTcyNTM=,Migration Error,CLOSED,2018-02-05T21:59:26Z,2018-02-05T22:06:39Z,2018-02-05T22:06:39Z,"Ran ./manage.py migrate and got the following traceback:

```
Applying maps.0001_initial...Traceback (most recent call last):
  File ""./manage.py"", line 27, in <module>
    execute_from_command_line(sys.argv)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/core/management/__init__.py"", line 364, in execute_from_command_line
    utility.execute()
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/core/management/__init__.py"", line 356, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/core/management/base.py"", line 283, in run_from_argv
    self.execute(*args, **cmd_options)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/core/management/base.py"", line 330, in execute
    output = self.handle(*args, **options)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/core/management/commands/migrate.py"", line 204, in handle
    fake_initial=fake_initial,
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 115, in migrate
    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 145, in _migrate_all_forwards
    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/migrations/executor.py"", line 244, in apply_migration
    state = migration.apply(state, schema_editor)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/migrations/migration.py"", line 129, in apply
    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/migrations/operations/models.py"", line 97, in database_forwards
    schema_editor.create_model(model)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/backends/base/schema.py"", line 254, in create_model
    definition, extra_params = self.column_sql(model, field)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/backends/base/schema.py"", line 144, in column_sql
    db_params = field.db_parameters(connection=self.connection)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/db/models/fields/__init__.py"", line 662, in db_parameters
    type_string = self.db_type(connection)
  File ""/Users/nehulyadav/Downloads/gentb-site-master/lib/python2.7/site-packages/django/contrib/gis/db/models/fields.py"", line 126, in db_type
    return connection.ops.geo_db_type(self)
AttributeError: 'DatabaseOperations' object has no attribute 'geo_db_type'
```",nehulyadav,https://github.com/farhat-lab/gentb-site/issues/118
MDU6SXNzdWUzMDY1Nzg4NjA=,Neural net predictor replacement for Tbpredict.R random forest predictor,CLOSED,2018-03-19T18:24:21Z,2021-03-04T21:48:28Z,2021-03-04T21:48:28Z,"Python script and sample data from prediction from genotypic data (that can be obtained from the vcf) to a prediction in probabilities that can be displayed on the predict page. To replace TBpredict.R portion of the pipeline

This script requires Keras 1.2.0 and TensorFlow 0.10.0

We need to likely develop new code to extract relevant format from VCF

We need to likely develop new code to extract relevant output data into json format for display on the webtool in the API.

[saved_model_0319.zip](https://github.com/farhat-lab/gentb-site/files/1826381/saved_model_0319.zip)
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/119
MDU6SXNzdWUzMTY4NjA4NTI=,Make sure new Maps Data is uploaded On Live,CLOSED,2018-04-23T15:21:12Z,2018-04-25T16:11:29Z,2018-04-25T16:11:29Z,Make it so.,doctormo,https://github.com/farhat-lab/gentb-site/issues/120
MDU6SXNzdWUzMTY5MTU4MTk=,GenTB suggestions,CLOSED,2018-04-23T17:50:11Z,2019-06-10T14:58:58Z,2019-06-10T14:58:58Z,"![image](https://user-images.githubusercontent.com/38661384/39143406-d57d387a-46fb-11e8-84ba-3f46e576afec.png)
I would suggest more space between the top of the plot and the legend

![image](https://user-images.githubusercontent.com/38661384/39143655-81e12004-46fc-11e8-9a8c-4641cf99a1a9.png)
English names would be very helpful if you are not familiar with the region

Nevertheless, it looks really nice, good job!",SBassler,https://github.com/farhat-lab/gentb-site/issues/121
MDU6SXNzdWUzMTc0NTQ0NjQ=,Timeline addition to Maps,OPEN,2018-04-25T02:02:18Z,2018-09-17T18:50:15Z,,"We could use vis.js to add a timeline selector to the maps interface allowing the data to be narrowed by time range and giving the user some understanding of when all the data is.

http://visjs.org/timeline_examples.html",doctormo,https://github.com/farhat-lab/gentb-site/issues/122
MDU6SXNzdWUzMjMzODcyNDU=,Update coding/noncoding locus information,CLOSED,2018-05-15T21:19:08Z,2018-06-08T19:32:47Z,2018-06-08T19:32:47Z,"All the data from the locus tables MUST be added to the live database and there must be a way to import it consistently. This includes start and end positions, aa information and any other details such as description etc.",doctormo,https://github.com/farhat-lab/gentb-site/issues/123
MDU6SXNzdWUzMzcxMjQ1MzY=,Explore page not working,CLOSED,2018-06-29T20:16:33Z,2021-03-05T14:47:26Z,2021-03-05T14:47:26Z,"![image](https://user-images.githubusercontent.com/38661384/42112983-bc75edc2-7bb7-11e8-87fe-651713e6c744.png)
",SBassler,https://github.com/farhat-lab/gentb-site/issues/124
MDU6SXNzdWUzNDUzNjE5Mjg=,Maps designs,CLOSED,2018-07-27T20:48:16Z,2021-04-15T18:32:49Z,2021-04-15T18:32:49Z,"- [ ]  DESIGN - Make sure highlighted lucus blocks point to the list of possible mutations correctly.
- [ ]  DESIGN - Make sure there is positional flow between elements
- [ ]  DATA - Make sure Country, Drug and Lineage limits the Locus list and mutations lists
- [ ]  DATA - Make sure empty mutations do not show, to limit the selection of null elements.
- [ ]  DESIGN - Try and make the mutations map remain when selecting a new country or other data and simply update it.
",doctormo,https://github.com/farhat-lab/gentb-site/issues/125
MDU6SXNzdWUzNDc1MjEyMzc=,implement an abreviated version of megapipe in Predict,CLOSED,2018-08-03T20:07:54Z,2019-05-31T16:49:07Z,2019-05-31T16:49:07Z,"Luca's Mega pipe, without assembly can be an alternative paired end fastq to vcf pipeline. Note that we should exclude the assembly step from Megapipe as this compute and time consuming and its output is not used by predict. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/126
MDU6SXNzdWUzNDc2NDY1NzQ=,extension problem with dropbox upload,CLOSED,2018-08-04T20:35:33Z,2018-09-05T17:12:03Z,2018-09-05T17:12:03Z,"As of posting this, the problem is still resolved",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/127
MDU6SXNzdWUzNDc2NDcyMjg=,initiate isolate fastq processing while download completes for other files in a batch,CLOSED,2018-08-04T20:47:04Z,2019-04-15T00:30:54Z,2019-04-15T00:30:54Z,"as batches may contain several or many fastqs, i.e. a batch
as soon as fastq (or pair) is downloaded the job should initiate immediately and not wait for the full batch to be downloaded",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/128
MDU6SXNzdWUzNDc2NDc4MDk=,upload from local computer failing to process,CLOSED,2018-08-04T20:57:58Z,2018-09-05T17:10:43Z,2018-09-05T17:10:43Z,download is successful but no job is initiated: see dataset test on today's data by user maha2,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/129
MDU6SXNzdWUzNDg0MDYwMzk=,automated testing of predict,CLOSED,2018-08-07T16:56:30Z,2021-03-04T21:50:22Z,2021-03-04T21:50:22Z,We need the website/tool to self test on at least a daily basis and report back. if job fails to be processed we need to be informed ASAP. Right now discovering errors appears to be a function of when we do a manual test. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/130
MDU6SXNzdWU0MzI2NzkzMjA=,predict manual upload broken,CLOSED,2019-04-12T17:57:46Z,2019-06-03T13:45:24Z,2019-06-03T13:29:00Z,"The dropdown boxes to select genes and mutations within predict manual are not working, no suggestions give and user cannot select a mutation. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/138
MDU6SXNzdWU0MzI2OTUwNDQ=,lineage calling is not done in the improved megapipe,CLOSED,2019-04-12T18:39:49Z,2019-06-05T12:38:35Z,2019-06-05T12:38:35Z,we need to implement lineage calling,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/140
MDU6SXNzdWU0MzI3MDEwMTI=,update the single end and vcf predicts with improved megapipe,OPEN,2019-04-12T18:56:37Z,2021-03-04T22:03:06Z,,"let's implement improved megapipe from single end fastq file (input just one fastq instead of two)

let's also implement the improved megapipe for predict from the vcf input",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/142
MDU6SXNzdWU0MzMwNTMzMDY=,old PE fastq predict pipeline with errors,CLOSED,2019-04-15T00:34:24Z,2019-05-31T16:38:47Z,2019-05-31T16:38:47Z,"broken: got this error at the Quality control step:

Traceback (most recent call last): File ""/n/groups/gentb_www/bin/qc_report.py"", line 28, in import atexit ImportError: No module named atexit",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/144
MDU6SXNzdWU0NTA5MTQ5OTY=,email notification to developer and user on job status,CLOSED,2019-05-31T17:57:34Z,2019-08-19T12:32:19Z,2019-08-19T12:32:19Z,"At the conclusion of each job, we need the webhost to send an email to the user and to Maha on if the job succeeded or failed with a link to the results. We need to include a disclaimer that the gentb is still in beta-format and runs on an academic compute cluster. Disclaimer that compute outages or delays in job batching are an ongoing challenge that we are working to resolve.  ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/152
MDU6SXNzdWU0NTA5MTY0ODY=,Add a disclaimer to be displayed on the predict output page,CLOSED,2019-05-31T18:01:13Z,2019-05-31T18:15:16Z,2019-05-31T18:15:16Z,"If a job fails please display the following statement:

""Please note genTB predict is still in beta-version and runs on an academic compute cluster that faces occasional outages. Unfortunately the submitted job failed to run. We have notified the tool developers to trouble shoot. Please try again later.""",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/153
MDU6SXNzdWU0NTIwNDQzMDI=,downloading output files is forbidden,CLOSED,2019-06-04T14:53:11Z,2019-06-05T12:34:11Z,2019-06-05T12:34:11Z,"we need to fix permissions to allow users to download output files e.g. 

You don't have permission to access /tb/media/data/tbdata_00000314/Peru3428_variant.vcf on this server.",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/154
MDU6SXNzdWU0NTIyMTczNzY=,False positive and false negative rate reversed in predict output,CLOSED,2019-06-04T21:30:56Z,2019-06-04T22:42:30Z,2019-06-04T22:42:30Z,currenlty FN is actually labeled FP and vice-versa when a user hovers over the heatmap prediction results to look at the probabilities of resistance,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/155
MDU6SXNzdWU0NTMwMTU0NjM=,mutation display need to be refined - Predict,CLOSED,2019-06-06T12:56:42Z,2019-06-28T22:17:30Z,2019-06-28T22:17:30Z,"There was a bug in generate matrix that was resulting in missed promoter mutations. After fixing this the mutation display is no longer very clear. Also the genes need to sub-selected by drug for clarity - do we still have a correspondence table between genes and drugs ?

Attaching a screenshot here:
![image](https://user-images.githubusercontent.com/8130645/59034325-d08da280-8838-11e9-9162-beaf7ec67743.png)
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/156
MDU6SXNzdWU0NTMyNTI2ODQ=,need to add 'enhancer' step to predict pipeline and display the newdata provided in the mutations bar plot,CLOSED,2019-06-06T21:47:54Z,2019-06-14T16:24:42Z,2019-06-14T16:24:42Z,"I added a new program that I call enhancer
Its python code that scans the json prediction output and the var file to identify additional mutations to provide to the user. the enhancer varMatchUnk.py adds two json dictionaries at the end. The first displays ""new"" mutations (not previously seen by our prediction algorithm. The second dictionary contains the lineage snps. These need to displayed in the bar plot in pink and blue respectively. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/157
MDU6SXNzdWU0NTcwMDU1NTY=,"initiate predict earlier, before all isolate data is downloaded",CLOSED,2019-06-17T15:39:48Z,2019-08-19T12:17:07Z,2019-08-19T12:17:07Z,I am testing a large number of predict jobs submitted simultaneously. I find that currently all isolate fastq data need to be downloaded before any job is submitted to compute. Is it possible to avoid this delay as it can take 5-10minutes or longer for a large number of strains/fastq files to download. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/158
MDU6SXNzdWU0NTkxOTU0Mzc=,investigate a failed display of results,CLOSED,2019-06-21T13:22:16Z,2019-06-21T15:57:22Z,2019-06-21T15:57:22Z,"@doctormo can you please investigate why this job:
https://gentb.hms.harvard.edu/predict/a944ea401416a070a1f6431858efe0a8/

failed to display any results.

Note it may be because I pushed new changes to the enhancer code, and the json file is slightly different?
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/159
MDU6SXNzdWU0NjA0MjA5MjQ=,Add a correction for oversampling of resistance to adjust map resistance prevalence by drug,CLOSED,2019-06-25T13:21:05Z,2021-03-04T21:49:54Z,2021-03-04T21:49:54Z,@avdixit please share with @doctormo the global WHO RR/MDR prevalence estimates that you are using to correct our data for oversampling. Please share with him the formula to use the WHO prevalence to correct individual drug frequencies in the map > country> drug interface. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/160
MDU6SXNzdWU0NjA2MDA0MzY=,Mutation names don't match REGEX,CLOSED,2019-06-25T19:30:00Z,2019-06-28T22:02:20Z,2019-06-28T22:02:20Z,"We need some clarity on the last two parts of these example mutation names.

```
SNP_CS_3597737_C30T_V10V-TB7.3
SNP_I_25610_G34C_inter-TB39.8-Rvnt03
SNP_CN_2447127_T374C_K125R-TB16.3
SNP_I_3067961_G228A_inter-thyX-hsdS.1
SNP_I_2447539_A66G_inter-TB16.3-Rv2186c
SNP_CN_3597682_C85T_V29I-TB7.3
SNP_CN_2400031_G298A_R100C-TB18.6
SNP_CS_24437_A1008G_S336S-TB39.8
SNP_CN_2950449_G857A_R286Q-TB31.7
SNP_CN_24745_C700A_D234Y-TB39.8
SNP_CN_671644_T479C_F160S-TB27.3
SNP_CS_3396893_G249A_S83S-TB22.2
SNP_CS_24007_G1438T_R480R-TB39.8
SNP_CN_2399887_C442T_E148K-TB18.6
SNP_CN_1842549_G99T_K33N-TB15.3
SNP_CN_3068398_G67C_P23A-hsdS.1
SNP_CN_3597683_G84T_D28E-TB7.3
SNP_CS_25145_C300G_T100T-TB39.8
SNP_CN_3396588_T554C_H185R-TB22.2
SNP_I_1842298_G153C_inter-Rv1635c-TB15.3
SNP_CN_3585759_A191G_V64A-TB9.4
SNP_CN_24670_G775C_Q259E-TB39.8
SNP_CN_2447282_T219G_E73D-TB16.3
SNP_CN_194030_G405A_M135I-TB18.5
SNP_I_1305531_C138G_inter-fbiC-TB8.4
SNP_CN_3068305_C160T_V54I-hsdS.1
SNP_CS_24509_C936T_Q312Q-TB39.8
SNP_I_2447539_A66G_inter-TB16.3-Rv2186c
SNP_CS_24821_G624A_G208G-TB39.8
SNP_CN_3788453_C86T_T29I-echA18.1
SNP_CS_193874_G249A_V83V-TB18.5
SNP_CN_3068286_C179T_G60D-hsdS.1
SNP_CN_2400031_G298A_R100C-TB18.6
SNP_CN_3597682_C85T_V29I-TB7.3
SNP_I_2949476_C117A_inter-Rv2622-TB31.7
SNP_I_23854_A7G_inter-Rv0019c-TB39.8
SNP_CN_1842494_A44C_D15A-TB15.3
SNP_CS_2447390_T111C_E37E-TB16.3
SNP_CS_24407_C1038T_P346P-TB39.8
SNP_CN_24340_C1105G_D369H-TB39.8
```",doctormo,https://github.com/farhat-lab/gentb-site/issues/161
MDU6SXNzdWU0NjIyMTgxNjU=,Mutation list not changed by Gene Locus Selection,CLOSED,2019-06-28T21:45:15Z,2019-08-19T12:13:04Z,2019-08-19T12:13:04Z,"In the maps feature, the mutations list isn't changed by any of the selected data points from the left side. i.e. input source, country, drug, locus etc. The first three, country, drug, input source should change the strains selected, while the loci selections should change the mutations directly.

The way the mutations list should be filtered by the strains is that they should only appear if there is information about resistance about that mutation available. At the moment is very naieve and is showing all mutations no matter what. this can be seen currently in how selecting mutations yields an empty graph (because all the mutations selected don't have any data to show).

So this issue is two stage. Make sure loci selections are filtering directly, then make sure all the other strain filters are effecting the mutations list.

I believe the graph portion is already being filtered, but it should be double checked to make sure that this data is also filtered by strain correctly (filter by locus is unnecessary)",doctormo,https://github.com/farhat-lab/gentb-site/issues/165
MDU6SXNzdWU0NjU0MTM0MzA=,fast lineage caller in MP2,CLOSED,2019-07-08T19:05:32Z,2021-03-04T21:47:57Z,2021-03-04T21:47:57Z,"did we make any updates to fast lineage caller?
Previously this strain was called 'mixed' and now it says its ""unknown lineage format"" and crashes the processing. Let's go back to what it was doing before. 
![image](https://user-images.githubusercontent.com/8130645/60835742-e83aac80-a191-11e9-86b5-69acc61a6e19.png)

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/167
MDU6SXNzdWU0ODIyNzY5MDk=,MAPs: Mutation tab mutations error,CLOSED,2019-08-19T12:15:03Z,2021-03-05T14:39:24Z,2021-03-05T14:39:24Z,"old title still applies to issue discovered today. Mutation tab does not load data after gene selection.
we get the following error: 

`DataTables warning: table id=DataTables_Table_1 - Ajax error. For more information about this error, please see http://datatables.net/tn/7

<img width=""1192"" alt=""Screen Shot 2021-02-25 at 4 58 39 PM"" src=""https://user-images.githubusercontent.com/8130645/110035036-25f62c80-7d09-11eb-9461-41ec19e8c4b8.png"">
 ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/168
MDU6SXNzdWU0ODIyODAzMzY=,Upload data into MAPs,CLOSED,2019-08-19T12:22:29Z,2021-03-05T12:01:20Z,2021-03-05T12:01:20Z,@doctormo top priority item is now to enrich a large number of vcfs and upload for testing the MAP functionality. Can we please prioritize this ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/169
MDU6SXNzdWU0ODIyODI0ODY=,"MAPs: when drug is selected, mutation should be tabulated accross that drug phenotype in mutations tab",CLOSED,2019-08-19T12:27:02Z,2021-04-15T18:33:10Z,2021-04-15T18:33:10Z,,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/170
MDU6SXNzdWU0OTYzNDQ3Mzk=,Predict not launching jobs,CLOSED,2019-09-20T13:11:34Z,2019-09-27T14:47:15Z,2019-09-27T14:47:15Z,"Predict is not launching jobs, I can't find record of the pipeline run in the admin interface, or in the cluster jobs interface either. 

Urgent!",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/171
MDU6SXNzdWU2NDE1MTE0NTM=,Lineages: Scale circle sizes,CLOSED,2020-06-18T19:55:12Z,2021-09-27T16:55:20Z,2021-09-27T16:55:20Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/180
MDU6SXNzdWU2NDE1MTE3ODA=,Data upload step,CLOSED,2020-06-18T19:55:48Z,2021-03-04T21:48:53Z,2021-03-04T21:48:53Z,Data sets should have meaningful names,cbintz,https://github.com/farhat-lab/gentb-site/issues/181
MDU6SXNzdWU2NDE1MTI3Njk=,Confirm labels on world map match uploaded data,CLOSED,2020-06-18T19:57:38Z,2020-07-02T13:21:00Z,2020-07-02T13:21:00Z,"
",cbintz,https://github.com/farhat-lab/gentb-site/issues/182
MDU6SXNzdWU2NDE1MTMwNjg=,Drug section: Remove oversampling section,CLOSED,2020-06-18T19:58:11Z,2020-07-08T18:34:42Z,2020-07-08T18:34:42Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/183
MDU6SXNzdWU2NDE1MTM3Mjc=,Remove gene type and strand sections from gene locus section: ,CLOSED,2020-06-18T19:59:21Z,2020-07-06T17:57:52Z,2020-07-06T17:57:52Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/184
MDU6SXNzdWU2NDE1MTM4MzM=,Mutations section: show how many strains have a given mutation,CLOSED,2020-06-18T19:59:34Z,2020-07-17T16:44:47Z,2020-07-17T16:44:47Z,"

",cbintz,https://github.com/farhat-lab/gentb-site/issues/185
MDU6SXNzdWU2NDkwMzQ5MDg=,"Specify ""total"" label: total number of strains/cases?",CLOSED,2020-07-01T14:36:59Z,2020-07-02T13:20:43Z,2020-07-02T13:20:43Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/187
MDU6SXNzdWU2NDkwMzUyMzg=,Clarify that selected countries will turn red,CLOSED,2020-07-01T14:37:25Z,2020-07-01T14:38:19Z,2020-07-01T14:38:19Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/188
MDU6SXNzdWU2NDkwMzY1OTI=,Drug section: Verify numbers/size of bars,CLOSED,2020-07-01T14:39:12Z,2020-07-08T18:42:19Z,2020-07-08T18:42:19Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/189
MDU6SXNzdWU2NDkwMzc2MjQ=,Lineages: Allow filtering by lineage,CLOSED,2020-07-01T14:40:33Z,2020-07-09T16:32:22Z,2020-07-09T16:32:22Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/190
MDU6SXNzdWU2NDkyMDM3ODA=,Drug chart: make it more clear when a drug is selected,CLOSED,2020-07-01T18:41:01Z,2020-07-06T17:44:27Z,2020-07-06T17:44:27Z,text is red,cbintz,https://github.com/farhat-lab/gentb-site/issues/191
MDU6SXNzdWU2NTE3MTc1NDA=,Make sure numbers in interface match data in gene locus section,CLOSED,2020-07-06T17:50:04Z,2020-07-17T15:19:03Z,2020-07-17T15:19:03Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/192
MDU6SXNzdWU2NTE3MTc3MjU=,Only show mutations of filtered data in gene locus section,CLOSED,2020-07-06T17:50:28Z,2020-07-08T18:34:26Z,2020-07-08T18:34:26Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/193
MDU6SXNzdWU2NTE3MjczMTY=,Clarify gene locus instructions,CLOSED,2020-07-06T18:08:32Z,2020-07-06T18:09:41Z,2020-07-06T18:09:41Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/194
MDU6SXNzdWU2NTE3Mjc0MjE=,Resolve ajax errors in gene locus section,CLOSED,2020-07-06T18:08:44Z,2020-07-06T18:28:34Z,2020-07-06T18:28:34Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/195
MDU6SXNzdWU2NTE3MzcxNzc=,Sort by name in gene locus section not working: ajax error,CLOSED,2020-07-06T18:27:25Z,2020-07-06T18:34:52Z,2020-07-06T18:34:52Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/196
MDU6SXNzdWU2NTE3MzgwNjM=,Move sort by arrows in gene locus section closer to the column title to improve UX ,CLOSED,2020-07-06T18:29:07Z,2020-07-06T19:13:03Z,2020-07-06T19:13:03Z,"If not possible, clarify in instructions",cbintz,https://github.com/farhat-lab/gentb-site/issues/197
MDU6SXNzdWU2NTE3Njc2MTA=,Clarify drug section re: selecting legend and grouped/stacked,CLOSED,2020-07-06T19:25:39Z,2020-07-06T20:44:00Z,2020-07-06T20:44:00Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/198
MDU6SXNzdWU2NTkzNTA2NTg=,Mutations section: verify that only mutations of filtered gene locus data are shown,CLOSED,2020-07-17T15:29:46Z,2020-07-17T15:30:13Z,2020-07-17T15:29:49Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/200
MDU6SXNzdWU2NTkzNTE3MTc=,Mutations section: Show number of drugs that strain is resistant to,CLOSED,2020-07-17T15:31:04Z,2021-09-27T16:54:46Z,2021-09-27T16:54:46Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/201
MDU6SXNzdWU2NjMwMjIwMDI=,gdp data,OPEN,2020-07-21T13:38:12Z,2020-07-21T13:38:12Z,,gdp data seems off for some countries: comes from the CountryDetail model,cbintz,https://github.com/farhat-lab/gentb-site/issues/202
MDU6SXNzdWU2NjY1OTM3OTE=,Fix the absolute paths on the vcf to csv program step of wdnn-from-vcf pipeline,CLOSED,2020-07-27T21:23:28Z,2021-05-21T20:25:19Z,2021-05-21T20:25:19Z,,cbintz,https://github.com/farhat-lab/gentb-site/issues/204
MDU6SXNzdWU3NDQ4MTgxOTU=,Revise lipworth scheme from predict lineage caller,CLOSED,2020-11-17T15:06:27Z,2021-04-16T14:14:51Z,2021-04-16T14:14:51Z,"Lipworth snp scheme has errors and currently producing incorrect predictions. Luca can fix this error later (low priority), but he stated that by deleting the lipworth snp data file we can stop generating a prediction automatically using this scheme. Lipworth prediction should be deleted from the site. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/207
MDU6SXNzdWU3NDQ4MzY4ODE=,Delete dataset from Django site doesnot delete files in /n/groups/gentb_www/predictData/,CLOSED,2020-11-17T15:25:12Z,2021-03-04T21:41:48Z,2021-03-04T21:41:48Z,Do we still have a permissions or user issue? should I send a reminder to O2 support about this?,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/208
MDU6SXNzdWU3NDQ4Mzg0OTg=,storage limit of /n/groups/gentb_www/predictData is too low,CLOSED,2020-11-17T15:27:06Z,2021-03-04T21:16:04Z,2021-03-04T21:16:03Z,We have a ticket pending to increase this to 10TB. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/209
MDU6SXNzdWU4MTYwMzY4NTY=,Setting aligner minimap2 to short-read mode with prior paired fastq check,CLOSED,2021-02-25T03:00:40Z,2021-03-11T16:05:16Z,2021-03-11T16:05:16Z,"Minimap2 is currently not run in short-read mode. Current command is `minimap2 -a`, short-read mode that takes paired read information into account `minimap2 -ax sr`.

Before changing this it would be necessary to ensure paired fastq files are in the same order and are exact matches (i.e., each read identifier in the first fastq file has its exact matched pair in the second fastq file). 

There is a [script](https://github.com/BioInfoTools/BBMap/blob/master/sh/repair.sh) from [BBMap](https://github.com/BioInfoTools/BBMap) that does exactly this. It can be called as follows:

 `repair.sh in1=fastq1.fq in2=fastq2 out1=fixed1.fq out2=fixed2.fq outs=singletons.fq repair`

",mgro,https://github.com/farhat-lab/gentb-site/issues/217
MDU6SXNzdWU4MjI1NDcxMzE=,PZA new model integration in genTB-RF,CLOSED,2021-03-04T22:06:51Z,2021-05-21T20:24:23Z,2021-05-21T20:24:23Z,,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/218
MDU6SXNzdWU4MjI1NDgzODc=,binarize predict heatmap based on thresholds,CLOSED,2021-03-04T22:09:01Z,2021-08-24T09:28:28Z,2021-08-24T09:28:28Z,"@mgro will supply @doctormo with threshold list for RF and WDNN separately.  Probability will only be give upon hover, otherwise we will add a legend saying R= red, S= blue. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/219
MDU6SXNzdWU4MjI1NDg2MTA=,Front page is lost!!!,CLOSED,2021-03-04T22:09:27Z,2021-03-05T11:53:31Z,2021-03-05T11:53:31Z,,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/220
MDU6SXNzdWU4MjI1NDk4NzA=,"MDR percent from WHO data is erroneously multiplied by 100,000",CLOSED,2021-03-04T22:11:37Z,2021-03-05T11:59:46Z,2021-03-05T11:59:46Z,"it should be displayed as a percent, i.e. 35% not 3,500,000",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/221
MDU6SXNzdWU4MjI1NTAzNjY=,Restrict check depth to DR regions,CLOSED,2021-03-04T22:12:32Z,2021-03-16T16:15:07Z,2021-03-16T16:15:07Z,@mgro  hunt for the DR bed file in the admin interface,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/222
MDU6SXNzdWU4MjI1NTA4NzI=,feedback depth to the user in a user friendly manner,CLOSED,2021-03-04T22:13:34Z,2021-05-15T01:55:01Z,2021-05-15T01:55:01Z,This is a wish ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/223
MDU6SXNzdWU4MjI2MjQ3ODA=,Predict PDF report,OPEN,2021-03-05T00:25:28Z,2021-08-24T09:36:43Z,,"Here is a sample report. @mgro lets discuss before we assign it to Martin. 
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/224
MDU6SXNzdWU4MjM4MTcxOTQ=,center predict on landing page,CLOSED,2021-03-07T03:21:37Z,2021-03-07T11:24:17Z,2021-03-07T11:24:17Z,shuffle predict and data on the landing/home page. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/225
MDU6SXNzdWU4MzA3Njg1NDA=,Ensure all scripts are in the version controlled gentb-site repository folder,OPEN,2021-03-13T01:28:02Z,2021-08-24T09:33:49Z,,"currently the website points to ${bin} folder under /n/groups/gentb_www  which is not maintained as a repo. Its time to repoint the website ${bin} instead to /n/www/gentb.hms.harvard.edu/bin/ which is a under the maintained repo to ease maintenance. 

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/226
MDU6SXNzdWU4MzI5ODAzOTA=,MAPs: testing of new 12k benchmarking data,CLOSED,2021-03-16T16:20:15Z,2021-08-24T09:32:39Z,2021-08-24T09:32:39Z,"New large data has been uploaded and we have to test that MAPs behaves as expected. 

Several issues have come up so far:

1- Clicking world generates no maps
2- Previously after clicking country we were generating no gene lists.

As we fix the above issues, let's retest and add any new issues here to resolve. ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/227
MDU6SXNzdWU4NDAzNjA3MTk=,Add additional text to guide user during file upload and output exploration,CLOSED,2021-03-24T23:56:21Z,2021-10-04T17:06:04Z,2021-10-04T17:06:04Z,"- Add 'Single-end FastQ File' and 'Paired-end FastQ File' as bold headers on the upload page next to the logos
- Add 'Click on the heatmap to explore drug resistance mutations' or something similar below or above the Resistance prediction heatmap",mgro,https://github.com/farhat-lab/gentb-site/issues/230
MDU6SXNzdWU4NTg5NDI0OTc=,"Implement user feedback of error and quality for other pipelines e.g. single ended pipeline, VCF pipeline",CLOSED,2021-04-15T14:31:45Z,2021-08-19T18:19:22Z,2021-08-19T18:19:22Z,"At the moment when single-ended, or VCF file jobs fail little to no user feedback of error is given to the user. We need to implement the same changes we did for paired end pipelines ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/233
MDU6SXNzdWU4NTg5NjI2MDU=,An option to retire a pipeline,CLOSED,2021-04-15T14:51:21Z,2021-04-15T17:33:26Z,2021-04-15T17:30:16Z,We need an option to retire a pipeline: i.e. such that it's kept in the admin interface but is not displayed to the user as an option for a particular data input. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/234
MDU6SXNzdWU4NTg5NjUyOTU=,Clean up pipeline and program descriptions,CLOSED,2021-04-15T14:53:54Z,2021-08-19T18:59:36Z,2021-08-19T18:59:36Z,Matthias let's review the pipeline and program descriptions to keep in mind that these are user facing. Simplify and shorten where ever possible for all user facing pipelines. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/235
MDU6SXNzdWU4OTIzMTU5ODM=,Heatmap creation for WDNN pipeline ,CLOSED,2021-05-15T00:22:48Z,2021-05-19T18:16:34Z,2021-05-16T18:08:30Z,"The heatmap is not produced for the WDNN pipeline. I'll post two JSON examples below:
1. [2.1.pipeline.txt](https://github.com/farhat-lab/gentb-site/files/6481616/2.1.pipeline.txt) - the default 2.1. pipeline JSON output currently in routine use.

2. [WDNN_pipeline.txt](https://github.com/farhat-lab/gentb-site/files/6481617/WDNN_pipeline.txt) - no heatmap is produced. 

Thank you! 

",mgro,https://github.com/farhat-lab/gentb-site/issues/237
MDU6SXNzdWU4OTIzMzI5MjQ=,link to user friendliness survey on predict output page,CLOSED,2021-05-15T02:01:11Z,2021-05-16T17:10:30Z,2021-05-16T17:09:54Z,"Let's add @mgro 's survey on predict result page for each dataset.
This is the[ link ](https://docs.google.com/forms/d/e/1FAIpQLSflFOSOSSXhElFewA2Fm55_XS_sC3dM14ok6UewsI0fHaU7SQ/viewform)to the google survey. Martin please add some text to guide the user e.g. 

""Please give us feedback on GenTB predict here. """,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/238
MDU6SXNzdWU4OTIzMzMzNjc=,After user submits a predict job they should be notified than an email will be sent to them when the results are read,CLOSED,2021-05-15T02:03:57Z,2021-05-16T17:13:10Z,2021-05-16T17:09:54Z,The user should get feedback during upload direct from computer (as this is slow) and after data is uploaded on the 'processing' page. ,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/239
MDU6SXNzdWU4OTIzMzQwNDA=,Add list of minimal features needed on single end and paired end predict upload pages,CLOSED,2021-05-15T02:08:55Z,2021-05-26T02:05:49Z,2021-05-26T02:05:49Z,"@mgro is preparing a new table that includes WDNN features and RF features. 

We should place it here for both single-end and paired-end pages: 
![image](https://user-images.githubusercontent.com/8130645/118345237-1a8d6180-b501-11eb-8109-bae75b68de69.png)

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/240
MDU6SXNzdWU4OTQ2NDM2MDI=,Emails to user contain contradicting information,CLOSED,2021-05-18T18:06:26Z,2021-05-26T01:00:52Z,2021-05-26T01:00:52Z,"I received an email (see below) with *Status*: Prediction Ready and below 'Sorry! The Processing has failed'.




WARNING: Harvard cannot validate this message was sent from an authorized system. Please be careful when opening attachments, clicking links, or following instructions. For more information, visit the HUIT IT Portal and search for SPF.

- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
-----------
Dataset
-----------

* Title: test_04_combinedV2
* Description: test_04_combinedV2
* Status: Prediction Ready

Sorry! The processing of your file has failed.

We are sorry for any inconvenience, we are looking into the error and will email you about next steps shortly.

Link to your dataset details page: https://gentb.hms.harvard.edu/predict/d9d234f20b91a5a7e4bc0f86680c5569/

-----------
Processing
-----------

* Peru4912: [==================] Prediction Ready

-----------
Contact
-----------
* Name: mgroeschel
* Affiliation: Harvard Medical School
* Email: matthias_groeschel@hms.harvard.edu

(May 15th, 2021 10:37:19 p.m.)
",mgro,https://github.com/farhat-lab/gentb-site/issues/241
MDU6SXNzdWU4OTU1NjI2Mzc=,new bug in mutation display from heatmap,CLOSED,2021-05-19T15:06:01Z,2021-05-24T20:37:11Z,2021-05-24T20:37:11Z,"We seem to have a wrong drug to mutations mapping: we are supposed to only see rpoB, and rpoB promoter for RIF, instead we see some INH resistance genes:



",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/242
MDU6SXNzdWU5MTc0NzI1Njg=,Add detected resistance variants to the predict.JSON in WDNN pipeline ,OPEN,2021-06-10T15:24:31Z,2021-09-22T11:21:11Z,,@eford8 The variants based on which the WDNN predicts resistance are currently not reported in the JSON predict output. We can add a step to the WDNN predict python script that parses these variants to add to the predict output.,mgro,https://github.com/farhat-lab/gentb-site/issues/247
MDU6SXNzdWU5MTc0ODE4MTU=,Mutation table on GenTB - Map shows the same letter in two columns ,CLOSED,2021-06-10T15:33:27Z,2021-10-05T06:46:08Z,2021-10-05T06:46:08Z,"The `aaref` and `aavar` columns are showing the same amino acid letters. See highlighted in screenshot

![Screen Shot 2021-06-10 at 11 27 22 AM](https://user-images.githubusercontent.com/22810016/121553717-83bca380-c9df-11eb-8d6f-9e6fe849a3ea.png)
",mgro,https://github.com/farhat-lab/gentb-site/issues/248
MDU6SXNzdWU5MTkwMzUzMjc=,Fix oversampling correction under Maps > Country > Drug,CLOSED,2021-06-11T17:50:32Z,2021-08-19T18:24:47Z,2021-08-19T18:24:47Z,"The oversampling calculation should replace R/S counts on that tab, and should be calculated according to Avika's data",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/251
MDU6SXNzdWU5NzQ5MzQ0Mzg=,remove over sampling feature from maps > drug,CLOSED,2021-08-19T18:28:56Z,2021-09-27T16:41:23Z,2021-09-27T16:41:23Z,"Let's make the default view that with the oversamplign unclicked. i.e. we should keep the raw counts of resistant and susceptible from eVCF import, without no transformation or oversampling calculation.  

Delete the option to display oversampling correction",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/252
MDU6SXNzdWU5NzQ5MzkxMzA=,WDNN predict result display,CLOSED,2021-08-19T18:35:35Z,2021-09-20T16:22:12Z,2021-09-20T16:22:12Z,"WDNN output, displays only 5 drugs instead of 13, although json file has drug prediction for 11 drugs. Note drugs predicted by the usual pipeline were 13, but the set of 11 is contained in the set of 13. 

here is an example:
prediction:
https://gentb.hms.harvard.edu/predict/ee5c533e80721e0c3f97762fd139719d/

json:
https://gentb.hms.harvard.edu/tb/media/data/tbdata_00000786/Peru4912_cut.matrix.json
",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/253
MDU6SXNzdWU5NzQ5NDk2MTI=,Antibiogram app,CLOSED,2021-08-19T18:50:21Z,2021-09-27T17:44:46Z,2021-09-27T17:41:57Z,"We want to create a modified version of the Maps, that only has 'country' and 'drug' side tabs. This new 'antibiogram' app, will be  displayed alongside Maps, Predict, and Data on the main website and on the upper bar.

The input is Avika's antibiogram dataset. We are aiming for a display that has the features of the following Tableau map:
https://public.tableau.com/views/MarginalResistance/Sheet1?:language=en-US&publish=yes&:display_count=n&:origin=viz_share_link (one example)

There are three types of antibiograms we want to display (this will be an initial fork with three options: margin, rifampicin susceptible and rifampicin resistant. 
https://public.tableau.com/app/profile/avika8515

We have the option of embedding this new feature as a Tableau frame:
https://help.tableau.com/current/pro/desktop/en-us/embed.htm

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/254
MDU6SXNzdWU5Nzc5MDQwNzU=,Display probability instead of binary resistance value when hovering over drug heatmap,CLOSED,2021-08-24T09:35:43Z,2021-09-20T16:21:48Z,2021-09-20T16:20:37Z,"It would be great if instead of the binary resistance value (1 or 0, according to which the heatmap is colored) we would see the probability value (the last item in the list of drug-lists in the JSON). 

So the heatmap is colored according to binary resistance 1 or 0, but shown is the probability. 

<img width=""412"" alt=""Screen Shot 2021-08-24 at 11 34 45 AM"" src=""https://user-images.githubusercontent.com/22810016/130593806-c7aef01e-a2ac-465d-b7a4-1a0086413342.png"">
",mgro,https://github.com/farhat-lab/gentb-site/issues/255
MDU6SXNzdWU5ODczNjQ2MDQ=,Mutations app glitches and improvements,CLOSED,2021-09-03T03:38:16Z,2021-09-20T18:53:56Z,2021-09-20T18:53:56Z,"Request the following edits to the Maps > Mutations app

1- Instructions for the gene selection tab: Please change 'locuses' to 'loci'
2- When a gene locus is selected, e.g. katG, the gene locus tab does not indicate the gene locus name
3- When you unclick or double click a mutation, the left sided tab bar disappears:
4- When a mutation and drug is clicked the mutation table gives the count of mutations in resistant isolates, we phased out the bar plot we previously had below the table that showed the break down of mutations count among resistant and susceptible. Can we restore this feature?
5- In the Maps the data display when clicking over a country is too large, it makes navigation quite 'clunky'. Instead of having the user color by the different variables listed at the top of the maps, can they click what data to display in the box and keep the coloring by total isolates as we had previously?

Data display while hovering over country is too large:

![image](https://user-images.githubusercontent.com/8130645/131945310-33ded925-a4ed-40b8-80ae-fd4f1fe4ecd7.png)

Gene locus name is NOT displayed in the tab after selection:

![image](https://user-images.githubusercontent.com/8130645/131945913-f1965de5-c5b8-42ac-bc6e-c97d173a892c.png)

When you unclick or double click a mutation, the left-sided tab bar disappears:

![image](https://user-images.githubusercontent.com/8130645/131946074-b356705c-6050-4cd8-860f-55c2e8d7710f.png)

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/256
I_kwDOApu3bM47sKA1,Data display while hovering over country is too large (Maps>Mutations),CLOSED,2021-09-20T21:17:09Z,2021-09-27T15:51:21Z,2021-09-27T15:41:25Z,"Issue simplified from the previous number '5'

In the Maps the data display when clicking over a country is too large, it makes navigation quite 'clunky'. When the user clicks on color by variable up top, we should display Total sample size, MDR sample size, and the selected variable only (none of the others), keep color by variable feature as is. 

Data display while hovering overcountry is too large:

",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/257
I_kwDOApu3bM48F4xO,Add R/S label to hover box over drug/strain for Predict,CLOSED,2021-09-27T13:49:01Z,2021-09-27T14:59:43Z,2021-09-27T14:41:29Z,"We have successfully displayed R/S prediction as Red/Blue in binary form in predict. But currently, the hover box only lists the probability but not the prediction:

![image](https://user-images.githubusercontent.com/8130645/134921149-7369f3d3-e251-4bbb-a2ad-02ece6b25b68.png)

Let's add a line under 'drug' that states
**Prediction** Resistant 
or
**Prediction** Susceptible ",mahafarhat,https://github.com/farhat-lab/gentb-site/issues/258
I_kwDOApu3bM5Bnx2z,Dropbox link upload is not working,CLOSED,2022-01-13T00:24:07Z,2022-05-31T18:19:20Z,2022-05-31T18:19:20Z,issue posted on Slack for data safety,mahafarhat,https://github.com/farhat-lab/gentb-site/issues/261
I_kwDOApu3bM5N0eLl,are pipeline disabled,OPEN,2022-07-15T05:41:21Z,2022-07-15T11:07:15Z,,please let me know is issue with code or you have disabled pipeline for prediction. ,ningesh,https://github.com/farhat-lab/gentb-site/issues/266
I_kwDOApu3bM5OdRI2,download a standalone version of GenTB,OPEN,2022-07-25T05:35:08Z,2022-08-05T13:05:35Z,,I have 4000 of M.tb genome and want to analyze their resistance. Could you please guide me to download a standalone version of GenTB?,Ankitapal1995,https://github.com/farhat-lab/gentb-site/issues/267
