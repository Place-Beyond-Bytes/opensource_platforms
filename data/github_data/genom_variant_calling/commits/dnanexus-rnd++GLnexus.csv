commit_sha,commit_author_name,commit_author_email,commit_message,commit_date,login
fae491bcd3e19ac9d5095ccb8bb98643fa3f47bd,Mike Lin,dna@mlin.net,fix out-of-bounds write for missing single-int fields,2022-03-25T06:21:57Z,mlin
15c5addd974b4b2ae513e4ccc05cf08df71a1ba1,Mike Lin,dna@mlin.net,bump RocksDB,2022-03-15T08:27:52Z,mlin
becc0a190c056352b7142bb31a26d0d582f8b2c2,Mike Lin,dna@mlin.net,modernize cli/dxapplet,2022-03-14T01:31:54Z,mlin
76c1f25e81b7c119cc3885c905f1042502da84c1,Mike Lin,dna@mlin.net,avoid outputting dummy contig lengths in pVCF header (when inputs lack them),2022-03-04T10:33:11Z,mlin
cecf42e6b2ee589ec0edaf9f92f4917f4e910bfd,Mike Lin,dna@mlin.net,discovery/unifier: option to include zero-copy alleles (for GxS),2021-09-20T00:44:28Z,mlin
1ca6c0190c78a43412896f3590a5e8d376c57941,Mike Lin,dna@mlin.net,add GxS config + minor tolerance tweaks,2021-09-16T10:10:02Z,mlin
68e25e5dd0366b58131c122671362eb662bd6f15,Mike Lin,dna@mlin.net,test gvcf_norm examples,2021-08-11T10:02:46Z,mlin
82e9cb148f0d1a353729f905f9f014e6d8486bf0,Mike Lin,dna@mlin.net,bump RocksDB,2021-08-11T09:38:59Z,mlin
275adc023fcd4714decc03129428073a46c5b72a,Mike Lin,dna@mlin.net,add DeepVariantWES_MED_DP config,2021-06-23T09:28:12Z,mlin
ba0322a644bff2a86aafe5b530672cb1582218e2,Mike Lin,dna@mlin.net,further DeepVariantWES recalibration,2021-06-23T08:01:20Z,mlin
885dbfd780cfadbacb2747aa38efbf59da51776a,Mike Lin,dna@mlin.net,genotyper: never revise hom-ALT to hom-REF (#205),2021-06-22T07:50:16Z,mlin
786e471b4ebb3c719a0eab625efe1da26d74ed3e,Mike Lin,dna@mlin.net,further DeepVariantWES recalibration,2021-06-22T06:10:00Z,mlin
d5e5ff35c5ac71b693c33da84bc39a891590b939,Mike Lin,dna@mlin.net,bump RocksDB,2021-06-21T21:58:14Z,mlin
088d2b77d207728dab2e65360109375a00fddbc1,Mike Lin,dna@mlin.net,"recalibrate allele frequency prior for DeepVariant (#261)

Reduces (but intentionally doesn't eliminate) downward bias on GQ for 1/1 genotypes of rare alleles in large cohorts",2021-06-21T21:37:51Z,mlin
c1cac38c256ecf1e89c21b3941ca0a5c40d98a9e,Mike Lin,dna@mlin.net,migrate CI to GitHub (#262),2021-06-20T04:24:55Z,mlin
0e1c9c9092a0b502e99f73f15276a6e1aedc8413,Mike Lin,dna@mlin.net,fix RocksDB portability flags,2021-02-17T18:46:03Z,mlin
a47ea4bb32d2a43b06d09c8a9fa3e350a2f72201,Mike Lin,dna@mlin.net,bump dependencies,2021-02-17T04:48:16Z,mlin
e9340476aadf28ff1e17f51025badd60d5597e23,Mike Lin,dna@mlin.net,Add genotyper_config::top_two_half_calls (#249),2021-02-17T04:22:29Z,mlin
c31911c4c18246b0e50739a895c397086d231743,Helen Li,xunjieli@gmail.com,Use character literal for std::string::find,2020-12-15T20:40:09Z,xunjieli
55bcc43070f5852403419f9468d99cc66a356c54,Mike Lin,dna@mlin.net,clarify error messages for colliding gVCF file/sample names,2020-12-10T18:28:08Z,mlin
0e74fc40ec4b6773fa9bf9290333c6ccecd6d855,Mike Lin,dna@mlin.net,bump dependencies,2020-08-13T10:29:35Z,mlin
be09d3dd4860e62fc4aa8a37ed84ccbdfa6ddf31,Ted Yun,tedyun@gmail.com,"Add preset 'DeepVariant_unfiltered', analogous to 'gatk_unfiltered', etc.",2020-08-13T08:24:42Z,tedyun
ca0e9b774c8006faa5c3d7659f89653bbbc92d6b,Ilya Vorontsov,vorontsov.i.e@gmail.com,"Fix typo AQ-->AF in error message

It should be possible to distinguish update failure for AF/AQ now.",2020-05-30T10:22:30Z,VorontsovIE
12e6c5c572f160dc0db532ea6c2d8e327d743075,Mike Lin,dna@mlin.net,"maintenance: deps, python3, error messages",2020-05-27T06:51:36Z,mlin
4d057dcf24b68b33de7a9759ae65ca2b144a3d47,Mike Lin,dna@mlin.net,prevent CI timeout,2020-02-22T18:51:29Z,mlin
5b8ea6e2151d4dfc14151420ac39501b947ab191,Mike Lin,dna@mlin.net,"Reorder genotyper ops to work around gnarly htslib bug

9ddd114 stumbled into an htslib bug causing loss of updates to a bcf1_t record after calling bcf_dup() on it, by setting the record ID after generating ""residuals"" in --debug mode (which entails bcf_dup()). Workaround is to move the residuals generation, if enabled, to the end.

Filed https://github.com/samtools/htslib/issues/1030",2020-02-22T18:51:23Z,mlin
9bfacd78861e74ab86e49809bf0fcba6df9e85bd,Mike Lin,dna@mlin.net,update scripted reproduction of Getting Started tutorial,2020-02-21T19:32:00Z,mlin
3efcf660a8468bbd7aabfc7dc6401311353f97ee,Mike Lin,dna@mlin.net,dxapplet: bump ubuntu to 16.04,2020-02-21T19:31:34Z,mlin
3b5f961e7ab70cfc6dc292388ddeed516756aeb2,Mike Lin,dna@mlin.net,RocksDB v6.6.4,2020-02-17T21:05:14Z,mlin
d77c07f689b142a04a6f6cd44ade510b089a4ab3,Mike Lin,dna@mlin.net,add weCall_unfiltered configuration preset,2020-02-17T02:14:05Z,mlin
a048e6c14c32de7940d5b773b6ba8ab2f90c4214,Mike Lin,dna@mlin.net,Update README.md,2020-02-12T02:48:18Z,mlin
0b2183cd353fc3abbd38ec525f3c52e5d980f895,Mike Lin,dna@mlin.net,bump dependency revisions,2020-01-24T05:59:56Z,mlin
7fcb89ce8652b1c3c925ebfb9d5196b66d6b7f03,Mike Lin,dna@mlin.net,"define INFO AC & AN in pVCF headers

GLnexus itself doesn't generate these fields, but they can be added by bcftools post-processing steps which won't add the header definitions automatically. It doesn't hurt to declare them in anticipation of that possibility.",2020-01-17T07:37:40Z,mlin
9ddd1144f2cb62efc42422786e35c0044fe366bc,Mike Lin,dna@mlin.net,genotyper: set allele IDs after bcf_trim_alleles,2019-12-31T07:44:50Z,mlin
3e8c504242d6cbffb685cb6e4a1e6fcdd9992c28,Mike Lin,dna@mlin.net,"glnexus_cli: add directory path argument

closes #142",2019-12-28T03:50:10Z,mlin
015d44b83f45f3542119a795c08ad3aa8bc6056d,Mike Lin,dna@mlin.net,"genotyper: ensure deterministic sorting of ""usable half-calls""

fixes #176",2019-12-28T03:18:49Z,mlin
8b28a41afc779723563d6d427f0b7d7218d064a4,Mike Lin,dna@mlin.net,polish logging,2019-12-24T03:02:04Z,mlin
10260ec6891df3415c57866fe9a2af838b619eff,Mike Lin,dna@mlin.net,glnexus_cli: parallelize unifier by contig,2019-12-24T03:02:04Z,mlin
15c35a2452302d758aa2e3a80c34b0c0e5ac32d3,Mike Lin,dna@mlin.net,"glnexus_cli: overlap allele discovery with RocksDB compaction

Previously glnexus_cli waited for RocksDB compactions to finish, then reopens the database in READ_ONLY mode for allele discovery. Two issues with this:
1) The compaction process tends to spend lengthy periods driving only a few threads, leaving a lot of spare capacity on the table.
2) On large datasets, the discovered_alleles data structures can consume a lot of memory which isn't accounted for in the mem_budget, creating OOM hazard when combined with RocksKeyValue's large block cache in READ_ONLY mode.

Here we have the db_bulk_load function return a pointer to the database still open in BULK_LOAD mode (flushed), allowing the driver to run allele discovery on it while compactions continue running in the background. This should increase system utilization while actually decreasing the OOM hazard (since RocksKeyValue provisions a smaller block cache in BULK_LOAD mode).

Possible issues to watch out for: are the discovery procedure's RocksDB scans much slower when the database is open in BULK_LOAD mode instead of READ_ONLY? Is the block cache in BULK_LOAD mode too small as to send discovery into swap hell?",2019-12-24T03:02:04Z,mlin
0a1793d2e2a569692cb8e6fda4b2f9ca1b433e8a,Mike Lin,dna@mlin.net,bump RocksDB,2019-12-23T00:33:58Z,mlin
a43bc042cda75d6704ee6efc912dfda7101e69e1,Helen Li,xunjieli@google.com,Move a few helper functions into their own file,2019-12-13T19:11:55Z,xunjieli
611f1c86892ab3a856a52b1e23190750bae4580c,Mike Lin,dna@mlin.net,"unifier: with preference=small, also require all alleles at a site to mutually overlap",2019-12-07T22:33:52Z,mlin
3f008a18e4c38ad8d532be3c5a0cbb06a0db29c5,Mike Lin,dna@mlin.net,revise_genotypes: don't apply frequency penalty to 'lost' alleles in monoallelic sites,2019-12-05T20:32:05Z,mlin
a2fce237509fab7d1a93a3fd5b0615c49d8a2937,Mike Lin,dna@mlin.net,set DeepVariant genotyper_config::allow_partial_data=true,2019-12-05T20:32:05Z,mlin
61721cf15d93258c06674d9edf56de4948496a1d,Helen Li,xunjieli@google.com,set unifer_config max_alleles_per_site for DeepVariant (#201),2019-12-05T17:23:46Z,xunjieli
92b2206b263420d928dcb984dbdb32ad40a62d20,Mike Lin,dna@mlin.net,"two-stage Dockerfile for build/test & run images (#200)

closes #198",2019-11-26T02:33:59Z,mlin
eab23ecc1332981fa7126689e3f84b3695774882,Mike Lin,dna@mlin.net,"don't override {more_PL,squeeze,trim_uncalled_alleles} flags opted in by config presets

bump dependencies",2019-11-25T22:25:25Z,mlin
7729d552f9b081a922ff05ce0773ecacfe3a9a3c,Helen Li,xunjieli@google.com,include path,2019-11-05T02:14:21Z,xunjieli
9107778697e1b3d3c717fdca9ad7f8e34588f97e,Mike Lin,dna@mlin.net,make RNC UnphasedVariants precede OverlappingVariants in the case of 1/1 or 1/2 calls,2019-11-04T00:09:09Z,mlin
878a403adc87790997f953340dc7b1c4cd1f7fa1,Mike Lin,dna@mlin.net,make genotyper_config::squeeze override genotyper_config::more_PL,2019-11-01T17:13:43Z,mlin
3f5d45cf27704f81aba719d4bf496f2a6440fb6e,Cory McLean,cym@google.com,Include alt allele trimming and full PLs to DeepVariant defaults.,2019-10-31T23:26:36Z,cmclean
941c0ac3ed95f4afe2b68920ed72e4aeef9fd61f,Mike Lin,mlin@mlin.net,"improve handling of DeepVariant non-called records

Compared to other callers, DeepVariant generates more non-called (./.) gVCF records to express uncertainty; including both reference bands and variant records. In 497277a5 we made sure to preserve the non-called status for reference bands, albeit in a heavy-handed way that censored all the QC fields (RNC=PartialData).

Here we introduce a new RNC InputNonCalled, used for both reference bands and variant records when applicable, which preserves the associated QC fields in the pVCF.",2019-10-31T16:12:08Z,mlin
bd4919335beec0a4f77414dccfefaccff7aec118,Mike Lin,mlin@mlin.net,gvcf_test_cases: take config_preset to reduce copy/paste proliferation,2019-10-31T16:12:08Z,mlin
ba6250fcc884a9c4013e3eff2b0739f0f45a23a4,Mike Lin,dna@mlin.net,glnexus_cli: fix short options,2019-10-30T20:48:40Z,mlin
5ea7cbdba98a36f792d9b6bf4be48dcf1a4d5fc7,Mike Lin,dna@mlin.net,"add option to trim uncalled alleles (#193)

With genotype revision on, it's possible for an allele to be included in the pVCF site but not actually called in any of the final sample GT genotypes. This is rare and mainly associated with low/marginal quality alleles.

The new command-line option --trim-uncalled-alleles, -a (genotyper_config::trim_uncalled_alleles) adds a postprocessing step to remove such ""uncalled"" alleles (by invoking htslib's bcf_trim_alleles subroutine).

closes #191",2019-10-29T12:13:42Z,mlin
45adda5077abb8c9ba0f91ee79aaa1b4c33e00db,Ted Yun,tedyun@users.noreply.github.com,"DeepVariant preset config (v1) for WGS and WES (#190)

Update DeepVariant preset config with parameters optimized for general-purpose cohort merging",2019-10-20T11:55:31Z,tedyun
3dd619e73fba84ec247151f95dc992ff8798efc8,Mike Lin,mlin@mlin.net,Update .travis.yml,2019-10-12T05:36:33Z,mlin
0262e6163e6a0e66d95407ed91818509f7b6922d,Mike Lin,mlin@mlin.net,Merge branch 'v1.1.x',2019-10-12T02:14:04Z,mlin
448bceb5781a2ddb789bdab6f0607be5ddd39096,Mike Lin,mlin@mlin.net,record full configuration YAML as one line in pVCF header,2019-10-12T01:43:39Z,mlin
92be102ddbb82f1df502cb595cb60fd29a4a5d97,Mike Lin,dna@mlin.net,Update .travis.yml,2019-10-11T21:34:52Z,mlin
82d22b7de32d7253569e8d68ffd4eeacf3edbc21,Mike Lin,mlin@mlin.net,Set AD Number=R in pVCF headers @brentp,2019-10-11T21:34:32Z,mlin
77d109f7578ddf6a2192c3de23e1df4bca3f8972,Mike Lin,mlin@mlin.net,travis: don't attempt docker hub login/push from PRs,2019-10-11T21:33:42Z,mlin
51cb3d2f4c815ee451054decef28f9a9d51f0a27,Mike Lin,dna@mlin.net,"build minimal glnexus_cli docker image in CI (#184)

Travis CI Release configuration also builds a little docker image with `glnexus_cli` & jemalloc, and pushes it to https://quay.io/repository/mlin/glnexus

Modernize Travis environment & remove some vestigial stuff.",2019-10-11T21:33:31Z,mlin
07905ab48deaf812bd8078e3e075094947b1b29a,Mike Lin,mlin@mlin.net,bump dependency versions,2019-10-11T21:33:18Z,mlin
6eed4b2bc673e3dc5e571c43d415ec90c5f9cd13,Mike Lin,dna@mlin.net,"Dockerfile: use source tree in build context instead of cloning from GitHub (#181)

fixes #149",2019-10-11T21:32:17Z,mlin
58a33ac2495af3a4eeda6fe49bb0bfeb9b8993d1,Helen Li,xunjieli@google.com,"BCFData: pass out-args as pointers instead of references (#189)

Per https://google.github.io/styleguide/cppguide.html

This tends to make it more explicit at the call site that the function mutates the variable passed in, since the caller usually has to take its address `&`.",2019-10-07T19:53:51Z,xunjieli
f2fe29e7224b2a171c51b59587f9075316e03f66,Mike Lin,dna@mlin.net,Update .travis.yml,2019-10-07T17:11:55Z,mlin
a4271d95e6a7246c53b011e4f0b0c8f9e62412cf,Mike Lin,mlin@mlin.net,Set AD Number=R in pVCF headers @brentp,2019-10-02T17:59:19Z,mlin
1e0b1895555ffd8d7d5596f573d1d0e9c7c17353,Mike Lin,mlin@mlin.net,travis: don't attempt docker hub login/push from PRs,2019-09-30T20:50:18Z,mlin
f925d57708ef301701f7aa220f4314f4859d1650,Helen Li,xunjieli@google.com,remove const from BCFData::dataset_header (#186),2019-09-30T20:12:59Z,xunjieli
d7235e670e60102e7b3c27793b124edade9d5a76,Mike Lin,dna@mlin.net,"build minimal glnexus_cli docker image in CI (#184)

Travis CI Release configuration also builds a little docker image with `glnexus_cli` & jemalloc, and pushes it to https://quay.io/repository/mlin/glnexus

Modernize Travis environment & remove some vestigial stuff.",2019-09-29T01:20:26Z,mlin
aa32d1112ebe6a23ae6ae0d333f54b8a23d8d0a8,Mike Lin,mlin@mlin.net,"Change --more-PL 'missing' value from 999 to 990

For consistency with the values used for similar purposes by upstream caller",2019-09-26T19:29:33Z,mlin
86b21827809ae3c5dcea125f66b24301ef50351f,Mike Lin,mlin@mlin.net,bump dependency versions,2019-09-26T03:37:30Z,mlin
0394b038ceefc879528fbf3d214adae8350eecd9,Mike Lin,dna@mlin.net,"Add --more-PL option to propagate PL from reference bands (#180)

The --more-PL flag causes glnexus_cli to fill in all PL vectors in the output pVCF.

1. The PL for 0/0 entries are populated from reference bands.
2. PL entries for genotypes including alleles not present in a given sample gVCF are populated from the sample PL using the gVCF symbolic allele (<*> or <NON_REF>)
3. Any other entries that can't be filled safely are set to 0 or 999 as appropriate, instead of the VCF missing value (.).

The new mode is slower and inflates the pVCF output size, often for limited useful information added, compared to the default mode which omits these cases. However, it can provide compatibility with downstream programs which require 100% of PL values filled in (e.g. Beagle gl= imputation).

The command-line flag sets genotyper_config::more_PL to true.",2019-09-26T02:49:52Z,mlin
3ecfc2ffea8bcbf31e34f49574125679ba517caa,Mike Lin,mlin@mlin.net,"CLI: process full length of all contigs if --bed is omitted
closes #150",2019-09-24T05:21:46Z,mlin
be2a3f4249ce3dbc4fcbaacf09e5811e66c02a3d,Mike Lin,dna@mlin.net,"Dockerfile: use source tree in build context instead of cloning from GitHub (#181)

fixes #149",2019-09-24T01:06:21Z,mlin
f4ce0ffe2c2744f879f3a4f75a70a1aebd88705a,Mike Lin,mlin@mlin.net,RocksDB v6.2.2,2019-08-10T00:48:35Z,mlin
98bbfa26d307792b4c80ae284b60a45f4b91a7d1,Mike Lin,mlin@mlin.net,"change weCall format FT combi_method from missing to semicolon

minor logic cleanup for the associated format field helpers",2019-08-10T00:15:21Z,mlin
237e9bcbcd685445ab0aa65ecbc6c29cefe1b26e,Mike Lin,mlin@dnanexus.com,"refactor ingestion exceptions (#174)

apply the exceptions in unit tests and clean up issues that were lurking there",2019-07-16T03:09:32Z,mlin
b5a886a25e1de4c53ef3cdfdf934ce82fade3744,Mike Lin,mlin@mlin.net,still further RocksDB memory tuning,2019-06-17T01:21:34Z,mlin
7c7880547b007dc2fe836dd13500a86c37bc2744,Mike Lin,mlin@mlin.net,further RocksDB memory tuning,2019-06-15T17:55:27Z,mlin
c0182bcd9f510e18c73b42c3d9fa822500ab073d,Mike Lin,mlin@mlin.net,reduce default memory budget & RocksDB v6.1.2,2019-06-13T17:07:16Z,mlin
5ef3ae9bf5262247c2599aa6ea0dd217dbb2f658,Mike Lin,mlin@mlin.net,bump dependency revisions,2019-05-31T22:36:56Z,mlin
c673f41ba3bf48872ec8c28364db5f79f9c47d72,Mike Lin,mlin@dnanexus.com,fix double-counting of copy number etc. for alleles overlapping multiple target ranges (#168),2019-05-13T10:15:39Z,mlin
e20974d225364b236771ab84f0224903727adf46,Mike Lin,mlin@mlin.net,glnexus_cli: fix -c,2019-05-12T15:23:29Z,mlin
d7b43074cc5bb5ae13cf0007031df9f4a934ad20,Mike Lin,mlin@mlin.net,"Use min_AQ1 correctly when min_AQ2=0 (#167)

Fixes a logic flaw where setting min_AQ1>0 had no effect if min_AQ2 remains 0 (#165).

Modifies min_AQ representation so that it can distinguish (i) lack of carriers from (ii) carriers with AQ identically zero. The reservoir values are initialized to -1 instead of 0, so encountering a -1 value at position k indicates there were k carriers. 

Thanks @tedyun and colleagues",2019-04-22T22:35:35Z,mlin
e25a6be613fbd1879477d62c7258a2dcfe8dd896,Mike Lin,mlin@mlin.net,"dxapplet: admit optional configuration yml file, overriding config preset (#161 #159)",2019-04-09T18:41:49Z,mlin
26564e9af1d5c763ff585342f8c267fbc2ccbd49,Mike Lin,mlin@mlin.net,bump dependency revisions,2019-04-08T19:03:19Z,mlin
4b2dbb4842244266da97afa2b07f5860ea0ddeb3,Mike Lin,mlin@mlin.net,set gatk.unifier_config.max_alleles_per_site = 70,2019-02-12T06:49:01Z,mlin
ba170fe7ac4b1913db19fce21ea7ae042c953a30,Mike Lin,mlin@mlin.net,"Hotfix for handling GATK ""star"" alleles

To be improved further, but this at least allows them to run through.",2019-02-08T09:41:49Z,mlin
92f5b6c25d9f0cf085e4b9869ed1bd72f7c29303,Mike Lin,mlin@mlin.net,"use validate_bcf on all unit tests

except those with intentionally bogus examples. Clean up a lot of loose ends revealed by this change.",2019-02-08T09:41:49Z,mlin
8ea2fabf5a891bf4a9f8a584f0f820c210ae8846,Mike Lin,mlin@mlin.net,"RocksKeyValue: avoid unnecessary SyncWAL() invocation when in BULK_LOAD mode

closes #147",2019-01-08T01:36:37Z,mlin
0d3974ee6e538936215baf862be23be7eb67b221,Helen Li,xunjieli@google.com,check symbolic allele without std::regex_match (#144),2019-01-08T00:59:09Z,xunjieli
74f427950c325ef58a283dc8ce2008c8b46458c6,Mike Lin,mlin@mlin.net,set weCall.unifier_config.max_alleles_per_site = 70,2019-01-02T17:58:09Z,mlin
cddc34f9f59ab5cba0ee2e05320dc399c612329d,Mike Lin,mlin@mlin.net,"capnproto 0.7.0

capnp added its own memory-alignment check, and a way around it, which we now use since we have our own checks.",2018-11-19T20:01:04Z,mlin
8b69423615fb44e729f4bc91376be429681e2b98,Mike Lin,mlin@mlin.net,Rollback capnp pending investigation of memory alignment issue,2018-11-19T19:23:48Z,mlin
226cea59203b7a3cd33dd5964cae4aaa848bde80,Mike Lin,mlin@mlin.net,"Add experimental Strelka2 support (#140)

`--config Strelka2` is available but highly experimental!

Strelka2 gVCFs write some corner cases with a ""haploid"" record (e.g. GT=0, GT=1, or GT=.) which we needed some code workarounds to handle. PLs are not used or lifted over right now as they need a similar workaround.",2018-11-19T19:10:50Z,mlin
1e1afebe85d019f4e6a58bd7b200f6a5c57aa35f,Mike Lin,mlin@mlin.net,Bump dependency versions,2018-11-19T18:52:30Z,mlin
5a7040ca43cbc94173c813c7f56c056cc675cb19,Mike Lin,mlin@mlin.net,"Merge pull request #139 from dnanexus-rnd/mlin-deepvariant-20181109

Two DeepVariant corner cases",2018-11-10T06:34:33Z,mlin
380482c64d280de60869c1d1c144764bca9a6abf,Mike Lin,mlin@mlin.net,cli: fill out config descriptions,2018-11-10T04:01:58Z,mlin
497277a5fd55da48084c485b52dff1910037df41,Mike Lin,mlin@mlin.net,"genotyper: don't call 0/0 based on a reference confidence record with GT != 0/0

a DeepVariant phenomenon",2018-11-10T03:48:59Z,mlin
aec31372cdabff403ba35ffc7c6b8318fd37e018,Mike Lin,mlin@mlin.net,"unifier: fix bug in obscure code path (monoallelic site with realigned deletion)

seen in a DeepVariant cohort",2018-11-10T01:30:12Z,mlin
6031a2e82d574c2085b51e83c69ebf1d3cd948a1,Mike Lin,mlin@mlin.net,Work around rare HaplotypeCaller variant records lacking both AD and DP,2018-09-26T08:09:18Z,mlin
0c25b160995cd75c3e7596928d519bdbbb31f482,Mike Lin,mlin@mlin.net,spvcf v0.4.2,2018-08-27T10:36:42Z,mlin
254dc32223fb28643468e4477fd1863d71e8e4c5,Mike Lin,mlin@mlin.net,"xAtlas calibration (#138)

- include P output field
- derive AQ from P instead of genotype likelihoods
- set min_AQ thresholds and turn on genotype revision
- set drop_filtered=false and improve FT/FILTER liftover fidelity
- set required_dp=1 (needed customized AlleleDepthHelper)
- VR combi_method=max",2018-08-24T06:36:20Z,mlin
a71c59858766e8ed5edc89ad5a04f7034e898fe3,Mike Lin,mlin@mlin.net,dxapplet: use spvcf squeeze to trim trailing empty pVCF fields,2018-08-23T05:50:30Z,mlin
e42b979bd68fbca7c8377b7d40e46263135022b9,Mike Lin,mlin@mlin.net,"Improve DP liftover field fidelity

Prefer MIN_DP over DP as source value, and set ignore_non_variants",2018-08-22T09:11:43Z,mlin
8a99ae52d165e73fecc1b46b820101cdf0d2bbeb,Mike Lin,mlin@mlin.net,Expose squeeze option from dxapplet,2018-08-22T04:25:55Z,mlin
a865887cf44902b9e5e43514a260240f8c5e9f7d,Mike Lin,mlin@mlin.net,squeeze RNC,2018-08-22T04:04:08Z,mlin
94ddbf956b65ee8c4d53791186ab67214a50d4eb,Mike Lin,mlin@mlin.net,"QC squeezing (#136)

Add a setting to reduce pVCF size...

...by reporting only GT and DP FORMAT fields, with DP rounded down to a power of two, in cells derived from gVCF reference bands. Inspired by spVCF.

For now this is opt-in by command-line flag --squeeze, -S but in time we plan to enable it by default.",2018-08-16T09:09:35Z,mlin
71fb3f0582abeb4c90dee249c3d84520e45722fa,Mike Lin,mlin@mlin.net,"Automatically test examples used in Getting Started wiki

Prevent CLI from choking on >3-column BED files",2018-08-12T18:27:20Z,mlin
4bac83c29c40ab4c3b784d8e00b7740d6c624d5a,Mike Lin,mlin@mlin.net,"Fix performance regression during gVCF bulk load introduced in #134

The thread and memory budgets were not taking the desired default values when the user did not specify them on the command-line.",2018-08-12T08:33:04Z,mlin
07e23781a11eab53dcba66d68f08027107547195,Mike Lin,mlin@mlin.net,"still further improvement to jemalloc warning, our jemalloc warning is second to none!!",2018-07-28T07:04:47Z,mlin
39eb451defc7d3327a901e249a9a9c81186061a3,Mike Lin,mlin@mlin.net,tidy up,2018-07-28T05:04:02Z,mlin
78cba88879187ac7045dc96db2741fef283f92b7,Mike Lin,mlin@mlin.net,"Revamp Travis builds to use docker (#135)

Include automatic test of jemalloc dynamic linking, and ensure compiled executable is compatible back to ubuntu 14.04",2018-07-28T04:08:11Z,mlin
59ab7ad12cb3af44ebea35625a0bd2f869c9fb19,Mike Lin,mlin@mlin.net,Update README; change LICENSE to Apache 2.0; tag v1.0.0 ðŸ¾,2018-07-25T20:47:19Z,mlin
1dcbbcd23653f1a4b3469bca302912917803048c,Mike Lin,mlin@mlin.net,travis: deploy tagged revisions of glnexus_cli to GitHub releases,2018-07-24T22:17:34Z,mlin
207dbdf2679e9ee37db25a44603512c7f7c3821e,Mike Lin,mlin@mlin.net,"Reorder output fields to begin with GT:DP

Preparatory for spVCF-inspired squeezing",2018-07-22T03:52:46Z,mlin
9832344ce194f9bda1f971cc187ad178921a3b8a,Mike Lin,mlin@mlin.net,command-line options for memory and thread budgets (#134),2018-07-13T22:30:07Z,mlin
2fe0f6b578f3348f7ec6810b2420e6af97079bce,Mike Lin,mlin@mlin.net,Display runtime warning if jemalloc is absent,2018-07-13T22:13:21Z,mlin
cc6c7210a018896b68eb4b27c40cc33d42e8af11,Mike Lin,mlin@mlin.net,"RocksDB v5.14.2

Tuning:
Reduce target_file_size_base to enable wider subcompactions
Disable compression dict (not worthwhile given 1MB blocks)",2018-07-12T10:35:20Z,mlin
732c8588d0fd579012e64bb42260462d746f0c9a,Mike Lin,mlin@mlin.net,"ubuntu 18.04 build updates

bump spdlog version and update to its new API",2018-07-12T10:35:20Z,mlin
a835689fb4625ab7a1f1cb23086755ab3f5798d4,Mike Lin,mlin@mlin.net,weCall calibration,2018-06-13T07:12:36Z,mlin
8c07f3b198da53c67ea4f196e2e8c477f65fca90,Mike Lin,mlin@mlin.net,Update README.md,2018-06-11T19:08:11Z,mlin
3471f097489d376c791c25467867e4c6fe22123d,Mike Lin,mlin@mlin.net,zstd v1.3.4,2018-06-07T20:25:39Z,mlin
a5ece4875af9b9533fe985e65a4d5c3b858a3e60,Mike Lin,mlin@mlin.net,vestigial cleanup,2018-06-05T21:48:09Z,mlin
e7bbd0cc6ed366b273d20233c9011a41b4055f34,Mike Lin,mlin@mlin.net,RocksDB v5.13.2,2018-06-05T04:55:22Z,mlin
4da2c26c0b5bc890b0acf47d9cb382f189f635dc,Mike Lin,mlin@mlin.net,clean up capnp serialization in standalone mode (#132),2018-06-05T04:54:09Z,mlin
bdbdccfccea2b8f68b15c86edd0c5b5dd341c5af,Mike Lin,mlin@mlin.net,xAtlas: set max_alleles_per_site=150,2018-05-11T08:07:17Z,mlin
451f700da14f5bef3b44bac0eadfdb9f4b8343fd,Mike Lin,mlin@mlin.net,glnexus_cli error message improvements,2018-05-02T00:45:41Z,mlin
96a4989d1d6d1106319af0addd5662c4b9edb6b7,Mike Lin,mlin@mlin.net,genotyper_utils.h: comment out currently-unused code to game coveralls,2018-04-28T09:40:59Z,mlin
30026b7e8f649751eff318e8877db82955f7e4b2,Mike Lin,mlin@mlin.net,Put allele normalized representations into ID instead of INFO,2018-04-28T09:40:59Z,mlin
9016b3cb06e29e151237fd05cf56dbea7bc06124,Mike Lin,mlin@mlin.net,"delete vestigial ""playground""",2018-04-28T09:40:59Z,mlin
76560298bf125762e6ee9fb98996c89bb68e50e1,Mike Lin,mlin@mlin.net,more YAML roundtrip testing,2018-04-28T09:40:59Z,mlin
8ce74cf6bd4061bf2c326710e465a8a8d1cd9434,Mike Lin,mlin@mlin.net,add Allele Frequency (AF) INFO to pVCF,2018-04-28T09:40:59Z,mlin
4c44dc22b3e72d17a83640cfdcdaf753b7a4d300,Mike Lin,mlin@mlin.net,add Allele Normalized Representation (ANR) INFO to pVCF,2018-04-28T09:40:59Z,mlin
b82aa8f502c449a349fd2344ef2b9b635c6fe72f,Mike Lin,mlin@mlin.net,add Allele Quality (AQ) INFO to pVCF,2018-04-28T09:40:59Z,mlin
05b254231638b8c28296434f647aaa6e5c9d316d,Mike Lin,mlin@mlin.net,"refactoring unified_site allele representation

More cleanly convey allele-specific metadata (quality, frequency, normalized representation).

Make many unification entries implicit, so that they don't have to be serialized every time.",2018-04-28T09:40:59Z,mlin
577d2dfeafea021135b092a50fa20d3d2f34049b,Mike Lin,mlin@mlin.net,Update types.h,2018-04-27T03:12:42Z,mlin
a2c72e71ca190ce91ca3256ce90f8ca26ff543f3,Mike Lin,mlin@mlin.net,tighten debug assertion,2018-04-25T23:08:55Z,mlin
bbdfbf1771c4992764b633a0513b845544e441c8,Mike Lin,mlin@mlin.net,yaml-cpp 0.6.2,2018-04-24T08:29:41Z,mlin
0458ad2633c6126339ba455a0b9dad72d6bb2ca2,Mike Lin,mlin@mlin.net,"genotyper: fill FORMAT fields with ignore_non_variants=true using only the variant record(s) actually used in the genotype call

In particular, ignore an overlapping 0/0 variant record.",2018-04-24T08:10:52Z,mlin
bc559299fc394fac99ae7daf7d5111f3c01a5545,Mike Lin,mlin@mlin.net,"travis: split valgrind run into separate build

RocksDB recently started needing to be built with ROCKSDB_VALGRIND_RUN=1 in order to work within valgrind.",2018-04-23T22:25:58Z,mlin
53ba4444b8bae1c35598a2dd8231cfd170536aec,Mike Lin,mlin@mlin.net,htslib 1.8,2018-04-23T20:12:25Z,mlin
077c8fde28cd4474e421bd668affe2333db60a64,Mike Lin,mlin@mlin.net,RocksDB v5.12.4,2018-04-23T19:57:35Z,mlin
be6afb8a05461050d9e99623df18c5fb413791dd,Mike Lin,mlin@mlin.net,genotyper: ability to source pVCF FORMAT field from gVCF INFO field; use for weCall SBPV,2018-04-23T19:33:43Z,mlin
21124540793640b63105b7a7bf972aa2ecbe16c4,Mike Lin,mlin@mlin.net,clean up unit test outputs,2018-04-23T03:36:47Z,mlin
141a889646b7f1d224a71a0a289fbf039785feac,Mike Lin,mlin@mlin.net,glnexus_cli: usage message lists configuration presets,2018-04-23T03:35:57Z,mlin
e7503677b591477426d9b22bbe105ae9487f9189,Mike Lin,mlin@mlin.net,enable weCall PL liftover,2018-04-23T01:22:12Z,mlin
8e9808c3f8c4a3800730ec9edf212b624f5db6bd,Mike Lin,mlin@mlin.net,"genotyper: diploid calls from two overlapping gVCF variant records (#129)

Permit the genotyper to combine two overlapping gVCF variant records into a diploid ""1/2"" (or 1/3, etc.) pVCF genotype call, under certain favorable circumstances. This is when there are exactly two overlapping variant records, which each call exactly one ALT allele copy. In other circumstances we half-call or no-call.",2018-04-22T09:12:16Z,mlin
a6737d968534e1704aab13c5ca5413bf9d2e060b,Mike Lin,mlin@mlin.net,generate compile_commands.json,2018-04-13T21:03:02Z,mlin
7d746f0a97c0c3e5853f3f2877dea10572295eca,Mike Lin,mlin@mlin.net,"Unify some non-left-aligned indels (#128)

Unifier recognizes equivalent indels represented with different positions (i.e. at least one version isn't left-aligned), when the representations are overlapping, abutting, or spanned by some third allele. They are collapsed into the leftmost representation observed. The genotyper is adjusted slightly to ensure it retrieves such non-aligned indel records from the database, as their positions might not even overlap the unified site.

Limitations:

1. Doesn't recognize non-left-aligned indels other than the aforementioned cases. Theoretically, equivalent representations can be far apart (in homopolymer or tandem repeats) which is difficult to handle at this stage.
2. Doesn't necessarily produce the most left-aligned possible representation; rather, collapses into the most left-aligned version actually seen.

So, we'll continue to strongly recommend the upstream pipeline produce gVCF with left-aligned variants.",2018-04-11T09:51:19Z,mlin
53729360018675a64ef46845a7a4a1e8e45c5391,Mike Lin,mlin@mlin.net,"Multithread the BCFKeyValueData NA12878 import/query test, to speed up unit tests",2018-04-11T09:45:29Z,mlin
a9f25974be625004c71402a2a317903acfc3761a,Mike Lin,mlin@mlin.net,xAtlas overlapping-records corner case,2018-03-11T01:13:26Z,mlin
58fd8040c27a923808ea3e66cd1f4e594ad25706,Mike Lin,mlin@mlin.net,genotyper_config::allow_partial_data to not require or use flanking reference confidence records for variant calls,2018-03-11T01:13:26Z,mlin
afcab296d103a315dea6c100bf6ec6357f984bde,Mike Lin,mlin@mlin.net,CLI error message fixup,2018-03-05T03:39:43Z,mlin
74fbb95fa6902951d2e2cc6a11e3f57fd54d3356,Mike Lin,mlin@dnanexus.com,add cli/docker/build.sh,2018-03-05T03:39:12Z,mlin
3db0285929ef07f3b3a2393775696e627a99b449,Mike Lin,mlin@mlin.net,CLI: enable loading configuration from YAML file (#127),2018-02-27T00:39:46Z,mlin
4be44b270bbbc2790251feb034679fae9ad72c29,Mike Lin,mlin@mlin.net,DeepVariant PL liftover (#126),2018-02-16T23:45:09Z,mlin
02405836ac8ada2bb79e37767f1b123dacd58902,Mike Lin,mlin@mlin.net,Fix CLI test,2018-02-12T18:27:12Z,mlin
fa77152dbfdeb46f99be0a67319a71e35065f839,Mike Lin,mlin@mlin.net,Update README.md (#125),2018-02-12T16:27:31Z,mlin
8cbcdb93de6313c0e8db4e0301e66e1157531be9,Mike Lin,mlin@mlin.net,"PoC DeepVariant gVCF merging (#124)

Quality filtering and genotype revision are disabled for now, pending a calibration exercise.",2018-02-10T22:11:59Z,mlin
1dbb1966124e47cea5f8158d29ffe6e6ee7973c0,Mike Lin,mlin@mlin.net,genotyper: revise low-quality homozygous calls of rare alleles,2018-01-31T11:43:56Z,mlin
fa34264426a5900c53a202a489340f7805b7a95b,Mike Lin,mlin@mlin.net,Show last good range with gVCF parsing errors,2018-01-18T04:45:07Z,mlin
0c4a6916b5ed434f0e728625c42b3676f82c765c,Mike Lin,mlin@mlin.net,BCFKeyValueData: add test for range queries using a small NA12878-derived gVCF,2018-01-15T22:50:00Z,mlin
f12d0a715b15076265e151b733310cb11c10519a,Mike Lin,mlin@mlin.net,RocksKeyValue: increase block size,2018-01-15T22:50:00Z,mlin
9ae3df6a5cd1c0035b55a4dbfe9f66e719e4fbcc,Mike Lin,mlin@mlin.net,KeyValue: zero-copy passing of values,2018-01-15T22:50:00Z,mlin
ef79d04bff7e5807615f92f1d409327ba889e241,Mike Lin,mlin@mlin.net,BCFKeyValueData: increase default bucket size back to 30kbp,2018-01-15T22:50:00Z,mlin
651b1b7452ea9c28ebd262e8ac9a440e1b91a77e,Mike Lin,mlin@mlin.net,BCFKeyValueData: use better method for BCF bucket capnproto serialization,2018-01-15T22:50:00Z,mlin
92bc954070615b9688574a577d695bf3bbae824c,Mike Lin,mlin@mlin.net,BCFKeyValueData: move various helper code into separate file,2018-01-15T22:50:00Z,mlin
dc35f69a151406b83e344aa49dc29d163b9fc0d2,Mike Lin,mlin@mlin.net,"BCFKeyValueData: accelerate bucket scans with a skip list index

To maintain this index, bucket contents are now serialized using capnproto
messages including the BCF records and the skip index.

This should allow us to increase the default bucket size and thus further
reduce load on RocksDB.",2018-01-15T22:50:00Z,mlin
bf6b436a4b5f9cbfb480f563f586fe52e1730c17,Mike Lin,mlin@mlin.net,cli_utils simplifications,2018-01-15T10:50:57Z,mlin
be15f1b7bde8c5264a2009bb7bd85872a031c983,Mike Lin,mlin@mlin.net,simplify discovered alleles capnp,2018-01-15T10:50:57Z,mlin
e1d923daf7aeceb94067b96389f03219612cd5fe,Mike Lin,mlin@mlin.net,rename unified_site::in_target in capnp,2018-01-15T10:50:57Z,mlin
9c621ff61ce99274ecfd9df5825f376701e79a3d,Mike Lin,mlin@mlin.net,unifier: populate unified_site::in_target from discovered_alleles,2018-01-15T10:50:57Z,mlin
08cded00f31c7903b589bfd4c282094d816adc9b,Mike Lin,mlin@mlin.net,allele discovery: remember the target range in which each allele was discovered,2018-01-15T10:50:57Z,mlin
9d784150710cb39972f48472d3c6514d388e6301,Mike Lin,mlin@mlin.net,dxapplet: replace gvcf_folder with gvcf_manifest,2018-01-07T12:05:13Z,mlin
2764645e33ae6aefed8c9c7b260f441343d280e5,Mike Lin,mlin@mlin.net,warn if nothing gets imported from a gVCF file,2018-01-05T21:43:24Z,mlin
5a9e11182d52da75980370eb522b955f3bc15078,Mike Lin,mlin@mlin.net,BCFKeyValueData: check bcf1_t::errcode during gVCF ingestion,2018-01-05T09:22:11Z,mlin
a80ed1074f134c0b9c091938926fdc9cca36f895,Mike Lin,mlin@mlin.net,dxapplet: search a folder for input gVCF files,2018-01-03T05:32:31Z,mlin
9ff29549765053c92dee9343a8b6432c90a0d83b,Mike Lin,mlin@mlin.net,"More bulk load tuning

Fix some integer overflows in stats counters for huge imports",2017-12-21T21:59:43Z,mlin
87e9cc75ad7dce5945092e99ee265b0df0e9493e,Mike Lin,mlin@mlin.net,Bulk load tuning and RocksDB v5.9.2,2017-12-21T04:27:33Z,mlin
f2bd59e447802b16571662fa431531210778a61d,Mike Lin,mlin@mlin.net,"Handle unexpected corner case of including alleles dangling over edges of target regions (25ddb7a)

An apparently dangling allele (as written in the GVCF) might fall outside the target region after any reference padding is trimmed. We push the target range information into the unifier to detect this.",2017-12-20T11:01:09Z,mlin
5819aaccf551e405a68789994ccec61acf4eea55,Mike Lin,mlin@mlin.net,BCFKeyValueData: buffer DB inserts to reduce write lock contention during bulk loads,2017-12-20T11:01:09Z,mlin
89de7faeb3f1fe11e1372f9b40ee08066526279d,Mike Lin,mlin@mlin.net,rename unified_site::containing_target to in_target,2017-12-19T20:00:40Z,mlin
14fe6a13bab932c1e7aa251ac7aa83a50cc084ef,Mike Lin,mlin@mlin.net,"weCall: fill output DP from MIN_DP field of reference confidence records

Reverts workarounds in b357b9a and c18c36c",2017-12-18T22:35:14Z,mlin
25ddb7a22698f17de2f4bdeb1799cd19d79e5ed0,Mike Lin,mlin@mlin.net,"discovery: keep alleles spanning edges of target regions

Previously we dropped them out of concern for potentially not seeing all relevant alleles
(e.g. alleles overlapping the dangler but outside of the target region). But in the end,
the genotyper will see them and do the conservative thing.

Also clean up some unit test stdout/stderr noise.",2017-12-15T23:01:20Z,mlin
48e855eff77668fcab411d0696801d6e35d19ca8,Mike Lin,mlin@mlin.net,"Merge pull request #119 from dnanexus-rnd/mlin-xatlas

Adjustments for xAtlas indels",2017-12-11T00:35:11Z,mlin
2ff076024af622f7103dbdcbc8c0023cc23639bc,Mike Lin,mlin@mlin.net,"discovery: exclude alleles with zero copy number called

It's more efficient to not send them to the unifier at all, and avoids an
interaction with the drop_filtered setting (consider two observations of
the allele, one 0/1 but filtered and the other 0/0 but unfiltered).

Also CLI reports more stats from the unifier",2017-12-10T23:48:02Z,mlin
cfc26320bac42965d8a9465cdd568433b9f5b999,Mike Lin,mlin@mlin.net,skip records >= 100kbp,2017-12-10T23:48:02Z,mlin
d87825391f8aa80dcdaa81a092c1b77b4789d058,Mike Lin,mlin@mlin.net,ingest ALT alleles with IUPAC degenerate letters (but exclude them from discovery),2017-12-10T23:33:42Z,mlin
8bede517432ccd5d7b8f83f130ccf344520e9107,Mike Lin,mlin@mlin.net,replace some uses of std::regex with hand-coded matching functions due to documented libstdc++ bugs,2017-12-10T23:33:42Z,mlin
be8e7dd5b620fda9afe82f1d708239a32f153d17,Mike Lin,mlin@mlin.net,"xAtlas indel adjustments

Skip VRFromDeletion records",2017-12-10T23:33:42Z,mlin
be25e604ac6982253b1be011585875be79c3adb0,Mike Lin,mlin@mlin.net,"Merge pull request #118 from dnanexus-rnd/mlin-wecall

weCall ingestion",2017-11-30T09:04:24Z,mlin
3cb4fb0f59ced2f75fdaa69e979c892faaacc99e,Mike Lin,mlin@mlin.net,fix coveralls,2017-11-30T05:42:53Z,mlin
b127202b7949dce3576310cbca3d1d34b9ccfa04,Mike Lin,mlin@mlin.net,record DNAnexus job ID in pVCF header if applicable,2017-11-29T15:57:21Z,mlin
c18c36c43a1581a6424a3bc89ffc514bd8db5e4f,Mike Lin,mlin@mlin.net,weCall reference confidence records fill AD[0] from DP instead of MIN_DP. Also should be reverted once weCall MIN_DP resolution is adjusted.,2017-11-29T09:58:10Z,mlin
dc37c88f38d2fa57cefb525ce873b91ae6408f3f,Mike Lin,mlin@mlin.net,remove PL from weCall configuration for now,2017-11-29T09:01:38Z,mlin
dfc36e1b6c98d985596a8f5f16eb194a74ae590a,Mike Lin,mlin@mlin.net,produce half-calls for left-hand allele (1|.) when called for,2017-11-29T08:25:43Z,mlin
11d01325b854e59a2bf8a96f8b3867f9ddc34339,Mike Lin,mlin@mlin.net,adjust weCall unifier thresholds,2017-11-29T07:04:49Z,mlin
16ebcbffca2218920eb93501b3a1e3cc165fa57e,Mike Lin,mlin@mlin.net,correct monoallelic RNC,2017-11-29T00:50:45Z,mlin
62465e654c63673e7b096822ba88921af6a55c2e,Mike Lin,mlin@mlin.net,record the GLnexus version and config preset in pVCF header,2017-11-29T00:04:39Z,mlin
2413ded1408f70b5eb8c360766ee08e054a95d94,Mike Lin,mlin@mlin.net,allow half-calls from weCall 1|. + .|1 representation,2017-11-28T21:56:28Z,mlin
dca25a7f5f829e2e3af1efc53d29e46635705ad4,Mike Lin,mlin@mlin.net,Merge remote-tracking branch 'origin/master' into mlin-wecall,2017-11-28T05:30:20Z,mlin
2fd330c5e9df442c9f4dfe99ec092400368de52e,Mike Lin,mlin@mlin.net,add gatk_unfiltered config,2017-11-22T08:16:45Z,mlin
b357b9a82915c0872b9bc9e20fef4b3e176b3e70,Mike Lin,mlin@mlin.net,"suboptimal adjustment for weCall tendency to generate long non-variant records with MIN_DP=0

0/0 calls get their DP from the input DP instead of MIN_DP. This is not ideal: it may overstate reference coverage at the site, and also AD[0] is still lifted over from MIN_DP. Hopefully we will adjust upstream and revert this.",2017-10-31T12:35:55Z,mlin
f40de2f127e4f8513e166fe39034005853158455,Mike Lin,mlin@mlin.net,add weCall config preset,2017-10-31T11:28:19Z,mlin
808da8580f17bcb89e99fbaaf2fda926edeb8540,Mike Lin,mlin@mlin.net,"make optional the behavior of dropping alleles with only FILTERed observations

This is now exposed as a unifier_config option, with necessary info collected during allele discovery.",2017-10-31T11:08:51Z,mlin
f161d14f4ccfd020f5c0f4b490748edcac1c11be,Mike Lin,mlin@mlin.net,add weCall deletion test,2017-10-31T10:04:23Z,mlin
bc48497c428ca0fbf0438e552684d0be7374c323,Mike Lin,mlin@mlin.net,"test case for weCall SNP

removed vestigial sorting of retained_format_field::orig_names",2017-10-31T06:35:28Z,mlin
bebcc87d3827efde6c4699e9805e4dbd2a52ebb2,Mike Lin,mlin@mlin.net,bump capnproto and zstd,2017-10-31T00:10:03Z,mlin
e52a037640f7f1a98f234702f6d9100765d38b90,Mike Lin,mlin@mlin.net,"Merge pull request #117 from dnanexus-rnd/mlin-xatlas

xAtlas SNP GVCF ingestion; also zstd compression, RocksDB 5.8 upgrade and tuning",2017-10-26T17:28:01Z,mlin
e78aa2b070e883f29541497137997d5bbac18fa5,Mike Lin,mlin@mlin.net,Merge remote-tracking branch 'origin/master' into mlin-xatlas,2017-10-25T22:06:18Z,mlin
b7e122e69a55bf34f9c050cc9cf3061d3ddf529b,Mike Lin,mlin@mlin.net,RocksDB 5.8 tuning -- will subcompactions be awesome?,2017-10-24T21:13:23Z,mlin
74d369cd794e4238ec8272d3f788ae509d8c1e90,Mike Lin,mlin@mlin.net,fix variant sites with IUPAC-ambiguous reference sequence,2017-10-21T21:24:21Z,mlin
b7e3bfca91d2c637ad7861bd13f422e6a5946201,Mike Lin,mlin@mlin.net,RocksDB 5.8,2017-10-21T14:32:17Z,mlin
baf76329759a4ee8517771df57e44a9d0af524de,Ohad Rodeh,orodeh@users.noreply.github.com,"WDL workflow preparation (#116)

* lz4 no longer needed, updated instructions accordingly
* Renaming variables so that inputs are distinct from outputs. This makes WDL happy.",2017-10-19T23:49:18Z,orodeh
eb0a96b915cc1d7d8309cda424421683566a1c77,Mike Lin,mlin@mlin.net,glnexus_cli: option to consume a file with a list of filenames,2017-10-05T14:34:17Z,mlin
18b5e60aef4bfd1f24e7861ab37eeb3852c9ce8e,Mike Lin,mlin@mlin.net,"PL liftover for multiallelic sites.

PL handling for genotypes with lost alleles could use a little more thought.",2017-10-03T09:13:35Z,mlin
6e9fbfe8923f5c8c224a289136847be5bdc168a6,Mike Lin,mlin@mlin.net,"Lift over xAtlas FILTERs from gVCF into a pVCF FORMAT field

Quite a bit refactoring of format field helpers to accommodate string fields and this special functionality.",2017-09-22T10:13:05Z,mlin
d90c484d713cf045935e7b664db9e517e97aa556,Mike Lin,mlin@mlin.net,"Lift over xAtlas PL fields (genotype likelihoods)

- in case of overlapping variant records, blank them out (FieldCombinationMethod::MISSING)
- abbreviate format field vector outputs that are all missing values
- move format field helpers into genotyper_utils.h to tidy up genotyper.cc",2017-09-19T09:15:00Z,mlin
cb04d79179192cfa9fe1238a9c321e00ad439bb3,Mike Lin,mlin@mlin.net,genotyper: slightly reduce temp allocation,2017-09-03T03:41:08Z,mlin
50c2218261c46b708f4b9375fa49ff16ed976b79,Mike Lin,mlin@mlin.net,xAtlas GQ fixup,2017-09-02T20:40:26Z,mlin
564f4151eebc889cea3695fe9ea770353ef0b539,Mike Lin,mlin@mlin.net,CLI fixups,2017-08-10T09:39:18Z,mlin
2d379fab96b2dd6069b0ad64868b62fabfd61af2,Mike Lin,mlin@mlin.net,Merge branch 'master' into mlin-xatlas,2017-08-03T02:58:11Z,mlin
d45375ab009d0671930d80eea489aa125bca77d6,Mike Lin,mlin@mlin.net,shorten dataset names derived from GVCF filenames; leveraged since the dataset names get repeated in the database a lot,2017-07-05T21:48:15Z,mlin
1e15dffd04006cdc2b21adc58c6a6996ce2a4ed6,Mike Lin,mlin@mlin.net,genotyper: minor efficiency improvement while gearing up to genotype a site,2017-07-05T21:48:15Z,mlin
eaa7b9327b50d80340c6fdf7a9809e13f93a8084,Mike Lin,mlin@mlin.net,BCFKeyValueData: switch to more-compact binary key prefixes,2017-07-05T21:48:15Z,mlin
d2ea12c98003894658872b5588e3d4133d66d07f,Mike Lin,mlin@mlin.net,BCFKeyValueData: remove unnecessary end coordinate from keys,2017-07-05T21:48:15Z,mlin
4d5aaecaa219395b21891dffbae202bbef4adc77,Mike Lin,mlin@mlin.net,BCFKeyValueData: report the number of duplicate (dangler) records generated during GVCF load,2017-07-05T21:48:15Z,mlin
9642552df8c3869a2ea08e6a49e8201e411182a3,Mike Lin,mlin@mlin.net,capnp_of_unified_sites_fd version taking a 2D array. to eliminate copying,2017-06-23T10:29:04Z,mlin
8fed39eaee3a400fbe21478f16d0cf918a92b0e3,Mike Lin,mlin@mlin.net,cli_utils::db_get_contigs read-only,2017-06-23T02:03:10Z,mlin
9c1bdafe86bcddf4fe9f26dc77a695cb0e24a328,Mike Lin,mlin@mlin.net,capnp de/serialization of unified sites (#114),2017-06-21T21:50:54Z,mlin
55e0a7e0dec5aace995d93c3f272cec6bdec6ac4,Mike Lin,mlin@mlin.net,allele discovery: skip records with failing FILTER(s),2017-06-20T20:50:41Z,mlin
0fd95cb50dfba094c2e042b4502c8cb034aa1883,Mike Lin,mlin@mlin.net,Merge branch 'master' into mlin-xatlas,2017-06-20T20:07:21Z,mlin
2e707958177184e8a1ee1e86dac18203db219859,Mike Lin,mlin@mlin.net,correct header line for RNC field from Number=G to Number=2,2017-06-20T18:33:50Z,mlin
fdda8dac566266ad73d33ca8173d020320acedd3,Mike Lin,mlin@mlin.net,"initial xAtlas SNP GVCF ingestion

- adjusts validation to accommodate xAtlas GVCF dialect
- adds preset configuration for xAtlas, exposed through applet
- adds GVCF test case
- minor performance adjustments",2017-06-16T20:39:29Z,mlin
2c0c7ad544f39888b3ff2390a4d7c7fc55f954aa,Mike Lin,mlin@mlin.net,cli_utils: allow for multiple config presets (in principle),2017-06-09T20:24:37Z,mlin
785b2af119f386856c29f7faa2f9b62a1e969aaa,Mike Lin,mlin@mlin.net,zstd compression (#113),2017-06-08T22:56:04Z,mlin
d4c26aafa1171f59bfc4ad66b3fa821999c2ba50,Mike Lin,mlin@mlin.net,zstd compression,2017-06-07T22:16:28Z,mlin
86b7e838ea31595f5e3b273a09e0eb64e7595ca1,Mike Lin,mlin@mlin.net,update htslib & rocksdb,2017-06-07T19:28:28Z,mlin
684acd315fe68d775cd135c9958401879578c4da,Mike Lin,mlin@mlin.net,capnp 0.6.0,2017-05-02T20:51:12Z,mlin
6a2d0352aa836437a61c43d166d288f1a5a902e0,Mike Lin,mlin@mlin.net,RocksKeyValue: enable second background flush buffer to reduce stalling during bulk load,2017-04-15T19:19:12Z,mlin
8a2b8d2e692219d8cce8ae42c87a5507a454c616,Mike Lin,mlin@mlin.net,"upgrade capnproto (#112)

in particular pull in https://github.com/sandstorm-io/capnproto/pull/444

Necessitates gcc 5 in Travis environment, in turn necessitating a few includes.",2017-04-15T19:18:18Z,mlin
01497f7f22482ed7a60e988293c24f5e710f1c91,Mike Lin,mlin@mlin.net,"Merge pull request #111 from dnanexus-rnd/orodeh_capnp_debug_III

When the debug flag is turned on, write out discovered alleles in capnproto serialized format (cflat) to a file. Verify that we can read the capnp data back correctly. Finally, upload the cflat file.",2017-04-07T21:49:09Z,mlin
0f2567dbff24ebede540b6e5cfbfa7198e56741e,Mike Lin,mlin@mlin.net,"Merge pull request #110 from dnanexus-rnd/mlin-genotyper-beta2

unifier/genotyper beta 2",2017-04-05T23:31:42Z,mlin
f3572923dd56e66b6265f5a91b621aa3dd14917a,Mike Lin,mlin@mlin.net,unifier: use linear-time algorithm for the final sort,2017-04-05T01:17:52Z,mlin
59e46d7e11b541b6e33958a9c66f8140ef38355a,Mike Lin,mlin@dnanexus.com,Merge branch 'master' into mlin-genotyper-beta2,2017-04-04T18:09:12Z,mlin
f8642cb39d0be0e243b9b7c9a211661e78c51269,Mike Lin,mlin@dnanexus.com,"RocksDB tuning for WGS

increase bulk load compaction, to reduce read amplification
quadruple block size from 64 to 256KiB, to consolidate bucket reads
bump version",2017-04-04T17:53:33Z,mlin
caf5c6727ca8fdc7382b4d03a825cfe3346470d9,Mike Lin,mlin@mlin.net,keep default bucket size in one place,2017-03-31T19:40:50Z,mlin
49f3e09c7c2422c2eb5892077f0cc42cbdefe5d3,Mike Lin,mlin@mlin.net,Merge remote-tracking branch 'origin/master' into mlin-genotyper-beta2,2017-03-31T19:37:19Z,mlin
6702a34094de01f6fd54b912f6eab3635040dfc8,Ohad Rodeh,orodeh@users.noreply.github.com,Expose bucket size argument,2017-03-31T19:31:02Z,orodeh
48114381686b785be2595033bd0aae0d5d21eb23,Mike Lin,mlin@mlin.net,logging adjustments,2017-03-31T19:26:46Z,mlin
3924e2b5fe37c8b256f510403fa33e1688c5ca8b,Mike Lin,mlin@mlin.net,"reduce default database bucket size from 30kbp to 3kbp

This is comfortable now that bucket size no longer constrains recorrd length. The smaller buckets are better for the higher record density in WGS datasets relative to WES.",2017-03-31T19:15:25Z,mlin
841e5799af511c8d6efd12a95f46d6d036d718a0,Mike Lin,mlin@mlin.net,Merge remote-tracking branch 'origin/master' into mlin-genotyper-beta2,2017-03-28T08:30:54Z,mlin
1c9c8ca6fd2ad01b7d79ed49433339ac6c40cc62,Mike Lin,mlin@mlin.net,"cli_utils::merge_discovered_allele_files: break results down by contig

will help downstream steps reduce peak memory usage",2017-03-28T05:07:50Z,mlin
1a0bbcc242e93922419d6bc1989ede11e7a7c761,Mike Lin,mlin@mlin.net,"unifier: reduce memory usage

Change a couple of loops over (usually large) data structures of alleles to
free the input incrementally during iteration, reducing peak memory usage.
This makes several unifier functions have the side effect of clearing an
input, slightly perilous but worth it since unifier memory usage is one of
our scalability chokepoints.",2017-03-28T05:07:50Z,mlin
8c4f82a7dcff4fddc168bc39798cfed961690d4e,Mike Lin,mlin@mlin.net,"BCFKeyValueData adjustments

Reuse bcf collection handle. Add a debug assert that buckets are not overwritten.",2017-03-27T22:53:34Z,mlin
b7e80718eb800bc1ccda6601f9c4f8ac7327b152,Mike Lin,mlin@mlin.net,unifier: don't create monoallelic sites for low-quality alleles,2017-03-27T20:05:56Z,mlin
013af8e8312afafa93e9012d1e27c1ccddd3b39e,Ohad Rodeh,orodeh@users.noreply.github.com,"BCFKeyValueData: remove record length limit (#107)

Allow ingestion of BCF records of any length regardless of the bucket size. Long records may be duplicated several times in the storage buckets, which is fine if they are not too common.",2017-03-27T08:03:31Z,orodeh
3454a288927097432229bff65184c196e9c7c054,Mike Lin,mlin@mlin.net,cli_utils.cc: update sanity check,2017-03-26T02:51:43Z,mlin
453b762e9e0e7cf19d75911b0efabe7e70c880c1,Mike Lin,mlin@mlin.net,default enable monoallelic sites for lost alleles,2017-03-26T00:31:38Z,mlin
c183f92be417a2a1123840a8b7af513980000246,Mike Lin,mlin@mlin.net,genotyper: normalize half-calls so that the present call is second in the GT field,2017-03-25T07:32:37Z,mlin
7e20b35217943bbe12192511afa3f8941bab2e77,Mike Lin,mlin@mlin.net,genotype monoallelic sites,2017-03-25T05:14:39Z,mlin
b6758dd40dbe396a681e94f11473381c9f251447,Mike Lin,mlin@mlin.net,"cli_utils::merge_discovered_allele_files: break results down by contig

will help downstream steps reduce peak memory usage",2017-03-15T21:00:19Z,mlin
ce137d43f33a71da901ef3eed19c96350ac2125b,Mike Lin,mlin@mlin.net,"Unifier: optionally generate monoallelic sites to represent otherwise-lost alleles

(still ignored by genotyper)",2017-03-13T07:15:21Z,mlin
df04174573397d98fd65e3a62455fd1548364ee1,Mike Lin,mlin@mlin.net,"Unifier: move logic enforcing max_alleles_per_site

so that discarded alleles can be more easily preserved in the list of ""pruned"" alleles.

This changes some minor tie-breaking logic as reflected in the updated unit tests.",2017-03-09T19:38:47Z,mlin
6250467103be6ab3e76ccc49537a453624b15f49,Mike Lin,mlin@mlin.net,Introduce unified_site::monoallelic flag (not yet functional),2017-03-06T22:21:05Z,mlin
929d9eee86a4d8c5fb47b767992b93b7e8e1cc7e,Mike Lin,mlin@mlin.net,"genotyper: in half-calls, censor AD only for the reference allele",2017-03-06T18:14:43Z,mlin
72ca01c81ad76ff5a7f46d93c7f4dfcbe75a865d,Mike Lin,mlin@mlin.net,"genotyper: generate half-calls in some cases of overlapping variant records

Until now we would fully punt on the genotype call at a unified site
overlapped by multiple GVCF variant records for a given sample. Here we
at least recover a ""half-call"" of one ALT allele if possible (and the
overlapping records don't together call more than two ALT alleles).

Also refactor FormatFieldHelper to simplify special-case logic for the AD
field (using a subclass instead of recursion).",2017-03-06T18:14:39Z,mlin
dba140491c55157e3884f5cef5850080f132eaed,Mike Lin,mlin@mlin.net,"Generate variant-level QUAL scores (#106)

Initially defined conservatively as the maximum ALT allele quality (AQ) seen in any sample during discovery.",2017-01-25T16:32:13Z,mlin
d45288737a8d2997359ab3f751b37c2ed262cc4b,Mike Lin,mlin@mlin.net,Fix travis,2017-01-24T23:29:31Z,mlin
e2835ca67cf0ee6a1043d98bfd377ffbe4e4be77,Mike Lin,mlin@mlin.net,Bump htslib and rocksdb versions,2017-01-24T23:27:27Z,mlin
c5a6d2f60a0da30c6ad549d48a4239fad68b4826,Mike Lin,mlin@mlin.net,Update README.md,2016-11-24T18:46:56Z,mlin
49b20da4b1476f772ea05b4b0524658e615e4caf,Mike Lin,mlin@mlin.net,simple CLI/applet write debug alleles in YAML,2016-11-03T22:28:35Z,mlin
056f80b6ab7574bd78681d792ba8a07a08123e23,Ohad Rodeh,orodeh@users.noreply.github.com,"Simple public cli (#102)

A simple version of the applet, for public consumption.

The applet has minimal command line options. Common code was moved to src/cli_utils module, with new unit tests.",2016-10-31T19:49:08Z,orodeh
dfa340213f461a92a0639aef5c742e38baddac58,Mike Lin,mlin@mlin.net,"Censor potentially unreliable/misleading FORMAT fields at non-called genotypes (#105)

Simplified version of #96",2016-10-30T19:08:45Z,mlin
4b181211907d1a76233a274bfa9c9d0cdcb64866,Mike Lin,mlin@mlin.net,RocksKeyValue: put LOG files in /tmp when in read-only mode,2016-10-30T07:03:41Z,mlin
2254611ce9a741a431467fb0e0b9c3c1cdcf5a8c,Mike Lin,mlin@mlin.net,"genotyper: re-call genotypes involving lost alleles (#95)

Use genotype likelihoods and allele frequencies to re-call genotypes at input sites which include alleles ""lost"" in the unification (usually due to missing quality thresholds). Often these low-quality calls ""round down"" to 0/0, thus reducing no-calls in the output due to noisy, low-quality calls.",2016-10-30T03:43:10Z,mlin
22da0925d1e85a80e9591b7a768952ed89210603,Mike Lin,mlin@mlin.net,upgrade to RocksDB v4.11.2,2016-10-30T01:58:07Z,mlin
706ec87d3266f38ae345e3ef311cbdc62c89da88,Mike Lin,mlin@mlin.net,"BCFKeyValueData: strike opts.compaction_options_universal.allow_trivial_move

saw some weird behavior with this in another project & just an optimization",2016-10-27T03:04:04Z,mlin
6fb5deff94f373508199281da1407ecc52af3caf,Ohad Rodeh,orodeh@users.noreply.github.com,"Cap'n proto serialization for discovered alleles (#100)

Replace the YAML serialization for discovered alleles, with Cap'n proto serialization.",2016-10-07T16:57:37Z,orodeh
17ad1745f3ec90bf82ca28288700270134d3caec,Ohad Rodeh,orodeh@dnanexus.com,Adding assignment and copy constructors for Status,2016-09-22T17:43:24Z,orodeh
58c0f8d1be458086f19049dcd91da469570fd220,Mike Lin,mlin@mlin.net,"Merge pull request #98 from dnanexus-rnd/update_bgzip

Using bgzip with an improved IO backend, from our own htslib fork.",2016-09-07T19:17:01Z,mlin
65563ffba9accef8673cd5c6c81cd74411411263,Ohad Rodeh,orodeh@dnanexus.com,"Using bgzip with an improved IO backend, from our own htslib fork.",2016-09-07T17:37:44Z,orodeh
1db7e154c4511a46728bfb1f7c31b215a6fe02d0,Mike Lin,mlin@mlin.net,Using bgzip with multi-threading enabled (#97),2016-08-31T05:34:44Z,mlin
e2e367ab118a4c283d8ad348ec079042bfc64543,Ohad Rodeh,orodeh@dnanexus.com,WIP,2016-08-30T22:07:10Z,orodeh
0ca30dcb3118523aef4589e780e29e3ba4d90171,Mike Lin,mlin@mlin.net,RocksDB 4.9,2016-08-22T15:06:04Z,mlin
65d730c2799129f1cc478e37325f16291d7a1ff8,Mike Lin,mlin@mlin.net,unifier: record an estimate of total frequency of lost alleles,2016-08-18T02:21:11Z,mlin
0a947292973e371dee6eb4cd44a1f4bdb6232668,Mike Lin,mlin@mlin.net,"unifier: translate copy numbers to allele frequencies (#94)

* track N (sample count) through allele discovery into site unification

* unified_site::copy_number => allele_frequencies",2016-08-08T15:18:33Z,mlin
4ad1aa9dd774b666f90e50560eac3e1ef857f41f,Mike Lin,mlin@mlin.net,BCFKeyValueData: enhance error message on encountering record exceeding max length,2016-08-05T22:24:10Z,mlin
631b73acb537b57339ef4c97003c47bd0db9a31e,Mike Lin,mlin@mlin.net,remove vestigial lz4 tarball,2016-08-04T22:14:42Z,mlin
b9eebde222914e23e38b03aa0e65cd08e921da78,Ohad Rodeh,orodeh@users.noreply.github.com,"Orodeh discovered alleles parallel load (#93)

Implements parallel load of the discovered allele files, for the unify-allele stage. The number of parallel threads is, by default, the number of cores. You can set it from the command line, using the -t parameter.",2016-08-04T21:41:54Z,orodeh
d259c6a4b1b8ae6700af27b65b9ba38078340c48,yifei-men,ymen@dnanexus.com,"More expressive handling of format field liftovers

- Squashed merge of #91 and #92
- Format field default behavior: missing (fill with .) or zero (fill with 0); the latter is applicable for AD, former is generally applicable to most fields
- Option to ignore_non_variants (records) when populating format fields, ie to preferentially only use format field values from variant records, falling back to non-variant records only when no variant records are found for sample.
- Updated test cases and gvcf integrated tests
- Updated CLI config to apply default_type: zero to AD (default_type: missing applied by default to all other fields); ignore_non_variants: true for GQ.",2016-07-30T04:40:09Z,N/A
104d446f6734109ab622ca245471cebdaf05be15,Ohad Rodeh,orodeh@dnanexus.com,No need for backslashes in front of double quotes,2016-07-25T14:10:32Z,orodeh
af6b59339dca519fa218ab5704c339d195274f7e,Mike Lin,mlin@mlin.net,genotyper: record how much time worker threads stall on output thread,2016-07-24T03:04:13Z,mlin
677d2a649ab814948acec47fd353a6df9ab94f1e,Mike Lin,mlin@mlin.net,slight increase to default min_AQ1,2016-07-21T04:28:56Z,mlin
2d5329f9cb8a22a4a796fe5020c0d6a40106a711,Mike Lin,mlin@mlin.net,unified_sites::[of_]yaml: rename unification::alt to unification::dna (#90),2016-07-20T03:25:59Z,mlin
6600469a4d12b8fc7e76e20154eceece89be8225,Ohad Rodeh,orodeh@dnanexus.com,"Correcting dependency for spdlog, the glnexus library requires it, not just glnexus_cli",2016-07-19T22:16:19Z,orodeh
ef3909831eb1bd4188f58a154cecb60c46f7c619,Mike Lin,mlin@mlin.net,RocksDB 4.6.1,2016-07-18T23:11:41Z,mlin
bb04cf6a232d2c0cf832eb169520e612cc024985,Mike Lin,mlin@mlin.net,cli_utils::discovered_alleles_of_yaml_stream: deallocate YAML::Node every time,2016-07-18T23:11:30Z,mlin
c81f6d64ebd5c0997d69c1f41a81cc7277a9f229,Mike Lin,mlin@mlin.net,glnexus_cli unify_sites: add sanity check,2016-07-18T19:28:47Z,mlin
91a08895653fce9f4fdb53825cec1c9eb015c45e,Ohad Rodeh,orodeh@users.noreply.github.com,"Streaming YAML for unify-sites

The unify-sites file can get fairly large. The default (de)serialization provided by the yaml_cpp library requires keeping the data-structure for the entire file in memory, this causes high RAM usage. This modification drastically reduces memory consumption, by performing yaml conversion per site. Only a small part of the file is kept in memory at any one time.",2016-07-12T21:27:29Z,orodeh
cb91ed8c42d26b7d42213ab8a2d8cce072ebd46d,Ohad Rodeh,orodeh@users.noreply.github.com,"Using YAML streaming for discovered-allele files (#88)

A memory efficient way of serializing and deserializing discovered alleles. 

We build a top-level document separated by ""---"" markings. Each sub-document is held in memory, but never the entire file. This allows dealing with very large yaml files, typically generated by the discovered alleles phase.",2016-07-12T18:57:21Z,orodeh
69ad30cb05232cbfda25cc6c684d58fd354da03d,Ohad Rodeh,orodeh@users.noreply.github.com,"Simplify bridge between allele discovery and site unification (#87)

Simplify tie in between discover alleles and unify sites phases.

1) Simplify yaml formats connecting allele discovery and site unification
2) Look up containing range in the site-unification stage, by reading a bed file
3) Add sanity check, that the input ranges have no overlaps.",2016-07-07T15:41:03Z,orodeh
99027a6763539b950fa2e9bb4e599c40e13ee522,Ohad Rodeh,orodeh@users.noreply.github.com,"Unify alleles on vector inputs (#85)

Unify-alleles can take several discovered-allele input files, and merge them together. This change fixes an earlier error, where this functionality did not work correctly.",2016-07-05T17:35:17Z,orodeh
3ee165029d3f4649b40223d5de33e6e5466a3867,Mike Lin,mlin@mlin.net,"Further revisions to unifier quality thresholds (#86)

Trifurcate `unifier_config::min_quality` to `min_AQ1`, `min_AQ2`, and `min_GQ`.

The AQ thresholds control adjudication of allele existence. The unifier includes alleles having any
observation with AQ > min_AQ1, or having more than one observation each with AQ > min_AQ2 (min_AQ1 >= min_AQ2).

The GQ threshold affects estimates of allele copy number. Genotype calls with GQ >= min_GQ count towards the copy number estimates of the constituent alleles.",2016-07-03T14:45:59Z,mlin
1f6572e0b468be611a84c59da997609e17b19f5b,Mike Lin,mlin@mlin.net,bump htslib to 1.3.1,2016-07-03T14:08:52Z,mlin
5c3ead9785b4d88b8dd4150858424baeb00c6f1e,Mike Lin,mlin@mlin.net,update yaml-cpp to pull in a few speed improvements,2016-07-03T13:44:34Z,mlin
dde6b6872f389858145904e034e99d228ce19137,Mike Lin,mlin@mlin.net,"Unifier: ensure estimated copy number is >=1 for any allele with sufficient AQ.

Works around the rare case when all individuals carrying an allele have weak, homozygous-alt genotype calls.",2016-06-30T19:39:00Z,mlin
868873b2ff242a7d1ede79a4b8cba7159e3f9882,Mike Lin,mlin@mlin.net,log-ify maxAQ calculations,2016-06-30T18:12:22Z,mlin
44c6299188687a6a973db569a434b8fa7725fee6,Mike Lin,mlin@mlin.net,glnexus_cli: add a few log messages,2016-06-30T16:55:52Z,mlin
ef440bb2ee6b9678115fed8bfa9850526b139933,Ohad Rodeh,orodeh@dnanexus.com,Making the unify-sites subcommand take an array of discovered-allele files,2016-06-30T13:39:05Z,orodeh
afff67c040114a43e885541a519cd5a92e76aeac,Mike Lin,mlin@mlin.net,glnexus_cli: fix merge of hard-coded config preset,2016-06-29T22:30:20Z,mlin
d5aa23ae91378a03fe72b5b014b7a4cd145b103d,Ohad Rodeh,orodeh@dnanexus.com,Adding config to the parameters for unify_sites and discover_alleles,2016-06-29T22:21:00Z,orodeh
96b7b26bddf047d857e2b4ff54940973001d9625,Mike Lin,mlin@mlin.net,yaml_of_discovered_alleles: flow the zygosity_by_GQ lists,2016-06-29T18:44:03Z,mlin
261220cfa67a7e3751dc994274a2a131d730a178,Mike Lin,mlin@mlin.net,Update cli_utils test cases after merge,2016-06-29T00:51:02Z,mlin
dafeae01a6ed6a14cfe3ea5f12d3020e1e0b4181,Mike Lin,mlin@mlin.net,"Revised methods for quality thresholding during allele discovery and unification (#82)

Fairly drastic revision to the way we use genotype likelihoods to decide whether to include an allele in the final site list, and estimate copy numbers. `unifier_config::min_quality` is a phred-scale threshold controlling this.",2016-06-29T00:22:44Z,mlin
85ab115845709ef11990a5021788ba18d1a8989f,Ohad Rodeh,orodeh@dnanexus.com,"Refactoring the glnexus_cli applet. Moving utilities into src/cli_utils.cc, and adding tests for them. Also, checking for exceptions thrown while loading a YAML file.",2016-06-28T22:11:29Z,orodeh
50bfcefee08b54c1c2de42f704cd6542a2d04901,Ohad Rodeh,orodeh@dnanexus.com,Making unify-sites a separate stage,2016-06-27T19:36:37Z,orodeh
4aef8a11891bc208cb01742552da3f5e68e5921b,Ohad Rodeh,orodeh@dnanexus.com,Separating out discover alleles as a separate phase in the applet.,2016-06-23T21:16:24Z,orodeh
efa43fcfbf062f79ec108125b30268f86c39f140,Mike Lin,mlin@mlin.net,"Merge pull request #76 from dnanexus-rnd/mlin-gvcf-symbolic-assumption

adjust assumptions about gVCF symbolic alleles (<*>/<NON_REF>), to accommodate variant callers that only include them in reference confidence records and not variant records.",2016-06-05T15:23:40Z,mlin
85402f99aee214cd85415a18082315942b88b30b,Mike Lin,mlin@mlin.net,Service::discover_alleles replace min_alleles=3 with !is_gvcf_ref_record for selection of variant records,2016-06-05T13:14:14Z,mlin
cba4ea9f7d560fdecd09bbb21027bff2357fd733,Mike Lin,mlin@mlin.net,remove unneeded genotyper_config::ref_symbolic_allele,2016-06-05T13:14:14Z,mlin
27a240f3d9373e8200f3c4d5f6e8b092e2ad1139,Mike Lin,mlin@mlin.net,relax gVCF symbolic allele assumption on ingest; refactor is_gvcf_ref_record(),2016-06-05T13:10:11Z,mlin
d6fb14d8ce954501bbe236fd17e224bfdd409eca,Ohad Rodeh,orodeh@dnanexus.com,cleanup,2016-06-02T23:22:39Z,orodeh
5ba6bc3a4dd10871baf181479c413e80b1223ee2,Ohad Rodeh,orodeh@dnanexus.com,Adding YAML serialization for configuration structures,2016-06-02T23:12:00Z,orodeh
e75ee1f366b8329dd4cf3e10201662d6146d9c44,Mike Lin,mlin@mlin.net,"Merge pull request #77 from dnanexus-rnd/mlin-remove-loss-tracking

Remove genotyper loss tracking",2016-06-02T18:59:59Z,mlin
569130293eafc2d1d6b41d38a7cab938cead29f2,Mike Lin,mlin@mlin.net,"configuration tweaks: increase min_allele_copy_number, reorder FORMAT fields",2016-05-29T03:23:52Z,mlin
8df9f3599a78497df2847a2702bfdd324bc97320,Mike Lin,mlin@mlin.net,Remove genotyper loss tracking,2016-05-28T04:11:31Z,mlin
00d89412b44608a8e2110df074710a8651532a32,Mike Lin,mlin@mlin.net,dxapplet: optional LZ4 instead of gzip compression of VCF and residuals,2016-05-27T20:47:24Z,mlin
83373d976c6792ae79bf8e0b1cc0c530c9d0baed,Mike Lin,mlin@mlin.net,"Merge pull request #71 from dnanexus-rnd/mlin-relax-unifier

relax unifier so that alleles at a site needn't all overlap all others",2016-05-25T20:06:45Z,mlin
3623563cb8f54199da560551eb9b7aa3b4f6d4e8,Ohad Rodeh,orodeh@dnanexus.com,"Making sure the jemalloc library is used by the applet, and streamlining performance flags",2016-05-24T22:30:57Z,orodeh
30c418a1c782336772bf04ca458b759e3d4b5c56,Ohad Rodeh,orodeh@dnanexus.com,Using a caller defined predicate to filter through a BCF bucket,2016-05-20T16:20:17Z,orodeh
b00103ad959bc9fc10c60aafea566799c0de51c4,Mike Lin,mlin@mlin.net,"relax unifier so that alleles at a site needn't all overlap all others

this should be safe as long as the genotyper will not create phase assertions spanning multiple variant records in one sample",2016-05-20T03:16:32Z,mlin
13bd181919405b7af2e4e13dd489d22c2996905c,Ohad Rodeh,orodeh@dnanexus.com,C library symbols for profiling,2016-05-16T22:58:24Z,orodeh
9f739cf8b0d2f024bc9c4bf7d6fe8f789dcbd0fe,Mike Lin,mlin@mlin.net,Update README.md,2016-05-14T00:38:13Z,mlin
cdacffe0d6e0ba382fd3db81b473bf4ed8474c7f,Mike Lin,mlin@mlin.net,residuals: subset the output VCF record to only those samples with residuals,2016-05-13T16:46:22Z,mlin
f4aa841b26d87f44b3f3685ed2f4c92948927e0f,Mike Lin,mlin@mlin.net,"genotyper: recognize abutting ""pseudo"" ref confidence records",2016-05-13T04:10:53Z,mlin
9d85a8ea28b990d8066af66020ebdbb8d0c2dedd,Mike Lin,mlin@mlin.net,testOutputVcf.py: correct samples assertion,2016-05-13T03:30:26Z,mlin
b7b2f2b7265654d9b94a94ee04f7e072924925f7,Mike Lin,mlin@dnanexus.com,"residuals: correct header emitted with lost input records.

Corrects my error in 506f65d5.",2016-05-13T01:00:33Z,mlin
71c14a1374dec1a32bcda547dd25e419345c28b2,Ohad Rodeh,orodeh@dnanexus.com,cleanup,2016-05-11T20:08:53Z,orodeh
3bc545cbe41d5cd2329aa1c4079969eb0a0de40f,Ohad Rodeh,orodeh@dnanexus.com,"Enabling profiling of the glnexus applet. This also allows viewing kernel symbols, if you have the appropriate permissions.",2016-05-11T20:07:54Z,orodeh
60303054d21fc3120eba591a90ad96064278feb7,Mike Lin,mlin@mlin.net,"Merge pull request #69 from dnanexus-rnd/mlin-rocksdb-4.5.1

RocksDB 4.5.1 upgrade & tuning",2016-05-10T21:05:12Z,mlin
901304d31b58be3c830b03da7dbdc869bdd89c25,Mike Lin,mlin@mlin.net,"Merge pull request #68 from dnanexus-rnd/mlin-multithread-scalability2

multithreading scalability tuning",2016-05-09T02:29:38Z,mlin
5cd09f8b534af4e8bd886317973fcd74d824294c,Mike Lin,mlin@dnanexus.com,run medium tests on x32,2016-05-09T02:17:12Z,mlin
22eada76eb4842591b1f549bc7fcbe4a2e8f2b2b,Mike Lin,mlin@dnanexus.com,BCFKeyValueData: fix valgrind error revealed by RocksDB upgrade,2016-05-09T02:15:45Z,mlin
a8233e610ca0090a827b1eaec63517f090fa890b,Mike Lin,mlin@dnanexus.com,RocksDB 4.5.1,2016-05-09T02:15:37Z,mlin
0b058f747cdd9d6fd7fdd7369cac371fb2cf1865,Mike Lin,mlin@dnanexus.com,RocksKeyValue multicore tuning: increase block cache sharding,2016-05-09T02:15:29Z,mlin
10223b6e54dda6cd4eea4dc79201ab0a1d937db2,Mike Lin,mlin@dnanexus.com,"genotyper multithreading scalability trick: duplicate BCF record before returning, to do some serialization in the worker threads",2016-05-09T01:42:37Z,mlin
b3f86067944a420ef09eb1620dd78d5698298e45,Mike Lin,mlin@dnanexus.com,"Service::genotype_sites: don't allow results collection thread to fall too far behind

Also set BCF output compression level to 1 to try and speed up said thread a little.",2016-05-07T14:10:42Z,mlin
7654abd813f5e67f02f4a6bb1ba4c8247b5a9bd1,Mike Lin,mlin@dnanexus.com,dxapplet: reduce thread count,2016-05-07T02:56:20Z,mlin
3eb2585eb965bd744126d97420e397779e58f2d1,Mike Lin,mlin@dnanexus.com,dxapplet: fiddling with NUMA,2016-05-07T02:56:13Z,mlin
9d23fd0f413cab9be4a9ed0cf73687658f0bc799,Mike Lin,mlin@mlin.net,"Merge pull request #67 from dnanexus-rnd/mlin-reduce-residuals

genotyper residuals: omit sites with calls lost only due to missing data",2016-05-06T02:40:45Z,mlin
8467aa25bcc91fb2a1c6b8b4b2a695484e0b92a8,Mike Lin,mlin@dnanexus.com,genotyper residuals: omit sites with calls lost only due to missing data,2016-05-06T01:47:21Z,mlin
be543ef13cf9c8d5ac2e79737c07d975afd8f6a2,Mike Lin,mlin@dnanexus.com,"increase max # of contigs to 10,000 to accommodate GRCh38 pipelines with lots of little decoy sequences",2016-05-02T21:39:06Z,mlin
90a4f1d77b57da6b48868267105e915355e1e70f,Mike Lin,mlin@dnanexus.com,increase precision of allele copy number estimates,2016-03-27T21:00:19Z,mlin
b452df2c12f2b8f540faff2de64913ed9382492b,Mike Lin,mlin@dnanexus.com,reduce compiler warnings,2016-03-27T21:00:19Z,mlin
6943a0f77ba7295fb87bc2e1c220a5c0ec22bbb2,Mike Lin,mlin@dnanexus.com,genotyper: use htsvecbox,2016-03-27T21:00:19Z,mlin
9c862557b5e6a3792c2bf3010e42b9f078d01833,Mike Lin,mlin@mlin.net,"Merge pull request #66 from dnanexus-rnd/mlin-discover-soft-copy-number

unifier: filter alleles based on soft estimate of copy number in cohort",2016-03-27T21:00:07Z,mlin
0915d096be44ece577a7385c21b962a9e8c6b13e,Mike Lin,mlin@dnanexus.com,"unifier: filter out alleles with less than a configurable minimum discovered copy number

This will effectively filter out sites that arise exclusively from weak singleton observations.",2016-03-27T02:06:39Z,mlin
ab530e0f9abb82c7def4a8c132117611eb8f4271,Mike Lin,mlin@dnanexus.com,"BCFKeyValueData: additional validation of alleles and genotype likelihoods

Comment out currently-untested support for reading the GL field (in favor of PL)",2016-03-26T19:22:23Z,mlin
e8f72debee27d559130e4605850fd83d3f8fdc39,Mike Lin,mlin@dnanexus.com,"discover_alleles: use genotype likelihoods to make soft estimates of allele copy numbers

diploid: corrected genotype order to match VCF spec",2016-03-22T00:08:04Z,mlin
73ca75eec6a5f6bb356a199ed5e34f06d2cbf229,Mike Lin,mlin@dnanexus.com,AlleleDepthHelper: consolidate accessor methods,2016-03-19T21:32:37Z,mlin
f5b497d6e8e3bc1218f9dc927032a5d1cda9022a,Mike Lin,mlin@dnanexus.com,discovered_allele_info: rename observation_count => copy_number,2016-03-19T21:21:38Z,mlin
506f65d5a8db67a21eff1c0ea7f44228fedf723a,Mike Lin,mlin@mlin.net,residuals: adjust sample name output,2016-03-13T20:32:18Z,mlin
27c46e1d43041b268dd0cdeda0a98feb0593d658,Mike Lin,mlin@mlin.net,reduce iostat logging,2016-03-13T02:41:03Z,mlin
b5f4d7d7c04728e21165cb9cf45365abae26e147,Mike Lin,mlin@mlin.net,BCFKeyValueData: correct import_result stats,2016-03-13T00:35:59Z,mlin
ea0838e3491f0ce855e90cef6e8fcfe0ecee3db4,Mike Lin,mlin@mlin.net,"genotyper FormatFieldHelper: reuse bcf_get_format buffers.

A little more efficient + fewer manual free's needed.",2016-03-12T23:30:00Z,mlin
75dd2c8ba26d6571b031a71cce91f4a5740a0796,Mike Lin,mlin@mlin.net,"genotyper AlleleDepthHelper: fix usage of bcf_get_format buffer size parameter.

The parameter is the number of elements in the array, not the array byte size. Potential memory corruption.",2016-03-12T23:30:00Z,mlin
e73a747578160afb74ea0e6359709a4a3b0e9d6d,Mike Lin,mlin@mlin.net,add required_dp=1 to default test config,2016-03-12T00:24:07Z,mlin
7f0281c443489ff342d2590553cb4d1bef783c5e,yifei-men,ymen@dnanexus.com,"Squashed commit of PR 56:

- Liftover of FORMAT fields
- Programmatic comparison of output in gvcf_test_cases",2016-03-11T18:10:02Z,N/A
ac0870c356b3bae12b3e60cf79d42e3821ef782b,Mike Lin,mlin@mlin.net,"Make RocksDB compaction more aggressive.

Reduces read amplification, while compaction performance has improved greatly since our last round of tuning (owing to a new RocksDB version introducing DBOptions::compaction_readahead_size)",2016-03-06T07:25:33Z,mlin
d6ebf55ebf4d431436ea84057963304007e80008,Mike Lin,mlin@mlin.net,BCFKeyValueData: track # bytes and max buckets during import,2016-03-06T04:50:47Z,mlin
1bcf2ac2cf330ba6c82dc7046e4f62477ec2b33f,Ohad Rodeh,orodeh@dnanexus.com,"Merging residual generation into the genotyper, so we always have a single pass on the DB records.",2016-03-02T01:33:37Z,orodeh
46eea02cd86702340c343390bdb3d2d6b3190179,Mike Lin,mlin@mlin.net,genotyper: tolerate an unusual class of variant records with INFO DP=0 and no FORMAT DP or AD fields,2016-02-28T05:30:18Z,mlin
6f79e511857193189369e04cfe13e8a51a5c13f0,Mike Lin,mlin@mlin.net,"Merge pull request #64 from dnanexus-rnd/mlin-BCFData-optimize-discover-alleles

discover_alleles optimization - avoid reading reference confidence records",2016-02-24T21:35:25Z,mlin
6f44474978640500568902c6efc72ed2c8bd270e,Mike Lin,mlin@mlin.net,dxapplet: add libsnappy-dev to execDepends,2016-02-24T08:22:03Z,mlin
a0da3c93b21fd1730a22b55256a58f3b48457433,Mike Lin,mlin@mlin.net,BCFKeyValueData::scan_bucket: optimize min_alleles predicate by having BCFScanner extract bcf1_t::n_allele without copying,2016-02-24T07:56:05Z,mlin
9c697b817e86b01574ab2fe4cd4b0db04f804e43,Mike Lin,mlin@mlin.net,"discover_alleles: use min_alleles predicate in BCFData queries

Allows BCFKeyValueData to avoid unpacking reference confidence records which
discover_alleles ignores anyway.",2016-02-24T06:58:58Z,mlin
65d4980a06aabcf57c5e1c5bde5c010870e98b7f,Mike Lin,mlin@mlin.net,"Add min_alleles predicate to BCFData query methods

This will support a discover_alleles optimization to skip scanning through
reference confidence records (which it effectively ignores anyway)",2016-02-24T05:44:51Z,mlin
0fce084847b303a341368f7b6c2b1fbc04b28907,Mike Lin,mlin@mlin.net,"Merge pull request #63 from dnanexus-rnd/mlin-residual-containing-range

Residuals include the target range (exon) containing each unified site",2016-02-24T01:00:43Z,mlin
9437e3aa1bc215154280f47ee25a2fea56f17336,Mike Lin,mlin@mlin.net,"Residuals include the target range (exon) containing each unified site.

This is to reduce time spent debugging why we lose alleles crossing the
boundary of a target range.",2016-02-23T23:11:09Z,mlin
708156a27a606792aea7dab6b673b36790ffa734,Mike Lin,mlin@mlin.net,"Merge pull request #61 from dnanexus-rnd/mlin-unifier-prefer-small-alleles

unifier: add a configuration setting to prefer small alleles",2016-02-19T01:23:31Z,mlin
9b813c3c6761d9ff877f37b859c16fa9dc90ce21,Mike Lin,mlin@mlin.net,"unifier: add a configuration setting to prefer small alleles as opposed to common alleles

""small"" alleles, by which we mean editing the smallest stretch of the reference genome,
are (heuristically) the least likely to conflict with other overlapping alleles and
cause UnphasedVariants losses. Common remains the default preference for now because
it seems the right heuristic to minimize total loss, however.",2016-02-19T00:18:43Z,mlin
aa9d6bdc4a54161527748dbd418f8e4877d3d1b5,Mike Lin,mlin@mlin.net,"Merge pull request #60 from dnanexus-rnd/mlin-pseudo-ref-records

Handling ""pseudo"" reference confidence records",2016-02-13T00:26:02Z,mlin
6e9b34ea5843386ac37801e0d3faa0861968d86c,Mike Lin,mlin@mlin.net,"Handling ""pseudo"" reference confidence records (0/0 and QUAL=0)

Significant genotyper refactoring for more flexibility in handling
overlapping variant records.",2016-02-12T22:31:26Z,mlin
976123d26b425ce0ac0c2eda5621722db07aa9d8,Mike Lin,mlin@mlin.net,"Merge pull request #59 from dnanexus-rnd/mlin-AlleleDepthHelper-refactor

genotyper: refactor AlleleDepthHelper to simplify and reduce heap allocation",2016-02-12T22:08:26Z,mlin
38163eec0548d92f0555d4d4423687f25b7baa0d,Mike Lin,mlin@mlin.net,genotyper: refactor AlleleDepthHelper to simplify and reduce heap allocation,2016-02-05T20:55:11Z,mlin
bd0abf76180b269d18891380a06b12b9bec906f2,Mike Lin,mlin@mlin.net,add RNC LostDeletion,2016-02-02T06:08:00Z,mlin
49d7edd65a19ea8247b3096bfc227492eac35acb,Mike Lin,mlin@mlin.net,unifier: adjust tie-breakers in minimized_allele ordering to reduce bias for deletions over insertions,2016-02-02T06:08:00Z,mlin
916a6f14a2e9b45ad306602586d9f45c6b603715,Mike Lin,mlin@mlin.net,"Merge pull request #58 from dnanexus-rnd/mlin-fine-grain-RNC

More detailed RNCs",2016-02-01T23:57:12Z,mlin
6a2b0eb4cbe301d59b57284c5f81825d58ed111b,Mike Lin,mlin@mlin.net,update output headers to describe new RNCs,2016-01-30T05:32:17Z,mlin
b9fe8ad33f6a51d99c34b6a1ab75e864534c3fde,Mike Lin,mlin@mlin.net,genotyper: make some RNC stuff more concise and eliminate compiler warnings,2016-01-30T05:29:58Z,mlin
d4d35a43c07512a2341501aa955d98a408862fc3,Mike Lin,mlin@mlin.net,genotyper: add NoCallReason::OverlappingVariants,2016-01-30T05:29:58Z,mlin
f393f0efed4d2a6ec089808fdcd961dcb4fccada,Mike Lin,mlin@mlin.net,genotyper: add NoCallReason::UnphasedVariants,2016-01-29T23:26:28Z,mlin
8645045c559af830c7364e171709974c395dc69e,Mike Lin,mlin@mlin.net,genotyper: add NoCallReason::InsufficientDepth,2016-01-29T23:21:14Z,mlin
afd43a0da6ad38c4a722d7fb3467ab38ba14f961,Mike Lin,mlin@mlin.net,genotyper: add NoCallReason::PartialData,2016-01-29T23:13:21Z,mlin
d278a294c300fe6e45b8ad6b9fe62dbb6426e623,Mike Lin,mlin@mlin.net,"BCFKeyValueData: reduce bucket scanning by duplicating records that cross two buckets

If a record dangles from one bucket to the next it's copied in both buckets (which each remain beg-sorted). Therefore, to query a range within a bucket, it's no longer necessary to scan the preceding bucket as well. However, if the query is such that we do need to scan multiple adjacent buckets, we will see dangling records twice, so we need to de-duplicate them (by ignoring danglers in all but the first scanned bucket).

Squash of PR #57",2016-01-29T23:00:24Z,mlin
e48dad7cd33fda64e10bdb966d1c224d4ce394b1,Mike Lin,mlin@mlin.net,"Fix stealthy problem with std::lock_guard use in BCFKeyValueData::import_gvcf

http://stackoverflow.com/q/25059787

Wow, what a nasty dark corner of C++. cc @orodeh @yifei-men",2016-01-28T03:31:04Z,mlin
fd817c574afe9138eda08d6704ee919c7f54c93d,Mike Lin,mlin@mlin.net,"Range filters for gVCF loading

Also adds some statistics collection during load (total records and buckets).",2015-12-31T21:01:57Z,mlin
0268eeddd0946bb85d53541c07860bce133cc505,Mike Lin,mlin@mlin.net,dxapplet: accept multiple gVCF tarballs,2015-12-30T23:35:15Z,mlin
0f6f4daa047c35b4c90e2c0d90f82fb13393c364,Mike Lin,mlin@mlin.net,genotyper: tighten error-checking for bcf_get_genotypes,2015-12-28T22:30:26Z,mlin
ff3d4ff1d2b6ae939c4f7973b98e03e380f4753f,Mike Lin,mlin@mlin.net,unifier: tighten ordering in which minimized alt alleles are considered,2015-12-28T08:19:40Z,mlin
57d0a837d5d67c9d82d279690af0458533f1db2b,Mike Lin,mlin@mlin.net,residuals: include adjacent records for context,2015-12-26T05:55:02Z,mlin
2568fbc440f606c8b05625e06875f1709a7d93f5,Mike Lin,mlin@mlin.net,residuals: consolidate input records from the same dataset,2015-12-25T09:01:54Z,mlin
1e1d5603cb1d3c88bfc01273faeb68e6def3880c,Mike Lin,mlin@mlin.net,Fix recently missed valgrind errors,2015-12-24T18:58:15Z,mlin
8a8c049d9153830f4bfddfcf1336b63885a54b98,Mike Lin,mlin@mlin.net,"Fix valgrind

With newer versions a command-line incantation is needed to make it track the
heap properly when jemalloc is used. For some time prior to this change
the valgrind run in Travis was essentially a no-op.",2015-12-24T18:27:17Z,mlin
3cb4af1d2769cab18a365b3e37b52d6ccecab509,Mike Lin,mlin@mlin.net,"RocksDB 4.1 tuning

Compactions are significantly faster thanks to read-ahead, so we can
schedule them a bit more aggressively.",2015-12-24T10:04:18Z,mlin
d9ce935770bfcab98be0d646490f25f3d26fe351,Mike Lin,mlin@mlin.net,Tighten bcf1_t handling,2015-12-24T10:04:18Z,mlin
ef6a586a1751c7424f230f9d09d8c8bffece500b,Mike Lin,mlin@mlin.net,upgrade to RocksDB 4.1,2015-12-23T23:30:37Z,mlin
e27e01c7c7bc72b550479d907a3698ea7e8f1740,Mike Lin,mlin@mlin.net,CLI: logging adjustment,2015-12-22T09:31:03Z,mlin
6ba3fa9b1a7c6625c7cd0d79dbf0d8d694c45ffb,Mike Lin,mlin@mlin.net,Build tweaks - optimizing external projects,2015-12-22T08:37:20Z,mlin
957ae93fe152c01fd2bf6213a18feaea57e1f432,Mike Lin,mlin@mlin.net,"scan_bucket/BCFSerialize micro-optimizations

- break out of scan once past query range
- make BCFScanner stack-allocated
- macro-ize bounds checking",2015-12-22T08:37:20Z,mlin
3614d8674e958026c718124d9b5e9fb7884f992b,Mike Lin,mlin@mlin.net,dxapplet: fix up perf profiling,2015-12-21T19:19:33Z,mlin
02293a6346386d58fa5e0c19ed938cf98bce4d77,Mike Lin,mlin@mlin.net,Add KeyValue::flush() for a little extra error checking safety at the completion of bulk load,2015-12-20T01:06:07Z,mlin
ab687ef5e0b612d81c317d62280cfb5794c6179f,yifei-men,ymen@dnanexus.com,"Genotyper v1 - join records / find representative records.

This is a squash merge for genotyper v1 feature. The complete commit history can be found in the corresponding PR (#55).

Genotyper v1 is an improvement upon the previous placeholder genotyper algorithm. In particular, it makes 2 main change, which are predicate upon unifier v1 implementation:

1. Allow unification lookup (in translate_genotype) for records that do not span the exact range as the unified_site; relax REF lookup to any record that overlaps unified_site.

2. Manage unified_sites that has multiple records overlapping with it. We handle the following 2 cases:
  - When all records are gvcf confidence records, we interpret the site as REF
  - When only 1 record is a variant record, we take this as the ""representative record"" used fot translate_genotype.

Added additional gvcf_test_cases tests (join_records*.yml) for testing of the above changes, and to support filtering of depth in cases where reference padding is implicated.",2015-12-14T23:49:08Z,N/A
532ec086e85301f7c7c9828fd5f6777a4c7066b2,Mike Lin,mlin@mlin.net,valgrind suppress Memcheck:Cond in jemalloc,2015-12-11T16:49:44Z,mlin
a846ef66d6b3cc355376393624868dcd087b0c5a,Mike Lin,mlin@mlin.net,CLI/dxapplet: control database bucket size,2015-12-11T16:06:58Z,mlin
2d8ac5eeeed1dabe84487ce999d29b6846988214,Mike Lin,mlin@mlin.net,"Build tweaks
- switch to upstream htslib 1.2.1
- set g++ -march=ivybridge everywhere
- switch back to ivy bridge instance types
- set g++ -O3
- enable valgrind suppression generation",2015-12-11T08:38:37Z,mlin
ebfa9385e2a5f7a4eaa218fe17dbe930e44b3318,Mike Lin,mlin@mlin.net,CLI: controllable thread pool size in load,2015-12-08T07:07:18Z,mlin
df1ee1739a3012d3260443050b28cdca1b7871e7,Mike Lin,mlin@mlin.net,Update README.md,2015-12-07T01:05:26Z,mlin
2fa5df83076bab70e21832eccb8a22bfd1ff0385,Mike Lin,mlin@mlin.net,Service: provide a simple capability to abort in-progress operations.,2015-12-06T07:32:13Z,mlin
cc49483376a6dc6bc7e29484b1848fe6dbcb2909,Mike Lin,mlin@mlin.net,dxapplet: simplify runtime dependencies,2015-12-06T05:23:23Z,mlin
cd55c2f1ede4580d6569a592ad79a263c1377706,Mike Lin,mlin@mlin.net,Service configurable thread pool size,2015-12-06T05:23:04Z,mlin
18ca5d94d05b0a360dc785e9b2fb59815eed5eda,Mike Lin,mlin@mlin.net,"BCFKeyValueData: validate data set names, sample names, and sample set names on ingestion

Refactor string validation in general",2015-12-05T21:32:44Z,mlin
e2731e4c59780ad63d26389a5fec29bb589ee1e1,Mike Lin,mlin@mlin.net,pin version of Catch,2015-12-05T09:31:51Z,mlin
17c2b473972d8c3d2c7f4a24083d3e5092224f80,Mike Lin,mlin@mlin.net,"Merge pull request #52 from dnanexus-rnd/mlin-unifier-max-alleles

unifier: max alleles per site setting",2015-12-03T23:12:36Z,mlin
b0c171d43d1ec3cc487cef1ec053f1a53ab69bf6,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #54 from dnanexus-rnd/enable_applet_residuals

Making the applet able to create residual files",2015-12-03T23:09:21Z,orodeh
32430e17c67e7c79596b33aeab316e691f5a64df,Ohad Rodeh,orodeh@dnanexus.com,code review fix,2015-12-03T23:07:15Z,orodeh
39dfb91848f22a6977ff68f72cd2a44b5337c261,Mike Lin,mlin@mlin.net,Suppress excessive compiler warnings due to use of deprecated auto_ptr in yaml-cpp,2015-12-03T22:43:50Z,mlin
5513b53d4708c2f71cc28fda2ae328772b2193de,yifei-men,ymen@dnanexus.com,Add test with no limit on alleles,2015-12-03T22:43:50Z,N/A
4458044ed2f38b23eeab0d764379175b30c832f0,Mike Lin,mlin@mlin.net,Add unifier_config::max_alleles_per_site,2015-12-03T22:43:50Z,mlin
c4838834c2da11b4654eeb57ef63e6e56d5984ec,Mike Lin,mlin@mlin.net,add unifier_config,2015-12-03T22:43:50Z,mlin
7b17f274dd2f45f62bd8b79d4c9817b439afac68,Mike Lin,mlin@mlin.net,Move genotyper_config into types.h,2015-12-03T22:43:50Z,mlin
0d6e2fb17e996ac525f2ac063e9f02b3f8580145,Ohad Rodeh,orodeh@dnanexus.com,Making the applet able to create residual files,2015-12-03T19:06:41Z,orodeh
90f29cd6fd9468fb68e687778bb2449076444fef,Ohad Rodeh,orodeh@dnanexus.com,Adding an option to generate a residuals file. This includes detailed information about all the cases where we lost calls.,2015-12-03T17:41:24Z,orodeh
7135fc285faacdc5b9df2e6442b24ff51cc75dae,Mike Lin,mlin@mlin.net,"Use Travis build matrix to parallelize Debug/Coverage/Release builds

Unfortunately each one has to compile RocksDB, perhaps this can be improved
in the future. Also, valgrind errors will now fail the build.",2015-12-02T20:25:48Z,mlin
b0edc570e8c1827e1458c2580586d369d777961f,Mike Lin,mlin@mlin.net,"Change default instance types to ones with Haswell cores.

Evading some incompatibilties with the Travis build environment.",2015-12-02T07:06:51Z,mlin
4d495881a341e8d9b7a97ff9894b569663f9f879,Mike Lin,mlin@mlin.net,"BCFKeyValueData bugfixes

- During load, BCF records were not being unpacked prior to sanity checking
- sample_count was not being updated correctly for multi-sample datasets
- improved some error messages.",2015-12-02T00:02:19Z,mlin
cf24f7d9fa61bf4c544c6c18fd0828267fda1f61,Mike Lin,mlin@mlin.net,"Merge pull request #49 from dnanexus-rnd/ymen-prep-for-genotype-v1

Liftover tests in preparations for genotyper v1",2015-12-01T20:46:55Z,mlin
c464b4f351053afc7d11fbd5dcecae825407b17a,yifei-men,ymen@dnanexus.com,"Liftover preparations for genotyper v1

Lifted over majority of test cases in services.cc to gvcf_test_case format for easier test amendments after genoytper v1 changes.

Some test cases were retained in services.cc due to lack of support in current gvcf_test_case setup (e.g. loss tracking).

Bug fix for depth-helper.",2015-12-01T20:06:28Z,N/A
0b694e8ddc49f3a385527e7cd7583d1b787affca,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #47 from dnanexus-rnd/orodeh_gvcf_ingest_validation

Adding sanity tests to check the validity of the gVCF data",2015-11-23T14:18:15Z,orodeh
9e37768138c8ba27d20e5bedc7fd74b27180bed0,Mike Lin,mlin@mlin.net,discovered_alleles YAML conversions,2015-11-22T09:41:21Z,mlin
4d75ec68f20ac8d4e4fc0fb6980ee6582d348140,Mike Lin,mlin@mlin.net,"Merge pull request #46 from dnanexus-rnd/mlin-allele-unifier-v1

Unifier V1",2015-11-21T00:41:13Z,mlin
fa0d63183c494772bde9ef6c13e874b5d2715787,Mike Lin,mlin@mlin.net,"Merge pull request #48 from dnanexus-rnd/ymen_genotyper_add_yml_tests

Add test cases for joining records in a variety of scenarios",2015-11-21T00:21:58Z,mlin
d3d3f1e7eaf73070f90df05d82adbb0efd2454bc,yifei-men,ymen@dnanexus.com,Edit yml test cases to be left-aligned,2015-11-19T23:54:16Z,N/A
477b962ba61ba43a39dbd8a159522e710e5349e3,Ohad Rodeh,orodeh@dnanexus.com,"Fixing tests, because they now perform stricter checks on imported gVCF files",2015-11-19T22:40:22Z,orodeh
433bfe6f07f0d29d830485338cfb246159229563,yifei-men,ymen@dnanexus.com,Add test cases for joining records in a variety of scenarios,2015-11-19T00:35:34Z,N/A
ce2a6bf06c047e7111f70f5bcd1dff962f194d05,Ohad Rodeh,orodeh@dnanexus.com,"Addressing code review, and adding test cases",2015-11-18T14:08:51Z,orodeh
dff87c53c2ba2bdf6904c23398715eb8444d8e0c,Ohad Rodeh,orodeh@dnanexus.com,Addressing code review comments,2015-11-18T00:10:47Z,orodeh
b854d076fa82a4fbfe3bcace8bd944c35f13861e,Ohad Rodeh,orodeh@dnanexus.com,Adding sanity tests to check the validity of the gVCF data,2015-11-17T00:24:47Z,orodeh
8571997d057716fcbb2e2b254402425d6aa52288,Mike Lin,mlin@mlin.net,"Automatically launch medium tests on DNAnexus

Push any desired revision to the ""medium-tests"" branch. This will cause
Travis to launch medium tests in a designated project on DNAnexus. We
don't wait for them to complete, though, due to the Travis build time
limit. You have to look in the project to see what happened.",2015-11-16T03:20:23Z,mlin
62309488bc82458e855fb2a9e51cd99e4d47c980,Mike Lin,mlin@mlin.net,"harmonize allele unifier v1 with placeholder genotyper, and the existing tests",2015-11-14T00:01:38Z,mlin
f0a7302fd73589ee25513daa72fc0df410f70ec1,Mike Lin,mlin@mlin.net,"Fix or temporarily disable tests broken by introducing unifier V1
without corresponding genotyper support.",2015-11-14T00:01:38Z,mlin
91ef1fdf08d7b61c84258da9793147863414690d,Mike Lin,mlin@mlin.net,"unifier: zero out the ref observation count for now.
It's problematic because the observation counts in discovered_alleles
omit nearly all homozygous ref genotypes -- since gVCF reference
confidence records are ignored.",2015-11-14T00:01:38Z,mlin
cdc86eba587b6748162f7646c724a85877255921,Mike Lin,mlin@mlin.net,unifier V1,2015-11-14T00:01:38Z,mlin
73eb0ba40bbe31757f2fd2aa130e2d4815cb604d,Mike Lin,mlin@mlin.net,add valgrind suppressions,2015-11-14T00:00:22Z,mlin
ea8c621d0698d73c4b94aa87ac9dbb4a622288de,Mike Lin,mlin@mlin.net,"Merge pull request #45 from dnanexus-rnd/mlin-unification-tests-1109

unification test case adjustments",2015-11-11T18:51:33Z,mlin
4124bf09ec2cb2ba7c831a081286d940043a1de6,Mike Lin,mlin@mlin.net,unified_site: include unification in comparison operators; refactor YAML reader and add writer,2015-11-11T18:34:42Z,mlin
0aedaa5d477f4910a6ddbf4acef66246a40e4f08,Mike Lin,mlin@mlin.net,Fix up join_vcf unification. Both reference alleles needed; VCF and YAML ranges are fully closed (beg and end are both inclusive).,2015-11-11T18:34:42Z,mlin
29cf45f9d602c8c9169c981ea02c1d25f3706d34,Mike Lin,mlin@mlin.net,inconsistent_trim test case: add two alleles back in,2015-11-11T18:34:42Z,mlin
227bce05b61299d574a23ccb554b3e1e35b39277,Mike Lin,mlin@mlin.net,CLI load: cut out early if nothing to do,2015-11-09T22:04:13Z,mlin
189d57c8213970cd6a45ad9eef67979be444acd0,yifei-men,ymen@dnanexus.com,"YAML based unit test for gvcf based examples

Unit case for full suite of GLnexus services (discovery, unification and genotyping) with a single YAML file input. YAML file contains: input gvcf(s); ""truth"" unified sites and ""truth"" vcf output.

Currently, the test cases do not assert on accuracy of GLnexus generated unified sites and genotyped vcf output, but only prints the output (including any differences) to stdout.

Full commit history is found in PR #41",2015-11-09T19:13:21Z,N/A
60b08491a10aa881b70d82256cc8b0dc2caaa2b5,Mike Lin,mlin@mlin.net,"Merge pull request #44 from dnanexus-rnd/mlin-sample-count

BCFKeyValueData metadata features: creating new sample sets, maintaining sample count",2015-11-05T18:03:41Z,mlin
3adec10406c5a1740aa135f885bf5dbbf6f736ea,Mike Lin,mlin@mlin.net,Test sampleset_range with subsets of the samples,2015-11-05T06:10:07Z,mlin
9c69dc5b88cec0b4458a29988b9939c44bcf0a52,Mike Lin,mlin@mlin.net,"Maintain a count of all samples in the database.

BCFKeyValueData::sampleset_range heuristically falls back on the
repeated point lookup strategy if the query sample set includes
fewer than 10% of the samples in the database.",2015-11-05T05:37:31Z,mlin
d083e24a27951fa6c86e315403b4aca90be814ae,Mike Lin,mlin@mlin.net,Add BCFKeyValueData::new_sampleset method to create a new sample set,2015-11-05T04:40:18Z,mlin
c11ec71b3afa4119d5e1baa86032bd3664b51b48,Mike Lin,mlin@mlin.net,"Merge pull request #43 from dnanexus-rnd/orodeh-profiling

Profiling updates",2015-11-04T17:54:37Z,mlin
9f8334d097a9559b5bdf1ba9959d3c0eac7091de,Ohad Rodeh,orodeh@dnanexus.com,WIP,2015-11-03T22:57:44Z,orodeh
253322e0fe2370ab4b81a8fdb42e8cf75dd528e4,Ohad Rodeh,orodeh@dnanexus.com,"Improving range checks, and testing, for BCF records.",2015-11-03T22:53:21Z,orodeh
bcce1d1e98abadce099e695bf3f651eee7377658,Ohad Rodeh,orodeh@dnanexus.com,"Zero copy bucket scanning

Instead of unpacking all the BCF records in a bucket, unpack only the ones
in the relevant range. Also:
1. Getting rid of the BCFReader class, we are using the BCFScanner class instead.
2. Adding range checks, to check correct memory access.",2015-11-03T17:02:15Z,orodeh
65acca68308834b1edc76475182b76dc49b8e874,Mike Lin,mlin@mlin.net,.travis.yml: use trusty cmake,2015-11-02T22:17:11Z,mlin
6b08522eee85b83be287cc616fcb05f98da59cea,Mike Lin,mlin@mlin.net,"Merge pull request #37 from dnanexus-rnd/mlin-unified-site-yaml-parser

unified_site YAML parser",2015-11-02T22:16:55Z,mlin
0eeb88c54757b7babe7c245893fb6a456f0399b9,Mike Lin,mlin@mlin.net,"Merge pull request #39 from dnanexus-rnd/mlin-RocksKeyValue-prefix

RocksKeyValue: use prefix extractor with BCFKeyValueData to speed up lookups",2015-11-02T21:37:58Z,mlin
df947356f16ba24b1a7d3bad7debb43284c16ada,Mike Lin,mlin@mlin.net,unified_site YAML parser,2015-11-01T07:29:46Z,mlin
0abdada617d27e8c1327b23be70e39ebf26ba6e4,Mike Lin,mlin@mlin.net,Travis CI tweaks: use new trusty-based build environment; reduce noise from apt and valgrind installation,2015-11-01T07:26:30Z,mlin
4dfd56f563ea08bc41d63f8bab0e4a1a4bb82f4d,Mike Lin,mlin@mlin.net,"refactor unified_site::unification type. Realized we can use allele, slightly more elegant.",2015-11-01T07:18:52Z,mlin
ec7c99fae420d639ffa154ecfa47f516072013fa,Mike Lin,mlin@mlin.net,RocksKeyValue: use prefix extractor with BCFKeyValueData to speed up lookups,2015-10-31T08:04:26Z,mlin
7f8fb5191ce9cca51c0f40499a7c5e4d701d4cb2,Mike Lin,mlin@mlin.net,gcc 5.2 compatibility fixup,2015-10-31T07:39:18Z,mlin
6b1b5dc9364850ef19ac010aff4e6c53f2ce7f04,Mike Lin,mlin@mlin.net,CLI iter_compare cleanup in light of sampleset memoization,2015-10-31T07:12:45Z,mlin
b50466de2c5ae14ba2b2a01c28d6f25a50a5fc51,Mike Lin,mlin@mlin.net,"Merge pull request #36 from dnanexus-rnd/mlin-memoize-all-samples-sampleset

Memoize the ""all samples"" sample set",2015-10-31T03:09:06Z,mlin
82495e756181e3471016d0b0b392680c2a7ec775,Ohad Rodeh,orodeh@dnanexus.com,"Adding an option to the CLI to run a randomized test comparing the two BCF iterators.

Unifying code for the unit-tests and the cli. Limiting the test code, so that it does not go above a memory limit.",2015-10-30T18:45:48Z,orodeh
9370c6f61068e70ad6733e3da0aa7748e866366c,Mike Lin,mlin@mlin.net,BCFKeyValueData::sampleset_range: seek directly to the first dataset. Also some renaming and cleanup of BCFBucketRange.,2015-10-30T06:40:04Z,mlin
25662b5a493d9bbed8329f45a8d0b9f74f9a09fb,Ohad Rodeh,orodeh@dnanexus.com,"Adding a randomized test that compares the two BCF iterator
implementations",2015-10-29T20:29:48Z,orodeh
6bcc9918413578c5954ef3e48bc2d844cc25a89b,Mike Lin,mlin@mlin.net,Update CLI to take advantage of * sample set memoization,2015-10-28T06:58:41Z,mlin
4874b7100d098330ec0e9679e2926be6ea033d72,Mike Lin,mlin@mlin.net,BCFKeyValueData: memoize all_samples_sampleset based on the * sample set version number,2015-10-28T06:58:41Z,mlin
9ad6caf2202857cd3aa845cffd9d8e124c7fe18b,Mike Lin,mlin@mlin.net,BCFKeyValueData: maintain a version number for the * sample set,2015-10-28T06:57:17Z,mlin
6d47a8543e36b0d04dddd0ae0b35097f072eb8a9,Mike Lin,mlin@mlin.net,KeyValue::Iterator: reduce buffer copying during iteration,2015-10-28T06:45:42Z,mlin
0f40a4879d615b05b917f35cbf904c1485a5ffdf,Mike Lin,mlin@mlin.net,"discover_alleles: separate the alleles discovered in multiple ranges.

Since these ranges are generally disjoint, no compression is obtained
from combining them.",2015-10-27T22:48:41Z,mlin
7b3e4cc966f21ff8cf24ddcd83f97597632f5339,Mike Lin,mlin@mlin.net,CLI: optionally delete gVCF after successful load,2015-10-27T21:15:27Z,mlin
565bb4f489414ec9d12a5c2b255bfea0c225543e,Mike Lin,mlin@mlin.net,RocksKeyValue: switch to universal compaction for both normal and bulk-load operations,2015-10-27T21:14:29Z,mlin
e9a730dce396a57a9cbb98bb13d7ab18ac1dca58,Mike Lin,mlin@mlin.net,RocksKeyValue: perform BULK_LOAD using external mergesort,2015-10-27T21:11:35Z,mlin
86afe549804698a784f3cfe58cabeaf875dc12e6,Mike Lin,mlin@mlin.net,CLI: log the git revision,2015-10-24T23:00:05Z,mlin
e3884feeae83a55d029bc3ecd99e2c2e15186a5b,Mike Lin,mlin@mlin.net,Service tests: add quasi-random simulation of I/O errors,2015-10-23T06:31:44Z,mlin
4827bd2d3e02e6168a71e054542b7956e03a1a58,Mike Lin,mlin@mlin.net,Service::genotype_sites: eliminate memory quasi-leak,2015-10-23T00:24:54Z,mlin
92ae4ef447cd29ac949f078ef7c1744183e8c3f9,Mike Lin,mlin@mlin.net,CLI: simplify & accept BED file of ranges for genotyping,2015-10-23T00:24:01Z,mlin
cfbf29092f96c81480111c0c309a9e22f26f93b7,Mike Lin,mlin@mlin.net,discover_alleles: add a higher-level driver for discovering alleles in many small ranges (e.g. exome target capture regions),2015-10-20T04:57:38Z,mlin
bf92901bec81e56f66339086b55e7f7dbbc83177,Mike Lin,mlin@mlin.net,"discover_alleles: exclude alleles dangling off the edges of the target range. They could interact with other unseen alleles, so we can't safely reason about the genotypes of sites including the danglers.",2015-10-19T23:09:33Z,mlin
47957d4d680971ce464d71c584350b5985b7258a,Mike Lin,mlin@mlin.net,genotyper_config.h => service_config.h,2015-10-19T22:07:27Z,mlin
ddf03a30737edad7d0316d3421a51d95452728a0,Mike Lin,mlin@mlin.net,"Merge pull request #31 from dnanexus-rnd/mlin-sampleset-range

BCFData::sampleset_range operation for more efficient slicing",2015-10-19T17:27:14Z,mlin
134f9dc4bc65682bc27893b68c252e042c7dcadb,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #32 from dnanexus-rnd/performance_profiling

Performance profiling",2015-10-19T15:53:47Z,orodeh
d8cfca3bbfcece9455d7e0de430542d3c91f8c08,Ohad Rodeh,orodeh@dnanexus.com,"Adding the option to do performance profiling with flame graphs.

The makefile now supports compilation with the PROFILE option. These
are compilation flags that leave enough information in the object code
to allow figuring out stack traces. The applet has a new flag
""enable_perf"" that installs profiling tools, and returns profiling
data in its output.",2015-10-19T15:41:30Z,orodeh
44087d2b9a2c3b3cdd1a099a351b8e2a387d0a1c,Mike Lin,mlin@mlin.net,add a test of unification involving multiple contigs,2015-10-19T04:08:17Z,mlin
c8a9ced907098080ed86a53d3988be1578e0293f,Mike Lin,mlin@mlin.net,refactor BCFKeyValueData::sampleset_range to use the new KeyValue::Iterator interface,2015-10-17T20:26:59Z,mlin
28ffaa9df77a00593933116ab8bc2944897029a8,Mike Lin,mlin@mlin.net,"sampleset_range code review improvements

- refactored bucket key prefix logic
- deleted an unnecessary line
- wrapped some long lines
- improved several comments",2015-10-17T20:26:59Z,mlin
0a7a51d0c81f0876786fd795bcf8cf74c9e285a8,Mike Lin,mlin@mlin.net,BCFKeyValueData::sampleset_range implementation based on the underlying bucket storage.,2015-10-17T20:26:59Z,mlin
1d034c3699c7db2cca655b409dd8950afa9728f3,Mike Lin,mlin@mlin.net,Adapt genotyper to use BCFData::sampleset_range,2015-10-17T20:26:59Z,mlin
7b2d9851f0489497c8be624fe36279a721e6325d,Mike Lin,mlin@mlin.net,Add BCFData::sampleset_range to facilitate parallelized database scanning in discover_alleles.,2015-10-17T20:26:59Z,mlin
917be52c78bbdbd14542762b6e885c74c98cbd6d,Mike Lin,mlin@mlin.net,"Merge pull request #33 from dnanexus-rnd/mlin-KeyValue-Iterator

Refactor KeyValue::Iterator to enable ""peek"" operations.",2015-10-17T20:24:04Z,mlin
1a17ca03ba4fa4288ed132cec9ec06334029f82b,Mike Lin,mlin@mlin.net,Consolidate KeyValue::iterator methods for simplicity,2015-10-17T02:03:26Z,mlin
7f0457a1a60ce5b9d6cb46d1694ac216eea0677f,Mike Lin,mlin@mlin.net,"Refactor KeyValue::Iterator to enable ""peek"" operations.",2015-10-17T01:05:57Z,mlin
f65611176406453b247727ea3761c7e18931ec92,Mike Lin,mlin@mlin.net,more BCFKeyValueData error handling fixups,2015-10-13T13:14:24Z,mlin
2eef850e6765ea78bec8f71ac9683576bd0bf477,Mike Lin,mlin@mlin.net,BCFKeyValueData error handling fixups,2015-10-13T12:10:12Z,mlin
6fb2a0a8b4a472f4978a5f0e9b6d4695ad5d92dc,Mike Lin,mlin@mlin.net,CLI: truncate query range at end of contig,2015-10-12T00:42:40Z,mlin
02958b0be2bf3609eef2acb58cbf4331ba181789,Mike Lin,mlin@mlin.net,CLI: add spdlog logging during genotyping,2015-10-11T19:58:06Z,mlin
0072253b4930e9321b16c149ac0ca7c5d84f1e63,Mike Lin,mlin@mlin.net,Temporarily revert BCF bucket cache pending more perf profiling,2015-10-11T05:05:59Z,mlin
1a4381ab610ea09fbaf1f660edbfda920ab6d146,Mike Lin,mlin@mlin.net,BCFBucketCache: set 6 cache shard bits,2015-10-11T04:40:02Z,mlin
1fb7325a86c6d11aa28759128ea2616cbfcc755e,Mike Lin,mlin@mlin.net,CLI: option to take in an existing database tarball,2015-10-10T04:23:57Z,mlin
16d10343cb9ba820657b872a0d52e0bd0d7c86a2,Mike Lin,mlin@mlin.net,CLI: control BCF cache size during genotyping,2015-10-10T03:23:01Z,mlin
e147a88e9a5a3435bf29bd08eb95b2b39ae05334,Mike Lin,mlin@mlin.net,"Merge pull request #30 from dnanexus-rnd/mlin-fix-unification-model

unified_site::unification specifies the full reference range",2015-10-09T21:36:06Z,mlin
c9f2ced6be3f86f71f8beadaf5145cc08e2bb058,Mike Lin,mlin@mlin.net,"unified_site::unification specifies the full reference range rather than just the begin coordinate.

Necessary to represent indel alleles unambiguously.",2015-10-09T20:35:35Z,mlin
a3f4c27222dd2f27931cbaa73ee99aca3d1a45b9,Mike Lin,mlin@mlin.net,minor fix to Service::discover_alleles error handling,2015-10-09T18:24:30Z,mlin
58d4da60cd9c7ed09290dc2caf693c75638f35c8,Mike Lin,mlin@mlin.net,travis: segfault backtraces,2015-10-09T18:24:30Z,mlin
41f3456ec2750b7628fec1e92797d2ed85270010,Mike Lin,mlin@mlin.net,Service::genotype_sites: factor out plumbing for BCF output,2015-10-09T18:24:30Z,mlin
ca382a0a4784d540ad24983c31b4b58826970e7a,Ohad Rodeh,orodeh@dnanexus.com,"LRU caching of in-memory bcf1_t buckets

Implementation reuses RocksDB's thread-safe LRU cache implementation.",2015-10-09T18:09:11Z,orodeh
d168b304595047ea7efc565b337789f49dd307cf,Mike Lin,mlin@mlin.net,"Merge pull request #28 from dnanexus-rnd/translate-genotype-REF-check

In translate_genotypes, check for changes in REF allele.",2015-10-09T15:12:08Z,mlin
f8423658633a934bdb8e28055bc45d44171887c8,yifei-men,ymen@dnanexus.com,Batch typo correction for misplaced bracket in bcf_gt_allele asserts,2015-10-08T21:26:18Z,N/A
9f6763761479917b48c4483ec7a48fcb19c26d97,Mike Lin,mlin@mlin.net,"Merge pull request #29 from dnanexus-rnd/allow-N-ref

Quick Patch: Accept N as a valid base for alleles",2015-10-08T19:39:59Z,mlin
cae055b953b13ccafe61c78006826644b01fe14f,yifei-men,ymen@dnanexus.com,"In translate_genotypes, check for changes in REF allele.

In cases where the REF allele in the unified site differs from the original input (g)vcf, the ALT allele, when taken at face value, may have different meanings. This commit checks for changes in the REF allele and in the cases where the REF differs, all ALT calls in the original (g)vcf is deemed to be untranslatable and are genotyped as no-calls.",2015-10-07T23:46:22Z,N/A
4562088ee747500d16c37c09dcac54859f39bf24,yifei-men,ymen@dnanexus.com,Accept N as a valid base for REF,2015-10-07T00:06:01Z,N/A
a4ec63b6f33aa821ee9cbbe3d1be786f2ed80452,Mike Lin,mlin@mlin.net,"Merge pull request #26 from dnanexus-rnd/mlin-metadata-cache

memoization for BCF headers and metadata",2015-10-05T15:05:41Z,mlin
70b957e7fb7d8f77ce5b5a7b69fee3cb9d579adf,Mike Lin,mlin@mlin.net,"htslib_behaviors: add a test of the assumption that once a bcf1_t has been unpacked, accessor functions do not mutate the in-memory representation of bcf1_t (and therefore are hopefully thread-safe)",2015-10-03T23:24:37Z,mlin
52b8338ab5b4b612c3bb905ff5e08dbe5bf2b3b0,Mike Lin,mlin@mlin.net,"use FCMM to memoize MetadataCache::{sampleset_samples,sample_dataset,sampleset_datasets}",2015-10-03T22:51:29Z,mlin
296ca1333dc416f7dcdf99687ea0a335be658ba9,Mike Lin,mlin@mlin.net,memoize BCF headers using a concurrent hash map (FCMM),2015-10-03T22:51:29Z,mlin
2f5ff223cd65d0649d70d3d896675330564928c4,Mike Lin,mlin@mlin.net,"alleles.{h,cc} => unifier.{h,cc}",2015-10-03T06:56:58Z,mlin
409851399602dcb6d41e3fe520b7bdb8d5e5f486,Mike Lin,mlin@mlin.net,improved allele pruning algorithm,2015-10-03T06:13:58Z,mlin
c97664cdab3ca9a361c4a3f4922f3f5fe47f4286,Mike Lin,mlin@mlin.net,"Merge pull request #24 from dnanexus-rnd/mlin-genotyper-rnc

genotyper: distinguish reason for no-call in output VCF",2015-10-02T21:58:54Z,mlin
fc0ad8cde92f4cc830f0999f5f74f91b4aeb00dd,Mike Lin,mlin@mlin.net,"Merge pull request #22 from dnanexus-rnd/mlin-sampleset-consistency

Change the way all-samples sample set works.",2015-10-01T23:39:15Z,mlin
7c23910b9d976786b263e0007c2e4cb230b8c539,Mike Lin,mlin@mlin.net,"genotyper: distinguish reason for no-call in output VCF.

Each output genotype has an RNC FORMAT field explaining the reason for a no-call: . (N/A, allele was called), (M)issing data, (L)ost/unrepresentable allele.",2015-09-30T20:57:31Z,mlin
f2dfbbf670905a85ce282b364b3af32f006f0533,Mike Lin,mlin@mlin.net,"Change the way all-samples sample set works. Instead of a mutable * sample set,
Metadata provides a method to return the name of an immutable sample set with
all currently available samples. It creates a new one if necessary.",2015-09-29T22:27:11Z,mlin
d7fb741a9ac393e6e5a244d8d4c136a9f445d4a8,Mike Lin,mlin@mlin.net,bulk load tuning,2015-09-29T18:42:32Z,mlin
804c1668cb142043ac579699733bd8debcc282dc,Mike Lin,mlin@mlin.net,CLI: turn off console loss reporting when there are >= 100 samples,2015-09-29T06:19:10Z,mlin
993023ff72c5baeb21614bfbc2d1aceb17357be0,Mike Lin,mlin@mlin.net,"Merge loss accounting and parallelization feature branches

Conflicts:
	src/service.cc",2015-09-28T20:48:02Z,mlin
a47ee453757ec56f0e4f044acb6f48c219484dc9,Mike Lin,mlin@mlin.net,"Add gvcf_multiplier utility applet to create a large fake set of gVCFs. It takes an
input set of gVCF and reheaders them in a round-robin fashion with different sample
names. Add ingestion of tarballs of such fake sets into the CLI, and a little
RocksDB tuning from playing around with that.",2015-09-28T20:35:26Z,mlin
79bb7cc1a9c2ac88c05945440b15028ae7f706de,Mike Lin,mlin@mlin.net,"Fix some leaks discovered from adding valgrind to CI
(though errors don't yet fail the Travis build -- need to track down or
suppress some issues with malloc_usable_size in RocksDB)",2015-09-28T20:35:26Z,mlin
b7d98a8fa1340f963ad4c08873ad0d0f1bca1fe4,Mike Lin,mlin@mlin.net,RocksKeyValue: support read-only and bulk-load modes with different performance characteristics,2015-09-28T20:35:26Z,mlin
82b9700f7ffa459efdcc11ed918b7b7b3cf98f01,yifei-men,ymen@dnanexus.com,"Squashed commit of loss accounting and reporting feature.

Original commits in PR #21.
Add loss accounting logic to genotype_sites with accompanying data structure and tests. Loss is computed based on no-calls in the output vcf and loss attributed to original gvcf records is reported in addition to overall loss. Loss is conveyed to the users via stderr printing in CLI's main genotyping service.",2015-09-28T18:55:33Z,N/A
e586b68dba979fbacd24fe0fe8a15a61eb37955a,Mike Lin,mlin@mlin.net,"Parallelize CLI load, and RocksDB tuning",2015-09-23T00:03:31Z,mlin
bc4d85313b1ba86b415647918dcc3fc98c919619,Mike Lin,mlin@mlin.net,discover_alleles: only produce alleles with at least one (hard) call in one of the designated samples,2015-09-23T00:03:31Z,mlin
2e25573bcc091bae6777d84f1f98015ef02935da,Mike Lin,mlin@mlin.net,Parallelize Service::discover_alleles on the thread pool,2015-09-23T00:03:31Z,mlin
683dad0d1692f3296e6264f447f9f75757b8a106,Mike Lin,mlin@mlin.net,Parallelize Service::genotype_sites on a thread pool,2015-09-23T00:03:30Z,mlin
de571c7683eae5b02a71c760bf01fcbf59eae3df,Mike Lin,mlin@mlin.net,BCKeyValueData range query stats accounting bugfix,2015-09-22T23:55:11Z,mlin
57622109e86dc6522a1bc9cee35042693ae7d2a7,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #20 from dnanexus-rnd/measure_read_amp

Measure read amp",2015-09-22T20:14:49Z,orodeh
d9e5f49320d0f04419e185c0e80348ea0cca18c8,Ohad Rodeh,orodeh@dnanexus.com,Measuring read amplification incurred during range queries. This involves a counter structure maintained at the database level.,2015-09-22T15:01:06Z,orodeh
3171a943ad736131deac4496f316a681564a74e1,Mike Lin,mlin@mlin.net,Service pImpl,2015-09-22T05:30:17Z,mlin
4d0a3433f526c1e87daa94f75fe9a8626abd09b9,Mike Lin,mlin@mlin.net,.travis.yml: add second compilation in Release mode. This is not redundant because some warnings we set to errors are detected only when the compiler is optimizing.,2015-09-22T05:30:17Z,mlin
856c987f0e46143f36dccbff90b895eb1d0f3731,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #19 from dnanexus-rnd/import_gvcf_thread_safety

Import gvcf thread safety",2015-09-21T21:06:15Z,orodeh
13fa30d322146d363e3f3beed398c210bb220030,Ohad Rodeh,orodeh@dnanexus.com,"Multi-threaded gvcf import. Adding a test for concurrent import/query.
Giving names to lock guards, otherwise, no locking takes place. Use assert instead of
REQUIRE in multi-threaded tests. This is because REQUIRE is not thread-safe.
Update list of prerequisite apt packages.",2015-09-21T16:15:23Z,orodeh
792b445fa32be203ffa4f9f561e64036ce028a44,Mike Lin,mlin@mlin.net,CLI: fix final BCF concatenation and add detailed utilization logging,2015-09-19T19:33:58Z,mlin
ab2000876ecf59fdcc6d2ae8006979710ee011b4,Mike Lin,mlin@mlin.net,docfixes,2015-09-18T00:14:15Z,mlin
80d31115b178a59a93ff66d77706d69949dfb17c,Mike Lin,mlin@mlin.net,g++ warning adjustments,2015-09-15T22:36:25Z,mlin
4a1f5df1d6ebb65deca3bfe60becd9eb3a06178c,Mike Lin,mlin@mlin.net,"Merge pull request #18 from dnanexus-rnd/mlin-refactor-datacache-again

Refactor DataCache again",2015-09-14T02:52:23Z,mlin
fb82d51211be991cbb6de407c6b6b5935bd34788,Mike Lin,mlin@mlin.net,BCFKeyValueData: hide a couple implementation-specific functions,2015-09-13T03:24:17Z,mlin
0dc80272a7ce1103ba94134bc848de2277671824,Mike Lin,mlin@mlin.net,"Refactor DataCache again.

Divide the Data interface into Metadata and BCFData. Metadata can be cached in a generic way by MetadataCache, but Data caching is implementation-specific. This separation simplifies and explicates situations where BCFData implementations depend on the MetadataCache, even though BCFKeyValueData simply itself implements both Metadata and BCFData for now.

Misc function renaming and pointers to references.",2015-09-13T03:13:50Z,mlin
4bf8ad6c333147abec5d9fae82be343c74993410,Mike Lin,mlin@mlin.net,set g++ -fdiagnostics-color=auto,2015-09-13T02:54:45Z,mlin
cc6251259b10b6f2eff5d013846d5100dc3efff7,Mike Lin,mlin@mlin.net,add an applet wrapper for glnexus_cli,2015-09-12T05:32:33Z,mlin
6f10700c01ddee59e212acc8aa6e92da8533dff2,Mike Lin,mlin@mlin.net,cli: add a subcommand to dump gVCF records overlapping a given range,2015-09-11T06:27:49Z,mlin
b49b9e3ff1bce24e37c5ebae5a16e7f9a863898c,Mike Lin,mlin@mlin.net,minor RocksDB tuning,2015-09-11T00:40:31Z,mlin
c19d4884d19ac73cb238ddbb90fe010f9f0f56cf,Mike Lin,mlin@mlin.net,"Merge pull request #16 from dnanexus-rnd/mlin-rocksdb-upgrade

RocksDB: bump version, set LZ4 compression, harmonize options",2015-09-10T20:01:02Z,mlin
c2ad2fceb224f3e579971c8f3d98c1a6ae2ede89,Mike Lin,mlin@mlin.net,"RocksDB: bump version, set LZ4 compression, harmonize options",2015-09-10T07:27:47Z,mlin
498d2715590471df9bb71c23fd894488804d2e14,Mike Lin,mlin@mlin.net,"Merge pull request #15 from dnanexus-rnd/mlin-milestone1-cli

Crude command-line interface for milestone 1",2015-09-09T21:47:04Z,mlin
b536d2075543d9687525ab9362d1bd5e1cffb18a,Mike Lin,mlin@mlin.net,"Add crude CLI with init, load, genotype functions",2015-09-09T21:31:38Z,mlin
a8c28aa8db4bc484ddf91b142b1f58e8905b9db2,Mike Lin,mlin@mlin.net,BCFKeyValueData::import_gvcf: automatically maintain * sample set,2015-09-09T21:31:38Z,mlin
3c729bd83c997dc0eeb782442c9fb6cd4ad28284,Mike Lin,mlin@mlin.net,BCFKeyValueData::import_gvcf: ensure uniqueness of data set and samples (not thread-safe),2015-09-09T21:02:34Z,mlin
8fed5915f14eba20aef583ec8ea22dbafda89f30,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #12 from dnanexus-rnd/genomic_range_buckets

Genomic range buckets",2015-09-09T20:19:23Z,orodeh
8df5533902654396e47673eb40bae4d7af4b1401,Ohad Rodeh,orodeh@dnanexus.com,Splitting buckets into genomic ranges.,2015-09-09T20:14:19Z,orodeh
7b96f208ac2e29abe11d3f8048c3370c932667e7,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #14 from dnanexus-rnd/mlin-rockskeyvalue

RocksKeyValue: separate Initialize and Open functions and some misc error handling",2015-09-08T16:01:47Z,orodeh
a57f7163271faae2d0eb636c3119f4df6f7a30fd,Mike Lin,mlin@mlin.net,"RocksKeyValue: separate Initialize and Open functions,
where Open auto-detects existing column families.
Surface RocksDB errors more accurately.",2015-09-07T18:51:56Z,mlin
5e2e552c8d69653b55a27781467dedff46a5b511,Mike Lin,mlin@mlin.net,"eliminate redundant Service::sampleset_datasets, which was also implemented in DataCache",2015-09-05T00:54:12Z,mlin
fb7a9d3521f4d0885f92f76ba0c238d257943a34,Mike Lin,mlin@mlin.net,"Merge pull request #13 from dnanexus-rnd/mlin-simplify-range_of_bcf

Simplify range_of_bcf by taking advantage of bcf1_t::rlen",2015-09-04T05:47:06Z,mlin
1d67bd706280b79aae6ccc6b567212910beb70d6,Mike Lin,mlin@mlin.net,"Simplify range_of_bcf by taking advantage of bcf1_t::rlen, which htslib sets
to END if available upon parsing. This lets us switch from a function that
can potentially fail to a convenient constructor from a bcf1_t. For added
safety, we sanity-check the END field and bcf1_t::rlen upon initial
ingestion into the database (BCFKeyValueData::import_gvcf).",2015-09-04T05:34:15Z,mlin
fda7e3dd605b083b7291b8418a8b65e9770abba2,Mike Lin,mlin@mlin.net,range.str(): switch to one-based closed interval when rendering a range as a string. cf http://genome.ucsc.edu/FAQ/FAQtracks.html#tracks1,2015-09-03T07:14:22Z,mlin
18ddc4bc3dbc2aee1e06979852114d30eec7122c,Ohad Rodeh,orodeh@dnanexus.com,Splitting a dataset into a chromosome per bucket,2015-09-02T20:26:57Z,orodeh
d0f3dde3c17bc68e571bf46d851cda31bb3c8407,Mike Lin,mlin@mlin.net,"Merge pull request #11 from dnanexus-rnd/mlin-placeholder-gvcf-genotyper

Add minimum depth of coverage to placeholder genotyper",2015-08-26T00:35:34Z,mlin
558af8c7f159a40652010231f05563e4b3831b78,Mike Lin,mlin@mlin.net,minor genotyper refactoring,2015-08-26T00:10:23Z,mlin
a25c7ce84943e47d2591bfb49a883806ec0d4c6f,Mike Lin,mlin@mlin.net,genotyper: add a minimum depth of coverage to use a call,2015-08-22T16:49:12Z,mlin
91bf7430039667c3d04a8eb4f8063928ee1f55d4,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #10 from dnanexus-rnd/mlin-range-bcf-end

Build GLnexus::range from bcf1_t using the END INFO field if present.",2015-08-20T22:15:59Z,orodeh
7337a3d7360772d2894aaf58b7ad9676c435b8ee,Ohad Rodeh,orodeh@users.noreply.github.com,"Merge pull request #9 from dnanexus-rnd/mlin-bcfreader-refactor

BCFReader minor robustness refactoring",2015-08-20T21:45:56Z,orodeh
f8ac6978ff78b225aec8f449646f49c2b8651368,Mike Lin,mlin@mlin.net,Build GLnexus::range from bcf1_t using the END INFO field if present.,2015-08-20T21:08:03Z,mlin
e1f49ded32c217ac1282fca4170496390ef52f12,Mike Lin,mlin@mlin.net,Update README.md,2015-08-20T21:03:53Z,mlin
91f8cba9b4f54a3fa123f265a3393315e78a260e,Mike Lin,mlin@mlin.net,BCFReader minor robustness refactoring,2015-08-20T20:57:18Z,mlin
973acf24eab407d4e18b0d6227033dc97946d8ae,Mike Lin,mlin@mlin.net,htslib_behaviors.cc: slightly elaborate on END retrieval,2015-08-20T06:47:10Z,mlin
76efb32706d27fa909d2d157406032878290eb50,Mike Lin,mlin@mlin.net,Service::discover_alleles: exclude <NON_REF> and other symbolic alleles,2015-08-18T06:49:58Z,mlin
5a720f5c1f2bb5811a7e2beb69d7432bb490b89c,Mike Lin,mlin@mlin.net,genotyper: permit ref calls when gVCF ref allele fully contains the unified site,2015-08-18T00:31:57Z,mlin
ed28cd3a1d31af5cd8a24e47bf315a5936943277,Mike Lin,mlin@mlin.net,stylistic refactoring of discovered_alleles,2015-08-18T00:31:57Z,mlin
7f87fb138b11f0279ca44b67f1303b5f29559f3e,Mike Lin,mlin@mlin.net,"Merge pull request #8 from dnanexus-rnd/ubcf_cleanup

Moving to uncompressed BCF format for values in the KV-store.",2015-08-13T22:50:54Z,mlin
02db73de46350d808cc0deb5bf279f8e2bdd2a72,Ohad Rodeh,orodeh@dnanexus.com,Moving to uncompressed BCF format for values in the KV-store.,2015-08-13T19:17:37Z,orodeh
a2d6a26f901b8f05bccef8496ff97f7312232345,Mike Lin,mlin@mlin.net,"Merge pull request #5 from dnanexus-rnd/delineation-unification-placeholders-v2

Placeholder algorithm (v2) for allele unification",2015-08-11T18:49:24Z,mlin
9809423a2fec36a607bf980fead7bd04b2a0353a,Mike Lin,mlin@mlin.net,"Placeholder algorithm (v2) for allele unification

Site delineation is pretty far along. The pruning heuristic could be improved, and there's no phase set notion.

The unification placeholder avoids the need for reference padding by pruning any alleles covering a different reference range than the most common alt allele.",2015-07-30T06:57:18Z,mlin
8e104a552f2ac5cdfd0fb456bab413006aae7411,Mike Lin,mlin@mlin.net,"Update README.md

Add coveralls.io badge",2015-07-28T07:21:24Z,mlin
aa6d8e752338f98c47f83e6159168144c4138b1d,Mike Lin,mlin@mlin.net,Test coverage reporting with gcov and coveralls.io,2015-07-28T06:51:27Z,mlin
85611fa46c6552273fbd57d673cfdcae3ffb985c,Mike Lin,mlin@mlin.net,move external projects out of main source directories,2015-07-28T06:51:26Z,mlin
b8c738c9e5a15e4256c9e0dd4b561e6852a86bc6,Mike Lin,mlin@mlin.net,"Update README.md

Show build status for master branch",2015-07-25T07:42:32Z,mlin
12c9ba35d0d5a5762ce5d79c20b629873ae7c890,Mike Lin,mlin@mlin.net,slight simplifications to build dependencies,2015-07-25T01:47:54Z,mlin
047f2aec7f0ae1dd6bfe4bfc900dbec2af9c647f,Mike Lin,mlin@mlin.net,"Merge pull request #4 from dnanexus-rnd/doxygen-documentation

Adding Doxygen documentation to GLnexus",2015-07-24T23:32:34Z,mlin
02380668eca691035f84f3d5ee9f188a105ce7ef,yifei-men,ymen@dnanexus.com,"publish doxygen documentation only for master branch

Additionally, clean up and move before_install and after_success steps into bash scripts in .travis folder",2015-07-24T21:21:33Z,N/A
bf2039b0c79245c3689aae01f46ec8b9d8955a1d,yifei-men,ymen@dnanexus.com,Add dev docs site to README,2015-07-24T21:15:55Z,N/A
eb3a0dda402bd88dd1cfc49dfeba903a4e0a199d,yifei-men,ymen@dnanexus.com,"Amend .travis.yml file to do doc building and publishing.

Add after-success chunk to take care of doxygen documentation building and publishing into the gh-pages branch of the repo. Currently uses explicit calls to doxygen -- next step to integrate doc building as a cmake target. Currently uses encrypted version of Yifei""s github credentials for purposes of committing and pushing changes.",2015-07-24T21:15:55Z,N/A
616f4fc9adf21bb4ef0c7eccaaee8334f3c8fdc2,yifei-men,ymen@dnanexus.com,"add Doxygen config file

The Doxygen config file is set to parse documentation in the /, /src and /include folders, and output a html documentation into the /html folder",2015-07-23T16:56:13Z,N/A
eb47ec62877b58b308a3b7647b0be70e4b8f6e7a,yifei-men,ymen@dnanexus.com,add /html folder for storing doxygen docs to gitignore,2015-07-23T16:30:34Z,N/A
6704d57f57d0593aa7fe294a46e467fd487a7e98,Mike Lin,mlin@mlin.net,"Merge pull request #3 from dnanexus-rnd/rocksdb-key-value

RocksDB KeyValue implementation",2015-07-20T22:47:07Z,mlin
4acac306a43f5365808bc126ba9199cc75f1ff4f,Ohad Rodeh,orodeh@dnanexus.com,Adding a continuous build yml file,2015-07-20T21:52:56Z,orodeh
ae38418744736e7e714b69d3c896bf68af2aef45,Ohad Rodeh,orodeh@dnanexus.com,Adding a virtual destructor for the KeyValue::DB type,2015-07-20T21:52:45Z,orodeh
fd9d5a5d6368c7c70de066ec62364c59a7260c9e,Ohad Rodeh,orodeh@dnanexus.com,Minimal header file for the Rocksdb key-value store.,2015-07-20T21:52:35Z,orodeh
bd920dcd2322064f3e704bccf6d72f503ffc0173,Ohad Rodeh,orodeh@dnanexus.com,"cleanup, moving htslib work into a separate fork",2015-07-20T21:52:35Z,orodeh
24ddd998b850d1f7045efe8f18fd3e803bf60b83,Mike Lin,mlin@mlin.net,"Eliminate use of templates in KeyValue class hierarchy. Complexity was spiralling out of control for marginal gain in type safety.

Move memory-backed KeyValue implementation into unit tests where it belongs; enabled by elimination of templates.",2015-07-20T21:51:58Z,mlin
0ebedc7cabed5f7aeede894ff03b3cc654dd8eb7,Ohad Rodeh,orodeh@dnanexus.com,Support for a RocksDB backend,2015-07-20T21:51:37Z,orodeh
527c820cfee524f64313bd6681cefa81e20cfd56,Mike Lin,mlin@mlin.net,Update types.h,2015-07-12T23:03:03Z,mlin
120d4ed1c9707b7884a846773b844d4a7d98e8f4,Mike Lin,mlin@mlin.net,Update README.md,2015-07-12T22:22:19Z,mlin
437e94c4f97f7f5d8c0dc330fd8b49c6e873c312,Mike Lin,mlin@mlin.net,Update README.md,2015-07-12T22:20:25Z,mlin
8c2a6fd75e14d58abf896aaa5a91b1504eaf90fd,Mike Lin,mlin@mlin.net,"Merge pull request #2 from dnanexus-rnd/add-travis-ci

Add yaml file for Travis CI",2015-07-12T22:18:17Z,mlin
974ded8f2ee1d106eae7a59804d444599493d363,yifei-men,ymen@dnanexus.com,formatting changes,2015-07-10T18:02:19Z,N/A
fa2568b7303077a46455e3d2db64e1e3540de949,yifei-men,ymen@dnanexus.com,"Add .travis.yml for continuous integration and test.

Add requisite yaml file for travis ci. Note: before_install script installs Cmake (v3.3.0-rc2); GCC (v4.9) and Boost (v1.55) which are necessary for correct compilation of the project and various dependencies.",2015-07-10T17:41:45Z,N/A
c32d0c5a9066e93ac489939dce7a3400aab04c5f,Mike Lin,mlin@mlin.net,Create LICENSE,2015-07-02T06:39:38Z,mlin
e4b9c56b86befeb03c7ec08914d6aab518ff05f5,Mike Lin,mlin@mlin.net,Update README.md,2015-07-02T06:25:07Z,mlin
503881e613651543267941f6eca2b5fa2019a7cb,Mike Lin,mlin@mlin.net,Update README.md,2015-07-02T04:28:04Z,mlin
03c00250d58b0fb3f487a87d8db67de44f238147,Mike Lin,mlin@mlin.net,Update README.md,2015-06-07T17:57:18Z,mlin
e763d5d4b987c5f57ea9dd80feb913a14b61554f,Mike Lin,mlin@mlin.net,Update README.md,2015-06-07T07:37:18Z,mlin
e3366eaade0dae5a6be963eba5ad67c8f3e7553e,Mike Lin,mlin@mlin.net,placeholder BCFKeyValueData implementation,2015-06-07T04:58:44Z,mlin
85e0785687507ab7cd856e12d3a57d6744dc3b9d,Mike Lin,mlin@mlin.net,add yaml-cpp library,2015-06-05T07:35:15Z,mlin
12febfb968423f3d5f9f7ce5db44d99b2b9dff24,Mike Lin,mlin@mlin.net,add test for htslib gVCF representation,2015-06-05T06:24:32Z,mlin
108b282e554b9924059cdfbb6982e04497198fd2,Mike Lin,mlin@mlin.net,"Add test for htslib hfile_mem VCF serialization. Found a problem with BCF serialization, leaving this for future work.",2015-06-02T06:07:12Z,mlin
5780b959e01158f9a0475d99f02d2deffb52eb22,Mike Lin,mlin@mlin.net,Update README.md,2015-05-31T06:47:26Z,mlin
2975fca2f5dcbfe80b4fbce5d61ab26ebb3acb76,Mike Lin,mlin@mlin.net,Update README.md,2015-05-31T06:45:49Z,mlin
2f610678cae89e91e3416d6cc4bd1551fe9afc07,Mike Lin,mlin@mlin.net,fixup DataCache pImpl,2015-05-31T06:25:02Z,mlin
b04552b2b267291a9df870bc25f5ea86368e2fbe,Mike Lin,mlin@mlin.net,DataCache refactor,2015-05-31T03:35:57Z,mlin
bdf8ccb4a2e2c90cc90d66df25ecc84938c3a6e6,Mike Lin,mlin@mlin.net,use htslib mlin-hfile-mem branch,2015-05-30T21:34:24Z,mlin
e86251bf49bfcecf2798a29e0df1c0493a6060be,Mike Lin,mlin@mlin.net,correct htslib CMake dependency,2015-05-30T21:21:26Z,mlin
d73552c169637daac9c8d4f81e0b492f893e5bd1,Mike Lin,mlin@mlin.net,add placeholder genotyper,2015-05-16T07:33:51Z,mlin
6906c2a9bfc2f1ed15701d641c7e41c51bbc2257,Mike Lin,mlin@mlin.net,initial skeletal import,2015-05-08T07:45:26Z,mlin
42ae2c8be7a3f15f6f96700c301b6bf29ce8e604,Mike Lin,mlin@mlin.net,Initial commit,2015-04-08T05:05:05Z,mlin
