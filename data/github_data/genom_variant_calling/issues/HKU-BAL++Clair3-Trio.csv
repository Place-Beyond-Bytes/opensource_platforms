id,title,state,created_at,updated_at,closed_at,body,user,url
I_kwDOHOfty85XwKmj,3-generaton trio analysis possible?,CLOSED,2022-12-02T03:08:02Z,2023-01-29T06:32:52Z,2023-01-29T06:32:52Z,"Hi, I am toying with an idea to collect sample for a family with a condition of interest and there is 3 generation available, grandparent do not have conditon while 1 parent and 2 child has the condition. Can this kind of family structure be used effectively to identify variant?  Also I currently only identified 1 family so far, does it work with 1 family or more family is required?",Solyris83,https://github.com/HKU-BAL/Clair3-Trio/issues/1
I_kwDOHOfty85gj1XT,chr1 data,CLOSED,2023-03-11T13:36:01Z,2023-03-31T11:42:21Z,2023-03-31T11:42:21Z,"Where can I download the training data chr1 you used in Figure 5?Thank you very much！

Figure 5. Comparison of different architectures and shapes for calling variants from trios. All results were trained on chr1 and tested on chr20. ",shiying-sxu,https://github.com/HKU-BAL/Clair3-Trio/issues/2
I_kwDOHOfty85iSlsS,gVCF output option not working,CLOSED,2023-03-31T09:41:03Z,2023-04-25T11:00:48Z,2023-04-25T11:00:48Z,"Clair-trio won't output gVCF format when enabling ""--gvcf"" 

There is no printed error other than:

cat: 'test/tmp/gvcf_tmp_output/*.tmp.g.vcf': No such file or directory
FileNotFoundError: [Errno 2] No such file or directory: 'SortVcf'

Let me know if there is any other info you need. Thanks.
",biorococo,https://github.com/HKU-BAL/Clair3-Trio/issues/3
I_kwDOHOfty85jUAyR,--enable_phasing does not produce expected output,CLOSED,2023-04-13T10:57:28Z,2023-04-25T11:00:14Z,2023-04-25T11:00:13Z,When using --enable_phasing I can't see any phased SNV on my final VCF. This happens in v0.4 and v0.5.,biorococo,https://github.com/HKU-BAL/Clair3-Trio/issues/4
I_kwDOHOfty85o8kIR,Illumina models,CLOSED,2023-06-16T14:05:03Z,2023-07-10T11:03:12Z,2023-07-10T11:03:12Z,"Hi,
Really thank you for the tool. Are there any plans to add also a clair3-Trio-illumina for Illumina short reads and a pre-trained model to use clair3-Trio with Illumina long reads?",gambalab,https://github.com/HKU-BAL/Clair3-Trio/issues/5
I_kwDOHOfty85pzU6Q,non-human Trio?,CLOSED,2023-06-26T15:33:33Z,2023-07-21T16:55:45Z,2023-07-21T16:55:45Z,"Hi there,

could this be useful for non-human trio data?

Many thanks!
CW",CWYuan08,https://github.com/HKU-BAL/Clair3-Trio/issues/6
I_kwDOHOfty85qbMs5,Q20+ data（FASTQs and BAMs） need,CLOSED,2023-07-03T07:26:08Z,2023-07-03T07:34:39Z,2023-07-03T07:34:39Z,"Hello! I want to obtain Q20+ data (FASTQs and BAMs format) for experimental purposes. However, I found on the main page that almost all of them need AWS to download, is there any other way or website? Since I am a student without a VISA card, I cannot register an AWS account.
Hope to get your help",shiying-sxu,https://github.com/HKU-BAL/Clair3-Trio/issues/7
I_kwDOHOfty85q2Xr2,trainning data guppy4.2.2,CLOSED,2023-07-07T02:49:53Z,2023-08-23T06:29:33Z,2023-08-23T06:29:33Z,"I downloaded GM24385_1_Guppy_4.2.2_prom.fastq.gz according to Training Data guppy4.2.2 -- -- GM24385_5_Guppy_4.2.2_prom.fastq.gz, The coverage of BAM file obtained after merge and minimap is 72.79, but I see that the coverage of HG002 in training_data.md file is 432.38. I want to ask in the chain of https://s3-us-west-2.amazonaws.com/human-pangenomics/index.html?prefix=NHGRI_UCSC_panel/HG002/nanopore/Guppy_4.2.2/ ，Which fq files should I download?
",shiying-sxu,https://github.com/HKU-BAL/Clair3-Trio/issues/8
I_kwDOHOfty85wE8su,Exceeding walltime and no output,CLOSED,2023-09-04T13:55:21Z,2023-10-17T11:20:27Z,2023-10-17T11:20:27Z,"Hi, 
I am trying to run a Clair3-Trio analysis on a trio using the script run_clair3_trio.sh with the following options:
un_clair3_trio.sh \
  --bam_fn_c=child.bam \
  --bam_fn_p1=parent1.bam \
  --bam_fn_p2=parent2.bam \
  --output=output_dir/ \
  --ref_fn=ref.fasta \
  --threads=12 \
  --model_path_clair3=/path/to/Clair3-Trio/models/clair3_models/r941_prom_hac_g360+g422 \
  --model_path_clair3_trio=/path/to/Clair3-Trio/models/clair3_trio_models/c3t_hg002_g422 \
  --whatshap=/path/to/clair3_env/bin/whatshap \
  --include_all_ctgs \
  --enable_output_phasing \
  --enable_output_haplotagging
  
where the *bam files have been produced aligning the raw reads against my ref genome using minimap2.
However, it seems that the runtime exceeds 50 hours (which is my walltime limit). In addition, no output file have been produced.
  
Is there anyone who had the same problems? Is there any option I have to change in order to speed up the analysis or something I am actually missing?
  
Thank you for your help!
  
 
",ilenia6,https://github.com/HKU-BAL/Clair3-Trio/issues/9
I_kwDOHOfty85y6hDy,Memory error while adding --gvcf parameter,CLOSED,2023-10-05T10:23:48Z,2023-11-10T01:40:58Z,2023-11-10T01:40:58Z,"Hi, I am running Clair3-Trio on HTCondor and I am experiencing issues while ""merging variants and non-variants to GVCF"" for each chromosome, prompting both _MemoryError_  and  _OSError: [Errno 12] Cannot allocate memory_
It just pass to the next chromosome, prompting the same error and go on, until the last chromosome and then pass to the next tasks. At the end of the process, .vcfs and .bam files are correctly created (in size of GBs), meanwhile .gvcf are basically empty (size of few Mbs)

Apart from the huge walltime I did not run into issues while running the same script without the --gvcf flag, with these condor settings:
request_cpus = 16
request_memory = 128 GB

I encounter this issue with --gvcf even boosting the settings to:
request_cpus = 64
request_memory = 512 GB
So I reckon it's not a matter of lack of memory from my side.

This is an example of the error prompted:

[INFO] Pileup variants processed in chr1: 12927629
[INFO] Trio variants processed in chr1: 1722491
[INFO] Merge variants and non-variants to GVCF
Traceback (most recent call last):
  File ""/home/Clair3-Trio/trio/../clair3.py"", line 112, in <module>
    main()
  File ""/home/Clair3-Trio/trio/../clair3.py"", line 106, in main
    submodule.main()
  File ""/home/Clair3-Trio/trio/MergeVcf_Trio.py"", line 259, in main
    mergeNonVariant(args)
  File ""/home/Clair3-Trio/trio/MergeVcf_Trio.py"", line 180, in mergeNonVariant
    args.ctgEnd)
  File ""/home/Clair3-Trio/preprocess/utils.py"", line 221, in mergeCalls
    self.writeNonVarBlock(curNonVarStart, curNonVarEnd, curNonVarPos, curNonVarCall, save_writer)
  File ""/home/Clair3-Trio/preprocess/utils.py"", line 181, in writeNonVarBlock
    self._writeRightBlock(start, end, curNonVarCall, save_writer)
  File ""/home/Clair3-Trio/preprocess/utils.py"", line 164, in _writeRightBlock
    new_ref = self.readReferenceBaseAtPos(pos_cmd)
  File ""/home/Clair3-Trio/preprocess/utils.py"", line 152, in readReferenceBaseAtPos
    reader = os.popen(cmd)
  File ""/home/miniconda3/envs/clair3/lib-python/3/os.py"", line 980, in popen
    bufsize=buffering)
  File ""/home/miniconda3/envs/clair3/lib-python/3/subprocess.py"", line 744, in __init__
    restore_signals, start_new_session)
  File ""/home/miniconda3/envs/clair3/lib-python/3/subprocess.py"", line 1323, in _execute_child
    restore_signals, start_new_session, preexec_fn)
OSError: [Errno 12] Cannot allocate memory
[INFO] Pileup variants processed in chr4: 15631830
...

And this is the script I am running, I emptied the arguments by purpose:
```
home/Clair3-Trio/run_clair3_trio.sh \
  --bam_fn_c=/home/new_hg38/minimap_S2_sorted.bam \
  --bam_fn_p1=/home/new_hg38/minimap_S3_sorted.bam \
  --bam_fn_p2=home/new_hg38/minimap_S4_sorted.bam \
  --output=/home/new_trio_variants \
  --ref_fn=/home/new_hg38/hg38.fa \
  --threads=12 \
  --model_path_clair3=/home/Clair3-Trio/models/clair3_models/r941_prom_hac_g360+g422 \
  --model_path_clair3_trio=/home/Clair3-Trio/models/clair3_trio_models/c3t_hg002_g422 \
  --whatshap=/home/miniconda3/envs/clair3/bin/whatshap \
  --gvcf \
  --include_all_ctgs \
  --enable_output_phasing \
  --enable_output_haplotagging
``` 

Do someone experienced the same issue?",asvarvara,https://github.com/HKU-BAL/Clair3-Trio/issues/10
I_kwDOHOfty852ctd3,About the creating tensors for model training part,CLOSED,2023-11-10T09:23:17Z,2023-11-10T09:50:30Z,2023-11-10T09:50:30Z,"Dear author：
In the creating tensors for model training part, i see 
each tensors are generated from combination of trio samples
e.g. in the following example, we generation different combination from [10x, 30x, 60x, 80x] data from HG002 trio into
combination of (Child, Parent1, Parent2): (10x, 10x, 10x), (30x, 10x, 10x)

I trained with this example and got similar results to the paper on 10X data sets, but did not work well on 20X and above data sets. I would like to ask you what method you used in your final training to generate tensor.
Thank you！",shiying-sxu,https://github.com/HKU-BAL/Clair3-Trio/issues/11
I_kwDOHOfty8535jYR,Update of trio models,CLOSED,2023-11-27T06:27:04Z,2023-12-14T06:28:56Z,2023-12-14T06:28:56Z,"Hi,

I would like to know whether there is any plan to upload more trio models like Clair3 (rerio) in near future? Also, are the pre-trained trio models trained with Ashkenazim family samples (HG002-4) only?

Thank you.
Jimmy",jimmykhchiu,https://github.com/HKU-BAL/Clair3-Trio/issues/12
I_kwDOHOfty86B3Ezq,Where can we get the data of HG006 and HG007 for Guppy 5,OPEN,2024-03-11T09:51:20Z,2024-03-11T09:52:08Z,,,shiying-sxu,https://github.com/HKU-BAL/Clair3-Trio/issues/13
I_kwDOHOfty86EUOFI,Question about variant calling conditions,CLOSED,2024-04-02T08:30:43Z,2024-04-11T02:12:59Z,2024-04-11T02:12:59Z,"Hello, I was wondering how decisions are made for a position in the child to be phased or not. I read your paper, but found it quite difficult to understand as I'm quite new to the field of bioinformatics.

For example: I was wondering why the following 50 positions are not called in the child; which parameters are considered?

Total positions in a specific region in my multi vcf): 185
-> multivcf is merge of child, father, mother vcf's which were generated using clair3-trio
![image](https://github.com/HKU-BAL/Clair3-Trio/assets/119843490/ca73c18d-9d7f-4f5b-b67f-ffcf47b1388c)

**50 positions not called in the child:**
['chr15', '23633794', '.', 'T', 'TC', '13.67', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', '0/1:13:17:12,5:0.2941', './.:.:.:.:.']
['chr15', '23635280', '.', 'G', 'GA', '3.23', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', '1/1:3:18:9,3:0.1667', './.:.:.:.:.']
['chr15', '23635700', '.', 'C', 'CA', '3.88', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', '0/1:3:16:3,4:0.25', './.:.:.:.:.']
['chr15', '23637449', '.', 'A', 'T', '15.58', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:15:23:20,3:0.1304']
['chr15', '23640201', '.', 'G', 'A', '22.48', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:22:26:19,7:0.2692']
['chr15', '23646664', '.', 'G', 'A', '24.05', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:18:10,6:0.3333']
['chr15', '23666327', '.', 'CT', 'C', '6.03', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', '0/1:6:30:11,18:0.6', './.:.:.:.:.']
['chr15', '23667222', '.', 'A', 'AC', '6.32', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:6:16:12,2:0.125']
['chr15', '23667223', '.', 'A', 'C', '9.42', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:9:16:12,4:0.25']
['chr15', '23667225', '.', 'AAC', 'A', '1.66', 'LowQual', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:1:16:13,3:0.1875']
['chr15', '23675929', '.', 'G', 'GTA', '21.11', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:21:19:10,8:0.4211']
['chr15', '23675953', '.', 'C', 'CAT', '9.42', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:9:19:14,5:0.2632']
['chr15', '23675962', '.', 'G', 'A', '13.41', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:13:19:13,5:0.2632']
['chr15', '23676022', '.', 'A', 'G', '2.79', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:2:19:8,6:0.3158']
['chr15', '23676053', '.', 'A', 'G', '7.6', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:7:19:12,4:0.2105']
['chr15', '23676063', '.', 'A', 'ACACACATAT', '5.79', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:5:19:8,1:0.0526']
['chr15', '23676077', '.', 'C', 'T', '7.85', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:7:19:9,10:0.5263']
['chr15', '23676083', '.', 'A', 'T', '7.13', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:7:19:11,8:0.4211']
['chr15', '23676084', '.', 'A', 'T', '3.88', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:3:19:8,9:0.4737']
['chr15', '23676090', '.', 'C', 'CAT', '9.11', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:9:19:13,4:0.2105']
['chr15', '23676096', '.', 'T', 'C', '10.26', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:10:19:13,4:0.2105']
['chr15', '23676127', '.', 'T', 'C', '5.9', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:5:20:16,4:0.2']
['chr15', '23676134', '.', 'A', 'G', '7.08', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:7:20:12,4:0.2']
['chr15', '23676160', '.', 'C', 'T', '5.73', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:5:20:9,9:0.45']
['chr15', '23676163', '.', 'A', 'ATATG', '6.29', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:6:20:15,2:0.1']
['chr15', '23676171', '.', 'A', 'AT', '9.76', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:9:20:14,4:0.2']
['chr15', '23676195', '.', 'A', 'G', '7.24', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:7:20:14,3:0.15']
['chr15', '23676248', '.', 'T', 'C', '10.17', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:10:20:13,7:0.35']
['chr15', '23676270', '.', 'CAT', 'C', '11.49', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:11:20:11,9:0.45']
['chr15', '23676288', '.', 'A', 'G', '11.53', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:11:20:12,8:0.4']
['chr15', '23676359', '.', 'T', 'TATATGTG', '0', 'LowQual', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:0:20:10,6:0.3']
['chr15', '23679018', '.', 'C', 'G', '24.09', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', '0/1:24:28:12,16:0.5714', './.:.:.:.:.']
['chr15', '23679021', '.', 'G', 'A', '24.28', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:21:13,8:0.381']
['chr15', '23679039', '.', 'T', 'G', '24.08', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:20:12,8:0.4']
['chr15', '23679139', '.', 'A', 'G', '24.46', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:20:12,8:0.4']
['chr15', '23679561', '.', 'A', 'G', '22.81', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:22:20:13,6:0.3']
['chr15', '23679909', '.', 'T', 'C', '24.1', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:19:11,8:0.4211']
['chr15', '23680153', '.', 'C', 'T', '24.16', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:18:11,7:0.3889']
['chr15', '23680262', '.', 'G', 'A', '7.56', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', '0/1:5:29:23,5:0.1724', '0/1:7:19:16,3:0.1579']
['chr15', '23680525', '.', 'C', 'CA', '5.07', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', '0/1:5:29:22,4:0.1379', './.:.:.:.:.']
['chr15', '23680747', '.', 'A', 'G', '24.53', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:19:12,6:0.3158']
['chr15', '23681185', '.', 'T', 'C', '23.84', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:23:19:12,7:0.3684']
['chr15', '23681236', '.', 'G', 'T', '24.92', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:19:13,6:0.3158']
['chr15', '23681341', '.', 'G', 'GT', '6.85', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:6:19:13,6:0.3158']
['chr15', '23681491', '.', 'G', 'GAA', '4.81', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:4:20:10,2:0.1']
['chr15', '23681768', '.', 'A', 'AG', '12.36', 'LowQual', 'P', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:12:21:7,11:0.5238']
['chr15', '23682288', '.', 'G', 'T', '24.9', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:21:13,8:0.381']
['chr15', '23683947', '.', 'G', 'T', '25.63', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:25:22:13,8:0.3636']
['chr15', '23683960', '.', 'G', 'A', '23.99', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:23:22:12,9:0.4091']
['chr15', '23683973', '.', 'T', 'A', '24.3', 'PASS', 'T', 'GT:GQ:DP:AD:AF', './.:.:.:.:.', './.:.:.:.:.', '0/1:24:22:13,9:0.4091']


Kind regards

Sanché Verbeeck",SanVerb,https://github.com/HKU-BAL/Clair3-Trio/issues/14
I_kwDOHOfty86Fib7G,Presumable Installation Problem: Wall of Errors,OPEN,2024-04-12T15:33:41Z,2024-04-15T11:11:51Z,,"Hi, 
I have been trying for the last five hours to get this tool installed properly. After finally being able to run it without an immediate error, I thought the code was finally working. But I was wrong. It run for about half an hour before finishing but when I checked the output it was a very long list of errors (with lots of repetition). Here's the top:

```
[TRIO INFO] * Clir3-Trio pipeline start
[TRIO INFO] * 0 Check environment variables
[INFO] --include_all_ctgs not enabled, use chr{1..22,X,Y} and {1..22,X,Y} by default
[INFO] Call variant in contigs: chr1 chr2 chr3 chr4 chr5 chr6 chr7 chr8 chr9 chr10 chr11 chr12 chr13 chr14 chr15 chr16 chr17 chr18 chr19 chr20 chr21 chr22 chrX chrY
[INFO] Chunk number for each contig: 50 49 40 39 37 35 32 30 28 27 28 27 23 22 21 19 17 17 12 13 10 11 32 12
[TRIO INFO] * 1 call variants using pileup model
trio sample SAMPLE_C SAMPLE_P1 SAMPLE_P2
trio bam /rds/general/project/cebolalab_clinical_genomics/live/PRDM5_LSEC_ERG_KO/NanoPoreData/alignments/filtered_barcode01_mapped.sorted.bam /rds/general/project/cebolalab_clinical_genomics/live/PRDM5_LSEC_ERG_KO/NanoPoreData/alignments/filtered_barcode02_mapped.sorted.bam /rds/general/project/cebolalab_clinical_genomics/live/PRDM5_LSEC_ERG_KO/NanoPoreData/alignments/filtered_barcode03_mapped.sorted.bam
pileup threads 1
running pileup model
[INFO] Check environment variables
[INFO] --include_all_ctgs not enabled, use chr{1..22,X,Y} and {1..22,X,Y} by default
[INFO] Call variant in contigs: chr1 chr2 chr3 chr4 chr5 chr6 chr7 chr8 chr9 chr10 chr11 chr12 chr13 chr14 chr15 chr16 chr17 chr18 chr19 chr20 chr21 chr22 chrX chrY
[INFO] Chunk number for each contig: 50 49 40 39 37 35 32 30 28 27 28 27 23 22 21 19 17 17 12 13 10 11 32 12
[INFO] 1/7 Call variants using pileup model
[INFO] Delay 0 seconds before starting variant calling ...
[E::hts_parse_region] Coordinates must be > 0
[E::mpileup] fail to parse region 'chr1:-33-4979162' with /rds/general/project/cebolalab_clinical_genomics/live/PRDM5_LSEC_ERG_KO/NanoPoreData/alignments/filtered_barcode02_mapped.sorted.bam
Traceback (most recent call last):
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/bin/clair3/../clair3.py"", line 112, in <module>
    main()
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/bin/clair3/../clair3.py"", line 99, in main
    submodule = import_module(""%s.%s"" % (directory, submodule_name))
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/importlib/__init__.py"", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File ""<frozen importlib._bootstrap>"", line 994, in _gcd_import
  File ""<frozen importlib._bootstrap>"", line 971, in _find_and_load
  File ""<frozen importlib._bootstrap>"", line 955, in _find_and_load_unlocked
  File ""<frozen importlib._bootstrap>"", line 665, in _load_unlocked
  File ""<frozen importlib._bootstrap_external>"", line 678, in exec_module
  File ""<frozen importlib._bootstrap>"", line 219, in _call_with_frames_removed
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/bin/clair3/CallVariants.py"", line 5, in <module>
    import tensorflow as tf
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/tensorflow/__init__.py"", line 41, in <module>
    from tensorflow.python.tools import module_util as _module_util
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/tensorflow/python/__init__.py"", line 64, in <module>
    from tensorflow.python.framework.framework_lib import *  # pylint: disable=redefined-builtin
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/tensorflow/python/framework/framework_lib.py"", line 25, in <module>
    from tensorflow.python.framework.ops import Graph
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/tensorflow/python/framework/ops.py"", line 47, in <module>
    from tensorflow.python.eager import context
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/tensorflow/python/eager/context.py"", line 28, in <module>
    from absl import logging
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/absl/logging/__init__.py"", line 97, in <module>
    from absl import flags
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/absl/flags/__init__.py"", line 35, in <module>
    from absl.flags import _argument_parser
  File ""/rds/general/user/dpphill1/home/anaconda3/envs/clair3-trio/lib/python3.6/site-packages/absl/flags/_argument_parser.py"", line 82, in <module>
    class ArgumentParser(Generic[_T], metaclass=_ArgumentParserCache):
TypeError: metaclass conflict: the metaclass of a derived class must be a (non-strict) subclass of the metaclasses of all its bases
[INFO] Delay 4 seconds before starting variant calling ...
Traceback (most recent call last):
```

Package (for this attempt) was installed using the bioconda method. Besides the models not being preinstalled in /bin/ and having to supply them myself, I thought it looked OK. Script looks like this:


```
run_clair3_trio.sh \
  --bam_fn_c=<longpath>/filtered_barcode01_mapped.sorted.bam \
  --bam_fn_p1=<longpath>/filtered_barcode02_mapped.sorted.bam \
  --bam_fn_p2=<longpath>/filtered_barcode03_mapped.sorted.bam \
  --output=<longpath>/variantCalls/clair3 \
  --ref_fn=<longpath>/GRCh38.p14.genome.fa \
  --threads=8 \
  --model_path_clair3=<longpath>/r1041_e82_400bps_sup_v400 \
  --model_path_clair3_trio=<longpath>/c3t_hg002_dna_r1041_e82_400bps_sup 
```

Anything obvious? I'd really like to get this to work rather than switching to a different tool. 
Many thanks!
Dan",dpphill1,https://github.com/HKU-BAL/Clair3-Trio/issues/15
